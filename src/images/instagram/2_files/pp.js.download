(function(){var hf={};hf.afa=function(g,o){var k=Z.Rx[Z.oI("%|xK")];if(k==null)return"XYP";var y=g.toString(16).slice(0,4),d=y+o+"aQYRDCB";
return k(d).slice(5,17)+y.split("").reverse().join("")};hf.bF=function(){var g=Z.Rx[Z.Np("3M"+(Z.h2(26)?"]K":"fa"))];
g=g[Z.Np("]["+(!Z.h2(28)?",":"`"))];return Math.floor(g()/1e3)};hf.h2=function(g){var o=0;for(var m=0;
m<g;m++)o+=Math.random();return o/g<Math.PI/4};hf.Np=function(g){var o="";if(!hf.h2(28))g+="-3";for(var m=0;
m<g.length;m++){var k=g.charCodeAt(m);if(k<32||126<k)throw"e";o+=String.fromCharCode(32+(k-32+17+3*m)%95)}return o};
hf.oI=function(g){var o="";if(!hf.h2(28))g+="-1";for(var m=0;m<g.length;m++){var k=g.charCodeAt(m);k-=32;
k+=95e4;k-=17+3*m;k=k%95;o+=String.fromCharCode(32+k)}return o};hf.HV=hf.Np("XP");hf.HO=hf.Np("XYP");
hf.ku=hf.Np("c[Y");hf.atd=hf.Np("][`");hf.a1K=hf.Np("SU_");hf.BI=hf.Np("b^L");hf.a5F=hf.Np("61=");hf.WJ=hf.Np("Q[M_");
hf.ex=hf.Np("WQJJ");hf.y$=hf.Np("W^NL");hf.NQ=hf.Np("[[JJ");hf.a3z=hf.Np("[[PU");hf.lM=hf.Np("^\\NT");
hf.ata=hf.Np("bQUL");hf.dy=hf.Np("bQWJ");hf.s_=hf.Np("3M]K");hf.a5p=hf.Np("<M]N");hf.ip=hf.Np("][WK");
hf._w=hf.Np("P_bTF");hf.za=hf.Np("RXRIN");hf.Kt=hf.Np("b`bRH");hf.s5=hf.Np("fUMZK");hf.afb=hf.Np("Q[]ZRM");
hf.aaj=hf.Np("WQRMKT");hf.LR=hf.Np("XR[GPE");hf.a5W=hf.Np("aMWJRM");hf.afg=hf.Np("bO[OST");hf.vT=hf.Np("cM[MHT");
hf.amw=hf.Np("^Z5OQE");hf.T1=hf.Np("R[WLLRJ");hf.a2H=hf.Np("SU\\VOAV");hf.a46=hf.Np("XZMK[/C");hf._D=hf.Np("aQYRDCB");
hf.Zw=hf.Np("[[LGWILH");hf.kK=hf.Np("S[L[PEKN");hf.Od=hf.Np("aQOKURBL");hf.gr=hf.Np("aQ\\VRNP?");hf.at6=hf.Np("XZWKU(1'#");
hf.ajP=hf.Np("SQLUGE2, ");hf.akH=hf.Np("]M_OJAQII");hf.On=hf.Np("bQ]:LMBILH");hf.ahs=hf.Np("UU[YW#ECC8");
hf.oF=hf.Np("cQaZ&OKN<BE");hf.$E=hf.Np("P\\YKQD B@@5");hf.y8=hf.Np("aQVUYE B@@5");hf.n8=hf.Np("bQ]'WTOC9IE3");
hf.ayc=hf.Np("XZ\\KUT~?=CC3");hf.H5=hf.Np("R^NGWE\"F<A6<?");hf.a39=hf.Np("VQ]+OEJ?EHrGs,");hf.Ge=hf.Np("G95.WTM,<EF3><");
hf.kq=hf.Np("PPM+YEKN#=DB06*4");function dj(g){this.vX={};this.Hf=0;this.MT();if(g!=!0)window.__kb=this}dj.dj=null;
dj.prototype.MT=function(){var g=navigator.keyboard;if(g&&window.top==window.self)g.getLayoutMap().then(function(o){dj.dj=o})};
dj.prototype.a0u=function(g){var o={shiftKey:dj.d_,altKey:dj.M4,ctrlKey:dj.IQ};for(var k in o){var y=g[k],d=o[k],b=this.z(d);
if(!y&&b){for(var m=0;m<d.aw.length;m++)this.Oh(d.aw[m])}}};dj.prototype.wy=function(g){this.Hf++;this.vX[g]=!0};
dj.prototype.Oh=function(g){this.Hf--;delete this.vX[g];if(this.Hf<=0||dj.M0(g,dj.V9))this.reset()};
dj.prototype.z=function(g){for(var m=0;m<g.aw.length;m++)if(this.vX[g.aw[m]])return!0;return!1};dj.prototype.reset=function(){this.vX={};
this.Hf=0};dj.prototype.Mj=function(g){var o=this,k=o.z(dj.d_)?10:1,y=0,d=0;if(o.z(dj.D8))y=-k;else if(o.z(dj.MA))y=k;
else if(o.z(dj.Ef))d=-k;else if(o.z(dj.tu))d=k;var b=new bJ(y,d);if(g!=null){var T=new d3;T.rotate(g);
b=T.iG(b);if(Math.abs(b.x)<Math.abs(b.y))b.x=0;else b.y=0;b.x=Math.round(b.x);b.y=Math.round(b.y)}return b};
dj.prototype.Xo=function(){var g=this,o=dj.lm;for(var m=0;m<10;m++)if(g.z(o[m]))return m;return-1};dj.M0=function(g,o){return o.aw.indexOf(g)!=-1};
dj.aeL="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
dj.to=function(g){var o=g.code;if(o=="")return!1;var k=dj.M0;if(g.altKey&&!g.shiftKey&&!g.ctrlKey){var y=dj.lm.concat([dj.dk,dj.Mt,dj.Ai,dj.nL]),d=!1;
for(var m=0;m<y.length;m++)if(k(o,y[m]))return!1}return dj.aeL.indexOf(o)==-1||g.shiftKey&&(o=="F5"||o=="F6")};
dj.GR=function(g){if(typeof g=="string")return g;var o=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(g==null)return"";var k=[];for(var m=0;m<g.length;m++){var y=g[m].Zq?g[m].Zq:g[m];if(o&&g[m].X7)y=g[m].X7;
k.push(y)}if(o||k.length==1)return k.join(" + ");else{var d=k.pop();return k.join("+")+" + "+d}};dj.PE=function(g){window.__kb.MT();
var o=g.code,k=dj.dj;if(k&&k.get(o)){var y={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},d=k.get(o).toLowerCase(),b=d.charCodeAt(0);
if(97<=b&&b<=122){var T="Key"+d.toUpperCase();o=T}else if(y[d])o=y[d];return o}var y={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},d=g.key.toLowerCase(),b=d.charCodeAt(0);
if(d.length==1){if(97<=b&&b<=122){var T="Key"+d.toUpperCase();o=T}else if(y[d])o=y[d]}if(d=="control"&&o!="")o="ControlLeft";
return o};dj.Ls=0;dj.t1=function(g,o){var k=0;if(Date.now()-dj.Ls>1e3){k=o==0?100:o*10}else{if(g%10!=0)g*=10;
k=(g+o)%100}dj.Ls=Date.now();return k};dj.asS={nm:"No Touch",aw:["NoTouch"]};dj.zu={Zq:"Enter",aw:["Enter","NumpadEnter"]};
dj.d_={Zq:"Shift",X7:"\u21E7",aw:["ShiftLeft","ShiftRight"]};dj.V9={Zq:"Meta",aw:["MetaLeft","MetaRight","OSLeft","OSRight"]};
dj.IQ={Zq:"Ctrl",X7:"\u2318",aw:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
dj.M4={Zq:"Alt",X7:"\u2325",aw:["AltLeft","AltRight"]};dj.a9p={Zq:"CtrlOrAlt",aw:dj.IQ.aw.concat(dj.M4.aw)};
dj.bC={Zq:"Escape",aw:["Escape"]};dj.zY={Zq:"Space",aw:["Space"]};dj.EP={Zq:"Tab",aw:["Tab"]};dj.ZK={Zq:"Home",aw:["Home"]};
dj.agL={Zq:"End",aw:["End"]};dj.D8={Zq:"Left",aw:["ArrowLeft"]};dj.Ef={Zq:"Up",aw:["ArrowUp"]};dj.MA={Zq:"Right",aw:["ArrowRight"]};
dj.tu={Zq:"Down",aw:["ArrowDown"]};dj.dk={Zq:"+",aw:["NumpadAdd","Equal"]};dj.Mt={Zq:"-",aw:["NumpadSubtract","Minus"]};
dj.Rc={Zq:";",aw:["Semicolon"]};dj.a8W={Zq:"Dead",aw:["Dead"]};dj.ayG={Zq:"=",aw:["Equal"]};dj.uo={Zq:"Backspace",aw:["Backspace"]};
dj.aS={Zq:"Delete",aw:["Delete"]};dj.acO={Zq:"Backslash",aw:["Backslash","IntlBackslash"]};dj.axx={Zq:"Slash",aw:["NumpadDivide","Slash"]};
dj.a9o={Zq:"Backquote",aw:["Backquote"]};dj.Ai={Zq:"[",aw:["BracketLeft"]};dj.nL={Zq:"]",aw:["BracketRight"]};
dj.mG={Zq:".",aw:["Period"]};dj.Og={Zq:",",aw:["Comma"]};dj.ej={Zq:"'",aw:["Quote"]};dj.b={Zq:"A",aw:["KeyA"]};
dj.rD={Zq:"B",aw:["KeyB"]};dj.qb={Zq:"C",aw:["KeyC"]};dj.g8={Zq:"D",aw:["KeyD"]};dj.E={Zq:"E",aw:["KeyE"]};
dj.NN={Zq:"F",aw:["KeyF"]};dj.X6={Zq:"G",aw:["KeyG"]};dj.c2={Zq:"H",aw:["KeyH"]};dj.QV={Zq:"I",aw:["KeyI"]};
dj.h0={Zq:"J",aw:["KeyJ"]};dj.Oz={Zq:"K",aw:["KeyK"]};dj.hb={Zq:"L",aw:["KeyL"]};dj.xw={Zq:"M",aw:["KeyM"]};
dj.LY={Zq:"N",aw:["KeyN"]};dj.PS={Zq:"O",aw:["KeyO"]};dj.Sr={Zq:"P",aw:["KeyP"]};dj.hL={Zq:"Q",aw:["KeyQ"]};
dj.PD={Zq:"R",aw:["KeyR"]};dj.B6={Zq:"S",aw:["KeyS"]};dj.Of={Zq:"T",aw:["KeyT"]};dj.Df={Zq:"U",aw:["KeyU"]};
dj.dA={Zq:"V",aw:["KeyV"]};dj.Z_={Zq:"W",aw:["KeyW"]};dj.yW={Zq:"X",aw:["KeyX"]};dj.a5s={Zq:"Y",aw:["KeyY"]};
dj.YT={Zq:"Z",aw:["KeyZ"]};dj.EJ={Zq:"0",aw:["Numpad0","Digit0"]};dj.Xs={Zq:"1",aw:["Numpad1","Digit1"]};
dj.alH={Zq:"2",aw:["Numpad2","Digit2"]};dj.amZ={Zq:"3",aw:["Numpad3","Digit3"]};dj.an6={Zq:"4",aw:["Numpad4","Digit4"]};
dj.apz={Zq:"5",aw:["Numpad5","Digit5"]};dj.aq9={Zq:"6",aw:["Numpad6","Digit6"]};dj.af5={Zq:"7",aw:["Numpad7","Digit7"]};
dj.ats={Zq:"8",aw:["Numpad8","Digit8"]};dj.adE={Zq:"9",aw:["Numpad9","Digit9"]};dj.lm=[dj.EJ,dj.Xs,dj.alH,dj.amZ,dj.an6,dj.apz,dj.aq9,dj.af5,dj.ats,dj.adE];
dj.aix={Zq:"F1",aw:["F1"]};dj.atJ={Zq:"F2",aw:["F2"]};dj.aqH={Zq:"F3",aw:["F3"]};dj.a5d={Zq:"FF",aw:["F4"]};
dj.WQ={Zq:"F5",aw:["F5"]};dj.amB={Zq:"F6",aw:["F6"]};dj.aba={Zq:"F7",aw:["F7"]};dj.awZ={Zq:"F8",aw:["F8"]};
dj.a5g={Zq:"F9",aw:["F9"]};dj.ad7={Zq:"F10",aw:["F10"]};dj.a73={Zq:"F11",aw:["F11"]};dj.akQ={Zq:"F12",aw:["F12"]};
function d_(g){ch.call(this);this.Ll={};this.lr={};this.awm=0;this.am8={};this.$f=[];this.aha=0;this.NQ=g;
d_.jT=this}d_.a66=function(g,o){var m=0,k=d_.VB;while(m<k.length){if((o>>>m&1)==1)break;m++}if(m!=0&&d_.D4(g,[33,126])>.7)m=0;
if(o==0||k[m][1]==""){if((o&15)!=0&&d_.D4(g,[33,126])>.7)m=0;else if(o==0)m=0;else{m=0}}return k[m][1]};
d_.hK=120;d_.wS=20;d_.cols=16;d_.hY=function(g){var o=g.name.postScriptName;if(o==null)return null;return o.replace(/ /g,"-")};
d_.W3=function(g){var o=g.name,k=o.typoFamilyName,y=o.typoSubfamilyName,d=k&y,b=d?k:o.fontFamily,T=d?y:o.fontSubfamily;
if(T==null)T="Regular";var a=d_.anB,t=b.toLowerCase();for(var m=0;m<a.length;m++){if(a[m]=="roman")continue;
if(t.endsWith(" "+a[m])||t.endsWith("-"+a[m])){var j=b.length-a[m].length,e=b.slice(j);b=b.slice(0,j-1);
if(e!=""){if(T=="Regular"||T==b+" Regular")T=e;else T=e+" "+T}break}}var v="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var m=0;m<v.length;m++)if(b.startsWith(v[m])){var e=b.slice(v[m].length);b=v[m];if(e.startsWith(" ")||e.startsWith("-"))e=e.slice(1);
if(e!=""){if(T=="Regular")T=e;else T=e+" "+T}break}var L={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},H=L[d_.hY(g)];
if(H)T=H;return[b,T]};d_.prototype.aqT=function(g){var o=this.X0();for(var k in o)if(o[k][0]==g)this.xT(k)};
d_.prototype.a8n=function(){return Object.keys(this.lr).length!=0};d_.prototype.xT=function(g,o){if(this.Ll[g])return this.Ll[g];
if(this.lr[g])return null;var k=null,y=this.X0();if(y[g]!=null)k=y[g][5];if(k==null){var d=d_._D[g];
if(d==null){var b="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),T=g.toLowerCase(),a=0;
if(T.indexOf("sans")!=-1)a=0;else if(T.indexOf("serif")!=-1)a=4;var t=T.indexOf("bold")!=-1||T.indexOf("-black")!=-1,j=T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1||T.endsWith("-it");
if(t&&j)a+=3;else if(j)a+=2;else if(t)a+=1;d=b[a]}if(o!=null&&o>128)d=this.LK(o,d);if(this.am8[g]==null){this.am8[g]=1;
var e=Date.now()-this.awm>2e3?2e3:0;this.awm=Date.now();alert(g+" \u27A1 "+d,e)}return this.xT(d,o)}this.lr[g]="a";
this.NQ(k)};d_.prototype.LK=function(g,o,k){var y=this.Ll[o];if(y&&Typr.U.codeToGlyph(y,g)!=0)return o;
var d=this.X0(),b=d_.az2(g),T=b[0];if(d[o]&&(d[o][3]&T)==0){if(k)for(var m=0;m<k.length;m++){var a=k[m].Name,t=d[a];
if(t&&(t[3]&T)!=0)return a}var a=d_.VB[b[1]][4];if(d[a])return a}return o};d_.az2=function(g){var o=d_.VB,k=[0];
for(var m=0;m<o.length;m++){var y=o[m][2];for(var d=0;d<y.length;d+=2)if(y[d]<=g&&g<=y[d+1]){k[0]+=1<<m;
k.push(m)}}if(k.length==1)k.push(0);return k};d_.prototype.aar=function(){var g=this.$f,o=g[0],k=g.length-1;
alert(d9.get([22,6,0])+" "+o+(k==0?"":", ... ("+k+")")+" "+d9.get([23,0])+".",1500);this.$f=[]};d_.prototype.au6=function(g,o){if(o!=!0){this.$f.push(g.name.fullName);
clearTimeout(this.aha);this.aha=setTimeout(this.aar.bind(this),300)}var k=d_.hY(g),y=this.X0(),d=y[k],b=d_.aiI(g);
if(d==null){var T=document.createElement("canvas"),a=T.getContext("2d");T.width=d_.hK;T.height=d_.wS;
var t=d_.wS*1.2/g.head.unitsPerEm;a.translate(4,d_.wS*.9);a.scale(t,-t);a.fillStyle="#000000";var j=Typr.U.shape(g,d_.a66(g,b[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(g,j),a);a.fill();b.ap$=T.toDataURL();this.SM(b)}delete this.lr[k];
this.Ll[k]=g};d_.axU=function(){var g=d_.VB,o=[];for(var m=0;m<g.length;m++)o.push(g[m][0]);return o};
d_.VB=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
d_.aiI=function(g,o,k){var y=g.name,t=0;if(d_.hY(g)==null){console.log(g);throw"No postScriptName!"}var d=d_.VB,b=[];
for(var m=0;m<d.length;m++){var T=d[m][2],a=d[m][3];b[m]=d_.D4(g,T)>a?1:0}for(var m=0;m<b.length;m++)t+=b[m]<<m;
var j=d_.W3(g);return[j[0],j[1],d_.hY(g),t,k,o]};d_.D4=function(g,o){var k=0,y=0;for(var d=0;d<o.length;
d+=2){for(var b=o[d];b<=o[d+1];b++){var T=Typr.U.codeToGlyph(g,b);if(T==0)y++;else k++}}return k/(k+y)};
d_.a8$=function(g,o){if(g[2]<o[2])return-1;if(g[2]>o[2])return 1;return 0};d_.atC=function(g,o){if(g[5]=="fs/"+g[2]+".otf")g[5]="";
else if(g[5]=="gf/"+g[2]+".otf")g[5]="a";if(g[2]==(g[0]+"-"+g[1]).replace(/\s/g,"")){g[2]=""}else if(g[2]==g[0].replace(/\s/g,"")){g[2]="a"}if(o){if(g[0]==o[0])g[0]="";
if(g[1]==o[1])g[1]="";if(g[3]==o[3])g[3]="";if(g[4]==o[4])g[4]=""}return g.join(",")};d_.aib=function(g,o){g=g.split(",");
if(g[0]=="")g[0]=o[0];if(g[1]=="")g[1]=o[1];if(g[3]=="")g[3]=o[3];else g[3]=parseInt(g[3]);if(g[4]=="")g[4]=o[4];
else g[4]=parseInt(g[4]);if(g[2]=="")g[2]=(g[0]+"-"+g[1]).replace(/\s/g,"");else if(g[2]=="a")g[2]=g[0].replace(/\s/g,"");
if(g[5]=="")g[5]="fs/"+g[2]+".otf";else if(g[5]=="a")g[5]="gf/"+g[2]+".otf";return g};d_._D={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
d_.prototype.X0=function(){if(FNTS.map==null){var g=FNTS.list,o=[];for(var m=0;m<g.length;m++){o[m]=d_.aib(g[m],o[m-1]);
o[m].Sp=m;this.SM(o[m])}}return FNTS.map};d_.prototype.SM=function(g){var o=g[0],k=g[1],y=g[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[g[2]]=g;if(FNTS.mapFS==null)FNTS.mapFS={};var d=FNTS.mapFS[o+"---"+k];FNTS.mapFS[o+"---"+k]=g;
if(FNTS.mapSub==null)FNTS.mapSub={};var b=FNTS.mapSub[o];if(b==null)b=FNTS.mapSub[o]=[];var T=b.indexOf(k);
if(T==-1)b.push(k);else b[T]=k};d_.a4L=function(g,o){return d_.Yb(g)-d_.Yb(o)};d_.Yb=function(g){g=g.toLowerCase();
var o=d_.al5(g)+(d_.aee(g)<<1);if(g.indexOf("cond")==-1)o+=1<<25;return o};d_.al5=function(g){return g.indexOf("italic")!=-1||g.indexOf("oblique")!=-1?1:0};
d_.anB="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
d_.a32=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
d_.aee=function(g){var o=d_.a32,k=-1,y=-1;for(var m=0;m<o.length;m++){var d=o[m];if(d instanceof Array)for(var b=0;
b<d.length;b++){var T=d[b];if(g.indexOf(T)!=-1&&(k==-1||y<T.length)){k=m;y=T.length}}else if(g.indexOf(d)!=-1&&(k==-1||y<d.length)){k=m;
y=d.length}}if(k==-1)k=8;return k};d_.y_=function(g,o){var k=1e9,y=null,d=d_.Yb(o);for(var m=0;m<g.length;
m++){var b=Math.abs(d_.Yb(g[m])-d);if(b<k){k=b;y=g[m]}}return y};d_.prototype.PY=function(g,o){this.X0();
return FNTS.mapFS[g+"---"+o]};d_.prototype.$s=function(g){this.X0();return FNTS.mapSub[g]};d_.prototype.GB=function(){this.X0();
return FNTS.mapSub};var fV={JS:0,wV:null,T8:null,TZ:null,bp:null,Hy:null,WE:!0,$D:0,aZ:!1};fV.event=function(g){var o=new XMLHttpRequest;
o.open("GET","/papi/event.php?id="+g+"&rnd="+Math.random());o.send()};fV.Ld=function(){var g=fV.hA();
if(g==null)return null;var o=Z.h2(24)?" ":"",k=Z.Rx[Z.oI("Uu,"+o)];k=k[Z.oI(o+"$/")];var y=fV.qm(1,999);
if(y&&fV.NX(y)*50>k()/20)return[0,y];var d=g.inTeams;if(d)for(var m=0;m<d.length;m++)if(d[m][1]*50>k()/20)return[1,d[m]];
return null};fV.LG=function(){return fV.abr()!=null};fV.Fs=function(){return fV.NX(fV.qm(1e3,999999999))};
fV.NX=function(g){return g==null?0:g[0]+g[1]*24*60*60};fV.qm=function(g,o){var k=fV.hA(),y=k.pmnts,d=0,b=null;
if(y==null||y.length==0)return 0;for(var m=0;m<y.length;m++){var T=y[m],a=fV.NX(T);if(g<=T[2]&&T[2]<=o)if(d<a){d=a;
b=T}}return b};fV.hA=function(){return fV.Hy};fV.Iq=function(g){window.addEventListener("message",fV.ahg,!1);
setInterval(fV.Oq,5e3);if(fV.LG()&&navigator.onLine){fV.wV=g;fV.Qs()}else setTimeout(g,1)};fV.Oq=function(){if(fV.LG()&&fV.aZ){fV.QB(fV.h6());
fV.aZ=!1}};fV.Db=function(g){fV.wV=g;var o="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
fV.TZ=window.open(o,"_blank")};fV.auQ=function(){localStorage.removeItem(fV.JS+"_uid");localStorage.removeItem(fV.JS+"_provider");
localStorage.removeItem(fV.JS+"_token");fV.Hy=null};fV.ahg=function(g){if(g.data instanceof ArrayBuffer||g.data instanceof Object)return;
if(g.data.charAt(0)!="{")return;var o=JSON.parse(g.data);if(o.prms==null)return;var k=o.prms.split(",");
if(k[0]=="papi_logged_in"){localStorage[fV.JS+"_uid"]=k[1];fV.JR(k[2]);localStorage[fV.JS+"_provider"]=k[3];
fV.TZ.close();fV.Qs()}if(k[0]=="payment_complete"){fV.bp.close();fV.Qs()}};fV.abr=function(){var g=localStorage[fV.JS+"_token"];
if(g!=null&&Date.now()*.001+10<parseInt(g.split("-")[0]))return g;return null};fV.JR=function(g){var o=localStorage[fV.JS+"_token"];
if(o!=null&&parseInt(g.split("-")[0])<parseInt(o.split("-")[0]))return;localStorage[fV.JS+"_token"]=g;
clearTimeout(fV.$D);fV.$D=setTimeout(fV.a5L,Math.min(1e9,parseInt(g.split("-")[0])*1e3-Date.now()-20*1e3))};
fV.c5=function(g,o,k,y){if(!navigator.onLine)throw"a";var d=new XMLHttpRequest;d.open("POST","https://www.photopea.com/papi/record_new.php",!0);
d.onload=k;var b=fV.PC(0)+"&read=3&tuid="+g+"&tid="+o;if(y)b+="&tpl="+encodeURIComponent(y);d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.send(b)};fV.a5L=function(){if(!navigator.onLine)throw"a";var g=new XMLHttpRequest;g.open("POST","https://www.photopea.com/papi/record_new.php",!0);
g.onload=fV.ap2;var o=fV.PC(0)+"&read=2";g.setRequestHeader("Content-type","application/x-www-form-urlencoded");
g.send(o)};fV.Qs=function(){if(!navigator.onLine)throw"b";var g=new XMLHttpRequest;g.open("POST","https://www.photopea.com/papi/record_new.php",!0);
g.onload=fV.a5n;var o=fV.PC(0)+"&read=1";g.setRequestHeader("Content-type","application/x-www-form-urlencoded");
g.send(o)};fV.QB=function(g){if(!navigator.onLine)throw"c";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=fV.at5;var k=fV.PC(0)+"&read=0&score="+(g.tpl?1:0)+"&spublic="+fV.WE+"&record="+encodeURIComponent(JSON.stringify(g));
o.setRequestHeader("Content-type","application/x-www-form-urlencoded");o.send(k)};fV.a5n=function(g){var o=JSON.parse(g.target.response);
if(o.error){}else{fV.Hy=o.user;var k=fV.h6(),y=o.record;if(o.record){fV.WE=o.spublic;fV.oc(y)}else if(k)fV.QB(k)}fV.JR(o.token);
if(fV.wV){fV.wV();fV.wV=null}if(fV.T8){fV.T8();fV.T8=null}};fV.ap2=function(g){var o=JSON.parse(g.target.response);
fV.JR(o.token)};fV.at5=function(g){var o=JSON.parse(g.target.response);fV.JR(o.token);if(fV.T8)fV.Qs()};
fV.PC=function(g){return"app="+g+"&uid="+localStorage[fV.JS+"_uid"]+"&token="+localStorage[fV.JS+"_token"]};
fV.uQ=function(){return fV.h6()};fV.Xc=function(g,o){fV.oc(g);fV.aZ=!0;if(o){fV.T8=o;fV.Oq()}};fV.h6=function(){var g=localStorage[fV.JS+"_stateLocal"],o;
if(g==null)return null;try{o=JSON.parse(g)}catch(d9){return null}return o};fV.oc=function(g){var o=JSON.stringify(g);
localStorage[fV.JS+"_stateLocal"]=o};fV.order=function(g,o,k){fV.wV=k;var y="https://www.photopea.com/papi/order.php?ptype="+o+"&param="+g+"&uid="+localStorage[fV.JS+"_uid"]+"&token="+localStorage[fV.JS+"_token"];
fV.bp=window.open(y,"_blank")};fV.af7=function(g,o){fV.wV=o;var k="https://www.photopea.com/papi/insertKey.php?key="+g+"&uid="+localStorage[fV.JS+"_uid"]+"&token="+localStorage[fV.JS+"_token"];
fV.bp=window.open(k,"_blank")};var d9={};d9._c=0;d9.l6={};d9.gK=function(g){var o=LNG.tables,k=o[g];
if(k==null)k=o[0];if(typeof k=="string"){k=o[g]=d9.E$(k)}return k};d9.E$=function(g){var o=[],k=0,y=0,d=[],b=g.length;
while(y!=b){var T=g[y];if(T=="["){o.push(d);d=[];y=k=y+1}else if(T=="]"){d.push(k==y?null:g.substring(k,y));
var a=d;d=o.pop();d.push(a);y=k=y+1}else if(T==";"){if(g[y-1]!="]")d.push(k==y?null:g.substring(k,y));
y=k=y+1}else y++}return d};d9.get=function(g){if(typeof g=="string")return g;var o=typeof g[0];if(o=="number"){for(var m=1;
m<g.length;m++)if(typeof g[m]!="number"){console.log(g);throw"e"}return d9.aw5(g)}var k=d9.get(g[0]);
for(var m=1;m<g.length;m++){var y=d9.get(g[m]),d=k.indexOf("VAR"+(m-1));k=k.slice(0,d)+y+k.slice(d+4)}return k};
d9.aw5=function(g){var o=JSON.stringify(g);if(d9.l6[o]!=null)return d9.l6[o];var k=d9.gK(0),y=d9.gK(d9._c),d=d9.js(g,y);
if(d==null)d=d9.js(g,k);return d};d9.js=function(g,o){for(var m=0;m<g.length;m++){o=o[g[m]];if(o==null)return null;
else if(typeof o=="string")break}if(o instanceof Array)o=o[0];return o.split("::")[0]};d9.a8x=function(){var g=function(k,y){var d=k.code,b=y.code;
if(d=="en")return-1;if(b=="en")return 1;var T=navigator.languages,a=T.indexOf(d)!=-1,t=T.indexOf(b)!=-1;
if(a&&t)return d>b?1:-1;if(a)return-1;if(t)return 1;return d>b?1:-1},o=LNG.langs.slice(0);o.sort(g);
return o};d9.BB=function(g,o){d9._c=g;if(LNG.tables[g])o();else{var k=new XMLHttpRequest;k.open("GET","code/lang/"+g+".js");
k.onreadystatechange=function(){LNG.tables[g]=k.responseText;o()};k.send()}};d9.sT=function(g,o){for(var k=0;
k<2;k++){var y=!1;for(var m=0;m<LNG.langs.length;m++)if(LNG.langs[m].code==g){d9.BB(m,o);y=!0}if(y)break;
g=g.split("-")[0]}};d9.fX=function(){return LNG.langs[d9._c].code};d9.a1b=function(g){for(var m=0;m<g.length;
m+=2)if(g[m+1].indexOf(">")==-1)d9.l6[JSON.stringify(g[m])]=g[m+1]};d9.axj=function(g){var o=-1,k=LNG.langs;
for(var m=0;m<k.length;m++)if(k[m].code==g)o=m;return o};var hB={db:!1,xm:!1,Dk:!1};hB.xy=function(){return Z.Rx[hf.ku]!=Z.Rx[hf.ata]};
hB.zy=function(){var g=Z.Rx[hf.kK],o=g[hf.WJ],k=0,y=hf.n8,d=Z.Np("PP\\KQSB"),b=Z.Np("Y_5UDDB>idge"),T=g[hf.H5](hf.a1K);
T[y](hf.HV,d);T[y](hf.Kt,Z.Np("fUMZKyqifDIhJ0*+&$-OG?<y~>"));o[hf.$E](T);T=g[hf.a39](d);if(T==null){k=2}else{if(!o[Z.Np("R[WZDIKM")](T)){k=3}else if(Math.round(T[Z.Np("VQ](RUK>@B8p71*03m}x'")]()[hf.s5]-500)>5){k=4}o[hf.y8](T)}if(hB.xm)k=5;
if(hB.Dk)k=6;return k};hB.a5i=function(g){var o=Z.oI("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),k={method:"HEAD",mode:"no-cors"},y=new Request(o,k);
fetch(y).then(function(d){return d}).then(function(d){var b=Z.oI("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),y=new Request(b,k);
fetch(y).then(function(d){return d}).then(function(d){g(!1)}).catch(function(T){hB.xm=!0;console.clear();
g(!0)})}).catch(function(d){hB.xm=!0;console.clear();g(!0)})};hB.ar3=function(){var g=Z.Np("UU[YW#ECC8"),o=Z.Np("VQ](RUK>@B8p71*03m}x'"),k=Z.Np("WQRMKT"),y=this.akb[g][o]();
if(y[k]<4){hB.Dk=!0;this.azi(!0)}};hB.ab8=function(){var g=Z.Rx._cwY,o=Z.Rx[hf.On],k="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",y=String.fromCharCode(32);
g(Z.Np(k)+y+y+hB.zy());if(!fV.Ld())o(hB.ab8,Math.round(Math.PI*1e4))};hB.d7=function(g){var o=Z.Rx[hf.kK],k=o[hf.H5](g[0]);
for(var y in g[1]){if(y=="txt")k[hf.oF]=g[1][y];else k[hf.n8](y,g[1][y])}return k};hB.anP=function(g,o,k,y,d){Z.ew(k);
var b=Z.Rx[hf.kK],T=Z.oI(" u.$%\"86<"),a=Z.oI("!#c$,&"),t=Z.Rx[T][a],j=Z.Rx[Z.oI(" u.$%\"86<")][Z.oI("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!hB.xy()&&!hB.zy()&&t&&g*o>300*300&&!j){var e=b[Z.Np("VQ]+OEJ?EHDoD{&)l|&z")](hf.ex)[0],v=JSON.parse(Z.oI("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var m=0;m<v.length;m++){var L=hB.d7(v[v.length-1-m]);e[hf.ayc](L,e[hf.ap9])}var H=Z.oI("p}&$2a(:"),w=Z.oI("'#!}i0%+"),P=Z.oI("ps,}$\"40"),Q=Z.Rx.__cbu=hB.d7(JSON.parse(hf.Np("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
k[hf.$E](Q);Z.Rx.___ggo=function(){Z.Rx[P](hf.kq,2,function(F,E){if(E&&F[w]==!0){if(!Z.Rx[H]){Z.Rx[H]=!0;
var f=hB.ash.bind({_e:k,axf:d,head:e,GP:o});f()}}})}}else{var x=hB.arG.bind({akb:k,aub:y,ars:d,GP:o});
x();setInterval(x,3e4)}};hB.auN="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g944,~cd[ ULUJUm?HB46.-;337H\"%x07*nof+`W`U`xJSM?A98F>>B%:M'*}5</96gpj\\^VUc[[_pIS;E?^<0<FM@=D74l8d611){`aX|RIRGRj<EA>2-;-0,H\"%x07*nof+`W`U`xJSOL@;I;>:(=P*-!8?2<9jsol`[i[^ZvOYAKEdB6BLSFCJ=:r>j<77/\"fg^#XOXMXpCEGE;E;>XQ+.\"9@3wxo4i`i^i\"TVXVLVLOi4I\\69-DK>HEwy{yoyor-&^hPZTsQEQ[bURYLI\"MyKFG>1uvm2g^g\\g ZZ]ITH@>H`:=1HOB'(~Cxoxmx1kknZeYQOYCXkEH<SZMWT:74G##&q|phfp)[d_pwjgna^7b/`[[SF+,#G|s|q|5polhjhV`^uORF]dW<=4X.%.#.F\"!}y{ygqoXm!Z]QhobliEDA=?=+53J#-t~x8uiu 'yv}pmFq>ojkbU:;2V,#,!,D'xz#srnpn\\fd{UXLcj]BC:^4+4)4L/!#+{zvxvdnlUj}WZNel_ifI;=E65131~)'>v!hrl,i]iszmjqda:7";
hB.arG=function(){var g=Z.Rx[hf.kK],o=this.akb,k=this.aub,y=this.ars,d=this.GP;Z.ew(o);var b=Z.Rx[hf.oI(" u.$%\"86<")][hf.oI("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,T=y==1?1:hB.EH(d),a=JSON.parse(hf.Np(hB.auN)),t=g[hf.H5]("a");
t.textContent=hf.Np("0PhHOO@E@B8M/-9'\"0}y");t[hf.n8](hf.y$,hf.Np("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
t[hf.n8](hf.vT,hf.oI("pv${,,"));t[hf.n8](hf.Kt,hf.Np("R[UUUyTB@H6h"));if(!b)o[hf.$E](t);for(var m=0;
m<T;m++){var j=Math.random(),e=0,v=0;while(e+a[v][0]<j){e+=a[v][0];v++}if(b)v=1;var L=a[v],H=g[hf.H5](hf.HO);
H[hf.n8](hf.Kt,hf.Np("Ra[YRRvJF=?B0:_")+hf.Np(y==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
H[hf.n8](hf.BI,L[y]);if(L.length>3){var w=L[3]+L[3+y],t=g[hf.H5]("a");t[hf.n8](hf.y$,w);t[hf.n8](hf.vT,hf.oI("pv${,,"));
t[hf.$E](H);o[hf.$E](t)}else{H[hf.kq](hf.za,k,!1);o[hf.$E](H)}}};hB.EH=function(g){var o=2;if(g>=3*270+30)o=3;
if(g>=4*270+30)o=4;return o};hB.ash=function(){var g=hf.$E,o=hf.n8,k=hf.kq,y=hf._D,d=hf.Kt,b=hf.BI,T=Z.Np("P_bTF"),a=hf.oF,t=hf.LR,j=Z.Rx[hf.kK],e=hf.H5,v=hf.afg,L=j[e](v),c=0;
L[a]=Z.Np("fUWJRWj>8H2y,A*4>X8-{}px}1d^nX@RgPZd^[[43mOL0<2$2$'#1u il*(w]WgQ9K`ISkKMH:V-;-8-\"(+'9H('$hr\\_|xY_oqbNBQVw2B0OMJY;8|'ps1-fok``[wyjn,nrt2(c\"n^qsGFU");
j[hf.WJ][g](L);var L=j[e](v);L[o](b,Z.Np("W`]VVykhNKH[274)+!-vy|mwgjeo(Zc^|R\\FImFLt<4ipSWYvlHfSCVX"));
L[o](hf._w,"");j[hf.WJ][g](L);console.log("aa");var H=Z.Rx.__cbu,w=this._e,P=this.axf,Q=this.head,x=this.GP,F=Z.oI("~u*\"'/P)9ADBCrlnR]"),E=[.05,0,.95],f=Math.random();
while(E[c]<f&&c<E.length-1){f-=E[c];c++}if(c==0){console.log(0);if(!hB.db){hB.db=!0;var M=hf.oI("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),n=hf.oI("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),X=M.split(","),u=n.split(","),I=u[P==1?0:1],r=u[P==1?2:3],J=P==1?1:hB.EH(x);
for(var U=0;U<J;U++){var K=j[e](t);for(var m=0;m<X.length;m+=2)K[o](X[m+0],X[m+1]);K[o](hf.Np("SM]GoIA"),I);
K[o](d,F);w[g](K)}var i=hf.oI("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
i=i.replace("__",r);i=i.replace("--",I);var L=j[e](v);L[a]=i;w[g](L)}}else if(c==1){console.log(1);if(P==1){var z=j[e](Z.oI("u}."));
z[o](d,F);var h=j[e](Z.oI("u}."));z[g](h);h[o](Z.oI("zx"),Z.oI("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
h[o](Z.oI("t!x.1"),Z.oI("pu(y~1)?).4"));var i=Z.oI("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),L=j[e](v);
L[a]=i;h[g](L);w[g](z)}else if(P==2){var R=hB.EH(x);for(var m=0;m<R;m++){var z=j[e](Z.oI("u}."));z[o](d,F);
var h=j[e](Z.oI("u}."));z[g](h);h[o](Z.oI("zx"),Z.oI("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));h[o](Z.oI("t!x.1"),Z.oI("pu(y~1)?).4"));
var i=Z.oI("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),L=j[e](v);
L[a]=i;h[g](L);w[g](z)}}if(!hB.db){hB.db=!0;var i=Z.oI("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),L=j[e](v);
L[o](Z.oI("uu,{J$*(=F>6"),Z.oI("wu$.#"));L[a]=i;Q[g](L)}}else{console.log(2);var C=j[e](v);C[o](b,Z.oI("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
C[o](hf._w,"");Q[g](C);var G=JSON.parse(Z.oI("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),W=[G[0]];
if(P==2)W=G.slice(1,1+hB.EH(x));for(var m=0;m<W.length;m++){var h=j[e](Z.Np("SU_"));h[o](hf.HV,W[m]);
h[o](d,F);w[g](h)}}if(H)w[g](H)};var i1={Mo:-2,Ye:{expires_at:0},Z5:[]};i1.uC=function(g){if(g)i1.Z5.splice(0,0,g);
if(i1.Mo==-2){i1.Mo=-1;var o=document.createElement("script");o.src="//apis.google.com/js/client.js";
document.body.appendChild(o);o.onload=function(k){setTimeout(function(){i1.Mo=0;i1.uC()},100)}}if(i1.Mo==-1)return;
if(i1.Mo==1)return;if(i1.Ye.expires_at>Date.now()*.001+30){while(i1.Z5.length>0)i1.Z5.pop()()}else{if(i1.Mo==0)i1.Mo=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:i1.Mo==2?!1:!0},i1.ay1)})}};
i1.ay1=function(g){if(g&&!g.error){i1.Ye=g;i1.Mo=!1;i1.uC()}else if(i1.Mo==1){i1.Mo=2;i1.uC()}else alert("Error: "+g.error)};
i1.D0=function(){return"access_token="+i1.Ye.access_token+"&token_type="+i1.Ye.token_type};i1.hf=function(){return i1.Ye.token_type+" "+i1.Ye.access_token};
function bJ(g,o){if(!g)g=0;if(!o)o=0;this.x=g;this.y=o}bJ.prototype.add=function(g){return new bJ(this.x+g.x,this.y+g.y)};
bJ.prototype.clone=function(){return new bJ(this.x,this.y)};bJ.prototype.qx=function(g){this.x=g.x;this.y=g.y};
bJ.prototype.ey=function(g){return this.x==g.x&&this.y==g.y};bJ.prototype.normalize=function(g){var o=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=g/o;this.y*=g/o};bJ.prototype.offset=function(g,o){this.x+=g;this.y+=o};bJ.prototype.oU=function(g,o){this.x=g;
this.y=o};bJ.prototype.Eu=function(g){return new bJ(this.x-g.x,this.y-g.y)};bJ.YX=function(g,o){return bJ.amN(g.x,g.y,o.x,o.y)};
bJ.r9=function(g,o,k){return new bJ(g.x+k*(o.x-g.x),g.y+k*(o.y-g.y))};bJ.ab6=function(g,o){return new bJ(g*Math.cos(o),g*Math.sin(o))};
bJ.amN=function(g,o,k,y){return Math.sqrt((k-g)*(k-g)+(y-o)*(y-o))};bJ.H2={};bJ.Id={};bJ.H2.create=function(){var g=new Float32Array(4);
return g};bJ.Id.create=function(g){var o=new Float32Array(16);o[0]=o[5]=o[10]=o[15]=1;if(g)bJ.Id.set(g,o);
return o};bJ.H2.add=function(g,o,k){k[0]=g[0]+o[0];k[1]=g[1]+o[1];k[2]=g[2]+o[2];k[3]=g[3]+o[3]};bJ.H2.set=function(g,o){o[0]=g[0];
o[1]=g[1];o[2]=g[2];o[3]=g[3]};bJ.Id.set=function(g,o){o[0]=g[0];o[1]=g[1];o[2]=g[2];o[3]=g[3];o[4]=g[4];
o[5]=g[5];o[6]=g[6];o[7]=g[7];o[8]=g[8];o[9]=g[9];o[10]=g[10];o[11]=g[11];o[12]=g[12];o[13]=g[13];o[14]=g[14];
o[15]=g[15]};bJ.Id.multiply=function(g,o,k){var y=g[0],d=g[1],b=g[2],T=g[3],a=g[4],t=g[5],j=g[6],e=g[7],v=g[8],L=g[9],H=g[10],w=g[11],P=g[12],Q=g[13],x=g[14],F=g[15],E=o[0],f=o[1],c=o[2],M=o[3];
k[0]=E*y+f*a+c*v+M*P;k[1]=E*d+f*t+c*L+M*Q;k[2]=E*b+f*j+c*H+M*x;k[3]=E*T+f*e+c*w+M*F;E=o[4];f=o[5];c=o[6];
M=o[7];k[4]=E*y+f*a+c*v+M*P;k[5]=E*d+f*t+c*L+M*Q;k[6]=E*b+f*j+c*H+M*x;k[7]=E*T+f*e+c*w+M*F;E=o[8];f=o[9];
c=o[10];M=o[11];k[8]=E*y+f*a+c*v+M*P;k[9]=E*d+f*t+c*L+M*Q;k[10]=E*b+f*j+c*H+M*x;k[11]=E*T+f*e+c*w+M*F;
E=o[12];f=o[13];c=o[14];M=o[15];k[12]=E*y+f*a+c*v+M*P;k[13]=E*d+f*t+c*L+M*Q;k[14]=E*b+f*j+c*H+M*x;k[15]=E*T+f*e+c*w+M*F;
return k};bJ.Id.inverse=function(g,o){var k=g[0],y=g[1],d=g[2],b=g[3],T=g[4],a=g[5],t=g[6],j=g[7],e=g[8],v=g[9],L=g[10],H=g[11],w=g[12],P=g[13],Q=g[14],x=g[15],F=k*a-y*T,E=k*t-d*T,f=k*j-b*T,c=y*t-d*a,M=y*j-b*a,n=d*j-b*t,X=e*P-v*w,u=e*Q-L*w,I=e*x-H*w,r=v*Q-L*P,J=v*x-H*P,U=L*x-H*Q,K=F*U-E*J+f*r+c*I-M*u+n*X;
if(!K){return null}K=1/K;o[0]=(a*U-t*J+j*r)*K;o[1]=(d*J-y*U-b*r)*K;o[2]=(P*n-Q*M+x*c)*K;o[3]=(L*M-v*n-H*c)*K;
o[4]=(t*I-T*U-j*u)*K;o[5]=(k*U-d*I+b*u)*K;o[6]=(Q*f-w*n-x*E)*K;o[7]=(e*n-L*f+H*E)*K;o[8]=(T*J-a*I+j*X)*K;
o[9]=(y*I-k*J-b*X)*K;o[10]=(w*M-P*f+x*F)*K;o[11]=(v*f-e*M-H*F)*K;o[12]=(a*u-T*r-t*X)*K;o[13]=(k*r-y*u+d*X)*K;
o[14]=(P*E-w*c-Q*F)*K;o[15]=(e*c-v*E+L*F)*K;return o};bJ.Id.ak7=function(g,o,k){var y=o[0],d=o[1];k[0]=y*g[0]+d*g[4]+g[12];
k[1]=y*g[1]+d*g[5]+g[13]};bJ.Id.ajc=function(g,o,k){var y=o[0],d=o[1],b=o[2],T=o[3];k[0]=g[0]*y+g[4]*d+g[8]*b+g[12]*T;
k[1]=g[1]*y+g[5]*d+g[9]*b+g[13]*T;k[2]=g[2]*y+g[6]*d+g[10]*b+g[14]*T;k[3]=g[3]*y+g[7]*d+g[11]*b+g[15]*T};
function bd(g,o,k,y){if(!g)g=0;if(!o)o=0;if(!k)k=0;if(!y)y=0;this.x=g;this.y=o;this.m=k;this.n=y}bd.prototype.O=function(){return this.m*this.n};
bd.prototype.clone=function(){return new bd(this.x,this.y,this.m,this.n)};bd.prototype.contains=function(g,o){return g>=this.x&&g<=this.x+this.m&&(o>=this.y&&o<=this.y+this.n)};
bd.prototype.oo=function(g){return this.contains(g.x,g.y)};bd.prototype.IK=function(g){return this.x<=g.x&&this.y<=g.y&&g.x+g.m<=this.x+this.m&&g.y+g.n<=this.y+this.n};
bd.prototype.qx=function(g){this.x=g.x;this.y=g.y;this.m=g.m;this.n=g.n};bd.prototype.ey=function(g){return this.x==g.x&&this.y==g.y&&this.m==g.m&&this.n==g.n};
bd.prototype.pK=function(g,o){this.x-=g;this.y-=o;this.m+=2*g;this.n+=2*o};bd.prototype.a4A=function(g){this.pK(g.x,g.y)};
bd.prototype.Nm=function(g){var o=Math.max(this.x,g.x),k=Math.max(this.y,g.y),y=Math.min(this.x+this.m,g.x+g.m),d=Math.min(this.y+this.n,g.y+g.n);
if(y<o||d<k)return new bd;else return new bd(o,k,y-o,d-k)};bd.prototype.AM=function(g){if(g.y+g.n<this.y||g.x>this.x+this.m||g.y>this.y+this.n||g.x+g.m<this.x)return!1;
return!0};bd.prototype.on=function(){return this.m<=0||this.n<=0};bd.prototype.offset=function(g,o){this.x+=g;
this.y+=o};bd.prototype.x4=function(g){this.offset(g.x,g.y)};bd.prototype.abc=function(){this.x=this.y=this.m=this.n=0};
bd.prototype.oU=function(g,o,k,y){this.x=g;this.y=o;this.m=k;this.n=y};bd.prototype.gO=function(g){if(this.on())return g.clone();
if(g.on())return this.clone();var o=this.clone();o.a1C(g);return o};bd.L_=new Float32Array(2);bd.prototype.a1C=function(g){if(g.on())return;
if(this.on()){this.qx(g);return}this.Sn(g.x,g.y);this.Sn(g.x+g.m,g.y+g.n)};bd.prototype.Sn=function(g,o){var k=Math.min(this.x,g),y=Math.min(this.y,o);
this.m=Math.max(this.x+this.m,g)-k;this.n=Math.max(this.y+this.n,o)-y;this.x=k;this.y=y};bd.prototype.asD=function(g,o){this.x=g;
this.y=o;this.m=this.n=0};function d3(g,o,k,y,d,b){if(typeof g==="undefined"){g=1;o=0;k=0;y=1;d=0;b=0}this.Ng=g;
this.k=o;this._I=k;this.vP=y;this.ii=d;this.xF=b}d3.prototype.Va=function(){return Math.sqrt(Math.abs(this.Ng*this.vP-this.k*this._I))};
d3.prototype.a8M=function(){var g=this,o=function(k){return Math.abs(k)<1e-9?0:k};g.Ng=o(g.Ng);g.k=o(g.k);
g._I=o(g._I);g.vP=o(g.vP);g.ii=o(g.ii);g.xF=o(g.xF)};d3.prototype.iG=function(g){return new bJ(g.x*this.Ng+g.y*this._I+this.ii,g.x*this.k+g.y*this.vP+this.xF)};
d3.prototype.translate=function(g,o){this.ii+=g;this.xF+=o};d3.prototype.rotate=function(g){var o=new d3(Math.cos(g),-Math.sin(g),Math.sin(g),Math.cos(g),0,0);
this.concat(o)};d3.prototype.scale=function(g,o){var k=new d3(g,0,0,o,0,0);this.concat(k)};d3.prototype.concat=function(g){this.qx(new d3(this.Ng*g.Ng+this.k*g._I,this.Ng*g.k+this.k*g.vP,this._I*g.Ng+this.vP*g._I,this._I*g.k+this.vP*g.vP,this.ii*g.Ng+this.xF*g._I+g.ii,this.ii*g.k+this.xF*g.vP+g.xF))};
d3.prototype.TY=function(){var g=this.Ng*this.vP-this.k*this._I;this.qx(new d3(this.vP/g,-this.k/g,-this._I/g,this.Ng/g,(this._I*this.xF-this.vP*this.ii)/g,(this.k*this.ii-this.Ng*this.xF)/g))};
d3.prototype.clone=function(){return new d3(this.Ng,this.k,this._I,this.vP,this.ii,this.xF)};d3.prototype.qx=function(g){this.Ng=g.Ng;
this.k=g.k;this._I=g._I;this.vP=g.vP;this.ii=g.ii;this.xF=g.xF};function cp(){}cp.Ku={au2:["PNG","JPG","SVG","GIF","PDF"],apO:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
cp.Al=function(g,o){var k=g.memory.buffer.byteLength;if(k<o)g.memory.grow((o-k>>>16)+1)};cp.WL={_$:function(g,o){fetch(g).then(function(k){return k.arrayBuffer()}).then(function(k){var y=new Uint8Array(k),d=0,t="";
if(o){d=y.length;var b={level:9},T=pako.deflateRaw(y,b),a=UZIP.deflateRaw(y,b);console.log(d,T.length,a.length);
y=T.length<a.length?T:a}for(var m=0;m<y.length;m++)t+=String.fromCharCode(y[m]);var j=btoa(t);console.log(JSON.stringify([d,j]))})},get:function(g,o){var k=BINDB[g],y=Date.now(),d=atob(k[1]),b=d.length,T=new Uint8Array(b);
for(var m=0;m<b;m++)T[m]=d.charCodeAt(m);if(k[0]!=0){var a=new Uint8Array(k[0]);UZIP.inflateRaw(T,a);
T=a}if(o){var t=cp.tW(T.buffer);T=cp.rJ(t).pO(T.buffer)}return T}};cp.tW=function(g){if(!(g instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var o=new Uint8Array(g),k=cp.yd,y,d=0,b=o.length-1;
if(k(o,[239,187,191]))d=3;while(d<o.length&&(o[d]==9||o[d]==10||o[d]==13||o[d]==32))d++;while(b!=0&&(o[b]==9||o[b]==10||o[b]==13||o[b]==32))b--;
if(k(o,[56,66,80,83]))y="psd";if(k(o,[6,6,237,245]))y="indd";if(k(o,[68,73,67,77],128))y="dcm";if(k(o,[102,116,121,112,109,105,102,49],4)||k(o,[102,116,121,112,97,118,105,102],4))y="avif";
if(k(o,[102,116,121,112,105,115,111,109],4))y="mp4";if(k(o,[102,116,121,112,109,112,52,50],4))y="mp4";
if(k(o,[0,255,75,65]))y="afphoto";if(k(o,[120]))y="pxd";if(k(o,[80,68,78,51]))y="pdn";if(k(o,[103,105,109,112,32,120,99,102,32]))y="xcf";
if(k(o,[102,105,103,45,107,105,119,105]))y="fig";if(k(o,[137,80,78,71,13,10,26,10])){y="png";var T=8;
while(T<o.length){var a=S.q(o,T);T+=4;var t=S.lp(o,T,4);T+=4;if(t=="mkTS")y="fpng";T+=a+4}}if(k(o,[87,76]))y="cdr";
if(k(o,[82,73,70,70])){var j=gk.Qt(o),e=j.V8;if(e=="WEBP")y="webp";else if(e.slice(0,3)=="CDR")y="cdr";
else y=e}if(k(o,[70,79,82,77])||k(o,[76,73,83,84])||k(o,[67,65,84,32])){var j=j4.Qt(o),e=j.V8;if(e=="ILBM"||e=="ANIM")y="ilbm";
else y=e}if(k(o,[255,216,255]))y="jpg";if(k(o,[0,0,0,12,106,80,32,32]))y="jpg";if(k(o,[48,0,1,0],4))y="jb2";
if(k(o,[71,73,70,56]))y="gif";if(k(o,[0,0,0,2,121,102,113,76]))y="msh";if(k(o,[0,0,0,3,121,102,113,76]))y="msh";
if(k(o,[0,0,0,16]))y="atn";if(k(o,[0,1]))y="aco";if(k(o,[0,2]))y="aco";if(k(o,[65,83,69,70]))y="aco";
if([0,1].indexOf(o[1])!=-1&&[1,2,3,9,10,11].indexOf(o[2])!=-1&&[0,16,24,32].indexOf(o[7])!=-1)y="tga";
if(k(o,[0,2,56,66,83,76]))y="asl";if(k(o,[0,1,0,-1,0,2,0]))y="abr";if(k(o,[0,2,0,-1,0,2,0]))y="abr";
if(k(o,[0,6,0,1]))y="abr";if(k(o,[0,6,0,2]))y="abr";if(k(o,[0,7,0,2]))y="abr";if(k(o,[0,9,0,2]))y="abr";
if(k(o,[0,10,0,2]))y="abr";if(k(o,[56,66,70,83]))y="shc";if(k(o,[56,66,80,84]))y="pat";if(k(o,[56,66,71,82]))y="grd";
if(k(o,[71,73,77,80,32,71,114,97]))y="grd";if(k(o,[56,66,84,80]))y="tpl";if(k(o,[0,4,0,5]))y="acv";if(k(o,[99,117,115,104]))y="csh";
if(k(o,[0,1,0,0,0]))y="otf";if(k(o,[79,84,84,79]))y="otf";if(k(o,[116,116,99,102]))y="otf";if(k(o,[68,68,83,32]))y="dds";
if(k(o,[80,86,82,3]))y="pvr";if(k(o,[86,84,70,0]))y="vtf";if(k(o,[83,73,77,80]))y="fits";if((k(o,[0,0,1,0])||k(o,[0,0,2,0]))&&o[4]!=0)y="ico";
if(k(o,[66,77]))y="bmp";if(k(o,[40,0,0,0]))y="bmp";if(k(o,[80,49]))y="ppm";if(k(o,[80,50]))y="ppm";if(k(o,[80,51]))y="ppm";
if(k(o,[80,52]))y="ppm";if(k(o,[80,53]))y="ppm";if(k(o,[80,54]))y="ppm";if(k(o,[73,73,42,0]))y="tiff";
if(k(o,[77,77,0,42]))y="tiff";if(k(o,[73,73,85,0]))y="tiff";if(k(o,[70,85,74,73,70,73,76,77]))y="raf";
if(k(o,[112]))y="lif";if(k(o,[73,73,26,0]))y="ciff";if(k(o,[83,81,76,105]))y="sketch";if(k(o,[80,75])){var v=UZIP.parse(g,!0);
if(v["document.json"])y="sketch";else if(v.manifest)y="xd";else if(v["maindoc.xml"])y="kra";else if(v["content/root.dat"])y="cdr";
else y="zip"}if(k(o,[123]))y="json";if(S.q(o,0)==o.length)y="icc";if(k(o,[35]))y="icc";if(k(o,[84,73,84,76],d))y="icc";
if(k(o,[76,85,84,95],d))y="icc";if(k(o,[60,63,120,109],d)){if(S.xb(o,"<look>")!=-1)y="icc";else y="svg"}if(k(o,[255,254,60,0],d))y="svg";
if(k(o,[60,115,118,103],d))y="svg";if(k(o,[60,33,100,111],d)||k(o,[60,33,68,79],d)||k(o,[60,33,45,45],d)){if(S.xb(o,"<svg")!=-1)y="svg";
else y="html"}if(k(o,[37,33])||k(o,[197,208,211,198])){if(S.xb(o,"%AI9_PrivateDataBegin")!=-1||S.xb(o,"%AI5_BeginLayer")!=-1)y="ai";
else y="eps"}if(k(o,[37,80,68,70],d)){if(S.xb(o,"/AIMetaData ")!=-1)y="ai";else y="pdf"}else if(k(o,[10,69,79,70],b-3))y="dxf";
if(k(o,[1,0,9,0]))y="wmf";if(k(o,[215,205,198,154]))y="wmf";if(k(o,[1,0,0,0]))y="emf";if(k(o,[118,47,49,1]))y="exr";
if(k(o,[10,10,10,10]))y="jsx";if(k(o,[77,90]))y="exe";if(y==null&&_.raw.vI(o.length)!=null)return"tiff";
return y};cp.yd=function(g,o,k){if(k==null)k=0;for(var m=0;m<o.length;m++)if(o[m]!=-1&&g[k+m]!=o[m])return!1;
return!0};cp.rJ=function(g){var o={BMP:cp.a6e,CDR:cp.jX,DDS:cp.IH,EMF:cp.gc,DXF:cp.un,EPS:cp.bX,FIG:cp.rf,FPNG:cp.uf,INDD:cp.Nq,GIF:cp.Dz,ICO:cp.me,ILBM:cp.l_,FITS:cp.Vh,EXR:cp.el,JPG:cp.Rs,LIF:cp.uz,DCM:cp.ak2,PDF:cp.i2,PDN:cp.Qo,PNG:cp.pZ,PPM:cp.Dr,PSD:cp.we,PXD:cp.Xt,RAF:cp.bJ,RAW:cp.Zs,SKETCH:cp.oC,SVG:cp.ME,TGA:cp.qs,AVIF:cp.a8l,TIFF:cp.jR,VTF:cp.yo,WEBP:cp.MY,WMF:cp.tv,XCF:cp.uL,XD:cp.dN,KRA:cp.V7,EXE:cp.cU,AI:cp.YW,AFPHOTO:cp.rd,MP4:cp.agi};
return o[g.toUpperCase()]};cp.R1=function(m){var g=cp.Ku.au2,o=cp.Ku.apO,k,y=[];if(m==null)k=g.concat(o);
else k=m==0?g:o;for(var m=0;m<k.length;m++)if(cp.rJ(k[m]).p0)y.push(k[m]);return y};cp.azh=function(){var g;
function o(y){var d=y.target,b=d.width,T=d.height,a=document.createElement("canvas");a.width=b;a.height=T;
var t=a.getContext("2d");t.drawImage(d,0,0);g({MR:new bd(0,0,b,T),data:t.getImageData(0,0,b,T).data.buffer})}function k(y,d,b){g=b;
var T=document.createElement("img");T.onload=o;T.src="data:"+d+";base64,"+cp.ZE(y)}return k}();cp.qg=function(g,o,k,y,d){var b=cp.V$(g,o,k,y,d),T=cp.Kw(b);
return T.buffer};cp.Kw=function(g){var o=atob(g.split(",").pop()),k=new Uint8Array(o.length);for(var m=0;
m<o.length;m++)k[m]=o.charCodeAt(m);return k};cp.V$=function(g,o,k,y,d,b){if(!(g instanceof ArrayBuffer))throw"e";
if(y==null)y="png";if(y=="png"&&b==!0){var T=cp.rJ("PNG").p0([[g,0]],o,k);return"data:image/png;base64,"+cp.ZE(T)}var a=cp.e1;
if(a==null)a=cp.e1=document.createElement("canvas");if(a.width!=o||a.height!=k){a.width=o;a.height=k}var t=a.getContext("2d"),j=new ImageData(new Uint8ClampedArray(g,0,o*k*4),o,k);
t.putImageData(j,0,0);return a.toDataURL("image/"+y,d)};cp.ah_=function(g,o,k,y,d){if(d==null)d=0;var b="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",T="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+b+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(g==1)T+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
T+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+d+")\" xlink:href=\""+o+"\" x=\""+80*k+"\" y=\""+80*y+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var a=new Uint8Array(T.length);S.Gg(T,a,0);var t="data:image/svg+xml;base64,"+cp.ZE(a.buffer);return{Tq:t,KU:new bd(0,0,128,128),aV:new bJ(64,64)}};
cp.ZE=function(g){var o=new Uint8Array(g),k="";for(var m=0;m<o.length;m++)k+=String.fromCharCode(o[m]);
return btoa(k)};cp.akC=function(g){var o=atob(g),k=o.length,y=new Uint8Array(k);for(var m=0;m<k;m++)y[m]=o.charCodeAt(m);
return y.buffer};cp.EY=function(g){var o=[],k=[];for(var m=0;m<g.d.length;m++){var y=g.d[m];if(y.getName().slice(0,3)=="_a_"){o.push(m);
k.push(y.oa())}}return[o,k]};cp.hu=function(g,o,k,y,d,b){if(k==null)k=g.m;if(y==null)y=g.n;var T=new bd(0,0,g.m,g.n),a=new d3(k/(g.m+.001),0,0,y/(g.n+.001),0,0),j;
o=o.toUpperCase();var t=cp.rJ(o);if(t.nY){g.PJ();j=t.p0(g,k,y,d,b)}else{if(d)d=d.slice(0);var e=cp.EY(g),v=e[0],L=e[1],H=g.Q$(),w=H&&d?d.pop():!1,P=H&&!w?H[0]:null,Q=null;
if(g.Tm.length!=0){Q=[];for(var m=0;m<g.Tm.length;m++)Q.push(g.Tm[m].aq(T))}if(v.length<2){var x=cp.bE(g.PJ(),H,w,g),F;
if(k==g.m&&y==g.n)F=x.buffer;else{var E=D.C8.Zb([x,T],a);F=E.buffer.buffer;if(Q){var f=_.Q(T.O()*4);
for(var m=0;m<Q.length;m++){_.e_(Q[m],f,3);var E=D.C8.Zb([f,T],a),c=Q[m]=_.Q(E.rect.O());_.B4(E.buffer,c,3)}}}j=t.p0([[F,0,g.Qb,g.Vq,Q,P]],k,y,d)}else{var M=[];
for(var m=0;m<v.length;m++){var n=v[m],F;for(var X=0;X<v.length;X++)g.d[v[X]].qj(v[X]==n);g.Tf();g.U();
g.m5();if(k==g.m&&y==g.n)F=g.PJ().buffer.slice(0);else{var E=D.C8.Zb([g.PJ(),T],a);F=E.buffer.buffer}F=cp.bE(new Uint8Array(F),H,w,g).buffer;
var u=g.d[n].getName().split(",");M.push([F,u[1]?parseInt(u[1]):100,g.Qb,g.Vq,Q,P])}for(var m=0;m<v.length;
m++)g.d[v[m]].qj(L[m]);g.U();g.m5();if(d){var I=d.length,r=d[I-2],J=d[I-1],U=d[I-4]/100;if(U!=1)for(var m=0;
m<M.length;m++)M[m][1]=Math.round((M[m][1]==0?16:M[m][1])/U);if(r)M.reverse();if(J){var K=M.slice(1,M.length-1);
K.reverse();M=M.concat(K)}}j=t.p0(M,k,y,d)}}return j};cp.bE=function(g,o,k,y){var d=y.Ic();if(k){g=g.slice(0);
ICC.U.applyLUT(o[3],o[2],g,g)}else if(d&&y.add.fcmy==1){g=g.slice(0);ICC.U.applyLUT(d[y.add.fcmy==1?5:3],d[2],g,g)}return g};
cp.a7x=function(g,o){var k=new Uint8Array(g.data),y=new Uint8Array(o.data),d=0,b=0;for(var T=0;T<k.length;
T+=4){var a=k[T]-y[T],t=k[T+1]-y[T+1],j=k[T+2]-y[T+2],e=k[T+3]-y[T+3],v=a*a+t*t+j*j+e*e>>>2;d+=v;if(v>25)b++}var L=b/g.MR.O()<1e-4;
return L};cp.kj=function(g,o){var k=o[0].ZZ&&o[0].ZZ.startsWith("_a_"),y;if(k){var d=0,b=o.length;for(var m=0;
m<o.length-1;m++){var T=o[m],a=o[m+1],t=cp.a7x(T,a);if(t){var j=parseFloat(T.ZZ.split(",").pop()),e=parseFloat(a.ZZ.split(",").pop());
T.ZZ=T.ZZ.split(",")[0]+","+Math.round(j+e);o.splice(m+1,1);m--;d++}}if(d!=0){alert("Deleted "+d+" frames out of "+b+".");
for(var m=0;m<o.length;m++){var v=o[m],L=v.ZZ;v.ZZ="_a_frm"+m+","+L.split(",")[1]}}}var H=new dF(g+".psd"),P=new bd(0,0,1,1);
if(k){y=H.Qf();y.add.lsct=cK.TD;y.mP(g);y.HW="pass";y.b_=24;y.qj(!0);H.d.push(H.L0())}for(var m=0;m<o.length;
m++){var Q=o[m];P=P.gO(Q.MR);var x=H.Qf();x.qj(m==0);x.mP(o.length==1?"Background":"Layer "+m);if(m==0&&Q.Qb)H.Qb=Q.Qb;
if(m==0&&Q.Vq)H.Vq=Q.Vq;if(Q.ZZ)x.mP(Q.ZZ);if(Q.G7)for(var m=0;m<Q.G7.length;m++){var F=Q.G7[m],E=dF.Jl(F[0]);
E.add.vmsk.a=F[1];_.w.cs(F[1],new d3(P.m,0,0,P.n,0,0));H.p8.push(E)}if(Q.HR)H.HR=Q.HR;x.rect=Q.MR.clone();
x.buffer=new Uint8Array(Q.data);if(m==0&&Q.gR)H.Z8(Q.gR);_._7(x);H.d.push(x)}if(k)H.d.push(y);if(o[0].Tm){for(var m=0;
m<o[0].Tm.length;m++){var f=new p.GE;H.Tm.push(f);f.rect=o[0].MR.clone();f.channel=o[0].Tm[m]}}H.g=[k?H.d.length-1:0];
H.m=P.m;H.n=P.n;H.buffer=_.Q(P.O()*4);H.U();return H};cp.a6w=function(g,o,k,y,d,b,T,a){var t=new jB(N.E.L,!0);
t.G=D.C1;t.data={P:"h_stepbck"};var j={};for(var e=1;e<k.length;e++){var v=g.g.slice(0),L=cp.CZ(g,a,o,k,y,e);
j["img"+e+"."+d.toLowerCase()]=new Uint8Array(cp.hu(g,d,null,null,b,T));for(var m=0;m<L;m++)a.S(t)}return UZIP.encode(j)};
cp.CZ=function(g,o,k,y,d,b){var T=new jB(N.E.s,!0),j=0;T.data={P:N.b.Fz};var a=new jB(N.E.L,!0);a.G=D.Jn;
a.data={P:p.Fx,gj:{buffer:null,rect:null}};var t=a.data.gj;for(var e=0;e<k.length;e++){var v=k[e],L=v.trait,H=parseInt(v.docRef.slice(4,-2)),w=-1;
for(var m=0;m<g.d.length;m++)if(g.d[m].add.lyid==H)w=m;if(w==-1)continue;var P=y[0].indexOf(v.varName);
if(P==-1){alert("Column "+v.varName+" is missing");return}var Q=y[b][P],x=g.d[w];g.g=[w];if(L=="textcontent"){T.data.cg="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(Q)+";";
o.S(T);j++}if(L=="visibility"&&x.oa()+""!=Q.toLowerCase()){T.data.cg="app.activeDocument.activeLayer.visible = "+Q.toLowerCase()+";";
o.S(T);j++}if(L=="fileref"){var F=Q.split("/").pop(),f=null;for(var cy in d)if(cy.split("/").pop()==F)f=d[cy];
if(f==null){alert("Image "+F+" is missing.")}else{var c=cp.rJ(cp.tW(f.buffer)).pO(f.buffer)[0],M=c.MR,n=x.rect.m/x.rect.n,X=M.m/M.n,u=0,I=0;
if(n>X){I=x.rect.n;u=~~(I*X)}else{u=x.rect.m;I=~~(u/X)}T.data.cg="app.activeDocument.activeLayer.visible = false;";
o.S(T);j++;var r=D.C8.Zb([new Uint8Array(c.data),M],new d3(u/M.m,0,0,I/M.n,0,0));t.rect=r.rect;t.buffer=r.buffer;
r.rect.x=x.rect.x+(x.rect.m-u>>>1);r.rect.y=x.rect.y+(x.rect.n-I>>>1);o.S(a);j++}}}return j};cp.pZ={};
cp.pZ.p0=function(g,o,k,y){if(y==null)y=[100,!1,0,0,0];var d={sRGB:1,loop:y[3]};if(g[0][5]!=null){delete d.sRGB;
d.iCCP=g[0][5]}if(g[0][2]!=null){var b=Math.round(g[0][2]*(1e4/254));d.pHYs=[b,b,1]}var T=y[0],a=T==100?0:Math.max(2,Math.floor(T*5));
if(a==5)a=4;var t=[],j=[];for(var m=0;m<g.length;m++){t.push(g[m][0]);j.push(g[m][1])}var e=UPNG.encode(t,o,k,a,j,d,y[1]);
return e};cp.pZ.ao4=function(g,o,k){return UPNG.encodeLL([g],o,k,3,1,8)};cp.pZ.pO=function(g){var o=Date.now(),k=UPNG.decode(g),y=UPNG.toRGBA8(k),d=k.width,b=k.height,T=0,a=k.tabs.iCCP;
if(k.tabs.pHYs)T=Math.round(k.tabs.pHYs[0]*254/1e4);if(y.length==1)return[{MR:new bd(0,0,d,b),data:y[0],Qb:T,gR:a}];
var t=[];for(var m=0;m<y.length;m++){t.push({ZZ:"_a_frm"+m+","+k.frames[m].delay,MR:new bd(0,0,d,b),data:y[m],Qb:T,gR:a})}return t};
cp.Dr={};cp.Dr.p0=function(g,o,k,y){var d=new Uint8Array(g[0][0]),b=o*k,T=b*3,a="P6\n"+o+" "+k+"\n255\n",t=a.length,j=_.Q(t+T,!0);
for(var m=0;m<t;m++)j[m]=a.charCodeAt(m);for(var m=0;m<b;m++){var e=m*4,v=m*3+t;j[v]=d[e];j[v+1]=d[e+1];
j[v+2]=d[e+2]}return j.buffer};cp.Dr.pO=function(g){g=new Uint8Array(g);var o=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],k=0,y=String.fromCharCode(g[0])+String.fromCharCode(g[1]),d=[],b=0,T=y=="P1"||y=="P4"?2:3;
for(k=2;k<g.length;k++){var a=g[k],t=String.fromCharCode(a);if(a=="#".charCodeAt(0)){while(g[k]!="\n".charCodeAt(0))k++;
continue}var j=o.indexOf(a)!=-1;if(b==0&&!j){d.push(t);b=1;continue}if(b==1&&!j){d[d.length-1]+=t;continue}if(b==1&&j){b=0;
if(d.length==T)break;continue}}var e=parseInt(d[0]),v=parseInt(d[1]),L=e*v*4,H=y=="P1"||y=="P4"?1:255/parseInt(d[2]),w=_.Q(L);
if(y=="P1"||y=="P2"||y=="P3"){var P="",Q=0,b=0,x="#".charCodeAt(0);for(var m=k;m<g.length;m++){var a=g[m],t=String.fromCharCode(a),j=o.indexOf(a)!=-1;
if(a==x){while(g[m]!="\n".charCodeAt(0))m++}else if(b==0&&!j){P=t;b=1}else if(b==1){if(j){b=0;var F=parseInt(P);
P="";if(y=="P1"){w[Q]=w[Q+1]=w[Q+2]=(1-F)*255;w[Q+3]=255;Q+=4}if(y=="P2"){w[Q]=w[Q+1]=w[Q+2]=Math.round(F*H);
w[Q+3]=255;Q+=4}if(y=="P3"){w[Q]=Math.round(F*H);Q++;if((Q&3)==3){w[Q]=255;Q++}}}else P+=t}}}var E=e*v;
if(y=="P4")for(var f=0;f<v;f++){var c=f*8*Math.ceil(e/8);for(var M=0;M<e;M++){var m=c+M,n=g[k+1+(m>>3)];
n=n>>7-(m&7)&1;var X=f*e+M<<2;w[X]=w[X+1]=w[X+2]=(1-n)*255;w[X+3]=255}}if(y=="P5")for(var m=0;m<E;m++){var X=4*m;
w[X]=w[X+1]=w[X+2]=Math.round(g[k+1+m]*H);w[X+3]=255}if(y=="P6")for(var m=0;m<E;m++){var X=4*m,u=k+1+3*m;
w[X]=Math.round(g[u]*H);w[X+1]=Math.round(g[u+1]*H);w[X+2]=Math.round(g[u+2]*H);w[X+3]=255}return[{MR:new bd(0,0,e,v),data:w.buffer}]};
cp.IH={};cp.IH.p0=function(g,o,k,y){if(y==null)y=[!0,!0];var d=new Uint8Array(g[0][0]),b=o&3,T=k&3;if(b!=0||T!=0){var a=o+(b==0?0:4-b),t=k+(T==0?0:4-T),j=new Uint8Array(a*t*4);
_.Sm(j,4278190080);_.g1(d,new bd(0,0,o,k),j,new bd(0,0,a,t));d=j;o=a;k=t}var e=UTEX.DDS.encode(d.buffer,o,k,y);
if(!1){var v=UTEX.DDS.decode(e)[0],j=new Uint8Array(v.IG),L=0;for(var m=0;m<d.length;m++){var H=d[m]-j[m];
L+=H*H}console.log(L)}return e};cp.IH.pO=function(g){var o=UTEX.DDS.decode(g)[0];return[{MR:new bd(0,0,o.width,o.height),data:o.image}]};
cp.yo={};cp.yo.pO=function(g){var o=UTEX.VTF.decode(g).pop();return[{MR:new bd(0,0,o.width,o.height),data:o.image}]};
cp.Rs={};cp.Rs.od=null;cp.Rs.auf=function(g,o){var k=cp.Rs.od,y=g.byteLength,d=o.width,b=o.height,T=d*b,a=5e6+2*y+T*(o.progressive?Math.max(2,o.numComponents)*4+1:8),t=k.instance.exports;
cp.Al(t,a);var j=new Uint8Array(t.memory.buffer),e=t.malloc(y);j.set(new Uint8Array(g),e);var v=t.malloc(4),L=t.malloc(4),cy=t.malloc(4),H=t.stbi_load_from_memory(e,y,v,L,cy,4);
t.free(e);t.free(v,L,cy);t.free(H);var w=j.slice(H,H+T*4);return w};(function(){var g=cp.WL.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(g).then(function(o){cp.Rs.od=o})}());cp.Rs.p0=function(g,o,k,y){if(y==null)y=[85];
var d=g[0],b=new Uint8Array(d[0]);if(_.Yj(b)){var T=new Uint8Array(b.length),a=new bd(0,0,o,k);_.Sm(T,4294967295);
_.l.I3("norm",b,a,T,a,a,1);b=T}var t=new Uint8Array(cp.qg(b.buffer,o,k,"jpeg",y[0]/100));if(d[5]!=null){var j=cp.Rs.Wq(t)[226][0]+2,e=S.EN(t,j),v=d[5].length+16,L=v-e,H=new Uint8Array(t.length+L);
for(var m=0;m<j+e;m++)H[m]=t[m];for(var m=j+e;m<t.length;m++)H[m+L]=t[m];S.qC(H,j,v);H.set(d[5],j+16);
t=H}if(d[2]!=null){var w=cp.Rs.Wq(t)[224][0]+2;w+=9;t[w]=1;S.qC(t,w+1,d[2]);S.qC(t,w+3,d[2])}if(d[3]!=null&&y[1]==!0&&Object.keys(d[3]).length!=0){var P=0,Q=0,x=0,F=bu.BN(d[3]),E=new Uint8Array(UTIF.encode([F])),f="http://ns.adobe.com/xap/1.0/",j=20;
P=4+6+E.length;var c=bu.a0r(d[3]),M=S.vw(c);Q=4+f.length+1+M.length;var n=bu.a6u(d[3]);if(n.length!=0){var X=0,r=0;
for(var m=0;m<n.length;m++)X+=5+n[m][1].length;var u=X+(X&1),I=_.Q(14+4+4+4+u);S.Ok(I,r,"Photoshop 3.0");
r+=14;S.Ok(I,r,"8BIM");r+=4;I[r++]=4;I[r++]=4;r+=2;S.V_(I,r,X);r+=4;for(var m=0;m<n.length;m++){var J=n[m],U=J[1];
I[r++]=28;I[r++]=2;I[r++]=J[0];S.qC(I,r,U.length);r+=2;S.Ok(I,r,U);r+=U.length}x=4+I.length}var K=P+Q+x,i=new Uint8Array(t.length+K);
for(var m=0;m<20;m++)i[m]=t[m];for(var m=20;m<t.length;m++)i[m+K]=t[m];i[j]=255;i[j+1]=225;S.qC(i,j+2,P-2);
S.Ok(i,j+4,"Exif");for(var m=0;m<E.length;m++)i[j+10+m]=E[m];j+=P;i[j]=255;i[j+1]=225;S.qC(i,j+2,Q-2);
S.Ok(i,j+4,f);for(var m=0;m<M.length;m++)i[j+4+f.length+1+m]=M[m];j+=Q;if(x!=0){i[j]=255;i[j+1]=237;
S.qC(i,j+2,x-2);for(var m=0;m<I.length;m++)i[j+4+m]=I[m];j+=x}t=i}return t.buffer};cp.Rs.Wq=function(g){var o=0,k=[],y=g.length;
while(o<y){while(g[o]!=255&&o<y)o++;while(g[o]==255)o++;if(o==y)break;var d=g[o];o++;if(k[d]==null)k[d]=[];
k[d].push(o-2);if(d==216)continue;if(d==217)break;if(224<=d&&d<=239||d==218||d==219||d==192||d==193||d==194||d==196||d==221||d==254){var b=S.EN(g,o);
o+=b;if(d==218)while(o<y&&(g[o]!=255||(g[o+1]==0||208<=g[o+1]&&g[o+1]<=215)))o++;continue}console.log("unknown marker ",d.toString(16),o);
break}if(k[217]==null){console.log("EOI marker missing");var T=g.length-2;g[T]=255;g[T+1]=217;k[217]=[T]}return k};
cp.Rs.agK=function(g){g=new Uint8Array(g);if(g[0]!=255)return g.buffer;var o=cp.Rs.Wq(g),k=cp.Rs.bg(g,o);
if(k.numComponents!=4)return g.buffer;var y=k.width,d=k.height,b=cp.Rs.XG(g,o,!0);return cp.Rs.p0([[b[0].data]],y,d,[85])};
cp.Rs.bg=function(g,o){var k=(o[192]?o[192]:o[193]?o[193]:o[194])[0]+4,y={};y.progressive=o[194]!=null;
y.precision=g[k];k++;y.height=S.EN(g,k);k+=2;y.width=S.EN(g,k);k+=2;y.numComponents=g[k];k++;if(o[224]){var d=y.jfif={};
k=o[224][0]+2+2+5+2;d.densityUnits=g[k];k++;d.xDensity=S.EN(g,k);k+=2;d.yDensity=S.EN(g,k);k+=2}if(o[238]){var d=y.adobe={};
k=o[238][0]+2+2+6;d.version=g[k];k++;d.flags0=S.EN(g,k);k+=2;d.flags1=S.EN(g,k);k+=2;d.transform=g[k];
k++}return y};cp.Rs.a2N=function(g,o,k){var y=o,d=S.EN(g,y);y+=2;var b=S.lp(g,y,4);if(b=="Exif"){y+=6;
var T=g.slice(y,y+d-8),a;try{a=UTIF.decode(T.buffer,{parseMN:!1,debug:!1})}catch(d9){}if(a&&a.length!=0)k.exif=a}else if(b=="http"){var t=0;
while(g[y+t]!=0)t++;var j=S.lp(g,y,t);y+=t+1;if(j=="http://ns.adobe.com/xmp/extension/"){var e=S.lp(g,y,32);
y+=32;y+=8;var v=o+d-y;while(g[y+v-1]==0)v--;if(k.xmp_extn==null)k.xmp_extn="";try{k.xmp_extn+=S.IL(g,y,v)}catch(d9){}}else if(j=="http://ns.adobe.com/xap/1.0/"){var L=S.IL(g.slice(y,y+d-t-3));
if(L[0]=="?")L="<"+L;k.xmp=L}}else console.log(b)};cp.Rs.XG=function(g,o,k){var y=cp.Rs.bg(g,o),d=y.width,b=y.height,T=d*b,a,t=-1,f=72,c,n,X=null;
if(y.adobe)t=y.adobe.transform;if(k||d*b>15e7||t==0||t==2){var j=new PDFJS.JpegImage;j.parse(g);var e=j.getData({width:d,height:b,forceRGB:!0,isSourcePDF:k}),a=_.Q(T*4);
for(var m=0;m<T;m++){var v=m<<2,L=v-m;a[v]=e[L];a[v+1]=e[L+1];a[v+2]=e[L+2];a[v+3]=255}}else{a=cp.Rs.auf(g.buffer,y)}var H=o[225];
if(H)for(var m=0;m<H.length;m++)cp.Rs.a2N(g,H[m]+2,y);var w=o[226];if(w){var P=w[0],Q=S.EN(g,P+2),x=S.lp(g,P+4,11);
if(x=="ICC_PROFILE"){var F=S.q(g,P+18);y.icc=g.slice(P+18,P+18+F)}}var E=o[217][0]+2;if(E!=g.length)y.suffix=g.slice(E);
var M=[d,b,1,0,0,0,1,0];if(y.jfif&&y.jfif.densityUnits!=0){f=Math.round([72,1,2.54][y.jfif.densityUnits]*y.jfif.xDensity)}else if(y.exif&&y.exif[0].t282!=null){var u=y.exif[0].t282[0];
f=u[0]/u[1]}if(y.exif){var I=y.exif;c=bu.pe(I[0]);var r=I[0].t274;if(r)r=r[0];if(r!=null&&r>1&&r<20)M=_.raw.ly(r,d,b)}if(y.xmp){c=bu.avM(y.xmp,c)}if(y.icc)n=y.icc;
var J=o[237],U=[],K=[];if(J){var i=new Uint8Array(65536),z=0,P=0;for(var m=0;m<J.length;m++){P=J[m]+2;
var h=P+S.EN(g,P);P+=2;var R=P;while(g[P]!=0)P++;P++;var C=S.lp(g,R,P-R-1),G=h-P;if(G<0)break;while(z+G>i.length){var W=new Uint8Array(i.length*2);
W.set(i);i=W}var A=new Uint8Array(g.buffer,P,G);i.set(A,z);z+=G}P=0;g=i;while(P<z){var $=S.lp(g,P,4);
P+=4;var O=S.EN(g,P);P+=2;var Y=g[P++],l=S.lp(g,P,Y);P+=Y;if((Y&1)==0)P++;var Q=S.q(g,P);P+=4;var E=P+Q+(Q&1);
if(O==1028){while(P+4<E){var B=g[P++],f4=g[P++],V=g[P++],q=S.EN(g,P);P+=2;if(B==28&&f4==2)U.push([V,S.lp(g,P,q)]);
P+=q}}else if(O==1032)X=jX.$m(g,P);else if((O&2e3)==2e3){var s=gM.x9(g,P,Q);K.push([l,s])}else{}P=E}if(U.length!=0)c=bu.ajQ(U,c)}var cW=[{MR:new bd(0,0,d,b),data:a.buffer,Qb:f,Vq:c,gR:n,G7:K.length==0?null:K,HR:X}],c=y.xmp_extn;
if(c){var dk=new DOMParser,kr=dk.parseFromString(c,"image/svg+xml"),kr=kr.children[0].children[0].children[0],j9=[kr.getAttribute("GImage:Data"),kr.getAttribute("GDepth:Data")];
for(var m=0;m<j9.length;m++)if(j9[m]){var bh=atob(j9[m]),fe=new Uint8Array(bh.length);S.Ok(fe,0,bh);
fe=fe.buffer;var gg=cp.tW(fe),a$=cp.rJ(gg).pO(fe);cW.push(a$[0])}}if(y.suffix){var dg=y.suffix,iv=S.lp(dg,4,4),aQ=S.xb(dg,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(cp.yd(dg,[0,0,1,10,14,0,0,0])){var P=0;while(P!=dg.length){var dt=S.Ha(dg,P+2);P+=4;var hY={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[dt];
if(hY!=null){var b9=S._u(dg,P);P+=4;var i0=S.lp(dg,P,b9);P+=b9;var gD=S.lp(dg,P,hY);P+=hY;if(dt==2608){var hU=S.q(dg,P+24);
P+=hU+24;var aW=S.q(dg,P);P+=aW;alert("Photopea found a "+jg.Tc(hU)+" MP4 video inside your image.",4e3)}}else if(dt==18502){while(S.lp(dg,P,4)!="SEFT")P+=4;
P+=4}else{break;console.log(S.U1(dg,P,128));console.log(dg.slice(P));throw dt.toString(16)}}}else if(iv=="ftyp"){alert("Photopea found a "+jg.Tc(dg.length)+" MP4 video inside your image.",4e3)}else if(S.lp(dg,0,4)=="fixe"){alert("Unknown data - "+dg.length+" B - at the end of the file",3e3);
var P=4,Q=S._u(dg,P);P+=4;var be=S._u(dg,P);P+=4;var hv=S._u(dg,P);P+=4;console.log(Q,be,hv,dg.slice(P,P+84));
P+=84;var b3=S.lp(dg,P,32);P+=32;P+=8;var b3=S.lp(dg,P,32);P+=32}else if(S.lp(dg,8,13)=="FocusShot_Map"){var gT=S.q(dg,0),q=S._u(dg,4),fe=_.Q(T*4),aB=_.Q(T*4);
for(var bO=0;bO<b;bO++)for(var kf=0;kf<d;kf++){var m=bO*d+kf,v=m<<2,iY=8+13+((bO>>>1)*d+kf>>>1),gs=dg[iY],c1=dg[iY+(T>>>2)];
fe[v]=fe[v+1]=fe[v+2]=gs;fe[v+3]=255;aB[v]=aB[v+1]=aB[v+2]=c1;aB[v+3]=255}cW.push({MR:new bd(0,0,d,b),data:fe.buffer},{MR:new bd(0,0,d,b),data:aB.buffer})}else if(iv=="edof"){var r=dg[8+7];
console.log(r.toString(16));var P=8+16,gK=S.Ha(dg,P),c4=S.Ha(dg,P+2),T=gK*c4;P+=4;P+=32+16;var k6=_.Q(T*4);
for(var m=0;m<T;m++){var v=m<<2;k6[v]=k6[v+1]=k6[v+2]=dg[P+m];k6[v+3]=255}if(r==16){}else if(r==19){var jk=k6.slice(0);
_.K.gH(k6,jk,gK,c4);var jt=gK;gK=c4;c4=jt;_.K.fT(jk,k6,gK,c4)}else throw"Unknown orientation of a depth map";
cW.push({MR:new bd(0,0,gK,c4),data:k6.buffer})}else if(aQ!=-1&&!(dg[0]==255&&dg[1]==129)){try{if(aQ!=0)dg=dg.slice(aQ);
var a$=cp.rJ("jpg").pO(dg.buffer);for(var m=0;m<a$.length;m++)cW.push(a$[m])}catch(d9){}}else if(S.lp(dg,0,4)=="PMPD"){var P=4,j_=S._u(dg,12),kw=S._u(dg,16),gK=S._u(dg,1060),c4=S._u(dg,1064),eu=gK>c4,ak=cW[0].MR.m>cW[0].MR.n,cY=dg.slice(dg.length-gK*c4-4),bG=_.Q(gK*c4);
for(var bO=0;bO<c4;bO++)for(var kf=0;kf<gK;kf++)bG[bO*gK+kf]=cY[(c4-bO-1)*gK+kf];var j5=_.Q(gK*c4*4);
j5.fill(255);_.yr(bG,j5);if(eu!=ak){var jk=j5.slice(0);_.K.gH(j5,jk,gK,c4);var jt=gK;gK=c4;c4=jt;_.K.fT(jk,j5,gK,c4)}cW.push({MR:new bd(0,0,gK,c4),data:j5.buffer})}else console.log(S.lp(dg,0,4),dg)}if(cW.length>1){var hI=cW[0].MR,ca=!1,gI=!0;
cW[0].ZZ="Main";var jJ=[!1];for(var m=1;m<cW.length;m++){jJ[m]=cp.Rs.aeS(new Uint8Array(cW[m].data));
if(jJ[m])ca=!0;if(!cW[m].MR.ey(cW[0].MR))gI=!1}if(!ca&&!gI)cW=cW.slice(0,1);else for(var m=1;m<cW.length;
m++){cW[m].ZZ=jJ[m]?"Depth Map":null;var c3=cW[m].MR;if(!c3.ey(hI)){var fs=hI.m/c3.m,eS=hI.n/c3.n,bf=new d3;
bf.scale(fs,eS);var ef=D.C8.SE([new Uint8Array(cW[m].data),c3],1,_.K.bn(bf));cW[m].MR=ef.rect;cW[m].data=ef.buffer}}}if(cp.Rs.Gp==1)if(M[2]!=1||M[6]!=1)for(var m=0;
m<cW.length;m++){var hh=cW[m],fA=new Uint8Array(hh.data),d=hh.MR.m,b=hh.MR.n,gK=M[0],c4=M[1],a=_.Q(gK*c4*4);
_.K.RE(fA,d,b,a,M);hh.MR=new bd(0,0,gK,c4);hh.data=a.buffer}return cW};cp.Rs.aeS=function(g){var o=!0;
for(var m=0;m<g.length;m+=4){o=o&&g[m]==g[m+1]&&g[m+1]==g[m+2]}return o};cp.Rs.Gp=0;cp.Rs.pO=function(g,o,k){g=new Uint8Array(g);
if(g[0]==255){var y=cp.Rs.Wq(g);if(y[195]==null){cp.Rs.Gp++;var d=cp.Rs.XG(g,y,!1);cp.Rs.Gp--;return d}var b=S.EN(g,y[195][0]+5),T=S.EN(g,y[195][0]+7),a=UTIF.LosslessJpegDecode(g),t=T*b,j=_.Q(t*4);
for(var m=0;m<t;m++){var e=m<<2,v=e-m;j[e]=a[v];j[e+1]=a[v+1];j[e+2]=a[v+2];j[e+3]=255}return[{MR:new bd(0,0,T,b),data:j.buffer}]}else if(g[0]==0&&g[4]==48&&g[6]==1){var L=g,H=new PDFJS.Jbig2Image,w=[];
if(o)w.push({data:o,start:0,end:o.length});w.push({data:L,start:0,end:L.length});var a=H.parseChunks(w);
if(!k)for(var m=0;m<a.length;m++)a[m]=~a[m];var T=S.q(g,11),b=S.q(g,15),P=Math.ceil(T/8),Q=_.Q(T*b*4);
for(var x=0;x<b;x++){var F=x*P;for(var E=0;E<T;E++){var e=(x*T+E)*4,f=a[F+(E>>>3)]>>>7-(E&7)&1,c=f*255;
Q[e]=c;Q[e+1]=c;Q[e+2]=c;Q[e+3]=255}}return[{MR:new bd(0,0,T,b),data:Q.buffer}]}else{var H=new PDFJS.JpxImage;
H.parse(g);var T=H.width,b=H.height,M=H.tiles,n=H.componentsCount,X=new Uint8Array(T*b*4),u=new bd(0,0,T,b);
for(var H=0;H<M.length;H++){var I=M[H],r=I.width,J=I.height,U=r*J,K=I.items,i=new bd(I.left,I.top,r,J),z=new Uint8Array(U*4);
if(n==1)for(var m=0;m<U;m++){var h=K[m],e=m*4;z[e]=h;z[e+1]=h;z[e+2]=h;z[e+3]=255}else if(n==3)for(var m=0;
m<U;m++){var v=m*3,e=m*4;z[e]=K[v];z[e+1]=K[v+1];z[e+2]=K[v+2];z[e+3]=255}else console.log("Unknown number of components: "+n);
_.g1(z,i,X,u)}return[{MR:u,data:X.buffer}]}};cp.MY={};cp.MY.p0=function(g,o,k,y){if(y==null)y=[70,0,0,0];
var d=y[0]/100,t=0;if(g.length==1)return cp.qg(g[0][0],o,k,"webp",d);var b=S.wJ,T=S.N4,a=new im;b(a,t,"RIFF    WEBPVP8X");
t+=16;T(a,t,10);t+=4;T(a,t,18);t+=4;T(a,t,o-1);t+=3;T(a,t,k-1);t+=3;b(a,t,"ANIM");t+=4;T(a,t,6);t+=4;
a.e6(t,4);a.data[t+3]=255;S.g2(a,t+4,y[2]);t+=6;var j=[];for(var m=0;m<g.length;m++){j.push(g[m][0])}var e=UPNG.encode.compress(j,o,k,d==1?0:Math.max(2,Math.floor(d*500)),[!1,!0,!0,0,!0]).frames;
function v(X,u,I,r){var E=X.Y-8,f=X.size+8;I.e6(r,f);for(var m=0;m<f;m++)I.data[r+m]=u[E+m];return r+f}for(var m=0;
m<g.length;m++){b(a,t,"ANMF");t+=4;var L=t,E=0,f=0;t+=4;var H=e[m],w=H.rect,P=[w.x>>>1,w.y>>>1,w.width-1,w.height-1,g[m][1]];
for(var Q=0;Q<5;Q++)T(a,t+3*Q,P[Q]);t+=15;a.e6(t,1);a.data[t]=1-H.blend<<1|H.dispose;t++;var x=new Uint8Array(cp.qg(H.img.buffer,w.width,w.height,"webp",1)),F=gk.Qt(x.buffer).sub,c={};
for(var M=0;M<F.length;M++)c[F[M].UK]=F[M];if(c.VP8L)t=v(c.VP8L,x,a,t);else throw"e";var n=t-L-4;T(a,L,n);
if((n&1)==1){a.e6(t,1);t++}}T(a,4,t-8);return a.data.slice(0,t).buffer};(function(){var g=cp.WL.get("wasm/webp").buffer;
WebAssembly.instantiate(g).then(function(o){var k=o.instance.exports;cp.MY.exp=k})}());cp.MY.pO=function(g){var o=new Uint8Array(g),k=cp.MY.a01,y=null,d=gk.Qt(g).sub,b={};
for(var m=0;m<d.length;m++)b[d[m].UK]=d[m];var T=b.ANIM,a=b.VP8L,t=b["VP8 "],j=b.VP8X;if(T==null){var e,v;
if(t){e=S.Ha(o,t.Y+6);v=S.Ha(o,t.Y+8)}else if(a){var L=S._u(o,a.Y+1);e=(L&(1<<14)-1)+1;v=(L>>>14&(1<<14)-1)+1}else throw"e";
var H=[k(y,g,{Y:0,size:o.length},e,v)];return H}var w=j.Y,e=1+(S._u(o,w+4)&16777215),v=1+(S._u(o,w+7)&16777215),P=[],Q=new bd(0,0,e,v),x=_.Q(e*v*4);
for(var m=0;m<d.length;m++){var F=d[m];if(F.UK!="ANMF")continue;var E=[];for(var f=0;f<5;f++)E.push(S._u(o,F.Y+f*3)&16777215);
var c=new bd(E[0]*2,E[1]*2,E[2]+1,E[3]+1),M=E[4],n=k(y,g,{Y:F.Y+16,size:F.size-16},e,v),X=new Uint8Array(n.data),u=o[F.Y+15];
if(u>>>1==0)_.l.I3("norm",X,c,x,Q,c,1);else _.g1(X,c,x,Q);P.push({ZZ:"_a_"+P.length+","+M,MR:Q.clone(),data:x.buffer.slice(0)});
if((u&1)==1){_.Sm(X,0);_.g1(X,c,x,Q)}}return P};cp.MY.a01=function(g,o,k,y,d){var b=cp.MY.exp,T=b.memory,a=5e6+2*k.size+y*d*10;
cp.Al(b,a);var t=new Uint8Array(T.buffer),j=b.malloc(k.size);t.set(new Uint8Array(o,k.Y,k.size),j);var e=b.malloc(8),v=b.WebPDecodeARGB(j,k.size,e,e+4),L=S._u(t,e),H=S._u(t,e+4),w=L*H*4,P=_.Q(w);
for(var m=0;m<w;m+=4){P[m]=t[v+m+1];P[m+1]=t[v+m+2];P[m+2]=t[v+m+3];P[m+3]=t[v+m]}b.WebPFree(v);b.free(e);
b.free(j);return{MR:new bd(0,0,L,H),data:P.buffer}};cp.a6e=function(){function g(a,t,j,e){var v=new Uint8Array(a[0][0]),L=new Uint32Array(v.buffer),H=[],w={},Q=24,x=0,M=0;
for(var m=0;m<L.length;m++){var P=L[m]&16777215;if(w[P]==null){w[P]=H.length;H.push(P);if(H.length>256){H=null;
break}}}if(H){Q=1;while(1<<Q<H.length)Q*=2;if(Q==2)Q=4}var F={bW:t,GP:j,ev:1,wB:Q,uA:0,atq:x},E=4*Math.floor((F.wB*F.bW+31)/32);
F.size=E*F.GP+2;var f=new im,c=H?(1<<Q)*4:0;S.wJ(f,M,"BM");M+=2;S.N4(f,M,E*j+16+40+c);M+=4;S.N4(f,M,0);
M+=4;S.N4(f,M,54+c);M+=4;f.e6(M,40);S.N4(f,M,40);M+=4;T(f.data,M,F,E);M+=36;if(H){f.e6(M,c);var n=f.data;
for(var m=0;m<H.length;m++){var X=M+m*4,u=H[m]>>>16,I=H[m]>>>8&255,r=H[m]&255;n[X]=u;n[X+1]=I;n[X+2]=r}M+=c}f.e6(M,E*j);
if(Q==24)for(var J=0;J<j;J++){var U=M+(j-1-J)*E;for(var K=0;K<t;K++){var i=(J*t+K)*4;f.data[U+K*3+2]=v[i];
f.data[U+K*3+1]=v[i+1];f.data[U+K*3+0]=v[i+2]}}else if(Q==8)for(var J=0;J<j;J++){var U=M+(j-1-J)*E;for(var K=0;
K<t;K++){var i=J*t+K,z=w[L[i]&16777215];f.data[U+K]|=z}}else if(Q==4)for(var J=0;J<j;J++){var U=M+(j-1-J)*E;
for(var K=0;K<t;K++){var i=J*t+K,z=w[L[i]&16777215];f.data[U+(K>>>1)]|=z<<4-(K&1)*4}}else if(Q==1)for(var J=0;
J<j;J++){var U=M+(j-1-J)*E;for(var K=0;K<t;K++){var i=J*t+K,z=w[L[i]&16777215];f.data[U+(K>>>3)]|=z<<7-(K&7)}}M+=E*j+2;
return f.data.slice(0,M).buffer}function o(a){a=new Uint8Array(a);if(S._u(a,0)==40)return[k(a.buffer,0)];
var t=0,j=S.lp(a,t,2);t+=2;if(j!="BM"){alert("Unsupported BMP format: "+j);return}var e=S._u(a,t);t+=4;
t+=4;var v=S._u(a,t);t+=4;return[k(a.buffer,t,v)]}function k(a,t,j){a=new Uint8Array(a);var e=S._u(a,t),v=b(a,t+4);
if(v.ev!=1)alert("unsupported number of color planes: "+v.ev);if(v.uA!=0&&v.uA!=1&&v.uA!=2&&v.uA!=3){alert("Unsupported BMP compression: "+v.uA);
return}t+=e;var L=t,H=a;if(j==null)j=t;if(v.uA==1||v.uA==2){var w=d(a,j,v);v.wB=8;a=w;j=0}var P=4*Math.floor((v.wB*v.bW+31)/32),Q=v.bW,x=Math.abs(v.GP),F=new Uint8Array(Q*x*4);
F.fill(255);if(v.wB==32)for(var E=0;E<x;E++){var f=j+(x-1-E)*P;for(var c=0;c<Q;c++){var M=(E*Q+c)*4;
F[M]=a[f+c*4+2];F[M+1]=a[f+c*4+1];F[M+2]=a[f+c*4+0];F[M+3]=a[f+c*4+3]}}else if(v.wB==24)for(var E=0;
E<x;E++){var f=j+(x-1-E)*P;for(var c=0;c<Q;c++){var M=(E*Q+c)*4;F[M]=a[f+c*3+2];F[M+1]=a[f+c*3+1];F[M+2]=a[f+c*3+0]}}else if(v.wB==16)for(var E=0;
E<x;E++){var f=j+(x-1-E)*P;for(var c=0;c<Q;c++){var M=(E*Q+c)*4,n=a[f+c*2+1]<<8|a[f+c*2];F[M]=(n>>>11)*(255/31);
F[M+1]=(n>>>5&63)*(255/63);F[M+2]=(n&31)*(255/31)}}else if(v.wB==8)for(var E=0;E<x;E++){var f=j+(x-1-E)*P;
for(var c=0;c<Q;c++){var M=(E*Q+c)*4,X=a[f+c];F[M]=H[L+4*X+2];F[M+1]=H[L+4*X+1];F[M+2]=H[L+4*X+0]}}else if(v.wB==4)for(var E=0;
E<x;E++){var f=j+(x-1-E)*P;for(var c=0;c<Q;c++){var M=(E*Q+c)*4,X=a[f+(c>>1)];X=X>>4-4*(c&1);X=X&15;
F[M]=H[L+4*X+2];F[M+1]=H[L+4*X+1];F[M+2]=H[L+4*X+0]}}else if(v.wB==1)for(var E=0;E<x;E++){var f=j+(x-1-E)*P;
for(var c=0;c<Q;c++){var M=(E*Q+c)*4,u=a[f+(c>>3)];u=u>>7-(c&7);u=u&1;F[M]=H[L+4*u+2];F[M+1]=H[L+4*u+1];
F[M+2]=H[L+4*u+0]}}else throw"Unknown bit depth "+v.wB;if(v.GP<0){var I=new Uint32Array(F.buffer),r=x>>>1;
for(var E=0;E<r;E++){var J=E*Q,U=(x-E-1)*Q;for(var c=0;c<Q;c++){var K=I[J+c];I[J+c]=I[U+c];I[U+c]=K}}}return{MR:new bd(0,0,Q,x),data:F.buffer}}function y(a,m){return a>>>4-((m&1)<<2)&15}function d(a,t,j){var e=j.bW,v=Math.abs(j.GP),L=new Uint8Array(e*v),H=0,w=0,m=0;
while(w<v){var P=a[t++],Q=a[t++],x=w*e+H;if(P>0){if(j.wB==4)for(m=0;m<P;m++){L[x+m]=y(Q,m)}else for(m=0;
m<P;m++){L[x+m]=Q}H+=P}else if(P==0&&Q==0){w++;H=0}else if(P==0&&Q==1){break}else if(P==0&&Q==2){H+=a[t++];
w+=a[t++]}else{var F=Q;if(j.wB==4){for(m=0;m<Q;m++){L[x+m]=y(a[t+(m>>>1)],m)}F=Math.ceil(Q/2)}else{for(m=0;
m<Q;m++){L[x+m]=a[t+m]}}if((F&1)!=0)F++;t+=F;H+=Q}}return L}function b(a,t){var j=S.da,e=S._u,v=S.Ha,L={};
L.bW=j(a,t);t+=4;L.GP=j(a,t);t+=4;L.ev=v(a,t);t+=2;L.wB=v(a,t);t+=2;L.uA=e(a,t);t+=4;L.size=e(a,t);t+=4;
var H=j(a,t);t+=4;var w=j(a,t);t+=4;L.atq=e(a,t);t+=4;t+=4;return L}function T(a,t,j,e){S.dh(a,t,j.bW);
t+=4;S.dh(a,t,j.GP);t+=4;S.SQ(a,t,j.ev);t+=2;S.SQ(a,t,j.wB);t+=2;S.dh(a,t,j.uA);t+=4;S.dh(a,t,j.size);
t+=4;S.dh(a,t,2834);t+=4;S.dh(a,t,2834);t+=4;S.dh(a,t,j.atq);t+=4;t+=4}return{pO:o,p0:g,a5k:k}}();cp.Dz={};
cp.Dz.p0=function(g,o,k,y){if(y==null)y=[100,!1,0,0,0,0];var d=[],b=[],T=o*k*4,P=null;for(var a=0;a<g.length;
a++){var t=new Uint8Array(g[a][0].slice(0));for(var m=0;m<T;m+=4){var j=t[m+3]=t[m+3]>127?255:0;if(j==0)t[m]=t[m+1]=t[m+2]=0}d.push(t.buffer);
b.push(g[a][1])}var e=Math.round(2+254*y[0]/100),v=UPNG.encode.compress(d,o,k,e,[!0,!1,!1,8,!1,y[1]]),L=v.plte,H=new Uint8Array(4),w=new Uint32Array(H.buffer);
for(var m=0;m<L.length;m++){w[0]=L[m];var Q=H[0];H[0]=H[2];H[2]=Q;L[m]=w[0];if(w[0]==0)P=m}while(L.length<256)L.push(0);
var x=new Uint8Array(1e4+o*k*g.length),F=y[3],E={palette:L};if(F!=1)E.loop=F==0?0:F-1;var f=new GifWriter(x,o,k,E);
for(var m=0;m<g.length;m++){var c=v.frames[m],M=c.rect,n=c.blend,X=c.dispose,u=Math.round(b[m]/10);if(u<2)u=2;
f.addFrame(M.x,M.y,M.width,M.height,c.img,{transparent:P,disposal:X+1,delay:u})}return x.slice(0,f.end()).buffer};
cp.Dz.pO=function(g){var o=Date.now(),k=[],y=UGIF.decode(g),d=UGIF.toRGBA8(y),b=new bd(0,0,y.width,y.height);
for(var m=0;m<d.length;m++){var T=y.frames[m];k.push({MR:b.clone(),ZZ:"_a_frm"+m+","+T.delay*10,data:d[m]})}return k};
cp.me={};cp.me.p0=function(g,o,k,y){console.log(g);if(o>256||k>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var d=Math.min(o,256),b=Math.min(k,256),T=new bd(0,0,d,b),a=_.Q(T.O()*4),t=new bd(0,0,o,k),j=new Uint8Array(g[0][0]);
_.g1(j,t,a,T);g[0][0]=a.buffer;o=d;k=b}var e=new im,v=0,L=y&&y[0]==!0;S.g2(e,v,0);v+=2;S.g2(e,v,L?2:1);
v+=2;S.g2(e,v,1);v+=2;var H=new Uint8Array(cp.rJ("png").p0(g,o,k));e.e6(v,16);e.data[v]=o==256?0:o;v++;
e.data[v]=k==256?0:k;v++;v+=2;S.g2(e,v,L?Math.round(o/2):1);v+=2;S.g2(e,v,L?Math.round(k/2):32);v+=2;
S.N4(e,v,H.length);v+=4;S.N4(e,v,6+16);v+=4;e.e6(v,H.length);for(var m=0;m<H.length;m++)e.data[v+m]=H[m];
v+=H.length;var w=new Uint8Array(v);for(var m=0;m<v;m++)w[m]=e.data[m];return w.buffer};cp.me.pO=function(g){g=new Uint8Array(g);
var o=4,k=S.Ha(g,o);o+=2;var y=[];for(var m=0;m<k;m++){var d=cp.me.a8q(g,o+m*16),b=g.buffer.slice(d.offset,d.offset+d.size),T=cp.tW(b);
T=T?T:"bmp";if(T=="png"){var a=cp.rJ(T),t=a.pO(b);d.lU=t[0]}else{var j=cp.rJ("BMP").a5k(b,0),b=_.Q(d.bW*d.GP*4);
_.g1(new Uint8Array(j.data),new bd(0,0,j.MR.m,j.MR.n),b,new bd(0,d.GP,d.bW,d.GP));j.data=b.buffer;j.MR.n=d.GP;
d.lU=j}y.push(d)}y.sort(function(e,v){if(e.bW!=v.bW)return e.bW-v.bW;return e.axD-v.axD});return[y.pop().lU]};
cp.me.a8q=function(g,o){var k={};k.bW=g[o];o++;if(k.bW==0)k.bW=256;k.GP=g[o];o++;if(k.GP==0)k.GP=256;
k.adC=g[o];o++;o++;k.alb=S.Ha(g,o);o+=2;k.axD=S.Ha(g,o);o+=2;k.size=S._u(g,o);o+=4;k.offset=S._u(g,o);
o+=4;return k};cp.jR={};cp.jR.pO=function(g){var o=Date.now(),y,M=!0;if(_.raw.vI(g.byteLength))return[_.raw.apI(g)];
var k=UTIF.decode(g);if(k[0].t33421)y=k[0];else if(k[0].subIFD&&k[0].t271&&k[0].t271[0]=="Hasselblad"){y=k[0].subIFD[0];
y.t33421=[2,2]}else if(k[0].subIFD&&k[0].subIFD[0].t33421){y=k[0].subIFD[0];if(y.t50706==null){if(y.t258[0]==8)y.t258[0]=12}}else if(k[0].subIFD&&k[0].subIFD[0]&&k[0].subIFD[0].t262&&k[0].subIFD[0].t262[0]==34892)y=k[0].subIFD[0];
else if(k[0].subIFD&&k[0].subIFD[1]&&k[0].subIFD[1].t33421)y=k[0].subIFD[1];else if(k[0].subIFD&&k[0].subIFD[2]&&k[0].subIFD[2].t33421)y=k[0].subIFD[2];
else if(k[3]&&k[3].t50648){var d=k[0].exifIFD,b=d.makerNote;y=k[3];var T=b.t224[1],a=b.t224[2];y.t256=[T];
y.t257=[a];y.t258=[16];y.t259=[7];y.t262=[32803];y.t277=[1];y.t33421=[2,2];var t=y.t50656[0],j=_.raw.D6[t];
if(j==null)throw"e";y.t33422=j}else if(k[0].t1&&k[0].t1.length==4){var e=k[0],v={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
y={};for(var L in v)if(e["t"+L])y["t"+v[L]]=e["t"+L];y.t2=e.t2;y.t3=e.t3;y.t10=e.t10;y.t45=e.t45;y.t258=[16];
y.t33421=[2,2];var H=e.t9[0];y.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][H-1];var w=e.t4[0],P=e.t5[0],Q=e.t6[0],x=e.t7[0];
y.t50829=[w,P,Q,x];var F=e.t36[0],E=e.t37[0],f=e.t38[0];y.t50728=[E/F,E/E,E/f]}if(y){UTIF.decodeImage(g,y,k);
for(var c in k[0])if((c[0]=="t"||c[0]=="e"||c[0]=="d")&&y[c]==null)y[c]=k[0][c];y.Qx=k[0].t274?k[0].t274[0]:1;
return[y]}var n=1/256;for(var m=0;m<k.length;m++)if(k[m].t258&&k[m].t258[0]==16&&k[m].t277&&k[m].t277[0]==1){}else M=!1;
if(M){var X=0,u=0,I=0;for(var m=0;m<k.length;m++){UTIF.decodeImage(g,k[m],k);var r=k[m].data;for(var J=0;
J<r.length;J+=2){var U=r[J+1]<<8|r[J];if(U>X)X=U;u+=U;I++}}n=1/256*65535/(.5*X+.5*(2*u/I))}var K=[];
for(var m=0;m<k.length;m++){var i=k[m],z=72;UTIF.decodeImage(g,i,k);var h=i.t282,R=i.t296;if(h!=null&&R!=null){z=h[0][0]/h[0][1];
if(R[0]==3)z=Math.round(z/2.54)}if(i.width==null)continue;var C=UTIF.toRGBA8(i,n).buffer,G=bu.pe(i);
console.log(i);K.push({MR:new bd(0,0,i.width,i.height),data:C,Qb:z,Vq:G,gR:i.t34675?i.t34675.slice(0):null})}return K};
cp.jR.p0=function(g,o,k,y){if(y==null)y=[!1];var d={},b=g[0];if(b[3]!=null&&y[0])d=bu.BN(b[3]);if(b[2]!=null){d.t282=d.t283=[[Math.round(b[2]),1]];
d.t296=[2]}return UTIF.encodeImage(b[0],o,k,d)};cp.we={};cp.we.nY=!0;cp.we.pO=function(g,o){jX.Qt(g,o)};
cp.we.apL=function(g,o,k,y){if(y==null)y=[!1,!1,!1,!1];if(!y[0])g.PJ();var d=new im,b=jX.Z4(g,d,y);return[d.data.buffer,b]};
cp.we.p0=function(g,o,k,y){var d=cp.we.apL(g,o,k,y),b=d[0],T=d[1];return b.byteLength==T?b:b.slice(0,T)};
cp.Xt={};cp.Xt.nY=!0;cp.Xt.pO=function(g,o){var k=pako.inflate(new Uint8Array(g)),y=S.EN(k,0),d=S.EN(k,2),b=4;
o.m=S.q(k,b);b+=4;o.n=S.q(k,b);b+=4;o.buffer=_.Q(o.m*o.n*4);var T=S.EN(k,b);b+=2;b+=4;for(var a=0;a<T;
a++){var t=o.Qf(),w=0,z=1,h=2,R=3,C=0;o.d.push(t);var j=S.q(k,b);b+=4;var e=b,v=S.EN(k,e);e+=2;var L=S.IL(k,e,v);
e+=v;t.mP(L);var H=k[e];e++;if(H!=0&&H!=1)throw H;t.rect.x=S.jd(k,e);e+=4;t.rect.y=S.jd(k,e);e+=4;t.rect.m=S.q(k,e);
e+=4;t.rect.n=S.q(k,e);e+=4;if(y>3){w=S.jd(k,e);e+=4}t.opacity=Math.round(255*k[e]/100);e++;var P=k[e];
e++;t.qj(P!=0);t.HW="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[k[e]];
e++;var Q=k[e];e++;if(Q)t.add.lspf=1<<31;if(y>3){var x=S.EN(k,e);e+=2;if(x!=0){var F=JSON.parse(S.IL(k,e,x));
e+=x;var E=F.text,f=F.textSettings,c=f.font,M=f.size,n=f.padding,X=parseInt(f.color.slice(1),16);t.add.lnsr="rend";
t.add.TySh=bw.j_(0,0);t.add.TySh.Rt=new bd(0,0,100,100);var u=t.add.TySh.D=new d3,I=t.rect.m/2,r=t.rect.n/2;
u.translate(-I,-r);u.rotate(-w*Math.PI/180);u.translate(I,r);u.translate(t.rect.x+n,t.rect.y+n);var J=t.add.TySh.O7;
bw.ms(J,1);bw.Y$(J,[0,0,t.rect.m-n*2,t.rect.n]);bw.pj(J,0,E);var U=bw.DE(J,0,1);U.RY.FontSize=M;U.RY.FillColor={Type:1,Values:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]};
if(f.bold)c+="-Bold";bw.nx(U,c);U.by.Justification=["left","right","center"].indexOf(f.align);bw.SX(J,0,E.length,U)}}var K=S.q(k,e);
e+=4;if(K!=t.rect.O()*4){for(var m=t.rect.m;m>t.rect.m/2;m--){var i=K/(m*4);if(i==Math.round(i)){t.rect.m=m;
t.rect.n=i;break}}}t.buffer=_.Q(t.rect.O()*4);if(y>3){z=0;h=1;R=2;C=3}for(var m=0;m<K;m+=4){t.buffer[m]=k[e+m+z];
t.buffer[m+1]=k[e+m+h];t.buffer[m+2]=k[e+m+R];t.buffer[m+3]=k[e+m+C]}e+=K;var G=S.q(k,e);e+=4;if(G==0&&y>3){b+=j;
continue}var W=k[e];e++;var A=S.EN(k,e);e+=2;if(G!=0){t.v=new p.GE;t.v.rect=t.rect.clone();t.v.channel=_.Q(t.rect.O());
for(var m=0;m<G;m+=4)t.v.channel[m>>>2]=k[e+m+1];e+=G}if(W!=0){var $=JSON.parse(iZ.default);t.add.lmfx=$;
for(var m=0;m<iZ.order.length;m++)$[iZ.pW[m]]={t:"VlLs",v:[]};var O={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var m=0;m<W;m++){var Y=S.EN(k,e),l=e+Y+4,B=k.slice(e,l),f4=k[e+2];e+=3;var V=O[f4+""],q=JSON.parse(iZ.GZ[V]);
$[iZ.pW[V]].v.push({t:"Objc",v:q});if(V!=0){q.Md.v.BlnM=h8.w3("norm");q.Opct.v.val=k[e];e++;if(V==9||V==2){q.Dstn.v.val=k[e+1];
e+=2}else e+=2;q.blur.v.val=Math.round(k[e]*1.2);e++;if(V==9||V==2){q.uglg.v=!1;q.lagl.v.val=180-S.EN(k,e);
e+=2}q.Clr.v=_.M.UF({o:k[e+1],C:k[e+2],k:k[e+3]})}else{q.hglM.v.BlnM=q.sdwM.v.BlnM=h8.w3("norm");e+=2;
var s=k[e++],cW=k[e++];q.blur.v.val=Math.round(Math.sqrt(cW*s)*1.3);q.srgR.v.val=Math.round(100*s/cW);
q.uglg.v=!1;q.lagl.v.val=180-S.EN(k,e);e+=2;q.hglO.v.val=k[e++];q.hglC.v=_.M.UF({o:k[e+1],C:k[e+2],k:k[e+3]});
e+=4;q.sdwO.v.val=k[e++];q.sdwC.v=_.M.UF({o:k[e+1],C:k[e+2],k:k[e+3]});e+=4}e=l}}if(e-b<j){var dk=S.q(k,e),bh=0;
e+=4;e++;var v=S.EN(k,e);e+=2;var E=S.IL(k,e,v);e+=v;E=E.replace(/\r/g,"\n");var v=S.EN(k,e);e+=2;var c=S.IL(k,e,v);
e+=v;var M=S.EN(k,e);e+=2;var kr=t.rect.x,j9=t.rect.m;if(dk&4)bh=1;if(dk&2)bh=2;var fe=Math.round(M*.4);
if(bh==0||bh==2)j9+=fe;if(bh==1||bh==2){j9+=fe;kr-=fe}t.add.lnsr="rend";t.add.TySh=bw.j_(0,0);t.add.TySh.Rt=new bd(0,0,100,100);
t.add.TySh.D=new d3(1,0,0,1,kr,t.rect.y+M*.25);var J=t.add.TySh.O7;bw.ms(J,1);bw.Y$(J,[0,0,j9,t.rect.n]);
bw.pj(J,0,E);var U=bw.DE(J,0,1);U.RY.FontSize=M;U.RY.FillColor={Type:1,Values:[1,k[e+1]/255,k[e+2]/255,k[e+3]/255]};
e+=4;if(k[e+5])c+="-Bold";if(k[e+6])c+="-Italic";bw.nx(U,c);U.by.Justification=bh;e+=8;bw.SX(J,0,E.length,U)}b+=j}};
cp.V7={};cp.V7.nY=!0;cp.V7.pO=function(g,o){f1.Qt(g,o)};var f1=function(){function g(v,L){var H=Date.now(),w=UZIP.parse(v);
console.log(w);console.log(Date.now()-H);H=Date.now();var P=w["maindoc.xml"],Q=new DOMParser,x=Q.parseFromString(S.IL(P),"image/svg+xml").children[0].children[0],F=x.getAttribute("name"),E=L.m=j(x,"width"),f=L.n=j(x,"height");
L.Qb=Math.round(j(x,"x-res"));var c=x.children[0].children;o(c,L,{se:F,G$:w,Oe:null});console.log(Date.now()-H);
H=Date.now()}function o(v,L,H){for(var w=0;w<v.length;w++){var P=v[v.length-1-w],Q=P.getAttribute("nodetype");
if(Q=="transparencymask"){H.Oe.v=e(P,H);continue}var x=P.getAttribute("compositeop"),F=P.getAttribute("filename"),E=P.getAttribute("channelflags"),f=P.children;
f=f.length==0?null:f[0].children;var c=L.Qf();if(Q=="paintlayer"){var M=j(P,"x"),n=j(P,"y"),X=H.G$[H.se+"/layers/"+F+".defaultpixel"],u=H.G$[H.se+"/layers/"+F],I=t(u);
c.rect=I[0];c.rect.offset(M,n);c.buffer=I[1];if(c.rect.on()&&X.join()!="0,0,0,0"){c.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:X[0],C:X[1],k:X[2]})}};
c.bD(L)}}else if(Q=="grouplayer"){c.add.lsct=cK.TD;c.HW="pass";c.b_|=24;L.d.push(L.L0());var r=H.Oe;
H.Oe=c;o(f,L,H);H.Oe=r}else if(Q=="shapelayer"){var u=H.G$[H.se+"/layers/"+F+".shapelayer/content.svg"],J=S.IL(u),U=L.Es(u,c.getName(),0,0);
c=U;var K=new bd(0,0,L.m,L.n),i=_.p.rN(K).j;c.add.SoLd.Trnf=D.C8.sY(i);c.add.SoLd.nonAffineTransform=D.C8.sY(i);
c.tq(L,!1)}else if(Q=="clonelayer"){var m=-1;for(var z=0;z<v.length;z++)if(v[z].getAttribute("name")==P.getAttribute("clonefrom"))m=z;
if(m!=-1){o([v[m]],L,H);c=L.d.pop()}}else console.log(Q,P);c.mP(P.getAttribute("name"));if(j(P,"locked")==1)c.add.lspf=1<<31;
c.qj(j(P,"visible")==1);var h={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[x];if(h)c.HW=h;
else console.log(x);c.opacity=j(P,"opacity");if(E=="1110")c.Le=!0;var R=f?f[0]:null;if(R&&R.tagName=="mask")c.v=e(R,H);
L.d.push(c)}}function k(v,L){var H=0,w=0,P=v.length,Q,x,F;while(H<P){Q=v[H++];if(Q>31){x=Q>>>5;if(x==7)x=7+v[H++];
F=(Q&31)<<8|v[H++];var E=w-F-1,f=x>>>1;L[w++]=L[E++];L[w++]=L[E++];for(var m=0;m<f;m++){L[w++]=L[E++];
L[w++]=L[E++]}if((x&1)==1)L[w++]=L[E++]}else{for(var m=0;m<=Q;m++){L[w++]=v[H++]}}}}function y(v,L){var H=0;
while(v[L+H]!=10)H++;return S.lp(v,L,H)}var d=new bd(0,0,64,64),b=new Uint8Array(64*64*4),T=new Uint8Array(64*64*4);
function a(){for(var m=0;m<4096;m++){var v=m<<2;b[v+0]=T[m+8192];b[v+1]=T[m+4096];b[v+2]=T[m];b[v+3]=T[m+12288]}}function t(v){var L=0,H={};
for(var m=0;m<5;m++){var w=y(v,L);L+=w.length+1;w=w.split(" ");H[w[0]]=parseInt(w[1])}var P=H.PIXELSIZE,Q=[],x=new bd;
while(L<v.length){var w=y(v,L),F=w.split(",");L+=w.length+1;if(F[2]!="LZF")throw F[2];d.x=parseInt(F[0]);
d.y=parseInt(F[1]);x=x.gO(d);var E=parseInt(F[3]);Q.push([d.clone(),new Uint8Array(v.buffer,L+1,E-1)]);
L+=E}var f=_.Q(x.O()*P);for(var m=0;m<Q.length;m++){var c=Q[m];k(c[1],T);if(P==4){a();_.g1(b,c[0],f,x)}else _.sQ(T,c[0],f,x)}return[x,f]}function j(v,L){return parseInt(v.getAttribute(L))}function e(v,L){var H=v.getAttribute("filename"),w=L.G$[L.se+"/layers/"+H+".pixelselection"],P=t(w),Q=new p.GE;
Q.Sv=j(v,"visible")==1;Q.rect=P[0];Q.channel=P[1];return Q}return{Qt:g}}();cp.oC={};cp.oC.nY=!0;cp.oC.pO=function(g,o){ac.Qt(g,o)};
cp.dN={};cp.dN.nY=!0;cp.dN.pO=function(g,o){bX.Qt(g,o)};cp.rf={};cp.rf.nY=!0;cp.rf.pO=function(g,o){fb.Qt(g,o)};
cp.uL={};cp.uL.nY=!0;cp.uL.pO=function(g,o){an.Qt(g,o)};cp.uf={};cp.uf.nY=!0;cp.uf.pO=function(g,o){bb.Qt(g,o)};
cp.rd={};cp.rd.nY=!0;cp.rd.pO=function(g,o){fl.Qt(g,o)};cp.ME={};cp.ME.nY=!0;cp.ME.p0=function(g,o,k,y,d){if(y==null)y=[!0,!1,!1,!1,!0];
var b=jT.Z0(g,{yl:y[0],hidden:y[1],aqW:y[2],arC:y[3],LL:y[4],a00:o,a3$:k},d.At);return b};cp.ME.pO=function(g,o,k){jT.Qt(g,o,k)};
cp.bX={};cp.bX.nY=!0;cp.bX.pO=function(g,o){var k=150,y=new d3(1,0,0,-1,0,0);y.scale(k/72,k/72);o.Qb=k;
var d=new eT(o,y,!0);FromPS.Parse(g,d)};cp.i2={};cp.i2.nY=!0;cp.i2.p0=function(g,o,k,y,d){if(y==null)y=["",100,!1,!1,!1,0];
y[6]=["jpg"];var b=new ToPDF;gx.Z0(g,y,b,d.At,o,k);return b.buffer};cp.i2.pO=function(g,o,k){var y=2;
while(!0){var d=y*72,b=new d3(1,0,0,-1,0,0);b.scale(d/72,d/72);o.Qb=d;var T=new eT(o,b,!0);FromPDF.Parse(g,T);
var a=Math.max(o.m,o.n);if(k&&a<Math.max(k[0],k[1])){o.d=[];var t=y;while(a*(y/t)<Math.max(k[0],k[1]))y++}else break}};
cp.tv={};cp.tv.nY=!0;cp.tv.pO=function(g,o){var k=72,y=new d3(1,0,0,1,0,0);y.scale(k/72,k/72);o.Qb=k;
var d=new eT(o,y,!1);FromWMF.Parse(g,d)};cp.gc={};cp.gc.o5=!0;cp.gc.nY=!0;cp.gc.p0=function(g,o,k,y,d){if(y==null)y=["",100,!1,!1,!1,0];
y[6]=[];var b=new ToEMF;gx.Z0(g,y,b,d.At);return b.buffer};cp.gc.pO=function(g,o){var k=72,y=new d3(1,0,0,1,0,0);
y.scale(k/72,k/72);o.Qb=k;var d=new eT(o,y,!1);FromEMF.Parse(g,d)};cp.jX={};cp.jX.nY=!0;cp.jX.pO=function(g,o){return e2.Qt(g,o)};
cp.l_={};cp.l_.pO=function(){var g,o,k,y,d,b,T=0,a=0,t=0,j=0,e=0;function v(P){var Q=j4.Qt(P),x=Q.V8,F=new Uint8Array(P),n=0,X,u;
if(x=="ILBM")return L(Q,F);var E=S.EN,f=S.q,c=Q.sub,M=L(c[0],F);for(var I=1;I<c.length-2;I++){var r=M[Math.max(0,I-2)].a7i.slice(0),J=c[I];
for(var U=0;U<J.sub.length;U++){var K=J.sub[U],i=K.Y;if(K.UK=="ANHD"){var z=F[i++];if(z!=5)throw z;var y=F[i++];
i+=8;var h=E(F,i);i+=2;X=E(F,i);i+=2;i++;i++;u=E(F,i);i+=2}else if(K.UK=="DLTA"){var R=[],C=i;for(var m=0;
m<16;m++)R.push(f(F,i+m*4));i+=64;var G=b;for(var W=0;W<d;W++){if(R[W]==0)continue;i=C+R[W];for(var A=0;
A<G;A++){var $=F[i++],O=0;if($==0)continue;for(var m=0;m<$;m++){var Y=F[i++];if(Y==0){var l=F[i++],B=F[i++];
for(var f4=0;f4<l;f4++){r[(O*d+W)*G+A]=B;O++}}else if(Y<128){O+=Y}else{Y-=128;for(var f4=0;f4<Y;f4++){r[(O*d+W)*G+A]=F[i+f4];
O++}i+=Y}}}}}else console.log(K.UK)}var V=X==0?17:Math.round((X-n)*1e3/60);M.push({data:w(F,r),MR:new bd(0,0,g,o),a7i:r,ZZ:"_a_frm"+I+","+V});
n=X}M[0].ZZ=M[1].ZZ;return M}function L(P,Q){var x,F;T=0;a=0;t=0;j=0;e=0;for(var E=0;E<P.sub.length;
E++){var f=P.sub[E],c=f.Y;if(f.UK=="BMHD"){var M=[];for(var m=0;m<4;m++)M[m]=S.EN(Q,c+2*m);c+=8;var n=M[2],X=M[3];
g=M[0];o=M[1];k=Q[c++];y=Q[c++];var u=Q[c++];if(u!=1)throw u;b=g+15>>>4<<1;d=k+y}else if(f.UK=="CMAP")T=c;
else if(f.UK=="CAMG"){var I=S.q(Q,c);a=I&32768,t=I&4,j=I&2048;e=I&128}else if(f.UK=="BODY"){F=_.Q(b*o*d);
hD.FF(Q,c,f.size,F,0,F.length)}}x=w(Q,F);return[{MR:new bd(0,0,g,o),data:x.buffer,a7i:F}]}function H(P,cy){return P[cy>>>3]>>>7-(cy&7)&1}function w(P,Q){var x=k-2,F=(1<<x)-1,E=Math.round(255/F),f,c,M,n=b*8,X=_.Q(g*o*4);
for(var u=0;u<o;u++)for(var I=0;I<g;I++){var r=0;for(var J=0;J<d;J++){var U=(u*d+J)*n+I,K=H(Q,U);r|=K<<J}r=r&(1<<k)-1;
var m=u*g+I,i=m<<2;if(T!=0){if(j!=0&&r>>>x!=0){var z=r>>>x,h=(r&F)*E;if(z==1)M=h;else if(z==2)f=h;else if(z==3)c=h}else{var h=T+r*3;
f=P[h+0];c=P[h+1];M=P[h+2]}}else{f=r>>>0&255;c=r>>>8&255;M=r>>>16&255}X[i+0]=f;X[i+1]=c;X[i+2]=M;X[i+3]=255}return X}return v}();
cp.qs={};cp.qs.nY=!1;cp.qs.p0=function(g,o,k,y){var d=g[0][4],b=new Uint8Array(g[0][0]),T=2,a=d?!0:!1,t=a?4:3,j=new Uint8Array(o*k*t);
for(var e=0;e<k;e++)for(var v=0;v<o;v++){var L=e*o+v<<2,H=((k-e-1)*o+v)*t;j[H]=b[L+2];j[H+1]=b[L+1];
j[H+2]=b[L+0];if(a)j[H+3]=d[0][e*o+v]}if(!0){var w=j.length,P=0,Q=new Uint8Array(w*2),x=0,F=0,E=o*t;
while(F<w){var f=F,c=0,M=E*(Math.floor(F/E)+1);while(f<M&&c<128){var n=!0;for(var m=0;m<t;m++)n=n&j[F+m]==j[f+m];
if(!n)break;f+=t;c++}if(c==1){var X=1;while(X<128&&F+(X+1)*t<M){var n=!0,u=F+X*t;for(var m=0;m<t;m++)n=n&j[u+m]==j[u+t+m];
if(n)break;X++}Q[x++]=X-1;for(var I=0;I<X;I++)for(var m=0;m<t;m++)Q[x++]=j[F++]}else{Q[x++]=127+c;for(var m=0;
m<t;m++)Q[x+m]=j[F+m];x+=t;F+=t*c;P+=c}}j=Q.slice(0,x);T+=8}var r=new Uint8Array(18+j.length+26);r[2]=T;
S.SQ(r,12,o);S.SQ(r,14,k);r[16]=t*8;r[17]=t==4?8:0;r.set(j,18);S.Ok(r,18+j.length+8,"TRUEVISION-XFILE.");
return r.buffer};cp.qs.pO=function(g){var o=new Uint8Array(g),k=0,y=o[0],d=o[1],b=o[2],T=o[4]*256+o[3],a=o[6]*256+o[5],t=o[7],j=o[9]*256+o[8],e=o[11]*256+o[10],v=o[13]*256+o[12],L=o[15]*256+o[14],H=o[16],w=o[17],P=w>>>4,Q=S.lp(o,18,y),x=_.Q(v*L*4),k=18+y+(a*t>>>3),F=new Uint8Array(o.buffer,k);
if(b>3){var E=0,f=o,c=new Uint8Array(v*L*H>>>3),M=k,n=0,X=o.length,u=H>>>3;while(n<c.length){var cy=f[M];
M++;if(cy<128)for(var m=0;m<cy+1;m++){for(var I=0;I<u;I++){c[n]=f[M];n++;M++}}else{for(var m=0;m<cy-127;
m++){for(var I=0;I<u;I++){c[n]=f[M+I];n++}}M+=u}}b-=8;F=c;k=M}else k+=v*L*H>>>3;var r=new Uint8Array(4),J=cp.qs.av3;
for(var U=0;U<L;U++)for(var K=0;K<v;K++){var i=(P&2)==0?(L-U-1)*v+K:U*v+K,z=U*v+K,h,R,C,G=255,W=i*H>>>3;
if(b==1){var A=0;if(H==8)A=F[W];else throw"e";J(o,18+y+T+(A*t>>>3),t,r);h=r[0];R=r[1];C=r[2];G=r[3]}else if(b==2){J(F,W,H,r);
h=r[0];R=r[1];C=r[2];G=r[3]}else if(b==3){if(H==8)h=R=C=F[W];else throw"e"}var $=z*4;x[$]=h;x[$+1]=R;
x[$+2]=C;x[$+3]=G}var r={MR:new bd(0,0,v,L),data:x.buffer,ZZ:Q};if(_.Yj(x)){var O=_.Q(v*L);_.B4(x,O,3);
_.Sm(x,4278190080,16777215);r.Tm=[O]}return[r]};cp.qs.av3=function(g,o,k,y){var d,b,T,a=255;if(k==24||k==32){T=g[o];
b=g[o+1];d=g[o+2];if(k==32)a=g[o+3]}else if(k==16){var t=g[o+1]<<8|g[o+0];d=t>>>10&31;b=t>>>5&31;T=t>>>0&31;
d=Math.round(d*(255/31));b=Math.round(b*(255/31));T=Math.round(T*(255/31))}else throw"e";y[0]=d;y[1]=b;
y[2]=T;y[3]=a};cp.a8l=function(){var g,o=[],k=!1;function y(T,a,t,j){g=t;o.push(T,j);d()}function d(){if(k||o.length==0)return;
k=!0;cp.azh(o.shift(),"image/avif",b)}function b(T){g(null,[T],o.shift());k=!1;d()}return{nY:!1,s9:!0,pO:y}}();
cp.agi=function(){var g,o=[],k=!1,y,d,b,T,a,t,j=10,e=0;function v(Q,x,F,E,f){g=F;o.push(Q,E);var c=new jB(N.E.s,!0);
c.data={P:N.b.xp,Pv:"setFPS",Ad:j,H_:L};f.S(c)}function L(Q){j=Math.max(1,Math.min(60,Q));H()}function H(){if(k||o.length==0)return;
k=!0;y=document.createElement("canvas");d=y.getContext("2d");b=document.createElement("video");var Q="data:"+"video/mp4"+";base64,"+cp.ZE(o.shift());
b.src=Q;b.muted=!0;b.currentTime=0;b.addEventListener("canplay",w,!1);b.addEventListener("timeupdate",P,!1)}function w(Q){b.removeEventListener("canplay",w);
T=y.width=b.videoWidth;a=y.height=b.videoHeight;t=[];b.play()}function P(Q){clearTimeout(e);d.drawImage(b,0,0);
t.push({ZZ:"_a_"+t.length+","+Math.round(1e3/j),MR:new bd(0,0,T,a),data:d.getImageData(0,0,T,a).data.buffer});
var x=b.currentTime+1/j;if(x<b.duration&&Q){b.currentTime=x;e=setTimeout(P,1e3)}else{g(null,t,o.shift());
b.removeEventListener("timeupdate",P);k=!1;H();t=null}}return{nY:!1,s9:!0,pO:v}}();cp.uz={};cp.uz.pO=function(g){var o=new Uint8Array(g),k=0,y=112,d=42,b=S._u,e;
k+=8;var T=o[k];k++;if(T!=d)throw"e";var a=b(o,k);k+=4;var t=S.VL(o,k,a);k+=a*2;var j=[];while(k<o.length){e=b(o,k);
k+=4;if(e!=y)throw e;k+=4;e=o[k];k++;if(e!=d)throw e;var v=b(o,k);k+=4;var L=o[k];k++;if(L!=d){k-=5;
v=b(o,k);k+=8;e=o[k];k++;if(e!=d)throw e}var H=b(o,k)*2;k+=4;if(v>0)j.push(k+H);k+=H+v}var w=new DOMParser,P=w.parseFromString(t,"image/svg+xml").firstChild.firstChild,Q=[];
cp.uz.Bl(P,o,j,Q);return Q};cp.uz.Bl=function(g,o,k,y){var d=g.firstChild.firstChild;if(d.tagName=="Image"){var b=d.getElementsByTagName("ImageDescription")[0],T=b.children[0].children,a=b.children[1].children,t=k.shift(),j=[];
for(var m=0;m<a.length;m++)j.push(parseInt(a[m].getAttribute("NumberOfElements")));while(j.length>3)j[2]*=j.pop();
var e=T.length,v=j[0],L=j[1],H=j[2],w=parseInt(a[0].getAttribute("BytesInc"));for(var P=0;P<H;P++){var Q=_.Q(v*L*4);
_.Sm(Q,4278190080);for(var x=0;x<e;x++){var F=_.Q(v*L);if(w==1)for(var E=0;E<F.length;E++)F[E]=o[t+E];
else if(w==2)for(var E=0;E<F.length;E++)F[E]=Math.min(255,(o[t+E*2+1]<<8|o[t+E*2])>>>2);else throw w;
if(x!=3)_.e_(F,Q,x);if(e==1){_.e_(F,Q,1);_.e_(F,Q,2)}t+=v*L*w}y.push({MR:new bd(0,0,v,L),data:Q.buffer})}}else{var f=g.children,c=0;
while(c<f.length&&f[c].tagName!="Children")c++;if(c==f.length)throw"e";f=f[c].children;for(var M=0;M<f.length;
M++)cp.uz.Bl(f[M],o,k,y)}};cp.ak2=function(){function g(T,a,t,j,e){var v=new Int8Array(T.buffer),L=new Int8Array(j.buffer),H=a+t;
while(a<H){var cy=v[a];a++;if(cy>=0&&cy<128)for(var m=0;m<cy+1;m++){L[e]=v[a];e++;a++}if(cy>=-127&&cy<0){for(var m=0;
m<-cy+1;m++){L[e]=v[a];e++}a++}}return e}function o(T,a,t,j,e,v){var L=a*t*j>>>3,H=_.Q(L*e),w=y(T,0,0)[0];
for(var P=0;P<e;P++){var Q=w[P+1];if(v){var x=cp.rJ("jpg").pO(Q.buffer),F=_.Q(L);_.h4(new Uint8Array(x[0].data),F);
H.set(F,L*P)}else if(Q[0]==255&&Q[1]==216&&Q[2]==255){var E=UTIF.LosslessJpegDecode(Q);H.set(new Uint8Array(E.buffer),L*P)}else g(Q,64,Q.length,H,L*P)}return H}function k(T){var a=new Uint8Array(T),t=0,j=S.lp(a,0,128);
t+=128;var e=S.lp(a,t,4);t+=4;var v=d(a,t,0)[0],L=v.g28;if(L==null){alert("No image.");return[]}var H=L.cols,w=L.rows,P=H*w,Q=L.photoInterpret,x=L.bitsAlloc,F=L.bitsStored,E=L.lossyCompr;
if(E==null)E=v.g8.lossyCompr;var f=v.g7fe0.pixelData,c=L.numOfFrames;c=c?parseInt(c):1;var M=new Uint8Array(f.buffer),n=P*x>>>3;
if(M.length!=n*c){f=o(f,H,w,x,c,E)}else{}if(x==16)f=new Uint16Array(f.buffer);console.log(L);console.log(v);
var X=[];for(var u=0;u<c;u++){var I=u*n,T=_.Q(H*w*4);T.fill(255);if(Q=="MONOCHROME2"){var r=0,J=255,U=L.largestValue,K=L.smallestValue;
if(U!=null){J=U;r=K}else if(F!=8){J=0;r=1e9;for(var m=0;m<P;m++){var i=f[I+m];if(i>1<<F-8){if(i>J)J=i;
if(i<r)r=i}}}var z=255/(J-r);for(var m=0;m<P;m++){var i=Math.max(0,Math.min(255,(f[I+m]-r)*z)),h=m*4;
T[h]=T[h+1]=T[h+2]=i}}else if(Q=="PALETTE COLOR"){var R=L.pltRed,C=L.pltGreen,G=L.pltBlue;for(var m=0;
m<P;m++){var W=f[I+m],h=m*4;T[h]=R[W]>>>8;T[h+1]=C[W]>>>8;T[h+2]=G[W]>>>8}}else throw Q;X.push({MR:new bd(0,0,H,w),data:T.buffer})}return X}function y(T,a,t){var j=S.Ha,e=S.R5,v=S._u,L=[],H=a;
while(a<T.length){var w=j(T,a);a+=2;var P=j(T,a);a+=2;var Q=v(T,a);a+=4;if(w==65534&&P==57344){if(Q==4294967295){var x=d(T,a,t+1);
L.push(x[0]);a=x[1]}else{L.push(T.slice(a,a+Q));a+=Q}}else if(w==65534&&P==57357){}else if(w==65534&&P==57565)break;
else throw"e"}return[L,a]}function d(T,a,t){var j=S.Ha,e=S.R5,v=S._u,L={},H="\t".repeat(t);while(a<T.length){var w=j(T,a),F="",E=0,c=null;
a+=2;var P=j(T,a);a+=2;var Q=w.toString(16),x=P.toString(16);if(w==65532)break;if(w==65534&&P==57357){a-=4;
break}if(w==65534&&P==57565)throw"e";if(P==0){a+=8;continue}if(65<=T[a+1]){F=S.lp(T,a,2);a+=2;if(F=="OB"||F=="SQ"||F=="OW"){E=v(T,a+2);
a+=6}else{E=j(T,a);a+=2}}else{F=b[Q][x].split(",")[1];E=v(T,a);a+=4}var f=b[Q][x];if(f)f=f.split(",")[0];
if(f==null){f="t"+x}if(F=="SQ"){var M=y(T,a,t);c=M[0];a=M[1];E=0}else if(F=="US")c=j(T,a);else if(F=="SS")c=e(T,a);
else if(F=="UL")c=v(T,a);else if(F=="FL")c=S.DF(T,a);else if(F=="AT")c=[j(T,a),j(T,a+2)];else if(F=="OB")c=T.slice(a,a+E);
else if(F=="OW")c=new Uint16Array(T.slice(a,a+E).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(F)!=-1){var n=a+E;
while(T[n-1]==0)n--;c=S.lp(T,a,n-a).trim()}else{console.log(H,JSON.stringify(S.lp(T,a,Math.min(E,32))));
throw F}if(L["g"+Q]==null)L["g"+Q]={};L["g"+Q][f]=c;a+=E}return[L,a]}var b={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{pO:k}}();cp.Vh={};cp.Vh.pO=function(g){var o=new Uint8Array(g),k=0,y={},e=1e9;for(var m=0;m<306;
m++){var d=S.lp(o,k,8).trim(),b=S.lp(o,k+9,71).split("/")[0].trim();y[d]=b;k+=80;if(d=="END"){k=Math.ceil(k/2880)*2880;
break}}var T=parseInt(y.NAXIS1),a=parseInt(y.NAXIS2),t=T*a,j=parseInt(y.BITPIX),v=-1e9,L=new Float32Array(t),H=new Float32Array(g,k,g.byteLength-k>>>2);
for(var m=0;m<t;m++){var w=m<<2,P=m<<1;if(j==-32){var Q=o[k+w+0];o[k+w+0]=o[k+w+3];o[k+w+3]=Q;var Q=o[k+w+1];
o[k+w+1]=o[k+w+2];o[k+w+2]=Q;L[m]=H[m]}else if(j==16){L[m]=S.Ha(o,k+P)}else throw j;var x=L[m];if(x<e)e=x;
if(x>v)v=x}var F=_.Q(t*4),E=1/v;for(var f=0;f<a;f++)for(var c=0;c<T;c++){var m=f*T+c,M=(a-f-1)*T+c,w=M<<2,x=L[m]*E;
F[w]=F[w+1]=F[w+2]=255*x;F[w+3]=255}return[{MR:new bd(0,0,T,a),data:F,ZZ:y.OBJECT}]};cp.bJ={};cp.bJ.pO=function(g){var o=new Uint8Array(g),k=16,y=S.lp(o,k,4),b=32,x=0,F=0,E=!1,R;
k+=4;var d=S.lp(o,k,8);k+=8;while(o[k+b-1]==0)b--;var T=S.lp(o,k,b);k+=32;var a=S.lp(o,k,4);k+=4;k+=20;
var t=S.q(o,k);k+=4;var j=S.q(o,k);k+=4;var e=S.q(o,k);k+=4;var v=S.q(o,k);k+=4;var L=S.q(o,k);k+=4;
var H=S.q(o,k);k+=4;var w="FujiFilm "+T,P=[0,1,1,2];if(w=="FujiFilm X10"){w="FujiFilm FinePix X10";P=[2,1,1,0]}var Q={t271:["FujiFilm"],t272:[w],t277:[1],t33421:[2,2],t33422:P,Qx:1};
k=e;var f=[],c=S.EN,M=S.q(o,k);k+=4;for(var m=0;m<M;m++){var n=c(o,k);k+=2;var X=c(o,k);k+=2;if(n==256){F=c(o,k);
x=c(o,k+2)}else if(n==272){f=[c(o,k),c(o,k+2)]}else if(n==273){f.push(c(o,k),c(o,k+2))}else if(n==304){E=!(o[k]>>>7)}else if(n==305){var u=Math.round(Math.sqrt(X)),I=[];
for(var r=0;r<X;r++)I.push(o[k+r]);I.reverse();Q.t33421=[u,u];Q.t33422=I}else if(n==12272){var J=c(o,k),U=c(o,k+2),K=c(o,k+6);
Q.t50728=[J/U,1,J/K]}k+=X}var i=x<F,z=o.slice(L,L+H),h=Math.round(H*8/(x*F));if(z[0]==73&&z[1]==73&&z[2]==42){R=UTIF.decode(z.buffer)[0].fujiIFD;
h=R.t61443[0];var C=R.t61454,G=R.t61450;if(G)Q.t50714=G;if(C)Q.t50728=[C[0]/C[1],1,C[0]/C[2]];var W=R.t61447[0];
z=z.slice(W,W+R.t61448[0])}var H=z.length,A=H*8<x*F*h;if(A){console.log("compressed");var $=Q.t33422,O=~~Math.sqrt($.length),Y=[];
for(var m=0;m<O;m++)Y[m]=$.slice(m*O,m*O+O);z=new Uint8Array(UTIF._decompressRAF(z,Y).buffer);H=z.length}function l(s,cW,dk){dk=dk<<8-(cW&7);
var kr=cW>>>3;s[kr]|=dk>>>16;s[kr+1]|=dk>>>8;s[kr+2]|=dk}var B=H*8/(x*F);if(B==16)for(var m=0;m<H;m+=2){var f4=z[m];
z[m]=z[m+1];z[m+1]=f4}else if(B==14){for(var m=0;m<H;m+=4){var f4=z[m];z[m]=z[m+3];z[m+3]=f4;f4=z[m+1];
z[m+1]=z[m+2];z[m+2]=f4}}else if(B==12)for(var m=0;m<H;m+=3){var V=z[m+2]<<16|z[m+1]<<8|z[m+0];V=V>>>12|(V&4095)<<12;
z[m]=V>>>16&255;z[m+1]=V>>>8&255;z[m+2]=V&255}if(i)z=cp.bJ.a1A(z,x,F);var q=i?2:1;x*=q;Q.t256=[x];Q.t257=[F];
Q.t258=[h];Q.t50719=[f[1],f[0]*q];Q.t50720=[f[3],f[2]*q];Q.width=x;Q.height=F;Q.data=new Uint8Array(z.buffer);
return[Q]};cp.bJ.a1A=function(g,o,k){g=new Uint16Array(g.buffer);var y=new Uint16Array(o*k*2);for(var d=0;
d<k;d+=2)for(var b=0;b<o;b++){var T=d*o+b,a=T*2,t=g[T],j=g[T+o];y[a+1]=y[a+2*o]=j;if(((d>>>1)+b&1)==0){y[a]=t;
y[a+2*o+1]=g[T+1]}else{y[a]=g[T-1];y[a+2*o+1]=t}}return y};cp.Zs={};cp.Zs.o5=!0;cp.Zs.p0=function(g,o,k,y){var d=new Uint8Array(g[0][0]),b=o*k,T=[1,3,4][y[0]],a=8+8*y[1],t=y[2];
if(T==1){var j=new Uint8Array(o*k);_.B4(d,j,0);d=j}if(T==3){var j=new Uint8Array(o*k*3);for(var m=0;
m<b;m++){var e=m*4,v=m*3;j[v]=d[e];j[v+1]=d[e+1];j[v+2]=d[e+2]}d=j}if(a==16){var L=d.length,j=new Uint8Array(L*2);
for(var m=0;m<L;m++){var H=Math.round(d[m]*(65535/255));j[m*2+t]=H>>>8;j[m*2+1-t]=H&255}d=j}return d.buffer};
cp.el={};cp.el.pO=function(g,o){function k(t){return~~(.5+_.WW(Math.max(0,Math.min(1,t)))*255)}var y=EXRLoader.parse(g),d=y.width,b=y.height,T=_.Q(d*b*4);
for(var a=0;a<b;a++)for(var t=0;t<d;t++){var m=(a*d+t)*4,j=((b-a-1)*d+t)*4;T[m]=k(y.data[j+0]);T[m+1]=k(y.data[j+1]);
T[m+2]=k(y.data[j+2]);T[m+3]=k(y.data[j+3])}return[{MR:new bd(0,0,d,b),data:T.buffer}]};cp.un={};cp.un.o5=!0;
cp.un.nY=!0;cp.un.p0=function(g,o,k,y,d){y=["",100,!1,!1,!1,0];y[6]=["jpg"];var b=new ToDXF;gx.Z0(g,y,b,d.At);
return b.buffer};cp.un.pO=function(g,o){var k=72,y=new d3(1,0,0,1,0,0);y.scale(k/72,k/72);o.Qb=k;var d=new eT(o,y,!1);
FromDXF.Parse(g,d)};cp.cU={};cp.cU.pO=function(){var g=S.Ha,o=S._u,k=S.lp,y;function d(T,a,t,j,e){var v=o(T,t),L=o(T,t+4),H=o(T,t+8),w=g(T,t+12),P=g(T,t+14);
t+=16;var Q={};for(var m=0;m<w+P;m++){var x=o(T,t),F=o(T,t+4),E,f;if(x>>>31==1){x=x&16777215}if(m<w)E=S.VL(T,a+x+2,g(T,a+x));
else E="id"+x;var c=j.slice(0);c.push(E);if(F>>>31==1){F=F&268435455;f=d(T,a,a+F,c,e)}else{var M=o(T,a+F),n=o(T,a+F+4),X=o(T,a+F+8),u=o(T,a+F+12);
if(u!=0)throw"e";if(M<e[0]||M>e[0]+e[1])throw"e";var I=e[2]+M-e[0];f=T.slice(I,I+n);var r=cp.tW(f.buffer);
if(r&&["bmp","png","ico"].indexOf(r)!=-1){var J=cp.rJ(r);if(!J.nY){var U=null;try{U=J.pO(f.buffer)}catch(d9){}if(U){U[0].ZZ=c[1];
y.push(U[0])}}}else if(r)console.log(r)}Q[E]=f;t+=8}return Q}function b(T){y=[];var a=new Uint8Array(T),t=0,j=g(a,t);
t+=2;t+=58;var e=o(a,t);t+=4;t=e;var v=k(a,t,4);t+=4;var L=g(a,t);t+=2;var H=g(a,t);t+=2;var w=o(a,t);
t+=4;var P=o(a,t);t+=4;var Q=o(a,t);t+=4;var x=g(a,t);t+=2;var F=g(a,t);t+=2;t+=x;var E={};for(var m=0;
m<H;m++){var f=t;while(a[f]!=0)f++;var c=k(a,t,f-t),M=o(a,t+8),n=o(a,t+12),X=o(a,t+16),u=o(a,t+20),I=o(a,t+24),r=o(a,t+28),J=g(a,t+32),U=g(a,t+34),F=o(a,t+36);
E[c]=[n,M,u,X,F];if(I+r!=0)throw"e";t+=40}for(var K in E){var i=E[K];t=i[2];if(K==".rsrc"){var z=d(a,t,t,[],i),h="id134"}}return y}return b}();
cp.YW={};cp.YW.nY=!0;cp.YW.pO=function(g,o,k){k4.Qt(g,o,k)};(function(){var g=cp.WL.get("wasm/zstd").buffer;
WebAssembly.instantiate(g).then(function(o){var k=o.instance.exports;cp.YW.a8g=k})}());cp.YW.QA=function(g,o){var k=cp.YW.a8g,y=g.length,d=k.memory,b=2*y+1e6,t=8;
cp.Al(k,b);var T=new Uint8Array(d.buffer),a=k.malloc(y);T.set(g,a);while(!0){var j=o==null?y*t:o;cp.Al(k,b+j);
var e=k.malloc(j),v=k.ZSTD_decompress(e,j,a,y);if(v==-70){k.free(e);t+=t>>>1;if(o!=null)throw"error"}else{T=new Uint8Array(d.buffer);
g=T.slice(e,e+v);k.free(e);break}}k.free(a);return g};cp.Qo={};cp.Qo.nY=!0;cp.Qo.pO=function(){var g=0,o=1,k=2,y=3,d=4,b=5,T=6,a=7,t=1,j=2,e=7,v=8,L=9,H,w,P,Q,x;
function F(){var cy=S.da(H,w);w+=4;return cy}function E(){var R=0,C=0;for(var m=0;m<5;m++){var G=H[w++];
R+=(G&127)<<C;C+=7;if((G&128)==0)break}return R}function f(){var R=E(),C=S.IL(H,w,R);w+=R;return C}function c(){return{typeName:f(),aiU:F()}}function M(){var R=F(),C=f(),G=[],W=F();
for(var m=0;m<W;m++)G.push([f()]);return{id:R,PK:C,adt:G}}function n(R){var C=R.adt,G=[];for(var m=0;
m<C.length;m++)C[m].push(H[w++]);for(var m=0;m<C.length;m++){var W=C[m][1],A;C[m].push(X(W))}}function X(R){var C;
if(R==g)C=H[w++];else if(R==y)C=f();else if(R==d)C=c();else if(R==o||R==k||R==T||R==b){}else throw R;
return C}function u(R,C,G){var W;if(R==g){if(C==t)W=H[w++]==1;else if(C==j){W=H[w++]}else if(C==v)W=F();
else if(C==L){W=F();F()}else throw C}else if(R==y){W=U(G+1)}else if(R==d){W=U(G+1)}else if(R==b){W=U(G+1)}else if(R==o){W=U(G+1)}else if(R==T){W=U(G+1)}else throw R;
return W}function I(R,C){var G=P["c"+R],W=G.adt,A={_class:G.PK};for(var m=0;m<W.length;m++){var $=W[m],O=$[1],Y=$[2],l=u(O,Y,C),B=$[0];
A[B]=l}return A}function r(R,C,G,W){var A=[];for(var m=0;m<R;m++){var $=u(C,G,W);if($.la&&$.la=="null_count"){var O=$._Q;
for(var Y=0;Y<O;Y++)A.push(null);m+=O-1}else A.push($)}return A}function J(){return[F(),F()]}function U(R){if(R==null)throw"e";
var C=null,G=H[w],W=null;w++;if(G==0){var A=F(),$=F(),O=F(),Y=F();C=[A,$,O,Y]}else if(G==1){W=F();var l=F();
C=I(l,R)}else if(G==4){var B=M();W=B.id;n(B);P["c"+B.id]=B;C=I(B.id,R)}else if(G==5){var B=M();W=B.id;
n(B);var f4=F();P["c"+B.id]=B;C=I(B.id,R)}else if(G==6){W=F();var V=f();C=V}else if(G==7){W=F();var q=H[w++];
if(q!=0)throw q;var s=F();if(s!=1)throw s;var cW=F(),dk=H[w++],kr=X(dk);C=r(cW,dk,kr,R)}else if(G==9){var j9=F();
C={la:"ref",_Q:j9};x["o"+j9]=!0}else if(G==10){C={la:"null_count",_Q:1}}else if(G==11){C={la:"end"}}else if(G==12){var f4=F(),bh=f()}else if(G==13){var fe=H[w++];
C={la:"null_count",_Q:fe}}else if(G==16){var gg=J();W=gg[0];C=r(gg[1],d,null,R)}else if(G==17){var gg=J();
W=gg[0];C=r(gg[1],o,null,R)}else throw"e";if(W!=null&&W>0){if(Q["o"+W]!=null)throw"e";Q["o"+W]=C}return C}function K(R,Q){if(R instanceof Array){for(var m=0;
m<R.length;m++)R[m]=i(R[m],Q)}else if(R instanceof Object){for(var C in R)R[C]=i(R[C],Q)}}function i(R,Q){if(R&&R.la&&R.la=="ref")return Q["o"+R._Q];
else return R}function z(R,C,G){H=new Uint8Array(R);w=0;P={};Q={};x={};var W=S.lp(H,0,4);if(W!="PDN3")throw W;
w+=4;var A=S.Ha(H,w)+H[w+2]*256*256;w+=3;var $=S.lp(H,w,A);w+=A;w+=2;while(!0){var O=U(0);if(O&&O.la&&O.la=="end")break}for(var Y in x)if(Q[Y]==null)throw Y;
for(var Y in Q)K(Q[Y],Q);var l=Q.o1;console.log(l);C.m=l.width;C.n=l.height;C.buffer=_.Q(C.m*C.n*4);
var B=l.layers["ArrayList+_items"];for(var m=0;m<B.length;m++){var f4=B[m];if(f4==null)continue;console.log(f4);
var V=f4["Layer+width"],q=f4["Layer+height"],s=f4["Layer+properties"],cW=f4.properties,dk=cW.blendOp._class.split("+").pop();
dk=dk.slice(0,dk.length-7);var kr={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[dk],j9=C.Qf();
j9.mP(s.name);j9.opacity=s.opacity;j9.qj(s.visible);j9.HW=kr;var bh=1<<16,fe=Math.ceil(V*q/bh);j9.rect=new bd(0,0,V,q);
j9.buffer=_.Q(V*q*4);var gg=j9.buffer;w+=5;for(var a$=0;a$<fe;a$++){var dg=h();gg.set(dg[1],dg[0]*bh*4)}for(var iv=0;
iv<gg.length;iv+=4){var aQ=gg[iv+0];gg[iv+0]=gg[iv+2];gg[iv+2]=aQ}C.d.push(j9)}}function h(){var R=S.q(H,w);
w+=4;var C=S.q(H,w);w+=4;var G=pako.inflateRaw(H.slice(w+10));w+=C;return[R,G]}return z}();cp.Nq={};
cp.Nq.nY=!0;cp.Nq.pO=function(g,o){au.Qt(g,o)};var gl={};gl.yu=!1;gl.lb=!1;gl.HK=!1;gl.T=document.createElement("canvas");
gl.iS=null;gl.x5=null;gl.K1=0;(function(){var g={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},o;
if(!o)o=gl.T.getContext("webgl",g);if(!o)o=gl.T.getContext("experimental-webgl",g);if(o){gl.yu=!0;gl.lb=!0;
gl.iS=o;gl.x5=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,gl.x5);o.disable(o.BLEND);o.disable(o.DEPTH_TEST);
var k=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,k);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);
o.enableVertexAttribArray(0);o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0)}}());gl.aqF=function(g){g=g.replace(/\s\s+/g," ");
g=g.replace(/; /g,";");g=g.replace(/} /g,"}");g=g.replace(/ }/g,"}");g=g.replace(/{ /g,"{");g=g.replace(/ {/g,"{");
g=g.replace(/= /g,"=");g=g.replace(/ =/g,"=");g=g.replace(/\| /g,"|");g=g.replace(/ \|/g,"|");return g};
gl.AG=function(g){var o=gl.iS;if(g>o.getParameter(o.MAX_TEXTURE_SIZE)){gl.yu=!1;alert("Disabling WebGL")}};
gl.T5=function(g,o){return new Float32Array([(g.x-o.x)/o.m,(g.y-o.y)/o.n,g.m/o.m,g.n/o.n])};gl.r8=function(){return this.T};
gl.z9=function(g,o){var k=gl.iS;k.bindFramebuffer(k.FRAMEBUFFER,gl.x5);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,g.fn,0);
k.viewport(0,0,g.m,g.n);if(o){k.enable(k.SCISSOR_TEST);k.scissor(o.x,o.y,o.m,o.n)}else k.disable(k.SCISSOR_TEST)};
gl.Xw=function(g,o,k){if(k)throw"error";var y=gl.iS;y.disable(y.SCISSOR_TEST);y.bindFramebuffer(y.FRAMEBUFFER,null);
y.viewport(0,0,g,o);if(k){y.enable(y.SCISSOR_TEST);y.scissor(k.x,k.y,Math.round(k.m),Math.round(k.n))}else y.disable(y.SCISSOR_TEST)};
gl.clear=function(){var g=gl.iS;g.clearColor(0,0,0,0);g.clear(g.COLOR_BUFFER_BIT)};gl.J_=function(g,o){if(o==null)o=0;
var k=(o>>>0&255)==0,y=(o>>>8&255)==0,d=(o>>>16&255)==0,b=(o>>>24&255)==0,T=(g>>>0&255)*(1/255),a=(g>>>8&255)*(1/255),t=(g>>>16&255)*(1/255),j=(g>>>24&255)*(1/255),e=gl.iS;
e.colorMask(k,y,d,b);e.clearColor(T,a,t,j);e.clear(e.COLOR_BUFFER_BIT);e.colorMask(!0,!0,!0,!0)};gl.eS=function(g,o,k,y,d){var b=o.Nm(y);
if(d)b=b.Nm(d);if(b.on())return;var T=gl.iS;gl.z9(g);T.bindTexture(T.TEXTURE_2D,k.fn);T.copyTexSubImage2D(T.TEXTURE_2D,0,b.x-y.x,b.y-y.y,b.x-o.x,b.y-o.y,b.m,b.n)};
gl.IJ=function(m,g,o){var k=gl.jt[m];if(k==null||k.m!=g||k.n!=o){if(k)k.delete();k=new gl.up(g,o)}gl.jt[m]=k;
return k};gl.jt=[];gl.pw=function(){this.AN=null;this.Df=null};gl.pw.Pt=null;gl.pw.prototype.r0=function(g){if(this.Df)return;
this.Df={};var o=gl.iS,k=this.AN,y=this.Df;for(var m=0;m<g.length;m++){var d=g[m];y[d]=o.getUniformLocation(k,d)}};
gl.pw.prototype.NY=function(){};gl.pw.prototype.E7=function(g){var o=gl.iS;for(var m=0;m<g.length;m+=2){o.uniform1i(g[m],m>>>1);
o.activeTexture(o["TEXTURE"+(m>>>1)]);o.bindTexture(o.TEXTURE_2D,g[m+1])}o.activeTexture(o.TEXTURE0)};
gl.pw.prototype.Iq=function(g,o){var k=gl.iS,y=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(y,g);
k.compileShader(y);if(!k.getShaderParameter(y,k.COMPILE_STATUS))console.log(k.getShaderInfoLog(y));var d=k.createShader(k.VERTEX_SHADER);
k.shaderSource(d,o);k.compileShader(d);if(!k.getShaderParameter(d,k.COMPILE_STATUS))console.log(k.getShaderInfoLog(d));
var b=k.createProgram();k.attachShader(b,d);k.attachShader(b,y);k.linkProgram(b);if(!k.getProgramParameter(b,k.LINK_STATUS))console.log("Could not initialise shaders");
this.AN=b};gl.pw.prototype.kp=function(){if(gl.pw.Pt!=this){gl.iS.useProgram(this.AN);gl.pw.Pt=this}};
gl.IW=function(g,o){gl.qt++;gl.K1+=g*o;if(gl.HK)console.log("GL.Channels instances: "+gl.qt+", memory: "+gl.K1);
var k=gl.iS;this.m=g;this.n=o;this.fn=k.createTexture();this.zF=null;this.FI(this.fn,g,o)};gl.IW.prototype.FI=function(g,o,k){var y=gl.iS;
y.bindTexture(y.TEXTURE_2D,g);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);
y.texImage2D(y.TEXTURE_2D,0,y.ALPHA,o,k,0,y.ALPHA,y.UNSIGNED_BYTE,null)};gl.IW.prototype.set=function(g,o){var k=gl.iS;
k.bindTexture(k.TEXTURE_2D,this.fn);k.pixelStorei(k.UNPACK_ALIGNMENT,1);var y=this.m*this.n;if(o==null||o.O()*10>y)k.texImage2D(k.TEXTURE_2D,0,k.ALPHA,this.m,this.n,0,k.ALPHA,k.UNSIGNED_BYTE,g);
else{var d=new bd(0,0,this.m,this.n),b=_.Q(o.O());_.sQ(g,d,b,o);k.texSubImage2D(k.TEXTURE_2D,0,o.x,o.y,o.m,o.n,k.ALPHA,k.UNSIGNED_BYTE,b)}k.pixelStorei(k.UNPACK_ALIGNMENT,4)};
gl.IW.prototype.delete=function(){var g=gl.iS;if(this.fn){g.deleteTexture(this.fn);gl.qt--;gl.K1-=this.m*this.n}if(gl.HK)if(gl.HK)console.log("GL.Channels instances: "+gl.qt+", memory: "+gl.K1*4)};
gl.qt=0;gl.up=function(g,o,k){if(k==null)k=!1;gl.qt++;gl.K1+=g*o*4;if(gl.HK)console.log("GL.Channels instances: "+gl.qt+", memory: "+gl.K1);
var y=gl.iS;this.a25=k;this.m=g;this.n=o;this.fn=y.createTexture();this.zF=null;this.FI(this.fn,g,o)};
gl.up.prototype.set=function(g,o){var k=gl.iS;k.disable(k.SCISSOR_TEST);k.bindTexture(k.TEXTURE_2D,this.fn);
if(g==null||g instanceof Uint8Array){var y=this.m*this.n;if(o==null||o.O()*10>y)k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.m,this.n,0,k.RGBA,k.UNSIGNED_BYTE,g);
else{var d=_.Q(o.O()*4);_.g1(g,new bd(0,0,this.m,this.n),d,o);k.texSubImage2D(k.TEXTURE_2D,0,o.x,o.y,o.m,o.n,k.RGBA,k.UNSIGNED_BYTE,d)}}else k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,g)};
gl.up.prototype.get=function(g){var o=gl.iS;gl.z9(this);o.readPixels(0,0,this.m,this.n,o.RGBA,o.UNSIGNED_BYTE,g)};
gl.up.prototype.fv=function(g){if(g.on())return;var o=gl.iS;if(this.zF==null){this.zF=o.createTexture();
this.FI(this.zF,this.m,this.n);gl.qt++;gl.K1+=this.m*this.n*4}o.bindFramebuffer(o.FRAMEBUFFER,gl.x5);
o.bindTexture(o.TEXTURE_2D,this.zF);if(g){var k=Math.max(g.x,0),y=Math.max(g.y,0);o.copyTexSubImage2D(o.TEXTURE_2D,0,k,y,k,y,g.m,g.n)}else o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,this.m,this.n,0)};
gl.up.prototype.FI=function(g,o,k){var y=gl.iS;y.bindTexture(y.TEXTURE_2D,g);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.a25?y.LINEAR:y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texImage2D(y.TEXTURE_2D,0,y.RGBA,o,k,0,y.RGBA,y.UNSIGNED_BYTE,null)};
gl.up.prototype.delete=function(){var g=gl.iS;if(this.fn){g.deleteTexture(this.fn);gl.qt--;gl.K1-=this.m*this.n*4}if(this.zF){g.deleteTexture(this.zF);
gl.qt--;gl.K1-=this.m*this.n*4}if(gl.HK)if(gl.HK)console.log("GL.Channels instances: "+gl.qt+", memory: "+gl.K1)};
gl.up.prototype.clone=function(){var g=gl.iS,o=new gl.up(this.m,this.n);gl.z9(this);g.bindTexture(g.TEXTURE_2D,o.fn);
g.copyTexImage2D(g.TEXTURE_2D,0,g.RGBA,0,0,this.m,this.n,0);return o};gl.T0={anX:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",at4:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",pu:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",SR:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Zn:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",sN:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",bN:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",g8:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",avO:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",dm:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",abR:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Wv:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",mC:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",g4:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",bI:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",O3:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",RM:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",YN:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",cr:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aeR:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aag:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",G4:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",Av:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
gl.l={};gl.l.Qe={};gl.l.Re=null;gl.l.G3=null;gl.l.bf=null;gl.l._M=function(g,o,k,y,d,b,T,a){if(a==null)a=bs.Rl();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(g)==-1){T=T*a.fill;a.fill=1;a.style=!1}var t=g+(a.zK?"1":"");
if(gl.l.Qe[t]==null)gl.l.Qe[t]=new gl.l.tk(g,a.zK!=null);var j=gl.l.Qe[t],e=k.Nm(d).Nm(b);e.offset(-d.x,-d.y);
if(e.on())return;var v=gl.iS;gl.z9(y,e);y.fv(e);j.kp();j.NY(o.fn,y.zF,gl.T5(k,d),T,a.fill,a.style?1:0,a.qG?1:0,a.zK?new Float32Array(a.zK):null);
v.drawArrays(v.TRIANGLES,0,6)};gl.l.ud=function(g,o,k,y,d,b,T,a,t,j,e){if(gl.l.Re==null)gl.l.Re=new gl.l.Y1(!0,!0);
if(gl.l.G3==null)gl.l.G3=new gl.l.Y1(!0,!1);if(gl.l.bf==null)gl.l.bf=new gl.l.Y1(!1,!0);var v=j?1:0,L=g?d?gl.l.Re:gl.l.G3:gl.l.bf,H=new Float32Array(e?[e[0],e[1],e[2],1]:[1,1,1,1]),w=o?o.Nm(y).Nm(a):y.Nm(a);
if(w.on())return;w.offset(-y.x,-y.y);var P=gl.iS;gl.z9(k,w);k.fv(w);L.kp();if(g==null)L.NY(null,k.zF,d.fn,gl.T5(y,y),gl.T5(b,y),T/255,t,v,H);
else if(d)L.NY(g.fn,k.zF,d.fn,gl.T5(o,y),gl.T5(b,y),T/255,t,v,H);else L.NY(g.fn,k.zF,null,gl.T5(o,y),null,T/255,t,v,H);
P.drawArrays(P.TRIANGLES,0,6)};gl.l.aq1=function(g,o,k){if(gl.l.ai5==null)gl.l.ai5=new gl.l.A1;var y=gl.l.ai5,d=new bd(0,0,g.m,g.n),b=gl.iS;
gl.z9(o);o.fv(d);y.kp();y.NY(d,g.fn,o.zF,k.fn);b.drawArrays(b.TRIANGLES,0,6)};gl.l.NN={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
gl.l.tk=function(g,o){gl.pw.call(this);var k="\t\t\tprecision highp float;\t\t\t"+gl.T0.pu+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(o?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+gl.T0.sN+"\t\t\t"+gl.T0.bN+"\t\t\t"+gl.T0.g8+"\t\t\t"+gl.T0.anX+"\t\t\t"+gl.T0.at4+"\t\t\t"+gl.T0.avO+"\t\t\t"+gl.T0.dm+"\t\t\t"+gl.T0.abR+"\t\t\t"+gl.T0.Wv+"\t\t\t"+gl.T0.hash+"\t\t\t"+(o?gl.T0.G4:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+gl.l.NN[g]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",y="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(g=="diss")k+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else k+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(o?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Iq(k,y)};gl.l.tk.prototype=new gl.pw;gl.l.tk.prototype.NY=function(g,o,k,y,d,b,T,a){this.r0("srct alpha source target fill style keepBGA blIf".split(" "));
var t=gl.iS,j=this.Df;t.uniform4fv(j.srct,k);t.uniform1f(j.alpha,y);t.uniform1f(j.fill,d);t.uniform1f(j.style,b);
t.uniform1f(j.keepBGA,T);if(a)t.uniform4fv(j.blIf,a);this.E7([j.source,g,j.target,o])};gl.l.Y1=function(g,o){gl.pw.call(this);
this.a3T=g;this.Dc=o;var k="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+gl.T0.mC+"\t\t\t"+gl.T0.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(g?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(o?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(g?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(o?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",y="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Iq(k,y)};gl.l.Y1.prototype=new gl.pw;gl.l.Y1.prototype.NY=function(g,o,k,y,d,b,T,a,t){if(this.Dc)this.r0("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.r0("srct awg dissv source target cswitch".split(" "));var j=gl.iS,e=this.Df;j.uniform4fv(e.srct,y);
if(this.Dc){j.uniform4fv(e.wrct,d);j.uniform1f(e.wcolor,b)}else{j.uniform4fv(e.cswitch,t)}j.uniform1f(e.awg,T);
j.uniform1f(e.dissv,a);var v=[e.source,g,e.target,o];if(this.Dc)v.push(e.weight,k);this.E7(v)};gl.l.A1=function(){gl.pw.call(this);
var g="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",o="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Iq(g,o)};gl.l.A1.prototype=new gl.pw;gl.l.A1.prototype.NY=function(g,o,k,y){this.r0(["rct","prev","next","alpha"]);
var d=gl.iS,b=this.Df;d.uniform4fv(b.rct,[0,0,1,1]);this.E7([b.prev,o,b.next,k,b.alpha,y])};gl.JX={R$:{},gN:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
gl.JX.TK=function(g,o){var k=aj.dM,y=[k.eC,k.fC,k.RT,k.c_,k.Pg,k.wr,k.X3,k.pS].indexOf(g.type),d=gl.JX.R$[g.type];
if(d==null)d=gl.JX.R$[g.type]=new gl.R$[y];d.kp();d.NY(o,g);gl.iS.drawArrays(gl.iS.TRIANGLES,0,6)};gl.R$=[];
gl.R$[0]=function(){gl.pw.call(this);this._O={};var g="\t\t\tprecision mediump float;\t\t\t"+gl.T0.bN+"\t\t\t"+gl.T0.pu+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[0].prototype=new gl.pw;gl.R$[0].prototype.NY=function(g,o){var k={o:o.cN,C:o.ab,k:o.nG,Ng:_.Q(o.cN.length)},y=k.o.length;
if(this._O["m"+y]==null){this._O["m"+y]={a7q:new gl.up(y,1),rg:_.Q(y*4)}}var d=this._O["m"+y];_.Mh(k,d.rg,0);
var b=d.a7q;b.set(d.rg);this.r0(["source","map","toGray","presLum"]);var T=gl.iS,a=this.Df;T.uniform1f(a.toGray,o.QM?1:0);
T.uniform1f(a.presLum,o.ji?1:0);this.E7([a.source,g,a.map,b.fn])};gl.R$[1]=function(){gl.pw.call(this);
this.a1j=new gl.up(256,1);this.a2k=_.Q(256*4);var g="\t\t\t\tprecision mediump float;\t\t\t\t"+gl.T0.O3+"\t\t\t\t"+gl.T0.g4+"\t\t\t\t"+gl.T0.bI+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[1].prototype=new gl.pw;gl.R$[1].prototype.NY=function(g,o){_.Mh({o:o.avb,C:o.Ym,k:o.aqn,Ng:_.Q(256)},this.a2k);
this.a1j.set(this.a2k);this.r0(["source","map","cfa","cfb","colorize"]);var k=gl.iS,y=this.Df;k.uniform1f(y.cfa,o.ai_);
k.uniform1f(y.cfb,o.v2);k.uniform1i(y.colorize,o.ayv);this.E7([y.source,g,y.map,this.a1j.fn])};gl.R$[2]=function(){gl.pw.call(this);
var g="\t\t\tprecision mediump float;\t\t\t"+gl.T0.O3+"\t\t\t"+gl.T0.RM+"\t\t\t"+gl.T0.YN+"\t\t\t"+gl.T0.g4+"\t\t\t"+gl.T0.bI+"\t\t\t"+gl.T0.aeR+"\t\t\t"+gl.T0.aag+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[2].prototype=new gl.pw;gl.R$[2].prototype.NY=function(g,o){this.r0(["source","vib","sat","yF"]);
var k=gl.iS,y=this.Df;k.uniform1f(y.vib,o.Q6[0]);k.uniform1f(y.sat,o.Q6[1]);k.uniform3fv(y.yF,new Float32Array([o.Q6[2],o.Q6[3],o.Q6[3]]));
this.E7([y.source,g])};gl.R$[3]=function(){gl.pw.call(this);var g="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[3].prototype=new gl.pw;gl.R$[3].prototype.NY=function(g,o){this.r0(["source","trf"]);
var k=gl.iS,y=this.Df;k.uniformMatrix4fv(y.trf,!1,new Float32Array(_.x1.gH(o.DA)));this.E7([y.source,g])};
gl.R$[4]=function(){gl.pw.call(this);var g="\t\t\tprecision mediump float; \t\t\t"+gl.T0.cr+"\t\t\t"+gl.T0.O3+"\t\t\t"+gl.T0.bI+"\t\t\t"+gl.T0.g4+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[4].prototype=new gl.pw;gl.R$[4].prototype.NY=function(g,o){this.r0(["source","mnm","mxm","shift","lim"]);
var k=gl.iS,y=this.Df;k.uniform3fv(y.mnm,new Float32Array(o.qv));k.uniform3fv(y.mxm,new Float32Array(o.CX));
k.uniform3fv(y.shift,new Float32Array(o.shift));k.uniform1f(y.lim,o.zI);this.E7([y.source,g])};gl.R$[5]=function(){gl.pw.call(this);
var g="\t\t\tprecision mediump float;\t\t\t"+gl.T0.pu+"\t\t\t"+gl.T0.SR+"\t\t\t"+gl.T0.Zn+"\t\t\t"+gl.T0.g4+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[5].prototype=new gl.pw;gl.R$[5].prototype.NY=function(g,o){this.r0(["source","cfs"]);
var k=gl.iS,y=this.Df;k.uniform3fv(y.cfs,o.aa8);this.E7([y.source,g])};gl.R$[6]=function(){gl.pw.call(this);
var g="\t\t\tprecision mediump float;\t\t\t"+gl.T0.O3+"\t\t\t"+gl.T0.SR+"\t\t\t"+gl.T0.Zn+"\t\t\t"+gl.T0.g4+"\t\t\t"+gl.T0.bI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[6].prototype=new gl.pw;gl.R$[6].prototype.NY=function(g,o){this.r0(["source","wght","prms"]);
var k=gl.iS,y=this.Df,d=[o.xd,o.ahY,o.bN,o.axQ,o.sI,o.auy];k.uniform1fv(y.wght,new Float32Array(o.a1l));
k.uniform1fv(y.prms,new Float32Array(d));this.E7([y.source,g])};gl.R$[7]=function(){gl.pw.call(this);
this.$w={};var g="\t\t\tprecision mediump float;\t\t\t"+gl.T0.Av+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Iq(g,gl.JX.gN)};gl.R$[7].prototype=new gl.pw;gl.R$[7].prototype.NY=function(g,o){this.r0(["source","lut","N"]);
var k=gl.iS,y=this.Df,d=o.LY,b=o.sP;if(this.$w["m"+d]==null)this.$w["m"+d]=new gl.up(d,d*d);var T=this.$w["m"+d];
T.set(b);k.uniform1f(y.N,d);this.E7([y.source,g,y.lut,T.fn]);k.activeTexture(k.TEXTURE1);var a=k.LINEAR;
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,a);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,a);
k.activeTexture(k.TEXTURE0)};gl.filter={xZ:{},gN:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",apb:0,a8Z:1,Km:2,ahG:3,atm:4,a6a:5,NL:6,afH:7};
gl.filter.TK=function(g,o){var k=gl.filter,y,d=g.type+":"+(g.Mq?g.Mq.join(","):""),y=gl.filter.xZ[d];
if(y==null)y=gl.filter.xZ[d]=new gl.xZ[g.type](g.Mq);y.kp();y.NY(o,g);gl.iS.drawArrays(gl.iS.TRIANGLES,0,6)};
gl.xZ=[0,0,0,0,0,0,0,0,0,0,0,0];gl.xZ[7]=function(){gl.pw.call(this);var g="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Iq(hf.oI(g),hf.oI(gl.filter.gN))};gl.xZ[7].prototype=new gl.pw;gl.xZ[7].prototype.NY=function(g,o){this.r0(["source","iwh","kern"]);
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform1fv(y.kern,o.awE);this.E7([y.source,g])};gl.xZ[6]=function(g){gl.pw.call(this);
var o=g[0],k=g[1],y=g[2],d="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",b=hf.oI(d);
b=b.replaceAll("PRC",y+".0");b=b.replaceAll("DIR",["x,0","0,x"][k]);this.Iq(b,gl.JX.gN)};gl.xZ[6].prototype=new gl.pw;
gl.xZ[6].prototype.NY=function(g,o){this.r0(["source","iwh","rad"]);var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);
k.uniform1f(y.rad,o.eA);this.E7([y.source,g])};gl.xZ[4]=function(g){gl.pw.call(this);var o=g[0],k=g[1],y="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+g[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][k]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][o]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][k]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(k==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Iq(y,gl.JX.gN)};gl.xZ[4].prototype=new gl.pw;gl.xZ[4].prototype.NY=function(g,o){this.r0(["source","iwh","rrad","tr"]);
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform1f(y.rrad,o.hv);k.uniform1f(y.tr,o.ajX);this.E7([y.source,g]);
var d=k.LINEAR;d=k.NEAREST;k.activeTexture(k.TEXTURE0);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,d);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,d);k.activeTexture(k.TEXTURE0)};gl.xZ[5]=function(){gl.pw.call(this);
var g="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Iq(hf.oI(g),hf.oI(gl.filter.gN))};gl.xZ[5].prototype=new gl.pw;gl.xZ[5].prototype.NY=function(g,o){this.r0(["source","ssum","iwh","amnt","edgf"]);
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform1f(y.amnt,o.ajt);k.uniform1f(y.edgf,o.ayS);this.E7([y.source,g,y.ssum,o.amd])};
gl.xZ[3]=function(){gl.pw.call(this);var g="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Iq(hf.oI(g),hf.oI(gl.filter.gN))};gl.xZ[3].prototype=new gl.pw;gl.xZ[3].prototype.NY=function(g,o){this.r0("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform1f(y.tdep,o.a6i);k.uniform1f(y.rrad,o.hv);k.uniform2fv(y.spec,o.aqS);
k.uniform3fv(y.nois,o.a0P);k.uniformMatrix4fv(y.poly0,!1,o.alj);k.uniformMatrix4fv(y.poly1,!1,o.aq4);
this.E7([y.source,g]);var d=k.LINEAR;k.activeTexture(k.TEXTURE0);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,d);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,d);k.activeTexture(k.TEXTURE0)};gl.xZ[0]=function(){gl.pw.call(this);
var g="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Iq(hf.oI(g),hf.oI(gl.filter.gN))};gl.xZ[0].prototype=new gl.pw;gl.xZ[0].prototype.NY=function(g,o){this.r0(["source","iwh","ld","shine"]);
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform3fv(y.ld,o.ann);k.uniform1f(y.shine,o.aiB);this.E7([y.source,g,y.tang,o.DD])};
gl.xZ[1]=function(){gl.pw.call(this);var g="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Iq(hf.oI(g),hf.oI(gl.filter.gN))};gl.xZ[1].prototype=new gl.pw;gl.xZ[1].prototype.NY=function(g,o){this.r0(["source","iwh","isc","bristle"]);
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform1f(y.isc,o.anE);k.uniform1f(y.bristle,o.asu);
this.E7([y.source,g])};gl.xZ[2]=function(){gl.pw.call(this);var g="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Iq(hf.oI(g),hf.oI(gl.filter.gN))};gl.xZ[2].prototype=new gl.pw;gl.xZ[2].prototype.NY=function(g,o){this.r0(["source","tang","iwh","sigma","expo"]);
var k=gl.iS,y=this.Df;k.uniform2fv(y.iwh,o.mf);k.uniform1f(y.sigma,o.alB);k.uniform1f(y.expo,o.akw);
this.E7([y.source,g,y.tang,o.DD]);var d=k.LINEAR;k.activeTexture(k.TEXTURE0);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,d);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,d);k.activeTexture(k.TEXTURE0)};function _(){}_.B={};
_.a6_={};_.ail=function(){var g=[64,64,128,256,512,1024,2048],o=[];for(var m=0;m<g.length;m++){var k=g[m],y=document.createElement("canvas");
y.width=k;y.height=k;o.push(y.getContext("2d"))}return o}();_.r8=function(g,o){var k,y=_.ail,m=1,d=Math.max(g,o);
while(m<y.length&&d>y[m].canvas.width)m++;if(m==y.length){k=y[0];var b=k.canvas;b.width=g;b.height=o}else{k=y[m];
k.clearRect(0,0,g,o)}return k};_.Jf=function(g,o,k){var y=new Uint32Array(o*k);y[0]=g[0];for(var d=1;
d<o;d++)y[d]=y[d-1]+g[d];for(var b=1;b<k;b++){var m=b*o;y[m]=y[m-o]+g[m];for(var d=1;d<o;d++)y[m+d]=g[m+d]+y[m+d-1]+y[m+d-o]-y[m+d-o-1]}return y};
_.d5=function(g,o,k,y,d,b){var T=(d-1)*o,a=b*o;return g[a+y]-g[a+k-1]-g[T+y]+g[T+k-1]};_.Ow=function(g,o,k){var y={},d=0,b=0,T=new Uint32Array(g.buffer),a=T.length,t=Date.now();
for(var j=1;j<k-1;j++)for(var e=1;e<o-1;e++){var v=j*o+e,L=T[v];if(L>>>24<230)b++;if(y[L]==null){y[L]=!0;
d++}}if(b!=0||d<20)return!1;return!0};_.sA=function(g,o,k,y,d,b){if(d==null)d=b=0;y=Math.log(y)/Math.log(2);
y=Math.round(y);for(var m=0;m<k;m++)for(var T=0;T<o;T++){var a=m*o+T<<2,t=_.Is(m+b,T+d,y);g[a]=g[a+1]=g[a+2]=t;
g[a+3]=255}};_.Is=function(m,g,o){return 255-((m>>>o)+(g>>>o)&1)*51};_.cq=function(g){return{o:g>>>16&255,C:g>>>8&255,k:g&255}};
_.Mb=function(g){var o=g.toString(16);while(o.length<6)o="0"+o;return o};_.im=function(g){return parseInt(g,16)};
_.bN=function(g){return.3*g.o+.59*g.C+.11*g.k};_.sN=function(g){return Math.max(g.o,g.C,g.k)-Math.min(g.o,g.C,g.k)};
_.pM=function(g,o,k){return.3*g+.59*o+.11*k};_.a1D=function(g,o,k){return Math.max(g,o,k)-Math.min(g,o,k)};
_.SR=function(g,o){var k=o-g,y=Math.abs(k),d=k-1,b=k+1;if(Math.abs(d)<y)k=d;else if(Math.abs(b)<y)k=b;
return k};_.WW=function(g){return g<.0031308?12.92*g:1.055*Math.pow(g,1/2.4)-.055};_.$k=function(g){return g<.04045?g/12.92:Math.pow((g+.055)/1.055,2.4)};
_.ahH=function(g,o){var k=Math.min(g.length,o.length);for(var m=0;m<k;m+=4){var y=g[m],d=g[m+1],b=g[m+2];
o[m]=16+Math.floor(65.481/255*y+128.553/255*d+24.966/255*b+.5);o[m+1]=128-Math.floor(37.797/255*y-74.203/255*d+112/255*b+.5);
o[m+2]=128+Math.floor(112/255*y-93.786/255*d-18.214/255*b+.5);o[m+3]=g[m+3]}};_.u_=function(g,o,k){var y,d,b,T=Math.max(g,o,k),a=Math.min(g,o,k);
b=T;if(T!=0)d=(T-a)/T;else d=0;if(d==0)y=0;else{var t=T-a,j=(T-g)/t,e=(T-o)/t,v=(T-k)/t;if(g==T)y=v-e;
else if(o==T)y=2+j-v;else y=4+e-j;y*=1/6;if(y<0)y=y+1}return{GP:y,ci:d,k:b}};_.atD=function(g,o,k){var y=0,d=0,b=0;
if(o==0)y=d=b=k;else{var T=(g-Math.floor(g))*6,a=Math.floor(T),t=T-Math.floor(T),j=k*(1-o),e=k*(1-o*t),v=k*(1-o*(1-t));
switch(a){case 0:y=k;d=v;b=j;break;case 1:y=e;d=k;b=j;break;case 2:y=j;d=k;b=v;break;case 3:y=j;d=e;
b=k;break;case 4:y=v;d=j;b=k;break;case 5:y=k;d=j;b=e;break}}return{o:y,C:d,k:b}};_.g4=function(g,o,k){var y=Math.max(g,o,k),d=Math.min(g,o,k),b=0,T=0,a=(y+d)*.5;
if(y!=d){var t=y-d;T=a>.5?t/(2-(y+d)):t/(y+d);switch(y){case g:b=(o-k)/t+(o<k?6:0);break;case o:b=(k-g)/t+2;
break;case k:b=(g-o)/t+4;break}b*=1/6}return{GP:b,ci:T,qK:a}};_.bI=function(g,o,k){var y,d,b;if(o==0)y=d=b=k;
else{var T=k<.5?k*(1+o):k+o-k*o,a=2*k-T;y=_.O3(a,T,g+1/3);d=_.O3(a,T,g);b=_.O3(a,T,g-1/3)}return{o:y,C:d,k:b}};
_.O3=function(g,o,k){if(k<0)k+=1;if(k>1)k-=1;if(k<1/6)return g+(o-g)*6*k;if(k<1/2)return o;if(k<2/3)return g+(o-g)*(2/3-k)*6;
return g};_.RM=function(g,o,k){var y=Math.max(g,o,k),d=Math.min(g,o,k),b,T,a=y,t=y-d;T=y==0?0:t/y;if(y==d)b=0;
else{switch(y){case g:b=(o-k)/t+(o<k?6:0);break;case o:b=(k-g)/t+2;break;case k:b=(g-o)/t+4;break}b*=1/6}return{GP:b,ci:T,_Q:a}};
_.YN=function(g,o,k){var y,d,b,m,T,a,t,j;m=Math.floor(g*6);T=g*6-m;a=k*(1-o);t=k*(1-T*o);j=k*(1-(1-T)*o);
switch(m%6){case 0:y=k,d=j,b=a;break;case 1:y=t,d=k,b=a;break;case 2:y=a,d=k,b=j;break;case 3:y=a,d=t,b=k;
break;case 4:y=j,d=a,b=k;break;case 5:y=k,d=a,b=t;break}return{o:y,C:d,k:b}};_.G0=function(){var g=[],o=[];
for(var m=0;m<8e3;m++){var k=m*(1/4e3);g[m]=_.$k(k);o[m]=k>.008856?Math.pow(k,1/3):(903.3*k+16)*(1/116)}return[g,o]}();
_.cr=function(g,o,k,y){if(y==null)y=[.9642,1,.8249];var d=_.G0[0],b=_.G0[1];g=d[~~(.5+g*(4e3/255))];
o=d[~~(.5+o*(4e3/255))];k=d[~~(.5+k*(4e3/255))];var T=_.x1.Ek,a=T[0]*g+T[1]*o+T[2]*k,t=T[4]*g+T[5]*o+T[6]*k,j=T[8]*g+T[9]*o+T[10]*k;
a=a*(1/y[0]);t=t*(1/y[1]);j=j*(1/y[2]);return _.Q1(a,t,j)};_.Q1=function(g,o,k){var y=_.G0[1],d=y[~~(.5+g*4e3)],b=y[~~(.5+o*4e3)],T=y[~~(.5+k*4e3)];
return{hb:116*b-16,Ng:500*(d-b),k:200*(b-T)}};_.Mg=function(g,o,k){var y=903.3,d=.008856,b=(g+16)/116,T=b*b*b,a=b-k/200,t=a*a*a,j=o/500+b,e=j*j*j,v=t>d?t:(116*a-16)/y,L=T>d?T:(116*b-16)/y,H=e>d?e:(116*j-16)/y,w=H*96.42,P=L*100,Q=v*82.49,x=_.x1.hi(_.x1.pf,[w/100,P/100,Q/100,0]);
for(var m=0;m<4;m++)x[m]=Math.max(0,Math.min(255,_.WW(x[m])*255));return{o:x[0],C:x[1],k:x[2]}};_.hD=function(g,o,k,y,d){var b=g.hb,T=g.Ng,a=g.k,t=(b<o.hb?o.hb-b:k.hb<b?k.hb-b:0)*(1/100),j=(T<o.Ng?o.Ng-T:k.Ng<T?k.Ng-T:0)*(1/116),e=(a<o.k?o.k-a:k.k<a?k.k-a:0)*(1/116),v=Math.sqrt(t*t+j*j+e*e)*1.35;
return v<=y?Math.min(1,1.17*(1-v*d)):0};_.ug=function(g){var o=[.9956,.9956,.9954,.7753,.782,.7895,.5749,.5829,.5932,.3854,.3898,.3989,.1366,.122,.1252,1,.9792,.7954,.7871,.7722,.636,.5822,.5744,.4751,.3875,.3822,.3126,.1261,.1144,.0693,1,.9652,.5979,.7928,.7604,.4791,.5851,.565,.3546,.3884,.3755,.2237,.1179,.1086,0,1,.9532,.3722,.7961,.7499,.3022,.587,.5571,.2159,.3882,.3695,.1154,.1051,.1046,0,1,.9445,0,.7976,.7421,0,.5869,.5508,0,.3881,.3653,0,.0938,.1022,0,.9733,.794,.8719,.7619,.6264,.6945,.5681,.4653,.5213,.3827,.3038,.3461,.1374,.0531,.0828,.9815,.7819,.7026,.7691,.6199,.5631,.5715,.4594,.4188,.3824,.2985,.2698,.1305,.0491,.0182,.9877,.7722,.5366,.7722,.6103,.4274,.5721,.4519,.3125,.3819,.2937,.1895,.1209,.0467,0,.9919,.7632,.3502,.7745,.6025,.2763,.573,.4458,.1912,.3812,.2897,.089,.1101,.0454,0,.9943,.7569,.0534,.7758,.597,.0442,.5729,.4412,0,.3807,.2868,0,.1027,.0446,0,.9528,.6013,.7552,.7481,.4721,.6014,.5602,.3459,.4503,.3792,.2136,.2944,.1381,0,.0324,.9584,.5928,.6121,.753,.469,.4892,.562,.3431,.3615,.3781,.2114,.2264,.1303,0,3e-4,.9624,.5875,.4732,.7544,.4629,.3742,.5607,.3386,.2697,.3761,.2091,.1541,.121,0,1e-4,.9649,.5814,.3186,.7556,.4584,.2473,.5608,.3347,.1646,.375,.2073,.0588,.1137,0,0,.9662,.5767,.1149,.7561,.4549,.0779,.5604,.3319,9e-4,.3744,.2058,0,.1088,0,0,.9362,.4032,.649,.7366,.3099,.5161,.5534,.2148,.384,.3759,.1032,.2452,.12,0,.0041,.94,.4001,.5282,.7398,.3111,.4202,.5532,.2166,.3069,.3735,.1073,.1841,.1139,0,.0036,.9427,.3993,.4122,.7401,.3097,.3231,.5517,.2165,.2275,.3715,.11,.1174,.1092,0,.0034,.9441,.3974,.285,.7405,.3093,.2178,.5511,.2167,.1376,.3693,.1129,.0302,.1056,0,.0032,.9445,.3951,.1314,.7406,.3095,.0917,.5505,.2176,.0086,.3681,.1148,0,.1033,0,.0031,.9221,0,.546,.7269,0,.4335,.5475,0,.3187,.3729,0,.1953,.084,0,.0023,.9248,.0373,.447,.7285,0,.3522,.5456,0,.2522,.3695,0,.1398,.0852,0,.0023,.9264,.079,.3534,.7279,.0224,.2733,.5434,0,.1856,.3669,0,.0812,.0861,0,.0024,.927,.0991,.2521,.7281,.0569,.1899,.5431,0,.1113,.3652,0,.0077,.0867,0,.0024,.9265,.1117,.1412,.7282,.0765,.0995,.5432,.0101,.0172,.3639,0,0,.0872,0,.0024,.7225,.8956,.9779,.571,.7098,.7784,.4213,.53,.5853,.2723,.3526,.3946,.0485,.1007,.1307,.7486,.8824,.7882,.5895,.7001,.6314,.4335,.5225,.4726,.2784,.3469,.3123,.0341,.0972,.0776,.7658,.8703,.6053,.5995,.6889,.4838,.4392,.5138,.3592,.2814,.3411,.2289,.0234,.0944,.0085,.78,.8609,.41,.6082,.6803,.3248,.4436,.5065,.2342,.283,.336,.133,.0037,.0928,0,.7915,.8551,.1645,.6149,.6746,.1258,.4458,.5011,.0697,.2837,.3321,0,0,.092,0,.7312,.7169,.8575,.5814,.5728,.6863,.4323,.4259,.5164,.2834,.2756,.3448,.0654,.024,.0921,.7519,.7108,.6983,.5949,.5673,.5599,.4394,.421,.4172,.2859,.2722,.2708,.0568,.0261,.0319,.7627,.7026,.5428,.6002,.559,.4317,.4419,.4147,.317,.2867,.2683,.195,.0425,.0282,0,.7723,.6957,.3769,.6056,.5525,.2948,.4442,.4093,.2077,.2871,.2651,.1067,.0215,.0303,0,.7806,.6916,.1821,.6099,.5478,.1312,.445,.4052,.0684,.2867,.2625,0,.0082,.0316,0,.736,.5475,.7455,.5857,.4365,.5975,.4376,.3188,.4485,.2894,.1926,.2954,.0569,0,.0469,.7508,.5451,.6108,.5946,.4336,.4887,.4418,.3166,.362,.2901,.1921,.2292,.0463,0,.0011,.7574,.5412,.4799,.5972,.4291,.3794,.4421,.3139,.2753,.2894,.1914,.1611,.0316,0,7e-4,.7636,.5369,.3403,.6008,.4253,.263,.4428,.3106,.1798,.2887,.1903,.0779,.0216,0,5e-4,.7692,.534,.1853,.6035,.4221,.1295,.443,.3081,.0601,.2877,.1889,0,.0152,0,3e-4,.7373,.3763,.6456,.587,.2924,.5158,.4401,.2001,.3846,.2928,.0875,.248,.0165,0,.0011,.7487,.3774,.5308,.5933,.2944,.4233,.4419,.2035,.3105,.292,.0949,.1894,.0078,0,2e-4,.7524,.3782,.4212,.594,.2943,.3305,.441,.2049,.2351,.2905,.0994,.1269,.0013,0,0,.7561,.3774,.3054,.5957,.2939,.2322,.4406,.2052,.1523,.2885,.1035,.0522,4e-4,0,0,.76,.376,.1816,.5977,.2936,.1243,.4399,.2057,.0498,.2863,.1051,0,2e-4,0,0,.7372,.1034,.551,.5874,.0185,.4371,.4413,0,.3224,.2947,0,.201,0,0,0,.7462,.119,.4545,.5913,.0567,.3601,.4411,0,.2599,.2928,0,.149,0,0,0,.7476,.1388,.3655,.5903,.081,.2833,.439,0,.196,.2902,0,.0936,0,0,0,.7499,.1482,.2718,.5912,.0964,.2026,.438,.0193,.1252,.288,0,.0208,0,0,0,.7526,.152,.1763,.5923,.106,.118,.4373,.0341,.0407,.2849,0,0,0,0,0,.4271,.8095,.9608,.3403,.6444,.7657,.2412,.4824,.5773,.1302,.3201,.3909,0,.0832,.1344,.4775,.7983,.7804,.376,.6367,.6256,.266,.4765,.4696,.1467,.3159,.3119,0,.0832,.0832,.5072,.7874,.61,.3956,.6266,.4874,.2794,.4691,.3629,.1561,.3113,.2331,0,.0815,.0173,.531,.7793,.4345,.4122,.6193,.3438,.2899,.4627,.2496,.1627,.3073,.1463,0,.0796,0,.5496,.7747,.2459,.4244,.6147,.1896,.2963,.4584,.1246,.1666,.3043,.0295,0,.0782,0,.4896,.6531,.8455,.3917,.524,.6776,.2849,.3893,.5109,.1706,.2491,.3424,0,.0062,.0979,.5218,.6487,.6934,.4134,.5194,.5559,.2985,.3857,.4154,.1781,.2475,.2712,0,.0082,.0413,.5395,.6417,.5472,.4242,.5122,.435,.3053,.3807,.3208,.182,.2448,.1995,0,.0063,0,.5549,.6359,.3963,.4341,.5068,.3102,.3109,.3763,.2209,.1849,.2427,.1194,0,.0048,0,.5676,.6326,.2389,.4416,.5031,.1779,.3142,.373,.111,.1858,.2406,.0137,0,.0039,0,.5288,.5048,.7395,.4223,.4036,.5936,.3112,.2932,.4464,.194,.1723,.2955,0,.0013,.0537,.5487,.5039,.6103,.4355,.4015,.4884,.3185,.2924,.3629,.1971,.1738,.2316,0,0,0,.5585,.5009,.4864,.4409,.3981,.3847,.3215,.2912,.2809,.1983,.175,.1675,0,0,0,.5683,.4974,.3581,.4472,.3952,.2773,.3237,.2886,.1929,.1985,.1748,.0922,0,0,0,.5766,.495,.2276,.452,.3926,.1646,.3252,.2868,.096,.1979,.174,0,0,0,0,.5526,.357,.6462,.4414,.2769,.5172,.3273,.187,.3867,.2083,.0725,.2515,0,1e-4,.005,.5662,.3586,.535,.4497,.2794,.427,.3308,.1917,.3145,.2087,.0831,.1946,0,0,0,.571,.3597,.4301,.4513,.2799,.3379,.3308,.1939,.2425,.2076,.0893,.1352,0,0,0,.5765,.3593,.3223,.4545,.2797,.2459,.3311,.1945,.1654,.2062,.0944,.068,0,0,0,.582,.3583,.2145,.458,.2797,.151,.3314,.1954,.0803,.2039,.0965,0,0,0,0,.5685,.1511,.5592,.4543,.0767,.4446,.3382,0,.3293,.2147,0,.2076,0,0,0,.5777,.1587,.464,.4588,.0959,.3679,.3388,.0048,.2673,.2134,0,.1566,0,0,0,.579,.1719,.3773,.4578,.111,.2931,.3368,.0292,.2054,.2108,0,.1027,0,0,0,.5819,.1786,.2881,.4594,.1215,.2157,.3361,.0464,.1381,.2085,0,.035,0,0,0,.5855,.1817,.2015,.4613,.1282,.1378,.3358,.0572,.0647,.2046,0,0,0,0,0,0,.7368,.9457,0,.5885,.7547,0,.4416,.5705,0,.2922,.3876,0,.0637,.1371,0,.7271,.7732,0,.5822,.62,0,.4368,.4665,0,.2893,.3113,0,.0575,.0877,.0293,.7172,.6118,0,.5735,.4893,0,.4308,.3654,0,.2859,.2362,0,.0527,.0254,.1667,.7094,.4492,.1105,.5675,.3578,0,.4259,.2615,0,.2833,.1562,0,.0495,0,.2211,.7051,.2881,.1542,.5639,.2285,.048,.4231,.1574,0,.2814,.0642,0,.0479,0,.1089,.6003,.8361,.0907,.4814,.6702,.0189,.3569,.506,0,.2257,.3404,0,.0031,.1007,.2145,.596,.6892,.165,.478,.5528,.0875,.3549,.4141,0,.2259,.2718,0,.0011,.0458,.2608,.5897,.5497,.1974,.4719,.4379,.1153,.3511,.3242,0,.2243,.2033,0,0,0,.2941,.5846,.4094,.2219,.4675,.3224,.1344,.3476,.2318,.0094,.2233,.1295,0,0,0,.3178,.5818,.2725,.2385,.4645,.2083,.1459,.3452,.1382,.0182,.222,.0431,0,0,0,.2849,.4701,.7351,.2249,.3739,.5897,.1519,.2696,.4439,.0559,.1531,.2948,0,.0015,.0592,.3179,.4692,.6097,.2491,.373,.4877,.168,.2703,.3631,.0671,.1566,.233,0,0,2e-4,.3371,.4664,.4904,.2614,.37,.3884,.1766,.2698,.2847,.0733,.1587,.1716,0,0,0,.3538,.4634,.3698,.2734,.3679,.2879,.1834,.268,.2025,.0782,.1594,.102,0,0,0,.3665,.4614,.2537,.2822,.366,.1885,.1883,.2667,.1185,.0802,.1591,.0183,0,0,0,.3552,.3407,.6468,.2814,.2628,.5183,.2001,.1749,.3882,.1031,.062,.2533,0,3e-4,.0134,.372,.3429,.5387,.2932,.2657,.4297,.2062,.1802,.3173,.106,.0746,.1978,0,0,0,.3806,.3439,.4368,.2976,.2663,.3437,.2082,.1829,.2479,.1073,.0816,.1406,0,0,0,.3886,.3435,.3339,.3031,.2664,.2565,.2104,.184,.1754,.1086,.0873,.0786,0,0,0,.396,.3429,.2346,.3091,.2666,.1701,.2126,.1855,.1007,.1086,.0897,.0056,0,0,0,.3978,.1741,.5653,.3167,.1078,.4527,.2294,.006,.3373,.1238,0,.2143,0,0,0,.4068,.1821,.4725,.3221,.1191,.3752,.2306,.0312,.2741,.1272,0,.1636,0,0,0,.4089,.192,.387,.3214,.1294,.3018,.2287,.0514,.2136,.1274,0,.1108,0,0,0,.4121,.1971,.2993,.3239,.1361,.2264,.2287,.0629,.1491,.1264,0,.0499,0,0,0,.416,.2,.2154,.3268,.1401,.1521,.2295,.0705,.0818,.1225,0,.0054,0,0,0,0,.678,.9338,0,.5431,.7462,0,.4082,.5651,0,.2692,.3849,0,.0212,.1397,0,.6694,.7677,0,.5376,.6154,0,.4042,.4639,0,.2673,.3107,0,.0199,.0913,0,.66,.6122,0,.5301,.4905,0,.3996,.3672,0,.2652,.2384,0,.0189,.0316,0,.652,.4583,0,.5254,.368,0,.3963,.2705,0,.264,.1635,0,.0188,0,0,.6472,.3143,0,.5227,.2546,0,.395,.1795,0,.2633,.0845,0,.0193,0,0,.5591,.8297,0,.4461,.6643,0,.3299,.502,0,.2062,.3385,0,.0032,.1024,0,.5534,.686,0,.4436,.5501,0,.3289,.4127,0,.2074,.272,0,.0012,.0482,0,.5472,.5511,0,.4382,.4399,0,.3261,.3266,0,.2067,.2061,0,0,0,0,.5425,.4181,0,.4347,.3313,0,.3234,.2399,0,.206,.1369,0,0,0,0,.5399,.2941,0,.4324,.2287,0,.3218,.1565,0,.2049,.0625,0,0,0,0,.4439,.733,0,.3496,.5873,0,.25,.4423,0,.1369,.2945,0,.0016,.0628,0,.4411,.6097,0,.3493,.4877,0,.2516,.3635,0,.1404,.2343,0,0,.0023,0,.4381,.4935,0,.3466,.3917,0,.2516,.2881,0,.1427,.1753,0,0,0,0,.4354,.3781,0,.345,.2962,0,.2503,.2102,0,.1441,.1098,0,0,0,0,.4338,.2711,0,.3436,.2051,0,.2495,.1342,0,.1445,.037,0,0,0,0,.329,.6482,0,.252,.52,0,.1654,.3901,0,.0534,.2551,0,5e-4,.0192,.0138,.3301,.5419,.0039,.2544,.4323,0,.1705,.3197,0,.0661,.2002,0,0,0,.0783,.3307,.4416,.0404,.2547,.3482,0,.173,.2521,0,.0737,.1446,0,0,0,.1116,.3303,.3412,.0706,.2546,.264,0,.1741,.1825,0,.079,.0854,0,0,0,.1327,.3301,.2469,.0914,.2547,.1832,.0057,.1755,.1135,0,.0784,.015,0,0,0,.1815,.1895,.5709,.1383,.1275,.4596,.0795,.0318,.3435,0,0,.2181,0,0,0,.1962,.1967,.4793,.1496,.1334,.3808,.0833,.05,.2787,0,0,.1661,0,0,0,.2029,.2039,.3936,.1519,.1402,.3076,.0827,.0642,.2186,0,0,.1136,0,0,0,.2078,.2084,.306,.1573,.1445,.2334,.086,.0724,.1556,.003,.0012,.055,0,0,0,.2125,.2113,.223,.1628,.1468,.1616,.0917,.0769,.0917,.009,.0033,.0083,0,0,0],k=Math.round(Math.pow(o.length/3,1/4)),y=[0,0,0,0];
ICC.U.applyLUT4Float(o,k,g,y);return y};_.adj=function(g){var o=[.749,.6784,.6706,.902,.8413,.7807,.5857,.7788,.9743,.9154,.3677,.6283,1,.9841,.2521,.443,1,.9847,.1976,.27,1,.975,.1282,.1337,1,.9637,.0411,.0428,1,.9165,0,.0032,.9395,.8528,0,0,.9105,.7991,0,0,.7599,.552,.7696,.789,.8485,.6228,.6576,.7675,1,.842,.4653,.5761,1,.9389,.3447,.3743,1,.9546,.2577,.2156,1,.9601,.1576,.0954,1,.9601,.0357,.0193,.9879,.9022,0,9e-4,.932,.8336,0,0,.9012,.7864,0,0,.805,.4894,.9278,.6186,.8728,.4726,.9073,.6172,.9147,.5608,.6358,.5491,1,.7567,.4347,.3587,1,.8577,.3079,.1781,1,.8891,.1915,.0504,1,.8925,.0326,.0038,.9683,.841,0,0,.9114,.7927,0,0,.8789,.7515,0,0,.8424,.4034,1,.4124,.8827,.3977,1,.4091,.9032,.4007,.8385,.4013,.9123,.4843,.5898,.339,.9516,.6175,.3867,.2021,.9849,.7235,.2209,.0608,.9818,.7644,.0434,.0018,.9285,.741,0,0,.8782,.712,0,0,.8539,.6876,0,0,.8756,.3098,1,.2322,.8775,.3122,1,.2323,.8913,.3197,.9989,.2249,.889,.3309,.7571,.2136,.8868,.3864,.5323,.1686,.8967,.471,.3416,.0855,.9032,.5434,.1579,.0123,.878,.5672,0,0,.8385,.5812,0,0,.812,.5885,0,0,.8502,.217,1,.0915,.8503,.2193,1,.0904,.8605,.2204,1,.0816,.8568,.225,.8587,.0808,.8448,.2421,.6714,.0732,.8374,.2777,.4686,.0486,.8344,.3291,.2788,.0137,.8184,.3632,.0943,7e-4,.7881,.388,0,0,.7592,.4392,0,0,.8132,.0895,1,.0102,.8134,.0907,1,.0101,.8144,.0938,1,.0085,.8166,.0958,.9103,.0063,.8021,.1066,.7459,.0078,.7898,.1222,.5781,.0046,.7796,.1444,.3947,.0016,.7626,.1735,.2164,0,.7342,.1972,.0383,0,.6884,.2408,0,0,.7532,0,1,0,.749,0,1,0,.7484,0,1,0,.7427,0,.9015,0,.733,0,.7722,0,.7285,0,.6341,0,.724,0,.4726,0,.7068,0,.3102,0,.6877,.0167,.1424,0,.6493,.0413,0,0,.6847,0,1,0,.6808,0,1,0,.6732,0,1,0,.6718,0,.8971,0,.6666,0,.7786,0,.6547,0,.654,0,.641,0,.511,0,.6301,0,.3732,0,.6138,0,.2318,0,.581,0,.0867,0,.6187,0,1,0,.6193,0,1,0,.6162,0,1,0,.6007,0,.9316,0,.5922,0,.7975,0,.5791,0,.6774,0,.5681,0,.5466,0,.5532,0,.4101,0,.5336,0,.2795,0,.5123,0,.1487,0,.6087,.7256,.6558,.8508,.7488,.7971,.5809,.7731,.8912,.9472,.3678,.6053,.9921,1,.2518,.4063,1,1,.1981,.2413,1,1,.1227,.1117,1,.9861,.0232,.025,.9851,.9182,0,.0012,.9143,.8549,0,0,.897,.7991,0,0,.6642,.5963,.7836,.778,.723,.6642,.6485,.7627,.8995,.8599,.4693,.5645,1,1,.3571,.3191,1,1,.2559,.1757,1,.9873,.1346,.0642,1,.9812,.009,.0075,.9627,.8988,0,1e-4,.9127,.8359,0,0,.8883,.7853,0,0,.7564,.504,.9343,.6127,.7956,.4911,.8932,.6161,.8388,.581,.6217,.5473,.9429,.7604,.4287,.3566,1,.8783,.2925,.1608,1,.9216,.1633,.0297,1,.9158,0,6e-4,.9365,.8435,0,0,.8922,.7971,0,0,.8699,.7502,0,0,.8121,.4123,1,.4107,.8406,.4044,1,.4093,.8524,.4134,.8287,.4012,.8718,.4935,.5825,.3369,.9173,.6243,.3823,.1991,.9528,.7278,.2163,.0588,.9572,.7668,.0363,.001,.9059,.7449,0,0,.8676,.7128,0,0,.8391,.6911,0,0,.849,.3168,1,.233,.8523,.3193,1,.2323,.8635,.3245,.9866,.2264,.8536,.3418,.7488,.2167,.8557,.3954,.5289,.1694,.8726,.4779,.3352,.0833,.8788,.546,.1527,.0116,.8602,.5681,0,0,.8227,.5855,0,0,.8024,.5895,0,0,.8351,.2194,1,.0917,.8363,.2207,1,.0898,.8397,.2242,1,.0837,.8366,.2325,.8527,.083,.8259,.2485,.667,.0744,.8209,.2833,.4646,.0489,.815,.333,.2763,.0139,.7997,.3685,.0902,3e-4,.7724,.3932,0,0,.7446,.441,0,0,.7961,.0959,1,.0109,.7954,.0992,1,.0107,.8023,.0973,1,.0086,.7985,.1045,.9054,.0071,.7905,.1085,.7443,.0078,.778,.1256,.5723,.0048,.7654,.1475,.39,.0021,.7467,.1798,.2119,0,.7229,.2012,.0359,0,.6745,.2425,0,0,.7429,0,1,0,.7436,0,1,0,.7367,0,1,0,.7319,0,.9005,0,.7233,0,.7686,0,.7139,0,.6325,0,.7111,0,.4704,0,.6945,.0025,.308,0,.6726,.0212,.138,0,.6387,.0453,0,0,.6714,0,1,0,.6687,0,1,0,.6685,0,1,0,.6575,0,.8922,0,.6536,0,.7756,0,.6418,0,.6508,0,.6323,0,.509,0,.6188,0,.3695,0,.6021,0,.228,0,.5729,0,.0823,0,.6151,0,1,0,.6127,0,1,0,.6027,0,1,0,.5975,0,.932,0,.5855,0,.7966,0,.5747,0,.6768,0,.5622,0,.5457,0,.5432,0,.4053,0,.5264,0,.2766,0,.506,0,.1468,0,.5236,.8098,.7113,.7578,.5807,.8385,.5899,.723,.7287,.9813,.3955,.5643,.8563,1,.2722,.3767,.9135,1,.2027,.2129,.9366,1,.1087,.0833,.9431,1,.0012,.0101,.9083,.9248,0,0,.8762,.8521,0,0,.8566,.8037,0,0,.5233,.7082,.8317,.727,.5247,.7528,.6746,.7138,.7127,.8749,.4697,.5528,.8909,1,.3471,.3125,.9446,1,.24,.1426,.9599,1,.1084,.0359,.9467,.9998,0,.0025,.9056,.9001,0,0,.8711,.838,0,0,.8572,.7854,0,0,.6359,.548,.9563,.5917,.6337,.5523,.8828,.5966,.6892,.6225,.6122,.5317,.8186,.7781,.4193,.3494,.9121,.8888,.2816,.1584,.9602,.9439,.1126,.0204,.9361,.9256,0,0,.8882,.8447,0,0,.856,.7966,0,0,.8377,.753,0,0,.7277,.4351,1,.4042,.7407,.432,1,.4068,.7442,.4393,.8038,.4006,.7786,.5193,.5652,.3295,.8387,.6407,.3748,.1926,.8874,.7349,.2097,.0529,.8924,.7709,.032,.0018,.858,.7467,0,0,.8272,.7233,0,0,.8136,.6967,0,0,.7826,.3341,1,.2338,.7853,.3333,1,.2331,.7881,.3391,.968,.2315,.7838,.3564,.733,.2177,.797,.411,.5152,.1661,.8158,.4923,.3265,.0793,.8324,.5584,.1443,.0087,.8121,.5816,0,0,.7878,.5973,0,0,.777,.6019,0,0,.786,.2337,1,.0947,.7866,.2356,1,.0935,.794,.2365,1,.0892,.7882,.2408,.84,.0867,.7786,.2591,.6529,.0764,.7781,.2939,.4538,.05,.7714,.3458,.2706,.0135,.761,.3799,.0813,0,.7349,.4007,0,0,.7114,.448,0,0,.7632,.1079,1,.0116,.7628,.109,1,.0113,.7635,.111,1,.0099,.7659,.1113,.9006,.0078,.7539,.1229,.7356,.0084,.7432,.1339,.5638,.0056,.7288,.1625,.3809,.0026,.7135,.1888,.1994,0,.6876,.2145,.0287,0,.6434,.2513,0,0,.7136,0,1,0,.7159,0,1,0,.7118,0,1,0,.7055,0,.8971,0,.7011,0,.7648,0,.6892,0,.6268,0,.6846,0,.4642,0,.6698,.0126,.3029,0,.6423,.0335,.1307,0,.6089,.0591,0,0,.6482,0,1,0,.6436,0,1,0,.6439,0,.9976,0,.6368,0,.8876,0,.6335,0,.768,0,.6221,0,.6462,0,.6134,0,.5064,0,.5985,0,.3643,0,.5797,0,.2207,0,.5536,0,.074,0,.5946,0,1,0,.591,0,1,0,.5835,0,1,0,.5768,0,.9227,0,.5633,0,.7881,0,.5505,0,.6711,0,.5446,0,.5428,0,.5278,0,.4021,0,.5115,0,.2734,0,.4929,0,.1453,0,.3928,.9309,.8564,.6237,.4085,.9414,.6804,.6099,.5314,1,.4506,.505,.7062,1,.3091,.3328,.7981,1,.2189,.1772,.8415,1,.109,.0581,.8557,1,0,.0038,.8363,.9173,0,0,.8185,.8532,0,0,.8136,.8032,0,0,.3926,.8335,.9373,.6099,.3914,.86,.7587,.5969,.5208,.9052,.5042,.5014,.7095,.9938,.3603,.3041,.8163,1,.2391,.1297,.8533,1,.1035,.0267,.8464,.9973,0,.001,.8253,.899,0,0,.8145,.8364,0,0,.7999,.7938,0,0,.4805,.6401,1,.5316,.4643,.6578,.8868,.5349,.5124,.6937,.6226,.4883,.6608,.8025,.423,.3315,.7802,.8952,.2804,.147,.8409,.9398,.1161,.0171,.8327,.9166,0,0,.8123,.8496,0,0,.7991,.7982,0,0,.7923,.7593,0,0,.5991,.4869,1,.3854,.593,.4845,1,.3895,.5952,.4942,.7873,.3831,.6365,.562,.5515,.3126,.7242,.6716,.3636,.1788,.7841,.7475,.2033,.0483,.802,.776,.0202,7e-4,.7817,.756,0,0,.7737,.7264,0,0,.7679,.7035,0,0,.6792,.3636,1,.2325,.6802,.3638,1,.2323,.6747,.3671,.9278,.2351,.6742,.3856,.7107,.2174,.6972,.4382,.4946,.1601,.7298,.5132,.3124,.0724,.7516,.5748,.1318,.0064,.7416,.5918,0,0,.7332,.6099,0,0,.7343,.6136,0,0,.7114,.254,1,.0967,.7102,.2555,1,.0967,.7129,.2556,1,.0952,.7059,.2657,.8221,.0947,.7005,.2769,.6384,.0808,.7012,.3167,.4363,.0488,.7045,.3648,.2536,.0117,.6969,.3958,.0646,0,.6721,.4156,0,0,.6617,.454,0,0,.7086,.127,1,.0117,.7087,.1273,1,.0114,.7087,.1276,1,.0103,.7055,.1308,.8869,.0097,.6932,.1399,.7262,.0104,.6792,.1579,.548,.0074,.6742,.1807,.3657,.0017,.6585,.2084,.185,0,.6306,.2333,.0138,0,.5969,.2617,0,0,.6731,0,1,0,.6724,0,1,0,.6689,0,1,0,.6592,0,.8912,0,.6558,0,.7581,0,.6428,0,.6147,0,.6351,.0126,.4524,0,.6185,.0313,.2871,0,.5976,.0491,.1142,0,.5614,.0772,0,0,.6144,0,1,0,.6123,0,1,0,.603,0,.9827,0,.6011,0,.8682,0,.5946,0,.7618,0,.5834,0,.6393,0,.5668,0,.4938,0,.5603,0,.3559,0,.5419,0,.2119,0,.5129,0,.0629,0,.5582,0,1,0,.5549,0,1,0,.5497,0,1,0,.5426,0,.9012,0,.5346,0,.7836,0,.5246,0,.6637,0,.5101,0,.5294,0,.4908,0,.3919,0,.4747,0,.2644,0,.4595,0,.1342,0,.3137,1,1,.4733,.3189,1,.8233,.4638,.3868,1,.5467,.4106,.5429,1,.3574,.2797,.6666,1,.2407,.1393,.7286,1,.1057,.0307,.735,1,0,.0015,.7372,.9194,0,0,.7426,.8544,0,0,.7462,.8049,0,0,.3259,.9135,1,.4628,.3262,.9346,.8592,.4543,.3838,.9454,.588,.408,.5321,.9864,.3862,.2741,.6699,1,.2458,.1083,.7251,1,.0927,.0184,.7305,.9822,0,2e-4,.7309,.9012,0,0,.73,.8418,0,0,.7427,.7935,0,0,.3618,.7477,1,.4296,.3585,.7638,.9306,.4271,.388,.7798,.6696,.3984,.507,.8347,.442,.2873,.6342,.9005,.2877,.13,.7062,.9333,.1114,.0152,.7116,.9203,0,0,.7164,.85,0,0,.7268,.8,0,0,.7276,.7647,0,0,.4519,.5652,1,.3416,.4423,.5685,1,.3457,.4419,.582,.7818,.3366,.4928,.6298,.5572,.278,.5858,.7058,.3645,.1569,.6651,.7635,.1975,.0351,.6776,.7853,.0126,2e-4,.6885,.7637,0,0,.7031,.732,0,0,.7073,.7104,0,0,.5498,.4075,1,.2182,.5445,.4134,1,.2215,.5337,.4154,.9026,.2247,.5398,.4345,.6939,.2036,.5641,.4827,.4766,.1415,.6157,.5483,.2963,.0582,.6454,.5965,.1152,.0034,.6384,.6125,0,0,.6636,.6193,0,0,.6733,.6215,0,0,.6082,.2853,1,.0985,.6052,.2872,1,.099,.6033,.2876,.9985,.1003,.5881,.2934,.8012,.099,.5865,.3116,.6141,.079,.5981,.3473,.4135,.0422,.6092,.3881,.2359,.0082,.5998,.4165,.0474,0,.5852,.4314,0,0,.5864,.4558,0,0,.6267,.153,1,.0146,.6269,.1536,1,.0148,.6212,.1591,1,.0156,.6168,.1609,.8668,.015,.6037,.1683,.7062,.0124,.5948,.1835,.5296,.0088,.5846,.2129,.3441,.0028,.5714,.2348,.1614,0,.5475,.2539,0,0,.5249,.276,0,0,.607,.0028,1,0,.604,.003,1,0,.6012,.003,1,0,.5967,.0088,.8855,0,.5851,.0145,.7469,0,.5778,.0211,.6015,0,.5622,.0363,.4349,0,.555,.0528,.2686,0,.5246,.0748,.0949,0,.4898,.1075,0,0,.557,0,1,0,.554,0,1,0,.5556,0,.9704,0,.5461,0,.854,0,.5335,0,.748,0,.5282,0,.6233,0,.5141,0,.482,0,.5043,0,.3432,0,.4837,0,.1895,0,.4646,0,.0428,0,.5095,0,1,0,.507,0,1,0,.5047,0,.9931,0,.4953,0,.8844,0,.4804,0,.7672,0,.4725,0,.6466,0,.466,0,.5123,0,.4425,0,.3809,0,.4341,0,.2525,0,.4141,0,.1232,0,.2744,1,1,.3276,.2771,1,.9289,.322,.3076,1,.6518,.2983,.4032,1,.4154,.216,.521,1,.2548,.0952,.5899,1,.1005,.0148,.6089,1,0,0,.6354,.9153,0,0,.6536,.8588,0,0,.6715,.814,0,0,.278,.9672,1,.3214,.2835,.9827,.9637,.3121,.308,.9817,.6807,.292,.3991,.9886,.4399,.2125,.5121,1,.2605,.0852,.5823,1,.0832,.0063,.5957,.9741,0,1e-4,.6226,.9023,0,0,.6522,.8412,0,0,.6644,.8029,0,0,.2915,.8321,1,.3092,.2924,.8426,.9941,.3028,.3097,.8464,.7305,.2875,.3795,.8693,.4917,.2195,.4864,.9075,.3067,.1018,.5593,.9289,.1127,.0095,.579,.9101,0,0,.6139,.8517,0,0,.6366,.8057,0,0,.6553,.7739,0,0,.3388,.6529,1,.2664,.3344,.6586,1,.2654,.3357,.6702,.8018,.2588,.3749,.6982,.5799,.2152,.4551,.7464,.3722,.1185,.5249,.783,.1979,.0235,.5441,.7975,0,0,.5803,.7682,0,0,.6132,.7437,0,0,.6397,.7187,0,0,.4144,.4737,1,.1889,.406,.4761,1,.1912,.4003,.4831,.8798,.1888,.4038,.5049,.6886,.1694,.438,.5429,.4731,.1153,.4899,.5936,.2893,.0398,.5216,.6227,.099,.0016,.5174,.6307,0,0,.5619,.6237,0,0,.5881,.6192,0,0,.4782,.3284,1,.0925,.4748,.3285,1,.0943,.4703,.3299,.9508,.0972,.4619,.3412,.7782,.0906,.4622,.3593,.5875,.0716,.4706,.3874,.3871,.031,.4905,.4232,.2084,.0031,.4873,.4428,.0192,0,.4775,.4527,0,0,.5036,.4645,0,0,.5174,.1933,1,.0187,.5175,.1929,1,.019,.5122,.1969,.9895,.0194,.5048,.199,.8362,.0186,.4917,.2083,.6837,.0155,.4812,.2226,.5026,.0084,.4776,.2411,.3179,.0016,.4671,.2627,.1339,0,.4456,.2821,0,0,.4336,.2985,0,0,.5219,.0369,1,0,.5211,.0365,1,0,.5164,.0361,.9928,0,.5051,.0417,.8566,0,.4959,.0461,.7324,0,.4841,.0562,.5795,0,.4697,.0715,.4117,0,.4546,.0909,.2404,0,.4329,.1095,.0677,0,.4078,.1379,0,0,.489,0,1,0,.4874,0,1,0,.4815,0,.9413,0,.474,0,.8389,0,.466,0,.7325,0,.4551,0,.6035,0,.4428,0,.4661,0,.4307,0,.3226,0,.4167,0,.1676,0,.391,0,.0206,0,.447,0,1,0,.4428,0,1,0,.4372,0,.9575,0,.4331,0,.8537,0,.4216,0,.7437,0,.4118,0,.6299,0,.4014,0,.5006,0,.3852,0,.3649,0,.3718,0,.2346,0,.3521,0,.1041,0,.2356,1,1,.1977,.2375,1,.9964,.1944,.2509,1,.7373,.1859,.3016,1,.4867,.1346,.3788,1,.2757,.053,.4353,1,.0751,.0036,.4679,.9829,0,0,.5176,.911,0,0,.5557,.8626,0,0,.5835,.8201,0,0,.2376,.9791,1,.1994,.241,.985,1,.1911,.2501,.9855,.758,.1827,.2933,.9955,.5092,.1362,.3705,1,.2915,.0523,.4224,1,.0745,.0017,.456,.9598,0,0,.5092,.8949,0,0,.546,.851,0,0,.5832,.807,0,0,.2428,.8734,1,.1892,.2449,.8873,1,.1813,.2484,.8891,.7869,.1743,.2865,.8979,.5484,.136,.3596,.9102,.3326,.0622,.4106,.9259,.1239,.0039,.4338,.9056,0,0,.4983,.8524,0,0,.5426,.8125,0,0,.573,.7804,0,0,.2616,.7229,1,.1721,.2607,.7283,1,.1684,.2628,.738,.8211,.1631,.2833,.7568,.6146,.1351,.336,.7794,.3977,.0727,.3928,.8002,.1999,.0099,.403,.8038,0,0,.4608,.7797,0,0,.5189,.7516,0,0,.5576,.7273,0,0,.303,.5471,1,.1332,.2958,.5539,1,.1322,.2912,.5609,.8726,.1295,.2999,.5779,.6879,.1131,.325,.6005,.481,.074,.3663,.6358,.286,.0191,.3853,.6543,.0836,3e-4,.3915,.653,0,0,.4527,.6307,0,0,.5,.6145,0,0,.3535,.3827,1,.0752,.3475,.3848,1,.0766,.3423,.3904,.9281,.0765,.3331,.4014,.759,.0698,.3362,.4178,.5775,.0489,.3526,.4416,.3818,.018,.3669,.4679,.1894,3e-4,.3622,.475,.0046,0,.3698,.4765,0,0,.4168,.4707,0,0,.3961,.2377,1,.018,.394,.2385,1,.019,.3862,.2407,.9519,.0188,.3794,.2484,.8108,.0182,.3676,.2545,.6583,.0131,.3626,.2686,.4759,.0052,.3483,.279,.2863,0,.3452,.3023,.1046,0,.3383,.3138,0,0,.3349,.3243,0,0,.4138,.0832,1,0,.4128,.0828,1,0,.403,.0869,.9634,0,.398,.0906,.835,0,.3864,.0947,.709,0,.3743,.1046,.5563,0,.3601,.113,.3821,0,.3461,.1265,.2092,0,.3293,.1458,.0382,0,.3117,.1713,0,0,.4015,0,1,0,.4005,0,.9806,0,.3974,0,.9052,0,.3865,0,.8146,0,.3784,0,.7183,0,.3675,0,.5942,0,.3587,0,.4443,0,.3438,0,.2997,0,.3265,0,.1417,0,.3072,.0125,0,0,.3763,0,1,0,.3727,0,1,0,.3662,0,.93,0,.3597,0,.8277,0,.3483,0,.7249,0,.3357,0,.6068,0,.3269,0,.473,0,.3161,0,.3445,0,.2997,0,.2142,0,.2812,0,.0787,0,.1798,1,1,.0938,.181,1,1,.0903,.1845,1,.7894,.0861,.2115,1,.5402,.0594,.2579,1,.3057,.0185,.2774,1,.0677,1e-4,.3256,.9598,0,0,.3928,.9075,0,0,.4521,.8635,0,0,.4926,.8257,0,0,.1811,.9832,1,.0877,.1812,.9921,1,.0828,.1842,.9876,.8022,.0815,.2089,.9916,.5605,.0588,.2519,.9889,.3224,.0193,.2745,.9831,.089,4e-4,.3128,.9413,0,0,.3943,.8887,0,0,.4459,.8484,0,0,.49,.8155,0,0,.1842,.8915,1,.0889,.1871,.9021,1,.0826,.186,.9064,.8239,.0797,.2038,.9105,.5965,.0591,.2407,.9175,.3599,.0195,.2727,.9144,.1331,1e-4,.2918,.8947,0,0,.3784,.8495,0,0,.4393,.8145,0,0,.4801,.7848,0,0,.1893,.7731,1,.0803,.1899,.779,1,.0761,.1883,.7848,.8434,.0712,.2,.7937,.6398,.0574,.2314,.8062,.4171,.0253,.2675,.8092,.2047,.0016,.2648,.8119,0,0,.3424,.7811,0,0,.4136,.7509,0,0,.4589,.7248,0,0,.2077,.6167,1,.0629,.2033,.6213,1,.0608,.201,.6309,.8729,.0584,.2066,.6375,.6976,.0496,.2214,.6549,.4903,.0257,.2468,.6718,.2868,.0054,.2557,.6752,.0734,0,.2793,.6639,0,0,.3477,.636,0,0,.399,.6036,0,0,.2371,.4439,1,.0389,.2342,.4504,1,.0381,.2304,.4546,.8961,.0358,.2233,.4645,.7462,.0317,.2265,.4766,.5664,.0192,.2389,.4958,.3758,.006,.2412,.5084,.1699,0,.2384,.5123,0,0,.2799,.4942,0,0,.3284,.4766,0,0,.2724,.2915,1,.0114,.2707,.2923,1,.0118,.2656,.2956,.9239,.0115,.2552,.303,.7898,.0103,.2481,.3086,.6338,.0059,.2427,.3218,.4532,9e-4,.2347,.3316,.2707,0,.2277,.344,.0791,0,.2317,.3491,0,0,.2578,.3452,0,0,.294,.1334,1,0,.293,.1356,1,0,.288,.1408,.9295,0,.2775,.1432,.8069,0,.2699,.1474,.684,0,.2537,.1563,.5238,0,.2399,.1614,.3555,0,.2205,.1718,.1745,0,.212,.192,.014,0,.212,.2099,0,0,.3011,0,.9996,0,.2969,0,.9647,0,.2924,0,.8929,0,.2863,0,.8143,0,.2761,0,.7028,0,.2675,.0011,.5775,0,.2541,.0089,.4329,0,.2377,.016,.2739,0,.2225,.0259,.1098,0,.2042,.0512,0,0,.288,0,.9766,0,.2864,0,.9423,0,.2815,0,.8783,0,.2756,0,.7908,0,.2673,0,.6935,0,.252,0,.5817,0,.2428,0,.4541,0,.2284,0,.3226,0,.2117,0,.1849,0,.1919,0,.053,0,.1032,1,1,.019,.104,1,1,.0159,.1029,1,.8122,.0139,.1104,1,.5743,.0092,.1308,.9991,.3284,.001,.1322,.9907,.0729,0,.1863,.941,0,0,.273,.8913,0,0,.3426,.8578,0,0,.398,.8264,0,0,.1031,.9708,1,.0179,.1039,.9802,1,.0153,.1025,.9835,.822,.0124,.1102,.9797,.5876,.0081,.1289,.97,.3442,3e-4,.1303,.9646,.0885,0,.1773,.9255,0,0,.2681,.8759,0,0,.3423,.843,0,0,.3896,.818,0,0,.1038,.9043,1,.0173,.1029,.9094,1,.0156,.101,.9138,.8289,.0143,.1076,.9161,.619,.0088,.1265,.9089,.3794,.0026,.1283,.9077,.1297,0,.1565,.8868,0,0,.2545,.8409,0,0,.3261,.8163,0,0,.3818,.7844,0,0,.1051,.8011,1,.0143,.1046,.8085,1,.0126,.105,.8129,.847,.0132,.111,.8123,.6556,.0097,.1203,.8174,.4269,.0027,.1252,.8191,.1976,0,.1315,.8142,0,0,.2201,.7788,0,0,.2989,.7436,0,0,.3517,.7102,0,0,.1116,.6646,1,.0115,.1093,.6696,1,.0099,.1092,.6742,.8569,.0102,.1104,.6809,.697,.007,.115,.6892,.4884,.0033,.1215,.6934,.2765,2e-4,.1254,.6915,.0656,0,.167,.6753,0,0,.2417,.6364,0,0,.3014,.6039,0,0,.1278,.5042,1,.0072,.1263,.5064,1,.007,.1232,.5098,.8746,.0064,.1132,.5209,.7312,.0051,.1155,.5283,.5606,.0024,.1203,.5327,.3614,1e-4,.1113,.5443,.1559,0,.1197,.546,0,0,.1868,.5102,0,0,.2362,.488,0,0,.1486,.343,1,.0019,.1463,.3452,.9936,.0019,.1431,.3477,.8939,.0017,.1319,.3547,.7615,.0015,.1266,.3615,.616,6e-4,.1225,.3683,.4332,0,.1112,.3799,.2521,0,.1049,.3892,.0563,0,.1313,.3815,0,0,.181,.3611,0,0,.1662,.1847,1,0,.1644,.1854,.9653,0,.1604,.1878,.8908,0,.1546,.1957,.7852,0,.1442,.2001,.6581,0,.1313,.2082,.5022,0,.1198,.216,.3299,0,.1051,.2283,.1565,0,.1017,.2382,0,0,.1289,.2358,0,0,.181,.0267,.9724,0,.1798,.0291,.9417,0,.177,.0324,.8756,0,.1669,.036,.7932,0,.1603,.0388,.688,0,.1479,.0453,.5508,0,.1338,.0547,.401,0,.12,.0608,.2433,0,.0964,.0737,.0742,0,.0953,.0941,0,0,.1931,0,.9284,0,.1912,0,.8978,0,.1862,0,.8364,0,.1785,0,.7585,0,.1669,0,.67,0,.1592,0,.5462,0,.1455,0,.4228,0,.13,0,.2957,0,.1107,0,.159,0,.0979,0,.0222,0,0,.9911,1,6e-4,0,.9961,.9646,0,0,.9966,.786,3e-4,0,.9854,.5724,0,0,.9791,.3242,0,.0016,.9646,.078,0,.0517,.9279,0,0,.147,.8764,0,0,.2327,.8472,0,0,.291,.8211,0,0,0,.9643,1,5e-4,0,.9666,.9648,0,0,.9639,.7975,2e-4,0,.9583,.5818,0,0,.9562,.3372,0,7e-4,.945,.0929,0,.0448,.911,0,0,.1436,.8664,0,0,.2278,.8362,0,0,.2898,.8081,0,0,0,.9038,1,0,0,.9046,.9776,0,0,.9031,.8012,0,0,.9038,.6125,0,0,.9036,.3683,0,.0017,.8925,.1374,0,.0237,.8776,0,0,.1265,.8353,0,0,.2147,.8028,0,0,.2705,.7705,0,0,0,.8132,1,0,0,.8143,.9587,0,0,.8142,.8187,0,0,.8169,.6394,0,0,.8197,.419,0,3e-4,.8147,.1967,0,.0123,.8141,0,0,.0967,.7786,0,0,.1814,.7347,0,0,.2391,.7045,0,0,0,.6897,1,0,0,.692,.9619,0,0,.6984,.83,0,0,.7019,.6733,0,0,.7045,.4747,0,9e-4,.7071,.2694,0,0,.7111,.0548,0,.0576,.6835,0,0,.1375,.6393,0,0,.2009,.6013,0,0,.0063,.5438,1,0,.0032,.546,.9485,0,.0026,.5485,.8408,0,.0013,.5558,.7051,0,5e-4,.5627,.5395,0,0,.5677,.3432,0,0,.5745,.1428,0,.0093,.5745,0,0,.0917,.5265,0,0,.1486,.4917,0,0,.0194,.3866,.9857,0,.018,.3872,.9437,0,.0163,.3924,.8468,0,.0123,.4005,.7307,0,.0073,.4035,.5867,0,7e-4,.4155,.4089,0,0,.4186,.2299,0,0,.4312,.0418,0,.0401,.4101,0,0,.1031,.3772,0,0,.0358,.2371,.9655,0,.0347,.2382,.9313,0,.0332,.2403,.8472,0,.0259,.2437,.7602,0,.019,.2518,.6265,0,.012,.2568,.4759,0,.0019,.2691,.3078,0,0,.2772,.1319,0,.0014,.2874,0,0,.0541,.2574,0,0,.055,.078,.9361,0,.0532,.0795,.9029,0,.0503,.0842,.841,0,.0428,.0887,.762,0,.0368,.0939,.6568,0,.0277,.1032,.5253,0,.0167,.1101,.3773,0,.0049,.1229,.2172,0,0,.1316,.0548,0,.0162,.1304,0,0,.0852,0,.8742,0,.0821,0,.8522,0,.0772,0,.7982,0,.0712,0,.7271,0,.0609,0,.6409,0,.0525,0,.5299,0,.04,0,.4048,0,.0242,0,.2762,0,.0145,0,.1309,0,0,0,0,0],k=Math.round(Math.pow(o.length/3,1/4)),y=[0,0,0,0];
ICC.U.applyLUT3to4Float(o,k,g,y);return y};_.h4=function(g,o,k){var y=g.length,d=.3,b=.59,T=.11;if(k){d=k[0];
b=k[1];T=k[2]}for(var m=0;m<y;m+=4)o[m>>2]=~~(g[m+0]*d+g[m+1]*b+g[m+2]*T+.5)};_.yr=function(g,o){var k=o.length;
for(var m=0;m<k;m+=4){var y=g[m>>>2];o[m]=y;o[m+1]=y;o[m+2]=y}};_.Mh=function(g,o){var k=g.Ng,y=g.o,d=g.C,b=g.k,T=Math.min(g.Ng.length,o.buffer.byteLength>>>2),a=4*Math.floor(T/4),t=new Uint32Array(o.buffer),j=new Uint32Array(k.buffer),e=new Uint32Array(y.buffer),v=new Uint32Array(d.buffer),L=new Uint32Array(b.buffer);
for(var m=0;m<a;m+=4){var H=j[m>>2],w=L[m>>2],P=v[m>>2],Q=e[m>>2];t[m]=H<<24|(w&255)<<16|(P&255)<<8|Q&255;
t[m+1]=(H&65280)<<16|(w&65280)<<8|P&65280|(Q&65280)>>>8;t[m+2]=(H&16711680)<<8|w&16711680|(P&16711680)>>>8|(Q&16711680)>>>16;
t[m+3]=H&4278190080|(w&4278190080)>>>8|(P&4278190080)>>>16|(Q&4278190080)>>>24}for(var m=a;m<T;m++)t[m]=k[m]<<24|b[m]<<16|d[m]<<8|y[m]};
_.oX=function(g,o){var k=o.Ng,y=o.o,d=o.C,b=o.k,T=Math.min(o.Ng.length,g.buffer.byteLength>>>2),a=4*Math.floor(T/4),t=new Uint32Array(g.buffer),j=new Uint32Array(k.buffer),e=new Uint32Array(y.buffer),v=new Uint32Array(d.buffer),L=new Uint32Array(b.buffer);
for(var m=0;m<a;m+=4){var H=t[m],w=t[m+1],P=t[m+2],Q=t[m+3];e[m>>2]=H&255|(w&255)<<8|(P&255)<<16|Q<<24;
v[m>>2]=(H&65280)>>8|w&65280|(P&65280)<<8|(Q&65280)<<16;L[m>>2]=(H&16711680)>>16|(w&16711680)>>8|P&16711680|(Q&16711680)<<8;
j[m>>2]=H>>>24|w>>>24<<8|P>>>24<<16|Q&4278190080}for(var m=a;m<T;m++){var x=t[m];y[m]=x>>0&255;d[m]=x>>8&255;
b[m]=x>>16&255;k[m]=x>>24&255}};_.B4=function(g,o,k){var y=new Uint8Array(g.buffer),d=Math.min(y.length/4,o.length);
for(var m=0;m<d;m++){o[m]=y[(m<<2)+k]}};_.e_=function(g,o,k){var y=new Uint8Array(o.buffer),d=new Uint32Array(g.buffer),b=Math.min(y.length/4,g.length),m=0;
while(m+4<b){var T=d[m>>>2];y[(m<<2)+k]=T&255;y[(m<<2)+k+4]=T>>>8&255;y[(m<<2)+k+8]=T>>>16&255;y[(m<<2)+k+12]=T>>>24;
m+=4}while(m<b){y[(m<<2)+k]=g[m];m++}};_.Sm=function(g,o,k){if(k==null)k=0;var y=new Uint32Array(g.buffer),d=y.length;
for(var m=0;m<d;m++)y[m]=y[m]&k|o};_.ao6=function(g,o,k,y,d){if(d==null)d=0;var b=new Uint32Array(g.buffer);
k=k.Nm(o);var T=k.x-o.x,a=k.y-o.y,t=k.m,j=k.n,e=o.m;for(var v=0;v<j;v++){var m=(a+v)*e+T;for(var L=0;
L<t;L++){b[m]=b[m]&d|y;m++}}};_.QF=function(g,o){var k=Math.min(g.buffer.byteLength,o.buffer.byteLength),y=k>>>2,g=new Uint32Array(g.buffer,0,y),o=new Uint32Array(o.buffer,0,y);
o.set(g)};_.ey=function(g,o){var k=g.buffer.byteLength,y=o.buffer.byteLength,d=new Uint32Array(g.buffer,0,k>>2),b=new Uint32Array(o.buffer,0,y>>2);
if(k!=y)return!1;var T=d.length;for(var m=0;m<T;m++)if(b[m]!=d[m])return!1;return!0};_.TY=function(g){var o=new Uint32Array(g.buffer),k=o.length;
for(var m=0;m<k;m++)o[m]=~o[m]};_.a48=function(g){var o=g.length;for(var m=0;m<o;m+=4){g[m]=~g[m];g[m+1]=~g[m+1];
g[m+2]=~g[m+2]}};_.af8=function(g){var o=g.length;for(var m=3;m<o;m+=4)g[m]=~g[m]};_.ah0=function(g){return g+(g%4==0?0:4-g%4)};
_.Q=function(g,o){if(o==null)o=!1;if(!o)g=_.ah0(g);try{var k=new Uint8Array(g)}catch(d9){alert("Not enough RAM! (need "+Math.round(g/(1<<20))+" MB)",7e3);
throw"low_ram"}return k};_._h=function(g){var o=g.length,k=g[o-2],y=g[o-1];while(y.m>=2&&y.n>=2){var d=_.pL(k,y);
g.push(d.rg,d.rect);k=d.rg;y=d.rect}};_.ZM=function(g){var o=g.length,k=g[o-2],y=g[o-1];while(y.m>=2&&y.n>=2){var d=_.q8(k,y);
g.push(d.rg,d.rect);k=d.rg;y=d.rect}};_.pL=function(g,o,k){var y=o.m,d=o.n,b=y>>1,T=d>>1,a=new bd(o.x,o.y,b,T),t=k&&k.length==b*T*4?k:_.Q(b*T*4),j=new Uint32Array(g.buffer),e=new Uint32Array(t.buffer);
for(var v=0;v<T;v++)for(var L=0;L<b;L++){var H=v*b+L,w=(v<<1)*y+(L<<1),P=j[w],Q=j[w+1],x=j[w+y],F=j[w+y+1],E=P>>>24,f=Q>>>24,c=x>>>24,M=F>>>24,n=E+f+c+M;
if(n==1020){var X=(P>>>0&255)+(Q>>>0&255)+(x>>>0&255)+(F>>>0&255)+2>>>2,u=(P>>>8&255)+(Q>>>8&255)+(x>>>8&255)+(F>>>8&255)+2>>>2,I=(P>>>16&255)+(Q>>>16&255)+(x>>>16&255)+(F>>>16&255)+2>>>2;
e[H]=255<<24|I<<16|u<<8|X}else if(n==0)e[H]=0;else{var X=(P>>>0&255)*E+(Q>>>0&255)*f+(x>>>0&255)*c+(F>>>0&255)*M,u=(P>>>8&255)*E+(Q>>>8&255)*f+(x>>>8&255)*c+(F>>>8&255)*M,I=(P>>>16&255)*E+(Q>>>16&255)*f+(x>>>16&255)*c+(F>>>16&255)*M,r=1/n;
X=~~(X*r+.5);u=~~(u*r+.5);I=~~(I*r+.5);e[H]=n+2>>>2<<24|I<<16|u<<8|X}}return{rect:a,rg:t}};_.D2=function(g,o,k){var y=o.m,d=o.n,b=y>>1,T=d>>1,a=new bd(o.x,o.y,b,T),t=k&&k.length==b*T*4?k:_.Q(b*T*4),j=new Uint32Array(g.buffer),e=new Uint32Array(t.buffer);
for(var v=0;v<T;v++)for(var L=0;L<b;L++){var H=v*b+L,w=(v<<1)*y+(L<<1),P=j[w],Q=j[w+1],x=j[w+y],F=j[w+y+1],E=2+(P>>>0&255)+(Q>>>0&255)+(x>>>0&255)+(F>>>0&255)>>>2,f=2+(P>>>8&255)+(Q>>>8&255)+(x>>>8&255)+(F>>>8&255)>>>2,c=2+(P>>>16&255)+(Q>>>16&255)+(x>>>16&255)+(F>>>16&255)>>>2,M=2+(P>>>24&255)+(Q>>>24&255)+(x>>>24&255)+(F>>>24&255)>>>2;
e[H]=M<<24|c<<16|f<<8|E}return{rect:a,rg:t}};_.aq5=function(g,o,k){var y=o.m,d=o.n,b=2*Math.floor(y/3),T=2*Math.floor(d/3),a=new bd(o.x,o.y,b,T),t=k&&k.length==b*T*4?k:_.Q(b*T*4),j=new Uint32Array(g.buffer),e=new Uint32Array(t.buffer);
for(var v=0;v<T;v+=2)for(var L=0;L<b;L+=2){var H=v*b+L,w=(v*3>>>1)*y+(L*3>>>1),P=j[w],Q=j[w+1],x=j[w+2],F=j[w+y],E=j[w+1+y],f=j[w+2+y],c=j[w+y+y],M=j[w+1+y+y],n=j[w+2+y+y],X=P>>>24<<2,u=(P>>>16&255)*X,I=(P>>>8&255)*X,r=(P&255)*X,J=Q>>>24<<1,U=(Q>>>16&255)*J,K=(Q>>>8&255)*J,i=(Q&255)*J,z=x>>>24<<2,h=(x>>>16&255)*z,R=(x>>>8&255)*z,C=(x&255)*z,G=F>>>24<<1,W=(F>>>16&255)*G,A=(F>>>8&255)*G,$=(F&255)*G,O=E>>>24,Y=(E>>>16&255)*O,l=(E>>>8&255)*O,B=(E&255)*O,f4=f>>>24<<1,V=(f>>>16&255)*f4,q=(f>>>8&255)*f4,s=(f&255)*f4,cW=c>>>24<<2,dk=(c>>>16&255)*cW,kr=(c>>>8&255)*cW,j9=(c&255)*cW,bh=M>>>24<<1,fe=(M>>>16&255)*bh,gg=(M>>>8&255)*bh,a$=(M&255)*bh,dg=n>>>24<<2,iv=(n>>>16&255)*dg,aQ=(n>>>8&255)*dg,dt=(n&255)*dg,hY=X+J+G+O,b9=z+J+f4+O,i0=cW+bh+G+O,gD=dg+bh+f4+O,hU=hY==0?0:1/hY,aW=b9==0?0:1/b9,be=i0==0?0:1/i0,hv=gD==0?0:1/gD,b3=0,gT=0,aB=0,bO=0;
b3=~~(.5+(r+i+$+B)*hU);gT=~~(.5+(I+K+A+l)*hU);aB=~~(.5+(u+U+W+Y)*hU);bO=~~(.5+hY*(1/9));e[H]=bO<<24|aB<<16|gT<<8|b3;
b3=~~(.5+(C+i+s+B)*aW);gT=~~(.5+(R+K+q+l)*aW);aB=~~(.5+(h+U+V+Y)*aW);bO=~~(.5+b9*(1/9));e[H+1]=bO<<24|aB<<16|gT<<8|b3;
b3=~~(.5+(j9+a$+$+B)*be);gT=~~(.5+(kr+gg+A+l)*be);aB=~~(.5+(dk+fe+W+Y)*be);bO=~~(.5+i0*(1/9));e[H+b]=bO<<24|aB<<16|gT<<8|b3;
b3=~~(.5+(dt+a$+s+B)*hv);gT=~~(.5+(aQ+gg+q+l)*hv);aB=~~(.5+(iv+fe+V+Y)*hv);bO=~~(.5+gD*(1/9));e[H+b+1]=bO<<24|aB<<16|gT<<8|b3}return{rect:a,rg:t}};
_.ara=function(g,o,k){var y=o.m,d=o.n,b=2*Math.floor(y/3),T=2*Math.floor(d/3),a=new bd(o.x,o.y,b,T),t=k&&k.length==b*T*4?k:_.Q(b*T*4),j=new Uint32Array(g.buffer),e=new Uint32Array(t.buffer);
for(var v=0;v<T;v+=2)for(var L=0;L<b;L+=2){var H=v*b+L,w=(v*3>>>1)*y+(L*3>>>1),P=j[w],Q=j[w+1],x=j[w+2],F=j[w+y],E=j[w+1+y],f=j[w+2+y],c=j[w+y+y],M=j[w+1+y+y],n=j[w+2+y+y],X=(P>>>16&255)<<2,u=(P>>>8&255)<<2,I=(P&255)<<2,r=(Q>>>16&255)<<1,J=(Q>>>8&255)<<1,U=(Q&255)<<1,K=(x>>>16&255)<<2,i=(x>>>8&255)<<2,z=(x&255)<<2,h=(F>>>16&255)<<1,R=(F>>>8&255)<<1,C=(F&255)<<1,G=E>>>16&255,W=E>>>8&255,A=E&255,$=(f>>>16&255)<<1,O=(f>>>8&255)<<1,Y=(f&255)<<1,l=(c>>>16&255)<<2,B=(c>>>8&255)<<2,f4=(c&255)<<2,V=(M>>>16&255)<<1,q=(M>>>8&255)<<1,s=(M&255)<<1,cW=(n>>>16&255)<<2,dk=(n>>>8&255)<<2,kr=(n&255)<<2,j9=0,bh=0,fe=0;
j9=~~(.5+(I+U+C+A)*(1/9));bh=~~(.5+(u+J+R+W)*(1/9));fe=~~(.5+(X+r+h+G)*(1/9));e[H]=255<<24|fe<<16|bh<<8|j9;
j9=~~(.5+(z+U+Y+A)*(1/9));bh=~~(.5+(i+J+O+W)*(1/9));fe=~~(.5+(K+r+$+G)*(1/9));e[H+1]=255<<24|fe<<16|bh<<8|j9;
j9=~~(.5+(f4+s+C+A)*(1/9));bh=~~(.5+(B+q+R+W)*(1/9));fe=~~(.5+(l+V+h+G)*(1/9));e[H+b]=255<<24|fe<<16|bh<<8|j9;
j9=~~(.5+(kr+s+Y+A)*(1/9));bh=~~(.5+(dk+q+O+W)*(1/9));fe=~~(.5+(cW+V+$+G)*(1/9));e[H+b+1]=255<<24|fe<<16|bh<<8|j9}return{rect:a,rg:t}};
_.Yj=function(g){var o=255,k=g.length;k-=k&31;for(var m=3;m<k;m+=32)o=o&g[m]&g[m+4]&g[m+8]&g[m+12]&g[m+16]&g[m+20]&g[m+24]&g[m+28];
return o!=255};_.a3G=function(g,o,k,y){var d=_.pL,b=_.aq5,a=0;if(!_.Yj(g)){d=_.D2;b=_.ara}var T={rg:g,rect:o},t=k;
while(t<.499){a++;t*=2}for(var m=0;m<a;m++)T=d(T.rg,T.rect,y);if(t<.5001)T=d(T.rg,T.rect,y);else T=b(T.rg,T.rect,y);
return T};_.ait=function(g,o,k,y){var d=_.q8,b=_.yk,T={rg:g,rect:o},a=0,t=k;while(t<.499){a++;t*=2}for(var m=0;
m<a;m++)T=d(T.rg,T.rect,y);if(t<.5001)T=d(T.rg,T.rect,y);else T=b(T.rg,T.rect,y);return T};_.q8=function(g,o,k){var y=o.m,d=o.n,b=y>>1,T=d>>1,a=new bd(o.x,o.y,b,T);
if(g==null)return{rect:a};var t=k&&k.length>=b*T?k:_.Q(b*T);for(var j=0;j<T;j++){var e=j*b;for(var v=0;
v<b;v++){var L=(j<<1)*y+(v<<1);t[e+v]=2+g[L]+g[L+1]+g[L+y]+g[L+y+1]>>>2}}return{rect:a,rg:t}};_.yk=function(g,o,k){var y=o.m,d=o.n,b=2*Math.floor(y/3),T=2*Math.floor(d/3),a=new bd(o.x,o.y,b,T);
if(g==null)return{rect:a};var t=k&&k.length>=b*T?k:_.Q(b*T);for(var j=0;j<T;j+=2)for(var e=0;e<b;e+=2){var v=j*b+e,L=(j*3>>>1)*y+(e*3>>>1),H=g[L]<<2,w=g[L+1]<<1,P=g[L+2]<<2,Q=g[L+y]<<1,x=g[L+1+y],F=g[L+2+y]<<1,E=g[L+y+y]<<2,f=g[L+1+y+y]<<1,c=g[L+2+y+y]<<2;
t[v]=~~(.5+(H+w+Q+x)*(1/9));t[v+1]=~~(.5+(P+w+F+x)*(1/9));t[v+b]=~~(.5+(E+f+Q+x)*(1/9));t[v+b+1]=~~(.5+(c+f+F+x)*(1/9))}return{rect:a,rg:t}};
_.sQ=function(g,o,k,y,d){var b=o.Nm(y);if(d)b=b.Nm(d);var T=Math.max(0,b.x-o.x),a=Math.max(0,b.x-y.x),t=Math.max(0,b.y-o.y),j=Math.max(0,b.y-y.y),e=b.m,v=b.n;
for(var m=0;m<v;m++){var L=(t+m)*o.m+T,H=(j+m)*y.m+a;k.set(new Uint8Array(g.buffer,L,e),H)}};_.zM=function(g,o,k,y){if(o.ey(y)){_.e_(g,k,3);
return}var d=o.Nm(y),b=Math.max(0,d.x-o.x),T=Math.max(0,d.x-y.x),a=Math.max(0,d.y-o.y),t=Math.max(0,d.y-y.y),j=d.m,e=d.n;
for(var m=0;m<e;m++){var v=(a+m)*o.m+b,L=(t+m)*y.m+T;for(var H=0;H<j;H++)k[(L+H<<2)+3]=g[v+H]}};_.HD=function(g,o,k,y){var d=o.Nm(y),b=Math.max(0,d.x-o.x),T=Math.max(0,d.x-y.x),a=Math.max(0,d.y-o.y),t=Math.max(0,d.y-y.y),j=d.m,e=d.n;
for(var m=0;m<e;m++){var v=(a+m)*o.m+b,L=(t+m)*y.m+T;for(var H=0;H<j;H++)k[L+H]=g[(v+H<<2)+3]}};_.g1=function(g,o,k,y,d){if(o.ey(y)&&(d==null||d.ey(y))){_.QF(g,k);
return}g=new Uint32Array(g.buffer),k=new Uint32Array(k.buffer);var b=o.Nm(y);if(d)b=b.Nm(d);var T=Math.max(0,b.x-o.x),a=Math.max(0,b.x-y.x),t=Math.max(0,b.y-o.y),j=Math.max(0,b.y-y.y),e=b.m,v=b.n,L=e&3,H=L==0?e:e-L;
for(var m=0;m<v;m++){var w=(t+m)*o.m+T,P=(j+m)*y.m+a;k.set(new Uint32Array(g.buffer,w*4,e),P)}};_.eS=function(g,o,k,y){var d=o.Nm(y),b=Math.max(0,d.x-o.x),T=Math.max(0,d.x-y.x),a=Math.max(0,d.y-o.y),t=Math.max(0,d.y-y.y),j=d.m,e=d.n,v=g.Ng,L=g.o,H=g.C,w=g.k,P=k.Ng,Q=k.o,x=k.C,F=k.k;
for(var m=0;m<e;m++){var E=(a+m)*o.m+b,f=(t+m)*y.m+T;for(var c=0;c<j;c++){P[f+c]=v[E+c];Q[f+c]=L[E+c];
x[f+c]=H[E+c];F[f+c]=w[E+c]}}};_.Td=function(g){var o=g.length;for(var m=0;m<o;m+=4){var k=g[m+3];if(k==255)continue;
g[m]=~~(g[m]*k*(1/255)+.5);g[m+1]=~~(g[m+1]*k*(1/255)+.5);g[m+2]=~~(g[m+2]*k*(1/255)+.5)}};_.PF=function(g){var o=g.length;
for(var m=0;m<o;m+=4){var k=g[m+3];if(k==0||k==255)continue;var y=255/k;g[m]=~~(g[m]*y+.5);g[m+1]=~~(g[m+1]*y+.5);
g[m+2]=~~(g[m+2]*y+.5)}};_.lc=function(g,o){for(var m=0;m<g.length;m++)if(g[m]!=o)return!1;return!0};
_.UG=function(g){return g+1+(g>>>8)>>>8};_.round=function(g,o){if(o==null)o=128;var k=g.length;for(var m=0;
m<k;m++)g[m]=g[m]<o?0:255};_.nD=function(g,o){var k=g.length;for(var m=0;m<k;m++)g[m]=Math.round(g[m]*o)};
_.I9=function(g,o){var k=new Uint32Array(g.buffer),y=new Uint32Array(o.buffer),d=k.length;for(var m=0;
m<d;m++){var b=k[m],T=y[m];y[m]=_.UG((b>>>24)*(T>>>24))<<24|_.UG((b>>>16&255)*(T>>>16&255))<<16|_.UG((b>>>8&255)*(T>>>8&255))<<8|_.UG((b&255)*(T&255))}};
_.i1=function(g,o){var k=g.length;for(var m=0;m<k;m++)o[(m<<2)+3]=_.UG(o[(m<<2)+3]*g[m])};_.agh=function(g,o,k,y){var d=Math.max(0,y.x-o.x),b=Math.max(0,o.x-y.x),T=Math.max(0,y.y-o.y),a=Math.max(0,o.y-y.y),t=Math.min(o.x+o.m,y.x+y.m)-Math.max(o.x,y.x),j=Math.min(o.y+o.n,y.y+y.n)-Math.max(o.y,y.y);
for(var m=0;m<j;m++){var e=(T+m)*o.m+d,v=(a+m)*y.m+b;for(var L=0;L<t;L++){k[v]=_.UG(k[v]*g[e]);e++;v++}}};
_.Wy=function(g,o,k,y){var d=Math.max(0,y.x-o.x),b=Math.max(0,o.x-y.x),T=Math.max(0,y.y-o.y),a=Math.max(0,o.y-y.y),t=Math.min(o.x+o.m,y.x+y.m)-Math.max(o.x,y.x),j=Math.min(o.y+o.n,y.y+y.n)-Math.max(o.y,y.y);
for(var m=0;m<j;m++){var e=(T+m)*o.m+d,v=((a+m)*y.m+b<<2)+3;for(var L=0;L<t;L++){k[v]=_.UG(k[v]*g[e]);
e++;v+=4}}};_.Q0=function(g,o,k,y){var d=Math.max(0,y.x-o.x),b=Math.max(0,o.x-y.x),T=Math.max(0,y.y-o.y),a=Math.max(0,o.y-y.y),t=Math.min(o.x+o.m,y.x+y.m)-Math.max(o.x,y.x),j=Math.min(o.y+o.n,y.y+y.n)-Math.max(o.y,y.y);
for(var m=0;m<j;m++){var e=((T+m)*o.m+d<<2)+3,v=((a+m)*y.m+b<<2)+3;for(var L=0;L<t;L++){k[v]=_.UG(k[v]*g[e]);
e+=4;v+=4}}};_.kO=function(g,o){if(o==null)o=1;var k=4*o,y=g.length>>>2,d=new Float64Array(256),b=new Float64Array(256),T=new Float64Array(256),a=new Float64Array(256),t=4*Math.floor(y/o)*o,j=0;
for(var m=0;m<t;m+=k){var e=g[m+0],v=g[m+1],L=g[m+2],H=g[m+3]*o,w=H*(1/255);b[e]+=w;T[v]+=w;a[L]+=w;
j+=H}for(var m=0;m<256;m++)d[m]=b[m]+T[m]+a[m];return[d,b,T,a,y,j/255]};_.xL=function(g,o){function k(M,n){var X=-1,u=0;
while(u<=n){X++;u+=M[X]}return X}function y(M,n){var X=256,u=0;while(u<=n){X--;u+=M[X]}return X}function d(M){var n=0,X=0;
for(var m=0;m<256;m++){X+=M[m];n+=M[m]*m*(1/255)}return n/X}var b=g[0],T=g[1]/100,a=g[2]/100,t=[],j=[];
for(var m=0;m<4;m++){var e=m==0?3:1;t[m]=k(o[m],e*T*o[5]);j[m]=y(o[m],e*a*o[5])}var v=[d(o[1]),d(o[2]),d(o[3])],L=v.slice(0);
L.sort(function(M,n){return M-n});var H=v.indexOf(L[1]),w=(v[0]+v[1]+v[2])/3,P=[];for(var m=0;m<4;m++){var Q=0,x=255,F=t[m],E=j[m];
if(b==0&&m==0){Q=F;x=E}if(b==1&&m!=0){Q=F;x=E}if(b==2&&m!=0){var e=v[m-1]/w;x=Math.max(0,Math.min(255,j[H]*e))}var f=[Q,x];
P.push(f);if(b==3&&m==0){var c=255*(1-w);f.push(c)}}return P};_.KR=function(g,o){var k=new Uint32Array(g.buffer),y=k.length;
for(var m=0;m<y;m++){var d=k[m],b=d&255,T=d>>8&255,a=d>>16&255,t=d>>24&255;k[m]=o[b]|o[T]<<8|o[a]<<16|o[t]<<24}};
_.agJ=function(g,o,k,y,d,b,T){var a=new Uint32Array(g.buffer),t=new Uint32Array(o.buffer),j=a.length,e=0;
while(256<<e<k.length)e++;if(!T&&!b){for(var m=0;m!=j;m++){var v=a[m],L=(v&255)<<e,H=(v>>>8&255)<<e,w=(v>>>16&255)<<e,P=k[L],Q=y[H],x=d[w];
t[m]=P|Q<<8|x<<16|v&4278190080}return}for(var m=0;m<j;m++){var v=a[m],L=(v&255)<<e,H=(v>>>8&255)<<e,w=(v>>>16&255)<<e;
if(b)L=H=w=Math.round(L*.3+H*.59+w*.11);var P=k[L],Q=y[H],x=d[w];if(T){var F=_.pM(L,H,w),E=_.pM(P,Q,x);
if(F>E){var f=(F-E)/(255-E);P+=f*(255-P);Q+=f*(255-Q);x+=f*(255-x)}else if(E==0)P=Q=x=0;else{var f=F/E;
P=f*P;Q=f*Q;x=f*x}}t[m]=P|Q<<8|x<<16|v&4278190080}};_.P8=function(g,o){var k=o.m,y=o.n,top=0,d=0,b=0,T=0,a=0;
a=0;for(var t=0;t<y;t++){var j=t*k;for(var m=0;m<k;m++)a|=g[j+m];if(a!=0)break;top++}if(top==y)return new bd(0,0,0,0);
a=0;for(var t=y-1;t>=0;t--){var j=t*k;for(var m=0;m<k;m++)a|=g[j+m];if(a!=0)break;b++}var e=y-b;a=0;
for(var m=0;m<k;m++){for(var t=top;t<e;t++)a|=g[t*k+m];if(a!=0)break;d++}a=0;for(var m=k-1;m>=0;m--){for(var t=top;
t<e;t++)a|=g[t*k+m];if(a!=0)break;T++}var v=new bd(o.x+d,o.y+top,k-d-T,y-top-b);return v};_.AO=function(g,o,k,y){if(y==null)y=[!0,!0,!0,!0];
if(k==null)k=0;var d=new Uint32Array(g.buffer),b=o.m,T=o.n,top=0,a=0,t=0,j=0,e=!1,v=[d[0],d[d.length-1],0][k];
e=!1;if(y[0])for(var L=0;L<T;L++){var H=L*b;for(var m=0;m<b;m++)if(d[H+m]!=v)e=!0;if(e)break;top++}e=!1;
if(y[2])for(var L=T-1;L>=0;L--){var H=L*b;for(var m=0;m<b;m++)if(d[H+m]!=v)e=!0;if(e)break;t++}e=!1;
if(y[1])for(var m=0;m<b;m++){for(var L=0;L<T;L++)if(d[L*b+m]!=v)e=!0;if(e)break;a++}e=!1;if(y[3])for(var m=b-1;
m>=0;m--){for(var L=0;L<T;L++)if(d[L*b+m]!=v)e=!0;if(e)break;j++}var w=new bd(o.x+a,o.y+top,b-a-j,T-top-t);
return w.on()?new bd(0,0,0,0):w};_.xO=function(g){var o=_.P8(g.channel,g.rect);if(o.ey(g.rect))return;
var k=_.Q(o.O());_.sQ(g.channel,g.rect,k,o);g.channel=k;g.rect=o};_._7=function(g){var o=_.Q(g.buffer.length>>2);
_.B4(g.buffer,o,3);var k=_.P8(o,g.rect);if(k.ey(g.rect))return;var y=new _.Q(k.O()*4);_.g1(g.buffer,g.rect,y,k);
g.buffer=y;g.rect=k};_.extend=function(g,o,k){if(g.rect.IK(o))return;var y=g.rect.gO(o),d=_.Q(y.O());
if(k!=null)d.fill(k);_.sQ(g.channel,g.rect,d,y);g.rect=y;g.channel=d};_.awk=function(g,o){if(o.on()||g.rect.IK(o))return;
var k=g.rect.gO(o),y=_.Q(k.O()*4);_.g1(g.buffer,g.rect,y,k);g.rect=k;g.buffer=y};_.DQ=function(g,o,k){if(!k.oo(g))return!1;
var y=Math.floor(g.x)-k.x,d=Math.floor(g.y)-k.y,m=d*k.m+y;return o[m]>128};_.ame=function(g,o,k){if(!k.oo(g))return!1;
var y=Math.floor(g.x)-k.x,d=Math.floor(g.y)-k.y,m=d*k.m+y;return o[4*m+3]>128};_.Fw=function(g){if(_.Zh.length<g){_.Zh=_.Q(g);
_.Zh.fill(255)}return _.Zh};_.Zh=_.Q(0);_.o7=function(g){if(_.Qg.length<g)_.Qg=_.Q(g);return _.Qg};_.Qg=_.Q(0);
_.up=function(g){this.Ng=_.Q(g);this.o=_.Q(g);this.C=_.Q(g);this.k=_.Q(g)};_.up.prototype.clone=function(){var g=this.Ng.length,o=new _.up(1);
o.Ng=this.Ng.slice(0);o.o=this.o.slice(0);o.C=this.C.slice(0);o.k=this.k.slice(0);return o};_.B.auz=function(g,o,k,y,d){var b=d[0]+1,T=d[1],a=Math.abs(T-25)/4,t=d[2],j=t%2+t*t>>1,e=_.B._;
e.Iq(o,k);var v=e.tL(1),L=e.tL(1),H=e.tL(1);e.mE(g,y,t,t,j);e.$A(y);e.gz(y,v);e.am(v,L,b,b,1);e.am(v,H,b,b,b*b);
e.sub(H,L);e.I9(L,a);(T<25?e.sub:e.add)(v,L);e.ID(L,y);e.q9(y)};_.B.amE=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=d[0]*2.55,a=d[1],t=a>>1,j=d[2]*.25,e=b.tL(4),v=b.tL(1),L=b.tL(1);b.Ho(g,e,a,1,!0,t);
b.Ho(g,y,a,1,!1,t);b.oy(g,v);b.$i(v,T);b.sX(v,L,3);b.eq(y,L,e);b.bM(e,y,j)};_.B.a60=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[3]);var T=d[0]*-3+80,a=d[1]*-3+80,t=d[2]/2+.5,j=d[4],e=d[5],v=b.tL(1),L=b.tL(1),H=b.tL(1),w=b.tL(1),P=b.tL(4),Q=b.tL(4);
b.oy(g,v);b.QF(v,L);b.Q7(v,a,5);b.kc(v,.4,0);b.sX(v,H,3);b.Sq(H,v,9,3,!0,27);b.QF(L,H);b.TY(H);var x=b.gP(T,5,H);
for(var m=0;m<b.eR;m++){L[m]=x[255-L[m]]}b.kc(L,.4,0);b.QF(L,H);b.sX(H,w,2);b.Sq(w,H,5,3,!1,15);b.I9(v,t);
b.I9(H,t);b.xY(y,2155905279);b.xY(Q,j);b.xY(P,e);b.eq(Q,v,y);b.eq(P,H,y)};_.B.acL=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=new Uint8Array(256),a=5+10*d[1];a+=d[1]>3?(d[1]-3)*10:0;var t=~~(d[2]*.73)+50,j=Math.min(t+a,128),e=j-t,v=-255*t;
for(var m=0;m<256;m++){var L=m*65;T[m]=b.Ce(v/e);v+=255}var H=b.tL(1),w=b.tL(1),P=b.tL(1);b.oy(g,H);
b.QF(H,P);b.sX(H,w,2*d[0]+1);b.sub(w,H);b.I9(H,65);b.Sq(H,w,9,3,!0,20);for(var m=0;m<b.eR;m++){var Q=P[m],x=w[m];
H[m]=x>0?~~((x*Q+(255-x)*128)/255):128}b.sX(H,w,3);b.Sq(w,H,15,2,!0,16);b.Sq(w,P,15,2,!1,15);b.eD(H,P);
b.cd(P,w,2);b.ff(w,T);b.sX(w,H,2);b.ps(H,y)};_.B.ams=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);var T=2*d[0]+1,a=b.Bc[d[1]],t=d[2]*5.1,j=d[3],e=b.tL(1),v=b.tL(1),L=b.tL(4),H=b.tL(4);
b.xY(L,j);b.$A(L,y);b.K4(e,t);b.ID(e,y);b.q9(y,L);b.oy(g,v);b.sX(v,e,T);b.sub(e,v);b.I9(v,a);b.Sq(v,e,9,3,!0,20);
b.eq(g,e,L);b.bk(L,y,3);b.Ho(y,L,15,2,!0,16);b.Ho(y,H,15,2,!1,16);b.eD(L,H);b.bM(H,y,2)};_.B.a68=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=(15-d[0])/4+1,a=(15-d[1])/4+1,t=d[2],j=d[3],e=b.EE(d[4]),v=d[5]+1,L=d[6],H=d[7],w=d[8],P=b.tL(1),Q=b.tL(1),x=b.tL(1),F=b.tL(1),E=b.tL(4),f=b.tL(4);
b.oh(x,t,j,L);b.oy(g,Q);b.sX(Q,P,5);b.GJ(x,P,F,v,e);b.I9(F,T);b.Uj(F,2);b.TY(P);b.GJ(x,P,Q,v,e);b.I9(Q,a);
b.Uj(Q,2);b.xY(E,2155905279);b.xY(f,H);b.xY(y,w);b.eq(E,Q,f);b.eq(f,F,y)};_.B.a5x=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[3]);var T=d[0],a=d[1]/10,t=d[2]/10,j=b.tL(1),e=b.tL(1),v=b.tL(1),L=b.Th(),H=b.Th(),w=b.Th();
b.l8(j);b.sX(j,e,11);b.sX(e,j,11);b.Ub(j,L);b.OG(g,j);b.QF(j,v);b.sX(j,e,9);b.sX(e,j,9);b.Ub(j,H);b.$v(H,w,5);
b.$v(w,H,5);b.q6(L,.8);b.aez(L,H,.8,.9);b.I2(H,j,T);b.am(j,e,2,2,1);b.am(e,j,2,2,3);b.am(j,e,2,2,3);
b.am(v,j,5,5,13);b.Zy(e,j,e,a);b.y7(j,e,e,t);b.GJ(e,e,j,5,1);b.$A(g,y);b.ID(j,y);b.q9(y)};_.B.aqU=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=d[0],a=d[1]/2,t=d[2],j=T/2,e=b.tL(4),v=b.tL(4);b.QF(g,y);for(var L=0;L<t;L++){b.Ho(y,e,T,1,!0,j);
b.Ho(y,v,T,1,!1,j);b.eD(v,e);b.bk(e,v,2);b.bM(v,y,a)}};_.B.avV=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);
var T=d[0]*10,a=d[1]*4.9,t=d[2]*4.9,j=b.tL(1),e=b.tL(1),v=b.tL(4),L=b.tL(4);b.oy(g,j);b.$i(j,b.a9f(j,T));
b.sX(j,e,3);b.Ho(g,v,5,1,!1,1);b.Ho(g,y,15,2,!0,16);b.eq(y,e,v);b.$A(v,y);b.gz(y,j);b.Q7(j,a,t);b.ID(j,y);
b.q9(y)};_.B.a0I=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);b.KW(d[4]);var T=d[0]/20,a=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][d[1]],t=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][d[2]],j=d[3],e=new Int16Array(256);
for(var m=0;m<256;m++){e[m]=~~((m-128)*T)}var v=b.tL(1),L=b.tL(1),H=b.tL(4);b.oy(g,v);b.sX(v,L,25);b.I9(L,a);
b.Uj(L,t);b.sX(L,v,25);b.l8(L);b.ij(v,L,e);b.QF(g,y);b.xY(H,j);b.eq(H,v,y)};_.B.aoC=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=d[0]+5,a=15-d[1],t=T*T/2,j=1-(3-d[2])/10,e=~~(a*a*j-1),v=~~(a*a*(1-j));if(v==0)v=1;var L=b.tL(1),H=b.tL(1),w=b.tL(1),P=b.tL(4);
b.oy(g,w);b.am(w,L,T,T,t);b.sX(w,H,T);b.sub(L,H);b.$i(H,1);b.mE(g,P,a,a,e);b.mE(g,y,a,a,v);b.eq(P,H,y)};
_.B.ayq=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);b.KW(d[3]);var T=(20-d[0])*.05,a=d[1]*-2.75+60,t=65-a,j=d[2]/10,e=b.tL(1),v=b.tL(1);
b.OG(g,v);var L=b.gP(a,t,v);b.$A(g,y);b.gz(y,v);b.l8(e);b.Em(v,e,T);b.ff(v,L);b.I9(v,d[2]/10);b.add(e,v);
b.ID(v,y);b.q9(y)};_.B.a2W=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);var T=5+d[0],a=15-d[1],t=d[2],j=T*T/2+T*T%2*1,e=1-(3-d[2])/10,v=~~(a*a*e-1),L=~~(a*a*(1-e));
if(L==0)L=1;var H=b.tL(1),w=b.tL(1),P=b.tL(1),Q=b.tL(1),x=b.tL(1);b.OG(g,w);b.cd(w,H,3);b.am(H,w,2,2,1);
var F=b.gP(20,20,w);b.ff(w,F);b.sX(w,x,5);b.am(x,H,T,T,j);b.am(x,w,a,a,v);b.am(x,P,a,a,L);b.sX(x,Q,T);
b.sub(H,Q);b.$i(Q,1);b.g$(w,Q,P);b.$A(g,y);b.ID(P,y);b.q9(y)};_.B.ays=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[5]);var T=b.eR,a=b.iJ,t=d[0],j=d[1],e=d[2],v=d[3],L=d[4],H=.05*t+1,w=t/100,P=t>>1,Q=2*t-100,x=+(j==9),F=+(j==7),E=[4,1][x],f=[3,2][x],c=[1,2][F],M=[2,1][F],n=[50,75][x],X=j<4?e:(e>>1)+50,u=b.u4(n,X),I=b.Gj(v),r=b.Gj(L),J=b.tL(4),U=b.tL(4),K=b.tL(1),i=b.tL(1);
function z(y,u){if(X!=50){b.Kj(y,u)}}function h(g,V){for(var m=0;m<T;m++){g[m]=b.Ce(g[m]+(V[m]-128)*w)}}function R(g,V){for(var m=0,q=0;
m<T;m++){g[q]=b.Ce(g[q]+(V[q]-128)*w);g[q+1]=b.Ce(g[q+1]+(V[q+1]-128)*w);g[q+2]=b.Ce(g[q+2]+(V[q+2]-128)*w);
q+=4}}function C(g,y){b.l8(U);b.QF(g,y);R(y,U);z(y,u)}function G(V){var q=0;for(var s=0;s<12;s++)q+=b.random();
return b.Ce(P*(q-6)+V)}function W(g,y){b.QF(g,y);for(var m=0;m<a;m+=4){y[m]=G(y[m]);y[m+1]=G(y[m+1]);
y[m+2]=G(y[m+2])}z(y,u)}function A(g,y){b.QF(g,y);for(var m=0;m<a;m+=4){if(b.random()<w){y[m]=I[0];y[m+1]=I[1];
y[m+2]=I[2]}}z(y,u)}function $(g,y){b.l8(J);b.mE(J,U,f,f,E);b.QF(g,J);R(J,U);b.mE(J,y,5,5,13);z(y,u)}function O(g,y){b.l8(U);
b.QF(g,J);R(J,U);z(y,u);b.mE(J,y,f,f,E)}function Y(g,y){b.QF(g,J);z(y,u);b.oy(J,K);for(var m=0,V=0;m<T;
m++){var q=((Q-K[m]+255)*128.5+.5)/32767;if(b.random()<=q){y[V++]=r[0];y[V++]=r[1];y[V++]=r[2]}else{y[V++]=I[0];
y[V++]=I[1];y[V++]=I[2]}y[V]=g[V];V++}}function l(g,y){b.$A(g,y);b.gz(y,K);b.cd(K,i,H);b.am(i,K,f,f,E);
b.ff(K,u);b.ID(K,y);b.q9(y)}function B(g){var V=0;if(j==8){for(var q=0;q<o;q++){g[V++]=~~(b.random()*255)}for(var m=1;
m<k;m++){for(var q=0;q<o;q++){g[V++]=g[q]}}}else{for(var m=0;m<k;m++){var s=~~(b.random()*255);for(var q=0;
q<o;q++){g[V++]=s}}}}function f4(g,y){b.oy(g,K);b.l8(i);h(K,i);B(i);h(K,i);b.bk(g,J,9);b.bk(J,U,9);b.sX(K,i,2);
b.ff(i,u);b.sX(i,K,2);b.$A(U,y);b.ID(K,y);b.q9(y)}[C,W,A,$,$,O,Y,f4,f4,l][j](g,y)};_.B.a7M=function(g,o,k,y,d){var b=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],T=_.B._,P=0,Q,m,c,M,n,X=0,u=1,I=255;
T.Iq(o,k);T.KW(d[3]);var a=T.tL(1),t=T.tL(1);T.oy(g,a);var j=d[0],e=d[1],v=e<=50?b[e]/255:1+(255-b[101-e])/255,L=d[2],H=a.length,w=new Float32Array(H),x=1+1/10*j,F=(1-1/x)/2,E=16/256,f=o-1;
for(m=0;m<T.eR;m++){w[m]=a[m]/255;t[m]=j==1?T.random()<1/255?I:u:u}function r(J,U){var K=J*o+U;if(t[K]!=u||J>=k||U>=o){return}var M=w[K],i=v-M,z=T.random(),h=z/x+F;
if(P==0||Math.abs(n-M)>E){Q=h<=i?X:I;P=~~(T.random()*j)}else if(.1<z){P--}else{P=0}t[K]=Q;n=M}if(L==0){for(m=0;
m<o;m++){for(c=0;c<o;c++){M=m+c;if(M>=o)break;r(c,f-M)}P=0}for(m=1;m<k;m++){for(c=0;c<k;c++){M=m+c;if(M>=k||c>=o)break;
r(M,f-c)}P=0}}else if(L==1){for(m=0;m<k;m++){for(c=0;c<o;c++){r(m,c)}P=0}}else if(L==2){for(m=0;m<o;
m++){for(c=0;c<o;c++){M=m+c;if(M>=o)break;r(c,M)}P=0}for(m=1;m<k;m++){for(c=0;c<k;c++){M=m+c;if(M>=k||c>=o)break;
r(M,c)}P=0}}else{for(m=0;m<o;m++){for(c=0;c<k;c++){r(c,m)}P=0}}T.ps(t,y)};_.B.alO=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=d[0],a=d[1],t=d[2],j=b.tL(1),e=b.tL(1),v=b.tL(1),L=b.tL(4),H=b.tL(4);b.oy(g,j);b.am(j,e,3,3,1);
b.am(j,v,3,3,9);b.sub(v,e);b.sX(e,j,3);b.Q7(j,40,10);b.Ho(g,y,T,2,!1,T);b.Ho(g,L,T,2,!0,T);b.xY(H,255);
b.eq(y,j,H);b.eq(H,j,L);b.bM(L,y,1);b.$A(y);b.gz(y,j);b.Q7(j,a,t);b.ID(j,y);b.q9(y)};_.B.ajT=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[3]);var T=d[0],a=d[1],t=d[2]/10;T=T+a;var j=b.tL(1),e=b.tL(1),v=b.Th(),L=b.Th();b.l8(j);
b.sX(j,e,11);b.sX(e,j,11);b.Ub(j,v);b.$v(v,L,5);b.$v(L,v,5);b.q6(L,.97);b.I2(L,j,T);b.am(j,e,a,a,1);
b.OG(g,j);b.Zy(e,j,e,.6);b.y7(j,e,e,t);b.GJ(e,e,j,5,1);b.$A(g,y);b.ID(j,y);b.q9(y)};_.B.a5m=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=Math.abs(d[0]),a=T+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][T],t=2*T+1,j=d[1]/10,e=j*13/15,v=b.tL(1),L=b.tL(1),H=b.tL(1),w=b.tL(1),P=b.tL(4),Q=b.tL(4),x=b.tL(4),F=b.tL(4),E=b.tL(4);
b.oy(g,v);if(d[0]>=0){b.TY(v)}b.QF(v,H);b.sX(v,w,a);b.sX(w,v,a);b.I9(v,j);b.QF(v,L);b.sX(v,w,t);b.sX(w,v,t);
b.I9(v,e);b.xY(x,d[2]);b.xY(F,d[3]);b.xY(E,d[4]);b.eq(x,v,F,P);b.eq(E,L,P,Q);b.eq(F,H,Q,y);b.gz(g,H,3);
b.ID(H,y,3)};_.B.ak9=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);b.KW(d[5]);var T=d[0]*5.1,a=d[1]/100,t=b.Hc[d[2]],j=b.tL(1),e=b.tL(1),v=b.tL(1);
b.oy(g,j);b.K4(e,255);b.l8(v);b.$i(j,T);b.Em(e,j,.7);b.Em(v,j,a);b.GJ(j,j,e,5,t);b.QF(g,y);b.al9(y,T,d[4],d[3]);
b.$A(y);b.ID(e,y);b.q9(y)};_.B.ag4=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);var T=d[0],a=4-d[1],t=11-d[2],j=b.tL(1),e=b.tL(1),v=b.tL(4);
b.OG(g,e);for(var m=0;m<a;m++){b.QF(e,j);b.kd(j,e,T,T)}b.bk(g,v,T);b.$A(v,v);b.ID(e,v);b.q9(v,v);(t<11?b.auh:b.QF)(v,y,t)};
_.B.alm=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);b.KW(d[2]);var T=d[0]+5,a=~~(T/5+1),t=~~(T/2)+1,j=t*t,e=~~(T/3),v=b.Hc[d[1]],L=new Array(256);
for(var m=0;m<256;m++){L[m]=~~(.2*(m-128))}var H=b.tL(1),w=b.tL(1);b.amG(g,y,T);b.$A(y);b.gz(y,H);b.l8(w);
b.ij(H,w,L);b.a4_(w,T,T,a,a);b.Zy(H,w,H,1);b.sX(H,w,e);b.sX(w,H,e);b.am(H,w,t,t,j);b.GJ(w,w,H,5,v);b.ID(H,y);
b.q9(y)};_.B.atK=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);var T=b.tL(1),a=b.tL(1),t=b.tL(1),j=b.Th(),e=b.Th();
b.oy(g,T);b.sX(T,a,d[2]);b.$i(a,d[0]*5.1);b.am(a,T,2,2,4);b.sX(T,a,3);b.sX(a,T,3);b.QF(T,t);b.sX(T,a,5);
b.sX(a,T,5);b.Ub(T,j);b.$v(j,e,5);b.$v(e,j,5);b.ax$(j,a,d[1]);b.TY(a);b.Zy(t,a,t,1);b.ps(t,y)};_.B.ahC=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=1<<7-d[2],a=b.tL(1),t=b.tL(1),j=b.tL(1);b.OG(g,t);b.sX(t,a,3);b.QF(a,t);b.sX(a,j,d[0]+5);
b.sub(j,t);b.Q7(t,1,d[1]);b.I9(a,1/T);b.I9(a,T);b.sub(a,t);b.$A(g,y);b.ID(t,y);b.q9(y)};_.B.aw_=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[3]);var T=b.tL(1),a=b.tL(1),t=b.tL(1);b.oy(g,T);b.ar7(a,d[0]/50);b.sX(a,t,3);b.am(T,a,9,9,41);
b.Q7(a,d[1],d[2]);b.Zy(a,t,t,.75);b.y7(a,t,a,.5);b.QF(a,T);b.am(T,t,3,3,8);b.Zy(t,a,t,.75);b.I9(t,1.2);
b.cd(t,T,1);b.sX(T,t,2);b.cd(t,T,2);b.I9(T,1.2);b.sX(T,t,2);b.ps(t,y)};_.B.apk=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=d[0]+9,a=d[1]/2,t=d[2],j=d[3],e=b.EE(d[4]),v=d[5]+1,L=d[6],H=b.tL(1),w=b.tL(1),P=b.tL(4),Q=b.tL(4);
b.oh(w,t,j,L);b.w0(g,y,T,1,1);b.w0(y,P,T,1,1);b.aq$(P,P,Q,7,a);b.I9(Q,1.2);b.Uj(Q,1.2);b.GJ(w,H,H,v,e);
b.I9(H,3);b.QF(g,y);b.eq(Q,H,y)};_.B.a4Z=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);b.KW(d[3]);var T=d[0]+4,a=T*2/5+(T%5|0);
T--;var t=d[1]*-2.75+60,j=65-t,e=d[2]/10,v=b.tL(1),L=b.tL(1);b.l8(v);b.OG(g,L);var H=b.gP(t,j,L);b.$A(g,y);
b.gz(y,L);b.Em(L,v,.8);b.ff(L,H);b.I9(L,e);b.add(v,L);b.Sq(L,v,T,3,!1,a);b.ID(v,y);b.q9(y)};_.B.at_=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[3]);var T=d[0]+5,a=(T*T>>1)+T%2,t=d[1]/10,j=d[2],e=(j*j>>1)+j%2,v=b.tL(1),L=b.tL(1),H=b.tL(1),w=b.tL(4),P=b.tL(4),Q=b.tL(4);
b.l8(H);b.$A(g,Q);b.gz(Q,v);b.Em(v,H,.8);b.sX(H,v,3);b.cd(v,H,t);b.ID(H,Q);b.q9(Q,Q);b.oy(Q,H);b.am(H,v,T,T,a);
b.sX(H,L,T);b.sub(v,L);b.$i(L,1);b.mE(Q,w,7,7,40);b.mE(Q,P,7,7,10);b.eq(w,L,P);b.mE(P,y,j,j,e)};_.B.a3t=function(g,o,k,y,d){var b=_.B._,a=255,m,j;
b.Iq(o,k);var T=d[0];if(T<2)a=T;else if(T<12)a=5*T-5;else if(T<47)a=2*T+28;else if(T<50){m=T-47;a=125+12.5*m+12.5*m*m}var t=new Uint8Array(256);
for(m=75,j=15;m<256;m++,j+=24)t[m]=Math.min(255,j);var e=b.tL(1),v=b.tL(1),L=b.tL(1);b.oy(g,e);b.sX(e,v,11);
b.sX(v,L,11);b.sub(L,e);b.I9(e,8);b.sub(L,e);b.$i(e,a);b.TY(e);b.sX(e,v,5);b.$i(v,51);b.sX(v,e,d[1]);
b.sX(e,v,d[1]);b.TY(v);b.ff(v,t);b.ps(v,y)};_.B.akr=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);var T=b.Bc[d[1]],a=d[2],t=a*1.5,j=b.tL(1),e=b.tL(1),v=b.tL(1);
b.OG(g,j);b.Sq(j,e,15,2,!0,15);b.QF(e,v);b.Q7(v,a,t);b.sX(v,j,3);b.sX(e,v,d[0]);b.sub(v,e);b.I9(e,T);
b.sub(j,e);b.sX(e,j,3);b.Sq(j,e,3,1,!1,1);b.bk(g,y,15);b.$A(y);b.ID(e,y);b.q9(y)};_.B.a7c=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);b.KW(d[3]);var T=d[0]*5.1,a=16-d[1],t=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][d[2]],j=b.tL(1),e=b.tL(1),v=b.tL(1);
b.oy(g,j);b.$i(j,T);b.sX(j,e,a);b.sX(e,j,a);b.l8(v);b.y7(j,v,v,1);b.Zy(j,v,j,.75);b.I9(j,t);b.Uj(j,t);
b.am(j,e,2,2,2);b.ps(e,y)};_.B.a5y=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);var T=d[0]+9,a=d[1]+9,t=d[2],j=d[3],e=b.EE(d[4]),v=d[5]+1,L=d[6],H=b.tL(1),w=b.tL(1),P=b.tL(1),Q=b.tL(1),x=b.tL(1),F=b.tL(4);
b.OG(g,H);b.kd(H,P,T,T);b.sX(P,H,a);b.QF(P,x);b.QF(H,Q);b.sub(x,Q);b.sub(H,x);b.add(x,Q);b.I9(Q,10);
b.oh(w,t,j,L);b.GJ(w,H,x,v,e);b.g$(x,Q,P,.8);b.bk(g,F,9);b.bk(F,y,9);b.$A(y);b.ID(P,y);b.q9(y)};_.B.a2P=function(g,o,k,y,d){var b=_.B._;
b.Iq(o,k);var T=16-d[0],a=d[1]*8,t=1-(3-d[2])/10,j=~~(T*T*t-1),e=~~(T*T*(1-t));if(e==0)e=1;var v=b.tL(1),L=b.tL(1),H=b.tL(1),w=b.tL(4);
b.oy(g,H);b.am(H,v,7,7,25);b.sX(H,L,7);b.sub(v,L);b.$i(L,1);b.mE(g,w,T,T,j);b.mE(g,y,T,T,e);b.eq(w,L,y);
b.$A(y);b.gz(y,v);b.am(v,H,3,3,1);b.am(v,L,3,3,9);b.sub(L,H);b.QF(H,L);b.sub(v,H);b.sub(H,L);b.am(L,v,3,3,8);
b.Q7(v,a,1);b.ID(v,y);b.q9(y)};_.B.asG=function(g,o,k,y,d){var b=_.B._;b.Iq(o,k);b.KW(d[3]);var T=d[0],a=d[1],t=d[2],j=T>>1,e=Math.max(~~(T/5),1),v=Math.max(~~(T*2/3),1),L=b.u4(a,t),H=b.tL(1),w=b.tL(1),P=b.tL(1),Q=b.tL(1),x=b.tL(4);
b.OG(g,H);b.Qd(2147483647,4,2,2,0,255,w);b.Qd(4,2147483647,2,2,0,255,Q);b.l8(P);b.y7(w,P,w,1);b.y7(Q,P,Q,1);
b.y7(w,H,w,1);b.y7(Q,H,Q,1);b.bk(g,x,j);b.bk(x,y,j);b.am(w,H,1,T,e);b.am(H,w,3,T,v);b.am(Q,H,T,1,e);
b.am(H,Q,T,3,v);b.eD(w,Q);b.$A(y);b.ID(Q,y);b.q9(y);b.Kj(y,L)};_.B._={};_.B._.bW=0;_.B._.GP=0;_.B._.eR=0;
_.B._.ow=0;_.B._.iJ=0;_.B._.Iq=function(g,o){var k=g*o,self=_.B._;self.bW=g;self.GP=o;self.eR=k;self.ow=k<<1;
self.iJ=k<<2};_.B._.KW=function(g){_.B._.random=function(){var o=g+=1831565813;o=Math.imul(o^o>>>15,o|1);
o^=o+Math.imul(o^o>>>7,o|61);return((o^o>>>14)>>>0)/4294967296}};_.B._.tL=function(g){var o=_.B._;return new Uint8Array([-1,o.eR,o.ow,-1,o.iJ][g])};
_.B._.Th=function(){return new Int32Array(_.B._.ow)};_.B._.sX=function(g,o,k,y){if(y==null)y=k;var self=_.B._,d=self.bW,b=self.GP;
_.tI.zG(g,o,new bd(0,0,d,b),k>>>1);return};_.B._.$v=function(g,o,k,y){var self=_.B._,d=new Int32Array(self.eR),b=new Int32Array(self.eR);
for(var m=0;m<2;m++){self.gz(g,d,m,2);self.sX(d,b,k,y);self.ID(b,o,m,2)}};_.B._.bk=function(g,o,k,y){var self=_.B._,d=self.tL(1),b=self.tL(1);
for(var m=0;m<4;m++){self.gz(g,d,m);if(m<3)self.sX(d,b,k,y);else b=d;self.ID(b,o,m)}};_.B._.w0=function(g,o,k,y,d){var self=_.B._,b=self.bW,T=self.GP,a=k+y-1,t=k>>1,j=a>>1,e=0,v=k*y,L=new Int32Array(k);
for(var m=0;m<T;m++){var H=0,w=0,P=0;for(var Q=0;Q<k;Q++){var x=d?a-Q-y:Q;for(var F=x,E=y+x;F<E;F++){var f=0-j+F,c=m-t+Q;
if(F==x){L[Q]=f}if(f<0)f=0;else if(f>=b)f=b-1;if(c<0)c=0;else if(c>=T)c=T-1;var M=b*c+f<<2;H+=g[M];w+=g[M+1];
P+=g[M+2]}}o[e++]=~~(H/v);o[e++]=~~(w/v);o[e++]=~~(P/v);o[e]=g[e];e++;for(var n=1;n<b;n++){for(var Q=0;
Q<k;Q++){var c=m-t+Q,x=L[Q]+1;L[Q]=x;var X=x-1,u=x+y-1;if(c<0)c=0;else if(c>=T)c=T-1;if(X<0)X=0;else if(X>=b)X=b-1;
if(u<0)u=0;else if(u>=b)u=b-1;var I=c*b+X<<2,r=c*b+u<<2;H=H+g[r]-g[I];w=w+g[r+1]-g[I+1];P=P+g[r+2]-g[I+2]}o[e++]=~~(H/v);
o[e++]=~~(w/v);o[e++]=~~(P/v);o[e]=g[e];e++}}};_.B._.Sq=function(g,o,k,y,d,b){var self=_.B._,T=self.bW,a=self.GP,t=k+y-1,j=k>>1,e=t>>1,v=0,L=new Int32Array(k),H=new Int32Array(256),w=new Int32Array(16);
for(var m=0;m<a;m++){H.fill(0);w.fill(0);for(var P=0;P<k;P++){var Q=d?t-P-y:P;for(var x=Q,F=y+Q;x<F;
x++){var E=0-e+x,f=m-j+P;if(x==Q){L[P]=E}if(E<0)E=0;else if(E>=T)E=T-1;if(f<0)f=0;else if(f>=a)f=a-1;
H[g[f*T+E]]++;w[g[f*T+E]>>>4]++}}o[v++]=_.B._.io(w,H,b);for(var c=1;c<T;c++){for(var P=0;P<k;P++){var f=m-j+P,Q=L[P]+1;
L[P]=Q;var M=Q-1,n=Q+y-1;if(f<0)f=0;else if(f>=a)f=a-1;if(M<0)M=0;else if(M>=T)M=T-1;if(n<0)n=0;else if(n>=T)n=T-1;
var X=g[f*T+M],u=g[f*T+n];H[X]--;H[u]++;w[X>>>4]--;w[u>>>4]++}o[v++]=_.B._.io(w,H,b)}}};_.B._.Ho=function(g,o,k,y,d,b){var self=_.B._,T=self.tL(1),a=self.tL(1);
for(var m=0;m<4;m++){self.gz(g,T,m);if(m<3)self.Sq(T,a,k,y,d,b);else a=T;self.ID(a,o,m)}};_.B._.am=function(g,o,k,y,d){d=Math.min(y*k,d);
var self=_.B._,b=self.bW,T=self.GP,a=y>>1,t=k>>1,j=0,e=new Int32Array(y),v=new Int32Array(256),L=new Int32Array(16);
for(var m=0;m<T;m++){v.fill(0);L.fill(0);for(var H=0;H<y;H++){for(var w=0,P=k;w<P;w++){var Q=0-t+w,x=m-a+H;
if(w==0){e[H]=Q}if(Q<0)Q=0;else if(Q>=b)Q=b-1;if(x<0)x=0;else if(x>=T)x=T-1;v[g[x*b+Q]]++;L[g[x*b+Q]>>>4]++}}o[j++]=_.B._.io(L,v,d);
for(var F=1;F<b;F++){for(var H=0;H<y;H++){var x=m-a+H,E=e[H]+1;e[H]=E;var f=E-1,c=E+k-1;if(x<0)x=0;else if(x>=T)x=T-1;
if(f<0)f=0;else if(f>=b)f=b-1;if(c<0)c=0;else if(c>=b)c=b-1;var M=g[x*b+f],n=g[x*b+c];v[M]--;v[n]++;
L[M>>>4]--;L[n>>>4]++}o[j++]=_.B._.io(L,v,d)}}};_.B._.io=function(g,o,k){var y=0,d=0;while(y+g[d>>>4]<k){y+=g[d>>>4];
d+=16}for(;d<256;d++){y+=o[d];if(y>=k)break}return d};_.B._.mE=function(g,o,k,y,d){var self=_.B._,b=self.tL(1),T=self.tL(1);
for(var m=0;m<4;m++){self.gz(g,b,m);if(m<3)self.am(b,T,k,y,d);else T=b;self.ID(T,o,m)}};_.B._.cd=function(g,o,k){var self=_.B._,y=self.bW,d=self.GP,b=0;
for(var m=0;m<d;m++){var T=m*y,a=(m-1)*y,t=(m+1)*y;if(a<0)a=T;if(t>=d)t=T;for(var j=0;j<y;j++){var e=j-1,v=j+1;
if(e<0)e=j;if(v>=y)v=j;var L=T+e,H=T+v,w=a+j,P=t+j,Q=T+j,x=g[L],F=g[H],E=g[w],f=g[P],c=g[Q],M=c+(c*4*k+.5);
M=M-((x+F+f+E)*k+.5);o[b++]=self.Ce(M)}}};_.B._.bM=function(g,o,k){var self=_.B._,y=self.tL(1),d=self.tL(1);
for(var m=0;m<4;m++){self.gz(g,y,m);if(m<3)self.cd(y,d,k);else d=y;self.ID(d,o,m)}};_.B._.auh=function(g,o,k){var self=_.B._,y=self.bW,d=self.GP,b=0,T=k+4;
for(var m=0;m<d;m++){var a=m*y,t=(m-1)*y,j=(m+1)*y;if(t<0)t=a;if(j>=d)j=a;for(var e=0;e<y;e++){var v=e-1,L=e+1;
if(v<0)v=e;if(L>=y)L=e;var H=a+v<<2,w=a+L<<2,P=t+e<<2,Q=j+e<<2,x=a+e<<2;for(var F=0;F<3;F++){var E=g[H+F],f=g[w+F],c=g[P+F],M=g[Q+F],n=g[x+F];
o[b++]=(n*k+E+f+M+c)/T}o[b]=g[b];b++}}};_.B._.kd=function(g,o,k,y){var self=_.B._,d=self.bW,b=self.GP,T=k>>1,a=y>>1,t=0,j=new Int32Array(k),e=new Int32Array(256);
for(var m=0;m<b;m++){e.fill(0);for(var v=0;v<k;v++){for(var L=0,H=y;L<H;L++){var w=0-a+L,P=m-T+v;if(L==0){j[v]=w}if(w<0)w=0;
else if(w>=d)w=d-1;if(P<0)P=0;else if(P>=b)P=b-1;e[g[P*d+w]]++}}var Q=0,x=0;for(var F=0;F<256;F++){if(Q<e[F]){x=F;
Q=e[F]}}o[t++]=x;for(var E=1;E<d;E++){for(var v=0;v<k;v++){var P=m-T+v,f=j[v]+1;j[v]=f;var c=f-1,M=f+y-1;
if(P<0)P=0;else if(P>=b)P=b-1;if(c<0)c=0;else if(c>=d)c=d-1;if(M<0)M=0;else if(M>=d)M=d-1;e[g[P*d+c]]--;
e[g[P*d+M]]++}Q=0;x=0;for(var F=0;F<256;F++){if(Q<e[F]){x=F;Q=e[F]}}o[t++]=x}}};_.B._.a4g=[function(g,o,k,y,d,b,T,a,t,j){return d+(g+o+k)*j-(t+a+T)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(o+k+b)*j-(a+T+y)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(k+b+t)*j-(T+y+g)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(b+t+a)*j-(y+g+o)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(t+a+T)*j-(g+o+k)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(a+T+y)*j-(o+k+b)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(T+y+g)*j-(k+b+t)*j},function(g,o,k,y,d,b,T,a,t,j){return d+(y+g+o)*j-(b+t+a)*j}];
_.B._.GJ=function(g,o,k,y,d){var self=_.B._,b=self.bW,T=self.GP,a=b,t=self.a4g[y-1];for(var m=0;m<T;
m++){var j=(m>0?m-1:0)*a,e=m*a,v=(m<T?m+1:m)*a;for(var L=0;L<b;L++){var H=L>0?L-1:0,w=L<b?L+1:L,P=e+L,Q=g[j+H],x=g[j+L],F=g[j+w],E=g[e+H],f=o[P],c=g[e+w],M=g[v+H],n=g[v+L],X=g[v+w];
k[P]=self.Ce(t(Q,x,F,E,f,c,M,n,X,d))}}};_.B._.aq$=function(g,o,k,y,d){var self=_.B._,b=self.tL(1),T=self.tL(1),a=self.tL(1);
for(var m=0;m<3;m++){self.gz(g,b,m);self.gz(o,T,m);self.GJ(b,T,a,y,d);self.ID(a,k,m)}self.gz(o,b,3);
self.ID(b,k,3)};_.B._.oy=function(g,o){var k=g.length,y=0;for(var m=0;m<k;m++){o[y++]=~~((g[m++]+g[m++]+g[m++]+2)/3)}};
_.B._.ps=function(g,o){var k=o.length,y=0;for(var m=0;m<k;m++){var d=g[m];o[y++]=d;o[y++]=d;o[y++]=d;
o[y++]=255}if(o[0]==255)o[0]--;else o[0]++};_.B._.OG=function(g,o){var k=o.length,y=0;for(var m=0;m<k;
m++){var d=g[y++],b=g[y++],T=g[y++];y++;if(b>d)d=b;if(T>d)d=T;o[m]=d}};_.B._.$A=function(g,o){if(o==null)o=g;
var k=g.length;for(var y=0;y<k;y+=4){var d=g[y],b=g[y+1],T=g[y+2],a=d,t=0,j=d,v;if(b<=d){d=b}else{t=1;
j=b}if(T<=j){if(d>T){d=T}}else{t=2;j=T}var e=j-d;if(e!=0){if(t==0){v=~~(43*(b-T)/e)}else if(t==1){v=~~(43*(T+2*e-a)/e)}else{v=43*(a+4*e-b)/e}if(v<0){v=255&v-1}o[y]=v;
o[y+1]=~~(255*e/j)}else{o[y]=e;o[y+1]=e}o[y+2]=j;o[y+3]=g[y+3]}};_.B._.q9=function(g,o){if(o==null)o=g;
var k=g.length;for(var y=0;y<k;y+=4){var d=g[y],b=g[y+1],T=g[y+2];if(b){if(d==255)d=0;var a=~~(6*d/255),t=~~(-255*a+6*d);
if(a==0){o[y]=T;o[y+1]=~~(T*(255-b*(255-t)/255)/255);o[y+2]=~~(T*(255-b)/255)}else if(a==1){o[y]=~~(T*(255-b*t/255)/255);
o[y+1]=T;o[y+2]=~~(T*(255-b)/255)}else if(a==2){o[y]=~~(T*(255-b)/255);o[y+1]=T;o[y+2]=~~(T*(255-b*(255-t)/255)/255)}else if(a==3){o[y]=~~(T*(255-b)/255);
o[y+1]=~~(T*(255-b*t/255)/255);o[y+2]=T}else if(a==4){o[y]=~~(T*(255-b*(255-t)/255)/255);o[y+1]=~~(T*(255-b)/255);
o[y+2]=T}else{o[y]=T;o[y+1]=~~(T*(255-b)/255);o[y+2]=~~(T*(255-b*t/255)/255)}}else{o[y]=T;o[y+1]=T;o[y+2]=T}o[y+3]=g[y+3]}};
_.B._.ID=function(g,o,k,y){if(k==null)k=2;if(y==null)y=4;var d=g.length;for(var m=0;m<d;m++){o[k]=g[m];
k+=y}};_.B._.gz=function(g,o,k,y){if(k==null)k=2;if(y==null)y=4;var d=o.length;for(var m=0;m<d;m++){o[m]=g[k];
k+=y}};_.B._.g$=function(g,o,k,y){if(y==null)y=1;var d=o.length,b=0,T;for(var b=0;b<d;b++){T=o[b];if(T){T*=y;
k[b]=~~((T*g[b]+(255-T)*k[b])/255)}}};_.B._.eq=function(g,o,k,y){if(y==null)y=k;var d=o.length,b=0,T,a;
for(var m=0;m<d;m++){T=o[m];if(T){a=255-T;y[b]=~~((T*g[b]+a*k[b])/255);y[b+1]=~~((T*g[b+1]+a*k[b+1])/255);
y[b+2]=~~((T*g[b+2]+a*k[b+2])/255)}y[b+3]=g[b+3];b+=4}};_.B._.Zy=function(g,o,k,y){var d=~~(y*255),b=k.length;
for(var m=0;m<b;m++){k[m]=((255-d*(255-g[m])/255)*o[m]+g[m]*(d*(255-g[m])/255))/255}};_.B._.y7=function(g,o,k,y){var d=~~(y*255),b=k.length;
for(var m=0;m<b;m++){k[m]=((255-d*g[m]/255)*o[m]+g[m]*(d*g[m]/255))/255}};_.B._.Em=function(g,o,k){var y=o.length;
for(var m=0;m<y;m++){o[m]=~~(g[m]*k+.5)+(o[m]-~~(o[m]*k+.5))}};_.B._.sub=function(g,o){var k=g.length;
for(var m=0;m<k;m++){o[m]=Math.max(g[m]-o[m],0)}};_.B._.add=function(g,o){var k=g.length;for(var m=0;
m<k;m++){o[m]=Math.min(g[m]+o[m],255)}};_.B._.eD=function(g,o){var k=g.length;for(var m=0;m<k;m++){o[m]=g[m]+o[m]>>1}};
_.B._.QF=function(g,o){var k=g.length;for(var m=0;m<k;m++){o[m]=g[m]}};_.B._.ff=function(g,o){var k=g.length;
for(var m=0;m<k;m++){g[m]=o[g[m]]}};_.B._.Kj=function(g,o){var k=_.B._.iJ;for(var m=0;m<k;m+=4){var y=g[m],d=g[m+1],b=g[m+2],T=y;
if(d>y)T=d;if(b>y)T=b;var a=o[T];if(a){g[m]=~~(a*y/T);g[m+1]=~~(a*d/T);g[m+2]=~~(a*b/T)}else{g[m]=a;
g[m+1]=a;g[m+2]=a}}};_.B._.I9=function(g,o){for(var m=0,k=g.length;m<k;m++){g[m]=Math.min(255,~~(.5+g[m]*o))}};
_.B._.Uj=function(g,o){for(var m=0,k=g.length;m<k;m++){g[m]=255-Math.min(255,~~(.5+(255-g[m])*o))}};
_.B._.TY=function(g){var o=g.length;for(var m=0;m<o;m++){g[m]=255-g[m]}};_.B._.$i=function(g,o,k,y){if(k==null)k=0;
if(y==null)y=255;for(var m=0,d=g.length;m<d;m++){g[m]=g[m]>=o?y:k}};_.B._.Gj=function(g){return[g>>24&255,g>>16&255,g>>8&255,g&255]};
_.B._.al9=function(g,o,k,y){if(k==null)k=255;if(y==null)y=4278190335;var d=_.B._,b=d.iJ,T=d.Gj(k),a=d.Gj(y);
for(var m=0;m<b;m+=4){var t=~~((g[m]+g[m+1]+g[m+2]+2)/3);if(t>=o){g[m]=T[0];g[m+1]=T[1];g[m+2]=T[2]}else{g[m]=a[0];
g[m+1]=a[1];g[m+2]=a[2]}}};_.B._.xY=function(g,o){var k=_.B._,y=k.iJ,d=k.Gj(o);for(var m=0;m<y;){g[m++]=d[0];
g[m++]=d[1];g[m++]=d[2];g[m++]=d[3]}};_.B._.K4=function(g,o){var k=g.length;for(var m=0;m<k;){g[m++]=o}};
_.B._.u4=function(g,o){g=g>5?(100-Math.max(4,g))/100:.95;o=o!=100?Math.max(4,o)/100:.9995;var k=new Uint8Array(256),y=o>.5?.5/(1-o):o*2,d=~~(y*256),b=~~((.5-g*y)*256)<<8;
for(var m=0;m<256;m++){k[m]=_.B._.Ce(b>>8);b+=d}return k};_.B._.l8=function(g){for(var m=0,o=_.B._,k=g.length;
m<k;m++){g[m]=~~(o.random()*256)}};_.B._.ar7=function(g,o){for(var m=0,k=_.B._,y=g.length;m<y;m++){g[m]=k.random()<o?255:0}};
_.B._.kc=function(g,o,k){for(var m=0,y=_.B._,d=g.length;m<d;m++){if(y.random()<o)g[m]=k}};_.B._.ij=function(g,o,k){var y=g.length;
for(var m=0;m<y;m++){g[m]=_.B._.Ce(g[m]+k[o[m]])}};_.B._.ib=function(g){var o=new Uint32Array(256);for(var m=0,k=g.length;
m<k;m++){o[g[m]]++}return o};_.B._.gP=function(g,o,k){var self=_.B._,y=self.ib(k),d=self.eR/100,b=new Uint8Array(256),T=d*g,a=d*o,t=0,j=-1,e=256;
do{t+=y[++j]}while(t<=T);t=0;do{t+=y[--e]}while(t<=a);if(e-j<=0)e=j+1;if(e>255){e=255;j=254}var v=255/(e-j),L=-j;
for(var m=0;m<256;m++){b[m]=self.Ce(v*L+.5);L++}return b};_.B._.Q7=function(g,o,k){var y=_.B._;y.ff(g,y.gP(o,k,g))};
_.B._.a9f=function(g,o){var self=_.B._,k=self.ib(g),y=self.eR*o/100,d=0,b=-1;do{d+=k[++b]}while(d<=y);
return b};_.B._.Ub=function(g,o){var k=0,self=_.B._,y=self.bW,d=self.GP,b=1/Math.PI,T=b*255;for(var m=0;
m<d;m++){var a=m+1;if(a==d)a--;var t=m*y,j=~~((1-(m+1)/d)*255);for(var e=0;e<y;e++){var v=e+1;if(v==y)v--;
var L=g[t+e],H=g[t+v],w=g[a*y+e];if(L-w==0){o[k++]=j}else{var P=L-w+255;if(P==255){P=0}else{P=~~(Math.atan2(1/(255-P),1)*T+.5);
if(P<0)P+=255}o[k++]=P}if(L-H==0){o[k++]=~~((1-(e+1)/y)*255)}else{var P=L-H+255;if(P==255){P=0}else{P=~~(Math.atan2(1/(255-P),1)*T+.5);
if(P<0)P+=255}o[k++]=P}}}};_.B._.q6=function(g,o){var self=_.B._,k=self.bW,y=self.GP,d=0;for(var m=0;
m<y;m++){for(var b=0;b<k;b++){g[d]=~~(m*o+.5)+~~(g[d]*(1-o)+.5);d++;g[d]=~~(b*o+.5)+~~(g[d]*(1-o)+.5);
d++}}};_.B._.aez=function(g,o,k,y){var self=_.B._,d=self.bW,b=self.GP,T=0;for(var m=0;m<b;m++){for(var a=0;
a<d;a++){o[T]=~~(o[T]*(1-k)+.5)+~~(g[T]*y+.5);T++;o[T]=~~(o[T]*(1-k)+.5)+~~(g[T]*y+.5);T++}}};_.B._.I2=function(g,o,k){var self=_.B._,y=self.bW,d=self.GP,b=0,T=0;
for(var m=0;m<d;m++){for(var a=0;a<y;a++){var t=g[b++],j=g[b++];o[T++]=j%k>=2&&t%k>=2?255:0}}};_.B._.Qd=function(g,o,k,y,d,b,T){var self=_.B._,a=self.bW,t=self.GP,j=0,e=0,v=0;
for(var m=0;m<t;m++){var L=m%g<k||t-k<=m;for(var H=0;H<a;H++){T[j++]=L||H%o<y||a-y<=H?d:b}}};_.B._.oh=function(g,o,k,y){var self=_.B._,d=self.bW,b=self.GP,T=iO.oh(o),a=T[0],t=T[1],j=_.Q(a.O()*4);
j.fill(4294967295);_.yr(t,j);var e=_.scale.A8(j,a.m,a.n),v=_.scale.LM(e,null,d,b,k/100,k/100,0,0);_.B4(v,g,0);
if(y)_.TY(g)};_.B._.Ce=function(g){return~~Math.min(255,Math.max(0,g))};_.B._.Bc=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
_.B._.Hc=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];_.B._.EE=function(g){return g>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][g-41]:g/40};
_.B._.amG=function(g,o,k){var self=_.B._,y=self.bW,d=self.GP,b=k,T=k>>1,a=T-1,t=b*b,j=0;for(var m=0;
m<d;m++){var e=0,v=0,L=0,H=~~(m/k)*k,w=0;for(var P=0;P<b;P++){for(var Q=0;Q<b;Q++){var x=w+Q,F=H+P;if(x>=y)x=y-1;
if(F>=d)F=d-1;e+=g[F*y+x<<2];v+=g[(F*y+x<<2)+1];L+=g[(F*y+x<<2)+2]}}var E=~~(e/t),f=~~(v/t),c=~~(L/t);
o[j]=E;o[j+1]=f;o[j+2]=c;o[j+3]=g[j+3];j+=4;for(var M=1;M<y;M++){for(var P=0;P<b;P++){var n=M-1,X=n+b,F=H+P;
if(X>=y)X=y-1;if(F>=d)F=d-1;var u=F*y,I=u+X<<2,r=u+n<<2;e+=g[I]-g[r];v+=g[I+1]-g[r+1];L+=g[I+2]-g[r+2]}if(M%k==0){E=~~(e/t);
f=~~(v/t);c=~~(L/t)}o[j]=E;o[j+1]=f;o[j+2]=c;o[j+3]=g[j+3];j+=4}}};_.B._.a4_=function(g,o,k,y,d){var self=_.B._,b=self.bW,T=self.GP,a=0,t=0,j=0,e=0;
for(var m=e;m<T+e;m++){var v=m%o>=y||m<y||T+e-y<=m;for(var L=0;L<b;L++){g[a++]=v&&(L%k>=d||L<d||b-d<=L)?255:0}}};
_.B._.ax$=function(g,o,k){var y=function(j,e){return e<=j?j/e&1?e-j%e:j%e:j},d=[function(a,t){return y(a,255)/255},function(a,t){return(255+y(a,255)-y(t,255))/510},function(a,t){return(255-y(t,255))/255},function(a,t){return(510-y(a,255)-y(t,255))/510},function(a,t){return(255-y(a,255))/255},function(a,t){return(255-y(a,255)+y(t,255))/510},function(a,t){return y(t,255)/255},function(a,t){return(y(a,255)+y(t,255))/510}][k],b=0,T=0;
for(var m=0;m<_.B._.eR;m++){var a=g[b++],t=g[b++];o[T++]=~~(255*d(a,t))}};_.B.amP=function(){var g=[],o=new Uint8Array(512),k=new Float32Array(512),y=new Float32Array(512),d=[1,-1,1,-1,1,-1,0,0],b=[1,1,-1,-1,0,0,1,-1],T=0,a,w=0;
for(;T<256;T++)g[T]=T;while(T!=0){T--;a=Math.floor(Math.random()*T);g[a]^=g[T]^(g[T]=g[a])}function t(t){t=Math.floor(t*65536);
if(t<256){t|=t<<8}for(var m=0;m<256;m++){var x=m+256,F=g[m]^(m&1?t:t>>8)&255;o[m]=o[x]=F;F=F%8;k[m]=k[x]=d[F];
y[m]=y[x]=b[F]}}function j(x){return x*x*x*(x*(x*6-15)+10)}function e(x,F,E){return(1-E)*x+E*F}function v(x,F){return x&F}function L(x,F){return x%F}function H(x,F,E,f,c){var M=Math.floor(x),n=Math.floor(F),T,X,u,I,r,J;
x=x-M;F=F-n;M=M&255;n=n&255;T=M+o[n];I=k[T]*x+y[T]*F;T=M+o[c(n+1,f)];u=k[T]*x+y[T]*(F-1);T=c(M+1,E)+o[n];
r=k[T]*(x-1)+y[T]*F;T=c(M+1,E)+o[c(n+1,f)];J=k[T]*(x-1)+y[T]*(F-1);X=j(x);return e(e(I,r,X),e(u,J,X),j(F))}function P(x,T,F){x[T]=F}function Q(x,F,E,f,c){var M=Math.min(Math.min(F,256),Math.min(256,E)),n=M==256||M<8,X=8,u=new Uint32Array(X),I=new Uint32Array(X),r=new Float32Array(X),J=new Float32Array(X),U=1,K=1,i=n?v:L,z=P,h;
for(var m=0;m<X;m++){h=K*1/M;if(n){I[m]=(1<<Math.ceil(Math.log2(E*h)))-1;u[m]=(1<<Math.ceil(Math.log2(F*h)))-1}else{I[m]=h*E;
u[m]=h*F}r[m]=U;J[m]=h;U*=.5;K=K<<1}t(Math.random());for(var R=0,T=0;R<E;R++){for(var C=0;C<F;C++){var G=0;
for(var W=0;W<X;W++){h=J[W];G+=H(C*h,R*h,u[W],I[W],i)*r[W]}z(f,T++,Math.round(Math.max(0,255*Math.min(1,.5+G*.5))))}}}return Q}();
_.B.a2I=function(){function g(o,k,y,d){var b=new Uint8Array(o.length>>>2),T=new Uint8Array(o.length>>>2),a=new Uint8Array(o.length);
for(var m=0;m<o.length;m+=4){var t=o[m+0]*.3+o[m+1]*.59+o[m+2]*.11;T[m>>>2]=t;a[m]=o[m];a[m+1]=o[m+1];
a[m+2]=o[m+2]}_.DH.l$(T,b,k,y);_.DH.lN(o,d,k,y,_.DH.FG[1],0,!0);for(var m=0;m<o.length;m+=4){a[m+3]=255-b[m>>>2]}for(var m=0,j=o.length;
m<j;m+=4){var e=a[m+3]/255;d[m]=a[m]*e+d[m]*(1-e);d[m+1]=a[m+1]*e+d[m+1]*(1-e);d[m+2]=a[m+2]*e+d[m+2]*(1-e)}}return g}();
_.B.acS=function(){function g(b,T,a,t,j){var e=new Uint32Array(b.buffer),v=0;for(var m=0;m<a;m++){for(var L=0;
L<T;L++,v+=4){var H=e[m*T+L],w=H&255,P=H>>>8&255,Q=H>>>16&255,x=H>>>24&255,F=~~(Math.random()*8),E=F%3,f=0,c=0;
if(F<3){c--}else if(F>4){c++}if(E==0){f--}else if(E==2){f++}var M=L+f,n=m+c;if(M<0)M=0;else if(M>T-1)M=T-1;
if(n<0)n=0;else if(n>a-1)n=a-1;var H=e[n*T+M],X=H&255,u=H>>>8&255,I=H>>>16&255,r=H>>>24&255;t[v]=j(w,X);
t[v+1]=j(P,u);t[v+2]=j(Q,I);t[v+3]=j(x,r)}}}function o(b,T){return T}function k(b,T){return b>T?T:b}function y(b,T){return b<T?T:b}function d(b,T,a,t,j){var e=j[0];
if(e==0)g(b,T,a,t,o);else if(e==1)g(b,T,a,t,k);else if(e==2)g(b,T,a,t,y);else if(e==3){console.error("Not implemented")}else console.error("Mew mew")}return d}();
_.B.atM=function(){function g(o,k,y,d,b){var T=b&&b[0]?b[0]:4,a,t,j,e,v,L,H;for(var m=0;m<y;m++){var w=Math.max(m-T,0),P=Math.min(m+T,y-1);
for(var Q=0;Q<k;Q++){var x=Math.max(Q-T,0),F=Math.min(Q+T,k-1);a=w*k+x<<2;e=o[a];v=o[a+1];L=o[a+2];H=o[a+3];
a=w*k+F<<2;e+=o[a];v+=o[a+1];L+=o[a+2];H+=o[a+3];a=P*k+x<<2;e+=o[a];v+=o[a+1];L+=o[a+2];H+=o[a+3];a=P*k+F<<2;
e+=o[a];v+=o[a+1];L+=o[a+2];H+=o[a+3];a=m*k+Q<<2;d[a]=e+2>>>2;d[a+1]=v+2>>>2;d[a+2]=L+2>>>2;d[a+3]=H+2>>>2}}}return g}();
_.B.a8z=function(){function g(o,k,y,d){var b=new Uint8Array(o.length),T=new Uint8Array(o.length>>>2),a=new Uint8Array(o.length>>>2);
_.DH.lN(o,b,k,y,_.DH.FG[2],0,!0);for(var m=0;m<o.length;m+=4){var t=b[m+0]*.3+b[m+1]*.59+b[m+2]*.11;
T[m>>>2]=t;d[m+0]=o[m+0];d[m+1]=o[m+1];d[m+2]=o[m+2];d[m+3]=o[m+3]}_.DH.l$(T,a,k,y);for(var m=0;m<o.length;
m+=4){b[m+3]=~~(Math.max(0,255-a[m>>>2]-50)*(255/205))}for(var m=0,j=o.length;m<j;m+=4){var e=b[m+3]/255;
d[m]=b[m]*e+d[m]*(1-e);d[m+1]=b[m+1]*e+d[m+1]*(1-e);d[m+2]=b[m+2]*e+d[m+2]*(1-e)}}return g}();_.B.Pv=function(){function g(F,E){return F[E]+F[E+1]+F[E+2]+F[E+3]}function o(F,E){return F[E]+F[E+1]+F[E+2]+2*F[E+3]}function k(F,E,f,c){F[E]=f[c];
F[E+1]=f[c+1];F[E+2]=f[c+2];F[E+3]=f[c+3]}function y(F,E,f){F[E]=F[f];F[E+1]=F[f+1];F[E+2]=F[f+2];F[E+3]=F[f+3]}function d(F,E,f){F[f]=E[f];
F[f+1]=E[f+1];F[f+2]=E[f+2];F[f+3]=255-E[f+3]}function b(F){for(var m=0,E=F.length;m<E;m+=4){F[m+3]=255-F[m+3]}}function T(){var F=Math.random();
if(F>.5)return 0;if(F>.25)return 1;if(F>.1)return 2;if(F>.02143)return 3;if(F>.00445)return 4;if(F>65e-5)return 5;
if(F>415e-6)return 6;if(F>55e-6)return 7;return 8}function a(F,E,f,c,M,n){F[E]=f[c]+(M[n]-f[c]>>1);F[E+1]=f[c+1]+(M[n+1]-f[c+1]>>1);
F[E+2]=f[c+2]+(M[n+2]-f[c+2]>>1);F[E+3]=f[c+3]+(M[n+3]-f[c+3]>>1)}function t(F,E,f,c,M,n){F[E]=M[n]+f[c]>>1;
F[E+1]=M[n+1]+f[c+1]>>1;F[E+2]=M[n+2]+f[c+2]>>1;F[E+3]=M[n+3]+f[c+3]>>1}function j(F,E,f,c,M,n,X,u,I){var r=0,J=0,U=0,m,K=M[n],i;
a(u,0,F,E,F,f);for(m=0;m<K;m++){a(u,(m+1)*4,u,m*4,F,f)}J=(K+1)*4;U+=K;n--;k(F,E,u,J-4);c[n]=g(F,E);E-=I;
while(n>0&&c[n-1]<c[n]){i=u;u=X;X=i;r=J;t(u,0,F,E-I,X,0);for(m=4;m<r;m+=4){t(u,m,u,m-4,X,m)}K=M[n];for(m=U;
m<K;m++){a(u,J,u,J-4,X,r-4);J+=4;U++}n--;k(F,E,u,J-4);c[n]=g(F,E);E-=I}}function e(F,E,f,c,M){var n=E*4,X=0,u,I,r=new Uint8Array(E+1),J=new Uint8Array(10*4),U=new Uint8Array(10*4);
for(var m=0;m<f;m++){d(c,F,X);M[0]=g(c,X);r[0]=T();u=X;X+=4;for(var K=1;K<E;K++){d(c,F,X);M[K]=g(c,X);
I=T();r[K]=I;if(M[K-1]<M[K]&&I>0){j(c,X-4,X,M,r,K,J,U,4)}X+=4}M[E]=M[0];r[E]=r[0];if(M[E-1]<M[E]&&I>0){j(c,X,u,M,r,E,J,U,4)}}b(c)}function v(){var F=Math.random();
if(F>.659755)return 0;if(F>.1625)return 10;if(F>.06)return 20;if(F>.01)return 30;if(F>.0035)return 40;
if(F>65e-5)return 50;if(F>415e-6)return 60;if(F>55e-6)return 70;return 80}function L(F,E,f,c,M,n){var X=v()+1,u=c[M];
for(var m=1;m<X;m++){if(0>M)break;if(c[M-m]<u){y(F,E,f)}else{break}E+=n}}function H(F,E,f,c,M){var n=E*4,X=0;
for(var m=0;m<f;m++){d(c,F,X);M[0]=g(c,X);X+=4;for(var u=1;u<E;u++){d(c,F,X);M[u]=g(F,X);if(M[u-1]<M[u]){L(c,X-4,X,M,u,-4)}X+=4}M[E]=M[0];
if(M[u-1]<M[u]){L(c,X-4,X-n,M,u,-4)}}b(c)}function w(F,E,f,c,M,n){var X=1,u,I,r=new Uint8Array(4),J,U=E;
while(Math.random()<1/X){U=E;if(c<=1)break;u=f[c];I=f[c-1];if(u<=I)break;k(r,0,F,U-n);J=!0;for(var m=c;
m<M;m++){if(I>f[m]){k(F,U-n,r,0);f[m-1]=I;J=!1;break}k(F,U-n,F,U);f[m-1]=f[m];U+=n}if(J){k(F,U-n,r,0);
f[M-1]=I}X++;c--;E-=n}}function P(F,E,f,c,M){var n=0,X=0,u=E*4;for(var m=0;m<f;m++){X=n;for(var I=0;
I<E;I++){d(c,F,n);M[I]=o(c,n);n+=4}n=X;for(var I=1;I<E;I++){if(M[I-1]<M[I]&&Math.random()<.66){w(c,n+4,M,I,E,4)}n+=4}n+=4}b(c)}function Q(F,E,f,c,M){var n=M[0],X=M[1],u=new Uint16Array(E+1),I=F,r=c,J;
if(X){J=c.slice(0);x(F,c,E,f);I=c;r=J}if(n==0)e(I,E,f,r,u);else if(n==1)H(I,E,f,r,u);else if(n==2)P(I,E,f,r,u);
if(X){x(J,c,E,f)}}function x(F,E,f,c){for(var M=0;M<c;M++)for(var n=0;n<f;n++){var X=M*f+n<<2,u=M*f+(f-1-n)<<2;
E[u]=F[X];E[u+1]=F[X+1];E[u+2]=F[X+2];E[u+3]=F[X+3]}}return Q}();_.B.IB=function(g,o,k,y,d){var b=_.B._,T=1,Q=0,E=0;
b.Iq(o,k);b.KW(d[2]);var a=3<<13,t=Math.PI/2.43,j=t/256,e=Math.PI*2/256;function v(){var n=b.random()*256,X=b.random()*256;
return T*~~(Math.tan(t-n*j)*325*Math.cos(X*e)*256)+a>>16}T=d[0];var L=d[1],H=(L+2)/2,w=b.random()*255,P=b.tL(1);
for(var m=0;m<k;m++){var x=b.Ce(v()+w);for(var F=0;F<o;F++){x=b.Ce(v()+x);P[Q++]=x}}Q=o;for(var m=1;
m<k;m++){var f=b.Ce(v()+P[E++]);P[Q++]=f;for(var F=1;F<o;F++){var c=E+1;if(F+1==o){c--}var M=(H+f+P[c]+P[E]*L)/(L+2);
f=b.Ce(v()+M);P[Q++]=f;E++}}b.ps(P,y)};var fO=function(){function g(O){O=O^61^O>>>16;O=O+(O<<3);O=O^O>>>4;
O=O*668265261;O=O^O>>>15;return O}var o=function(){var o=function(O){if(O){this.Ng=O}this.Ng=g(this.Ng);
return(this.Ng&16777215)*(1/16777215)};return o};function k(O,Y){if(Y==null){Y=[0,0]}return Math.sqrt((Y[0]-O[0])*(Y[0]-O[0])+(Y[1]-O[1])*(Y[1]-O[1]))}function y(O,Y){if(Y==null){Y=[0,0]}return[-(Y[1]-O[1])/k(O,Y),(Y[0]-O[0])/k(O,Y)]}function d(O){return[Math.cos(O),Math.sin(O)]}function b(O){var Y=k(O,[0,0]),l=[O[0]/Y,O[1]/Y],B=Math.atan(l[1]/l[0]);
if(l[0]>0&&l[1]<0){B+=2*Math.PI}else if(l[0]<0&&l[1]<0){B+=Math.PI}else if(l[0]<0&&l[1]>0){B+=Math.PI}return B}function T(O){var T=0;
for(var m=1;m<O.length/2;++m){T+=k([O[2*m],O[2*m+1]],[O[2*(m-1)],O[2*(m-1)+1]])}return T}function a(O,Y,l){var B=new Float32Array(O.length),f4=1/(O.length/2),V=c(l);
for(var m=0;m<O.length/2;++m){var q=m*f4,s=q/2+.5,cW=1,dk=0;if(l.shape==2){cW=1/(2*s)}if(l.shape==3){s=(1-q)/2+.5;
cW=1/(2*s)+.5}if(l.shape==4){s=q;cW=Math.sin(3/2*Math.PI*s)/4+1}if(l.shape==5){s=(q-.5)*6;cW=(-Math.atan(s)/1.25+1)/5+.6-.2*q}var kr=[null,null];
if(m==0){kr=y([O[2*m],O[2*m+1]],[O[2*(m+1)],O[2*(m+1)+1]])}else if(m==O.length/2-1){kr=y([O[2*(m-1)],O[2*(m-1)+1]],[O[2*m],O[2*m+1]])}else{kr=y([O[2*(m-1)],O[2*(m-1)+1]],[O[2*(m+1)],O[2*(m+1)+1]])}B[2*m]=O[2*m]+(cW*Y+dk)*kr[0];
B[2*m+1]=O[2*m+1]+(cW*Y+dk)*kr[1];if(l.style==2){B[2*m]+=M(2*m/B.length,V,l)}}return B}function t(O,Y,l){var B=new Float32Array(O.length),f4=1/(O.length/2);
for(var m=0;m<O.length/2;++m){var V=m*f4,q=[null,null],s=.6*l.n$*u(V,Y.a2Z)*l.kQ/100,cW=.6*l.n$*u(V,Y.aeE)*l.kQ/100,dk=Y.aoF*s+(1-Y.aoF)*cW;
if(m==0){q=y([O[2*m],O[2*m+1]],[O[2*(m+1)],O[2*(m+1)+1]])}else if(m==O.length/2-1){q=y([O[2*(m-1)],O[2*(m-1)+1]],[O[2*m],O[2*m+1]])}else{q=y([O[2*(m-1)],O[2*(m-1)+1]],[O[2*(m+1)],O[2*(m+1)+1]])}B[2*m]=O[2*m]+dk*q[0];
B[2*m+1]=O[2*m+1]+dk*q[1]}return B}function j(O){if(O.XE==1){return[.150684932,.205479452,.465753425,.178082192]}else if(O.XE==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var Y=[],l=1/(U(O)-1);
for(var m=0;m<U(O)-1;++m){Y.push(l)}return Y}}function e(O,Y,l){var B=[],f4=Y-O,V=O;for(var m=0;m<l.length-1;
++m){B.push(V+l[m]*f4);V=B[m]}return B}function v(O,Y,l,B){var f4=new Float32Array(l.length),V=0,q={shape:Math.floor(B.random()*2.99),a3Z:B.random()*.1+.15};
for(var m=0;m<l.length-1;++m){var s=V+l[m];f4[m]=((1-s)*O+s*Y)*x(B,s,q);V=s}return f4}function L(O,Y,l,B){var f4=r(B),V=B.random(),q=V*20+(1-V)*26,s=new Float32Array(l.length),cW=0;
for(var m=0;m<l.length-1;++m){var dk=cW+l[m];s[m]=(1-dk)*O+dk*Y+f4/q*(2/3*Math.sin(Math.PI*dk)+1/3*Math.sqrt(Math.sin(Math.PI*dk)));
cW=dk}return s}function H(O,Y,l){var B=[];for(var m=0;m<Y.length-1;++m){B.push(Y[m].slice());var f4=m*(U(l)-1),V=(m+1)*(U(l)-1),q=O[V]-O[f4];
for(var s=f4+1;s<V;++s){var cW=c(l),dk=new Float32Array(Y[0].length),kr=(O[s]-O[f4])/q;for(var j9=0;
j9<Y[0].length/2;++j9){dk[2*j9]=(1-kr)*Y[m][2*j9]+kr*Y[m+1][2*j9];dk[2*j9+1]=(1-kr)*Y[m][2*j9+1]+kr*Y[m+1][2*j9+1];
if(l.style==2){dk[2*j9]+=M(2*j9/Y[0].length,cW,l)}}B.push(dk)}}B.push(Y[Y.length-1]);return B}function w(O,Y,l){var B=new Array(Y.length),f4=G(O),q=null;
for(var m=0;m<Y.length;++m){B[m]=a(f4,(Y[m]-.5)*l.kQ,l)}var V=1+.05*l.abH*r(l)/r({XE:1});for(var m=0;
m<Y.length;++m){if(Y[m]==0){q=m}}for(var m=0;m<Y.length;++m){var s=(l.random()-.5)*2,cW=Math.round(l.random()*9+1),dk=new Float32Array(cW*2+2);
for(var kr=0;kr<=cW;++kr){dk[2*kr]=B[m][0]-(B[m][2*kr]-B[m][0]);dk[2*kr+1]=B[m][1]-(B[m][2*kr+1]-B[m][1])}if(m==q){s*=.1}for(var kr=(B[m].length-1)/2;
kr>cW;--kr){B[m][2*kr]=(1-s)*B[m][2*kr]+s*(B[m][2*(kr-cW)]+V*(B[m][2*kr]-B[m][2*(kr-cW)]));B[m][2*kr+1]=(1-s)*B[m][2*kr+1]+s*(B[m][2*(kr-cW)+1]+V*(B[m][2*kr+1]-B[m][2*(kr-cW)+1]))}for(var kr=cW-1;
kr>=0;--kr){B[m][2*kr]=(1-s)*B[m][2*kr]+s*(dk[2*(cW-kr)]+V*(B[m][2*kr]-dk[2*(cW-kr)]));B[m][2*kr+1]=(1-s)*B[m][2*kr+1]+s*(dk[2*(cW-kr)+1]+V*(B[m][2*kr+1]-dk[2*(cW-kr)+1]))}}var j9=X(Y,l);
if(l.n$>0){var bh=0;for(var m=0;m<Y.length;++m){if(m==0){bh+=Y[m]}else{bh+=Math.abs(Y[m]-Y[m-1])}var fe=bh-Math.floor(bh),gg=1;
if(fe==0){gg=0}B[m]=t(B[m],{a2Z:j9[Math.floor(bh)],aeE:j9[Math.floor(bh)+gg],aoF:fe},l)}}return B}function P(O,Y){var l=z(Y,O),B=h(Y,O),f4=[],V=[],q=[],s=j(O);
for(var m=0;m<Y.length-1;++m){f4.push(Y[m]);V.push(l[m]);q.push(B[m]);var cW=e(Y[m],Y[m+1],s),dk=v(l[m],l[m+1],s,O),kr=L(B[m],B[m+1],s,O);
for(var j9=0;j9<cW.length;++j9){f4.push(cW[j9]);V.push(dk[j9]);q.push(kr[j9])}}f4.push(Y[Y.length-1]);
V.push(l[l.length-1]);q.push(B[B.length-1]);return{akn:f4,aek:V,pF:q}}function Q(O,Y,l,B){var f4=new Float32Array(2*B),V=O.length/2,q=V-Y,s=l*q,cW=s/B;
for(var m=0;m<B;++m){var dk=Math.floor(Y+m*cW),kr=Math.ceil(Y+m*cW),l=Y+m*cW,j9=kr-dk,bh=1,fe=0;if(j9!=0){bh=(kr-l)/j9;
fe=(l-dk)/j9}f4[2*m]=bh*O[2*dk]+fe*O[2*kr];f4[2*m+1]=bh*O[2*dk+1]+fe*O[2*kr+1]}return f4}function x(O,Y,l){var B=l.a3Z,f4=Y*2*Math.PI,V=f4,q=0;
if(l.shape==0){q=(Math.sin(2*V+Math.PI/2)+1)/2}else if(l.shape==1){q=(Math.sin(V+Math.PI/2)+1)/2}else{q=(4*Math.sin(3/4*V+Math.PI)+Math.sin(Math.PI/2+2*V)-2*V/Math.PI+6)/7}return Math.min(1,1-B+B*q)}function F(O,Y,l,B){var f4=[];
for(var m=0;m<O.length;++m){f4.push(Q(O[m],Y[m],l[m],B))}return f4}function E(O,Y,l){var B=[];for(var m=0;
m<O.length;++m){var f4=d(2*Math.PI*l.random()),V=d(2*Math.PI*l.random()),q=l.fi*.5*K({XE:1})/K(l),s=q*l.kQ/200,cW=q*Y/500,dk=new Float32Array(O[0].length);
for(var kr=0;kr<O[0].length/2;++kr){var j9=d(2*Math.PI*l.random()),bh=2*kr/O[0].length;dk[2*kr]=O[m][2*kr]+s*(j9[0]+((1-bh)*f4[0]+bh*V[0]));
dk[2*kr+1]=O[m][2*kr+1]+cW*(j9[1]+((1-bh)*f4[1]+bh*V[1]))}B.push(dk)}return B}function f(O,Y,l){var B=l.os,f4=2/B,V=[1/10,1/30,1/40,1/45,1/100],q=V[l.XE-1],s=4*(l.opacity/25*f4*q)*(1-l.fi/150),j9=0,fe=0;
if(l.style==3){return s*.09}var cW=2.2*(O-.5),dk=cW*cW*cW*cW+.27+Math.max(0,(l.opacity-50)/15),kr=2*(Math.sin(3*Math.PI*Y)/(Math.PI*Y+2)+1.1)-Y/2;
Y=2*Y;if(Y<.41){var bh=2*Math.PI*Y/.41;j9=(Math.sin(bh-Math.PI/2)+1)/4+.5}else if(Y<.77){var bh=2*Math.PI*(Y-.41)/.36;
j9=(Math.sin(bh-Math.PI/2)+1)/4+.5-bh/2/Math.PI*.5}else{var bh=2*Math.PI*(Y-.77)/.23;j9=(Math.sin(bh-Math.PI/2)+1)/2*.12}j9*=3;
j9+=Math.max(0,(l.opacity-50)/15);if(l.type==6){fe=kr}else{fe=j9}return s*dk*fe}function c(O){return{b:O.random()*7/2+.5,rD:O.random()*2*Math.PI}}function M(O,Y,l){return l.kQ/300*U({XE:1})/U(l)*10*(Math.sin(Y.b*2*Math.PI*O+Y.rD)+10*(l.random()-.5))}function n(O){var Y=Math.exp(-O.n$/25);
return{b:O.random()*3/2+.5,rD:O.random()*2*Math.PI,qb:(O.random()-.5)*10*Y}}function X(O,Y){var l=Math.ceil(R(O)),B=[];
for(var m=0;m<=l;++m){B.push(n(Y))}return B}function u(O,Y){var l=Y.b*4*Math.PI*O+Y.rD;return Math.exp(-1/2*Math.PI*O)*Math.cos(l)*Math.cos(l)*Math.cos(l)*Math.cos(l)*Math.cos(l)+O*Y.qb-Y.qb/4}function I(O,Y,l,B,f4){var V=0,q=K(Y)-1;
for(var m=0;m<q;++m){for(var s=0;s<O.length-1;s+=U(Y)-1){for(var cW=m;cW<O[0].length/2-q;cW+=q){for(var dk=s;
dk<s+(U(Y)-1);++dk){l[f4+V]=f(dk*(Y.os-1)/(O.length-1)%1,cW/O[0].length,Y);var kr=0,j9=0;if(Y.type==6&&dk!=0&&dk!=O.length-1){j9=(O[dk][2*(cW+1)+1]-O[dk][2*cW+1])/2;
kr=(O[dk][2*(cW+1)]-O[dk][2*cW])/2}B[8*f4+8*V]=O[dk][2*cW]+kr;B[8*f4+8*V+1]=O[dk][2*cW+1]+j9;B[8*f4+8*V+2]=O[dk][2*(cW+q)]+kr;
B[8*f4+8*V+3]=O[dk][2*(cW+q)+1]+j9;B[8*f4+8*V+4]=O[dk+1][2*(cW+q)];B[8*f4+8*V+5]=O[dk+1][2*(cW+q)+1];
B[8*f4+8*V+6]=O[dk+1][2*cW];B[8*f4+8*V+7]=O[dk+1][2*cW+1];++V}}}}}function r(O){var Y=[100,300,500,700,1e3];
return Y[O.XE-1]}function J(O){var Y=[30,70,100,140,300];return Y[O.XE-1]}function U(O){var Y=[5,7,26,40,100];
return Y[O.XE-1]}function K(O){if(O.XE==1){return 4}else if(O.XE==2){return 8}else{return Math.floor(J(O)/9)}}function i(O){var Y=O.os,l=new Float32Array(Y),B=null;
for(var m=0;m<Y;++m){l[m]=O.random()}if(O.os<=3){l[0]=0;l[O.os-1]=1}else{for(var m=0;m<2;++m){var f4=Math.floor(O.random()*Y);
if(B==null||B!=f4){l[f4]=m;B=f4}else{l[f4+1]=m}}}return l}function z(O,Y){var l=[],B=.2,V=0;for(var m=0;
m<O.length;++m){var f4=Y.random()*(1-B)+B;l.push(f4)}var q=Math.min(3,Y.os);for(var m=0;m<O.length;++m){if(l[m]>.9){++V}}while(V<q){var s=Math.floor(Y.random()*O.length);
if(l[s]<=.9){l[s]=.9+.1*Y.random();++V}}return l}function h(O,Y){var l=r(Y),B=r({XE:1}),f4=[];for(var m=0;
m<O.length;++m){f4.push(Math.max(1,(Y.random()*10+2)*l/B))}return f4}function R(O){var Y=0;for(var m=0;
m<O.length;++m){if(m==0){Y+=O[m]}else{Y+=Math.abs(O[m]-O[m-1])}}return Y}function C(O,Y){if(O.length/2-1==r(Y)){return O}var l=new Float32Array(2*(r(Y)+1)),B=(O.length-2)/(l.length-2);
for(var m=0;m<l.length/2;++m){var f4=m*B,V=Math.floor(f4),q=Math.ceil(f4),s=q-V,cW=1,dk=0;if(s!=0){cW=(q-f4)/s;
dk=(f4-V)/s}l[2*m]=cW*O[2*V]+dk*O[2*q];l[2*m+1]=cW*O[2*V+1]+dk*O[2*q+1]}return l}function G(O,Y){var l=O.length/2,B=T(O),f4=B/l,V=!1,cW=0,dk=0,kr=1;
if(Y){var q=Math.floor(B/Y.aeF),s=Y.aeF;if(Y.akT&&O[0]==O[O.length-2]&&O[1]==O[O.length-1]){V=!0;s=B/(q+1)}if(Y.type==2&&!V&&s*q+Y.length>B){l=q+1}else{l=q+2}f4=s}var j9=new Float32Array(l*2);
j9[0]=O[0];j9[1]=O[1];for(var m=1;m<l;++m){while(cW<=m*f4){dk=cW;cW+=k([O[2*kr],O[2*kr+1]],[O[2*(kr-1)],O[2*(kr-1)+1]]);
++kr}var bh=1-(m*f4-dk)/(cW-dk);j9[2*m]=(1-bh)*O[2*kr]+bh*O[2*(kr-1)];j9[2*m+1]=(1-bh)*O[2*kr+1]+bh*O[2*(kr-1)+1]}j9[j9.length-2]=O[O.length-2];
j9[j9.length-1]=O[O.length-1];return j9}function W(O,Y){var l=G(O,Y),B=[];for(var m=0;m<(l.length-2)/2;
++m){var f4=[];f4.push(l[2*m]);f4.push(l[2*m+1]);var V=k([l[2*(m+1)],l[2*(m+1)+1]],[l[2*m],l[2*m+1]]),q=[(l[2*(m+1)]-l[2*m])/V,(l[2*(m+1)+1]-l[2*m+1])/V],s=d((Y.apB-90)/360*2*Math.PI),cW=q;
if(Y.type==3){cW=s}else if(Y.type==4){cW=d(b(q)+b(s))}else if(Y.type==5){cW=d(((Y.random()-.5)*Y.apB-90)/360*2*Math.PI)}var dk=Y.length;
if(Y.ago){dk=2*Y.random()*Y.length}f4.push(l[2*m]+cW[0]*dk);f4.push(l[2*m+1]+cW[1]*dk);B.push(f4)}return B}function A(O){if(O.abk){O.bQ=100*Math.random()}else{O.bQ=O.apx}O.random=new o;
O.random(O.bQ);if(O.type==6){O.os=2;O.shape=5;O.abH=0}}function $(O,Y){O=C(O,Y);var l=[O],dk=0;if(Y.type>=2&&Y.type<6){l=W(O,Y)}var B=K(Y)-1,f4=J(Y)-B,V=(Y.os-1)*(U(Y)-1),q=l.length*f4*V,s=new Float32Array(q),cW=new Float32Array(8*q);
for(var m=0;m<l.length;++m){for(var kr=0;kr<1e4;++kr){Y.bQ=g(Y.bQ)}Y.random(Y.bQ);var O=C(l[m],Y),j9=i(Y),bh=R(j9),fe=w(O,j9,Y),gg=P(Y,j9),a$=H(gg.akn,fe,Y);
a$=F(a$,gg.pF,gg.aek,J(Y));if(Y.fi>0){a$=E(a$,T(l[m]),Y)}I(a$,Y,s,cW,dk);dk+=f4*V}return[s,cW]}var fO=function(O){var Y=performance.now(),l=O[0],B=O[1];
A(B);var f4=[new Float32Array(0),new Float32Array(0)];for(var m=0;m<l.length;++m){B.bQ=g(B.bQ);var V=$(l[m],B),q=new Float32Array(f4[0].length+V[0].length),s=new Float32Array(f4[1].length+V[1].length);
q.set(f4[0]);q.set(V[0],f4[0].length);f4[0]=q;s.set(f4[1]);s.set(V[1],f4[1].length);f4[1]=s}var cW=performance.now();
if(B.a2L){console.nf("Geometry: "+String(cW-Y)+"ms")}return f4};return fO}(),dC=function(){function g(d,b){var T=[],a=0,t=b.length,j=0,e=0,v=new bd,L=0,H=1e9;
for(e=0;e<t;e++){var w=e*8,P=b[e];if(P<H)H=P;var Q=d[w+0],x=d[w+1],F=d[w+2],E=d[w+3],f=d[w+4],c=d[w+5],M=d[w+6],n=d[w+7],X=Math.min(Q,F,f,M),u=Math.max(Q,F,f,M),I=Math.min(x,E,c,n),r=Math.max(x,E,c,n),J=new bd(X,I,u-X,r-I),U=J.gO(v),K=L+P;
if(e-j<10&&(e==j||U.O()*.8<J.O()+v.O())){v=U;L=K}else{T.push(e-j);j=e;v=J;L=P;H=P}}if(e!=j)T.push(e-j);
return T}function o(d,b,T,a,t,j){var e=document.createElement("canvas"),x=0,q=.8;e.width=b;e.height=T;
var v=e.getContext("2d"),L=t[0],H=t[1],w=new Float64Array(b*T),P=Date.now(),Q=g(H,L);for(var F=0;F<Q.length;
F++){var E=x,f=x+Q[F],n=1e9,u=1e9,z=0;x=f;var c=E*8,M=f*8,X=-n,I=-u;for(var r=c;r<M;r+=2){var J=H[r],U=H[r+1];
if(J<n)n=J;if(J>X)X=J;if(U<u)u=U;if(U>I)I=U}n=Math.floor(n);X=Math.ceil(X);u=Math.floor(u);I=Math.ceil(I);
var K=X-n,i=I-u;for(var h=E;h<f;h++)z+=L[h];for(var r=c;r<M;r+=8){var R=L[r>>>3],C=H[r+0],G=H[r+1],W=H[r+2],A=H[r+3],$=H[r+4],O=H[r+5],Y=H[r+6],l=H[r+7];
v.fillStyle="rgba(0,0,0,"+R/z+")";v.beginPath();v.moveTo(C,G);v.lineTo(W,A);v.lineTo($,O);v.lineTo(Y,l);
v.closePath();v.fill()}var B=v.getImageData(n,u,K,i).data;for(var U=0;U<i;U++)for(var J=0;J<K;J++){var m=U*K+J,f4=B[m*4+3],V=(u+U)*b+n+J;
if(f4!=0)w[V]+=f4*z}v.clearRect(n,u,K,i)}var s=j[1].color,cW=Math.pow(s.o/255,q),dk=Math.pow(s.C/255,q),kr=Math.pow(s.k/255,q),j9=new bd(0,0,b,T),bh=_.Q(b*T*4);
for(var U=0;U<T;U++)for(var J=0;J<b;J++){var m=U*b+J,h=m*4,L=w[m]*(1/255);bh[h]=y(cW,L);bh[h+1]=y(dk,L);
bh[h+2]=y(kr,L);bh[h+3]=Math.min(255,L*255)}_.l.I3("norm",bh,j9,a,j9,j9,1)}var k=new Uint8Array(2e3);
for(var m=0;m<2e3;m++)k[m]=255*Math.min(1,Math.log(m/700+1));function y(d,b){return k[Math.min(1500,~~(d*b*1e3))]}return o}(),dH=function(){var g=new Float32Array(3e3),o=new Float32Array(3e3),k=new Float32Array(256),y=new Float32Array(3e3);
function d(){var H=g.length;g[0]=Math.log10(157647e-9);for(var m=1;m<H;++m)g[m]=Math.log10(m/H)}function b(){var H=o.length;
for(var m=0;m<H;++m)o[m]=Math.pow(10,20*(m-H/2)/H)}function T(){var H=k.length;for(var m=0;m<H;++m)k[m]=_.$k(m/255)}function a(){var H=y.length;
for(var m=0;m<H;++m)y[m]=255*_.WW(m/(H-1))}function t(H,w){var P=H.length>>>2;for(var m=0;m<P;++m){var Q=k[H[4*m]],x=k[H[4*m+1]],F=k[H[4*m+2]],E=.3811*Q+.5783*x+.0402*F,f=.1967*Q+.7244*x+.0782*F,c=.0241*Q+.1288*x+.8444*F;
E=g[~~(E*g.length)];f=g[~~(f*g.length)];c=g[~~(c*g.length)];w[3*m]=(E+f+c)*.5773502692;w[3*m+1]=(E+f-2*c)*.4082482905;
w[3*m+2]=(E-f)*.7071067812}}function j(H,w){var P=w.length>>>2,Q=y.length-1;for(var m=0;m<P;++m){var x=.5773502692*H[3*m],F=.4082482905*H[3*m+1],E=.7071067812*H[3*m+2],f=o[~~((x+F+E+10)*(3e3/20))],c=o[~~((x+F-E+10)*(3e3/20))],M=o[~~((x-2*F+10)*(3e3/20))],n=4.4679*f-3.5873*c+.1193*M,X=-1.2186*f+2.3809*c-.1624*M,u=.0497*f-.2439*c+1.2045*M;
w[4*m]=y[~~(Q*Math.max(0,Math.min(1,n)))];w[4*m+1]=y[~~(Q*Math.max(0,Math.min(1,X)))];w[4*m+2]=y[~~(Q*Math.max(0,Math.min(1,u)))]}}function e(H){var w=0,P=0,Q=0;
for(var m=0;m<H.length;m+=3){w+=H[m];P+=H[m+1];Q+=H[m+2]}return[w/(H.length/3),P/(H.length/3),Q/(H.length/3)]}function v(H,e){var w=0,P=0,Q=0;
for(var m=0;m<H.length;m+=3){var x=H[m]-e[0],F=H[m+1]-e[1],E=H[m+2]-e[2];w+=x*x;P+=F*F;Q+=E*E}return[Math.sqrt(w/(H.length/3)),Math.sqrt(P/(H.length/3)),Math.sqrt(Q/(H.length/3))]}function L(H,w,P,Q,x,F){d();
b();T();a();var E=0,G,W;if(F[0]>100)E=-(F[0]-100)/100*.13;else if(F[0]>=75)E=(100-F[0])/25*.04;else if(F[0]>=50)E=.04+(75-F[0])/25*.04;
else if(F[0]>=25)E=.08+(50-F[0])/25*.08;else E=.16+(25-F[0])/25*.24;var f=(F[1]-100+100)/100,c=F[2]/100,M=F[3],n=new Float32Array(H.length*3/4),X=new Float32Array(Q.length*3/4),u=Date.now();
t(H,n);t(Q,X);var I=Date.now(),r=e(n),J=e(X),U=Date.now(),K=v(n,r),i=v(X,J),z=Date.now();J[0]*=Math.pow(10,E);
var h=[i[0]/K[0],i[1]/K[1],i[2]/K[2]],R=n.length,C=1/-1.1546978950500488;for(var m=0;m<R;m+=3){if(M){var A=Math.max(0,Math.min(1,n[m]*C));
A=1-Math.sqrt(A);G=A*J[1];W=A*J[2]}else{G=J[1];W=J[2]}n[m]=(n[m]-r[0])*h[0]+J[0];n[m+1]=(n[m+1]-r[1])*h[1]*f+G;
n[m+2]=(n[m+2]-r[2])*h[2]*f+W}var $=Date.now();j(n,x);var O=x.length>>>2;for(var m=0;m<O;++m){x[4*m]=(1-c)*x[4*m]+c*H[4*m];
x[4*m+1]=(1-c)*x[4*m+1]+c*H[4*m+1];x[4*m+2]=(1-c)*x[4*m+2]+c*H[4*m+2];x[4*m+3]=255}}return L}(),dz=function(){function g(o,k,y,d,b){var T=[-1,-1,-1,-1],a=255,t=160,j,e=!1,v=new Array(4);
v[0]=new Array(k);v[1]=new Array(y);v[2]=new Array(k);v[3]=new Array(y);var L=new Array(2);L[0]=new Array(y);
L[1]=new Array(y);function H(i,z,h,R,C){this.start=R;this.axis=C;this.dir=i;this.end=-1;this.source=z;
this.O=h}function w(i,z,h,R,C){if(h%2==0){if(!v[h][i])v[h][i]=new Array;v[h][i].push(new H(h,R,C,z,i))}else{if(!v[h][z])v[h][z]=new Array;
v[h][z].push(new H(h,R,C,i,z))}var G=Date.now()}function P(m){var i=!1,z=0;if(o[4*m+3]<a)return i;var h=m%k,R=Math.floor(m/k);
Q(h,R);if(m+k<k*y&&o[4*(m+k)+3]<a&&o[4*(m-k)+3]>=a&&o[4*(m-2*k)+3]>=a){var C=2;if(o[4*(m+k)+3]<=t)z=-1;
if(o[4*(m+2*k-1)+3]<a&&o[4*(m+2*k+1)+3]<a)i=!0;else if(o[4*(m+2*k-1)+3]>=a&&o[4*(m+1)+3]>=a)i=!0;else if(o[4*(m+2*k+1)+3]>=a&&o[4*(m-1)+3]>=a)i=!0;
w(h,R,C,z,i)}else if(m-k>=0&&o[4*(m-k)+3]<a&&o[4*(m+k)+3]>=a&&o[4*(m+2*k)+3]>=a){var C=0;if(o[4*(m-k)+3]<=t)z=-1;
if(o[4*(m-2*k-1)+3]<a&&o[4*(m-2*k+1)+3]<a)i=!0;else if(o[4*(m-2*k-1)+3]>=a&&o[4*(m+1)+3]>=a)i=!0;else if(o[4*(m-2*k+1)+3]>=a&&o[4*(m-1)+3]>=a)i=!0;
w(h,R,C,z,i)}z=0;if(m+1<k*y&&o[4*(m+1)+3]<a&&o[4*(m-1)+3]>=a&&o[4*(m-2)+3]>=a){var C=3;if(o[4*(m+1)+3]<=t)z=-1;
if(!i&&o[4*(m+k+2)+3]<a&&o[4*(m-k+2)+3]<a){i=!0;w(h,R,C,z,!0)}else w(h,R,C,z,!1)}else if(m>=1&&o[4*(m-1)+3]<a&&o[4*(m+1)+3]>=a&&o[4*(m+2)+3]>=a){var C=1;
if(o[4*(m-1)+3]<=t)z=-1;if(!i&&o[4*(m+k-2)+3]<a&&o[4*(m-k-2)+3]<a){i=!0;w(h,R,C,z,!0)}else w(h,R,C,z,!1)}return i}function Q(m,i){if(T[0]==-1){T[0]=m;
T[1]=i;T[2]=1;T[3]=1}if(m<T[0]){T[2]+=T[0]-m;T[0]=m}if(m>T[0]+T[2])T[2]=m-T[0];if(i<T[1]){T[3]+=T[1]-i;
T[1]=i}if(i>T[1]+T[3])T[3]=i-T[1]}function x(i,m,z,h){if(!z.O)return;var R=(i+2)%4,C=z.start,G=T[1];
if(i==2)G+=T[3];else if(i==1)G=T[0];else if(i==3)G=T[0]+T[2];var W=z.source;if(v[R][m])for(var A=0;A<v[R][m].length;
++A){if(i>1){var $=C+Math.floor((v[R][m][A].start-C)/2);if(v[R][m][A].start>C&&$<G)G=$}else{var $=C-Math.floor((C-v[R][m][A].start)/2);
if(v[R][m][A].start<C&&$>G)G=$}}for(var O=1;O<Math.abs(G-C);++O){var A=C+O;if(i==1||i==0)A=C-O;for(var Y=0;
Y<2;++Y){var l=2*Y,B=!1;if(i%2==0)l+=1;if(v[l][A]){for(var f4=0;f4<v[l][A].length;++f4){if(v[l][A][f4].O){var V=v[l][A][f4].start,q=m-V,s=A-C;
if(l==0||l==1)q=-q;if(q<=0)continue;if(i==0||i==1)s=-s;if(s>q){G=A;B=!0;break}}}if(B)break}}}z.end=G;
f(i,m,C,G,W)}function F(i){for(var m=0;m<v[i].length;++m){if(v[i][m])for(var z=0;z<v[i][m].length;++z){x(i,m,v[i][m][z])}}}function E(){var i=[2,0,3,1];
for(var m=0;m<i.length;++m)F(i[m])}function f(i,m,z,h,R){if(i==2)for(var C=z;C<=h;++C){if(!c(C*k+m,(z+R)*k+m))return!1}else if(i==0)for(var C=z;
C>=h;--C){if(!c(C*k+m,(z-R)*k+m))return!1}else if(i==1)for(var C=z;C>=h;--C){if(!c(m*k+C,m*k+z-R))return!1}else if(i==3)for(var C=z;
C<=h;++C){if(!c(m*k+C,m*k+z+R))return!1}}function c(i,z){if(!j[i]){d[4*i]=d[4*z];d[4*i+1]=d[4*z+1];d[4*i+2]=d[4*z+2];
if(e)d[4*i+3]=255;j[i]=!0;return!0}return!1}function M(){for(var m=0;m<4;m+=1){for(var i=0;i<v[m].length;
++i){if(v[m][i])for(var z=0;z<v[m][i].length;++z){var h=v[m][i][z];for(var R=1;R<3;R+=2){var C=(m+R)%4;
if(v[C][h.start])for(var G=0;G<v[C][h.start].length;++G){if(v[C][h.start][G].start==h.axis){var cy=k*h.start+h.axis;
if(m%2==1){cy=h.start+k*h.axis;n(v[C][h.start][G])}else n(h)}}}}}}}function n(i){if(i.dir%2==0){var cy=k*i.start+i.axis,z=i.start,h=1;
if(!j[cy+1])h=3;else if(j[cy-1])return;var R=d[4*cy],C=d[4*cy+1],G=d[4*cy+2];while(d[4*cy]==R&&d[4*cy+1]==C&&d[4*cy+2]==G){if(h==1){if(!L[0][z])L[0][z]=new Array;
L[0][z].push(new H(h,0,!1,i.axis,z))}else{if(!L[1][z])L[1][z]=new Array;L[1][z].push(new H(h,0,!1,i.axis,z))}if(i.dir==2){cy+=k;
z++}else{cy-=k;z--}}}}function X(){for(var i=0;i<2;++i){var z=(i+1)%2;for(var m=0;m<L[i].length;++m){if(L[i][m])for(var h=0;
h<L[i][m].length;++h){var R=T[0];if(i==1)R+=T[2];var C=L[i][m][h].start;if(L[z][m])for(var G=0;G<L[z][m].length;
++G){var W=L[z][m][G].ci;if(i==0){if(W>R&&W<C){R=C-Math.floor((C-W)/2)}}else{if(W<R&&W>C){R=C+Math.ceil((W-C)/2)}}}if(i==0)f(L[i][m][h].dir,m,C-1,R,-1);
else f(L[i][m][h].dir,m,C+1,R,-1)}}}for(var m=0;m<j.length;++m){if(!j[m]&&m%k>=T[0]&&m%k<=T[0]+T[2]&&Math.floor(m/k)>=T[1]&&Math.floor(m/k)<=T[1]+T[3]){var C=k;
if(m<C||!j[m-C])C=1;d[4*m]=d[4*(m-C)];d[4*m+1]=d[4*(m-C)+1];d[4*m+2]=d[4*(m-C)+2];j[m]=!0;if(e)d[4*m+3]=255}}}function u(){j=new Array(o.length/4);
for(var m=0;m<d.length/4;++m){j[m]=!1;d[4*m]=o[4*m];d[4*m+1]=o[4*m+1];d[4*m+2]=o[4*m+2];d[4*m+3]=o[4*m+3];
if(d[4*m+3]==255)j[m]=!0;if(P(m))j[m]=!1}if(T[0]>0){T[0]--;T[2]++}if(T[1]>0){T[1]--;T[3]++}if(T[0]+T[2]<k){T[2]++}if(T[1]+T[3]<y){T[3]++}}var I=Date.now();
u();var r=Date.now();E();var J=Date.now();M();var U=Date.now();X();var K=Date.now();console.log("Init: "+String(r-I));
console.log("Filling: "+String(J-r));console.log("Check areas: "+String(U-J));console.log("Fill areas: "+String(K-U))}return g}();
function eU(){}eU.a7R=function(g){var o=[_.$k(g[0]),_.$k(g[1]),_.$k(g[2]),0];return _.x1.hi(_.x1.Ek,o)};
eU.a56=function(g){var o=_.x1.hi(_.x1.pf,g);return[_.WW(o[0]),_.WW(o[1]),_.WW(o[2])]};eU.VH=function(g,o){var k={},y=5003,d=1667,b=25e3,T=57.4,a=16.1,t=1.8,j=0,e=1.54,v=.75,w=0;
if(o>0){g-=o/100*4}if(g<0){a=22.54;T=80.36;e=.756}if(o>0){t=1.3;v=.2}var L=Math.min(y+T*g,b),H=Math.max(y-a*g,d);
if(g<0){L=Math.max(y+a*g,d);H=Math.min(y-T*g,b)}if(g>0){if(g<=14){w=(g-1)/13*.075+.025}else if(g<=29){w=.1}else if(g<=60){w=.1-.1*(g-29)/(60-29)}else{var P=g-60;
j=-20*(P/40);w=-.3*(P/40)}}else{if(g<-60){var P=g+60;j=-20*(P/40)}}var Q=Math.abs(g)/100*e+Math.abs(o)/100*v+w,x=-(o*t+j),F=hz.kZ(L,-x),E=hz.ot(F),f=hz.kZ(H,0),c=hz.ot(f),M=hz.yD(E,c);
k.ax_=Q;k.alT=M;if(g==0&&o==0)k.a8V=!0;else k.a8V=!1;return k};eU.a0h=function(g,o,k,y){if(y.a8V){return[g,o,k]}var d=this.a7R([g,o,k]),b=d[0],T=d[1],a=d[2],t=T+1e-12,j=[b/t,T/t,a/t,0],e=_.x1.hi(y.alT,j),v=0,L=.4;
e[0]*=t;e[1]*=t;e[2]*=t;if(t>L)v=1/(1-L)*(t-L);d[0]=(1-v)*e[0]+v*b;d[1]=(1-v)*e[1]+v*T;d[2]=(1-v)*e[2]+v*a;
return this.a56(d)};_.GC={KL:function(g,o){var m=g.length;g.push(o);var k=m>>>1;while(k!=0&&g[m][0]<g[k][0]){var y=g[m];
g[m]=g[k];g[k]=y;m=k;k=m>>>1}},q3:function(g){if(g.length==2)return g.pop();var top=g[1],m=1;g[1]=g.pop();
var o=g.length;while(!0){var k=m<<1,y=k+1,d=m;if(k<o&&g[k][0]<g[d][0])d=k;if(y<o&&g[y][0]<g[d][0])d=y;
if(d==m)break;var b=g[m];g[m]=g[d];g[d]=b;m=d}return top},a2h:function(g){for(var m=1;m<g.length;m++){var o=m,k=1e9;
while(o!=0){var y=g[o][0];if(y>k){console.log(m);throw"e"}k=y;o=o>>>1}}}};_.l={};_.l.CI=new Float64Array(256);
_.l.EU=new Uint8Array(256*256);_.l.Pb=new Uint8Array(256*256);(function(){for(var m=0;m<256;m++)_.l.CI[m]=255/m;
for(var m=0;m<256;m++)for(var g=0;g<256;g++)_.l.EU[m*256+g]=m==0?0:Math.round(g*255/m);for(var m=0;m<256;
m++)for(var g=0;g<256;g++)_.l.Pb[m*256+g]=Math.round(m*(255-g)/255)}());_.l.I3=function(g,o,k,y,d,b,T,a){if(a==null)a=bs.Rl();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(g)==-1){T=T*a.fill;a.fill=1;a.style=!1}var t="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),j="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),e=_.l[g+"F"];
if(a.zK==null&&g=="norm")_.l.a0X(o,k,y,d,b,T,e,a.qG?1:0);else if(g=="diss")_.l.a0A(o,k,y,d,b,T,e,a.qG?1:0);
else if(t.indexOf(g)!=-1)_.l.as2(o,k,y,d,b,T,e,a);else if(j.indexOf(g)!=-1)_.l.a7H(o,k,y,d,b,T,e,a)};
_.l.abm=function(g,o,k){var y=g*k+1-k;return y<.001?0:1-Math.min(1,(1-o)/y)};_.l.a6q=function(g,o,k){return g*k==1?1:Math.min(1,o/(1-g*k))};
_.l.g8=function(g){return g<=.25?((16*g-12)*g+4)*g:Math.sqrt(g)};_.l.normF=function(g,o,k){return g};
_.l.darkF=function(g,o,k){return Math.min(g,o)};_.l["mul F"]=function(g,o,k){return g*o};_.l.idivF=function(g,o,k){var y=g*k+1-k;
return o==1?1:1-o>=y?0:1-(1-o)/y};_.l.lbrnF=function(g,o,k){return Math.max(0,g*k+o-k)};_.l.dkClF=function(g,o,k){var y=_.bN(g)<_.bN(o)?g:o;
k.o=y.o;k.C=y.C;k.k=y.k;return k};_.l.liteF=function(g,o,k){return Math.max(g,o)};_.l.scrnF=function(g,o,k){return o+g-o*g};
_.l["div F"]=function(g,o,k){g*=k;return o==0?0:o>=1-g?1:o/(1-g)};_.l.lddgF=function(g,o,k){g*=k;return Math.min(1,g+o)};
_.l.lgClF=function(g,o,k){var y=_.bN(g)>_.bN(o)?g:o;k.o=y.o;k.C=y.C;k.k=y.k;return k};_.l.overF=function(g,o,k){return _.l.hLitF(o,g,k)};
_.l.sLitF=function(g,o,k){return g<=.5?o-(1-2*g)*o*(1-o):o+(2*g-1)*(_.l.g8(o)-o)};_.l.hLitF=function(g,o,k){return g<=.5?_.l["mul F"](2*g,o,k):_.l.scrnF(2*g-1,o,k)};
_.l.vLitF=function(g,o,k){return g<=.5?_.l.abm(2*g,o,k):_.l.a6q(2*g-1,o,k)};_.l.lLitF=function(g,o,k){return g<=.5?_.l.lbrnF(2*g,o,k):_.l.lddgF(2*g-1,o,k)};
_.l.pLitF=function(g,o,k){return g<=.5?_.l.darkF(2*g,o,k):_.l.liteF(2*g-1,o,k)};_.l.hMixF=function(g,o,k){if(k>.99)return g+o<1?0:1;
return Math.min(1,Math.max(0,(o+g*k-k)/(1-k+1e-6)))};_.l.diffF=function(g,o,k){g*=k;return Math.abs(g-o)};
_.l.smudF=function(g,o,k){return g+o-2*g*o};_.l.fsubF=function(g,o,k){return Math.max(o-g,0)};_.l.fdivF=function(g,o,k){return Math.min(o/g,1)};
_.l["hue F"]=function(g,o,k){_.l.dm(g,_.sN(o),k);_.l.Wv(k,_.bN(o),k)};_.l["sat F"]=function(g,o,k){_.l.dm(o,_.sN(g),k);
_.l.Wv(k,_.bN(o),k)};_.l.colrF=function(g,o,k){_.l.Wv(g,_.bN(o),k)};_.l["lum F"]=function(g,o,k){_.l.Wv(o,_.bN(g),k)};
_.l.Wv=function(g,o,k){var y=o-_.bN(g);k.o=g.o+y;k.C=g.C+y;k.k=g.k+y;_.l.a55(k)};_.l.a55=function(g){var o=g.o,k=g.C,y=g.k,d=_.pM(o,k,y),cy=Math.min(o,k,y),b=Math.max(o,k,y);
if(cy<0){var T=d/(d-cy);o=d+(o-d)*T;k=d+(k-d)*T;y=d+(y-d)*T}if(b>1){var T=(1-d)/(b-d);o=d+(o-d)*T;k=d+(k-d)*T;
y=d+(y-d)*T}g.o=o;g.C=k;g.k=y};_.l.dm=function(g,o,k){var y=_.l.ava,d=g.o,b=g.C,T=g.k;if(d==b&&b==T){k.o=k.C=k.k=0}else if(d>b){if(d>T){if(b>T){k.o=o;
k.C=y(d,b,T,o);k.k=0}else{k.o=o;k.k=y(d,T,b,o);k.C=0}}else{k.k=o;k.o=y(T,d,b,o);k.C=0}}else{if(d<T){if(b>T){k.C=o;
k.k=y(b,T,d,o);k.o=0}else{k.k=o;k.C=y(T,b,d,o);k.o=0}}else{k.C=o;k.o=y(b,d,T,o);k.k=0}}};_.l.ava=function(g,o,k,y){return(o-k)*y/(g-k)};
_.l.a0X=function(g,o,k,y,d,b,T,a){var t=o.Nm(y).Nm(d),j=Math.max(0,t.x-o.x),e=Math.max(0,t.x-y.x),v=Math.max(0,t.y-o.y),L=Math.max(0,t.y-y.y),H=t.m,w=t.n,P=o.m,Q=y.m,x=_.l.EU,F=_.l.Pb,E=new Uint32Array(g.buffer),f=new Uint32Array(k.buffer);
for(var m=0;m<w;m++){var c=(v+m)*P+j,M=(L+m)*Q+e;for(var n=0;n<H;n++){var X=E[c+n],h=1;if(X>>>24==0)continue;
if(X>>>24==255&&b==1&&a==0){f[M+n]=E[c+n];continue}var u=f[M+n],I=X&255,r=X>>>8&255,J=X>>>16&255,U=u&255,K=u>>>8&255,i=u>>>16&255,z=b,R=(u>>>24)*(1/255);
if(a==0){z=(X>>>24)*b*(1/255);h=R}var C=h*(1-z),G=z+C,W=1/G;f[M+n]=~~(.5+(a*R+(1-a)*G)*255)<<24|~~(.5+(J*z+i*C)*W)<<16|~~(.5+(r*z+K*C)*W)<<8|~~(.5+(I*z+U*C)*W)}}};
_.l.au9=function(g,o,k,y,d,b){var T=o.Nm(y).Nm(d),a=Math.max(0,T.x-o.x),t=Math.max(0,T.x-y.x),j=Math.max(0,T.y-o.y),e=Math.max(0,T.y-y.y),v=T.m,L=T.n,H=o.m,w=y.m,P=_.l.EU,Q=_.l.Pb,x=new Uint32Array(g.buffer),F=new Uint32Array(k.buffer),E=Math.floor(Math.random()*16777215),f=0;
for(var m=0;m<L;m++){var c=(j+m)*H+a,M=(e+m)*w+t;for(var n=0;n<v;n++){var X=x[c+n];if(X>>>24==0)continue;
if(X>>24==255&&b==1){F[M+n]=X;continue}var u=F[M+n],I=(X>>>24)*b*(1/255),r=(u>>>24)*(1/255),J=r*(1-I),U=I+J,K=X&255,i=X>>>8&255,z=X>>>16&255,h=u&255,R=u>>>8&255,C=u>>>16&255;
f>>>=8;if((n&3)==0)f=_.l.mX(M+n+E);var G=U==0?0:1/U,W=Math.floor(U*(256*255))+(f&255)>>>8,A=Math.floor((z*I+C*J)*G+.5),$=Math.floor((i*I+R*J)*G+.5),O=Math.floor((K*I+h*J)*G+.5);
F[M+n]=W<<24|A<<16|$<<8|O}}};_.l.G4=function(g,o,k,y,d,b,T,a){var t=_.pM(g,o,k),j=_.pM(y,d,b),e=Math.min,v=_.l.a6U,L=v(t,a,0);
L=e(L,v(g,a,8));L=e(L,v(o,a,16));L=e(L,v(k,a,24));var H=v(j,a,4);H=e(H,v(y,a,12));H=e(H,v(d,a,20));H=e(H,v(b,a,28));
H=Math.max(H,1-T);var w=Math.min(L,H);return w<0?0:w>1?1:w};_.l.a6U=function(g,o,m){return Math.min((g-o[m])*o[m+1],(g-o[m+3])*o[m+2])};
_.l.as2=function(g,o,k,y,d,b,T,a){var t=1/255,j=t*b,e=a.qG?1:0,v=a.fill,L=a.style,H=o.Nm(y).Nm(d),w=Math.max(0,H.x-o.x),P=Math.max(0,H.x-y.x),Q=Math.max(0,H.y-o.y),x=Math.max(0,H.y-y.y),F=H.m,E=H.n,f=o.m,c=y.m,M=new Uint32Array(g.buffer),n=new Uint32Array(k.buffer);
for(var m=0;m<E;m++){var X=(Q+m)*f+w,u=(x+m)*c+P;for(var I=0;I<F;I++,X++,u++){var r=M[X],G=1;if(r>>>24==0)continue;
var J=n[u],U=(r&255)*t,K=(r>>>8&255)*t,i=(r>>>16&255)*t,z=(J&255)*t,h=(J>>>8&255)*t,R=(J>>>16&255)*t,C=b;
if(e==0){C=(r>>>24)*j;G=(J>>>24)*t}if(a.zK)C*=_.l.G4(U,K,i,z,h,R,G,a.zK);var W=G*(1-C),A=C+W,$=A==0?0:255/A,O=L?1:C,Y=((1-G)*C*U+(1-O)*G*z+O*G*T(U,z,(1+C-O)*v))*$,l=((1-G)*C*K+(1-O)*G*h+O*G*T(K,h,(1+C-O)*v))*$,B=((1-G)*C*i+(1-O)*G*R+O*G*T(i,R,(1+C-O)*v))*$;
A=C*v+G*(1-C*v);var f4=~~(A*255+.5);n[u]=e*(J>>>24)+(1-e)*f4<<24|B<<16|l<<8|Y}}};_.l.a7H=function(g,o,k,y,d,b,T,a){var t=1/255,j=t*b,e=a.qG?1:0,v=o.Nm(y).Nm(d),L=Math.max(0,v.x-o.x),H=Math.max(0,v.x-y.x),w=Math.max(0,v.y-o.y),P=Math.max(0,v.y-y.y),Q=v.m,x=v.n,F=new Uint32Array(g.buffer),E=new Uint32Array(k.buffer),f={o:0,C:0,k:0},c={o:0,C:0,k:0},M={o:0,C:0,k:0};
for(var m=0;m<x;m++){var n=(w+m)*o.m+L,X=(P+m)*y.m+H;for(var u=0;u<Q;u++,n++,X++){var I=F[n],r=E[X],J=(I&255)*t,U=(I>>>8&255)*t,K=(I>>>16&255)*t,i=(r&255)*t,z=(r>>>8&255)*t,h=(r>>>16&255)*t,R=b,C=1;
if(e==0){R=(I>>>24)*j;C=(r>>>24)*t}if(a.zK)R*=_.l.G4(J,U,K,i,z,h,C,a.zK);var G=C*(1-R),W=R+G,A=255/W;
f.o=J;f.C=U;f.k=K;c.o=i;c.C=z;c.k=h;T(f,c,M);var $=(((1-C)*J+C*M.o)*R+i*G)*A,O=(((1-C)*U+C*M.C)*R+z*G)*A,Y=(((1-C)*K+C*M.k)*R+h*G)*A,l=e*(r>>>24)+(1-e)*Math.round(W*255);
E[X]=l<<24|Y<<16|O<<8|$}}};_.l.rZ=function(g){g=g^61^g>>>16;g=g+(g<<3);g=g^g>>>4;g=g*668265261;g=g^g>>15;
return(g&16777215)*(1/16777215)};_.l.mX=function(g){g=g^61^g>>>16;g=g+(g<<3);g=g^g>>>4;g=g*668265261;
g=g^g>>>15;return g};_.l.du=function(g){this.KW=g};_.l.du.prototype.get=function(){var g=this.KW=_.l.mX(this.KW);
return(g&16777215)*(1/16777215)};_.l.a0A=function(g,o,k,y,d,b,T,a){var t=1/255,j=t*b,e=Math.round(b*(256*256*256/255)),v=o.Nm(y).Nm(d),L=Math.max(0,v.x-o.x),H=Math.max(0,v.x-y.x),w=Math.max(0,v.y-o.y),P=Math.max(0,v.y-y.y),Q=v.m,x=v.n,F=new Uint32Array(g.buffer),E=new Uint32Array(k.buffer);
for(var m=0;m<x;m++){var f=(w+m)*o.m+L,c=(P+m)*y.m+H;for(var M=0;M<Q;M++,f++,c++){var n=F[f],X=E[c],u=a*255+(1-a)*(n>>>24);
if((_.l.mX(f)&16777215)>=u*e)continue;E[c]=n&16777215|a*(X>>>24)+(1-a)*255<<24}}};_.l.arM=function(g,o,k){for(var m=0;
m<g.length;m+=4){var y=k[m>>>2];if(y==0)continue;var d=y*(1/255),b=1/d,T=o[m],a=o[m+1],t=o[m+2],j=g[m],e=g[m+1],v=g[m+2];
o[m]=Math.min(255,Math.max(0,Math.round((T-(1-d)*j)*b)));o[m+1]=Math.min(255,Math.max(0,Math.round((a-(1-d)*e)*b)));
o[m+2]=Math.min(255,Math.max(0,Math.round((t-(1-d)*v)*b)));o[m+3]=255}};_.l.tx=function(g,o,k,y,d,b,T,a,t,j,e){if(j==null)j=!1;
if(e==null)e=[1,1,1];var v=255<<24|e[2]*16711680|e[1]*65280|e[0]*255,L=~v;if(d&&!o.ey(b)){var H=_.Q(o.O()*4);
H.fill(T);_.sQ(d,b,H,o);d=H;b=o}if(j){if(d==null)_.l.ajD(g,o,k,y,d,a,t,v,L);else _.l.adb(g,o,k,y,d,a,t)}else{if(d==null)_.l.a2j(g,o,k,y,d,a,t,v,L);
else _.l.ap5(g,o,k,y,d,a,t)}};_.l.a2j=function(g,o,k,y,d,b,T,a,t){var j=1/255,e=o.Nm(y).Nm(b),v=Math.max(0,e.x-o.x),L=Math.max(0,e.x-y.x),H=Math.max(0,e.y-o.y),w=Math.max(0,e.y-y.y),P=e.m,Q=e.n,x=new Uint32Array(g.buffer),F=new Uint32Array(k.buffer),E=_.l.EU,f=T*255&255;
for(var m=0;m<Q;m++){var c=(H+m)*o.m+v,M=(w+m)*y.m+L;for(var n=0;n<P;n++,c++,M++){var X=x[c],u=F[M],I=X>>>24,r=u>>>24,J=_.UG(f*I+(255-f)*r),U=_.UG(I*f),K=_.UG(r*(255-f)),i=X&255,z=X>>>8&255,h=X>>>16&255,R=u&255,C=u>>>8&255,G=u>>>16&255,W=U*i+R*K,A=U*z+C*K,$=U*h+G*K;
W=E[J<<8|_.UG(W)];A=E[J<<8|_.UG(A)];$=E[J<<8|_.UG($)];var O=J<<24|$<<16|A<<8|W;F[M]=t&u|a&O}}};_.l.ajD=function(g,o,k,y,d,b,T,a,t){var j=1/255,e=o.Nm(y).Nm(b),v=Math.max(0,e.x-o.x),L=Math.max(0,e.x-y.x),H=Math.max(0,e.y-o.y),w=Math.max(0,e.y-y.y),P=e.m,Q=e.n,x=new Uint32Array(g.buffer),F=new Uint32Array(k.buffer),E=_.l.EU,f=T*16777215&16777215;
for(var m=0;m<Q;m++){var c=(H+m)*o.m+v,M=(w+m)*y.m+L;for(var n=0;n<P;n++,c++,M++){if((_.l.mX(c)&16777215)<f){F[M]=t&F[M]|a&x[c]}}}};
_.l.ap5=function(g,o,k,y,d,b,T){var a=1/255,t=o.Nm(y).Nm(b),j=Math.max(0,t.x-o.x),e=Math.max(0,t.x-y.x),v=Math.max(0,t.y-o.y),L=Math.max(0,t.y-y.y),H=t.m,w=t.n,P=new Uint32Array(g.buffer),Q=new Uint32Array(k.buffer),x=_.l.EU;
for(var m=0;m<w;m++){var F=(v+m)*o.m+j,E=(L+m)*y.m+e;for(var f=0;f<H;f++,F++,E++){var c=d[F]*T&255;if(c==0)continue;
if(c==255){Q[E]=P[F];continue}var M=P[F],n=Q[E],X=M>>>24,u=n>>>24,I=_.UG(c*X+(255-c)*u),r=_.UG(X*c),J=_.UG(u*(255-c)),U=M&255,K=M>>>8&255,i=M>>>16&255,z=n&255,h=n>>>8&255,R=n>>>16&255,C=x[I<<8|_.UG(r*U+z*J)],G=x[I<<8|_.UG(r*K+h*J)],W=x[I<<8|_.UG(r*i+R*J)];
Q[E]=I<<24|W<<16|G<<8|C}}};_.l.adb=function(g,o,k,y,d,b,T){var a=1/255,t=o.Nm(y).Nm(b),j=Math.max(0,t.x-o.x),e=Math.max(0,t.x-y.x),v=Math.max(0,t.y-o.y),L=Math.max(0,t.y-y.y),H=t.m,w=t.n,P=new Uint32Array(g.buffer),Q=new Uint32Array(k.buffer),x=_.l.EU,F=Math.round(T*257);
for(var m=0;m<w;m++){var E=(v+m)*o.m+j,f=(L+m)*y.m+e;for(var c=0;c<H;c++,E++,f++){var M=d[E]*F;if((_.l.mX(E)&65535)<M)Q[f]=P[E]}}};
_.l.bY=function(g,o,k,y,d,b,T){var a=1/255,t=o.Nm(y).Nm(b),j=Math.max(0,t.x-o.x),e=Math.max(0,t.x-y.x),v=Math.max(0,t.y-o.y),L=Math.max(0,t.y-y.y),H=t.m,w=t.n,P=new Uint32Array(g.buffer),Q=new Uint32Array(k.buffer),x=Math.floor(Math.random()*y.O()),F=_.l.aoi;
for(var m=0;m<w;m++){var E=(v+m)*o.m+j,f=(L+m)*y.m+e;for(var c=0;c<H;c++){var M=d[E+c]*T;if(M==0)continue;
if(M==255){Q[f+c]=P[E+c];continue}var n=P[E+c],X=Q[f+c],u=n>>>24,I=X>>>24,r=u*M*(1/255),J=I*(255-M)*(1/255),U=n&255,K=n>>>8&255,i=n>>>16&255,z=X&255,h=X>>>8&255,R=X>>>16&255,C=_.l.mX(f+c+x),G=Math.floor((r+J)*256+.5)+(C>>>0&255)>>>8,W=G==0?0:256/(r+J),A=U*r+z*J,$=K*r+h*J,O=i*r+R*J,Y=Math.floor(A*W+.5)+(C>>>8&255)>>>8,l=Math.floor($*W+.5)+(C>>>16&255)>>>8,B=Math.floor(O*W+.5)+(C>>>24&255)>>>8;
Q[f+c]=G<<24|B<<16|l<<8|Y}}};_.l.aoi=function(g){return Math.floor(g+Math.random())};_.l.F_=function(g,o,k,y,d,b,T){var a=1/255,t=o.Nm(y).Nm(b),j=Math.max(0,t.x-o.x),e=Math.max(0,t.x-y.x),v=Math.max(0,t.y-o.y),L=Math.max(0,t.y-y.y),H=t.m,w=t.n;
for(var m=0;m<w;m++){var P=(v+m)*o.m+j,Q=(L+m)*y.m+e;for(var x=0;x<H;x++,P++,Q++){var F=T*d[P]*a;if(F==0)continue;
if(F==1){k[Q]=g[P];continue}k[Q]=g[P]*F+k[Q]*(1-F)}}};_.am9=function(){function g(b){var T=b*.85;return Math.exp(-(T*T)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function o(b,T){var a=b<T?1:g((b-T)/Math.pow(1.001-T,.86));
return a}var k=[];function y(b){if(k[b])return k[b];var T=Math.pow(b,.55),a=new Float64Array(8e3),t=0,j=8e3;
for(var m=0;m<8e3;m++){var e=o(m*(1.55/4e3),T);if(e>=1)t=m;else if(e<=0&&j==8e3)j=m;a[m]=e}var v=[a,t,j];
k[b]=v;return v}function d(b,T,a){var t=1+.55*(1-T),j=Math.round(a*b*t)+2,e=new bd(0,0,j,j),v=_.Q(j*j),L=[v,e],H=j/2,w=t/(H-1),P=Date.now(),Q=y(T),x=Math.round(8e3/H),F=Q[0],E=Q[1]-x,f=Q[2]+x,c=Math.min(j,j+1>>>1),M=w*.4*(4e3/1.55),n=_.Q(8e3);
for(var m=0;m<8e3;m++){var X=m,u=m,I=~~Math.max(0,X-M-M),r=~~Math.max(0,X-M),J=~~(X+M),U=~~(X+M+M),K=~~(.5+255*(1/5)*(F[u]+F[I]+F[r]+F[J]+F[U]));
n[m]=K;if(K==0)break}for(var m=0;m<c;m++){var i=w*(m-H+.5),z=i*i,h=m*j,R=(j-1-m)*j;for(var C=0;C<c;C++){var G=w*(C-H+.5),u=~~(Math.sqrt(G*G+z)*(4e3/1.55));
if(f<u)continue;else if(u<E){var K=255;while(C<c){var W=j-1-C;v[h+C]=K;v[h+W]=K;v[R+C]=K;v[R+W]=K;C++}break}else{var K=n[u],W=j-1-C;
v[h+C]=K;v[h+W]=K;v[R+C]=K;v[R+W]=K}}}return L}return{ai0:d}}();_.gU={};_.gU.aiv=function(g,o,k,y,d,b){_.gU.lH(g,o,k,y,d,b,null,0)};
_.gU.a6k=function(g,o,k,y,d){_.gU.lH(g,o,k,y,d,null,null,0)};_.gU.aqr=function(g,o,k,y,d,b,T){_.gU.lH(g,o,k,y,d,null,b,T*.5)};
_.gU.lH=function(g,o,k,y,d,b,T,a){var t=0,J=0,U=1e9,K=0,i=1e9,z=0,h=1e9,R=0,C=0,G=0,W=0;if(b){t=d*.5;
d=3+Math.round((d-3)*.75)}if(T){d=Math.round(d*2.2)}var j=1/d,e=Math.floor(o*j)+1,v=Math.floor(k*j)+1,L=[],H=new Uint8Array(e*v*4),w=T?.5:1,P=b?64:0;
for(var Q=0;Q<v;Q++){var x=T?.5*(Q&1):0;for(var F=0;F<e;F++){var E=(F+Math.random()*w+x)*d,f=(Q+Math.random()*w)*d;
L.push(E,f);var c=Math.min(o-1,Math.floor(E)),M=Math.min(k-1,Math.floor(f)),n=(M*o+c)*4,X=(Q*e+F)*4;
for(var m=0;m<4;m++)H[X+m]=Math.max(0,Math.min(255,Math.floor(g[n+m]+(Math.random()-.5)*P)))}}var u=b?b:T?T:[0,0,0],I=e*v*2,r=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1];
for(var Q=0;Q<k;Q++){G=0;for(var F=0;F<o;F++){var A=F+.5,$=Q+.5,O=Math.floor($*j),Y=Math.floor(A*j),l=O*e+Y,V=0,q=0;
if(G>1+a){U=_.gU.ZI(L,J,A,$);R=Math.sqrt(U);G--;W++}else{U=i=h=1e9;for(var m=0;m<r.length;m++){var B=(l+r[m])*2;
if(B<0||B>=I)continue;var f4=_.gU.ZI(L,B,A,$);if(f4<h){if(f4<i){if(f4<U){z=K;h=i;K=J;i=U;J=B;U=f4}else{z=K;
h=i;K=B;i=f4}}else{z=B;h=f4}}}R=Math.sqrt(U);C=Math.sqrt(i);G=C-(R+C)*.5}if(T==null){var s=(R+C)*.5,cW=b?Math.max(0,s-t):0;
V=Math.max(0,Math.min(1,.5+s-R-cW));q=Math.max(0,Math.min(1,1-(.5+s-R)-cW))}else{var dk=Math.min(_.gU.PL(L,J,K,A,$),_.gU.PL(L,J,z,A,$));
V=Math.max(0,Math.min(1,dk-a*.5));if(A<a||o-a<A||$<a||k-a<$)V=0;q=0}var kr=1-q-V,X=Q*o+F<<2,j9=J<<1,a$=K<<1;
y[X+0]=Math.floor(.5+V*H[j9+0]+q*H[a$+0]+kr*u[0]);y[X+1]=Math.floor(.5+V*H[j9+1]+q*H[a$+1]+kr*u[1]);
y[X+2]=Math.floor(.5+V*H[j9+2]+q*H[a$+2]+kr*u[2]);y[X+3]=g[X+3]}}};_.gU.ZI=function(g,o,k,y){var d=k-g[o],b=y-g[o+1];
return d*d+b*b};_.gU.PL=function(g,o,k,y,d){var b=g[o],T=g[o+1],a=g[k],t=g[k+1],j=(b+a)*.5,e=(T+t)*.5,v=j+(t-T),L=e-(a-b),H=L-e,w=v-j;
return Math.abs(H*y-w*d+v*e-L*j)/Math.sqrt(w*w+H*H)};_.tI={};_.tI.HY=function(g){if(_.tI.L_.length<g)_.tI.L_=_.Q(g);
return _.tI.L_};_.tI.L_=_.Q(0);_.tI.no=function(g){if(_.tI.eb.length<g)_.tI.eb=new Float32Array(g);return _.tI.eb};
_.tI.eb=new Float32Array(0);_.tI.BM=function(g,o,k,y){var d=k.m,b=k.n;_.tI.a77(g,o,d,b,y)};_.tI.fw=function(g,o,k,y){var d=k.m,b=k.n;
_.tI.a4u(g,o,d,b,y)};_.tI.tB=function(g,o,k){var y=o.m,d=o.n;_.tI.a9s(g,y,d,k)};_.tI.Qv=function(g,o,k,y,d){var b=k.m,T=k.n;
_.tI.awS(g,o,b,T,y,d)};_.tI.zG=function(g,o,k,y){var d=k.m,b=k.n;y=Math.round(y);var T=_.tI.HY(d*b);
_.QF(g,o);_.tI.Tw(o,T,d,b,y)};_.tI.Tt=function(g,o,k){var y=o.m,d=o.n;k=Math.round(k);var b=_.tI.HY(y*d*4);
_.tI.k_(g,b,y,d,k)};_.tI.Nj=function(g,o,k,y){var d=k.m,b=k.n;y=Math.round(y);var T=_.tI.no(d*b);_.QF(g,o);
_.tI.ai(o,T,d,b,y)};_.tI.Aw=function(g,o,k){var y=o.m,d=o.n;k=Math.round(k);var b=_.tI.HY(y*d*4);_.tI.zm(g,b,y,d,k);
_.QF(b,g)};_.tI.D1=function(g,cy){var o=Math.sqrt(12*g*g/cy+1),k=Math.floor(o);if(k%2==0)k--;var y=k+2,d=(12*g*g-cy*k*k-4*cy*k-3*cy)/(-4*k-4),b=Math.round(d),T=[];
for(var m=0;m<cy;m++)T.push(m<b?k:y);return T};_.tI.a77=function(g,o,k,y,d){var b=_.tI.D1(d,3),T=_.tI.HY(k*y);
_.QF(g,o);_.tI.Tw(o,T,k,y,b[0]-1>>1);_.tI.Tw(o,T,k,y,b[1]-1>>1);_.tI.Tw(o,T,k,y,b[2]-1>>1)};_.tI.a4u=function(g,o,k,y,d){var b=_.tI.D1(d,2),T=_.tI.HY(k*y);
_.QF(g,o);_.tI.Tw(o,T,k,y,b[0]-1>>1);_.tI.Tw(o,T,k,y,b[1]-1>>1)};_.tI.a9s=function(g,o,k,y){var d=_.tI.D1(y,3),b=_.tI.HY(o*k*4);
_.tI.k_(g,b,o,k,d[0]-1>>1);_.tI.k_(g,b,o,k,d[1]-1>>1);_.tI.k_(g,b,o,k,d[2]-1>>1)};_.tI.awS=function(g,o,k,y,d,b){if(b==null)b=3;
var T=_.tI.D1(d,b),a=_.tI.no(k*y);_.QF(g,o);for(var m=0;m<b;m++)_.tI.ai(o,a,k,y,(T[m]-1)/2)};_.tI.Tw=function(g,o,k,y,d){_.tI.asX(g,o,k,y,d);
_.tI.aqf(o,g,k,y,d)};_.tI.k_=function(g,o,k,y,d){_.tI.zm(g,o,k,y,d);_.tI.ad$(o,g,k,y,d)};_.tI.ai=function(g,o,k,y,d){_.tI.awK(g,o,k,y,d);
_.tI.ajz(o,g,k,y,d)};_.tI.E9=[];_.tI.Sw=function(g){if(_.tI.E9[g])return _.tI.E9[g];var o=1/(g+g+1),k=(g+g+1)*256,y=_.Q(k);
for(var m=0;m<k;m++)y[m]=Math.round(m*o);_.tI.E9[g]=y;return y};_.tI.asX=function(g,o,k,y,d){var b=1/(d+d+1),T=k-d-d-1,a=_.tI.Sw(d);
for(var m=0;m<y;m++){var t=m*k,j=t,e=t+d,v=g[t],L=g[t+k-1],H=(d+1)*v;for(var w=0;w<d;w++)H+=g[t+w];for(var w=0;
w<=d;w++){H+=g[e+w]-v;o[t+w]=a[H]}e+=d+1;t+=d+1;for(var w=0;w<T;w++){H+=g[e+w]-g[j+w];o[t+w]=a[H]}e+=T;
j+=T;t+=T;for(var w=k-d;w<k;w++){H+=L-g[j++];o[t++]=a[H]}}};_.tI.zm=function(g,o,k,y,d){var b=k<<2,T=d<<2,a=1/(d+d+1),t=k-d-d-1,j=t<<2,e=_.tI.Sw(d);
for(var m=0;m<y;m++){var v=m*b,L=v,H=v+T,w=v+b,P=g[v],Q=g[v+1],x=g[v+2],F=g[v+3],E=(d+1)*P,f=(d+1)*Q,c=(d+1)*x,M=(d+1)*F;
for(var n=0;n<T;n+=4){E+=g[v+n];f+=g[v+n+1];c+=g[v+n+2];M+=g[v+n+3]}for(var n=0;n<=T;n+=4){E+=g[H]-P;
o[v]=e[E];f+=g[H+1]-Q;o[v+1]=e[f];c+=g[H+2]-x;o[v+2]=e[c];M+=g[H+3]-F;o[v+3]=e[M];H+=4;v+=4}for(var n=0;
n<j;n+=4){E+=g[H+n]-g[L+n];o[v+n]=e[E];f+=g[H+n+1]-g[L+n+1];o[v+n+1]=e[f];c+=g[H+n+2]-g[L+n+2];o[v+n+2]=e[c];
M+=g[H+n+3]-g[L+n+3];o[v+n+3]=e[M]}H+=j;L+=j;v+=j;P=g[w-4];Q=g[w-3];x=g[w-2];F=g[w-1];for(var n=k-d;
n<k;n++){E+=P-g[L];o[v]=e[E];f+=Q-g[L+1];o[v+1]=e[f];c+=x-g[L+2];o[v+2]=e[c];M+=F-g[L+3];o[v+3]=e[M];
L+=4;v+=4}}};_.tI.awK=function(g,o,k,y,d){var b=1/(d+d+1),T=k-d-d-1;for(var m=0;m<y;m++){var a=m*k,t=a,j=a+d,e=g[a],v=g[a+k-1],L=(d+1)*e;
for(var H=0;H<d;H++)L+=g[a+H];for(var H=0;H<=d;H++){L+=g[j+H]-e;o[a+H]=L*b}j+=d+1;a+=d+1;for(var H=0;
H<T;H++){L+=g[j+H]-g[t+H];o[a+H]=L*b}j+=T;t+=T;a+=T;for(var H=k-d;H<k;H++){L+=v-g[t++];o[a++]=L*b}}};
_.tI.aqf=function(g,o,k,y,d){var b=1/(d+d+1),T=y-d-d-1,a=_.tI.Sw(d);for(var m=0;m<k;m++){var t=m,j=t,e=t+d*k,v=g[t],L=g[t+k*(y-1)],H=(d+1)*v;
for(var w=0;w<d;w++)H+=g[t+w*k];for(var w=0;w<=d;w++){H+=g[e]-v;o[t]=a[H];e+=k;t+=k}for(var w=0;w<T;
w++){var P=w*k;H+=g[e+P]-g[j+P];o[t+P]=a[H]}j+=T*k;e+=T*k;t+=T*k;for(var w=y-d;w<y;w++){H+=L-g[j];o[t]=a[H];
j+=k;t+=k}}};_.tI.ad$=function(g,o,k,y,d){var b=k<<2,T=d<<2,a=1/(d+d+1),t=y-d-d-1,j=t<<2,e=_.tI.Sw(d);
for(var m=0;m<k;m++){var v=m<<2,L=v,H=v+d*b,w=v+b*(y-1),P=g[v],Q=g[v+1],x=g[v+2],F=g[v+3],E=(d+1)*P,f=(d+1)*Q,c=(d+1)*x,M=(d+1)*F;
for(var n=0;n<d;n++){var X=v+n*b;E+=g[X];f+=g[X+1];c+=g[X+2];M+=g[X+3]}for(var n=0;n<=d;n++){E+=g[H]-P;
o[v]=e[E];f+=g[H+1]-Q;o[v+1]=e[f];c+=g[H+2]-x;o[v+2]=e[c];M+=g[H+3]-F;o[v+3]=e[M];H+=b;v+=b}for(var n=0;
n<t;n++){var u=n*b;E+=g[H+u]-g[L+u];o[v+u]=e[E];f+=g[H+u+1]-g[L+u+1];o[v+u+1]=e[f];c+=g[H+u+2]-g[L+u+2];
o[v+u+2]=e[c];M+=g[H+u+3]-g[L+u+3];o[v+u+3]=e[M]}L+=t*b;H+=t*b;v+=t*b;P=g[w];Q=g[w+1];x=g[w+2];F=g[w+3];
for(var n=y-d;n<y;n++){E+=P-g[L];o[v]=e[E];f+=Q-g[L+1];o[v+1]=e[f];c+=x-g[L+2];o[v+2]=e[c];M+=F-g[L+3];
o[v+3]=e[M];L+=b;v+=b}}};_.tI.ajz=function(g,o,k,y,d){var b=1/(d+d+1),T=y-d-d-1;for(var m=0;m<k;m++){var a=m,t=a,j=a+d*k,e=g[a],v=g[a+k*(y-1)],L=(d+1)*e;
for(var H=0;H<d;H++)L+=g[a+H*k];for(var H=0;H<=d;H++){L+=g[j]-e;o[a]=L*b;j+=k;a+=k}for(var H=0;H<T;H++){var w=H*k;
L+=g[j+w]-g[t+w];o[a+w]=L*b}t+=T*k;j+=T*k;a+=T*k;for(var H=y-d;H<y;H++){L+=v-g[t];o[a]=L*b;t+=k;a+=k}}};
_.RS={};_.RS.Q=function(g,o,k,y){var d=[];for(var b=0;b<4;b++)for(var T=0;T<4;T++)d.push(g+k*T/3,o+y*b/3);
return d};_.RS.QN=function(g,o){var k=g.slice(0);for(var m=0;m<4;m++)for(var y=0;y<4;y++){var d=2*(m*4+y),b=2*(y*4+(3-m));
if(o){var T=d;d=b;b=T}k[b]=g[d];k[b+1]=g[d+1]}return k};_.RS._3=_.Q(0);_.RS.drawImage=function(g,o,k,y,d,b,T){var a=!1,t=Date.now(),j=2,e=k+2*j,v=y+2*j,L=new bd(j,j,k,y),H=L.clone(),F=50;
H.pK(j,j);var w=_.RS._3;if(w.length!=H.O()*4)w=_.RS._3=_.Q(H.O()*4);else w.fill(0);_.g1(o,L,w,H);if(a)console.log(Date.now()-t,"copy rect");
t=Date.now();_.Td(w);if(a)console.log(Date.now()-t,"multiply alpha");t=Date.now();var P=[],Q=[],x=[];
for(var E=0;E<F+1;E++)for(var f=0;f<F+1;f++){var c=f/F,M=E/F;P.push(e*c,v*M);if(f<F&&E<F){var n=E*(F+1)+f,X=n+1,u=n+F+1,I=u+1;
Q.push(n,X,u);Q.push(u,X,I)}var r=_.RS.a6J(g,c,M);x.push(-r)}var J=P.slice(0);_.RS.D(g,J,new bd(j,j,k,y));
_.p.D(J,new d3(1,0,0,1,-b.x,-b.y),J);if(a)console.log(Date.now()-t,"mesh built");t=Date.now();var U=b.m,K=b.n;
_.iE.YR(w,e,v,d,U,K,P,J,x,Q);if(a)console.log(Date.now()-t,"rendered");t=Date.now();_.PF(d);if(a)console.log(Date.now()-t,"divided");
t=Date.now()};_.RS.y9=new Array(10);_.RS.aeP=function(g,o){var k=200,y=0,d=0,b=1e9,T=_.RS.y9;for(var a=0;
a<k+1;a++)for(var t=0;t<k+1;t++){var j=t/k,e=a/k;_.RS.DP(g,j,e,T);var v=T[8]-o.x,L=T[9]-o.y,H=v*v+L*L;
if(H<b){b=H;y=j;d=e}}return[y,d]};_.RS.D=function(g,o,k){var y=k.x,d=k.y,b=1/k.m,T=1/k.n,a=_.RS.y9;for(var t=0;
t<o.length;t+=2){var j=(o[t]-y)*b,e=(o[t+1]-d)*T;_.RS.DP(g,j,e,a);o[t]=a[8];o[t+1]=a[9]}};_.RS.a6J=function(g,o,k){var y,d,b,T,a=_.RS.y9;
_.RS.aiq(g,o,k,a);y=a[8];d=a[9];_.RS.aqJ(g,o,k,a);b=a[8];T=a[9];return y*T-d*b};_.RS.DP=function(g,o,k,y){_.RS.Er(y,0,k);
_.RS.Er(y,4,o);_.RS.Ab(g,y)};_.RS.aiq=function(g,o,k,y){_.RS.Er(y,0,k);_.RS.sy(y,4,o);_.RS.Ab(g,y)};
_.RS.aqJ=function(g,o,k,y){_.RS.sy(y,0,k);_.RS.Er(y,4,o);_.RS.Ab(g,y)};_.RS.sy=function(g,m,o){var k=1-o;
g[m]=-3*(k*k);g[m+1]=3*(k*k)-6*(o*k);g[m+2]=6*(o*k)-3*(o*o);g[m+3]=3*(o*o)};_.RS.Er=function(g,m,o){var k=1-o;
g[m]=k*(k*k);g[m+1]=3*o*(k*k);g[m+2]=3*(o*o)*k;g[m+3]=o*o*o};_.RS.Ab=function(g,o){var k=0,y=0,d=0,b=o[0],T=o[1],a=o[2],t=o[3],j=o[4],e=o[5],v=o[6],L=o[7];
d=b*j;k+=g[0]*d;y+=g[1]*d;d=b*e;k+=g[2]*d;y+=g[3]*d;d=b*v;k+=g[4]*d;y+=g[5]*d;d=b*L;k+=g[6]*d;y+=g[7]*d;
d=T*j;k+=g[8]*d;y+=g[9]*d;d=T*e;k+=g[10]*d;y+=g[11]*d;d=T*v;k+=g[12]*d;y+=g[13]*d;d=T*L;k+=g[14]*d;y+=g[15]*d;
d=a*j;k+=g[16]*d;y+=g[17]*d;d=a*e;k+=g[18]*d;y+=g[19]*d;d=a*v;k+=g[20]*d;y+=g[21]*d;d=a*L;k+=g[22]*d;
y+=g[23]*d;d=t*j;k+=g[24]*d;y+=g[25]*d;d=t*e;k+=g[26]*d;y+=g[27]*d;d=t*v;k+=g[28]*d;y+=g[29]*d;d=t*L;
k+=g[30]*d;y+=g[31]*d;o[8]=k;o[9]=y};_.rV={};_.rV.axs=function(g,o,k){var y=Date.now(),d=new ArrayBuffer(o*k*16),b=_.rV.aoc(g,o,k,d),T=_.rV.a1X(o,k,d);
return{LY:T,qK:b}};_.rV.aaO=function(g,o,k){var y=Math.round(g.length/8),d=new Uint32Array(y),b=new Uint8Array(y),T=new Uint32Array(y);
_.Sm(d,4294967295,0);d[k]=0;var a=new hW(y);a.push(k,d[k]);var t={LY:g,qK:o,WS:d,qL:b,nJ:T,hb:a,afM:k};
return t};_.rV.dH=function(g,o){var k=g.LY,y=g.qK,d=g.WS,b=g.qL,T=g.nJ,a=g.hb;while(!a.on()&&(o==null||b[o]==0)){var t=a.pop();
b[t]=1;for(var m=0;m<8;m++){var j=k[8*t+m],e=t+j;if(j==0||b[e])continue;var v=d[t]+y[8*t+m];if(a.contains(e)&&v<d[e])a.remove(e,d[e]);
if(!a.contains(e)){d[e]=v;T[e]=t;a.push(e,d[e])}}}};function hW(g){this.CV=new Uint32Array(g);this.list=[];
this.kz=0;this.wj=4294967295}hW.prototype.on=function(){return this.kz==0};hW.prototype.push=function(g,o){var k=this.list;
if(k[o]==null)k[o]=[];k[o].push(g);this.kz++;this.CV[g]=k[o].length-1+1;this.wj=Math.min(this.wj,o)};
hW.prototype.pop=function(){this.kz--;var g=this.list,o=this.wj,k=g[o].pop();if(g[o].length==0)g[o]=null;
this.qz();this.CV[k]=0;return k};hW.prototype.contains=function(g){return this.CV[g]!=0};hW.prototype.remove=function(g,o){this.kz--;
var k=this.list,m=this.CV[g]-1;if(m==k[o].length-1)k[o].pop();else{var y=k[o].pop();k[o][m]=y;this.CV[y]=m+1}if(k[o].length==0)k[o]=null;
this.CV[g]=0;this.qz()};hW.prototype.qz=function(){if(this.kz==0){this.wj=4294967295;return}var g=this.wj,o=this.list;
while(o[g]==null)g++;this.wj=g};_.rV.a3j=function(g,o,k,y){var d=new Int16Array(y);for(var b=0;b<k;b++)for(var T=0;
T<o;T++){var m=b*o+T,a=0;if(1<T&&T<o-2&&1<b&&b<k-2){a+=g[m-o-o];a+=g[m-o-1]+2*g[m-o]+g[m-o+1];a+=g[m-2]+2*g[m-1]-16*g[m]+2*g[m+1]+g[m+2];
a+=g[m+o-1]+2*g[m+o]+g[m+o+1];a+=g[m+o+o]}else a=-16*g[m];d[m]=a}return d};_.rV.ae1=function(g,o,k,y){if(y==null)y=128;
var d=new Uint8Array(o*k);for(var b=1;b<k-1;b++)for(var T=1;T<o-1;T++){var m=b*o+T;d[m]=_.rV.ae5(g[m],g[m-1],g[m+1],g[m-o],g[m+o],y)}return d};
_.rV.ae5=function(g,o,k,y,d,b){var T=Math.abs(g);return g*o<0&&T<Math.abs(o)&&Math.abs(o-g)>b||g*k<0&&T<Math.abs(k)&&Math.abs(k-g)>b||g*y<0&&T<Math.abs(y)&&Math.abs(y-g)>b||g*d<0&&T<Math.abs(d)&&Math.abs(d-g)>b?1:0};
_.rV.a0_=function(g,o,k,y){var d=new Float32Array(y),b=0;new Uint32Array(y).fill(0);for(var T=0;T<k;
T++)for(var a=0;a<o;a++){var t=0,j=0,m=T*o+a,e=m*3;if(0<a&&a<o-1)t=g[m+1]-g[m-1];if(0<T&&T<k-1)j=g[m+o]-g[m-o];
var v=d[e+2]=Math.sqrt(t*t+j*j);if(v!=0){var L=1/v;d[e]=t*L;d[e+1]=j*L}if(v>b)b=v}var H=o*k,w=b==0?0:1/b;
for(var m=0;m<H;m++)d[m*3+2]=1-d[m*3+2]*w;return d};_.rV.azg=function(g,o,k){return k[~~((.5+.5*g)*255)]+k[~~((.5+.5*o)*255)]};
_.rV.aoc=function(g,o,k,y){var d=Date.now(),b=_.rV.a3j(g,o,k,y),T=_.rV.ae1(b,o,k),a=_.rV.a0_(g,o,k,y),t=new Float32Array(256);
for(var m=0;m<256;m++)t[m]=Math.acos(-1+2*m/255)*(.95/Math.PI);var j=[-1,0,1,1,1,0,-1,-1],e=[-1,-1,-1,0,1,1,1,0];
for(var m=0;m<8;m++){var v=1/Math.sqrt(j[m]*j[m]+e[m]*e[m]);j[m]*=v;e[m]*=v}var L=[j[0],e[0],j[1],e[1],j[2],e[2],j[3],e[3]],H=[-o-1,-o,-o+1,1],w=new Uint8Array(o*k*8);
new Uint32Array(w.buffer).fill(4294967295);var P=o*k;for(var Q=1;Q<k-1;Q++)for(var x=1;x<o-1;x++){var F=Q*o+x,E=1-T[F],f=a[F*3+2],c=a[3*F+1],M=-a[3*F];
for(var n=0;n<4;n++){var X=F+H[n];_.rV.abX(F,X,n,w,T,a,E,f,c,M,L,t)}}return w};_.rV.abX=function(g,o,k,y,d,b,T,a,t,j,e,v){var L=1-d[o],H=(k&1)==0?1:Math.SQRT1_2,w=b[o*3+2]*H,P=b[3*o+1],Q=-b[3*o],x=a*H,F=e[k+k],E=e[k+k+1],f=t*F+j*E,c=P*F+Q*E;
if(f+c<0){f=-f;c=-c}var M=_.rV.azg(f,c,v);y[(g<<3)+k]=_.rV.vh(L,M,w);y[(o<<3)+k+4]=_.rV.vh(T,M,x)};_.rV.vh=function(g,o,k){return 1+~~(.5+20*(.43*g+.43*o+.14*k))};
_.rV.a1X=function(g,o,k){var y=new Int16Array(k),d=y,m=0,b=0;new Uint32Array(k).fill(0);for(var T=0;
T<o;T++)for(var a=0;a<g;a++){if(T>0&&a>0)d[b+0]=-g-1;if(T>0)d[b+1]=-g;if(T>0&&a<g-1)d[b+2]=-g+1;if(a<g-1)d[b+3]=1;
if(T<o-1&&a<g-1)d[b+4]=g+1;if(T<o-1)d[b+5]=g;if(T<o-1&&a>0)d[b+6]=g-1;if(a>0)d[b+7]=-1;m++;b+=8}return y};
_.DH={};_.DH.Tb=function(g){var o=g.slice(0),k=0;for(var m=0;m<g.length;m++)k+=g[m];for(var m=0;m<g.length;
m++)o[m]/=k;return o};_.DH.FG=[_.DH.Tb([1,2,1,2,16,2,1,2,1]),_.DH.Tb([1,2,1,2,4,2,1,2,1]),_.DH.Tb([0,-1,0,-1,8,-1,0,-1,0]),_.DH.Tb([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
_.DH.lN=function(g,o,k,y,d,b,T,a){if(T==null)T=!1;if(a==null)a=!1;var t=Math.floor(Math.sqrt(d.length)),j=t-1>>>1,e=new Uint32Array(g.buffer),o=new Uint8ClampedArray(o.buffer);
for(var m=0;m<y;m++)for(var v=0;v<k;v++){var L=0,H=0,w=0,P=0;for(var Q=0;Q<t;Q++)for(var x=0;x<t;x++){var F=d[Q*t+x];
if(F==0)continue;var E=v-j+x,f=m-j+Q;if(E<0)E=0;else if(E>k-1)E=k-1;if(f<0)f=0;else if(f>y-1)f=y-1;if(a&&e[f*k+E]>>>24==0){f=m;
E=v}var c=e[f*k+E];L+=(c&255)*F;H+=(c>>>8&255)*F;w+=(c>>>16&255)*F;P+=(c>>>24&255)*F}if(T){if(L<0)L=-L;
if(H<0)H=-H;if(w<0)w=-w;if(P<0)P=-P}if(a){L=Math.max(0,Math.min(255,L));H=Math.max(0,Math.min(255,H));
w=Math.max(0,Math.min(255,w));P=Math.max(0,Math.min(255,P))}var M=m*k+v<<2;o[M]=~~(.5+L);o[M+1]=~~(.5+H);
o[M+2]=~~(.5+w);o[M+3]=255-b&o[M+3]|b&~~(.5+P)}};_.DH.Zf=function(g,o,k,y){var d=g.length,b=new Uint8Array(d);
_.DH.lN(g,o,k,y,_.DH.FG[4],0,!0);_.DH.lN(g,b,k,y,_.DH.FG[5],0,!0);for(var m=0;m<d;m+=4){var T=o[m],a=o[m+1],t=o[m+2],j=o[m+3],e=b[m],v=b[m+1],L=b[m+2],H=b[m+3];
o[m]=255-Math.max(0,Math.min(255,Math.sqrt(T*T+e*e)));o[m+1]=255-Math.max(0,Math.min(255,Math.sqrt(a*a+v*v)));
o[m+2]=255-Math.max(0,Math.min(255,Math.sqrt(t*t+L*L)))}};_.DH.l$=function(g,o,k,y){var d=g.length,b=new Uint8Array(d);
_.DH.vt(g,o,k,y,_.DH.FG[4],!0);_.DH.vt(g,b,k,y,_.DH.FG[5],!0);for(var m=0;m<d;m++){var T=o[m],a=b[m];
o[m]=255-Math.max(0,Math.min(255,Math.sqrt(T*T+a*a)))}};_.DH.vt=function(g,o,k,y,d,b){o=new Uint8ClampedArray(o.buffer);
var T=[-k-1,-k,-k+1,-1,0,1,k-1,k,k+1],a=y-1,t=k-1;for(var m=1;m<a;m++)for(var j=1;j<t;j++){var e=m*k+j,v=_.DH.BL(g,e,k,d);
if(b){if(v<0)v=-v}o[e]=~~(v+.5)}};_.DH.BL=function(g,o,k,y){return g[o-k-1]*y[0]+g[o-k]*y[1]+g[o-k+1]*y[2]+g[o-1]*y[3]+g[o]*y[4]+g[o+1]*y[5]+g[o+k-1]*y[6]+g[o+k]*y[7]+g[o+k+1]*y[8]};
_.DH.H7=function(g,o,k,y,d){var b=[-k-1,-k,-k+1,-1,0,1,k-1,k,k+1],T=y-1,a=k-1;for(var m=1;m<T;m++)for(var t=1;
t<a;t++){var j=m*k+t;o[j]=_.DH.a24(g,j,k,d)}};_.DH.a24=function(g,o,k,y){return g[o-k-1]*y[0]+g[o-k]*y[1]+g[o-k+1]*y[2]+g[o-1]*y[3]+g[o]*y[4]+g[o+1]*y[5]+g[o+k-1]*y[6]+g[o+k]*y[7]+g[o+k+1]*y[8]};
_.Cc={};_.Cc.bm=function(){function g(T,a,t,j,e,v,L){if(e==0){a.set(T);return}var H=_.Q(t*j),w=_.Q(t*j);
if(_.Yj(T)){o(T,a,t,j,e,v,L);var P=[_.Cc.eO,_.Cc.V5],Q=P.indexOf(v),x=Q!=-1?P[1-Q]:v;_.B4(T,H,3);_.Cc.RU(H,w,t,j,e,x,L);
_.e_(w,a,3)}else{for(var m=0;m<3;m++){_.B4(T,H,m);_.Cc.RU(H,w,t,j,e,v,L);_.e_(w,a,m)}}}function o(T,a,t,j,e,v,L){var H=0,w=new ArrayBuffer(512*4*3),P=[new Int32Array(w,0),new Int32Array(w,2048),new Int32Array(w,2*2048)],Q=1+2*Math.round(Math.sqrt(e)),x=Q>>>1,F=new Array(Q),E=new Array(Q);
for(var m=0;m<Q;m++){var w=new ArrayBuffer(512*4*3);F[m]=[new Int32Array(w,0),new Int32Array(w,2048),new Int32Array(w,2*2048)];
E[m]=F[m][0]}var f=v[0],c=v[1],M=P[0];for(var n=0;n<t;n++)if(n<e||n>t-e-Q-1){M.fill(0);var X=Math.max(n-e,0),u=Math.min(t,n+e+1),I=u-X;
for(var r=0;r<e;r++)y(M,T,r*t+X,r*t+u,1);for(var r=0;r<j;r++){var J=r-e-1,U=r+e;if(U<j)y(M,T,U*t+X,U*t+u,1);
if(J>=0)y(M,T,J*t+X,J*t+u,-1);var K=r*t+n<<2;H=M[300];if(H!=0)for(var m=0;m<3;m++)a[K+m]=f(P[m],T[K+m],H,L)}}else{for(var m=0;
m<Q;m++)E[m].fill(0);var X=n-e+x,u=n+e+1+x;for(var r=0;r<e;r++)k(E,T,r*t+X,r*t+u,1,x);for(var r=0;r<j;
r++){var J=r-e-1,U=r+e;if(J>=0)k(E,T,J*t+X,J*t+u,-1,x);if(U<j)k(E,T,U*t+X,U*t+u,1,x);var i=F[x];H=i[0][300];
for(var m=0;m<x;m++){var z=x-1-m,h=x+1+m,R=F[z],C=F[h],G=H+R[0][300],W=H+C[0][300],A=r*t+n+z<<2,$=r*t+n+h<<2;
if(G!=0)for(var O=0;O<3;O++)a[A+O]=c(i[O],R[O],T[A+O],G,L);if(W!=0)for(var O=0;O<3;O++)a[$+O]=c(i[O],C[O],T[$+O],W,L)}var K=r*t+n+x<<2;
if(H!=0)for(var O=0;O<3;O++)a[K+O]=f(i[O],T[K+O],H,L)}n+=Q-1}}function k(T,a,t,j,e,v){var L=d,H=t<<2,w=j<<2;
L(T[v-1],a,t-1<<2,e);L(T[v-1],a,j-1<<2,-e);L(T[v+1],a,j<<2,e);L(T[v+1],a,t<<2,-e);for(var m=1;m<v;m++){var P=T[v-m-1],Q=T[v+m+1];
for(var x=0;x<=m;x++){var F=x<<2;L(P,a,t-1-x<<2,e);L(P,a,j-1-x<<2,-e);L(Q,a,j+x<<2,e);L(Q,a,t+x<<2,-e)}}y(T[v],a,t,j,e)}function y(T,a,m,t,j){var e=m<<2,v=t<<2;
while(e<v){d(T,a,e,j);e+=4}}function d(T,a,t,j){var e=j*a[t+3];T[300]+=e;b(T,a[t],0,e);b(T,a[t+1],512,e);
b(T,a[t+2],1024,e)}function b(T,a,t,j){T[t|a]+=j;T[t|256|a>>>4]+=j}return g}();_.Cc.RU=function(){function g(v,L,H,w,P,Q,x){if(P==0){L.set(v);
return}if(P<=80)o(v,L,H,w,P,Q,x);else b(v,L,H,w,P,Q,x)}function o(v,L,H,w,P,Q,x){var F=0,E=new Int32Array(512),f=1+2*Math.round(Math.sqrt(P)),c=f>>>1,M=new Array(f);
for(var m=0;m<f;m++)M[m]=new Int32Array(512);var n=Q[0],X=Q[1];for(var u=0;u<H;u++)if(u<P||u>H-P-f-1){E.fill(0);
F=0;var I=Math.max(u-P,0),r=Math.min(H,u+P+1),J=r-I;for(var U=0;U<P;U++){F+=J;y(E,v,U*H+I,U*H+r,1)}for(var U=0;
U<w;U++){var K=U-P-1,i=U+P;if(K>=0){F-=J;y(E,v,K*H+I,K*H+r,-1)}if(i<w){F+=J;y(E,v,i*H+I,i*H+r,1)}var z=n(E,v[U*H+u],F,x);
L[U*H+u]=z}}else{for(var m=0;m<f;m++)M[m].fill(0);F=0;var I=u-P+c,r=u+P+1+c,J=r-I;for(var U=0;U<P;U++){F+=J;
k(M,v,U*H+I,U*H+r,1,c)}for(var U=0;U<w;U++){var K=U-P-1,i=U+P;if(K>=0){F-=J;k(M,v,K*H+I,K*H+r,-1,c)}if(i<w){F+=J;
k(M,v,i*H+I,i*H+r,1,c)}for(var m=0;m<c;m++){var h=c-1-m,R=c+1+m;L[U*H+u+h]=X(M[c],M[h],v[U*H+u+h],F,x);
L[U*H+u+R]=X(M[c],M[R],v[U*H+u+R],F,x)}L[U*H+u+c]=n(M[c],v[U*H+u+c],F,x)}u+=f-1}}function k(v,L,H,w,P,Q){var x=d;
x(v[Q-1],L[H-1],0,P);x(v[Q-1],L[w-1],0,-P);x(v[Q+1],L[w],0,P);x(v[Q+1],L[H],0,-P);for(var m=1;m<Q;m++){var F=v[Q-m-1],E=v[Q+m+1];
for(var f=0;f<=m;f++){x(F,L[H-1-f],0,P);x(F,L[w-1-f],0,-P);x(E,L[w+f],0,P);x(E,L[H+f],0,-P)}}y(v[Q],L,H,w,P)}function y(v,L,m,H,w){while(m<H)d(v,L[m++],0,w)}function d(v,L,H,w){v[H|L]+=w;
v[H|256|L>>>4]+=w}function b(v,L,H,w,P,Q,x){var F=0,E=new Int32Array(512),f=new Int32Array(1*H),c=new Int32Array(512*H),M=Math.min(P,H),n=Math.min(P,w),X=Q[0];
for(var u=0;u<n;u++)T(c,f,v,H,u,1);for(var u=0;u<w;u++){if(u+P<w)T(c,f,v,H,u+P,1);if(u-P-1>=0)T(c,f,v,H,u-P-1,-1);
E.fill(0);F=0;for(var I=0;I<M;I++){F+=f[I];a(E,c,I)}for(var I=0;I<H;I++){var r=I-P-1,J=I+P;if(r>=0&&f[r]!=0){F-=f[r];
t(E,c,r)}if(J<H&&f[J]!=0){F+=f[J];a(E,c,J)}var U=F==0?0:X(E,v[u*H+I],F,x);L[u*H+I]=U}}}function T(v,L,H,w,P,Q){var m=P*w;
for(var x=0;x<w;x++){d(v,H[m+x],x<<9,Q);L[x]+=Q}}function a(v,L,H){for(var m=0;m<16;m++){var w=L[H<<9|256|m];
if(w==0)continue;v[256|m]+=w;var P=m<<4,Q=H<<9|P;j(v,L,P,Q);j(v,L,P+4,Q+4);j(v,L,P+8,Q+8);j(v,L,P+12,Q+12)}}function t(v,L,H){for(var m=0;
m<16;m++){var w=L[H<<9|256|m];if(w==0)continue;v[256|m]-=w;var P=m<<4,Q=H<<9|P;e(v,L,P,Q);e(v,L,P+4,Q+4);
e(v,L,P+8,Q+8);e(v,L,P+12,Q+12)}}function j(v,L,H,w){v[H]+=L[w];v[H+1]+=L[w+1];v[H+2]+=L[w+2];v[H+3]+=L[w+3]}function e(v,L,H,w){v[H]-=L[w];
v[H+1]-=L[w+1];v[H+2]-=L[w+2];v[H+3]-=L[w+3]}return g}();_.Cc.V5=[function(g,o,k,y){var m=15;while(g[256|m]==0&&m>0)m--;
m=(m<<4)+15;while(g[m]==0&&m>0)m--;return m},function(g,o,k,y,d){var m=15;while(g[256|m]+o[256|m]==0&&m>0)m--;
m=(m<<4)+15;while(g[m]+o[m]==0&&m>0)m--;return m}];_.Cc.eO=[function(g,o,k,y){var m=0;while(g[256|m]==0&&m<15)m++;
m=m<<4;while(g[m]==0&&m<255)m++;return m},function(g,o,k,y,d){var m=0;while(g[256|m]+o[256|m]==0&&m<15)m++;
m=m<<4;while(g[m]+o[m]==0&&m<255)m++;return m}];_.Cc.g_=.5;_.Cc.YV=[function(g,o,k,y){var d=~~(.5+_.Cc.g_*k),b=0,m=256;
while(b+g[m]<d)b+=g[m++];m=m-256<<4;while(b<d)b+=g[m++];return m-1},function(g,o,k,y,d){var b=~~(.5+_.Cc.g_*y),T=0,m=256;
while(T+g[m]+o[m]<b){T+=g[m]+o[m];m++}m=m-256<<4;while(T<b){T+=g[m]+o[m];m++}return m-1}];_.Cc.Ir=[function(g,o,k,y){var d=y[0],b=0,T=0,m=Math.max(0,o-d),a=Math.min(256,o+d+1);
while(m<a){var t=g[m];b+=m*t;T+=t;m++}return T==0?0:b/T},function(g,o,k,y,d){var b=d[0],T=0,a=0,m=Math.max(0,k-b),t=Math.min(256,k+b+1);
while(m<t){var j=g[m]+o[m];T+=m*j;a+=j;m++}return a==0?0:T/a}];_.K={};_.K.wa=function(g){var o=D.C8.bh(g.Trnf),k=g.Sz.v,y=_.K.VH(o,new bd(0,0,k.Wdth.v,k.Hght.v));
return _.K.Ka(y)};_.K.VH=function(g,o){var k=g[0],y=g[1],d=g[2],b=g[3],T=g[6],a=g[7],t=g[4],j=g[5],e=0,v=0,L=1,H=0,w=0,P=1,Q=1,x=1;
if(o){e=o.x;v=o.y;L=o.x+o.m;H=o.y;w=o.x;P=o.y+o.n;Q=o.x+o.m;x=o.y+o.n}return _.K.B9(g,[e,v,L,H,Q,x,w,P])};
_.K.JH=function(g){function o(d,b){for(var m=0;m<b.length;m+=2)if(!k(d,b[m],b[m+1]))return!1;return!0}function k(d,b,T){return d[2*b]==d[2*T]&&d[2*b+1]==d[2*T+1]}var y=0;
if(o(g,[0,1,2,3]))y+=1;if(o(g,[0,3,1,2]))y+=2;return y};_.K.B9=function(g,o){function k(z,m,h){var U=z[m*2]-z[h*2],K=z[m*2+1]-z[h*2+1];
return Math.sqrt(U*U+K*K)}var y=g[0],d=g[1],b=g[2],T=g[3],a=g[6],t=g[7],j=g[4],e=g[5],v=o[0],L=o[1],H=o[2],w=o[3],P=o[6],Q=o[7],x=o[4],F=o[5],E=[[v,L,1,0,0,0,-v*y,-L*y,y],[0,0,0,v,L,1,-v*d,-L*d,d],[H,w,1,0,0,0,-H*b,-w*b,b],[0,0,0,H,w,1,-H*T,-w*T,T],[P,Q,1,0,0,0,-P*a,-Q*a,a],[0,0,0,P,Q,1,-P*t,-Q*t,t],[x,F,1,0,0,0,-x*j,-F*j,j],[0,0,0,x,F,1,-x*e,-F*e,e]],f=[0,0,0,0,0,0,0,0],c=_.DA.Ag(E,f);
if(c!=0){f=[0,0,0,0,0,0,0,0];var M=_.K.JH(g),n=_.K.JH(o);if(M==n&&M!=0){var X=M==1,u=X?3:1,I=k(g,0,u),r=k(o,0,u),J=r/I,U=g[2*u]-g[0],K=g[2*u+1]-g[1],i=new d3;
i.translate(-y,-d);i.rotate(Math.atan2(K,U)-(X?Math.PI/2:0));if(X)i.scale(1,J);else i.scale(J,1);i.translate(v,L);
i.TY();f=_.K.bn(i)}}return f};_.K.Q=function(g,o){if(g==null)g=o=0;return[1,0,g,0,1,o,0,0]};_.K.tM=function(g){return Math.abs(g[6])<1e-10&&Math.abs(g[7])<1e-10};
_.K.Ka=function(g){return new d3(g[0],g[3],g[1],g[4],g[2],g[5])};_.K.bn=function(g){return[g.Ng,g._I,g.ii,g.k,g.vP,g.xF,0,0]};
_.K.D=function(g,o){var k=new Float64Array(2);for(var y=0;y<o.length;y+=2){var d=o[y],b=o[y+1];_.K.WU(d,b,g,k);
o[y]=k[0];o[y+1]=k[1]}};_.K.WU=function(g,o,k,y){var d=1/(k[6]*g+k[7]*o+1);y[0]=(k[0]*g+k[1]*o+k[2])*d;
y[1]=(k[3]*g+k[4]*o+k[5])*d};_.K.awD=function(g,o){var k=new Float64Array(2);_.K.WU(o.x,o.y,g,k);return new bJ(k[0],k[1])};
_.K.gH=function(g,o,k,y){g=new Uint32Array(g.buffer);o=new Uint32Array(o.buffer);for(var d=0;d<y;d++){for(var b=0;
b<k;b++){o[b*y+d]=g[d*k+b]}}};_.K.fT=function(g,o,k,y){g=new Uint32Array(g.buffer);o=new Uint32Array(o.buffer);
for(var d=0;d<y;d++){for(var b=0;b<k;b++){o[d*k+b]=g[d*k+k-1-b]}}};_.K.a16=function(g,o,k,y){g=new Uint32Array(g.buffer);
o=new Uint32Array(o.buffer);for(var d=0;d<y;d++){for(var b=0;b<k;b++){o[d*k+b]=g[(y-1-d)*k+b]}}};_.K.AH=function(g){return Math.abs(g[6])<1e-9&&Math.abs(g[7])<1e-9};
_.K.bP=function(g){return Math.abs(g[0])<1e-9&&Math.abs(g[4])<1e-9||Math.abs(g[1])<1e-9&&Math.abs(g[3])<1e-9};
_.K.drawImage=function(g,o,k,y,d,b,T,a,t){if(T==null)T=!1;if(a==null)a=!1;var j=_.K.TY(g),e=!0,v=0;for(var m=0;
m<8;m++){var L=Math.round(g[m]);if(m!=2&&m!=5)v+=Math.abs(L);if(Math.abs(L-g[m])>1e-9)e=!1}var H=_.K.AH(g),w=_.K.bP(g)&&H,P=w?1:0;
if(T||e&&v==k+y&&H){_.K.a5R(j,o,k,y,d,b,a,H,t);return}var Q=b.m,x=b.n,F=new Float64Array(2);d=new Uint32Array(d.buffer);
o=new Uint32Array(o.buffer);for(var E=0;E<x;E++)for(var f=0;f<Q;f++){var c=E*Q+f,M,n,X,u,G=0,W=0,A=0,$=0;
d[c]=0;var I=f+b.x+.5,r=E+b.y+.5;M=I;n=r;X=j;var J=X[0]*M+X[1]*n+X[2],U=X[3]*M+X[4]*n+X[5];if(!H){u=1/(X[6]*M+X[7]*n+1);
J*=u;U*=u}var K=J*k,i=U*y,z=K<-1||K>k+1||i<-1||i>y+1;if(a){K=Math.max(.001,Math.min(k-1,K));i=Math.max(.001,Math.min(y-1,i))}else if(z)continue;
var h=_.K.axC(g,k,y,I,r,J,U),R=Math.round(h*2.3);if(h<1.1){_.K.VG(K,i,o,k,y,d,c,P);continue}if(!a&&(K<.6||K>k-.6||i<.6||i>y-.6)){R=Math.max(R,5)}if(a&&z)R=1;
var C=1/R,O=b.x+f,Y=b.y+E;X=j;for(var m=0;m<R;m++)for(var l=0;l<R;l++){M=O+(m+.5)*C;n=Y+(l+.5)*C;var K=X[0]*M+X[1]*n+X[2],i=X[3]*M+X[4]*n+X[5];
if(!H){u=1/(X[6]*M+X[7]*n+1);K*=u;i*=u}if(a){K=Math.max(.001,Math.min(.999,K));i=Math.max(.001,Math.min(.999,i))}else if(K<0||K>=1||i<0||i>=1)continue;
K=Math.floor(K*k);i=Math.floor(i*y);var B=i*k+K,f4=o[B],V=f4>>>24;G+=(f4&255)*V;W+=(f4>>>8&255)*V;A+=(f4>>>16&255)*V;
$+=V}if($!=0){var q=1/$;G=~~(G*q+.5);W=~~(W*q+.5);A=~~(A*q+.5);$=~~($*C*C+.5);d[c]=$<<24|A<<16|W<<8|G}}};
_.K.axC=function(g,o,k,y,d,b,T){var a=_.K.rz(g,y,d,b+1/o,T),t=_.K.rz(g,y,d,b,T+1/k);return 1/Math.sqrt(Math.max(a,t))};
_.K.rz=function(g,o,k,y,d){var b=1/(g[6]*y+g[7]*d+1),T=(g[0]*y+g[1]*d+g[2])*b-o,a=(g[3]*y+g[4]*d+g[5])*b-k;
return T*T+a*a};_.K.a5R=function(g,o,k,y,d,b,T,a,t){if(a&&!T&&b.O()>4e6&&t){_.K.avD(g,o,k,y,d,b,T,a,t);
return}var j=b.x+b.m,e=b.y+b.n,v=0,L=new Uint32Array(d.buffer),H=new Uint32Array(o.buffer),w=g[0]*k,P=g[1]*k,Q=g[2]*k,x=g[3]*y,F=g[4]*y,E=g[5]*y,f=g[6],c=g[7];
if(a&&!T)for(var M=b.y+.5;M<e;M++)for(var n=b.x+.5;n<j;n++){var X=w*n+P*M+Q,u=x*n+F*M+E;if(0<X&&X<k&&0<u&&u<y){var I=~~u*k+~~X;
L[v]=H[I]}else L[v]=0;v++}else for(var M=b.y+.5;M<e;M++)for(var n=b.x+.5;n<j;n++){var r=1/(f*n+c*M+1),X=(w*n+P*M+Q)*r,u=(x*n+F*M+E)*r;
if(T){X=Math.max(.001,Math.min(k-1,X));u=Math.max(.001,Math.min(y-1,u))}if(0<X&&X<k&&0<u&&u<y){var I=Math.floor(u)*k+Math.floor(X);
L[v]=H[I]}else L[v]=0;v++}};_.K.avD=function(g,o,k,y,d,b,T,a,t){var j=new Uint32Array(d.buffer),e=new Uint32Array(o.buffer),c=0;
if(t&&(b.m&3)!=0)throw"e";var v=g[0]*k,L=g[1]*k,H=g[2]*k,w=g[3]*y,P=g[4]*y,Q=g[5]*y,x=g[6],F=g[7],E=b.m,f=b.n,M=b.x+.5,n=b.y+.5,X=(E>>>2<<2)-1e-9,u=-.1+(f>>>1<<1)-1e-9,I=~~k,r=v==0?0:1/v,J=w==0?0:1/w;
for(var U=0;U<f;U++){var K=M*v+L*(U+n)+H,i=M*w+P*(U+n)+Q,z=0,h=E;if(v==0){}else if(r>0){z=Math.max(z,-K*r);
h=Math.min(h,(k-K)*r)}else{h=Math.min(h,-K*r);z=Math.max(z,(k-K)*r)}if(w==0){}else if(J>0){z=Math.max(z,-i*J);
h=Math.min(h,(y-i)*J)}else{h=Math.min(h,-i*J);z=Math.max(z,(y-i)*J)}if(h<0)h=0;if(z>h)z=h;z=Math.ceil(z);
h=~~h;c=~~(U*E);for(var R=0;R<z;R++)j[c++]=0;for(var R=z;R<h;R+=4){var C=v*R+K,G=w*R+i,W=~~G*I+~~C;j[c++]=j[c++]=j[c++]=j[c++]=e[W]}for(var R=h;
R<E;R++)j[c++]=0}};_.K.TY=function(g){var o=g[4]-g[5]*g[7],k=g[2]*g[7]-g[1],y=g[1]*g[5]-g[2]*g[4],d=g[5]*g[6]-g[3],b=g[0]-g[2]*g[6],T=g[3]*g[2]-g[0]*g[5],a=g[3]*g[7]-g[4]*g[6],t=g[1]*g[6]-g[0]*g[7],j=1/(g[0]*g[4]-g[1]*g[3]);
return[o*j,k*j,y*j,d*j,b*j,T*j,a*j,t*j]};_.K.x7=function(g,o){var k=g[0],y=g[1],d=g[2],b=g[3],T=g[4],a=g[5],t=g[6],j=g[7],e=o[0],v=o[1],L=o[2],H=o[3],w=o[4],P=o[5],Q=o[6],x=o[7],F=[k*e+y*H+d*Q,k*v+y*w+d*x,k*L+y*P+d,b*e+T*H+a*Q,b*v+T*w+a*x,b*L+T*P+a,t*e+j*H+Q,t*v+j*w+x],E=1/(t*L+j*P+1);
for(var m=0;m<8;m++)F[m]*=E;return F};_.K.VG=function(g,o,k,y,d,b,T,a){var t=g,j=o,L=0,H=0,w=0,P=0;g-=.499999;
o-=.499999;var e=Math.floor(g),v=Math.floor(o);if(a==0){var m=v*y+e,Q=e>=0&&e<y,x=e+1>=0&&e+1<y,F=v>=0&&v<d,E=v+1>=0&&v+1<d;
if(Q&&F)L=k[m];if(x&&F)H=k[m+1];if(Q&&E)w=k[m+y];if(x&&E)P=k[m+y+1]}else if(a==1){var f=e<0?0:e>y-1?y-1:e,c=e<-1?0:e>y-2?y-1:e+1,M=v<0?0:v>d-1?d-1:v,n=v<-1?0:v>d-2?d-1:v+1;
L=k[M*y+f];H=k[M*y+c];w=k[n*y+f];P=k[n*y+c]}else{var f=(e+50*y)%y,c=(e+50*y)%y,M=(v+50*d)%d,n=(v+50*d)%d;
L=k[M*y+f];H=k[M*y+c];w=k[n*y+f];P=k[n*y+c]}var X=g-e,u=o-v,I=(1-u)*(1-X)*(L>>>24),r=(1-u)*X*(H>>>24),J=u*(1-X)*(w>>>24),U=u*X*(P>>>24),K=I+r+J+U,i=I*(L&255)+r*(H&255)+J*(w&255)+U*(P&255),z=I*(L>>>8&255)+r*(H>>>8&255)+J*(w>>>8&255)+U*(P>>>8&255),h=I*(L>>>16&255)+r*(H>>>16&255)+J*(w>>>16&255)+U*(P>>>16&255);
if(K==0)b[T]=0;else{var R=1/K;i=~~(i*R+.5);z=~~(z*R+.5);h=~~(h*R+.5);K=~~(K+.5);b[T]=K<<24|h<<16|z<<8|i}};
_.K.o3=function(g,o,k,y,d,b){var T=g-.499999,a=o-.499999,t=~~T,j=~~a,e=T-t,v=a-j,L=(1-v)*(1-e),H=(1-v)*e,w=v*(1-e),P=v*e,Q=j*y+t<<2,x=(j+1)*y+t<<2,F=L*k[Q]+H*k[Q+4]+w*k[x]+P*k[x+4],E=L*k[Q+1]+H*k[Q+5]+w*k[x+1]+P*k[x+5],f=L*k[Q+2]+H*k[Q+6]+w*k[x+2]+P*k[x+6],c=L*k[Q+3]+H*k[Q+7]+w*k[x+3]+P*k[x+7];
b[0]=F;b[1]=E;b[2]=f;b[3]=c};_.K.i3=function(g,o,k,y,d){g-=.499999;o-=.499999;var b=Math.floor(g),T=Math.floor(o),a=g-b,t=o-T,j=(1-t)*(1-a),e=(1-t)*a,v=t*(1-a),L=t*a,H=(b+50*y)%y,w=(b+1+50*y)%y,P=(T+50*d)%d,Q=(T+1+50*d)%d,x=k[P*y+H],F=k[P*y+w],E=k[Q*y+H],f=k[Q*y+w];
if(x==null||f==null)throw"e";return j*x+e*F+v*E+L*f};_.K.ab0=function(g,o,k,y,d){g-=.499999;o-=.499999;
var b=Math.floor(g),T=Math.floor(o),a=g-b,t=o-T,j=(1-t)*(1-a),e=(1-t)*a,v=t*(1-a),L=t*a,H=T*y+b,w=H+y,P=k[H],Q=k[H+1],x=k[w],F=k[w+1];
if(P==null||F==null){console.log(b,T,y,d);throw"e"}return j*P+e*Q+v*x+L*F};_.K.wi=function(g,o,k,y,d,b,T,a,t,j,e,v){var L=new Uint32Array(g.buffer),H=new Uint32Array(y.buffer),w=(1+2*j)/d,P=[],Q=[];
for(var x=0;x<d;x++){var F=-.25+j-x*w;P.push(Math.cos(2*Math.PI*F)*v/e);P.push(Math.sin(2*Math.PI*F)/e)}T*=o;
a*=k;for(var E=0;E<b;E++){var f=Math.pow(E/b,t)*b;for(var x=0;x<d;x++){var c=T+P[x<<1]*f,M=a+P[(x<<1)+1]*f,n=~~(.5+(c<0?0:c>o-1?o-1:c)),X=~~(.5+(M<0?0:M>k-1?k-1:M));
H[E*d+x]=L[X*o+n]}}};_.K.Gi=function(g,o,k,y,d,b,T,a,t,j,e,v){var L=new Uint32Array(g.buffer),H=new Uint32Array(y.buffer),w=1/v,P=[],Q=k*4,x=1/Q;
for(var F=0;F<Q+10;F++)P.push(Math.pow(F*x,1/t)*k*e);T*=d;a*=b;for(var F=0;F<b;F++)for(var E=0;E<d;E++){var f=w*(E-T),c=F-a,M=1.75-Math.atan2(c,f)*(1/(2*Math.PI));
M=M-~~M;M=(M+j)*(1/(1+2*j));var n=Math.sqrt(f*f+c*c);n=P[~~(n*4)];_.K.VG(M*o+.5,n+.5,L,o,k,H,F*d+E,1)}};
_.K.RE=function(g,o,k,y,d){var b=d[0],T=d[1];for(var a=0;a<T;a++)for(var t=0;t<b;t++){var j=d[2]*t+d[3]*a+d[4],e=d[5]*t+d[6]*a+d[7],v=a*b+t<<2,L=e*o+j<<2;
y[v]=g[L+0];y[v+1]=g[L+1];y[v+2]=g[L+2];y[v+3]=g[L+3]}};_.M={YC:function(g,o){var k=~~(.499+g*o);return k<0?0:k>o?o:k},a9h:function(g,o,k,y,d,b,T,a){var t=k[0],j=k[1],e=k[2],v=k[3],L=y.m,H=y.n,w=new Float64Array(L*4+8),P=new Float64Array(L*4+8);
for(var Q=0,m=0;Q<H;Q++){var x=w;w=P;P=x;P.fill(0);for(var F=0;F<L;F++,m++){var E=F+d,f=Q+b,c=t*E+j*f,M=e*E+v*f,n=0,I=0;
if(a==0)n=c+.5;else if(a==1)n=2*Math.sqrt(c*c+M*M);else if(a==2)n=(Math.PI+Math.atan2(-M,-c))/(2*Math.PI);
else if(a==3)n=Math.abs(c*2);else if(a==4)n=2*(Math.abs(c)+Math.abs(M));var X=_.M.YC(n,T)*4,u=F*4;for(var r=0;
r<4;r++){var J=Math.max(0,Math.min(254.999,o[X+r]+w[u+4+r])),U=Math.floor(J);if(Math.random()<J-U)U++;
var K=J-U;w[u+8+r]=K*(7/16);P[u+0+r]=K*(3/16);P[u+4+r]=K*(5/16);P[u+8+r]=K*(1/16);I|=U<<r*8}g[m]=I}}},Of:[function(g,o,k,y,d,b,T){var a=k[0],t=k[1],j=k[2],e=k[3],v=y.m,L=y.n;
for(var H=0,m=0;H<L;H++)for(var w=0;w<v;w++,m++){var P=w+d,Q=H+b,x=a*P+t*Q,F=j*P+e*Q,E=x+.5;g[m]=o[_.M.YC(E,T)]}},function(g,o,k,y,d,b,T){var a=k[0],t=k[1],j=k[2],e=k[3],v=y.m,L=y.n;
for(var H=0,m=0;H<L;H++)for(var w=0;w<v;w++,m++){var P=w+d,Q=H+b,x=a*P+t*Q,F=j*P+e*Q,E=2*Math.sqrt(x*x+F*F);
g[m]=o[_.M.YC(E,T)]}},function(g,o,k,y,d,b,T){var a=k[0],t=k[1],j=k[2],e=k[3],v=y.m,L=y.n;for(var H=0,m=0;
H<L;H++)for(var w=0;w<v;w++,m++){var P=w+d,Q=H+b,x=a*P+t*Q,F=j*P+e*Q,E=(Math.PI+Math.atan2(-F,-x))/(2*Math.PI);
g[m]=o[_.M.YC(E,T)]}},function(g,o,k,y,d,b,T){var a=k[0],t=k[1],j=k[2],e=k[3],v=y.m,L=y.n;for(var H=0,m=0;
H<L;H++)for(var w=0;w<v;w++,m++){var P=w+d,Q=H+b,x=a*P+t*Q,F=j*P+e*Q,E=Math.abs(x*2);g[m]=o[_.M.YC(E,T)]}},function(g,o,k,y,d,b,T){var a=k[0],t=k[1],j=k[2],e=k[3],v=y.m,L=y.n;
for(var H=0,m=0;H<L;H++)for(var w=0;w<v;w++,m++){var P=w+d,Q=H+b,x=a*P+t*Q,F=j*P+e*Q,E=2*(Math.abs(x)+Math.abs(F));
g[m]=o[_.M.YC(E,T)]}}]};_.M.a3m=function(g,o){return g+.5};_.M.ac1=function(g,o){return 2*Math.sqrt(g*g+o*o)};
_.M.alf=function(g,o){return(Math.PI+Math.atan2(-o,-g))/(2*Math.PI)};_.M.aoY=function(g,o){return Math.abs(g*2)};
_.M.akz=function(g,o){return 2*(Math.abs(g)+Math.abs(o))};_.M.AE=function(g,o,k,y,d,b,T,a,t,j,e,v){var L=g.Clrs,H=new Uint32Array(o.buffer),w=1023,P=L?_.M._T(g,t,j):null;
if(v&&L){var Q=_.M.abn(g,P,w+1,T);_.M.a9h(H,Q,y,k,k.x-d,k.y-b,w,a)}else{var x=L?_.M.Mx(g,P,w+1,T):_.M.ul(g,w+1,T);
if(a<5){_.M.Of[a](H,x,y,k,k.x-d,k.y-b,w)}else{var F=new Uint8Array(x.buffer),E=k.m,f=k.n,c=e.Oy-e.et,M=1/c,n=e.Uy.m-k.m>>1,X=e.Uy.n-k.n>>1,u=e.Uy.m,I=-.6*M,r=(-.6+.4)*M,J=(-.6+2*.4)*M,U=(-.6+3*.4)*M;
for(var K=0,m=0;K<f;K++)for(var i=0;i<E;i++,m+=4){var z=0,h=0,R=0,C=0,G=(K+X)*u+i+n,W=(e.C4[G]-e.et)*M,A=0;
if(W<=0||W>=1){A=(W<=0?0:w)<<2;o[m]=F[A];o[m+1]=F[A+1];o[m+2]=F[A+2];o[m+3]=F[A+3];continue}A=Math.max(0,Math.min(w-1,Math.round((W+I)*w)))<<2;
h+=F[A];R+=F[A+1];C+=F[A+2];z+=F[A+3];A=Math.max(0,Math.min(w-1,Math.round((W+r)*w)))<<2;h+=F[A];R+=F[A+1];
C+=F[A+2];z+=F[A+3];A=Math.max(0,Math.min(w-1,Math.round((W+J)*w)))<<2;h+=F[A];R+=F[A+1];C+=F[A+2];z+=F[A+3];
A=Math.max(0,Math.min(w-1,Math.round((W+U)*w)))<<2;h+=F[A];R+=F[A+1];C+=F[A+2];z+=F[A+3];o[m]=h>>>2;
o[m+1]=R>>>2;o[m+2]=C>>>2;o[m+3]=z>>>2}}}};_.M._T=function(g,o,k){var y=[g.Clrs.v,g.Trns.v],d=[[],[]],b=255;
for(var T=0;T<2;T++)for(var m=0;m<y[T].length;m++){var a,t=y[T][m].v;if(T==0){var j=t.Type.v.Clry;if(j=="FrgC")a={o:o>>16&255,C:o>>8&255,k:o&255};
else if(j=="BckC")a={o:k>>16&255,C:k>>8&255,k:k&255};else a=_.M.sL(t.Clr.v)}else{a=t.Opct.v.val*(255/100);
if(a<b)b=a}d[T].push([a,t.Lctn.v/4096,t.Mdpn.v/100])}d.push(b>254);return d};_.M.sL=function(g){var o,k=g.classID;
if(k=="RGBC"){if(g.Rd)o={o:g.Rd.v,C:g.Grn.v,k:g.Bl.v};else o={o:g.redFloat.v*255,C:g.greenFloat.v*255,k:g.blueFloat.v*255}}else if(k=="HSBC"){o=_.YN(g.H.v.val/360,g.Strt.v/100,g.Brgh.v/100);
o.o*=255;o.C*=255;o.k*=255}else if(k=="CMYC"){var y=100-g.Cyn.v,d=100-g.Mgnt.v,b=100-g.Ylw.v,T=100-g.Blck.v,a=255*y*T*1e-4,t=255*(.2*y+.8*d)*T*1e-4,j=255*(.2*d+.8*b)*T*1e-4;
o={o:a,C:t,k:j}}else if(k=="Grsc")o={o:255-g.Gry.v,C:255-g.Gry.v,k:255-g.Gry.v};else if(k=="LbCl"){o=_.Mg(g.Lmnc.v,g.A.v,g.B.v)}else if(k=="BkCl")o={o:0,C:0,k:0};
else console.log(g);if(isNaN(o.o))o.o=o.C=o.k=0;return o};_.M.ul=function(g,o,k){var y=new Uint32Array(o),d=new Uint8Array(y.buffer);
y.fill(4278190080);var b=[],T=[],a=g.RndS.v,t=g.Smth.v/4096;for(var m=0;m<4;m++){b[m]=~~(g.Mnm.v[m].v*255/100);
T[m]=~~(g.Mxm.v[m].v*255/100)}var j=_.Q(o*4),e=_.Q(o);for(var v=0;v<3;v++){_.B.IB(null,o,1,j,[1+Math.round(t*t*t*60),22,a*(2+v)]);
_.B4(j,e,0);_.e_(e,d,v);var L=b[v],H=T[v];for(var m=0;m<o;m++)d[4*m+v]=Math.max(L,Math.min(H,d[4*m+v]))}if(k)for(var m=0;
m<o/2;m++){var w=y[m];y[m]=y[o-1-m];y[o-1-m]=w}return y};_.M.UF=function(g){return{classID:"RGBC",Rd:{t:"doub",v:g.o},Grn:{t:"doub",v:g.C},Bl:{t:"doub",v:g.k}}};
_.M.abn=function(g,o,k,y){var d=[],b=1/(k-0);for(var m=0;m<k;m++){var T=m*4,a=_.M.NA(g,o,(y?k-1-m:m)*b);
d[T]=a[0];d[T+1]=a[1];d[T+2]=a[2];d[T+3]=a[3]}return d};_.M.Mx=function(g,o,k,y){var d=new Uint32Array(k),b=1/(k-0);
for(var m=0;m<k;m++)d[m]=_.M.Xu(g,o,(y?k-1-m:m)*b);return d};_.M.NA=function(g,o,k){var y=g.Intr.v*(1/4096),d=o[0],b=o[1],T=d.length-1,a=b.length-1,m=-1,t=0,j=0,e=0,v=0;
if(o[2])t=255;else{while(m<a&&b[m+1][1]<=k)m++;if(m==-1){t=b[0][0]}else if(m==a){t=b[m][0]}else{var L=_.M.k2(b,m,k,y);
t=L*b[m][0]+(1-L)*b[m+1][0]}}m=-1;while(m<T&&d[m+1][1]<=k)m++;if(m==-1){var H=d[0][0];j=H.o;e=H.C;v=H.k}else if(m==T){var H=d[m][0];
j=H.o;e=H.C;v=H.k}else{var w=d[m][0],P=d[m+1][0],Q=_.M.k2(d,m,k,y);j=Q*w.o+(1-Q)*P.o;e=Q*w.C+(1-Q)*P.C;
v=Q*w.k+(1-Q)*P.k}return[j,e,v,t]};_.M.Xu=function(g,o,k){var y=_.M.NA(g,o,k),d=~~(.5+y[0]),b=~~(.5+y[1]),T=~~(.5+y[2]),a=~~(.5+y[3]);
return a<<24|T<<16|b<<8|d};_.M.k2=function(g,m,o,k){if(g.length==2)k*=.5;var y=g[m][1],d=g[m+1][1],b=y+g[m+1][2]*(d-y),T;
if(o<b)T=.5*(o-y)/(b-y);else T=.5+.5*(o-b)/(d-b);T=.5+.5*(k*Math.cos(Math.PI*T)+(1-k)*(1-2*T));return T};
_.M.eF=function(g,o){var k=Math.PI*g.Angl.v.val/180,y=g.Scl.v.val/100,d=g.Ofst.v,b=d.Hrzn.v.val/100,T=d.Vrtc.v.val/100,a=Math.cos(k),t=-Math.sin(k),j=.5*o.n,e=j*(a/t),v=Math.sqrt(j*j+e*e),L=.5*o.m,H=L*(t/a),w=Math.sqrt(L*L+H*H),P=Math.min(v,w)*y,Q=o.x+o.m/2+b*o.m,x=o.y+o.n/2+T*o.n;
return[new bJ(Q,x),new bJ(Q+a*P,x+t*P)]};_.M._j=function(g,o,k,y){var d=o.x-g.x,b=-(o.y-g.y),T=Math.sqrt(d*d+b*b),a=Math.atan2(b,d),t=Math.cos(a),j=-Math.sin(a),e=.5*k.n,v=e*(t/j),L=Math.sqrt(e*e+v*v),H=.5*k.m,w=H*(j/t),P=Math.sqrt(H*H+w*w),Q=T/Math.min(L,P),x=(g.x-k.x-k.m/2)/k.m,F=(g.y-k.y-k.n/2)/k.n;
y.Angl.v.val=180*a/Math.PI;y.Scl.v.val=Q*100;var E=y.Ofst.v;E.Hrzn.v.val=x*100;E.Vrtc.v.val=F*100};_.M.Dd=function(g,o){for(var m=0;
m<g.length;m++){var k=g[m],y=Math.round(k[0]*4096),d=k[1],b=k[2],T=k[3];if(b==null)b=1;if(T==null)T=.5;
var a=_.M.UF({o:d[0]*255,C:d[1]*255,k:d[2]*255});o.Clrs.v[m]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:y},Mdpn:{t:"long",v:Math.round(T*100)},Clr:{t:"Objc",v:a},Type:{t:"enum",v:{Clry:"UsrS"}}}};
o.Trns.v[m]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:y},Mdpn:{t:"long",v:Math.round(T*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(b*100)}}}}}};
_.M.sK=function(g,o,k){function y(H){return parseFloat((H/255).toFixed(3))}if(o){g=JSON.parse(JSON.stringify(g));
for(var m=0;m<2;m++){var d=g[m==0?"Clrs":"Trns"].v;for(var b=0;b<d.length;b++)d[b].v.Lctn.v=4096-d[b].v.Lctn.v;
d.reverse()}}var T=[],a=g.Clrs.v,t=g.Trns.v,d=a;if(k!=!0)d=a.concat(t);var j=_.M._T(g,0,0);for(var m=0;
m<d.length;m++){var e=d[m].v,v=e.Lctn.v/4096,L=_.M.NA(g,j,v);T.push([v,[y(L[0]),y(L[1]),y(L[2])],y(L[3])])}T.sort(function(H,w){return H[0]-w[0]});
for(var m=1;m<T.length;m++)if(T[m][0]-T[m-1][0]<.001){T.splice(m,1);m--}return T};_.xK={};_.xK.lS=function(g,o,k,y,d,b,T,a,t,j,e,v){var L,H,w,P=Date.now(),Q=!1,x=T,F=j,E,f,c,M,n=b*255,X=255-t*255,u=1+d*6,I=1+a*6,r=1+v*4,J=(r-1)/7,U=0,K=255-0,i,z,h,R,C,G,W,A,$,O,Y,l,B,f4=0,V=1,q,s,cW,dk,kr,j9,bh,fe,gg,a$,dg=1+e,iv,aQ=_.Q(k*y),dt=_.Q(k*y),hY=_.Q(k*y),b9=_.Q(k*y),i0=255/n,gD=255/(255-X);
for(H=0;H<y;H++){for(L=0;L<k;L++){var m=H*k+L,hU=m<<2;q=_.pM(g[hU],g[hU+1],g[hU+2]);b9[m]=q;if(q<n)aQ[m]=255-q*i0;
if(q>X)dt[m]=255-(255-q)*gD}}if(Q)console.log("init",Date.now()-P);P=Date.now();if(d*x>0){hY.set(aQ);
_.tI.fw(hY,aQ,new bd(0,0,k,y),x)}if(a*F>0){hY.set(dt);_.tI.fw(hY,dt,new bd(0,0,k,y),F)}if(Q)console.log("blur",Date.now()-P);
P=Date.now();var aW=_.Q(256),be=_.Q(256);for(var m=0;m<256;m++){var hv=m*(1/255),b3=0;b3=(1-Math.pow(1-hv,u))*255;
aW[m]=Math.max(0,Math.min(255,~~(b3+.5)));b3=Math.pow(hv,I)*255;be[m]=Math.max(0,Math.min(255,~~(b3+.5)))}var gT=new Uint8ClampedArray(o.buffer),bO=new Float32Array(32768);
for(var m=0;m<32768;m++){iv=Math.sqrt(m)*(1/128);if(dg>1)iv=(1-iv)*(dg-1)+1;else iv=iv*(dg-1)+1;bO[m]=iv}for(H=0;
H<y;H++){for(L=0;L<k;L++){var m=H*k+L,hU=m<<2,b3=b9[m],kf=aQ[m]*(1/255),iY=dt[m]*(1/255);b3=(1-kf)*b3+kf*aW[~~b3];
b3=(1-iY)*b3+iY*be[~~b3];q=b3;var gs=g[hU],c1=g[hU+1],gK=g[hU+2];s=-gs*.168736-c1*.331264+gK*.5;cW=gs*.5-c1*.418688-gK*.081312;
iv=bO[~~(.5+s*s+cW*cW)];dk=s*iv;j9=cW*iv;V=1-Math.min(2-(kf+iY),1);s=V*s+(1-V)*dk;cW=V*cW+(1-V)*j9;fe=q+1.402*cW;
gg=q-.34414*s-.71414*cW;a$=q+1.772*s;gT[hU]=~~(.5+fe);gT[hU+1]=~~(.5+gg);gT[hU+2]=~~(.5+a$)}}if(Q)console.log("apply masks",Date.now()-P);
P=Date.now()};_.wd={};_.wd.Ve=function(g,o,k,y,d){var b=!1,w=1,z=0,h=0,Y=0,dg=0;if(!o.IK(d)){var T=o.gO(d),a=_.Q(T.O()*4);
_.g1(g,o,a,T);g=a;o=T}var t=_.Q(o.O());_.sQ(k,d,t,o);_.round(t);d=d.Nm(o);var j=d.m,e=d.n,v=j*3<e?2:1,L=e*3<j?2:1;
if(d.O()*(v*2+1)*(L*2+1)<o.O()){var T=new bd(d.x-j*v,d.y-e*v,j*(v*2+1),e*(L*2+1)).Nm(o),a=_.Q(T.O()*4);
_.g1(g,o,a,T);var H=_.Q(T.O());_.sQ(t,o,H,T);o=T;g=a;t=H}while((o.m+o.n)/2/w>400)w++;var P=g,Q=o,x=t,F=Math.floor(Q.m/w),E=Math.floor(Q.n/w);
g=_.Q(F*E*4);_.scale.pX(P,Q.m,Q.n,g,F,E,1/w);t=_.Q(F*E);_.scale.RE(x,Q.m,Q.n,t,F,E,1/w);_.round(t,1);
var f=_.P8(t,new bd(0,0,F,E));if(f.on())return 1;var n=Math.round((f.m+f.n)/2/15),X=Date.now(),u=_.Q(F*E*4);
_.ahH(g,u);var I=Int16Array,r=new I(F*E*24),J=new I(64),U=new I(64),K=new I(64),i=new I(64);for(var R=3;
R<E-4;R++)for(var C=3;C<F-4;C++){var G=R*F+C;if(t[G]==255)continue;if(_.wd.atf(u,t,C,R,F,E,J,U,K)!=0)continue;
_.wd.G6(J,i);r[z]=C;r[z+1]=R;_.wd.QF(J,r,z+4,12);z+=16;_.wd.G6(U,i);_.wd.QF(U,r,z,4);z+=4;_.wd.G6(K,i);
_.wd.QF(K,r,z,4);z+=4;var W=r[z-24+5],A=r[z-24+6];r[z-24+5]=r[z-24+20];r[z-24+6]=r[z-24+16];r[z-24+16]=W;
r[z-24+20]=A;h++}if(h==0)return 2;if(b)console.log(Date.now()-X,"FWHT computed");X=Date.now();var $=[];
_.wd.A_(0,h-1,$,r,new I(2*24));if(b)console.log(Date.now()-X,"KD tree computed");X=Date.now();var O=new Float32Array(F*E*4);
for(var m=0;m<h;m++){var l=m,B=_.wd.awY(l,r,$,n);if(B==-1)continue;var f4=l*24,V=B*24,q=r[f4],s=r[f4+1],cW=r[V],dk=r[V+1];
Y+=_.wd.getError(V,f4,r,1e99);var kr=cW-q,j9=dk-s;O[(E+j9)*2*F+(F+kr)]+=1}if(b)console.log(Date.now()-X,"NN found");
X=Date.now();var bh=[],fe=1/(2*F);for(var m=0;m<O.length;m++){if(O[m]>0){var R=Math.floor(m*fe),C=m-R*2*F;
bh.push({x:C-F,y:R-E,Z:O[m],KB:-1})}}bh.sort(function(kf,iY){return iY.Z-kf.Z});var gg=new Int32Array(F*E),a$=[];
for(var m=0;m<F*E;m++){if(t[m]==255){gg[m]=dg;a$.push(m%F,Math.floor(m/F));dg++}else if(g[(m<<2)+3]<200){gg[m]=-2}else{gg[m]=-1}}var iv=_.wd.al_(F,E,bh,gg,a$,dg);
if(iv==null){return 3}var aQ=iv.nr,top=iv.top;aQ=_.wd.a9m(aQ,g,F,E,top,gg,a$,dg);if(b)console.log(Date.now()-X,"optimal labeling found");
X=Date.now();var T=d.clone();T.pK(1,1);T=T.Nm(Q);var dt=_.Q(T.O()*4),hY=_.Q(T.O());_.g1(P,Q,dt,T);var b9=Q.m,i0=Q.n;
for(var R=0;R<i0;R++)for(var C=0;C<b9;C++){if(x[R*b9+C]==0)continue;var gD=Math.min(Math.floor(C/w),F-1),hU=Math.min(Math.floor(R/w),E-1),aW=gg[hU*F+gD];
if(aW==-1)continue;var be=aQ[aW],hv=top[be],b3=C+hv.x*w,gT=R+hv.y*w,aB=gT*b9+b3<<2,bO=(R-T.y+Q.y)*T.m+(C-T.x+Q.x)<<2;
dt[bO]=P[aB];dt[bO+1]=P[aB+1];dt[bO+2]=P[aB+2];dt[bO+3]=P[aB+3];dt[bO+3]=P[aB+3];hY[bO>>2]=be+1}if(b)console.log(Date.now()-X,"copied back");
X=Date.now();_.X_.Ve(dt,hY,T,null,1e3);if(b)console.log(Date.now()-X,"poisson smooth");X=Date.now();
_.g1(dt,T,y,d);return 0};_.wd.hU=function(g,o,k,y,d,b){return _.wd.V4(g+d.x,o+d.y,k,y)&&b[(o+d.y)*k+(g+d.x)]==-1?0:1e9};
_.wd.a9m=function(g,o,k,y,top,d,b,T){var a=Date.now(),t=[-1,0,0,-1,1,0,0,1],j=1e99,e=[],v=[],L=2*(T*2*3+T*2),H=null,w=0,P=0,Q=0,x=1e99;
while(!0&&Date.now()<a+12e3){Q++;var F=null,E=j;for(var f=0;f<top.length;f++){var c=top[f],M=0,n=T+2,X=0;
for(var m=0;m<T;m++){var u=b[m*2],I=b[m*2+1],r=top[g[m]],J=_.wd.hU(u,I,k,y,c,d),U=g[m]==f?1e9:_.wd.hU(u,I,k,y,r,d);
for(var cy=0;cy<4;cy++){if(cy==0&&u==0||cy==1&&I==0||cy==2&&u==k-1||cy==3&&I==y-1)continue;var K=t[2*cy],i=t[2*cy+1],z=u+K,h=I+i,R=d[h*k+z];
if(R==-2){}else if(R==-1){J+=3*_.wd.Ft(z+c.x,h+c.y,z,h,k,y,o,d);J+=2*_.wd.Ft(z+c.x+K,h+c.y+i,z+K,h+i,k,y,o,d);
U+=3*_.wd.Ft(z+r.x,h+r.y,z,h,k,y,o,d);U+=2*_.wd.Ft(z+r.x+K,h+r.y+i,z+K,h+i,k,y,o,d)}else if(cy>1){if(g[m]==g[R]){var C=0;
C+=_.wd.Ft(u+r.x,I+r.y,u+c.x,I+c.y,k,y,o,d);C+=_.wd.Ft(z+r.x,h+r.y,z+c.x,h+c.y,k,y,o,d);e[M]=m;e[M+1]=R;
v[M]=C;v[M+1]=C;M+=2}else{var G=top[g[R]],W=n,A=0,$=0,O=0;n++;A+=_.wd.Ft(u+r.x,I+r.y,u+c.x,I+c.y,k,y,o,d);
A+=_.wd.Ft(z+r.x,h+r.y,z+c.x,h+c.y,k,y,o,d);$+=_.wd.Ft(u+G.x,I+G.y,u+c.x,I+c.y,k,y,o,d);$+=_.wd.Ft(z+G.x,h+G.y,z+c.x,h+c.y,k,y,o,d);
O+=_.wd.Ft(u+G.x,I+G.y,u+r.x,I+r.y,k,y,o,d);O+=_.wd.Ft(z+G.x,h+G.y,z+r.x,h+r.y,k,y,o,d);e[M]=m;e[M+1]=W;
v[M]=A;v[M+1]=A;M+=2;e[M]=R;e[M+1]=W;v[M]=$;v[M+1]=$;M+=2;e[M]=W;e[M+1]=T+1;v[M]=O;v[M+1]=0;M+=2}}}e[M]=T;
e[M+1]=m;v[M]=J;v[M+1]=0;M+=2;e[M]=m;e[M+1]=T+1;v[M]=U;v[M+1]=0;M+=2;X+=Math.min(J,U)}if(X>E)continue;
var Y=_.il.Ag(n,M,T,T+1,e,v,E);if(Y.WS<E){E=Y.WS;var l=g.slice(0);_.wd.asz(l,M,e,Y.w$,f,T);F=l}}if(E*1>=j){break}j=E;
g=F;if((Q&3)==0){if(E*1.03>=x)break;x=E}if((Q&3)==0){var B=0*top.length;for(var m=0;m<top.length&&top.length>B;
m++){if(g.indexOf(m)!=-1)continue;top.splice(m,1);for(var R=0;R<g.length;R++)if(g[R]>m)g[R]--;m--}}}return g};
_.wd.asz=function(g,o,k,y,d,b){for(var m=0;m<y.length;m++){var T=y[m]<<1,a=0,t=0;if(T<o){a=k[T];t=k[T+1]}else{t=k[T];
a=k[T+1]}if(a==b&&g[t]!=d)g[t]=d}};_.wd.Vg=function(top,g,o,k,y,d,b,T,a){for(var m=0;m<o.length;m++){var t=o[m],j=!0;
if(T!=null&&!(_.wd.V4(T+t.x,a+t.y,d,b)&&k[d*(a+t.y)+T+t.x]==-1))continue;if(t.KB==-1)t.KB=_.wd.au7(t,k,y,d,b);
if(t.KB<=0)continue;for(var e=0;e<top.length;e++){var v=top[e],L=t.x-v.x,H=t.y-v.y;if(L*L+H*H<g){j=!1;
break}}if(j)return t}return null};_.wd.au7=function(g,o,k,y,d){var b=0;for(var m=0;m<k.length;m+=2){var T=k[m]+g.x,a=k[m+1]+g.y;
if(_.wd.V4(T,a,y,d)&&o[y*a+T]==-1)b++}return b/(k.length>>1)};_.wd.al_=function(g,o,k,y,d,b){var top=[];
for(var m=0;m<60;m++){var T=_.wd.Vg(top,25,k,y,d,g,o);if(T==null)break;else top.push(T)}if(top.length==0)return null;
var a=[];for(var m=0;m<b;m++){var t=d[m*2],j=d[m*2+1],e=-1,v=0;while(!0){v++;var L=Math.random();e=Math.floor(L*.99999*top.length);
var H=top[e],w=t+H.x,P=j+H.y;if(_.wd.V4(w,P,g,o)&&y[P*g+w]==-1)break;if(v>100){var T;T=_.wd.Vg(top,0,k,y,d,g,o,t,j);
if(T==null)return null;top.push(T);v=0}}a.push(e)}return{top:top,nr:a}};_.wd.Ft=function(g,o,k,y,d,b,T,a){if(g==k&&o==y)return 0;
if(g<0||o<0||g>=d||o>=b||k<0||y<0||k>=d||y>=b||a[o*d+g]!=-1||a[y*d+k]!=-1)return 1e7;var t=o*d+g<<2,j=y*d+k<<2,e=T[t]-T[j],v=T[t+1]-T[j+1],L=T[t+2]-T[j+2];
return 1+(e*e+v*v+L*L)};_.wd.V4=function(g,o,k,y){return g>=0&&g<k&&o>=0&&o<y};_.wd.awY=function(g,o,k,y){var d=24*g,b=o[d],T=o[d+1],a=y*y,t=0,L=1e9;
while(k[t]!=99)if(o[d+k[t]]<k[t+1])t=k[t+2];else t=k[t+3];var j=k[t+1],e=k[t+2],v=-1;for(var m=j;m<=e;
m++){var t=m,H=t*24,w=o[H],P=o[H+1];if((w-b)*(w-b)+(P-T)*(P-T)<a)continue;var Q=_.wd.getError(H,d,o,L);
if(Q<L){L=Q;v=t}}return v};_.wd.getError=function(g,o,k,y){var d=0;for(var b=4;b<24;b+=4){var T=k[o+b]-k[g+b],a=k[o+b+1]-k[g+b+1],t=k[o+b+2]-k[g+b+2],j=k[o+b+3]-k[g+b+3];
d+=T*T+a*a+t*t+j*j;if(d>=y)return d+1}return d};_.wd.A_=function(g,o,k,y,d){var b=16,L=0;if(o-g<=b){k.push(99,g,o);
return}_.wd.AU(g,o,y,d);var T=-1,a=-1;for(var m=4;m<24;m++){var t=d[2*m+1]-d[2*m];if(t>a){a=t;T=m}}var j=g+o>>1,e=_.wd.at3(j,g,o,y,T),v=-1;
for(var m=g;m<=o;m++)if(y[24*m+T]==e){if(v==-1)v=m;L=m}if(g+8<v&&v-g>o-L)j=v;else if(L+1<o-8)j=L+1;else if(o-g<64){k.push(99,g,o);
return}else j=j;var H=k.length;k.push(T,e,0,0);k[H+2]=H+4;_.wd.A_(g,j-1,k,y,d);k[H+3]=k.length;_.wd.A_(j,o,k,y,d)};
_.wd.AU=function(g,o,k,y){for(var m=0;m<48;m+=4){y[m]=3e4;y[m+1]=-3e4;y[m+2]=3e4;y[m+3]=-3e4}for(var m=g;
m<=o;m++){var d=m*24;for(var b=0;b<24;b++){var T=k[d+b],a=y[b<<1],t=y[(b<<1)+1];if(T<a)y[b<<1]=T;if(T>t)y[(b<<1)+1]=T}}};
_.wd.jb=function(g,o,k){var y=0,m=0;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;
m++;y=k[g+m];k[g+m]=k[o+m];k[o+m]=y;m++};_.wd.H4=function(g,o,k,y){var d=k+y>>>1,b=g[24*d+o];while(k<=y){while(g[24*k+o]<b)k++;
while(g[24*y+o]>b)y--;if(k<=y){if(g[24*k+o]!=g[24*y+o])_.wd.jb(k*24,y*24,g);k++;y--}}return k};_.wd.at3=function(g,o,k,y,d){var b=0;
while(o!=k){b=_.wd.H4(y,d,o,k);if(g<b)k=b-1;else o=b}return y[g*24+d]};_.wd.QF=function(g,o,k,y){for(var m=0;
m<y;m++)o[k+m]=g[m]};_.wd.atf=function(g,o,k,y,d,b,T,a,t){var j=(y-3)*d+(k-3),e=j<<2;for(var v=0;v<8;
v++){if(o[j]+o[j+1]+o[j+2]+o[j+3]+o[j+4]+o[j+5]+o[j+6]+o[j+7]!=0||g[e+3]<200||g[e+7]<200||g[e+11]<200||g[e+15]<200||g[e+19]<200||g[e+23]<200||g[e+27]<200||g[e+31]<200)return 1;
var m=v<<3;T[m+0]=g[e+0];a[m+0]=g[e+1];t[m+0]=g[e+2];T[m+1]=g[e+4];a[m+1]=g[e+5];t[m+1]=g[e+6];T[m+2]=g[e+8];
a[m+2]=g[e+9];t[m+2]=g[e+10];T[m+3]=g[e+12];a[m+3]=g[e+13];t[m+3]=g[e+14];T[m+4]=g[e+16];a[m+4]=g[e+17];
t[m+4]=g[e+18];T[m+5]=g[e+20];a[m+5]=g[e+21];t[m+5]=g[e+22];T[m+6]=g[e+24];a[m+6]=g[e+25];t[m+6]=g[e+26];
T[m+7]=g[e+28];a[m+7]=g[e+29];t[m+7]=g[e+30];e+=d<<2;j+=d}return 0};_.wd.G6=function(g,o){o[0]=g[32]+g[0];
o[1]=g[33]+g[1];o[2]=g[34]+g[2];o[3]=g[35]+g[3];o[4]=g[36]+g[4];o[5]=g[37]+g[5];o[6]=g[38]+g[6];o[7]=g[39]+g[7];
o[8]=g[40]+g[8];o[9]=g[41]+g[9];o[10]=g[42]+g[10];o[11]=g[43]+g[11];o[12]=g[44]+g[12];o[13]=g[45]+g[13];
o[14]=g[46]+g[14];o[15]=g[47]+g[15];o[16]=g[48]+g[16];o[17]=g[49]+g[17];o[18]=g[50]+g[18];o[19]=g[51]+g[19];
o[20]=g[52]+g[20];o[21]=g[53]+g[21];o[22]=g[54]+g[22];o[23]=g[55]+g[23];o[24]=g[56]+g[24];o[25]=g[57]+g[25];
o[26]=g[58]+g[26];o[27]=g[59]+g[27];o[28]=g[60]+g[28];o[29]=g[61]+g[29];o[30]=g[62]+g[30];o[31]=g[63]+g[31];
o[32]=g[0]-g[32];o[33]=g[1]-g[33];o[34]=g[2]-g[34];o[35]=g[3]-g[35];o[36]=g[4]-g[36];o[37]=g[5]-g[37];
o[38]=g[6]-g[38];o[39]=g[7]-g[39];o[40]=g[8]-g[40];o[41]=g[9]-g[41];o[42]=g[10]-g[42];o[43]=g[11]-g[43];
o[44]=g[12]-g[44];o[45]=g[13]-g[45];o[46]=g[14]-g[46];o[47]=g[15]-g[47];o[48]=g[16]-g[48];o[49]=g[17]-g[49];
o[50]=g[18]-g[50];o[51]=g[19]-g[51];o[52]=g[20]-g[52];o[53]=g[21]-g[53];o[54]=g[22]-g[54];o[55]=g[23]-g[55];
o[56]=g[24]-g[56];o[57]=g[25]-g[57];o[58]=g[26]-g[58];o[59]=g[27]-g[59];o[60]=g[28]-g[60];o[61]=g[29]-g[61];
o[62]=g[30]-g[62];o[63]=g[31]-g[63];g[0]=o[16]+o[0];g[1]=o[17]+o[1];g[2]=o[18]+o[2];g[3]=o[19]+o[3];
g[4]=o[20]+o[4];g[5]=o[21]+o[5];g[6]=o[22]+o[6];g[7]=o[23]+o[7];g[8]=o[24]+o[8];g[9]=o[25]+o[9];g[10]=o[26]+o[10];
g[11]=o[27]+o[11];g[12]=o[28]+o[12];g[13]=o[29]+o[13];g[14]=o[30]+o[14];g[15]=o[31]+o[15];g[16]=o[0]-o[16];
g[17]=o[1]-o[17];g[18]=o[2]-o[18];g[19]=o[3]-o[19];g[20]=o[4]-o[20];g[21]=o[5]-o[21];g[22]=o[6]-o[22];
g[23]=o[7]-o[23];g[24]=o[8]-o[24];g[25]=o[9]-o[25];g[26]=o[10]-o[26];g[27]=o[11]-o[27];g[28]=o[12]-o[28];
g[29]=o[13]-o[29];g[30]=o[14]-o[30];g[31]=o[15]-o[31];o[0]=g[8]+g[0];o[1]=g[9]+g[1];o[2]=g[10]+g[2];
o[3]=g[11]+g[3];o[4]=g[12]+g[4];o[5]=g[13]+g[5];o[6]=g[14]+g[6];o[7]=g[15]+g[7];o[8]=g[0]-g[8];o[9]=g[1]-g[9];
o[10]=g[2]-g[10];o[11]=g[3]-g[11];o[12]=g[4]-g[12];o[13]=g[5]-g[13];o[14]=g[6]-g[14];o[15]=g[7]-g[15];
g[0]=o[4]+o[0];g[1]=o[5]+o[1];g[2]=o[6]+o[2];g[3]=o[7]+o[3];g[4]=o[0]-o[4];g[5]=o[1]-o[5];g[6]=o[2]-o[6];
g[7]=o[3]-o[7];g[8]=o[12]+o[8];g[9]=o[13]+o[9];g[10]=o[14]+o[10];g[11]=o[15]+o[11];g[12]=o[8]-o[12];
g[13]=o[9]-o[13];g[14]=o[10]-o[14];g[15]=o[11]-o[15];o[0]=g[2]+g[0];o[1]=g[3]+g[1];o[2]=g[0]-g[2];o[3]=g[1]-g[3];
o[4]=g[6]+g[4];o[5]=g[7]+g[5];o[6]=g[4]-g[6];o[7]=g[5]-g[7];o[8]=g[10]+g[8];o[9]=g[11]+g[9];o[10]=g[8]-g[10];
o[11]=g[9]-g[11];o[12]=g[14]+g[12];o[13]=g[15]+g[13];o[14]=g[12]-g[14];o[15]=g[13]-g[15];g[0]=o[1]+o[0];
g[1]=o[0]-o[1];g[2]=o[3]+o[2];g[3]=o[2]-o[3];g[4]=o[5]+o[4];g[5]=o[4]-o[5];g[6]=o[7]+o[6];g[7]=o[6]-o[7];
g[8]=o[9]+o[8];g[9]=o[8]-o[9];g[10]=o[11]+o[10];g[11]=o[10]-o[11];g[12]=o[13]+o[12];g[13]=o[12]-o[13];
g[14]=o[15]+o[14];g[15]=o[14]-o[15]};_.wd.anZ=function(){var g="",cy=64,o="v",k="t",y="a",d=5,m,b,T;
for(m=cy>>1;m>0;m>>=1,d--){for(b=0;b<cy;b++){T=(b>>d&1)!=0;if(T){g+=k+"["+b+"] = "+o+"["+(-m+b)+"] - "+o+"["+b+"];  "}else{g+=k+"["+b+"] = "+o+"["+(m+b)+"] + "+o+"["+b+"];  "}}y=o;
o=k;k=y;g+="\n"}console.log(g)};_.wd.agF=function(cy,g,o){var k=g,y=o,d=k,b=0,m,a,t;while(cy>>b!=2)b++;
var T=b;for(m=cy>>1;m>0;m>>=1,b--){for(a=0;a<cy;a++){t=(a>>b&1)!=0;if(t)y[a]=k[-m+a]-k[a];else y[a]=k[m+a]+k[a]}d=k;
k=y;y=d}if((T&1)==1)for(m=0;m<cy;m++)o[m]=k[m]};_.cW={};_.cW.yV=function(g,o,k,y,d,b,T,a,t){var j=Date.now(),e=new Uint32Array(g.buffer),v=new Uint32Array(o.buffer),L=T/k,H=a/y,w=1/L,P=1/H,Q=new Float64Array(2),x=3,F=1/x,E=1/(x*x),f=0,c=0,M=k,n=y;
if(d){f=d.x;c=d.y;M=d.m;n=d.n}for(var X=0;X<n;X++)for(var u=0;u<M;u++){var I=f+u,r=c+X,m=r*k+I,J=m<<1,U=m<<2;
_.cW.a1f(b,T,a,(I+.5)*L,(r+.5)*H,Q);var K=Q[0]*w,i=Q[1]*P;if(K==0&&i==0)v[m]=e[m];else{_.K.VG(I+K+.5,r+i+.5,e,k,y,v,m,t)}}};
_.cW.a1f=function(g,o,k,y,d,b){y-=.499999;d-=.499999;var T=~~y,a=~~d,t=y-T,j=d-a,e=(1-j)*(1-t),v=(1-j)*t,L=j*(1-t),H=j*t,w=T<o-1?T+1:T,P=a<k-1?a+1:a,Q=a*o+T<<1,x=a*o+w<<1,F=P*o+T<<1,E=P*o+w<<1;
b[0]=e*g[Q]+v*g[x]+L*g[F]+H*g[E];b[1]=e*g[Q+1]+v*g[x+1]+L*g[F+1]+H*g[E+1]};_.cW.a3K=function(g,o,k,y,d){var b=1/g,T=[-1,1,-g,g],a=y.length;
for(var t=0;t<a;t++){var m=y[t],j=m<<1,e=t<<1,v=~~(m*b),L=m-g*v,H=k[j],w=k[j+1],P=0,Q=0;if(L!=0&&L!=g-1){var x=m-1<<1,F=m+1<<1,E=k[x],f=k[F],c=k[x+1],M=k[F+1],n=H-(E+f)*.5,X=w-(c+M)*.5;
P-=n*d;Q-=X*d}if(v!=0&&v!=o-1){var x=m-g<<1,F=m+g<<1,E=k[x],f=k[F],c=k[x+1],M=k[F+1],n=H-(E+f)*.5,X=w-(c+M)*.5;
P-=n*d;Q-=X*d}k[j]=H+P;k[j+1]=w+Q}};_.cW.ahU=function(g,o){var k=g+","+o;if(_.cW.XA==k)return _.cW.Gu;
var y=_.cW.Gu=[];_.cW.XA=k;for(var m=0;m<=1e3;m++){var d=m*.001,b=Math.sqrt(d),T=Math.exp(-4*b),a=.96*(1-b*b),t=o*((1-g)*T+g*a);
y[m]=t}return y};_.cW.XA="";_.cW.Gu=[];_.cW.and=function(g,o,k,y,d,b,T,a,t,j,e,v,L){var H=Math.max(0,Math.floor(d-T-1)),w=Math.min(o,Math.ceil(d+T+1)),P=Math.max(0,Math.floor(b-T-1)),Q=Math.min(k,Math.ceil(b+T+1)),x=2*o,F=T*T,E=1/T,f=0;
if(L&&(y==3||y==6))t=-t;var c=_.cW.ahU(a,t);for(var M=P;M<Q;M++)for(var n=H;n<w;n++){var m=M*o+n,X=m<<1,u=(d-n)*E,I=(b-M)*E,r=u*u+I*I;
if(r<1){v[f]=m;var J=c[~~(r*1e3)];if(y==1){g[X]=g[X]*(1-J*.05);g[X+1]=g[X+1]*(1-J*.05)}else{var U=0,K=0,h,R,C,G;
if(y==0){U=j*J;K=e*J}else if(y==2){}else if(y==3){U=J*I;K=-J*u}else if(y==4){U=J*u;K=J*I}else if(y==5){U=-J*u;
K=-J*I}else if(y==6){U=e*J;K=-j*J}var i=g[X],z=g[X+1];if(n==0||n!=o-1&&U<0){h=1+g[X+2]-i;C=g[X+3]-z}else{h=i-g[X-2]+1;
C=z-g[X-1]}if(M==0||M!=k-1&&K<0){R=g[X+x]-i;G=1+g[X+x+1]-z}else{R=i-g[X-x];G=z-g[X-x+1]+1}g[X]=-(h*U+R*K-i);
g[X+1]=-(C*U+G*K-z)}f++}}};_.cW.a61=function(g){var o=g[0],k=g[0],y=g[1],d=g[1];for(var m=0;m<g.length;
m+=2){var b=g[m],T=g[m+1];if(b<o)o=b;else if(b>k)k=b;if(T<y)y=T;else if(T>d)d=T}return[o,y,k,d]};_.a3c=function(g,o,k,y,d){function b(q,s,cW,dk){return Math.sqrt((q-cW)*(q-cW)+(s-dk)*(s-dk))}function T(q,s){return q>=0&&q<o&&s>=0&&s<k}function a(q){if(q<0)return 0;
if(q>=o)return o-1;return q}function t(q){if(q<0)return 0;if(q>=k)return k-1;return q}function j(m,q){var s=q[3]*(1/255),cW=y[m]+q[0]*s;
if(cW>255)cW=255;y[m]=cW;cW=y[m+1]+q[1]*s;if(cW>255)cW=255;y[m+1]=cW;cW=y[m+2]+q[2]*s;if(cW>255)cW=255;
y[m+2]=cW}function e(q,s,cW){if(!W(q,s))return;if(cW[3]<0)cW[3]=0;j((s*o+q)*4,cW)}function v(q){var s=q.slice(0,3);
s[3]=0;return s}var L=o/800;function H(q){return Math.round(q*L)}function w(){for(var m=0;m<=300;m++){$[m]=P(m)}}function P(k){var q=.8,s=.2,cW=q*s,dk=k/60%2-1,kr=cW*(1-dk*dk),j9=s-cW,bh;
if(k<60){bh=[cW+j9,kr,0]}else if(k<120){bh=[kr,cW,0]}else if(k<180){bh=[0,cW,kr]}else if(k<240){bh=[0,kr,cW]}else if(k<300){bh=[kr,0,cW]}else{bh=[cW,0,kr]}return[(bh[0]+j9)*255,(bh[1]+j9)*255,(bh[2]+j9)*255]}function Q(k){return $[~~k]}function x(q){return 1-F(q)}function F(q){return q-~~q}function E(q,s,cW,dk){C(q,s,cW,0,s+1,1,dk)}function f(q,s,cW,dk,kr,j9){C(q,s,cW,0,dk,1,kr,j9)}function c(q){for(var m=0;
m<y.length;m+=4){j(m,q)}}function M(q,s,cW,dk,kr,j9,bh,fe){n(q,s,cW,dk,kr,1,j9,bh,fe)}function n(q,s,cW,dk,kr,j9,bh,fe,gg){if(j9==null)j9=.5;
if(bh==null)bh=0;if(fe==null)fe=0;if(gg==null)gg=!1;var a$=q.x,dg=q.y,iv=cW.slice(0),aQ=~~(cW[3]*Y);
dk=dk*Y;if(!gg){s=G(s);kr=G(kr);bh=G(bh);fe=G(fe)}var dt=a(a$-s),hY=a(a$+s);for(var b9=dt;b9<=hY;b9++){var i0=b9-a$,gD=Math.floor(Math.sqrt(s*s-i0*i0)),hU=t(dg-gD),aW=t(dg);
for(var be=hU;be<=aW;be++){var hv=b(b9,be,a$,dg);if(hv>s||hv<=s-kr)break;var b3=(hv-s+kr)/kr;iv[3]=aQ-dk*(j9==1?b3:Math.pow(b3,j9));
j((be*o+b9)*4,iv)}hU=t(dg+gD);for(var be=hU;be>aW;be--){var hv=b(b9,be,a$,dg);if(hv>s||hv<=s-kr)break;
var b3=(hv-s+kr)/kr;iv[3]=aQ-dk*(j9==1?b3:Math.pow(b3,j9));j((be*o+b9)*4,iv)}}if(bh>0){C(q,s+bh,iv,iv[3],bh,1,0,0,!0)}if(fe>0){C(q,s-kr,A(cW),-cW[3],fe,1,0,0,!0)}}function X(q,s,cW,dk,kr,j9){C(q,s,cW,cW[3],s+1,1,dk,kr,j9)}function u(q,s,cW,dk,kr){if(kr==null)kr=!1;
var j9=q.x,bh=q.y;dk*=Y;if(!kr){s=G(s);cW=G(cW)}var fe=a(j9-s),gg=a(j9+s);for(var a$=fe;a$<gg;a$++){var dg=a$-j9,iv=~~Math.sqrt(s*s-dg*dg),aQ=t(bh-iv),dt=t(bh);
for(var hY=aQ;hY<=dt;hY++){var b9=b(a$,hY,j9,bh);if(b9>s||b9<=s-cW)break;var i0=(s-b9)/cW,gD=Q(300*i0);
gD[3]=dk;j((hY*o+a$)*4,gD)}aQ=t(bh+iv);for(var hY=aQ;hY>dt;hY--){var b9=b(a$,hY,j9,bh);if(b9>s||b9<=s-cW)break;
var i0=(s-b9)/cW,gD=Q(300*i0);gD[3]=dk;j((hY*o+a$)*4,gD)}}}function I(O,q){var s=O.qR,cW=O.HI,dk=q.slice(0),kr=q[3]*Y,j9=Math.abs(cW.y-s.y)>Math.abs(cW.x-s.x);
if(j9){var bh=s.x;s.x=s.y;s.y=bh;bh=cW.x;cW.x=cW.y;cW.y=bh}if(s.x>cW.x){var bh=s;s=cW;cW=bh}var fe=cW.x-s.x,gg=cW.y-s.y,a$=fe==0?1:gg/fe,dg=Math.round(s.x),iv=s.y+a$*(dg-s.x),aQ=x(s.x+.5),dt=dg,hY=~~iv;
if(j9){dk[3]=kr*x(iv)*aQ;e(hY,dt,dk);dk[3]=kr*F(iv)*aQ;e(hY+1,dt,dk)}else{dk[3]=kr*x(iv)*aQ;e(dt,hY,dk);
dk[3]=kr*F(iv)*aQ;e(dt,hY+1,dk)}var b9=iv-a$;dg=Math.round(cW.x);iv=cW.y+a$*(dg-cW.x);aQ=F(cW.x+.5);
var i0=dg,gD=~~iv;if(j9){dk[3]=kr*x(iv)*aQ;e(gD,i0,dk);dk[3]=kr*F(iv)*aQ;e(gD+1,i0,dk)}else{dk[3]=kr*x(iv)*aQ;
e(i0,gD,dk);dk[3]=kr*F(iv)*aQ;e(i0,gD+1,dk)}if(j9){for(var hU=dt+1;hU<=i0-1;hU++){dk[3]=kr*x(b9);e(~~b9,hU,dk);
dk[3]=kr*F(b9);e(~~b9+1,hU,dk);b9+=a$}}else{for(var hU=dt+1;hU<=i0-1;hU++){dk[3]=kr*x(b9);e(hU,~~b9,dk);
dk[3]=kr*F(b9);e(hU,~~b9+1,dk);b9+=a$}}}function r(q,s,cW,dk){for(var m=0;m<4;m++){var kr=q.ac(s+1.3*m,cW);
I(kr,dk,1)}}function bJ(q,s){this.x=Math.round(q);this.y=Math.round(s)}var J=Math.PI/180;bJ.prototype.ac=function(q,s){q=q*J;
var cW=this.x+s*Math.cos(q),dk=this.y+s*Math.sin(q);return new U(this.x,this.y,cW,dk)};bJ.prototype.ab6=function(q,s){q=q*J;
var cW=this.yW+s*Math.cos(q),dk=this.a5s+s*Math.sin(q);return new bJ(cW,dk)};function U(q,s,cW,dk){this.qR=new bJ(q,s);
this.HI=new bJ(cW,dk)}U.prototype.mH=function(q){var s=q*this.qR.x+(1-q)*this.HI.x,cW=q*this.qR.y+(1-q)*this.HI.y;
return new bJ(s,cW)};var K=M,i=X,z=E,h=f,R=u,C=n,G=H,W=T,A=v,$=[];w();for(var m=0;m<g.length;m++){y[m]=g[m]}var O=new U(o*d[2],k*d[3],o/2,k/2),Y=d[1],l=[];
l[0]=function B(){var q=[80,40,15,60],cW=0,dk=0;z(O.mH(1.4),260,q,10);z(O.mH(1),100,[240,50,50,30],30);
i(O.mH(1),60,[255,40,0,40]);var s=[255,255,255,255];C(O.mH(1),70,s,s[3],58,.5);z(O.mH(1),12,s);s[3]=40;
K(O.mH(1),150,s,s[3],150);for(var m=0;m<40;m++){cW+=Math.random()*25;dk=Math.random()*G(300)+G(100);
var kr=O.mH(1).ac(cW,dk);I(O.mH(1).ac(cW,dk),[110,110,110,30])}i(O.mH(1),130,[255,255,255,8]);var j9=[170,30,23,70];
h(O.mH(1),70,j9,1,3,3);var bh=[60,60,130,40];z(O.mH(.47),44,bh,5);z(O.mH(.43),22,bh,3);bh[3]=16;z(O.mH(.53),15,bh,2);
var fe=[138,94,42,100];z(O.mH(.2),16,fe,2);var gg=[130,255,170,180];i(O.mH(0),4,gg);i(O.mH(-.25),5,gg);
fe=[150,90,0,50];K(O.mH(-.45),55,A(fe),-fe[3],40,2);z(O.mH(-.42),35,fe,2);z(O.mH(-.5),15,fe,2);R(O.mH(-1.28),145,11,70);
var a$=Q(0);a$[3]=50;K(O.mH(-1.28),149,a$,a$[3],4);a$=Q(300);a$[3]=50;K(O.mH(-1.28),155-1,A(a$),-a$[3],3);
var dg=[130,130,10,50];h(O.mH(-1),73,dg,3,2);var iv=[40,130,70,40];K(O.mH(-1),70,A(iv),-iv[3],35);iv=[40,170,60,50];
z(O.mH(-.7),25,iv,4);var iv=[70,110,50,60];K(O.mH(1.3),30,A(iv),-iv[3],11,3);bh=[0,50,210,80];i(O.mH(-.72),20,bh)};
l[1]=function f4(){i(O.mH(1),150,[240,70,70,60]);z(O.mH(1),100,[200,60,60,40],30);var q=[255,255,255,255],s=0,cW=0;
C(O.mH(1),75,q,q[3],63);z(O.mH(1),12,q);i(O.mH(1),270,[200,200,200,20],10);for(var m=0;m<10;m++){s+=10+Math.random()*40;
cW=Math.random()*G(250)+G(80);var dk=O.mH(1).ac(s,cW);I(dk,[110,110,110,35])}s=5;cW=100;for(var m=0;
m<12;m++){s+=30;r(O.mH(1),s,cW,[90,90,90,40])}var kr=[150,40,23,100];h(O.mH(1),70,kr,1,3,3);var j9=[30,100,60,40];
i(O.mH(-.9),180,[255,255,255,20]);z(O.mH(-.9),140,j9,15);var bh=[170,80,25,15];h(O.mH(-.9),120,bh,1,4,4);
var fe=[110,240,190,200];i(O.mH(-.6),3,fe);fe[3]=100;i(O.mH(-.6),7,fe);var gg=[230,120,40,85];i(O.mH(-.73),9,gg);
var a$=[60,60,190,50];z(O.mH(.3),28,a$,6);a$[3]=25;z(O.mH(.34),20,a$,3)};l[2]=function V(){var q=[255,255,255,255],cW=0,dk=0;
z(O.mH(1),13,q);C(O.mH(1),150,q,q[3],137);var s=[120,80,35,20];z(O.mH(1.4),260,s,10);for(var m=0;m<40;
m++){cW+=5+Math.random()*30;dk=Math.random()*G(300);I(O.mH(1).ac(cW,dk),[110,110,110,20])}var kr=[10,30,255,30];
z(O.mH(1),70,kr,50);var j9=[15,90,170,15];z(O.mH(1.5),60,j9);var bh=[220,220,20,50];z(O.mH(-1.15),8,bh,2);
var q=[255,255,255,40];i(O.mH(-1.18),6,q);i(O.mH(-1.18),4,q);bh=[110,110,10,8];K(O.mH(-1.2),32,A(bh),-bh[3],20,3);
var fe=[5,0,16,255];for(var m=0;m<4;m++){z(O.mH(-1.36),10,fe,3)}var gg=[90,200,150,20],a$=gg.slice(0);
a$[3]*=2;z(O.mH(-1.32),7,a$,3);z(O.mH(-1.36),7,a$,3);z(O.mH(-1.4),7,a$,3);var q=[230,230,230,100];i(O.mH(-1.36),2,q);
q[3]=3;z(O.mH(-.55),10,q);bh=[120,100,10,18];z(O.mH(-.55),160,bh,8);z(O.mH(-.55),80,bh,4);gg[3]=3;a$[3]=6;
K(O.mH(-.49),13,A(a$),-a$[3],13,2);K(O.mH(-.55),13,A(a$),-a$[3],13,2);gg[3]=20;z(O.mH(.15),25,gg,3);
bh[3]=100;i(O.mH(-.52),3,bh);bh=[200,200,50,40];z(O.mH(.27),1,bh,4);var dg=[150,40,23,30];K(O.mH(1),80,A(dg),-dg[3],2,1)};
return l[d[0]]()};_.DA={};_.DA.gH=function(g){var o=g.length,cy=g[0].length,k=new Array(cy);for(var m=0;
m<cy;m++)k[m]=new Array(o);for(var m=0;m<cy;m++)for(var y=0;y<o;y++)k[m][y]=g[y][m];return k};_.DA.Eu=function(g,o){var k=g.length,cy=g[0].length,y=new Array(k);
for(var m=0;m<k;m++)y[m]=new Array(cy);for(var m=0;m<k;m++)for(var d=0;d<cy;d++)y[m][d]=g[m][d]-o[m][d];
return y};_.DA.add=function(g,o){var k=g.length,cy=g[0].length,y=new Array(k);for(var m=0;m<k;m++)y[m]=new Array(cy);
for(var m=0;m<k;m++)for(var d=0;d<cy;d++)y[m][d]=g[m][d]+o[m][d];return y};_.DA.multiply=function(g,o){var k=g.length,y=g[0].length,cy=o[0].length;
if(y!=o.length)throw"e";var d=new Array(k);for(var m=0;m<k;m++)d[m]=new Array(cy);if((y&1)!=0)for(var m=0;
m<k;m++){var b=g[m],T=d[m];for(var a=0;a<cy;a++){var t=0;for(var j=0;j<y;j++)t+=b[j]*o[j][a];T[a]=t}}else for(var m=0;
m<k;m++){var b=g[m],T=d[m];for(var a=0;a<cy;a++){var t=0;for(var j=0;j<y;j+=2)t+=b[j]*o[j][a]+b[j+1]*o[j+1][a];
T[a]=t}}return d};_.DA.Y8=function(g,o){var k=g.length,cy=g[0].length,y=new Array(k);for(var m=0;m<k;
m++){var d=0;for(var b=0;b<cy;b++)d+=g[m][b]*o[b];y[m]=d}return y};_.DA.pF=function(g,o){var k=[];for(var m=0;
m<g;m++){k.push([]);for(var y=0;y<o;y++)k[m].push(0)}return k};_.DA.a5f=function(g){for(var m=0;m<g.length;
m++)console.log(JSON.stringify(g[m]))};_.DA.aro=function(g){var o=[];for(var m=0;m<g.length;m++)o.push(g[m].join(","));
return"["+o.join(";")+"]"};_.DA.Ag=function(g,o){var k=g.length;for(var y=0;y<k;y++){var d=0,b=Number.NEGATIVE_INFINITY;
for(var m=y;m<k;m++)if(Math.abs(g[m][y])>b){d=m;b=Math.abs(g[m][y])}_.DA.aki(g,y,d);for(var m=y+1;m<k;
m++){if(g[y][y]==0)return 1;var T=g[m][y]/g[y][y];for(var a=y;a<k+1;a++)g[m][a]-=g[y][a]*T}}for(var m=k-1;
m>=0;m--){if(g[m][m]==0)return 1;var t=g[m][k]/g[m][m];o[m]=t;for(var a=m-1;a>=0;a--){g[a][k]-=g[a][m]*t;
g[a][m]=0}}return 0};_.DA.aki=function(g,o,k){var y=g[o];g[o]=g[k];g[k]=y};_.DA.a6Y=function(g){var o=g.length,k=_.DA.pF(o,o);
for(var m=0;m<o;m++)k[m][m]=g[m];return k};_.DA.ahk=function(g){var o=g.length,k=g[0].length,y=new Array(o);
for(var m=0;m<o;m++){y[m]=0;for(var d=0;d<k;d++)y[m]+=g[m][d];y[m]/=k}return y};_.DA.XF=function(g){var o=0;
for(var m=0;m<g.length;m++)o+=g[m]*g[m];return Math.sqrt(o)};_.x1={};_.x1.u6=function(g){var o=~~(g+.5);
return o<0?0:o>255?255:o};_.x1.transform=function(g,o,k){var y=_.x1.u6,d=g.o.length;for(var m=0;m<d;
m++){var b=g.o[m],T=g.C[m],a=g.k[m];o.o[m]=y(k[0]*b+k[1]*T+k[2]*a+k[3]*255);o.C[m]=y(k[4]*b+k[5]*T+k[6]*a+k[7]*255);
o.k[m]=y(k[8]*b+k[9]*T+k[10]*a+k[11]*255)}};_.x1.TA=function(g,o,k){var y=_.x1.u6,d=g.length;for(var m=0;
m<d;m+=4){var b=g[m],T=g[m+1],a=g[m+2];o[m]=y(k[0]*b+k[1]*T+k[2]*a+k[3]*255);o[m+1]=y(k[4]*b+k[5]*T+k[6]*a+k[7]*255);
o[m+2]=y(k[8]*b+k[9]*T+k[10]*a+k[11]*255)}};_.x1.T4=function(g){var o=g[0]+g[1]+g[2],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(o==1){var y=g.indexOf(1);k[y]=k[y+4]=k[y+8]=1}else{k[0]=g[0];k[5]=g[1];k[10]=g[2]}return k};_.x1.H1=function(g,o,k){return[1,0,0,g,0,1,0,o,0,0,1,k,0,0,0,1]};
_.x1.xc=function(g,o,k){return[g,0,0,0,0,o,0,0,0,0,k,0,0,0,0,1]};_.x1.aod=function(g){return[g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]]};
_.x1.Q8=function(g){return[g[0],g[1],g[2],0,g[3],g[4],g[5],0,g[6],g[7],g[8],0,0,0,0,1]};_.x1.hi=function(g,o){return[g[0]*o[0]+g[1]*o[1]+g[2]*o[2]+g[3]*o[3],g[4]*o[0]+g[5]*o[1]+g[6]*o[2]+g[7]*o[3],g[8]*o[0]+g[9]*o[1]+g[10]*o[2]+g[11]*o[3],g[12]*o[0]+g[13]*o[1]+g[14]*o[2]+g[15]*o[3]]};
_.x1.gH=function(g){var o=[];o[0]=g[0];o[1]=g[4];o[2]=g[8];o[3]=g[12];o[4]=g[1];o[5]=g[5];o[6]=g[9];
o[7]=g[13];o[8]=g[2];o[9]=g[6];o[10]=g[10];o[11]=g[14];o[12]=g[3];o[13]=g[7];o[14]=g[11];o[15]=g[15];
return o};_.x1.add=function(g,o){var k=g.slice(0);for(var m=0;m<16;m++)k[m]+=o[m];return k};_.x1.multiply=function(g,o){var k=[];
k[0]=g[0]*o[0]+g[1]*o[4]+g[2]*o[8]+g[3]*o[12];k[1]=g[0]*o[1]+g[1]*o[5]+g[2]*o[9]+g[3]*o[13];k[2]=g[0]*o[2]+g[1]*o[6]+g[2]*o[10]+g[3]*o[14];
k[3]=g[0]*o[3]+g[1]*o[7]+g[2]*o[11]+g[3]*o[15];k[4]=g[4]*o[0]+g[5]*o[4]+g[6]*o[8]+g[7]*o[12];k[5]=g[4]*o[1]+g[5]*o[5]+g[6]*o[9]+g[7]*o[13];
k[6]=g[4]*o[2]+g[5]*o[6]+g[6]*o[10]+g[7]*o[14];k[7]=g[4]*o[3]+g[5]*o[7]+g[6]*o[11]+g[7]*o[15];k[8]=g[8]*o[0]+g[9]*o[4]+g[10]*o[8]+g[11]*o[12];
k[9]=g[8]*o[1]+g[9]*o[5]+g[10]*o[9]+g[11]*o[13];k[10]=g[8]*o[2]+g[9]*o[6]+g[10]*o[10]+g[11]*o[14];k[11]=g[8]*o[3]+g[9]*o[7]+g[10]*o[11]+g[11]*o[15];
k[12]=g[12]*o[0]+g[13]*o[4]+g[14]*o[8]+g[15]*o[12];k[13]=g[12]*o[1]+g[13]*o[5]+g[14]*o[9]+g[15]*o[13];
k[14]=g[12]*o[2]+g[13]*o[6]+g[14]*o[10]+g[15]*o[14];k[15]=g[12]*o[3]+g[13]*o[7]+g[14]*o[11]+g[15]*o[15];
return k};_.x1.TY=function(g){var o=[];o[0]=g[5]*g[10]*g[15]-g[5]*g[14]*g[11]-g[6]*g[9]*g[15]+g[6]*g[13]*g[11]+g[7]*g[9]*g[14]-g[7]*g[13]*g[10];
o[1]=-g[1]*g[10]*g[15]+g[1]*g[14]*g[11]+g[2]*g[9]*g[15]-g[2]*g[13]*g[11]-g[3]*g[9]*g[14]+g[3]*g[13]*g[10];
o[2]=g[1]*g[6]*g[15]-g[1]*g[14]*g[7]-g[2]*g[5]*g[15]+g[2]*g[13]*g[7]+g[3]*g[5]*g[14]-g[3]*g[13]*g[6];
o[3]=-g[1]*g[6]*g[11]+g[1]*g[10]*g[7]+g[2]*g[5]*g[11]-g[2]*g[9]*g[7]-g[3]*g[5]*g[10]+g[3]*g[9]*g[6];
o[4]=-g[4]*g[10]*g[15]+g[4]*g[14]*g[11]+g[6]*g[8]*g[15]-g[6]*g[12]*g[11]-g[7]*g[8]*g[14]+g[7]*g[12]*g[10];
o[5]=g[0]*g[10]*g[15]-g[0]*g[14]*g[11]-g[2]*g[8]*g[15]+g[2]*g[12]*g[11]+g[3]*g[8]*g[14]-g[3]*g[12]*g[10];
o[6]=-g[0]*g[6]*g[15]+g[0]*g[14]*g[7]+g[2]*g[4]*g[15]-g[2]*g[12]*g[7]-g[3]*g[4]*g[14]+g[3]*g[12]*g[6];
o[7]=g[0]*g[6]*g[11]-g[0]*g[10]*g[7]-g[2]*g[4]*g[11]+g[2]*g[8]*g[7]+g[3]*g[4]*g[10]-g[3]*g[8]*g[6];o[8]=g[4]*g[9]*g[15]-g[4]*g[13]*g[11]-g[5]*g[8]*g[15]+g[5]*g[12]*g[11]+g[7]*g[8]*g[13]-g[7]*g[12]*g[9];
o[9]=-g[0]*g[9]*g[15]+g[0]*g[13]*g[11]+g[1]*g[8]*g[15]-g[1]*g[12]*g[11]-g[3]*g[8]*g[13]+g[3]*g[12]*g[9];
o[10]=g[0]*g[5]*g[15]-g[0]*g[13]*g[7]-g[1]*g[4]*g[15]+g[1]*g[12]*g[7]+g[3]*g[4]*g[13]-g[3]*g[12]*g[5];
o[11]=-g[0]*g[5]*g[11]+g[0]*g[9]*g[7]+g[1]*g[4]*g[11]-g[1]*g[8]*g[7]-g[3]*g[4]*g[9]+g[3]*g[8]*g[5];o[12]=-g[4]*g[9]*g[14]+g[4]*g[13]*g[10]+g[5]*g[8]*g[14]-g[5]*g[12]*g[10]-g[6]*g[8]*g[13]+g[6]*g[12]*g[9];
o[13]=g[0]*g[9]*g[14]-g[0]*g[13]*g[10]-g[1]*g[8]*g[14]+g[1]*g[12]*g[10]+g[2]*g[8]*g[13]-g[2]*g[12]*g[9];
o[14]=-g[0]*g[5]*g[14]+g[0]*g[13]*g[6]+g[1]*g[4]*g[14]-g[1]*g[12]*g[6]-g[2]*g[4]*g[13]+g[2]*g[12]*g[5];
o[15]=g[0]*g[5]*g[10]-g[0]*g[9]*g[6]-g[1]*g[4]*g[10]+g[1]*g[8]*g[6]+g[2]*g[4]*g[9]-g[2]*g[8]*g[5];var k=g[0]*o[0]+g[1]*o[4]+g[2]*o[8]+g[3]*o[12];
for(var m=0;m<16;m++)o[m]/=k;return o};_.x1.anw=function(g){var o=[],k=g[5]*g[10]*g[15]-g[5]*g[14]*g[11]-g[6]*g[9]*g[15]+g[6]*g[13]*g[11]+g[7]*g[9]*g[14]-g[7]*g[13]*g[10],y=-g[4]*g[10]*g[15]+g[4]*g[14]*g[11]+g[6]*g[8]*g[15]-g[6]*g[12]*g[11]-g[7]*g[8]*g[14]+g[7]*g[12]*g[10],d=g[4]*g[9]*g[15]-g[4]*g[13]*g[11]-g[5]*g[8]*g[15]+g[5]*g[12]*g[11]+g[7]*g[8]*g[13]-g[7]*g[12]*g[9],b=-g[4]*g[9]*g[14]+g[4]*g[13]*g[10]+g[5]*g[8]*g[14]-g[5]*g[12]*g[10]-g[6]*g[8]*g[13]+g[6]*g[12]*g[9];
return g[0]*k+g[1]*y+g[2]*d+g[3]*b};_.x1.aty=function(g,o,k,y){var d=Math.sin(y),b=Math.cos(y),T=1/Math.sqrt(g*g+o*o+k*k);
g*=T;o*=T;k*=T;return _.x1.Q8([g*g*(1-b)+b,g*o*(1-b)-k*d,g*k*(1-b)+o*d,g*o*(1-b)+k*d,o*o*(1-b)+b,o*k*(1-b)-g*d,g*k*(1-b)-o*d,o*k*(1-b)+g*d,k*k*(1-b)+b])};
_.x1.pf=_.x1.Q8([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
_.x1.aff=_.x1.Q8([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
_.x1.Ek=_.x1.TY(_.x1.pf);_.il={};_.il.y1=new Uint32Array(1);_.il.uX=function(g,o,k,y,d,b){var T=new Uint32Array(g),a=0,t=_.il.y1;
if(t.length<o*4)_.il.y1=t=new Uint32Array(o*4);var j=new Float64Array(t.buffer);for(var m=0;m<o;m+=2){var e=d[m],v=d[m+1],L=b[m],H=b[m+1];
t[a]=v;j[a+2>>1]=L;t[a+1]=T[e];T[e]=a+1;a+=4;t[a]=e;j[a+2>>1]=H;t[a+1]=T[v];T[v]=a+1;a+=4}return{qL:t,a5C:j,ank:T}};
_.il.Ag=function(g,o,k,y,d,b,T){var a=1,t=_.il.uX(g,o,k,y,d,b),j=t.qL,e=t.a5C,v=t.ank,L=new Uint32Array(g),H=new _.il.J9(g),P=1,f=0;
H.push(k);H.push(y);var w=new _.il.J9(g),Q=new Uint8Array(g),x=new Uint32Array(g);Q[k]=1;Q[y]=2;var F=new Uint32Array(g),E=new Uint32Array(g);
E[k]=E[y]=0;F[k]=F[y]=1;while(!0){var c=-1,J=0,z=1e30;while(!H.Gh()&&c==-1){var M=H.top(),n=Q[M],X=v[M]-1;
while(X!=-1){var u=j[X],I=Q[u],r=X^n-1<<2;if(e[r+2>>1]!=0){if(I==0){_.il.Ix(M,X,u,Q,x,E,F);H.push(u)}else if(I==n&&F[u]<=F[M]&&E[u]>E[M])_.il.Ix(M,X,u,Q,x,E,F);
else if(I!=n){c=r}}X=j[X+1]-1}if(c!=-1)break;H.pop()}if(c==-1){break}P++;var U=c;while(U!=-1){L[J]=U;
J++;U=x[j[U^4]]-1}var K=J>>1;for(var m=0;m<K;m++){var i=L[m];L[m]=L[J-m-1];L[J-m-1]=i}U=x[j[c]]-1;while(U!=-1){L[J]=U^4;
J++;U=x[j[U^4]]-1}for(var m=0;m<J;m++)z=Math.min(z,e[L[m]+2>>1]);f+=z;if(f>=T)return{w$:null,WS:f};for(var m=0;
m<J;m++){var h=L[m],R=h^4,M=j[R],u=j[h];e[h+2>>1]-=z;e[R+2>>1]+=z;if(e[h+2>>1]==0&&Q[M]==Q[u]){if(Q[M]==1){x[u]=0;
w.push(u)}if(Q[M]==2){x[M]=0;w.push(M)}}}while(!w.Gh()){var M=w.pop(),n=Q[M],X=v[M]-1,C=n==1?4:0,G=0,W=0,A=1e9;
while(X!=-1){var u=j[X],$=X^4,r=X^C;if(Q[u]==n&&e[r+2>>1]>0&&_.il.a6m(u,k,y,x,j,P,F,E)+1<A){G=u;W=$;
A=E[u]+1}X=j[X+1]-1}if(W!=0){_.il.Ix(G,W,M,Q,x,E,F);continue}X=v[M]-1;while(X!=-1){var u=j[X],r=X^C;
if(Q[u]==n){if(e[r+2>>1]>0){H.push(u)}if(x[u]==X+1){x[u]=0;w.push(u)}}X=j[X+1]-1}Q[M]=0;H.remove(M)}}var O=[];
for(var m=0;m<o;m+=2){var M=d[m],u=d[m+1];if(Q[M]==1&&Q[u]!=1){O.push(m>>1)}if(Q[u]==1&&Q[M]!=1){O.push(o+m>>1)}}return{w$:O,WS:f}};
_.il.Ix=function(g,o,k,y,d,b,T){y[k]=y[g];d[k]=o+1;b[k]=b[g]+1;T[k]=T[g]};_.il.a6m=function(g,o,k,y,d,b,T,a){var t=g,j=y[g]-1,e=0;
while(j!=-1&&T[g]!=b){g=d[j^4];j=y[g]-1;e++}if(j==-1&&g!=o&&g!=k)return 1e9;var v=a[g]+e;e=0;j=y[t]-1;
while(t!=g){a[t]=v-e;e++;T[t]=b;t=d[j^4];j=y[t]-1}return v};_.il.agc=function(g,o,k,y,d,b){var T=_.il.uX(g,o,k,y,d,b),a=T.qL,t=T.a5C,j=T.ank,e=0,v=0,L=new Uint32Array(g*2),H=new _.il.Bi(g),w=0;
while(!0){H.reset();H.push(k);for(var m=0;m<g;m++)L[m<<1]=0;while(!H.Gh()){var P=H.pop(),Q=j[P]-1;while(Q!=-1){w=a[Q];
if(L[w<<1]==0&&t[Q+2>>1]>0&&w!=k){L[w<<1]=P+1;L[(w<<1)+1]=Q;H.push(w)}Q=a[Q+1]-1}if(L[y<<1]!=0){break}}if(L[y<<1]==0){break}var x=1e30;
w=y;while(!0){var F=L[w<<1]-1;if(F==-1)break;var E=L[(w<<1)+1];x=Math.min(x,t[E+2>>1]);w=F}w=y;while(!0){var F=L[w<<1]-1;
if(F==-1)break;var E=L[(w<<1)+1],f=E^4;t[E+2>>1]-=x;t[f+2>>1]+=x;w=F}e+=x}var c=[];for(var m=0;m<o;m+=2){var F=d[m],w=d[m+1];
if((L[F<<1]!=0||F==k)&&L[w<<1]==0&&w!=k){c.push(m>>1)}if((L[w<<1]!=0||w==k)&&L[F<<1]==0&&F!=k){c.push(o+m>>1)}}return{w$:c,WS:e}};
_.il.Bi=function(g){g|=g>>1;g|=g>>2;g|=g>>4;g|=g>>8;g|=g>>16;this._k=new Uint32Array(g+1);this.Pd=g;
this.Vm=0;this.tz=0};_.il.Bi.prototype={push:function(g){var o=this.tz;this._k[o]=g;this.tz=o+1&this.Pd},pop:function(){var g=this.Vm,o=this._k[g];
this.Vm=g+1&this.Pd;return o},Gh:function(){return this.Vm==this.tz},reset:function(){this.Vm=0;this.tz=0}};
_.il.J9=function(g){g|=g>>1;g|=g>>2;g|=g>>4;g|=g>>8;g|=g>>16;this._k=new Uint32Array(g+1);this.fq=new Uint32Array(g+1);
this.Pd=g;this.Vm=0;this.tz=0};_.il.J9.prototype={top:function(){return this._k[this.Vm]},arN:function(){return this._k[this.tz]},push:function(g){if(this.fq[g]!=0)return;
this.fq[g]=this.tz+1;var o=this.tz;this._k[o]=g;this.tz=o+1&this.Pd},pop:function(){var g=this.Vm,o=this._k[g];
this.fq[o]=0;this.Vm=g+1&this.Pd;return o},Gh:function(){return this.Vm==this.tz},remove:function(g){var o=this.fq[g]-1;
if(o==-1)return;this.fq[g]=0;if(o==this.Vm){this.pop();return}var k=this.pop();this._k[o]=k;this.fq[k]=o+1},bi:function(m){return m+this.Pd+1&this.Pd}};
_.il.KY=function(g,o,k){var y=_.il.H4(g,o,k);if(o<y-1)_.il.KY(g,o,y-1);if(y<k)_.il.KY(g,y,k)};_.il.H4=function(g,o,k){var y=g[o+k>>>1];
while(o<=k){while(g[o]<y)o++;while(g[k]>y)k--;if(o<=k){_.il.jb(g,o,k);o++;k--}}return o};_.il.jb=function(g,o,k){var y=g[o];
g[o]=g[k];g[k]=y};_.X={};_.X.rM=function(g){for(var m=0;m<g.length;m++)_.X.YU(g,m)};_.X.YU=function(g,m){g[m].v.keyShapeInvalidated={t:"bool",v:!0}};
_.X.aqV=function(g){for(var m=0;m<g.length;m++)g[m].v.keyOriginIndex.v=m};_.X.o7=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
_.X.z3=function(g){g=g.v;var o={Rctn:2,Ln:4,Elps:5},k=o[g.classID],y=g.topLeft?_.X.FB(g):null,d=null,b=0,T=[!1,!1,0,0,0];
if(k==4){var a=g.Strt.v,t=g.End.v;d=[a.Hrzn.v.val,a.Vrtc.v.val,t.Hrzn.v.val,t.Vrtc.v.val];b=g.Wdth.v.val;
for(var m=0;m<2;m++){var j=g[m==0?"StrA":"EndA"];if(j==null)continue;j=j.v;T[m]=j.On.v;T[2]=j.Wdth.v;
T[3]=j.Lngt.v;T[4]=j.Cncv.v.val}}if(k==null)return null;return _.X.p5(k,k==4?null:_.X.qZ(g),y,d,b,T)};
_.X.Bk=function(g,o,k,y,d,b,T){var a={classID:g,unitValueQuadVersion:{t:"long",v:1}};if(o)_.X.tl(a,["Left","Top","Rght","Btom"],o);
if(k)_.X.tl(a,["topLeft","topRight","bottomRight","bottomLeft"],k);if(g=="Ln"){a.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[1]}}}},a.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[3]}}}},a.Wdth={t:"UntF",v:{type:"#Pxl",val:d}};
for(var m=0;m<2;m++){var t=m==0?"StrA":"EndA";a[t]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:T[m]},Wdth:{t:"doub",v:T[2]},Lngt:{t:"doub",v:T[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:T[4]}}}}}}if(b)a.Nm={t:"TEXT",v:b};
return{t:"Objc",v:a}};_.X.gf=function(g,o){var k=_.X.m0(g),y=g[2]-g[0],d=g[3]-g[1],b=Math.sqrt(y*y+d*d),T=[0,0,b,0,b,o,0,o],a=new d3;
a.rotate(-k);a.translate(g[0],g[1]);_.p.D(T,a,T);return T};_.X.p5=function(g,o,k,y,d,b){var T=_.X.o7(),a=T.v,t;
delete a.keyShapeInvalidated;a.keyOriginType={t:"long",v:g};a.keyOriginResolution={t:"doub",v:75};if(g==4){a.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[0]},Vrtc:{t:"doub",v:y[1]}}};
a.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[2]},Vrtc:{t:"doub",v:y[3]}}};t=_.X.gf(y,d);
var j=_.p.AU(t);o=[j.x,j.y,j.x+j.m,j.y+j.n];a.keyOriginLineWeight={t:"doub",v:d};if(b)_.X.a9N(a,b)}else t=[o[0],o[1],o[2],o[1],o[2],o[3],o[0],o[3]];
a.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};_.X.JJ(a,"keyOriginBoxCorners",t);var e={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
a.keyOriginShapeBBox={t:"Objc",v:e};_.X.lt(a,o);if(k!=null){var v={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
a.keyOriginRRectRadii={t:"Objc",v:v};_.X.HT(a,k)}return T};_.X.D=function(g,o,k,y){var d=_.K.bP(o),b=_.K.AH(o),T=_.K.Ka(o),a=T.Ng*T.vP-T.k*T._I;
for(var m=0;m<g.length;m++){var t=g[m].v;if(!_.X.xz(t))continue;if(k.length!=0&&k.indexOf(m)==-1)continue;
var j=t.keyOriginType.v,e=o;if(a<0&&j==2){var v=_.X.Si(t),L=0;L=v[0];v[0]=v[1];v[1]=L;L=v[2];v[2]=v[3];
v[3]=L;_.X.HT(t,v);var H=_.X._H(t,"keyOriginBoxCorners"),w=_.p.AU(H),P=w.x+w.m/2,Q=new d3;Q.translate(-P,0);
Q.scale(-1,1);Q.translate(P,0);e=_.K.x7(e,_.K.bn(Q))}var x=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var F=0;F<x.length;F++){var H=_.X._H(t,x[F]);if(H==null)continue;_.K.D(e,H);_.X.JJ(t,x[F],H);var w=_.p.AU(H);
_.X.lt(t,[w.x,w.y,w.x+w.m,w.y+w.n]);var E=new d3;E.rotate(-_.X.m0(H));var f={classID:"Trnf"};t.Trnf={t:"Objc",v:f};
var M="xx xy yx yy tx ty".split(" "),n=[E.Ng,E.k,E._I,E.vP,E.ii,E.xF];for(var X=0;X<6;X++)f[M[X]]={t:"doub",v:n[X]}}if(j==2&&y){var v=_.X.Si(t);
for(var F=0;F<4;F++)v[F]=Math.round(v[F]*o[0]);_.X.HT(t,v)}var H=_.X._H(t,"keyOriginBoxCorners"),u=H[2]-H[0],I=H[3]-H[1],r=Math.sqrt(u*u+I*I);
u/=r;I/=r;var J=H[6]-H[0],U=H[7]-H[1],K=Math.sqrt(J*J+U*U);J/=K;U/=K;if(j==4){t.keyOriginLineWeight.v=K;
var i=_.X.E0(t);_.K.D(o,i);_.X.auJ(t,i)}var z=u*J+I*U;if(Math.abs(z)>.001){_.X.YU(g,m)}}};_.X.xz=function(g){var o=g.keyShapeInvalidated,k=g.keyOriginType;
return(o==null||!o.v)&&k!=null&&k.v!=9};_.X.ar8=function(g){var o=g.keyOriginType.v,k=_.X.QI(g),y=k[0],d=k[1],b=k[2],T=k[3],a=new d3,t=g.keyOriginPolyCornerRadius,H;
t=t?t.v:0;var j=_.X._H(g,o==7||o==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),e=_.X.Qm(j),v=e[2],L=e[3];
y=-v/2;b=v/2;d=-L/2;T=L/2;a.rotate(-_.X.m0(j));a.ii=e[0];a.xF=e[1];if(o==1||o==2){var w=o==1?0:_.X.Si(g);
H=_.w.qA.Rect(y,d,b-y,T-d,w)}else if(o==4){var P=_.X.E0(g),Q=_.X.aaI(g);a=new d3;if(Q==null)H=_.w.qA.Ee(P[0],P[1],P[2],P[3],g.keyOriginLineWeight.v);
else H=_.w.qA.$V(P[0],P[1],P[2],P[3],g.keyOriginLineWeight.v,Q)}else if(o==5){H=_.w.qA.rj(y,d,b-y,T-d)}else if(o==7||o==8){var x=o==7?3:g.keyOriginPolySides.v;
H=_.w.qA.L6(0,0,100,Math.PI/x-Math.PI/2,x,t,b,T)}_.w.cs(H,a);return H};_.X.KI=function(g,o){var k=o.a;
for(var m=0;m<g.length;m++){var y=g[m].v;if(!_.X.xz(y))continue;var d=_.X.ar8(y),b=_.w.SO(k,m),T=_.w.hQ(k,m);
d[2].dJ=k[b].dJ;var a=k;k=k.slice(0,b);for(var t=2;t<d.length;t++)k.push(d[t]);for(var t=b+T;t<a.length;
t++)k.push(a[t])}o.a=k;o.WP=!0};_.X.VH=function(g){var o=1e9,k=-o,y=1e9,d=-y,b=[],T=g.uM(),a=T[0],t=T[1];
for(var j=0;j<t.length;j++){var e=a[t[j]],v=e.add.vogk;if(v==null)continue;var L=e.add.vmsk.g;for(var H=0;
H<v.length;H++){var w=v[H].v,x=0;if(!_.X.xz(w))continue;if(t.length==1&&L.length!=0&&L.indexOf(H)==-1)continue;
var P=w.keyOriginType.v;if(P==9)continue;var Q=_.X.QI(w);o=Math.min(o,Q[0]);y=Math.min(y,Q[1]);k=Math.max(k,Q[2]);
d=Math.max(d,Q[3]);var F=_.X._H(w,"keyOriginBoxCorners");if(F){var E=_.X.Qm(F),f=E[2],c=E[3];Q[2]=Q[0]+f;
Q[3]=Q[1]+c;x=_.X.m0(F)}var M=[P,Q,x];b.push(M);if(P==2)M.push(_.X.Si(w));if(P==7||P==8)M.push(w.keyOriginPolyCornerRadius.v);
if(P==8)M.push(w.keyOriginPolySides.v)}}return b.length==1?b[0]:[0,o<k?[o,y,k,d]:null,0]};_.X.m0=function(g){var o=g[2]-g[0],k=g[3]-g[1];
return-Math.atan2(-k,o)};_.X.C9=function(g){var o=_.X.QI(g);return _.X.m0(o)};_.X.as9=function(g,o,k){var y=_.X.VH(g),d=-1;
for(var m=0;m<o.length;m++)if(JSON.stringify(o[m])!=JSON.stringify(y[m]))d=m;if(d==1||d==2){}var b=g.uM(),T=b[0],a=b[1];
for(var t=0;t<a.length;t++){var j=T[a[t]],e=j.add.vogk;if(e==null)continue;var v=j.add.vmsk.g;for(var L=0;
L<e.length;L++){var H=e[L].v;if(!_.X.xz(H))continue;if(a.length==1&&v.length!=0&&v.indexOf(L)==-1)continue;
var w=H.keyOriginType.v;if(d==1||d==2){_.X.D(e,_.X.a69(d,H,y,o),v,!1);break}if(d==3)if(w==2)_.X.HT(H,o[3]);
else H.keyOriginPolyCornerRadius.v=o[3];if(d==4)H.keyOriginPolySides.v=o[4];if(k)_.X.YU(e,L)}}};_.X.a69=function(g,o,k,y){var d=y[1],b=k[1],T=(d[2]-d[0])/(b[2]-b[0]),a=(d[3]-d[1])/(b[3]-b[1]),t=new d3;
if(g==1){if(Math.max(Math.abs(T-1),Math.abs(a-1))>1e-8){var j=d[0],e=d[1];if(y[0]!=0){var v=_.X._H(o,"keyOriginBoxCorners");
j=v[0];e=v[1]}t.translate(-j,-e);t.rotate(y[2]);t.scale(T,a);t.rotate(-y[2]);t.translate(j,e)}else{t.translate(-b[0],-b[1]);
t.translate(d[0],d[1])}}else{if(y[0]!=0)d=_.X.QI(o);var j=(d[0]+d[2])/2,e=(d[1]+d[3])/2;t.translate(-j,-e);
if(k[0]!=0)t.rotate(k[2]);t.rotate(-y[2]);t.translate(j,e)}return _.K.bn(t)};_.X.Qm=function(g){var o=g[0],k=g[1],y=g[2],d=g[3],b=g[4],T=g[5],a=g[6],t=g[7],j=y-o,e=d-k,v=Math.sqrt(j*j+e*e),j=b-y,e=T-d,L=Math.sqrt(j*j+e*e);
return[(o+b)/2,(k+T)/2,v,L]};_.X._H=function(g,o){var k=g[o];if(k==null)return null;var y=[];k=k.v;for(var d=0;
d<4;d++){var b=k["rectangleCorner"+["A","B","C","D"][d]].v;y.push(b.Hrzn.v,b.Vrtc.v)}return y};_.X.JJ=function(g,o,k){var y=g[o];
if(y==null)return null;y=y.v;for(var d=0;d<4;d++){var b="rectangleCorner"+["A","B","C","D"][d];y[b]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:k[2*d]},Vrtc:{t:"doub",v:k[2*d+1]}}}}};
_.X.QI=function(g){return _.X.qZ(g.keyOriginShapeBBox.v)};_.X.qZ=function(g){var o=g.classID,k=g.Left.v,y=g.Rght.v,d=g.Top.v,b=g.Btom.v;
if(k.val!=null){k=k.val;y=y.val;d=d.val;b=b.val}return[k,d,y,b]};_.X.lt=function(g,o){_.X.tl(g.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],o)};
_.X.Si=function(g){var o=g.keyOriginRRectRadii;if(o==null)return[0,0,0,0];return _.X.FB(o.v)};_.X.FB=function(g){var o=[],k=["topLeft","topRight","bottomRight","bottomLeft"];
for(var y=0;y<4;y++)o.push(g[k[y]].v.val);return o};_.X.HT=function(g,o){_.X.tl(g.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],o)};
_.X.tl=function(g,o,k){var y=g.classID;if(y=="unitRect"||y=="radii"||y=="Rctn"){for(var m=0;m<4;m++)if(k[m]!=null)g[o[m]]={t:"UntF",v:{type:"#Pxl",val:k[m]}}}else{for(var m=0;
m<4;m++)if(k[m]!=null)g[o[m]]={t:"doub",v:k[m]}}};_.X.E0=function(g){var o=g.keyOriginLineStart.v,k=g.keyOriginLineEnd.v;
return[o.Hrzn.v,o.Vrtc.v,k.Hrzn.v,k.Vrtc.v]};_.X.auJ=function(g,o){var k=g.keyOriginLineStart.v,y=g.keyOriginLineEnd.v;
k.Hrzn.v=o[0];k.Vrtc.v=o[1];y.Hrzn.v=o[2];y.Vrtc.v=o[3]};_.X.aaI=function(g){var o=[],k=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var m=0;m<5;m++){var y=g["keyOriginLineArr"+k[m]];if(y==null)return null;o[m]=y.v}return o};_.X.a9N=function(g,o){g.keyOriginLineArrowSt={t:"bool",v:o[0]};
g.keyOriginLineArrowEnd={t:"bool",v:o[1]};g.keyOriginLineArrWdth={t:"doub",v:o[2]};g.keyOriginLineArrLngth={t:"doub",v:o[3]};
g.keyOriginLineArrConc={t:"long",v:o[4]}};_.X.a4E=function(g){function o(n,X){return Math.abs(n-X)<.5}function k(n,X){return o(n.x,X.x)&&o(n.y,X.y)}function y(n,X,u,I,r,J,U){for(var m=0;
m<U;m++){var K=n[X+(u+m)%U],i=I[r+(J+m)%U];if(!(k(K.H,i.H)&&k(K.Tp,i.Tp)&&k(K.dt,i.dt)))return!1}return!0}var d=[],b=_.w.L7(g);
for(var T=0;T<b;T++){var a=null,t=_.w.SO(g,T),j=g[t];if(j.length==4||j.length==8){var e=_.w.d2(g.slice(0,2).concat(g.slice(t,t+j.length+1)));
t=2;if(j.length==4){var v=_.w.d9(e,t+1,4),L=v.x,P=v.y,Q=L+v.m,x=P+v.n;if(v.O()>4){if(_.w.zg(e.slice(t-2,t+5)))a=_.X.p5(2,[L,P,Q,x],[0,0,0,0]);
else{var F=-1;for(var m=0;m<4;m++)if(o(e[t+1+m].H.y,x))F=m;if(F!=-1){var E=_.w.qA.rj(L,P,Q-L,x-P),f=y(e,t+1,F,E,3,0,4);
if(f)a=_.X.p5(5,[L,P,Q,x])}}}}if(j.length==8){var v=_.w.d9(e,t+1,8),L=v.x,P=v.y,Q=L+v.m,x=P+v.n;if(v.O()>4){var F=-1;
for(var m=0;m<8;m++)if(o(e[t+1+(m+1&7)].H.y,P)&&o(e[t+1+(m+2&7)].H.y,P))F=m;if(F!=-1){var c=Math.abs(e[t+1+F].H.y-P),M=[c,c,c,c];
if(c>.5){var E=_.w.qA.Rect(L,P,Q-L,x-P,M),f=y(e,t+1,F,E,3,0,8);if(f)a=_.X.p5(2,[L,P,Q,x],M)}}}}}d.push(a?a:_.X.o7())}return d};
_.p={};_.p.clone=function(g){return{F:g.F.slice(0),j:g.j.slice(0)}};_.p.r4=function(g){if(g.length<6)return!0;
var o=g.length-4;for(var m=0;m<o;m+=2)if(!_.p.DK(g[m],g[m+1],g[m+2],g[m+3],g[m+4],g[m+5]))return!1;if(!_.p.DK(g[o],g[o+1],g[o+2],g[o+3],g[0],g[1]))return!1;
if(!_.p.DK(g[o+2],g[o+3],g[0],g[1],g[2],g[3]))return!1;return!0};_.p.DK=function(g,o,k,y,d,b){return(o-y)*(d-k)+(k-g)*(b-y)>=0};
_.p.Yy=function(g){var o={},k=null,y=0,d={M:2,L:2,Q:4,C:6},b="",T="";for(var m=0;m<g.F.length;m++){var a=g.F[m];
if(a[0]=="#")b=a;else if(a[0]=="X")b="";else if(a[0]=="O"&&a[1]=="-")T=a;else if(a=="OX")T="";else{var t=b+T;
k=o[t];if(k==null)k=o[t]={j:[],F:[]};k.F.push(a);var j=d[a];if(j==null)j=0;for(var e=0;e<j;e++)k.j.push(g.j[y+e]);
y+=j}}return o};_.p.xx=function(g,o,k){var y=g[o]-g[k-2],d=g[o+1]-g[k-1];return y*y+d*d<1e-4};_.p.XP=function(g,o,k){g=_.p.Uh(g);
var y=g.j,d=g.F,b=0,T="",a=0,t=0,b=0,v=null;for(var m=0;m<d.length;m++){var j=d[m];if(j=="M"){a=y[b];
t=y[b+1];b+=2;T=j}if(j=="C"){if(T=="Z"){d.splice(m,0,"M");y.splice(b,0,a,t);m--;continue}b+=6;T=j}if(j=="Z"){T=j}}var e=[];
b=0;for(var m=0;m<d.length;m++){var j=d[m];if(j=="M"){v={Bd:b,eR:0,kA:!1};e.push(v);b+=2}if(j=="C"){v.eR++;
b+=6}if(j=="Z"&&v!=null){v.kA=!0}}var L=[];for(var m=0;m<e.length;m++)if(e[m].eR!=0)L.push(e[m]);e=L;
for(var m=0;m<e.length;m++){var H=e[m],w=H.Bd,P=w+2+H.eR*6,x=0;H.rC=_.p.AU(y,w,P);var Q=_.p.xx(y,w,P);
for(var F=0;F<H.eR;F++){var E=w+F*6,f=E+6;x+=(y[f]-y[E])*(y[f+1]+y[E+1])}if(H.eR==2){var c=function(f4,V,q){var s=1-q;
return s*s*s*f4[V]+3*s*s*q*f4[V+2]+3*s*q*q*f4[V+4]+q*q*q*f4[V+6]},M=y[w],n=y[w+1],X=y[w+6],u=y[w+7],I=y[w+6],r=y[w+7],J=c(y,w,.5),U=c(y,w+1,.5),K=c(y,w+6,.5),i=c(y,w+7,.5);
x=(J-M)*(U-n)+(X-J)*(u-U)+(K-X)*(i-u)+(I-K)*(r-i)}if(!Q)x+=(y[w]-y[P-2])*(y[w+1]+y[P-1]);H.gL=x<=0}for(var m=0;
m<e.length-1;m++)for(var E=m+1;E<e.length;E++){var z=e[m],h=e[E];if(h.rC.IK(z.rC)){e[m]=h;e[E]=z}}var R=e.length==0?!0:e[0].gL,C=[{type:6},{type:8,all:0}];
for(var m=0;m<e.length;m++){var H=e[m],w=H.Bd,P=w+2+H.eR*6,Q=_.p.xx(y,w,P),G=H.kA||Q?0:3,W=H.gL==R&&!o?1:0;
if(!o&&m!=0){if(e[m-1].rC.IK(H.rC)&&e[m-1].gL!=H.gL)W=0;for(var E=0;E<e.length;E++)if(E!=m&&e[E].rC.IK(H.rC))W=0}C.push({type:G,length:H.eR+(Q?0:1),dJ:k?1:W,Pj:2});
for(var E=0;E<H.eR;E++){var b=w+E*6,A=new bJ(y[b],y[b+1]),$=new bJ(y[b+2],y[b+3]),O;if(E==0){if(Q){O=new bJ(y[P-4],y[P-3]);
if(bJ.YX(O,A)<1e-5)O=A.clone()}else O=A.clone()}else O=new bJ(y[b-2],y[b-1]);C.push({type:G+2,Tp:O,H:A,dt:$})}if(!Q){var Y=new bJ(y[P-2],y[P-1]);
C.push({type:G+2,Tp:new bJ(y[P-4],y[P-3]),H:Y,dt:Y.clone()})}}for(var E=0;E<C.length;E++){var l=C[E];
if(l.type>5||l.type==0||l.type==3)continue;var B=l.Tp.ey(l.H)||l.dt.ey(l.dt);if(!B){var z=l.Tp.x*(l.H.y-l.dt.y)+l.H.x*(l.dt.y-l.Tp.y)+l.dt.x*(l.Tp.y-l.H.y);
if(Math.abs(z)<1e-6)B=!0}if(B)l.type--}return C};_.p.$Q=function(g,o){var k=_.w.L7(g),y=[];for(var m=2;
m<g.length;m++){var d=g[m].dJ;if(d!=null){if(d==2||d==0||d==3)y.push(d)}}var b=y.length!=0;if((b||o)&&g.length<15e3&&1<k&&k<200)g=_.w.Vc(g);
var T=_.p.rR(g);return{gs:T,Lq:b?1:0}};_.p.rR=function(){function g(y,d,b,T){if(!T&&y.dt.ey(y.H)&&d.Tp.ey(d.H)){b.j.push(d.H.x,d.H.y);
b.F.push("L")}else{var a=y.H,t=y.dt,j=d.Tp,e=d.H,v=3/2*t.x-1/2*a.x,L=3/2*t.y-1/2*a.y,H=3/2*j.x-1/2*e.x,w=3/2*j.y-1/2*e.y,P=H-v,Q=w-L;
if(!T&&P*P+Q*Q<.001){b.j.push((v+H)*.5,(L+w)*.5,e.x,e.y);b.F.push("Q")}else{b.j.push(t.x,t.y,j.x,j.y,e.x,e.y);
b.F.push("C")}}}function o(y,d,m,b,T,a){var t=d[m];y.j.push(t.H.x,t.H.y);y.F.push("M");for(var j=m;j<m+b-1;
j++)g(d[j],d[j+1],y,a);if(!T)g(d[j],d[m],y,a)}function k(y,d){y=_.w.d2(y);if(d==null)d=!1;var b={j:[],F:[]};
for(var m=0;m<y.length;m++){if(y[m].type>5)continue;var T=y[m].length;if(T==0)continue;if(m==y.length-1)break;
var a=y[m].type==3;o(b,y,m+1,T,a,d);if(!a)b.F.push("Z");m+=T}return b}return k}();_.p.asY=function(g){var o=g.j,k=[],y,d=0;
for(var m=0;m<g.F.length;m++){var b=g.F[m];if(b=="C"){y.push(o[d++],o[d++],o[d++],o[d++],o[d++],o[d++])}else if(b=="Z"){}else{y=[];
if(b!="M"){y.push(b);m++}y.push(o[d++],o[d++]);k.push(y)}}return k};_.p.IN=function(g,o,k,y){if(y==null)y=1e9;
var d=1e9,b=0;for(var m=0;m<g.length;m+=2){var T=o-g[m],a=k-g[m+1],t=T*T+a*a;if(t<d){d=t;b=m>>>1}}return d<y*y?b:-1};
_.p.r9=function(g,o,k,y){for(var m=0;m<g.length;m+=2){var d=g[m],b=g[m+1],T=o[m],a=o[m+1];k[m]=d+(T-d)*y;
k[m+1]=b+(a-b)*y}};_.p.D=function(g,o,k){for(var m=0;m<g.length;m+=2){var y=g[m],d=g[m+1];k[m]=y*o.Ng+d*o._I+o.ii;
k[m+1]=y*o.k+d*o.vP+o.xF}};_.p.AU=function(g,o,k){if(o==null)o=0;if(k==null)k=g.length;var y=99999999999,d=-y,b=99999999999,T=-b;
for(var m=o;m<k;m+=2){var a=g[m],t=g[m+1];y=Math.min(y,a);b=Math.min(b,t);d=Math.max(d,a);T=Math.max(T,t)}return new bd(y,b,d-y,T-b)};
_.p.Ts=function(g,o){var k=Math.max(o.x,Math.min(o.x+o.m,g.x)),y=Math.max(o.y,Math.min(o.y+o.n,g.y)),d=g.x-k,b=g.y-y;
return Math.sqrt(d*d+b*b)};_.p.Ze=function(g){var o=Math.floor(g.x),k=Math.ceil(g.x+g.m),y=Math.floor(g.y),d=Math.ceil(g.y+g.n);
return new bd(o,y,k-o,d-y)};_.p.KS=function(g){return _.p.Ze(_.p.AU(g))};_.p.rN=function(g){var o=g.x,k=g.y,y=g.x+g.m,d=g.y+g.n;
return{F:["M","L","L","L","Z"],j:[o,k,y,k,y,d,o,d]}};_.p.concat=function(g,o,k){if(k==null)k=new d3;
for(var m=0;m<o.j.length;m+=2){var y=o.j[m],d=o.j[m+1];g.j.push(y*k.Ng+d*k._I+k.ii);g.j.push(y*k.k+d*k.vP+k.xF)}for(var m=0;
m<o.F.length;m++)g.F.push(o.F[m])};_.p.aaf=function(g,o,k,y,d){function b(L,H,w){return new bJ(L.x*(1-w)+H.x*w,L.y*(1-w)+H.y*w)}var T=b(g,o,d),a=b(k,y,d),t=b(o,k,d),j=b(T,t,d),e=b(t,a,d),v=b(j,e,d);
return[T,j,v,e,a]};_.p.Uh=function(g){var o=g.j,k=[],y=[],d=0,b=0,T=0,a=0,t=0,j=0,e=0,v=0,L=0,H=0,w=0;
for(var m=0;m<g.F.length;m++){var P=g.F[m];if(P=="M"){b=o[d];T=o[d+1];d+=2;y.push(P);k.push(b,T);H=b;
w=T}else if(P=="C"){a=o[d];t=o[d+1];j=o[d+2];e=o[d+3];v=o[d+4];L=o[d+5];d+=6;y.push(P);k.push(a,t,j,e,v,L);
b=v;T=L}else if(P=="Q"){a=o[d];t=o[d+1];j=o[d+2];e=o[d+3];d+=4;var Q=a-b,x=t-T,F=j-a,E=e-t;y.push("C");
k.push(b+2/3*Q,T+2/3*x,a+1/3*F,t+1/3*E,j,e);b=j;T=e}else if(P=="L"){a=o[d];t=o[d+1];d+=2;if(a!=b||t!=T){y.push("C");
k.push(b,T,a,t,a,t);b=a;T=t}}else{if(P=="Z"){b=H;T=w}y.push(P)}}return{F:y,j:k}};_.p.axo=function(g){var o=g.j,k=[],y=[],d=0;
for(var m=0;m<g.F.length;m++){var b=g.F[m];if(b=="Q"){var T=o[d-2],a=o[d-1],t=o[d],j=o[d+1],e=o[d+2],v=o[d+3];
d+=4;var L=t-T,H=j-a,w=e-t,P=v-j;y.push("C");k.push(T+2/3*L,a+2/3*H,t+1/3*w,j+1/3*P,e,v)}else{var Q=0;
if(b=="M"||b=="L")Q=2;else if(b=="C")Q=6;for(var x=0;x<Q;x++)k.push(o[d+x]);d+=Q;y.push(b)}}return{F:y,j:k}};
_.p.ki=function(g,o){var k=g.j,y=[],d=[],b=0,T=0,a=0,t=0,j=0,e=0,v=0,L=0,H=0;for(var m=0;m<g.F.length;
m++){var w=g.F[m];if(w=="M"){T=k[b];a=k[b+1];b+=2;d.push(w);y.push(T,a)}else if(w=="C"){t=k[b];j=k[b+1];
e=k[b+2];v=k[b+3];L=k[b+4];H=k[b+5];b+=6;_.p.nP(T,a,t,j,e,v,L,H,o,d,y,0);T=L;a=H}else d.push(w)}return{F:d,j:y}};
_.p.nP=function(g,o,k,y,d,b,T,a,t,j,e,v){var L=Math.sqrt((T-g)*(T-g)+(a-o)*(a-o)),H=Math.sqrt((T-d)*(T-d)+(a-b)*(a-b))+Math.sqrt((d-k)*(d-k)+(b-y)*(b-y))+Math.sqrt((k-g)*(k-g)+(y-o)*(y-o)),w=(L+H)/2;
if(w<=t){j.push("C");e.push(k,y,d,b,T,a)}else{var P=0,Q=0,x=0,F=0,E=0,f=0,c=0,M=0,n=0,X=0,u=0,I=0,r=0;
Q=(g+k)/2;x=(o+y)/2;F=(k+d)/2;E=(y+b)/2;f=(d+T)/2;c=(b+a)/2;M=(Q+F)/2;n=(x+E)/2;X=(F+f)/2;u=(E+c)/2;
I=(M+X)/2;r=(n+u)/2;_.p.nP(g,o,Q,x,M,n,I,r,t,j,e,v+1);_.p.nP(I,r,X,u,f,c,T,a,t,j,e,v+1)}};_.p.Ur=function(g,o,k,y,d){var b=Date.now(),T=_.p.ais(g,o,k);
if(d){console.log("trace polygons",Date.now()-b);b=Date.now()}var a=[];for(var m=0;m<T.length;m++){var t=T[m],j=t[0],e=["M"],v=g[j[1]*o+j[0]];
if(j.length>8)j=_.p.kY(j,y,t[1]);if(j.length<=4)continue;for(var L=2;L<j.length;L+=2)e.push("L");e.push("Z");
a.push({path:{j:j,F:e},color:v,parent:-1,rC:_.p.AU(j)})}if(d){console.log("simplify polygons",Date.now()-b);
b=Date.now()}for(var m=1;m<a.length;m++){var H=a[m],w=H.path.j,P=w[0],Q=w[1],x=w[2],F=w[3],E=x-P,f=F-Q,c=P+.5*E-.001*f,M=Q+.5*f+.001*E;
for(var L=m-1;L>=0;L--){var n=a[L];if(!n.rC.IK(H.rC))continue;if(!aO.OA(n.path.j,c,M))continue;H.parent=L;
break}}if(d){console.log("checking parents",Date.now()-b);b=Date.now()}return a};_.p.ais=function(g,o,k){var y=o*k,d=new Uint16Array(o*k),T=0;
for(var m=0;m<y;m++)d[m]=g[m];var b=new Uint8Array(o*k);b[1*o+1]=b[(k-1)*o+1]=b[1*o+o-1]=b[(k-1)*o+o-1]=1;
for(var a=1;a<k;a++)for(var t=1;t<o;t++){var m=a*o+t,j=d[m-o-1],e=d[m-o],v=d[m-1],L=d[m],H=j==L&&e==v&&j!=e,w=0;
if(L<v){T=L;L=v;v=T}if(v<e){T=v;v=e;e=T}if(e<j){T=e;e=j;j=T}if(L<v){T=L;L=v;v=T}if(v<e){T=v;v=e;e=T}if(L<v){T=L;
L=v;v=T}if(j!=e)w++;if(e!=v)w++;if(v!=L)w++;if(L!=j)w++;if(w>=3||H)b[m]=1}var P=[];for(var a=1;a<k;a++)for(var t=1;
t<o;t++){var m=a*o+t;if(d[m]!=d[m-1]){var Q=_.p.aal(d,o,k,t,a),x=[];for(var F=0;F<Q.length;F+=2)if(b[Q[F+1]*o+Q[F]]==1)x.push(F>>>1);
P.push([Q,x]);_.p.xS(d,o,k,t,a)}}return P};_.p.xS=function(g,o,k,y,d){var b=[d*o+y],T=g[d*o+y];g[d*o+y]=65535;
while(b.length!=0){var m=b.pop();g[m]=0;if(g[m+o]==T){b.push(m+o);g[m+o]=65535}if(g[m-o]==T){b.push(m-o);
g[m-o]=65535}if(g[m-1]==T){b.push(m-1);g[m-1]=65535}if(g[m+1]==T){b.push(m+1);g[m+1]=65535}}};_.p.aal=function(g,o,k,y,d){var b=[0,-1,1,0,0,1,-1,0],e=1;
function T(L,H,e){var m=j*o+t,w=0;if(e==0)w=m-o;else if(e==1)w=m;else if(e==2)w=m-1;else if(e==3)w=m-o-1;
return g[w]}var a=[],t=y,j=d,v=T(t,j,e);do{a.push(t,j);t+=b[e*2];j+=b[e*2+1];if(T(t,j,e)!=v)e=e+1&3;
else if(T(t,j,e+3&3)!=v)e=e;else if(T(t,j,e+2&3)!=v)e=e+3&3}while(t!=y||j!=d);return a};_.p.kY=function(g,o,k){var y=g.length-2;
if(k&&k.length!=0){var d=k[0]*2,b=k[k.length-1]*2,T=d==0?y:d-2,a=g.slice(b);for(var m=0;m<d;m++)a.push(g[m]);
if(d==b)a.push(.9*g[d]+.1*g[T],.9*g[d+1]+.1*g[T+1]);else a.push(g[d],g[d+1]);a=_.p.wl(a,o);a.pop();a.pop();
for(var m=0;m<k.length-1;m++){var t=g.slice(k[m]*2,k[m+1]*2+2);t=_.p.wl(t,o);for(var j=0;j<t.length-2;
j++)a.push(t[j])}return a}var e=g.slice(0);e.push(.9*g[0]+.1*g[y],.9*g[1]+.1*g[y+1]);e=_.p.wl(e,o);e.pop();
e.pop();return e};_.p.wl=function(g,o){var k=g.length-2,y=g[0],d=g[1],b=g[k],T=g[k+1],a=b-y,t=T-d,j=1/Math.sqrt(a*a+t*t),e=b*d-T*y,v=-1,L=-1,H=0;
for(var m=2;m<k;m+=2){var w=g[m],P=g[m+1],Q=P*P*1e6+w*w,x=Math.abs(t*w-a*P+e)*j;if(x>L||x==L&&Q>H){L=x;
v=m;H=Q}}if(L<o)return[y,d,b,T];var F=_.p.wl(g.slice(0,v+2),o),E=_.p.wl(g.slice(v),o);for(var m=2;m<E.length;
m++)F.push(E[m]);return F};_.p.ahI=function(){var g=function(y,d,b,T,a,t){return(d-T)*(a-b)+(b-y)*(t-T)>=0},o=function(y,d,b,T,a,t,j,e){var v=j-b,L=e-T,H=a-b,w=t-T,P=y-b,Q=d-T,x=v*v+L*L,F=v*H+L*w,E=v*P+L*Q,f=H*H+w*w,c=H*P+w*Q,M=1/(x*f-F*F),n=(f*E-F*c)*M,X=(x*c-F*E)*M;
return n>=0&&X>=0&&n+X<1},k=function(y){var cy=y.length>>>1,m=0;if(cy<3)return[];var d=[],b=[];for(var m=0;
m<cy;m++)b.push(m);var T=cy;while(T>3){var a=b[(m+0)%T],t=b[(m+1)%T],j=b[(m+2)%T],e=y[2*a],v=y[2*a+1],L=y[2*t],H=y[2*t+1],w=y[2*j],P=y[2*j+1],Q=!1;
if(g(e,v,L,H,w,P)){Q=!0;for(var x=0;x<T;x++){var F=b[x];if(F==a||F==t||F==j)continue;if(o(y[2*F],y[2*F+1],e,v,L,H,w,P)){Q=!1;
break}}}if(Q){d.push(a,t,j);b.splice((m+1)%T,1);T--;m=0}else if(m++>3*T)break}d.push(b[0],b[1],b[2]);
return d};return k}();_.p.aiH=function(g,o){var k={},y={F:[],j:[]};for(var m=0;m<o.length;m+=3){var d=o[m]*2,b=o[m+1]*2,T=o[m+2]*2;
_.p.u7(g,d,b,y,k);_.p.u7(g,d,T,y,k);_.p.u7(g,b,T,y,k)}return y};_.p.u7=function(g,o,k,y,d){if(o>k){var b=k;
k=o;o=b}if(d[o+","+k])return;d[o+","+k]=!0;y.F.push("M","L");y.j.push(g[o],g[o+1],g[k],g[k+1])};_.p.nT=function(g,o){var k=[],y=g.length;
for(var m=0;m<y;m+=2){var d=g[m],b=g[m+1],T=g[(m+2)%y],a=g[(m+3)%y];if(a<b){var t=b;b=a;a=t}if(b<o&&o<a){var j=(o-b)/(a-b);
k.push(d+j*(T-d))}}k.sort(function(e,v){return e-v});return k};_.p.Sd=function(g,o,k,y,d,b,T){var a=g-k,t=o-y,j=d-k,e=b-y,v=1/Math.sqrt(a*a+t*t),L=1/Math.sqrt(j*j+e*e),H=a*v,w=t*v,P=j*L,Q=e*L,x=w*T,F=-H*T,E=-Q*T,f=P*T,c=_.p.BQ(x,F,H,w,E,f,P,Q),M=x+H*c,n=F+w*c,c=_.p.BQ(0,0,H,w,M,n,-w,H),X=H*c,u=w*c;
return[Math.sqrt(X*X+u*u),H,w,P,Q]};_.p.aoZ=function(g,o,k,y,d,b,T){var a=_.p.Sd(g,o,k,y,d,b,T),t=a[0],j=a[1],e=a[2],v=a[3],L=a[4],H=Math.atan2(j*L-e*v,j*v+e*L);
if(H<0){H=H*-1}var w=Math.PI-H,P=4/3*Math.tan(w/4),Q=k+t*j,x=y+t*e,F=k+t*v,E=y+t*L,f=Q+P*T*-j,c=x+P*T*-e,M=F+P*T*-v,n=E+P*T*-L;
return[0,0,Q,x,f,c,M,n,F,E]};_.p.BQ=function(g,o,k,y,d,b,T,a){var t=T*(o-b)-a*(g-d),j=a*k-T*y;if(j==0)return 0;
return t/j};_.p.aw9=function(g,o,k,y,d,b){return g*(y-b)+k*(b-o)+d*(o-y)};_.p.aim=function(g){function o(K,i,z,h,R,C,G,W,A){var $=_.p.BQ(K,i,z,h,R,C,G,W);
A.push(K+z*$,i+h*$)}var k=[],y=g.length,d=[];for(var m=0;m<y;m+=2){var b=m==0?y-2:m-2,T=m==y-2?0:m+2,a=g[m],t=g[m+1],j=a-g[b],e=t-g[b+1],v=g[T]-a,L=g[T+1]-t,H=Math.sqrt(j*j+e*e),w=Math.sqrt(v*v+L*L);
d.push(w);var P=H/(H+w),Q=a-j*.5,x=t-e*.5,F=a+v*.5,E=t+L*.5,f=(g[T]+g[b])*.5,c=(g[T+1]+g[b+1])*.5,M=Q+P*(F-Q),n=x+P*(E-x),X=a-M,u=t-n,I=(v*-j+L*-e)/(H*w),r=(P-.5)*7,J=1+r*P,U=1-r*(1-P);
k.push(Q+X*J,x+u*J,F+X*U,E+u*U)}return k};_.X_=function(){};_.X_.Ve=function(g,o,k,y,d){var b=k.m,T=k.n,a=b*T,t=new Int32Array(a),cy=0;
for(var m=0;m<a;m++)if(o[m]!=0){t[m]=cy;cy++}else if(g[(m<<2)+3]<200){t[m]=-2}else t[m]=-1;if(cy==0)return;
var j=new _.Wc(cy,cy),e=new Array(3*cy),v=new Array(3*cy);for(var m=0;m<v.length;m++)v[m]=e[m]=0;var L=1/255,H=[-b,-1,1,b],w=[],P=[];
for(var Q=0;Q<T;Q++)for(var x=0;x<b;x++){var F=Q*b+x,E=F<<2,m=t[F],f=m*3,c=0,M=0,n=0;if(m==-1||m==-2)continue;
for(var X=0;X<4;X++){if(X==2){M=n;w[n]=0;P[n]=m;n++}var u=F+H[X],I=u<<2,r=t[u];if(X==0&&Q==0||X==1&&x==0||X==2&&x==b-1||X==3&&Q==T-1||r==-2)continue;
c++;if(r==-1){e[f+0]+=g[I+0];e[f+1]+=g[I+1];e[f+2]+=g[I+2]}else{w[n]=-1;P[n]=r;n++;if(o[F]==o[u]){e[f+0]+=g[E+0]-g[I+0];
e[f+1]+=g[E+1]-g[I+1];e[f+2]+=g[E+2]-g[I+2]}}}w[M]=c;j.j7(w,P,n)}for(var m=0;m<a;m++)if(t[m]!=-1){var J=m<<2,U=t[m],K=U*3;
v[K]=g[J+0];v[K+1]=g[J+1];v[K+2]=g[J+2]}var i=Date.now();j.ax1(v,e,y,d);console.log(Date.now()-i);for(var m=0;
m<a;m++){var U=t[m],z=U*3,J=m<<2;if(U==-1||g[J+3]!=255)continue;g[J+0]=~~(.5+Math.max(0,Math.min(255,v[z+0])));
g[J+1]=~~(.5+Math.max(0,Math.min(255,v[z+1])));g[J+2]=~~(.5+Math.max(0,Math.min(255,v[z+2])))}};_.rect={};
_.rect.es=function(g,o){var k=[g],y=[];for(var m=0;m<o.length;m++){var d=o[m],b=!1;for(var T=m+1;T<o.length;
T++){var a=o[T];if(a[0]<=d[0]&&a[1]<=d[1]&&d[2]<=a[2]&&d[3]<=a[3]){b=!0;break}}if(!b)y.push(d)}o=y;for(var m=0;
m<o.length;m++){var d=o[m];for(var T=0;T<k.length;T++){var a=k[T],t=Math.max(d[0],a[0]),j=Math.min(d[2],a[2]),e=Math.max(d[1],a[1]),v=Math.min(d[3],a[3]);
if(t<j&&e<v){var L=[];if(a[1]<d[1]){var H=a.slice(0);H[3]=d[1];L.push(H)}if(a[0]<d[0]){var w=a.slice(0);
w[1]=e;w[2]=d[0];L.push(w)}if(d[2]<a[2]){var P=a.slice(0);P[1]=e;P[0]=d[2];L.push(P)}if(d[3]<a[3]){var Q=[t,v,j,a[3]];
L.push(Q)}if(L.length!=0){k[T]=L[0];for(var x=1;x<L.length;x++)k.push(L[x])}}}k.push(d);k=_.rect.adx(k)}k.sort(function(d,a){return d[1]!=a[1]?d[1]-a[1]:d[0]-a[0]});
for(var m=1;m<k.length;m++){var d=k[m-1],a=k[m];if(d[0]==a[0]&&d[1]==a[1]&&d[2]==a[2]&&d[3]==a[3]){k.splice(d[4]==null?m-1:m,1);
m--}}return k};_.rect.adx=function(g){g=g.slice(0);for(var m=0;m<g.length;m++){var o=g[m],k=null;if(o[4]!=null)continue;
for(var y=0;y<g.length;y++){var d=g[y];if(m==y||d[4]!=null)continue;var b=o[0]==d[0],T=o[1]==d[1],a=o[2]==d[2],t=o[3]==d[3];
if(T&&t&&(o[2]==d[0]||o[0]==d[2])){k=[Math.min(o[0],d[0]),o[1],Math.max(o[2],d[2]),o[3]]}if(b&&a&&(o[3]==d[1]||o[1]==d[3])){k=[o[0],Math.min(o[1],d[1]),o[2],Math.max(o[3],d[3])]}if(k){g[m]=k;
g.splice(y,1);break}}if(k){m--}}return g};_.rect.og=function(g){var o=new bd;for(var m=0;m<g.length;
m++)o=o.gO(g[m]);return o};_.rect.aqh=function(g,o){var k=_.rect.og,y=new UnionFind(g.length),M=1e3,n=1e3;
for(var m=0;m<g.length;m++)for(var d=m+1;d<g.length;d++){if(!o)continue;var b=g[m],T=g[d],v=1e9,L=1e9;
if(b.AM(T)){y.link(m,d);continue}var a=b.x+b.m,t=b.y+b.n,j=T.x+T.m,e=T.y+T.n;if((a<T.x||j<b.x)&&(t<T.y||e<b.y))continue;
if(!(t<T.y||e<b.y))v=Math.min(Math.abs(a-T.x),Math.abs(b.x-j));if(!(a<T.x||j<b.x))L=Math.min(Math.abs(t-T.y),Math.abs(b.y-e));
var H=Math.min(v,L),w=Math.min(b.m,b.n,T.m,T.n);if(H<.3*w)y.link(m,d)}var P=[],Q={};for(var m=0;m<g.length;
m++){var x=y.find(m),F=g[m];if(Q[x]==null){Q[x]=P.length;P.push([])}P[Q[x]].push(F)}var E=[],f=[];for(var m=0;
m<P.length;m++){E.push(k(P[m]));var c=k(P[m]);c.bi=m;f.push(c)}f.sort(function(h,R){return Math.max(R.n,R.m)-Math.max(h.n,h.m)});
var X=new NETXUS.RectanglePacker(M,n);while(!0){var u=!1;X.reset(M,n);for(var m=0;m<f.length;m++){var I=X.findCoords(f[m].m,f[m].n);
if(I){f[m].x=I.x;f[m].y=I.y}else{M=Math.floor(M*1.1);n=Math.floor(n*1.1);u=!0;break}}if(u)continue;break}for(var m=0;
m<P.length;m++){var r=f[m],J=r.bi,U=E[J],K=P[J],i=r.x-U.x,z=r.y-U.y;for(var d=0;d<K.length;d++)K[d].offset(i,z)}};
_.bt=function(){};_.bt.P4=Math.floor(16*window.devicePixelRatio);_.bt.Te={};_.bt.xQ=0;_.bt.S5=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
_.bt.amk=["px","in","cm","mm","%"];_.bt.yF=function(g,o,k,y){var d=[1,o,o/2.54,o/25.4,k/100][y];return g*d};
_.bt.afu=function(g,o,k,y){var d=[1,o,o/2.54,o/25.4,k/100][y];return g/d};_.bt.m4=function(g,o,k,y,d){var b=k.Nn.rx,T=[1,o,o/2.54,o/25.4,y/100][b],a=[2,3,2,1,2][b];
g=g/T;var t=Math.round(g),j=b==0&&Math.abs(g-t)<1e-6?t+"":g.toFixed(a);if(d)j+=" "+_.bt.amk[b];return j};
_.bt.ag7=function(g,o,k,y){var d=k.Nn.rx,b=[1,o,o/2.54,o/25.4,y/100][d];g=parseFloat(g)*b;return g};
_.bt.atV=function(g,o){var k=g+","+o;if(_.bt.Te.clr==k)return;var y=Math.round(_.bt.P4*.5);_.bt.xQ=y;
var d=document.createElement("canvas");d.width=d.height=y;var b=d.getContext("2d");b.font=y*1.5+"px monospace";
var T="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var m=0;m<T.length;m++){b.fillStyle="#"+_.Mb(o);b.fillRect(0,0,y,y);
b.fillStyle="#"+_.Mb(g);b.fillText(T[m],0,y);_.bt.Te[T[m]]=b.getImageData(0,0,y,y).data}_.bt.Te.clr=k};
_.bt.ajr=function(g,o,k){var y=0,d=0,b=4*_.bt.P4;for(var m=9;m>=0;m--){var T=Math.pow(10,m);if(5*T*g<=b){y=5*T;
d=10;break}if(2*T*g<=b){y=2*T;d=4;break}if(1*T*g<=b){y=1*T;d=10;break}}if(y==0){y=1;d=10}var a=Math.ceil(y*g),t=_.Q(a*_.bt.P4*4);
_.Sm(t,4278190080|k);for(var m=0;m<_.bt.P4;m++)_.bt.XX(t,4*m*a,o);for(var m=0;m<a;m++)_.bt.XX(t,4*((_.bt.P4-1)*a+m),o);
if(y==2)d=2;if(y==5)d=5;if(y>1||y==1&&a>20)for(var m=1;m<d;m++)_.bt.aea(t,m*(a/d),a,(m&1)==1?.8:.7,o);
return{Tq:t,step:y}};_.bt.aea=function(g,o,k,y,d){var o=Math.round(o);for(var b=Math.round(_.bt.P4*y);
b<_.bt.P4-1;b++)_.bt.XX(g,4*(b*k+o),d)};_.bt.XX=function(g,o,k){g[o+0]=k>>16&255;g[o+1]=k>>8&255;g[o+2]=k&255};
_.bt.ahS=function(g,o,k,y,d,b,T){var a=g.dd.m,t=g.dd.n,j=_.bt.P4,e=o&255,v=o>>8&255,L=o>>16&255;o=Math.round(e*.6)<<16|Math.round(v*.6)<<8|Math.round(L*.6);
_.bt.atV(Math.round(e*.8)<<16|Math.round(v*.8)<<8|Math.round(L*.8),k);var H=g.N,w=g.Y,P=g.ef;for(var Q=0;
Q<2;Q++){var x=Q==0?b:T;g.N=x[0];g.Y=x[1];g.ef=0;var F=this.ajr(g.N,o,k),E=g.mp(0,0),f=g.mp(a,t),c=Math.floor(E.x/F.step)*F.step,M=Math.ceil(f.x/F.step)*F.step,n=Math.floor(E.y/F.step)*F.step,X=Math.ceil(f.y/F.step)*F.step,u=g.gk(c,n),I=g.gk(M,n),r=F.step*g.N,J=Math.ceil(r);
if(Q==1){var U=F.Tq;F.Tq=_.Q(U.length*4);_.K.gH(U,F.Tq,J,j)}var K=Q==0?g.RQ.data:g.w_.data,i=new bd(0,0,[a,j][Q],[j,t][Q]),z=new bd(0,0,[J,j][Q],[j,J][Q]),h=new bd([0,Math.round(j*.2)][Q],[Math.round(j*.08),0][Q],_.bt.xQ,_.bt.xQ),R=(Q==0?M-c:X-n)/F.step;
for(var m=0;m<R;m++){if(Q==0)z.x=Math.round(u.x+m*r);else z.y=Math.round(u.y+m*r);_.g1(F.Tq,z,K,i,z);
var C=(Q==0?c+m*F.step:Math.abs(n+m*F.step)).toString(10);for(var G=0;G<C.length;G++){if(Q==0)h.x=z.x+3+G*Math.round(_.bt.xQ*.8);
else h.y=z.y+3+G*Math.round(_.bt.xQ*1.15);var W=_.bt.Te[C[G]];_.g1(W,h,K,i,h)}}}g.N=H;g.Y=w;g.ef=P;var A=Math.floor(j*.6),$=new Uint32Array(g.RQ.data.buffer),O=new Uint32Array(g.w_.data.buffer),Y=e<128?4278190080:4294967295;
if(0<y&&y<a)for(var m=0;m<A;m++)$[m*a+y]=Y;if(0<d&&d<t)for(var m=0;m<A;m++)O[d*j+m]=Y};_.scale={};_.scale.T=document.createElement("canvas");
_.scale.iS=_.scale.T.getContext("2d");_.scale.B1=document.createElement("canvas");_.scale.YS=_.scale.B1.getContext("2d");
_.scale.A8=function(g,o,k){var y=_.scale.T,d=_.scale.iS;y.width=o;y.height=k;var b=new ImageData(new Uint8ClampedArray(g.buffer),o,k);
d.putImageData(b,0,0);return d.createPattern(y,"repeat")};_.scale.LM=function(g,o,k,y,d,b,T,a,t){var j=_.scale.agS(g,k,y,d,b,T,a,t).data;
if(o)_.QF(j,o);return new Uint8Array(j.buffer)};_.scale.agS=function(g,o,k,y,d,b,T,a){var t=_.scale.T,j=_.scale.iS;
t.width=o;t.height=k;j.rect(0,0,o,k);j.translate(b,T);j.scale(y,d);if(a!=null)j.rotate(-a);j.fillStyle=g;
j.fill();return j.getImageData(0,0,o,k)};_.scale.D=function(g,o,k,y,d){var b=k.clone();b.TY();var T=d.m,a=d.n,t=_.p.rN(o).j;
_.p.D(t,b,t);var j=_.p.KS(t).Nm(d),e=j.x,v=j.y,L=e+j.m,H=v+j.n,w=~~o.x,P=~~o.y,Q=~~o.m,x=~~o.n;for(var F=v;
F<H;F++)for(var E=e;E<L;E++){var f=E+.5,c=F+.5,M=k.Ng*f+k._I*c+k.ii-w,n=k.k*f+k.vP*c+k.xF-P;if(0<=M&&0<=n&&M<Q&&n<x)y[F*T+E]=g[~~n*Q+~~M]}};
_.scale.O5=function(g,o,k,y,d,b){var T=new Uint32Array(g.buffer),a=new Uint32Array(y.buffer),t=k.clone();
t.TY();var j=d.m,e=d.n,v=_.p.rN(o).j;_.p.D(v,t,v);var L=b?d:_.p.KS(v).Nm(d),H=L.x,w=L.y,P=H+L.m,Q=w+L.n,x=~~o.x,F=~~o.y,E=~~o.m,f=~~o.n;
for(var c=w;c<Q;c++)for(var M=H;M<P;M++){var n=M+.5,X=c+.5,u=k.Ng*n+k._I*X+k.ii-x,I=k.k*n+k.vP*X+k.xF-F;
if(b){u=((E<<10)+u)%E;I=((f<<10)+I)%f}if(0<=u&&0<=I&&u<E&&I<f)a[c*j+M]=T[~~I*E+~~u]}};_.scale.RE=function(g,o,k,y,d,b,T){if(T<1)_.scale.alv(g,o,k,y,d,b,Math.round(1/T));
else _.scale.ao1(g,o,k,y,d,b,T)};_.scale.pX=function(g,o,k,y,d,b,T,a){if(a)a=a.Nm(new bd(0,0,o,k));g=new Uint32Array(g.buffer);
y=new Uint32Array(y.buffer);if(T<1)_.scale.a0B(g,o,k,y,d,b,Math.round(1/T),a);else _.scale.alp(g,o,k,y,d,b,T)};
_.scale.ao1=function(g,o,k,y,d,b,T){for(var a=0;a<k;a++)for(var t=0;t<o;t++){var j=g[a*o+t],e=Math.min(T,d-t*T),v=Math.min(T,b-a*T);
for(var m=0;m<v;m++)for(var L=0;L<e;L++)y[(T*a+m)*d+T*t+L]=j}};_.scale.alv=function(g,o,k,y,d,b,T){for(var a=0;
a<b;a++)for(var t=0;t<d;t++){var j=0,e=Math.min(T,o-t*T),v=Math.min(T,k-a*T);for(var m=0;m<v;m++)for(var L=0;
L<e;L++)j+=g[(T*a+m)*o+(T*t+L)];y[a*d+t]=Math.round(j/(e*v))}};_.scale.alp=function(g,o,k,y,d,b,T){for(var a=0;
a<k;a++)for(var t=0;t<o;t++){var j=g[a*o+t],e=Math.min(T,d-t*T),v=Math.min(T,b-a*T);for(var m=0;m<v;
m++)for(var L=0;L<e;L++)y[(T*a+m)*d+T*t+L]=j}};_.scale.aze=function(g,o,k){return(g>>>k&255)+(o>>>k&255)>>>1};
_.scale.k8=function(g,o){var k=_.scale.aze;return k(g,o,24)<<24|k(g,o,16)<<16|k(g,o,8)<<8|k(g,o,0)};
_.scale.ag1=function(g,o,k,y,d,b){var T=new Uint32Array(g.buffer),a=new Uint32Array(y.buffer);for(var t=0;
t<k;t++){for(var j=0;j<o;j++){var e=t*o+j,v=T[e],L=v,H=v,w=v;if(j<o-1)L=_.scale.k8(v,T[e+1]);if(t<k-1)H=_.scale.k8(v,T[e+o]);
if(j<o-1&&t<k-1)w=_.scale.k8(v,T[e+o+1]);var P=(t*d+j)*2;a[P]=v;a[P+1]=L;a[P+d]=H;a[P+d+1]=w}}if((d&1)==1)for(var t=0;
t<b;t++)a[t*d+d-1]=a[t*d+d-2];var Q=d*(b-1);if((b&1)==1)for(var j=0;j<d;j++)a[Q+j]=a[Q-d+j]};_.scale.a0B=function(g,o,k,y,d,b,T,a){var t=0,j=d,e=0,v=b;
if(a){t=Math.floor(a.x/T);j=Math.ceil((a.x+a.m)/T);e=Math.floor(a.y/T);v=Math.ceil((a.y+a.n)/T)}for(var L=e;
L<v;L++)for(var H=t;H<j;H++){var w=0,P=0,Q=0,x=0,F=Math.min(T,o-H*T),E=Math.min(T,k-L*T);for(var m=0;
m<E;m++)for(var f=0;f<F;f++){var c=g[(T*L+m)*o+T*H+f],M=c>>>24;w+=M;P+=M*(c>>>16&255);Q+=M*(c>>>8&255);
x+=M*(c&255)}if(w!=0){var n=1/w;y[L*d+H]=w/(F*E)<<24|P*n<<16|Q*n<<8|x*n}else y[L*d+H]=0}};_.J=function(){function g(a,t,m){return(128&a[m-t-1]&a[m-t]&a[m-2]&a[m-1]&a[m+1]&a[m+t-1]&a[m+t])==0}function o(a,t,m){return(128&a[m-t-t]&a[m-t+1]&a[m+2]&a[m+t+1]&a[m+t+t])==0}function k(a,t,m){return(a[m-t]&a[m-1]&a[m+1]&a[m+t]&128)==0}function y(a,m){return(a[m]&128)!=0}function d(a,t,j,e){var m=0,v=j.m,L=j.n;
if(e)for(var H=0;H<L;H++)for(var w=0;w<v;w++){if(y(a,m)&&(w<2||H<2||w>v-3||H>L-3||((a[m-1]&128)==0||t[m-1]!=0)&&g(a,v,m)||o(a,v,m)))t[m]=255;
m++}else for(var H=0;H<L;H++)for(var w=0;w<v;w++){if(y(a,m)&&(w==0||H==0||w==v-1||H==L-1||k(a,v,m)))t[m]=255;
m++}}function b(a,t,j,e,v){var L=j.m,H=j.n,w=new Uint8Array(t.buffer),P=new Uint32Array(t.buffer);if(v)for(var Q=2;
Q<H-2;Q++)for(var x=2;x<L-2;x++){var m=Q*L+x;if(y(a,m)&&(((a[m-1]&128)==0||P[m-1]!=0)&&g(a,L,m)||o(a,L,m)))P[m]=e[(x+Q&4)>>>2]}else for(var Q=1;
Q<H-1;Q++)for(var x=1;x<L-1;x++){var m=Q*L+x;if(y(a,m)&&k(a,L,m)){P[m]=e[(x+Q&4)>>>2]}}}function T(a,t,j,e,v){var L=j.m,H=j.n,w=0,P=0,Q=L,x=H,F=new Uint8Array(t.buffer),E=new Uint32Array(t.buffer);
for(var f=P;f<x;f++)for(var c=w;c<Q;c++){var m=f*L+c,M=a[m];if(e==1)E[m]=255-M>>>1<<24|255;else E[m]=255<<24|(M<<16|M<<8|M)}}return{aaG:d,ajJ:b,apR:T}}();
_.dC={};_.dC.xM=function(g,o,k){var y,d;if(k==0){y=g.rect.clone();d=_.dC.aef}if(k==1){y=g.rect.gO(o.rect);
d=_.dC.gO}if(k==2){y=o.rect.clone();d=_.dC.a7S}if(k==3){y=g.rect.Nm(o.rect);d=_.dC.Nm}if(k==4){y=g.rect.gO(o.rect);
d=_.dC.a2t}if(y.on())return null;var b=_.Q(y.O());_.sQ(o.channel,o.rect,b,y);var T=_.Q(y.O());_.sQ(g.channel,g.rect,T,y);
d(T,b,b);var a=_.P8(b,y);if(a.on())return null;if(!a.ey(y)){var t=_.Q(a.O());_.sQ(b,y,t,a);b=t;y=a}return{channel:b,rect:y}};
_.dC.aef=function(g,o,k){for(var m=0;m<g.length;m++)k[m]=g[m]};_.dC.gO=function(g,o,k){for(var m=0;m<g.length;
m++)k[m]=Math.min(g[m]+o[m],255)};_.dC.a7S=function(g,o,k){for(var m=0;m<g.length;m++)k[m]=Math.max(o[m]-g[m],0)};
_.dC.Nm=function(g,o,k){var y=1/255;for(var m=0;m<g.length;m++)k[m]=g[m]*o[m]*y};_.dC.a2t=function(g,o,k){var y=1/255;
for(var m=0;m<g.length;m++)k[m]=Math.min(g[m]+o[m],255)-g[m]*o[m]*y};_.Wc=function(g,o){this.b=[];this.bx=[0];
this.I0=[];this.Ca=[];this.R7=[0];this.MK=[];this.vZ=[];this.rows=g;this.cols=o};_.Wc.prototype.clone=function(){var g=this,o=g.rows,k=g.cols,y=new _.Wc(o,k);
y.b=g.b.slice(0);y.bx=g.bx.slice(0);y.I0=g.I0.slice(0);y.Ca=g.Ca.slice(0);y.R7=g.R7.slice(0);y.MK=g.MK.slice(0);
y.vZ=g.vZ.slice(0);return y};_.Wc.prototype.j7=function(g,o,k){var y=this.bx.length-1;for(var m=0;m<k;
m++){var d=g[m],b=o[m];this.b.push(d);this.I0.push(b);if(b==y){this.vZ.push(d==0?0:1/d)}else{this.Ca.push(d);
this.MK.push(b)}}this.bx.push(this.b.length);this.R7.push(this.Ca.length)};_.Wc.prototype.Y8=function(g,o){var k=this,y=k.rows,d=k.b,b=k.I0;
if(o==null)o=new Array(y);for(var m=0;m<y;m++){var T=k.bx[m],a=k.bx[m+1],t=0;while((a-T&3)!=0){t+=d[T]*g[b[T]];
T++}for(var j=T;j<a;j+=4)t+=d[j]*g[b[j]]+d[j+1]*g[b[j+1]]+d[j+2]*g[b[j+2]]+d[j+3]*g[b[j+3]];o[m]=t}return o};
_.Wc.prototype.multiply=function(g){return this.Rb(g.gH())};_.Wc.prototype.Rb=function(g){var o=this,k=o.rows,y=o.cols,d=g.rows,b=new _.Wc(k,d),T=o.I0,a=g.I0;
for(var m=0;m<k;m++){var t=[],j=[],e=o.bx[m],v=o.bx[m+1];for(var L=0;L<d;L++){var H=g.bx[L],w=g.bx[L+1],P=0,Q=e,x=H;
while(Q<v&&x<w){var F=Math.max(T[Q],a[x]);while(Q<v&&T[Q]<F)Q++;while(x<w&&a[x]<F)x++;if(Q<v&&x<w&&T[Q]==a[x])P+=o.b[Q++]*g.b[x++]}if(P!=0){t.push(P);
j.push(L)}}b.j7(t,j,t.length)}return b};_.Wc.prototype.gH=function(){var g=this.rows,o=this.cols,k=[];
for(var m=0;m<o;m++)k.push([[],[]]);var y=this.b,d=this.bx,b=this.I0;for(var m=0;m<g;m++){var T=d[m],a=d[m+1];
for(var t=T;t<a;t++){var j=k[b[t]];j[0].push(y[t]);j[1].push(m)}}var e=new _.Wc(o,g);for(var m=0;m<o;
m++)e.j7(k[m][0],k[m][1],k[m][1].length);return e};_.Wc.prototype.Fw=function(){var g=this.rows,o=this.cols,k=new Array(g),y=this.b,d=this.bx,b=this.I0;
for(var m=0;m<g;m++){var T=k[m]=new Array(o);for(var a=0;a<o;a++)T[a]=0;var t=d[m],j=d[m+1];for(var e=t;
e<j;e++)T[b[e]]=y[e]}return k};_.Wc.prototype.Tk=function(g,o,k,y,d){function b(n,o,X,u){var I=n.length;
for(var m=0;m<I;m++)u[m]=n[m]-o[m]*X}function T(n,o,X,u){var I=n.length,r=0;while((I-r&3)!=0){u[r]=n[r]+o[r]*X;
r++}for(var m=r;m<I;m+=4){u[m]=n[m]+o[m]*X;u[m+1]=n[m+1]+o[m+1]*X;u[m+2]=n[m+2]+o[m+2]*X;u[m+3]=n[m+3]+o[m+3]*X}}function a(n,o,X){var u=n.length;
for(var m=0;m<u;m++)X[m]=n[m]*o[m]}function t(n,o){var X=n.length,u=0,I=0;while((X-u&3)!=0){I+=n[u]*o[u];
u++}for(var m=u;m<X;m+=4)I+=n[m]*o[m]+n[m+1]*o[m+1]+n[m+2]*o[m+2]+n[m+3]*o[m+3];return I}var j=y!=null?2:1,e=Date.now(),v=0,L=this,H=g.slice(0),w=g.slice(0);
L.Y8(g,w);b(o,w,1,H);var P=this.vZ;if(j==0){P=H.slice(0);P.fill(1)}var Q=H.slice(0);a(P,H,Q);var x=Q.slice(0),F=t(H,Q);
while(!0){L.Y8(x,w);var E=F/t(x,w);T(g,x,E,g);b(H,w,E,H);if((v&7)==0&&Math.sqrt(t(H,H))<k)break;if(j<=1)a(P,H,Q);
else{var f=H.slice(0);y.a7W(f,H);d.aeD(Q,f)}var c=t(H,Q),M=c/F;T(Q,x,M,x);F=c;v++}};_.Wc.prototype.aqm=function(g,o,k,y){var d=Date.now(),b=1.96,a=0;
if(k==null)k=5e-6;if(y==null)y=1e9;var T=1-b,cy=this.rows,t=this.Ca,j=this.R7,e=this.MK,v=this.vZ;while(!0){var L=0;
for(var m=0;m<cy;m++){var H=o[m],w=j[m],P=j[m+1];if(P-w==4)H-=t[w]*g[e[w]]+t[w+1]*g[e[w+1]]+t[w+2]*g[e[w+2]]+t[w+3]*g[e[w+3]];
else for(var Q=w;Q<P;Q++)H-=t[Q]*g[e[Q]];var x=g[m]*T+v[m]*H*b,F=x-g[m];L+=F*F;g[m]=x}if(L/cy<k||Date.now()>d+y)break}};
_.Wc.prototype.ax1=function(g,o,k,y){var d=Date.now(),b=1.96,a=0;if(k==null)k=5e-5;if(y==null)y=1e9;
var T=1-b,cy=this.rows,t=this.Ca,j=this.R7,e=this.MK,v=this.vZ;while(!0){var L=0;for(var m=0;m<cy;m++){var H=m*3,w=o[H],P=o[H+1],Q=o[H+2],x=j[m],F=j[m+1];
for(var E=x;E<F;E++){var f=t[E],c=e[E]*3;w-=f*g[c+0];P-=f*g[c+1];Q-=f*g[c+2]}var M=v[m]*b,n=g[H+0]*T+w*M,X=g[H+1]*T+P*M,u=g[H+2]*T+Q*M,I=n-g[H+0],r=X-g[H+1],J=u-g[H+2];
L+=.4*I*I+.5*r*r+.1*J*J;g[H+0]=n;g[H+1]=X;g[H+2]=u}if(L/cy<k||Date.now()>d+y)break}};_.wb={};_.wb.cC=function(g,o,k){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:g},Vrtc:{t:"doub",v:o},Cnty:{t:"bool",v:k}}}};
_.wb.D=function(g,o){for(var m=0;m<g.length;m++){var k=g[m].v,y=o.iG(new bJ(k.Hrzn.v,k.Vrtc.v));k.Hrzn.v=Math.round(y.x);
k.Vrtc.v=Math.round(y.y)}};_.wb.MU=function(g,o,k){var cy=g.length-1,y=_.DA.pF(cy+1,cy+2);for(var m=1;
m<cy;m++){y[m][m-1]=1/(g[m]-g[m-1]);y[m][m]=2*(1/(g[m]-g[m-1])+1/(g[m+1]-g[m]));y[m][m+1]=1/(g[m+1]-g[m]);
y[m][cy+1]=3*((o[m]-o[m-1])/((g[m]-g[m-1])*(g[m]-g[m-1]))+(o[m+1]-o[m])/((g[m+1]-g[m])*(g[m+1]-g[m])))}y[0][0]=2/(g[1]-g[0]);
y[0][1]=1/(g[1]-g[0]);y[0][cy+1]=3*(o[1]-o[0])/((g[1]-g[0])*(g[1]-g[0]));y[cy][cy-1]=1/(g[cy]-g[cy-1]);
y[cy][cy]=2/(g[cy]-g[cy-1]);y[cy][cy+1]=3*(o[cy]-o[cy-1])/((g[cy]-g[cy-1])*(g[cy]-g[cy-1]));_.DA.Ag(y,k)};
_.wb.ac4=function(g,o,k,y){if(g<=o[0])return k[0];if(g>=o[o.length-1])return k[o.length-1];var m=1;while(o[m]<g)m++;
var d=o[m],b=o[m-1],T=k[m],a=k[m-1],t=(g-b)/(d-b),j=y[m-1]*(d-b)-(T-a),e=-y[m]*(d-b)+(T-a),v=(1-t)*a+t*T+t*(1-t)*(j*(1-t)+e*t);
return v};_.wb.NZ=function(g,o,k,y){var d={FE:[g[0]],ok:[o[0]],P0:[]};y[0]=d;for(var m=1;m<g.length-1;
m++){d.FE.push(g[m]);d.ok.push(o[m]);if(k[m]==!1){_.wb.MU(d.FE,d.ok,d.P0);d={FE:[g[m]],ok:[o[m]],P0:[]}}y[m]=d}d.FE.push(g[m]);
d.ok.push(o[m]);_.wb.MU(d.FE,d.ok,d.P0);y[m]=d};_.wb.QD=function(g,o,k,y){if(g<=o[0])return k[0];if(g>=o[o.length-1])return k[o.length-1];
var m=1;while(o[m]<g)m++;var d=y[m-1];return _.wb.ac4(g,d.FE,d.ok,d.P0)};_.wb.El=function(g){var o={FE:[],ok:[],Ym:[]};
for(var m=0;m<g.length;m++){o.FE[m]=g[m].v.Hrzn.v;o.ok[m]=g[m].v.Vrtc.v;o.Ym[m]=g[m].v.Cnty?g[m].v.Cnty.v:!0}return o};
_.wb.aU=function(g,cy,o){var k=0,y=255;if(o){k=-1e9;y=1e9}var d=_.wb.El(g),b=[];_.wb.NZ(d.FE,d.ok,d.Ym,b);
var T=[];for(var m=0;m<cy;m++)T[m]=1/255*Math.max(k,Math.min(y,_.wb.QD(m*(255/(cy-1)),d.FE,d.ok,b)));
return T};_.wb.asm=function(g,cy,o){var k=Math.round(g.length/20),y=cy-g.length,d=o?(g[k]-g[0])/k:0,b=o?g[0]-y*d:g[g.length-1],T=[];
for(var m=0;m<y;m++)T.push(b+m*d);return o?T.concat(g):g.concat(T)};_.wb.SV=function(g,cy,o){var k=_.wb.El(g),y=[];
_.wb.NZ(k.FE,k.ok,k.Ym,y);var d=new Uint8Array(cy),b=cy/256;for(var m=0;m<cy;m++)d[m]=Math.max(0,Math.min(cy-1,_.wb.QD(m*b,k.FE,k.ok,y)));
if(o){d[0]=0;if(d[1]>100)d[1]=.4*d[1];if(d[2]>150)d[1]=.7*d[2]}return d};_.wb.U$=function(g,o){var k=new Uint8Array(g.length);
for(var m=0;m<g.length;m++)k[m]=o[g[m]];return k};_.wb.OJ=function(g,o,k){var y=document.createElement("canvas");
y.width=o;y.height=k;var d=y.getContext("2d"),b=_.wb.SV(g,256);d.scale(o/255,k/255);d.fillStyle="#fff";
d.fillRect(0,0,255,255);d.fillStyle="#333";d.beginPath();d.moveTo(0,255);for(var m=0;m<b.length;m++)d.lineTo(m,255-b[m]);
d.lineTo(255,255);d.closePath();d.fill();return y.toDataURL()};_.style={};_.style.stroke=function(g,o,k,y){var d=k.m,b=k.n,T=new Float64Array(d*b);
_.style.ec(g,T,d,b);_.style.X4(o,k,T,k,y)};_.style.X4=function(g,o,k,y,d){var b=o.Nm(y),T=b.m,a=b.n;
d+=.5;var t=b.x-o.x,j=b.y-o.y,e=o.m,v=b.x-y.x,L=b.y-y.y,H=y.m;for(var w=0;w<a;w++){var P=(w+L)*H+v,Q=(w+j)*e+t;
for(var x=0;x<T;x++){var F=Math.max(0,Math.min(1,d-k[P+x]));g[Q+x]=Math.round(F*255)}}};_.style.afj=function(g,o,k,y){for(var d=0;
d<k;d++)for(var b=0;b<o;b++){var T=d*o+b,a=0,t=0,j=g[T];if(b==0||d==0){a=g[T+1]-j;t=g[T+o]-j}else if(b==k-1||d==o-1){a=j-g[T-1];
t=j-g[T-o]}else{a=g[T+1]-g[T-1];t=g[T+o]-g[T-o]}if(a!=0||t!=0){var e=1/Math.sqrt(a*a+t*t);a*=e;t*=e}y[T+T]=a;
y[T+T+1]=t}};_.style.ec=function(g,o,k,y){var d=0,b=k*y;for(var m=0;m<b;m++)d|=g[m];if(d==0){o.fill(1e9);
return}var T=_.style.IM(g,k,y);for(var a=0;a<y;a++)for(var t=0;t<k;t++){var m=a*k+t,j=T[m*2],e=T[m*2+1],v=(a+e)*k+t+j;
if(j==0&&e==0){o[m]=0;continue}var L=Math.sqrt(j*j+e*e),H=g[v]*(1/255),w=1/L,P=Math.abs(j)*w,Q=Math.abs(e)*w;
if(Q>P){var x=Q;Q=P;P=x}o[m]=L+_.style.a9R(P,Q,H)}};_.style.a9R=function(g,o,k){return(.5-k)*g};_.style.IM=function(g,o,k,y){var d=new Int16Array(o*k*2);
_.style.az0(g,d,o,k,128);return d};_.style.az0=function(g,o,k,y,d){var b=new Int32Array(k*y);_.style.axq(g,b,k,y,d);
_.style.a4a(b,o,k,y)};_.style.axq=function(g,o,k,y,d){var b=new Int32Array(y);for(var T=0;T<k;T++){var a=k+y;
for(var t=y-1;t>=0;t--){if(g[t*k+T]>d)a=0;else a++;b[t]=a}a=k+y;for(var t=0;t<y;t++){if(g[t*k+T]>d)a=0;
else a++;o[t*k+T]=a<b[t]?-a:b[t]}}};_.style.a4a=function(g,o,k,y){var d=(k+y)*(k+y),b=new Float64Array(k),T=new Uint16Array(k);
for(var a=0;a<y;a++){var t=a*k,j=0;T[0]=0;b[0]=-d;b[1]=+d;for(var e=1;e<k;e++){var v=g[e+t]*g[e+t]+e*e,L=(v-(g[T[j]+t]*g[T[j]+t]+T[j]*T[j]))/(2*e-2*T[j]);
while(L<=b[j]){j--;L=(v-(g[T[j]+t]*g[T[j]+t]+T[j]*T[j]))/(2*e-2*T[j])}j++;T[j]=e;b[j]=L;b[j+1]=d}j=0;
for(var e=0;e<k;e++){while(b[j+1]<e)j++;var H=T[j]-e,w=g[T[j]+t],m=a*k+e<<1;o[m]=H;o[m+1]=w}}};_.style.tf=function(g,o,k){if(k)for(var m=0;
m<g.length;m++){var y=g[m];if(y>0)g[m]=Math.max(0,Math.min(255,y+o*2*(_.style.rZ(m)-128)))}else for(var m=0;
m<g.length;m++){var y=g[m];if(y>0)g[m]=Math.max(0,Math.min(255,y+Math.min(y*3,o*2*(_.style.rZ(m)-128))))}};
_.style.rZ=function(g){g=g^61^g>>16;g=g+(g<<3);g=g^g>>4;g=g*668265261;g=g^g>>15;return g&255};_.vl={};
_.vl.d0=function(g,o,k){var y=g.canvas;if(y.width!=o||y.height!=k){y.width=o;y.height=k}};_.vl.E3=function(g,o,k,y,d,b){_.vl.d0(g,o,k);
if(b==null)b=!1;var T=d.channel,a=d.rect,t=!d.isEnabled;if(o*k==0)return;var j=g.createImageData(o,k),e=j.data,v=1/o,L=1/k;
for(var m=0;m<k;m++)for(var H=0;H<o;H++){var w=m*o+H,P=w*4,Q=Math.round(y.x+H*v*y.m),x=Math.round(y.y+m*L*y.n),F=0;
if(Q<a.x||Q>=a.x+a.m||x<a.y||x>=a.y+a.n)F=d.color;else F=T[(x-a.y)*a.m+(Q-a.x)];F=255*(255-d.gW)+F*d.gW>>>8;
if(b)F=170+Math.round(.4*(F-170));e[P]=F;e[P+1]=F;e[P+2]=F;e[P+3]=255}g.putImageData(j,0,0);if(t)_.vl.fW(g,o,k)};
_.vl.zN=[];_.vl.ard=function(g,o,k,y){var d,b,T;d=Math.ceil(Math.max(o,k)*.35);b=o-d;T=k-d;var a=_.vl.zN[d];
if(a==null){var t=_.r8(d,d);t.fillStyle="#eeeeee";t.fillRect(0,0,d,d);var j=Math.round(d*.27),e=t.lineWidth=Math.max(1,Math.round(d*.12)),v=e/2;
t.strokeRect(1+v,1+v,d-e-2,d-e-2);t.strokeRect(j+v,j+v,d-j-j-e,d-j-j-e);a=_.vl.zN[d]=t.getImageData(0,0,d,d)}g.putImageData(a,b,T)};
_.vl.UH=[];_.vl.aq3=function(g,o,k){var y,d,b;y=Math.ceil(Math.max(o,k)*.35);d=o-y;b=k-y;var T=_.vl.UH[y];
if(T==null){var a=_.r8(y,y);a.fillStyle="#eeeeee";a.fillRect(0,0,y,y);a.lineWidth=1;a.strokeRect(2.5,2.5,y-5,y-5);
var t=a.createImageData(3,3);_.Sm(t.data,4278190080);t.data[4*4]=t.data[4*4+1]=t.data[4*4+2]=238;a.putImageData(t,1,1);
a.putImageData(t,y-4,1);a.putImageData(t,1,y-4);a.putImageData(t,y-4,y-4);T=_.vl.UH[y]=a.getImageData(0,0,y,y)}g.putImageData(T,d,b)};
_.vl.a38=function(g,o,k,y,d){_.vl.d0(g,o,k);var b=o/y.m;if(o*k==0)return;g.fillStyle="#999999";g.setTransform(1,0,0,1,0,0);
g.clearRect(0,0,o,k);var T=_.vl.vf;if(T==null){T=_.vl.vf=JSON.parse(JSON.stringify(iZ.X9.default));T.strokeEnabled.v=!0}T.strokeStyleLineWidth.v.val=1/b;
g.fillStyle="#ffffff";g.scale(b,b);_.w.To(d.a,g,0,0);_.w.To(d.a,g,0,0,T)};_.vl.D3=null;_.vl.qU=function(g,o,k,y,d,b,T,a,t){_.vl.d0(g,o,k);
if(o*k==0)return;var j=Math.max(o,k),e=_.vl.D3;if(e==null||e.width<j||e.height<j){_.vl.D3=e=g.createImageData(j,j)}j=e.width;
var v=e.data,L=y.m/o,H=y.n/k,w=b.x,P=b.x+b.m,Q=b.y,x=b.y+b.n;for(var m=0;m<k;m++)for(var F=0;F<o;F++){var E=m*j+F,f=E*4,c=~~(y.x+F*L),M=~~(y.y+m*H),n=_.Is(m,F,2);
if(c<w||c>=P||M<Q||M>=x||t){v[f]=n;v[f+1]=n;v[f+2]=n;v[f+3]=255}else{var X=(M-b.y)*b.m+(c-b.x)<<2,u=d[X+3]*(1/255);
v[f]=d[X+0]*u+n*(1-u);v[f+1]=d[X+1]*u+n*(1-u);v[f+2]=d[X+2]*u+n*(1-u);v[f+3]=255}}if(a!=null)for(var m=0;
m<v.length;m+=4)v[m]=v[m+1]=v[m+2]=v[m+a];g.putImageData(e,0,0);if(T)_.vl.fW(g,o,k)};_.vl.a8b=function(g,o,k,y){_.vl.d0(g,o,k);
g.fillStyle=_.vl.sL(y.Clr.v);g.fillRect(0,0,o,k);_.vl.Ws(g,o,k)};_.vl.n3=null;_.vl.a1M=function(g,o,k,y){_.vl.d0(g,o,k);
var d=g.canvas.width,b=g.canvas.height,T=_.vl.n3;if(T==null||T.width!=d||T.height!=b){g.fillStyle="#ffffff";
g.fillRect(0,0,o,k);g.fillStyle="#000000";g.font=""+k*.7+"px serif";g.fillText("T",(o-k*.43)/2,k*.75);
g.fillText("T",(o-k*.43)/2,k*.75);_.vl.n3=g.getImageData(0,0,d,b)}else g.putImageData(T,0,0)};_.vl.a5A=function(g,o,k){_.vl.d0(g,o,k);
g.clearRect(0,0,o,k);g.font=k*.7+"px serif";g.fillText(":(",(o-k*.43)/2,k*.7)};_.vl.aia=function(g,o,k,y){_.vl.d0(g,o,k);
var d=aj.get(y),b=g.canvas.width,T=_.vl.bB[b+d];if(T==null){var a=PIMG["adj/"+d],t=cp.Kw(a),j=UPNG.decode(t.buffer),e=new Uint8Array(UPNG.toRGBA8(j)[0]),v=new bd(0,0,160,160),L=0,H=b-L*2,w=D.C8.Zb([e,v],new d3(H/160,0,0,H/160,0,0)),P=new bd(0,0,b,b),Q=_.Q(P.O()*4);
_.l.I3("norm",w.buffer,w.rect,Q,P,w.rect,1);T=_.vl.bB[b+d]=new ImageData(new Uint8ClampedArray(Q.buffer),b,b)}g.putImageData(T,0,0)};
_.vl.bB={};_.vl.aaN=function(g,o,k,y){_.vl.d0(g,o,k);var d=g.canvas.width,b=g.canvas.height,T=g.getImageData(0,0,d,b);
_.M.AE(y.Grad.v,new Uint8Array(T.data.buffer),new bd(0,0,d,b),[1/d,0,0,1/b],d/2,b/2,!1,0,16711680,65280);
g.putImageData(T,0,0);_.vl.Ws(g,o,k)};_.vl.ao5=function(g,o,k,y,d){_.vl.d0(g,o,k);var b=g,T=bs.Mi(y.Ptrn.v,d.add.Patt);
if(T==null)return;var a=T.pR[1];_.vl.qU(g,o,k,a,T.pR[0],a,!1);_.vl.Ws(b,o,k)};_.vl.fW=function(g,o,k){g.strokeStyle="#bb0000";
g.lineWidth=3;g.beginPath();g.moveTo(o*.15,k*.15);g.lineTo(o*.85,k*.85);g.moveTo(o*.85,k*.15);g.lineTo(o*.15,k*.85);
g.closePath();g.stroke()};_.vl.Ws=function(g,o,k){g.fillStyle="#eeeeee";g.fillRect(0,k*.75,o,k*.25);
g.beginPath();g.moveTo(0,k*.75);g.lineTo(o,k*.75);g.moveTo(o*.1,k*.875);g.lineTo(o*.9,k*.875);g.moveTo(o*.65,k*.825);
g.lineTo(o*.65,k*.95);g.closePath();g.stroke()};_.vl.sL=function(g){var o=_.M.sL(g),k=Math.round(o.o)<<16|Math.round(o.C)<<8|Math.round(o.k);
return"#"+_.Mb(k)};_.w={};_.w.GH=function(g,o,k){var y=[],d=-1;for(var m=0;m<g.length;m++){var b=g[m];
if((b.type==0||b.type==3)&&b.dJ!=-1)d++;if(b.type>5||b.type==0||b.type==3)continue;if(o!=null&&o.indexOf(d)==-1)continue;
if(k!=null&&k.indexOf(m)==-1)continue;y.push(b.Tp.x);y.push(b.Tp.y);y.push(b.H.x);y.push(b.H.y);y.push(b.dt.x);
y.push(b.dt.y)}return y};_.w.CC=function(g,o,k,y){var d=0,b=-1;for(var m=0;m<o.length;m++){var T=o[m];
if((T.type==0||T.type==3)&&T.dJ!=-1)b++;if(T.type>5||T.type==0||T.type==3)continue;if(k!=null&&k.indexOf(b)==-1)continue;
if(y!=null&&y.indexOf(m)==-1)continue;T.Tp.oU(g[d],g[d+1]);T.H.oU(g[d+2],g[d+3]);T.dt.oU(g[d+4],g[d+5]);
d+=6}};_.w.cs=function(g,o,k,y){var d=_.w.GH(g,k,y);_.p.D(d,o,d);_.w.CC(d,g,k,y)};_.w.arw=function(g,o,k,y){var d=_.w.GH(g,k,y);
_.K.D(o,d);_.w.CC(d,g,k,y)};_.w.apf=function(g,o,k,y){if(y==null){var d=_.w.abz(g,40,k);for(var m=0;
m<d.length;m++)g[m]=d[m]}var b=_.w.GH(g,k,y);_.RS.D(o,b,_.p.AU(b));_.w.CC(b,g,k,y)};_.w.abz=function(g,o,k){var y=[],d=-1;
for(var m=0;m<g.length;m++){var b=g[m],T=b.length;if(b.type>5){y.push(JSON.parse(JSON.stringify(b)));
continue}b=JSON.parse(JSON.stringify(b));y.push(b);if(b.dJ!=-1)d++;if(k&&k.indexOf(d)==-1){y=y.concat(g.slice(m+1,m+1+T))}else{var a=_.w.abP(g,m+1,T);
a=_.p.ki(a,o);var t=_.w.a3u(a);b.length=t.length;for(var j=0;j<t.length;j++)y.push(t[j])}m+=T}return y};
_.w.abP=function(g,o,k){var y={F:["M"],j:[]},d=g[o],b=g[o+k-1];y.j.push(d.H.x,d.H.y);for(var m=1;m<k;
m++){var T=g[o+m-1],a=g[o+m];y.F.push("C");y.j.push(T.dt.x,T.dt.y,a.Tp.x,a.Tp.y,a.H.x,a.H.y)}y.F.push("C");
y.j.push(b.dt.x,b.dt.y,d.Tp.x,d.Tp.y,d.H.x,d.H.y);return y};_.w.a3u=function(g){var o=[],k=g.F,y=g.j,d=0,cy=y.length;
o.push({type:2,Tp:new bJ(y[cy-4],y[cy-3]),H:new bJ(y[0],y[1]),dt:new bJ(y[2],y[3])});for(var m=0;m<k.length-2;
m++){var b=m*6+4;o.push({type:2,Tp:new bJ(y[b],y[b+1]),H:new bJ(y[b+2],y[b+3]),dt:new bJ(y[b+4],y[b+5])})}return o};
_.w.aos=function(g){for(var m=0;m<g.length;m++){if(g[m].type>5)continue;var o=g[m].length;if(!(o==4||o==6||o==8)){m+=o;
continue}for(var k=0;k<o;k++){var y=g[m+1+k],d=g[m+1+(k+1)%o],b=Math.min(y.H.x,d.H.x),T=Math.min(y.H.y,d.H.y),a=0,t=0;
if(y.H.x<d.H.x){a=y.H.y-T;t=a-(d.H.x-b)}else{a=d.H.y-T;t=a-(y.H.x-b)}if(Math.abs(t)<.2*a)return a}}return-1};
_.w.HM=function(g,o,k){function y(L,H){var w=Math.min(L.x,H.x),P=Math.min(L.y,H.y),Q=Math.max(L.x+L.m,H.x+H.m),x=Math.max(L.y+L.n,H.y+H.n);
return new bd(w,P,Q-w,x-P)}var d=null,b=-1,T=!_.w.a9(g);for(var m=0;m<g.length;m++){var a=g[m];if(a.type>5)continue;
if((a.type==0||a.type==3)&&a.dJ!=-1)b++;if(o!=null&&o.indexOf(b)==-1)continue;if(m==g.length-1)break;
var t=a.type==3,j=a.length,e=a.dJ,v=_.w.d9(g,m+1,j,t);if(d==null)d=v;else if(k)d=y(d,v);else if(T){if(o!=null||e==0||e==-1||e==2)d=y(d,v);
else if(e==1)d=d;else if(e==3){d=v;T=!1}}else{if(o!=null||e==0||e==-1||e==1)d=y(d,v);else if(e==2)d=d;
else if(e==3)d=d.Nm(v)}m+=j}if(d==null||d.m<0||d.n<0)d=new bd(0,0,0,0);return d};_.w.avf=new Float64Array(4);
_.w.d9=function(g,m,o,k){var y=_.w.avf;y[0]=1e30;y[1]=1e30;y[2]=-1e30;y[3]=-1e30;var d=g[m+o-1];if(!k)_.w.k6(d.H.x,d.H.y,d.dt.x,d.dt.y,g[m].Tp.x,g[m].Tp.y,g[m].H.x,g[m].H.y,y);
for(var b=m;b<m+o-1;b++){var T=g[b],a=g[b+1];_.w.k6(T.H.x,T.H.y,T.dt.x,T.dt.y,a.Tp.x,a.Tp.y,a.H.x,a.H.y,y)}return new bd(y[0],y[1],y[2]-y[0],y[3]-y[1])};
_.w.k6=function(g,o,k,y,d,b,T,a,t){if(g==k&&o==y&&d==T&&b==a){t[0]=Math.min(t[0],Math.min(g,T));t[1]=Math.min(t[1],Math.min(o,a));
t[2]=Math.max(t[2],Math.max(g,T));t[3]=Math.max(t[3],Math.max(o,a));return}var j=g,e=o,v=g,L=o,H=40,w=1/(H-1);
for(var P=0;P<H;P++){var Q=P*w,x=1-Q,F=x*x*x,E=3*x*x*Q,f=3*x*Q*Q,c=Q*Q*Q,M=F*g+E*k+f*d+c*T,n=F*o+E*y+f*b+c*a;
if(M<j)j=M;else if(M>v)v=M;if(n<e)e=n;else if(n>L)L=n}if(j<t[0])t[0]=j;if(e<t[1])t[1]=e;if(v>t[2])t[2]=v;
if(L>t[3])t[3]=L};_.w.aF=function(g,o){var k=g.length-3,y=o%k,d=Math.floor(y);if(o<0||d>=k)return null;
var b=g[3+d],T=g[3+(d+1)%k],a=b.H,t=b.dt,j=T.Tp,e=T.H,v=y-d,L=1-v,H=L*L*L*a.x+3*L*L*v*t.x+3*L*v*v*j.x+v*v*v*e.x,w=L*L*L*a.y+3*L*L*v*t.y+3*L*v*v*j.y+v*v*v*e.y;
return new bJ(H,w)};_.w.AT=function(g,o){var k=_.p.$Q(g),y=k.gs;k.gs=Typr.U.pathToSVG({crds:y.j,cmds:y.F},o==null?2:o);
return k};_.w.Vc=function(g){_.w.uB();var o,k=_.w.Sh(g),y=[];for(var m=0;m<k.length;m++){var d=k[m][0],b=k[m][1];
if(Math.abs(d.area)<1e-5)y.push(d);else if(o==null)o=d;else{if(!d.closed)d.closed=!0;o=o[b](d);o.remove()}}if(o==null)o=new paper.CompoundPath(y);
else{if(o.segments)o=new paper.CompoundPath(o);for(var m=0;m<y.length;m++){o.addChild(y[m])}}var T=g.slice(0,2);
T=T.concat(_.w.Fb(o));if(T[2])T[2].dJ=1;for(var m=3;m<T.length;m++)if(T[m].dJ!=null)T[m].dJ=-1;return T};
_.w.uB=function(){if(_.w.aq_==null){var g=document.createElement("canvas");paper.setup(g);_.w.aq_=!0}};
_.w.ada=function(g,o){_.w.uB();var k=[],y=_.w.Sh(g),d=new paper.Path.Rectangle(new paper.Rectangle(o.x,o.y,o.m,o.n));
d.remove();d.fillColor=new paper.Color(1,0,0);for(var m=0;m<y.length;m++){if(d.intersects(y[m][0])||d.contains(y[m][0].children[0].segments[0].point))k.push(m)}return k};
_.w.DQ=function(g,o,k,y){_.w.uB();var d=k?{curves:!0,tolerance:y}:null,b=new paper.Point(o.x,o.y),T=_.w.Sh(g);
for(var m=T.length-1;m>=0;m--){var a=T[m][0],t=a.hitTest(b,d);if(t!=null)return{Sp:m,QL:k?t.location.index:null,Kl:k?t.location.time:0}}return{Sp:-1}};
_.w.jh=function(g,o,k){var y=[[],[],[]];for(var m=0;m<g.length;m++){var d=g[m];if(d.type>5||d.type==0||d.type==3)continue;
var b=k==null?!0:k.indexOf(m)!=-1;if(o.oo(d.H))y[0].push(m);if(o.oo(d.Tp)&&b)y[1].push(m);if(o.oo(d.dt)&&b)y[2].push(m)}return y};
_.w.a5l=function(g,o,k){var y=g[o];for(var d=o+1;d<k;d++)g[d-1]=g[d];g[k-1]=y};_.w.a3F=function(g,o,k,y){var m,d,b,T=0;
g=g.slice(0);o.sort(function(w,P){return w-P});b=-1;for(m=2;m<g.length;){var a=g[m],t=a.length;if(a.dJ!=-1)b++;
var j=T;while(j<o.length&&o[j]<m+1+t)j++;if(T!=j){var e=o.slice(T,j);T=j;for(d=0;d<t;d++)if(e.indexOf(m+1+d)!=-1)g[m+1+d]=null;
if(a.type==0){var v=e[0]-(m+1);while(v!=0){_.w.a5l(g,m+1,m+1+t);v--}}var L=a;L.length=0;d=0;while(d<t&&g[m+1+d]==null)d++;
while(d<t){var H=g[m+1+d];if(H!=null)L.length++;else if(d<t+1&&g[m+1+d+1]){L=g[m+1+d]={type:0,dJ:-1,length:0,nB:0,tH:0,Pj:1}}d++}if(y)for(d=-1;
d<t;d++)if(g[m+1+d]&&g[m+1+d].type<3)g[m+1+d].type+=3;_.X.YU(k,b)}m+=1+t}for(m=0;m<g.length;m++)if(g[m]==null){g.splice(m,1);
m--}b=0;for(m=2;m<g.length;m++){var a=g[m];if(a.length==0){if(g[m+1]&&g[m+1].dJ==-1)g[m+1].dJ=a.dJ;else if(a.dJ!=-1)k.splice(b,1);
g.splice(m,1);m--}else if(a.length!=null&&a.dJ!=-1)b++}return g};_.w.awR=function(g,o){var k=g.slice(0,2),y=-1;
for(var m=2;m<g.length;m++){if((g[m].type==0||g[m].type==3)&&g[m].dJ!=-1)y++;if(o.indexOf(y)==-1)k.push(g[m])}return k};
_.w.as6=function(g,o){var k=g.slice(0,2),y=-1;for(var m=2;m<g.length;m++){if((g[m].type==0||g[m].type==3)&&g[m].dJ!=-1)y++;
if(o.indexOf(y)!=-1)k.push(g[m])}return k};_.w.aof=function(g){var o=0;for(var m=0;m<g.length;m++)if(g[m].type==0||g[m].type==3)o=m;
return g[o]};_.w.L7=function(g){var o=-1;for(var m=0;m<g.length;m++)if((g[m].type==0||g[m].type==3)&&g[m].dJ!=-1)o++;
return o+1};_.w.SO=function(g,o,k){var y=-1;for(var m=0;m<g.length;m++)if((g[m].type==0||g[m].type==3)&&(k||g[m].dJ!=-1)){y++;
if(y==o)return m}return-1};_.w.sd=function(g,o,k){var y=-1;for(var m=0;m<g.length;m++)if((g[m].type==0||g[m].type==3)&&(k||g[m].dJ!=-1)){if(m>=o)return y;
y++}return y};_.w.hQ=function(g,o){var k=-1,y=0;for(var m=0;m<g.length;m++){if((g[m].type==0||g[m].type==3)&&g[m].dJ!=-1)k++;
if(k==o)y++}return y};_.w.anz=function(g){var o=180;for(var m=0;m<g.length;m++){if(g[m].type!=0&&g[m].type!=3)continue;
var k=g[m].length;if(k<3)continue;for(var y=0;y<k;y++){var d=g[m+1+(y-1+k)%k],b=g[m+1+y],T=g[m+1+(y+1)%k],a=b.H,t=b.Tp.ey(a)?d.dt:b.Tp,j=b.dt.ey(a)?T.Tp:b.dt;
if(a.ey(t)||a.ey(j))continue;var e=t.x-a.x,v=t.y-a.y,L=j.x-a.x,H=j.y-a.y,t=Math.atan2(t.y-a.y,t.x-a.x)*180/Math.PI,j=Math.atan2(j.y-a.y,j.x-a.x)*180/Math.PI,w=Math.abs(j-t)%360,P=w>180?360-w:w;
if(P<o)o=P}}return o*Math.PI/180};_.w.Fb=function(g){var o=g.segments?[g]:g.children,k=[];for(var m=0;
m<o.length;m++){var y=o[m],d=y.segments,b=y.closed?0:3,T=k.length,a=null;if(d.length<=1)continue;k.push({type:b,length:d.length,dJ:0,Pj:2});
for(var t=0;t<d.length;t++){var j=d[t],e=new bJ(j.handleIn.x,j.handleIn.y),v=new bJ(j.handleOut.x,j.handleOut.y),L=new bJ(j.point.x,j.point.y),H={type:b+1,Tp:L.add(e),H:L,dt:L.add(v)};
if(a==null)a=H;k.push(H);if(t+1==d.length&&bJ.YX(a.H,H.H)<1e-5){k.pop();k[T].length--;a.Tp=H.Tp;if(b==3)for(var w=T;
w<k.length;w++)k[w].type-=3}}}return k};_.w.Sh=function(g){_.w.uB();var o=[],k,y=new paper.Color(1,0,0);
function d(H,a){H.remove();H.closed=!a;H.fillRule="evenodd"}for(var m=0;m<g.length;m++){if(g[m].type>5)continue;
var b=g[m].length,T;if(m==g.length-1)break;var a=g[m].type==3;if(m==2){if(!_.w.oP(g))T="subtract";else T="unite"}else{if(g[m].dJ==0)T="exclude";
if(g[m].dJ==1)T="unite";if(g[m].dJ==2)T="subtract";if(g[m].dJ==3)T="intersect"}if(g[m].dJ!=-1){k=new paper.CompoundPath;
o.push([k,T]);k.fillRule="evenodd";k.fillColor=y}var t=[];for(var j=0;j<b;j++){var e=g[m+1+j],v=e.Tp.Eu(e.H),L=e.dt.Eu(e.H);
t.push([[e.H.x,e.H.y],[v.x,v.y],[L.x,L.y]])}var H=new paper.Path(t);d(H,a);k.addChild(H);m+=b}return o};
_.w.FK=function(g){for(var m=0;m<g.length;m++){var o=g[m];if(o.H==null)continue;if(!o.H.ey(o.Tp)||!o.H.ey(o.dt))return!1}return!0};
_.w.aol=function(g){if(g.length<=5)return 0;var o=0,k=g.length-3-1;for(var m=0;m<k;m++){var y=g[3+m],d=g[3+m+1];
if(y.type==0||d.type==0)return 0;o+=(d.H.x-y.H.x)*(y.H.y+d.H.y)}o+=(g[3].H.x-g[3+k].H.x)*(g[3+k].H.y+g[3+1].H.y);
return-o*.5};_.w.a9=function(g){var o=g[2],k=!1;if(g.length==2)k=g[1].all==0;else if(g[1].all==1){if(o.dJ==1||o.dJ==3)k=!0;
else k=!1}else{if(o.dJ==1||o.dJ==3||o.dJ==0)k=!0;else k=!1}return k};_.w.oP=function(g){var o=_.w.a9(g);
for(var m=3;m<g.length;m++)if(g[m].dJ==3)o=!0;return o};_.w.ao0=0;_.w.E8=0;_.w.aeH=0;_.w.a58=function(g,o,k,y){if(k.on())return;
var d=k.O(),x=16384;_.w.ao0+=d;if(d>_.w.E8){_.w.E8=d}var b=k.m,T=k.n;if(y==null&&_.w.FK(g)&&g[2]&&g[2].dJ!=2){var a=!0;
for(var m=2;m<g.length;)if(g[m].length==2)m+=3;else{a=!1;break}if(a){return}if(_.w.zg(g)){o.fill(255);
var t=_.w.HM(g);if(t.O()!=d){var j=1-(t.x-k.x),e=1-(t.y-k.y),v=1-(k.x+k.m-(t.x+t.m)),L=1-(k.x+k.n-(t.x+t.n)),H=~~(j*255),w=~~(v*255),P=~~(e*255),Q=~~(L*255);
o.fill(P,0,b);o[0]=~~(j*e*255);o[b-1]=~~(v*e*255);for(var m=b;m<d;m+=b){o[m]=H;o[m+b-1]=w}o.fill(Q,(T-1)*b,T*b);
o[d-b]=~~(j*L*255);o[d-1]=~~(v*L*255)}return}}var F=Math.ceil(b/x),E=Math.ceil(T/x),f=Math.ceil(b/F),c=Math.ceil(T/E),M=Date.now();
for(var n=0;n<E;n++)for(var X=0;X<F;X++){var u=X*f,I=n*c,r=f,J=c,U=_.r8(r,J);if(!_.w.a9(g))U.fillRect(0,0,r,J);
_.w.To(g,U,-k.x-u,-k.y-I,y);var K=new Uint8Array(U.getImageData(0,0,r,J).data.buffer);if(r==b&&J==T)_.B4(K,o,3);
else _.HD(K,new bd(u,I,r,J),o,new bd(0,0,b,T))}};_.w.aaU=function(g){var o=!1,k=!1,y=0,d=!1;for(var m=0;
m<g.length;m++){var b=g[m].dJ;if(b!=null){y++;if(b==-1)o=!0;if(b==1||b==2||b==3)k=!0;if(g[m].type==0)d=!0}}if(!o&&y<20&&d&&k)g=_.w.Vc(g);
return g};_.w.To=function(g,o,k,y,d,b){if(d!=null){g=_.w.aaU(g)}for(var m=0;m<g.length;m++){if(g[m].type>5)continue;
var T=g[m].length;if(T==0)continue;if(m==g.length-1)break;var a=g[m].type==3,t=g[m].dJ;if(t!=-1&&d==null){var j=["xor","source-over","destination-out","source-in"][t];
o.globalCompositeOperation=j}if(g[m].dJ!=-1){o.beginPath();if(d){_.w.e7(d,o)}}_.w.ad9(o,g,m+1,T,k,y,a);
if(a){}else o.closePath();if(g[m+1+T]==null||g[m+1+T].dJ!=-1){if(d){if(b)o.clip();o.stroke()}else o.fill(t==-1?"nonzero":"evenodd")}m+=T}o.globalCompositeOperation="source-over"};
_.w.e7=function(g,o,k){if(k==null)k=1;var y=g.strokeStyleLineWidth.v.val*k,d=g.strokeStyleLineAlignment.v.strokeStyleLineAlignment,b=g.strokeStyleLineCapType.v.strokeStyleLineCapType,T=g.strokeStyleLineJoinType.v.strokeStyleLineJoinType,a=g.strokeStyleMiterLimit.v,t=[],j=g.strokeStyleLineDashSet.v;
for(var e=0;e<j.length;e++)t.push(j[e].v.val*y);o.setLineDash(t);o.lineCap=["butt","round","square"][iZ.X9.ia.indexOf(b)];
o.lineJoin=["miter","round","bevel"][iZ.X9.join.indexOf(T)];o.lineWidth=iZ.X9.Yo.indexOf(d)==1?y:y*2;
o.miterLimit=a};_.w.ad9=function(g,o,m,k,y,d,b){var T=o[m],a=null;g.moveTo(T.H.x+y,T.H.y+d);for(var t=m;
t<m+k-1;t++){T=o[t];a=o[t+1];g.bezierCurveTo(T.dt.x+y,T.dt.y+d,a.Tp.x+y,a.Tp.y+d,a.H.x+y,a.H.y+d)}if(!b){T=o[t];
a=o[m];g.bezierCurveTo(T.dt.x+y,T.dt.y+d,a.Tp.x+y,a.Tp.y+d,a.H.x+y,a.H.y+d)}};_.w.aeG=function(g,o){var k=[],y=o?4:1;
for(var m=0;m<g.length;m+=2){var d=new bJ(g[m],g[m+1]);k.push({type:y,Tp:d.clone(),H:d.clone(),dt:d.clone()})}return k};
_.w.So=function(g,o,k){var y=_.p.AU(g),d=Math.sqrt(Math.sqrt(y.O()))*.2,b=.2;g=g.slice(0);var T=g.length,a=o?0:2;
for(var t=0;t<5;t++)for(var m=a;m<g.length-a;m+=2){var j=(m-2+T)%T,e=(m+2)%T,v=g[m],L=g[m+1],H=(g[j]+g[e])*.5,w=(g[j+1]+g[e+1])*.5;
g[m]=v+(H-v)*b;g[m+1]=L+(w-L)*b}if(k)return _.w.qA.KO(g,null,!o);_.w.uB();var P=new paper.Path;P.remove();
P.closed=o;for(var m=0;m<g.length;m+=2)P.add(new paper.Point(g[m],g[m+1]));P.simplify(d);var Q=[{type:6},{type:8,all:0}];
Q=Q.concat(_.w.Fb(P));return Q};_.w.FC=function(g,o,k){var y=g[o].length,d=g[o].type,b=0,T=g.slice(o+1,o+1+y);
for(var m=0;m<y;m++){var a=k[(m-1+y)%y],t=k[(m+1+y)%y],j=k[m];if(j!=0){var e=T[(m-1+y)%y].H,v=T[(m+0+y)%y].H,L=T[(m+1+y)%y].H,H=bJ.YX(v,e),w=bJ.YX(v,L),P=_.p.Sd(e.x,e.y,v.x,v.y,L.x,L.y,j)[0],Q=Math.min(P,a==0?H:H/2,t==0?w:w/2);
j*=Q/P;var x=_.p.aoZ(e.x,e.y,v.x,v.y,L.x,L.y,j),F={type:d+1,Tp:new bJ(x[2],x[3]),H:new bJ(x[2],x[3]),dt:new bJ(x[4],x[5])},E={type:d+1,Tp:new bJ(x[6],x[7]),H:new bJ(x[8],x[9]),dt:new bJ(x[8],x[9])};
g.splice(o+b+1,1,F,E);b++;g[o].length++}b++}};_.w.FK=function(g){for(var m=0;m<g.length;m++){var o=g[m],k=o.type;
if(k==1||k==2||k==4||k==5)if(!o.H.ey(o.Tp)||!o.H.ey(o.dt))return!1}return!0};_.w.zg=function(g){if(g.length!=7||g[2].length!=4||!_.w.FK(g))return!1;
for(var m=0;m<4;m++){var o=!0;for(var k=0;k<4;k++){var y=g[3+(m+k&3)],d=g[3+(m+k+1&3)];if(y.H.x!=d.H.x&&y.H.y!=d.H.y)o=!1}if(o)return!0}return!1};
_.w.a3B=function(g){if(g.length<6)return 0;var o=g.length-2,k=0;for(var m=0;m<o;m+=2)k+=(g[m+2]-g[m])*(g[m+1]+g[m+3]);
k+=(g[0]-g[o])*(g[o+1]+g[1]);return-k*.5};_.w.d2=function(g){g=p.Ew.q7(g);var o=_.w.L7(g);for(var k=0;
k<o;k++){var y=_.w.SO(g,k)+1,d=g[y-1].length,b=[];for(var m=0;m<d;m++){var T=g[y+m].H;b.push(T.x,T.y)}var a=_.w.a3B(b);
if(a<0)_.w.amr(g,y-1)}return g};_.w.amr=function(g,o){var k=o+1,y=g[o].length,d=[];for(var m=0;m<y;m++){var b=g[k+m],T=b.Tp;
b.Tp=b.dt;b.dt=T;d.push(b)}for(var m=0;m<y;m++)g[k+m]=d[y-1-m]};_.w.qA={};_.w.qA.KO=function(g,o,k){var y=[{type:6},{type:8,all:0}],d=null;
y.push({type:k?3:0,dJ:1,length:0,nB:0,tH:0,Pj:1});if(o==0||o==null)d=null;else if(o instanceof Array)d=o;
else{d=[];for(var m=0;m<g.length;m+=2)d.push(o)}y=y.concat(_.w.aeG(g,k));y[2].length=y.length-3;if(d)_.w.FC(y,2,d);
return y};_.w.qA.a2U=function(g,o,k,y,d){var b=[],T=[],a=.553,t=1,j=-1;b.push({type:1,Tp:new bJ(0,a),H:new bJ(0,0),dt:new bJ(0,-a)});
d+=2;for(var m=0;m<d;m++){var e={type:1};if(m==0){e.H=new bJ(1,-1);e.Tp=new bJ(1-a,-1);e.dt=new bJ(1+a,-1)}else{var v=-(m+2)*Math.PI/2,L=1+((m&1)==1?m-1:m),H=Math.sin(v),w=Math.cos(v);
t+=L*(H-w);j+=L*(w+H);e.H=new bJ(t,j);e.Tp=new bJ(t+L*w*a,j-L*H*a);if((m&1)==1)L+=2;e.dt=new bJ(t-L*w*a,j+L*H*a)}var P={type:1,Tp:new bJ(-e.dt.x,-e.dt.y),H:new bJ(-e.H.x,-e.H.y),dt:new bJ(-e.Tp.x,-e.Tp.y)};
b.push(e);if(m<d-2)T.push(P)}T.reverse();b=b.concat(T);var Q=[{type:6},{type:8,all:0}];Q.push({type:0,dJ:1,length:b.length,nB:0,tH:0,Pj:1});
Q=Q.concat(b);var x=new d3(k/d,0,0,k/d,0,0);x.rotate(y);x.translate(g,o);_.w.cs(Q,x);return Q};_.w.qA.Rect=function(g,o,k,y,d){var b=[g,o,g+k,o,g+k,o+y,g,o+y];
return _.w.qA.KO(b,d)};_.w.qA.L6=function(g,o,k,y,d,b,T,a){var t=[],j=2*Math.PI/d;for(var m=0;m<d;m++)t.push(Math.cos(m*j-y),Math.sin(m*j-y));
if(T!=null){var e=_.p.AU(t),v=e.m,L=e.n,H=T/(v/2),w=a/(L/2);for(var m=0;m<t.length;m+=2){t[m]=(t[m]-(e.x+v/2))*H;
t[m+1]=(t[m+1]-(e.y+L/2))*w}k=1}var P=new d3(k,0,0,k,0,0);P.translate(g,o);_.p.D(t,P,t);return _.w.qA.KO(t,b)};
_.w.qA.OO=function(g,o,k,y,d,b,T){var a=[],t=Math.PI/d;for(var m=0;m<d*2;m++){var j=(m&1)==0?1:T;a.push(j*Math.cos(m*t),j*Math.sin(m*t))}var e=new d3(k,0,0,k,0,0);
e.rotate(y);e.translate(g,o);_.p.D(a,e,a);return _.w.qA.KO(a,b)};_.w.qA.Ee=function(g,o,k,y,d){return _.w.qA.Xn(0,g,o,k,y,d)};
_.w.qA.alF=function(g,o,k,y,d,b){return _.w.qA.Xn(1,g,o,k,y,d,b)};_.w.qA.$V=function(g,o,k,y,d,b){return _.w.qA.Xn(2,g,o,k,y,d,b)};
_.w.qA.Xn=function(g,o,k,y,d,b,T){var a=Math.sqrt((y-o)*(y-o)+(d-k)*(d-k)),t;b/=2;if(g==0)t=[-b,0,b,0,b,a,-b,a];
if(g==1){var j=b*2*T*1.3/1.5,e=b*T;t=[-b,0,b,0,b,a-j,e,a-j,0,a,-e,a-j,-b,a-j]}if(g==2){var j=T[3],e=T[2]/2,v=j*(2/3)*T[4]/100,L=j-v,H=j;
t=[];if(T[0])t.push(-b,L,-e,H,0,0,e,H,b,L);else t.push(-b,0,b,0);if(T[1])t.push(b,a-L,e,a-H,0,a,-e,a-H,-b,a-L);
else t.push(b,a,-b,a)}var w=new d3(1,0,0,1,0,0);w.rotate(Math.atan2(-d+k,y-o)+Math.PI/2);w.translate(o,k);
_.p.D(t,w,t);return _.w.qA.KO(t,0)};_.w.qA.rj=function(g,o,k,y){var d=[{type:6},{type:8,all:0}],v=.553;
d.push({type:0,dJ:1,length:4,nB:0,tH:0,Pj:1});var b=g,T=o,a=g+k,t=o+y,g=(b+a)/2,o=(T+t)/2,j=(b-a)/2,e=(T-t)/2;
d.push({type:1,Tp:new bJ(g-v*j,o-e),H:new bJ(g,o-e),dt:new bJ(g+v*j,o-e)});d.push({type:1,Tp:new bJ(g+j,o-v*e),H:new bJ(g+j,o),dt:new bJ(g+j,o+v*e)});
d.push({type:1,Tp:new bJ(g+v*j,o+e),H:new bJ(g,o+e),dt:new bJ(g-v*j,o+e)});d.push({type:1,Tp:new bJ(g-j,o+v*e),H:new bJ(g-j,o),dt:new bJ(g-j,o-v*e)});
return d};_.w.qA.akx=function(g,o,k,y,d){var b=[{type:6},{type:8,all:0}];b.push({type:3,dJ:1,length:5,nB:0,tH:0,Pj:1});
var T=(d-y)/4;for(var m=0;m<5;m++){var a=m*T,t=Math.cos(a),j=Math.sin(a),e=.553*(T/(Math.PI/2)),v=j*e,L=-t*e,H=new bJ(t,j);
b.push({type:4,Tp:m==0?H.clone():new bJ(t+v,j+L),H:H,dt:m==4?H.clone():new bJ(t-v,j-L)})}var w=new d3;
w.rotate(-y);w.scale(k,k);w.translate(g,o);_.w.cs(b,w);return b};_.uR={};_.uR.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
_.uR.VV=function(g){var o=g.warpStyle.v.warpStyle;if(o=="warpNone")return!0;else if(o=="warpCustom"){var k=!1,y=g.customEnvelopeWarp.v.meshPoints.v.arr,d=y[0].arr,b=y[1].arr;
for(var m=0;m<4;m++)for(var T=0;T<4;T++){if(Math.abs(d[m]-d[T*4+m])>1||Math.abs(b[m*4]-b[m*4+T])>1)k=!0}return!k}else return g.warpValue.v==0&&g.warpPerspective.v==0&&g.warpPerspectiveOther.v==0};
_.uR.Q=function(g){var o={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(g){o.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:g.y}},Left:{t:"UntF",v:{type:"#Pxl",val:g.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:g.y+g.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:g.x+g.m}}}};
o.uOrder={t:"long",v:4};o.vOrder={t:"long",v:4}}return o};_.uR.asR=function(g,o,k,y){for(var m=0;m<g.length;
m+=2){var d=g[m],b=g[m+1],T=(d-o.x)/o.m,a=(b-o.y)/o.n,t=(1-k)/2,j=1-t,e=t+T*(j-t);a=.5+(a-.5)*e*2;var v=(1-y)/2,L=1-v,H=v+a*(L-v);
T=.5+(T-.5)*H*2;d=o.x+T*o.m;b=o.y+a*o.n;g[m]=d;g[m+1]=b}};_.uR.HQ=function(g,o){var k=[],y=[];for(var m=0;
m<g.length;m+=2){k.push(g[m]);y.push(g[m+1])}var d=[];d.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:k});
d.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:y});o.warpStyle.v.warpStyle="warpCustom";o.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:d}}}}};
_.uR.$p=function(g,o){if(o==null){var k=g.bounds.v,y=k.Left.v.val,d=k.Rght.v.val,b=k.Top.v.val,T=k.Btom.v.val;
if(y==null){y=k.Left.v,d=k.Rght.v;b=k.Top.v,T=k.Btom.v}o=new bd(y,b,d-y,T-b)}if(o.on())o.m=o.n=1;var a=[],t=g.warpStyle.v.warpStyle;
if(t=="warpCustom"){var j=g.customEnvelopeWarp.v.meshPoints.v.arr,e=j[0].arr,v=j[1].arr;for(var m=0;
m<16;m++)a.push(e[m],v[m])}else a=_.uR.uR(o,t,g.warpRotate.v.Ornt=="Hrzn",g.warpValue.v/100,g.warpPerspective.v/100,g.warpPerspectiveOther.v/100);
return a};_.uR.uR=function(g,o,k,y,d,b){var T=_.RS.Q(g.x,g.y,g.m,g.n);if(o=="warpNone")return T;var a=JSON.parse(JSON.stringify(g)),t=new d3;
if(!k){t.translate(-g.x,-g.y);t.rotate(-Math.PI/2);t.translate(g.n,0);_.p.D(T,t,T);g=new bd(0,0,g.n,g.m);
T=_.RS.QN(T,!1)}_.uR.alJ(T,g,o,y,d,b);if(!k){T=_.RS.QN(T,!0);g=a;t.TY();_.p.D(T,t,T)}if(y==0)_.uR.asR(T,g,d,b);
else{var t=new d3(1/g.m,0,0,1/g.n,-g.x,-g.y);t.translate(-.5,-.5);_.p.D(T,t,T);_.uR.a0$(T,b,d);t.TY();
_.p.D(T,t,T)}return T};_.uR.alJ=function(g,o,k,y,d,b){for(var m=0;m<4;m++){for(var T=0;T<4;T++){var a=2*(4*m+T),t=g[a]-o.x,j=g[a+1]-o.y,e=t,v=j;
if(y!=0){var L=o.m/2,H=o.n/2;e-=L;v-=H;var w=e,P=e,Q=-H,x=H,F=Math.abs(y),E=Math.tan((1-F)*Math.PI/2),f=Math.sqrt(E*E+1),c=Math.atan2(1,E),M=e/L*c,n=L*f,X=L*f+o.n,u=Math.cos(c),I=Math.sin(c),r=_.uR.abg(u,I),J=_.uR.aql(u,I),U=-E*L+r*n;
if(k=="warpArc"){w=Math.sin(M)*X;Q=E*L-Math.cos(c)*X+H;P=Math.sin(M)*n;x=E*L-Math.cos(c)*n+H;if(T==1||T==2){w=T==1?-J*X:J*X;
P=T==1?-J*n:J*n;Q=E*L+H-r*X;x=E*L+H-r*n}if(y<0){var K=w;w=P;P=K;K=Q;Q=-x;x=-K}}if(k=="warpArcLower"){if(T==1||T==2){P=T==1?-J*n:J*n;
x=y<0?H-U:H+U}}if(k=="warpArcUpper"||k=="warpArch"||k=="warpBulge"){if(T==1||T==2){w=T==1?-J*n:J*n;Q=y<0?-H+U:-H-U}if(k=="warpArch"){P=w;
x=Q+2*H}if(k=="warpBulge"){P=w;x=-Q}}if(k=="warpFish"||k=="warpFlag"||k=="warpWave"){var i=T;if(k=="warpFlag")i=3-T;
if(i==1){Q-=y*4*H;x+=y*4*H}if(i==2){Q+=y*4*H;x-=y*4*H}if(k=="warpFlag"||k=="warpWave")Q=x-2*H}if(k=="warpRise"){if(T<2)Q=-H+y*H*4;
x=Q+2*H}var z=(v+H)/o.n;e=w+z*(P-w);v=Q+z*(x-Q);if(k=="warpWave"){if(m==0)v=-H;if(m==3)v=H;if(m==1||m==2)v=2*H*(m/3-.5)*(1/3)+v*(2/3)}if(k=="warpFisheye"){if((m==1||m==2)&&(T==1||T==2)){e=e+4*e*y;
v=v+4*v*y}}if(k=="warpInflate"){var h=2/3;if((m==1||m==2)&&(T==1||T==2)){e=e+.5*e*y;v=v+.5*v*y}else if(m==1||m==2)e=e+h*e*y;
else if(T==1||T==2)v=v+h*v*y}if(k=="warpSqueeze"){var h=2/3;if((m==1||m==2)&&(T==1||T==2)){if(y>0)e=e-h*e*y;
else v=v+h*v*y}else if(m==1||m==2)e=e-h*e*y;else if(T==1||T==2)v=v+h*v*y}if(k=="warpTwist"){if((m==1||m==2)&&(T==1||T==2)){var R=y*Math.PI/2,f=1+Math.abs(y)*2,C=e*Math.cos(R)-v*Math.sin(R),G=e*Math.sin(R)+v*Math.cos(R);
e=C*f;v=G*f}}if(k=="warpShellLower"||k=="warpShellUpper"){if(k=="warpShellUpper"){m=3-m;v=-v}if(m>2||m==2&&(T==0||T==3)){if(y>0){var W=n+m/3*2*H;
e=Math.sin(M)*W;v=-E*L-H+Math.cos(M)*W;if(T==1||T==2){e=T==1?-J*W:J*W;v=-E*L-H+r*W}}else{if((T==1||T==2)&&m==3){e=T==1?-J*n:J*n;
v=E*L-r*n+H}else if(m==2){v=H-H*(2/3)*Math.cos(M);e=e+H*(2/3)*Math.sin(M)}}}if(k=="warpShellUpper"){m=3-m;
v=-v}}e+=L;v+=H}t=e,j=v;g[a]=t+o.x;g[a+1]=j+o.y}}};_.uR.a0$=function(g,o,k){var y=[];for(var d=0;d<4;
d++)y.push(1-k+d/3*2*k);var b=[];for(var d=0;d<4;d++)b.push(1-o+d/3*2*o);var T=[0,0,0,0],a=[0,0,0,0];
for(var m=0;m<4;m++)for(var d=0;d<4;d++){var t=2*(4*m+d),j=g[t],e=g[t+1];T[d]+=j/4;a[d]+=e/4}for(var m=0;
m<4;m++)for(var d=0;d<4;d++){var v=y[d],t=2*(4*m+d),j=g[t],e=g[t+1],L=T[d],H=a[d];g[t]=L+v*(j-L);g[t+1]=H+v*(e-H)}var w=g.slice(0);
for(var m=0;m<4;m++)for(var d=1;d<3;d++){var t=2*(4*m+d),j=g[t],e=g[t+1],P=t+(d==1?-2:2),Q=g[P],x=g[P+1];
g[t]=j-Q;g[t+1]=e-x}var F=g[0],E=g[1],f=g[8],c=g[9],M=g[16],n=g[17],X=g[24],u=g[25],I=g[6],r=g[7],J=g[14],U=g[15],K=g[22],i=g[23],z=g[30],h=g[31],R=I-F,C=r-E,G=J-f,W=U-c,A=K-M,$=i-n,O=z-X,Y=h-u;
for(var m=0;m<4;m++){var l=2*m*4,B=0,f4=0,V=m==1?.33:.66,q=1-V;if(m==0){B=R;f4=C}if(m==1){B=q*R+V*-O;
f4=q*C+V*-Y}if(m==2){B=q*R+V*-O;f4=q*C+V*-Y}if(m==3){B=-O;f4=-Y}g[l]=g[l]+B/2;g[l+1]=g[l+1]+f4/2;g[l+6]=g[l+6]-B/2;
g[l+7]=g[l+7]-f4/2}for(var m=0;m<4;m++)for(var d=1;d<3;d++){var t=2*(4*m+d),j=g[t],e=g[t+1],P=t+(d==1?-2:2),Q=g[P],x=g[P+1],v=2*m/3;
g[t]=Q+v*j;g[t+1]=x+v*e}for(var m=1;m<3;m++)for(var d=1;d<3;d++){var t=2*(4*m+d),j=g[t],e=g[t+1],s=m==1?-8:-16,cW=m==1?16:8,dk=g[t+s],kr=g[t+s+1],j9=g[t+cW],bh=g[t+cW+1],v=m/3;
j=(1-v)*dk+v*j9;e=(1-v)*kr+v*bh;g[t]=j;g[t+1]=e}_.p.r9(w,g,g,o)};_.uR.abg=function(g,o){return(4-g)*(1/3)};
_.uR.aql=function(g,o){return(1-g)*(3-g)/(3*o)};_.WK={};_.WK.avz=function(g,o,k,y,d,b,T,a,t,j){for(var e=0;
e<a;e++)for(var v=0;v<T;v++){var L=3*(e*T+v),H=e+b,w=v+d,P=g[H*o+w];y[L]=P;y[L+1]=P;y[L+2]=P}};_.WK.RE=function(g,o,k,y,d,b,T,a,t,j){var e=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],v=1/t,L=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],H=new Uint32Array(6);
for(var w=0;w<a;w++){for(var P=0;P<T;P++){var Q=3*(w*T+P),x=w+b,F=P+d;H[0]=0;H[1]=0;H[2]=0;H[3]=0;H[4]=0;
H[5]=0;for(var m=0;m<16;m+=2){var E=F+L[m],f=x+L[m+1],c=E-t*~~(E*v),M=f-t*~~(f*v),n=j[M*t+c];H[n]+=g[f*o+E];
H[n+3]++}var E=F,f=x,c=E-t*~~(E*v),M=f-t*~~(f*v),n=j[M*t+c];H[n]=g[x*o+F];H[n+3]=1;y[Q]=H[0]*e[H[3]];
y[Q+1]=H[1]*e[H[4]];y[Q+2]=H[2]*e[H[5]]}}};_.WK.Us=function(g,o,k){for(var m=0;m<k;m+=2)g[o+m]=g[o+m+1];
o=o+k;for(var m=0;m<k;m+=2)g[o+m+1]=g[o+m]};_.WK.tP=function(g,o,k,y){for(var m=0;m<y;m+=2){var d=o+m*k;
g[d]=g[d+k];g[d+k+1]=g[d+1]}};_.WK.Bw=function(g,o,k,y,d,b){var T=y[d],a=y[d+1],t=y[b],j=y[b+1],e=a+t>>>1;
g[o]=g[o+3]=g[k]=g[k+3]=T;g[o+1]=e;g[o+4]=a;g[k+1]=t;g[k+4]=e;g[o+2]=g[o+5]=g[k+2]=g[k+5]=j};_.WK.a0Z=function(g,o,k,y,d,b){var T=b*3;
for(var m=0;m<b;m+=2){var a=o+m,t=d+m*3;_.WK.Bw(y,t,t+T,g,a,a+k)}};_.WK.axN=function(g,o,k,y,d,b,T){var a=b*3;
for(var m=0;m<T;m+=2){var t=o+m*k,j=d+m*b*3;_.WK.Bw(y,j,j+a,g,t,t+k)}};_.WK.nA=function(g,m,o){var k=g[m-o-o],y=g[m-o],d=g[m-2],b=g[m-1],T=g[m],a=g[m+1],t=g[m+2],j=g[m+o],e=g[m+o+o],v=Math.abs(y-j),L=Math.abs(b-a),H=Math.abs(T-k)*2+v,w=Math.abs(T-t)*2+L,P=Math.abs(T-d)*2+L,Q=Math.abs(T-e)*2+v,x=Math.min(H,Math.min(w,Math.min(P,Q)));
if(x==H)return y*3+j+T-k>>2;if(x==w)return a*3+b+T-t>>2;if(x==P)return b*3+a+T-d>>2;return j*3+y+T-e>>2};
_.WK.co=function(g,o,k,y,d){if(g<o&&o<k||g>o&&o>k)return~~(.5+y+(d-y)*(o-g)/(k-g));else return(y+d>>1)+(o+o-g-k>>2)};
_.WK.OH=function(g,o,m,k){var y=o[m-k-1],d=o[m-k+1],b=o[m],T=o[m+k-1],a=o[m+k+1],t=g[m-k-1],j=g[m-k+1],e=g[m],v=g[m+k-1],L=g[m+k+1],H=Math.abs(j-v)+Math.abs(g[m-k-k+2]-e)+Math.abs(e-g[m+k+k-2])+Math.abs(d-b)+Math.abs(b-T),w=Math.abs(t-L)+Math.abs(g[m-k-k-2]-e)+Math.abs(e-g[m+k+k+2])+Math.abs(y-b)+Math.abs(b-a);
if(H<w)return _.WK.co(d,b,T,j,v);else return _.WK.co(y,b,a,t,L)};_.WK.oq=function(g,o,k,y,d,b){g[o+0]=k[d];
g[o+1]=y[d];g[o+2]=_.WK.OH(k,y,d,b)};_.WK.fP=function(g,o,k,y,d,b){var T=y[d];g[o+0]=_.WK.co(y[d-1],T,y[d+1],k[d-1],k[d+1]);
g[o+1]=T;g[o+2]=_.WK.co(y[d-b],T,y[d+b],k[d-b],k[d+b])};_.WK.JB=function(g,o,k,y,d,b){var T=y[d];g[o+0]=_.WK.co(y[d-b],T,y[d+b],k[d-b],k[d+b]);
g[o+1]=T;g[o+2]=_.WK.co(y[d-1],T,y[d+1],k[d-1],k[d+1])};_.WK.t8=function(g,o,k,y,d,b){g[o+0]=_.WK.OH(k,y,d,b);
g[o+1]=y[d];g[o+2]=k[d]};_.WK.asw=function(g,o,k,y,d,b,T,a,t){var j=Date.now(),e=2,v=o-2,L=2;if((d&1)==1){e++;
v--}var H=k-2;if((b&1)==1){L++;H--}if(t==1||t==3){e++;v--}var w=g.slice(0);_.WK.Us(w,0,o);_.WK.tP(w,0,o,k);
_.WK.tP(w,o-2,o,k);_.WK.Us(w,(k-2)*o,o);for(var P=L;P<H;P+=2)for(var Q=e;Q<v;Q+=2){var m=P*o+Q,x=_.WK.nA(w,m,o),F=_.WK.nA(w,m+o+1,o);
w[m]=Math.max(0,x);w[m+o+1]=Math.max(0,F)}var E=T,f=a;if(b+a==k){f-=2;_.WK.a0Z(g,(k-2)*o+d,o,y,(a-2)*T*3,T)}if(d+T==o){E-=2;
_.WK.axN(g,b*o+d+T-2,o,y,(T-2)*3,T,a)}if(t==0)for(var P=0;P<f;P+=2)for(var Q=0;Q<E;Q+=2){var c=(P+b)*o+Q+d,M=(P*T+Q)*3;
_.WK.oq(y,M,g,w,c,o);_.WK.fP(y,M+3,g,w,c+1,o);c+=o;M+=3*T;_.WK.JB(y,M,g,w,c,o);_.WK.t8(y,M+3,g,w,c+1,o)}else if(t==1)for(var P=0;
P<f;P+=2)for(var Q=0;Q<E;Q+=2){var c=(P+b)*o+Q+d,M=(P*T+Q)*3;_.WK.fP(y,M,g,w,c,o);_.WK.oq(y,M+3,g,w,c+1,o);
c+=o;M+=3*T;_.WK.t8(y,M,g,w,c,o);_.WK.JB(y,M+3,g,w,c+1,o)}else if(t==2)for(var P=0;P<f;P+=2)for(var Q=0;
Q<E;Q+=2){var c=(P+b)*o+Q+d,M=(P*T+Q)*3;_.WK.t8(y,M,g,w,c,o);_.WK.JB(y,M+3,g,w,c+1,o);c+=o;M+=3*T;_.WK.fP(y,M,g,w,c,o);
_.WK.oq(y,M+3,g,w,c+1,o)}else if(t==3)for(var P=0;P<f;P+=2)for(var Q=0;Q<E;Q+=2){var c=(P+b)*o+Q+d,M=(P*T+Q)*3;
_.WK.JB(y,M,g,w,c,o);_.WK.t8(y,M+3,g,w,c+1,o);c+=o;M+=3*T;_.WK.oq(y,M,g,w,c,o);_.WK.fP(y,M+3,g,w,c+1,o)}};
_.raw={};_.raw.aup=function(g){var o=Date.now(),k=g.width,y=g.height,d=0,b=0,T=k,a=y;if(g.t50829){var t=g.t50829;
d=t[1];b=t[0];T=t[3];a=t[2]}if(g.t50719){var j=g.t50719;d+=j[0]>>1<<1;b+=j[1]>>1<<1}if(g.t50720){var e=g.t50720;
T=d+e[0];a=b+e[1]}var v=T-d,L=a-b,H=_.raw.axh(g),w=g.t33422,P=g.t33421;if(P){var e=P[0],Q=w.slice(0);
for(var x=0;x<e;x++)for(var F=0;F<e;F++){var E=(F+(d&1))%e,f=(x+(b&1))%e;Q[x*e+F]=w[f*e+E]}w=Q}if(g.t277[0]==1)_.raw.abZ(H,k,y,g,w);
_.raw.Cy(2,g,H,k,y);var c=new Float32Array(v*L*3);if(g.t277[0]==1){if(P==null){_.WK.avz(H,k,y,c,d,b,v,L)}else if(P.length!=2||P[0]!=2||P[1]!=2){console.log("Unknown CFA pattern size",P);
_.WK.RE(H,k,y,c,d,b,v,L,P[0],w)}else{var M=g.t33422.join(","),n=0;if(M=="0,1,1,2")n=0;else if(M=="1,0,2,1")n=1;
else if(M=="2,1,1,0")n=2;else if(M=="1,2,0,1")n=3;else throw"Unknown CFA pattern "+M;if((v&1)!=0||(L&1)!=0)throw"e";
_.WK.asw(H,k,y,c,d,b,v,L,n)}}else{for(var x=0;x<L;x++)for(var F=0;F<v;F++){var X=((x+b)*k+F+d)*3,u=(x*v+F)*3;
c[u+0]=H[X+0];c[u+1]=H[X+1];c[u+2]=H[X+2]}}var I=c,r=c.length,J=_.raw.fR(g),U=1/J;for(var m=0;m<r;m+=3){c[m]=I[m]*U;
c[m+1]=I[m+1]*U;c[m+2]=I[m+2]*U}_.raw.Cy(3,g,c,v,L);var K=g.Qx,i=v,z=L;if(K==1||K==9){}else{var h=_.raw.ly(K,v,L),u=0;
i=h[0];z=h[1];var R=c.slice(0);for(var x=0;x<z;x++)for(var F=0;F<i;F++){var C=h[2]*F+h[3]*x+h[4],G=h[5]*F+h[6]*x+h[7],X=(G*v+C)*3;
c[u]=R[X];c[u+1]=R[X+1];c[u+2]=R[X+2];u+=3}}return{rg:c,Wm:i,nk:z}};_.raw.ly=function(g,o,k){var y=o,d=k;
if(!1){}else if(g==2)return[o,k,-1,0,o-1,0,1,0];else if(g==3)return[o,k,-1,0,o-1,0,-1,k-1];else if(g==4)return[o,k,1,0,0,0,-1,k-1];
else if(g==5)return[k,o,0,1,0,1,0,0];else if(g==6)return[k,o,0,1,0,-1,0,k-1];else if(g==7)return[k,o,0,-1,o-1,-1,0,k-1];
else if(g==8)return[k,o,0,-1,o-1,1,0,0];else throw"unknown orientation "+g};_.raw.abZ=function(g,o,k,y,d){var b=Date.now(),U=0,z=0;
if(_.raw.fR(y)>4e4){for(var m=0;m<g.length;m++)g[m]>>=1;var T=["t50714","t50715","t50712","t50717"];
for(var m=0;m<T.length;m++){var a=y[T[m]];if(a)for(var t=0;t<a.length;t++)a[t]>>>=1}console.log("remapping to lower bit depth")}var j=~~Math.sqrt(d.length),e=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],v=[];
for(var L=0;L<j;L++)for(var H=0;H<j;H++){var m=L*j+H,w=d[m],P=4,Q=4,x=8,F=0,E=0;for(var t=0;t<18;t+=2){var f=(j+H+e[t])%j,c=(j+L+e[t+1])%j,M=d[c*j+f];
if(M==w){}else if(P==4){P=M;F=t}else if(Q==4&&M!=P){Q=M;E=t;break}}if(Q<P){var n=Q;Q=P;P=n;n=E;E=F;F=n}if(P<w){var n=P;
P=w;w=n;n=F;F=x;x=n}if(Q<P){var n=Q;Q=P;P=n;n=E;E=F;F=n}v[m*3]=e[x+1]*o+e[x];v[m*3+1]=e[F+1]*o+e[F];
v[m*3+2]=e[E+1]*o+e[E]}var X=~~(.996*_.raw.fR(y)),u=~~(.992*_.raw.fR(y)),I=y.t50728;if(I[0]==0)I=[1,1,1];
var r=[],J=[0,0,0];for(var L=1;L<k-1;L++)for(var H=1;H<o-1;H++){var m=L*o+H,K=L%j*j+H%j,w=g[m+v[K*3+0]],P=g[m+v[K*3+1]],Q=g[m+v[K*3+2]],i=Math.max(w,P,Q);
if(i>X)r.push(m);else if(i>u){J[0]+=w;J[1]+=P;J[2]+=Q;U++}}if(r.length==0)return;if(U/(o*k)<1e-5){console.log("not enough semi-saturated pixels",U);
J=I}if(J[1]<J[z])z=1;if(J[2]<J[z])z=2;var h=[J[0]/J[z],J[1]/J[z],J[2]/J[z]],R=g.slice(0);for(var C=0;
C<r.length;C++){var m=r[C],L=~~(m/o),H=m-L*o,K=L%j*j+H%j,G=Math.min(65535,~~(g[m+v[K*3+z]]*h[d[K]]));
if(G>R[m])R[m]=G}g.set(R)};_.raw.$t=function(g,o,k,y){var d=Math.round(g.length/3),b=hz.kZ(y[0],y[1]),T=_.raw.az1(k,b),a=_.x1.multiply(_.x1.pf,T),t=Math.pow(2,k.t50730?k.t50730[0]:0);
a=_.x1.multiply(a,_.x1.xc(t,t,t));var j=_.raw.$t.abB;if(j==null){j=_.raw.$t.abB=new Float64Array(8e3);
for(var m=0;m<8e3;m++)j[m]=_.WW(m*(1/1e3))}for(var m=0;m<d;m++){var e=m<<2,v=e-m,L=g[v],H=g[v+1],w=g[v+2],P=a[0]*L+a[1]*H+a[2]*w,Q=a[4]*L+a[5]*H+a[6]*w,x=a[8]*L+a[9]*H+a[10]*w;
if(P<0)P=0;if(Q<0)Q=0;if(x<0)x=0;o[v]=j[~~(P*1e3)];o[v+1]=j[~~(Q*1e3)];o[v+2]=j[~~(x*1e3)]}};_.raw.axh=function(g){var o=g.width,k=g.height,y=o*k*g.t277,d=new Uint16Array(y),b=null,T=0;
_.raw.apD(g,d);_.raw.Cy(1,g,d,o,k);if(g.t50712){b=g.t50712;T=b.length-1;if(b[T]>65535)throw"too big values"}var a=_.raw.oY(g),t=_.raw.Qi(g);
if(b==null)for(var m=0;m<y;m++)d[m]=Math.max(0,d[m]-a);else for(var m=0;m<y;m++){var j=d[m];if(j>T)j=T;
j=b[j];d[m]=Math.max(0,j-a)}return d};_.raw.oY=function(g){var o=g.t50714,k=o?o[0]:0,y=g.t50715,d=g.t50716;
if(y)k+=y[0][0]/y[0][1];if(d)k+=d[0][0]/d[0][1];return Math.round(k)};_.raw.Qi=function(g){var o=null,k=0;
if(g.t50712){o=g.t50712;k=o.length-1}var y=g.t50717?g.t50717[0]:(1<<g.t258[0])-1;if(o)y=Math.min(y,o[k]);
return y};_.raw.fR=function(g){var o=_.raw.oY(g),k=_.raw.Qi(g);return k-o};_.raw.apD=function(g,o){var k=o.length,y=g.data,d=g.t258[0];
if(d!=16&&d!=14&&d!=12&&d!=10&&d!=8)throw"Unsupported Bits Per Sample:"+d;d=Math.round(y.length*8/k);
if(d==16&&g.isLE){_.QF(y,o);return}for(var m=0;m<k;m+=2){var b=0,T=0,a=0;if(d==16){b=m<<1;T=y[b]<<8|y[b+1];
a=y[b+2]<<8|y[b+3]}else if(d==14){var t=m*14,j=t>>>3,e=y[j]<<24|y[j+1]<<16|y[j+2]<<8|y[j+3];if((t&7)==0){T=e>>>18;
a=e>>>4&16383}else{T=e>>>14&16383;a=e&16383}}else if(d==12){b=m+(m>>>1);T=y[b]<<4|y[b+1]>>4;a=(y[b+1]&15)<<8|y[b+2]}else if(d==10){var t=m*10,j=t>>>3;
if((t&7)==0){T=(y[j]<<2|y[j+1]>>6)&1023;a=(y[j+1]<<4|y[j+2]>>4)&1023}else{T=(y[j]<<6|y[j+1]>>2)&1023;
a=(y[j+1]<<8|y[j+2]>>0)&1023}}else if(d==8){b=m;T=y[b];a=y[b+1]}o[m]=T;o[m+1]=a}};_.raw.amm=function(g,o,k,y,d,b,T){var a=g-.499999,t=o-.499999,j=~~a,e=~~t,v=a-j,L=t-e,H=(1-L)*(1-v),w=(1-L)*v,P=L*(1-v),Q=L*v,x=(e*y+j)*3,F=((e+1)*y+j)*3,E=H*k[x]+w*k[x+3]+P*k[F]+Q*k[F+3],f=H*k[x+1]+w*k[x+4]+P*k[F+1]+Q*k[F+4],c=H*k[x+2]+w*k[x+5]+P*k[F+2]+Q*k[F+5];
b[T]=E;b[T+1]=f;b[T+2]=c};_.raw.Cy=function(g,o,k,y,d){var b=o["t"+[51008,51009,51022][g-1]],e=0;if(b==null)return;
var T=y*d,a=S.q,t=S.uc,j=new Uint8Array(b),fX=S.q(j,e);e+=4;for(var v=0;v<fX;v++){var L=a(j,e);e+=4;
var H=a(j,e);e+=4;var w=a(j,e);e+=4;var P=a(j,e);e+=4;if(!1){}else if(L==1&&g==3){var Q=e,x=a(j,Q);Q+=4;
var F=t(j,Q);Q+=8;var E=t(j,Q);Q+=8;var f=t(j,Q);Q+=8;var c=t(j,Q);Q+=8;var M=t(j,Q);Q+=8;var n=t(j,Q);
Q+=8;Q+=(x-1)*8*6;var X=t(j,Q);Q+=8;var u=t(j,Q);Q+=8;var I=X*y,r=u*d,J=Math.max(I,y-I),U=Math.max(r,d-r),K=Math.sqrt(J*J+U*U),i=1/K,z=k.slice(0);
for(var h=0;h<d;h++)for(var R=0;R<y;R++){var C=(R+.5-I)*i,G=(h+.5-r)*i,W=C*C+G*G,A=F+E*W+f*(W*W)+c*(W*W)*W,$=M*(2*C*G)+n*(W+2*C*C),O=n*(2*C*G)+M*(W+2*G*G),Y=Math.min(I+K*(A*C+$),y-1),l=Math.min(r+K*(A*G+O),d-1),B=(h*y+R)*3;
_.raw.amm(Y,l,z,y,d,k,B)}}else if(L==3&&g==3){var Q=e,f4=t(j,Q);Q+=8;var V=t(j,Q);Q+=8;var q=t(j,Q);
Q+=8;var s=t(j,Q);Q+=8;var cW=t(j,Q);Q+=8;var X=t(j,Q);Q+=8;var u=t(j,Q);Q+=8;var I=X*y,r=u*d,J=Math.max(I,y-I),U=Math.max(r,d-r),K=Math.sqrt(J*J+U*U),i=1/K;
for(var h=0;h<d;h++)for(var R=0;R<y;R++){var C=(R+.5-I)*i,G=(h+.5-r)*i,W=C*C+G*G,dk=1+(f4+(V+(q+(s+cW*W)*W)*W)*W)*W,B=(h*y+R)*3;
k[B]=dk*k[B];k[B+1]=dk*k[B+1];k[B+2]=dk*k[B+2]}}else if(L==4&&g==1){var Q=e,kr=a(j,Q);Q+=4;var j9=a(j,Q);
Q+=4;for(var m=0;m<T;m++)if(k[m]==kr)k[m]=k[m-2]+k[m+2]>>1}else if(L==5&&g==1){var Q=e,bh=a(j,Q);Q+=4;
var fe=a(j,Q);Q+=4;var gg=a(j,Q);Q+=4;for(var m=0;m<fe;m++){var a$=a(j,Q);Q+=4;var dg=a(j,Q);Q+=4;var m=a$*y+dg;
k[m]=k[m-2]+k[m+2]>>1}}else if(L==7&&g==1){var Q=e,iv=S.Kn(j,Q);Q+=16;var aQ=a(j,Q);Q+=4;var dt=a(j,Q);
Q+=4;var hY=a(j,Q),b9=a(j,Q+4);Q+=8;var i0=a(j,Q);Q+=4;var gD=new Uint16Array(i0);for(var m=0;m<i0;m++)gD[m]=S.EN(j,Q+2*m);
var hU=iv.m,aW=iv.n;for(var h=0;h<aW;h+=hY)for(var R=0;R<hU;R+=b9){var m=(iv.y+h)*y+(iv.x+R);k[m]=gD[k[m]]}}else if(L==8&&g==2){var Q=e,iv=S.Kn(j,Q);
Q+=16;var aQ=a(j,Q);Q+=4;var dt=a(j,Q);Q+=4;var hY=a(j,Q),b9=a(j,Q+4);Q+=8;var be=a(j,Q);Q+=4;var hv=[];
for(var m=0;m<=be;m++)hv[m]=S.uc(j,Q+m*8);var b3=iv.x,gT=iv.x+iv.m,aB=iv.y,bO=iv.y+iv.n,kf=o.t50717[0],iY=1/kf;
for(var gs=0;gs<dt;gs++)for(var h=aB;h<bO;h+=hY){var B=3*h*y+aQ+gs;for(var R=b3;R<gT;R+=b9){var m=B+3*R,c1=k[m]*iY,gK=hv[be];
for(var c4=be;c4>0;c4--)gK=gK*c1+hv[c4-1];k[m]=Math.max(0,Math.min(65535,~~(gK*kf)))}}}else if(L==9&&g==2){var Q=e,iv=S.Kn(j,Q),j5=!0;
Q+=16;var aQ=a(j,Q);Q+=4;var dt=a(j,Q);Q+=4;var hY=a(j,Q),b9=a(j,Q+4);Q+=8;var k6=a(j,Q),jk=a(j,Q+4);
Q+=8;var jt=t(j,Q),j_=t(j,Q+8);Q+=16;var kw=t(j,Q),eu=t(j,Q+8);Q+=16;var ak=a(j,Q);Q+=4;if(ak!=1)throw"more than one map plane";
var cY=k6*jk,bG=new Float32Array(cY);for(var c4=0;c4<cY;c4++)bG[c4]=S.ZF(j,Q+c4*4);for(var c4=0;c4<cY;
c4++)if(bG[c4]!=1)j5=!1;if(!j5){var hU=iv.m,aW=iv.n,hI=.9999*(jk-1)/hU,jJ=.9999*(k6-1)/aW;for(var h=0;
h<aW;h+=hY)for(var R=0;R<hU;R+=b9){var m=(iv.y+h)*y+(iv.x+R),ca=R*hI,gI=h*jJ,c3=Math.floor(ca),fs=Math.floor(gI),eS=ca-c3,bf=gI-fs,B=fs*jk+c3,ef=bG[B]*(1-eS)+bG[B+1]*eS,hh=bG[B+jk]*(1-eS)+bG[B+1+jk]*eS,fA=ef*(1-bf)+hh*bf;
k[m]=Math.max(0,Math.min(65535,~~(k[m]*fA+.5)))}}}else console.log("Unknown opcode "+L+" in OpcodeList"+g+". Length: "+P);
e+=P}};_.raw.az1=function(g,o){var k=hz.ot(o),y=_.raw.YJ(g,o),d=_.x1.TY(y),b=hz.yD(k,hz.ot(hz.a0a)),T=_.x1.multiply(b,d);
return T};_.raw.aac=function(g){var o=g.t50728,d=1;if(o==null||o[0]==0)o=[1,1,1];var k=o.slice(0);k.push(0);
var y={x:.34567,y:.3585};do{var b=_.x1.TY(_.raw.YJ(g,y)),T=_.x1.hi(b,k),a=hz.agW(T);d=Math.abs(y.x-a.x)+Math.abs(y.y-a.y);
y=a}while(d>1e-7);return y};_.raw.YJ=function(g,o){var k=hz.i4(o),y=_.raw.ajC,d=g.t50778?g.t50778[0]:0,b=g.t50779?g.t50779[0]:0,T=g.t50723,a=g.t50724;
if(T&&T.length==3)T=null;if(a&&a.length==3)a=null;var t=y(g.t50721,g.t50722,d,b,k.NI),j=y(T,a,d,b,k.NI);
t=t||[1,0,0,0,1,0,0,0,1];j=j||[1,0,0,0,1,0,0,0,1];var e=g.t50727?[g.t50727[0],0,0,0,g.t50727[1],0,0,0,g.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return _.x1.multiply(_.x1.Q8(e),_.x1.multiply(_.x1.Q8(j),_.x1.Q8(t)))};_.raw.ajC=function(g,o,k,y,d){if(!g&&!o){return null}else if(g&&!o){return g}else if(d<k){return g}else if(d>y){return o}else{var b=(1/d-1/y)/(1/k-1/y),T=1-b,a=[];
for(var m=0;m<9;m++)a[m]=g[m]*b+o[m]*T;return a}};var hz={};hz.a0a={x:.34567,y:.3585};hz.kS=[{o:0,wF:.18006,_Q:.26352,la:-.24341},{o:10,wF:.18066,_Q:.26589,la:-.25479},{o:20,wF:.18133,_Q:.26846,la:-.26876},{o:30,wF:.18208,_Q:.27119,la:-.28539},{o:40,wF:.18293,_Q:.27407,la:-.3047},{o:50,wF:.18388,_Q:.27709,la:-.32675},{o:60,wF:.18494,_Q:.28021,la:-.35156},{o:70,wF:.18611,_Q:.28342,la:-.37915},{o:80,wF:.1874,_Q:.28668,la:-.40955},{o:90,wF:.1888,_Q:.28997,la:-.44278},{o:100,wF:.19032,_Q:.29326,la:-.47888},{o:125,wF:.19462,_Q:.30141,la:-.58204},{o:150,wF:.19962,_Q:.30921,la:-.70471},{o:175,wF:.20525,_Q:.31647,la:-.84901},{o:200,wF:.21142,_Q:.32312,la:-1.0182},{o:225,wF:.21807,_Q:.32909,la:-1.2168},{o:250,wF:.22511,_Q:.33439,la:-1.4512},{o:275,wF:.23247,_Q:.33904,la:-1.7298},{o:300,wF:.2401,_Q:.34308,la:-2.0637},{o:325,wF:.24792,_Q:.34655,la:-2.4681},{o:350,wF:.25591,_Q:.34951,la:-2.9641},{o:375,wF:.264,_Q:.352,la:-3.5814},{o:400,wF:.27218,_Q:.35407,la:-4.3633},{o:425,wF:.28039,_Q:.35577,la:-5.3762},{o:450,wF:.28863,_Q:.35714,la:-6.7262},{o:475,wF:.29685,_Q:.35823,la:-8.5955},{o:500,wF:.30505,_Q:.35907,la:-11.324},{o:525,wF:.3132,_Q:.35968,la:-15.628},{o:550,wF:.32129,_Q:.36011,la:-23.325},{o:575,wF:.32931,_Q:.36038,la:-40.77},{o:600,wF:.33724,_Q:.36051,la:-116.45}];
hz.i4=function(g){var o=hz.kS,k=2*g.x/(1.5-g.x+6*g.y),y=3*g.y/(1.5-g.x+6*g.y),d=0,b=0,T=0;for(;T<31;
T++){d=y-o[T]._Q-o[T].la*(k-o[T].wF);if(T>0&&d<0){break}b=d}while(T>=o.length)T--;d/=Math.sqrt(1+o[T].la*o[T].la);
b/=Math.sqrt(1+o[T-1].la*o[T-1].la);var a=b/(b-d),t=1e6/((o[T].o-o[T-1].o)*a+o[T-1].o),j=k-((o[T].wF-o[T-1].wF)*a+o[T-1].wF),e=y-((o[T]._Q-o[T-1]._Q)*a+o[T-1]._Q),v=Math.sqrt(1+o[T].la*o[T].la),L=1/v,H=o[T].la/v,w=Math.sqrt(1+o[T-1].la*o[T-1].la),P=1/w,Q=o[T-1].la/w,x=(L-P)*a+P,F=(H-Q)*a+Q,E=Math.sqrt(x*x+F*F);
x/=E;F/=E;var f=(j*x+e*F)*-3e3;return{NI:t,xd:f}};hz.kZ=function(g,o){var k=hz.kS,y=1e6/g,d=1;for(;d<31;
d++){if(y<k[d].o){break}}var b=(k[d].o-y)/(k[d].o-k[d-1].o),T=(k[d-1].wF-k[d].wF)*b+k[d].wF,a=(k[d-1]._Q-k[d]._Q)*b+k[d]._Q,t=Math.sqrt(1+k[d].la*k[d].la),j=1/t,e=k[d].la/t,v=Math.sqrt(1+k[d-1].la*k[d-1].la),L=1/v,H=k[d-1].la/v,w=(L-j)*b+j,P=(H-e)*b+e,Q=Math.sqrt(w*w+P*P);
w/=Q;P/=Q;T+=w*o/-3e3;a+=P*o/-3e3;return{x:1.5*T/(T-4*a+2),y:a/(T-4*a+2)}};hz.agW=function(g){var o=g[0]+g[1]+g[2];
return{x:g[0]/o,y:g[1]/o}};hz.ot=function(g){return{x:g.x/g.y,y:1,MG:(1-g.x-g.y)/g.y}};hz.yD=function(g,o){var k=_.x1.Q8([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),y=[g.x,g.y,g.MG,0],d=[o.x,o.y,o.MG,0];
y=_.x1.hi(k,y);d=_.x1.hi(k,d);var b=d[0]/y[0],T=d[1]/y[1],a=d[2]/y[2],t=_.x1.Q8([b,0,0,0,T,0,0,0,a]),j=_.x1.TY(k);
return _.x1.multiply(_.x1.multiply(j,t),k)};_.raw.XF={};_.raw.vI=function(g){g*=8;var o=[8,10,12,14,16];
for(var k in CAMS){var y=CAMS[k];if(y.length==4)continue;var d=y[4],b=y[5];for(var m=0;m<o.length;m++)if(d*b*o[m]==g)return[k,o[m]]}var T=[[4e3,3e3]];
for(var m=0;m<T.length;m++){var y=T[m],d=y[0],b=y[1];for(var m=0;m<o.length;m++)if(d*b*o[m]==g)return[y,o[m]]}return null};
_.raw.apI=function(g){var g=new Uint8Array(g);for(var m=0;m<g.length;m+=2){var o=g[m];g[m]=g[m+1];g[m+1]=o}var k=_.raw.vI(g.length),y=CAMS[k[0]];
if(y==null)y=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,k[0][0],k[0][1]];var d=y[4],b=y[5],T=Math.max(y[2],116),a={data:g,Qx:1,width:d,height:b,t256:[d],t257:[b],t258:[k[1]],t277:[1],t33421:[2,2],t33422:_.raw.D6[y[1]],t50706:[1,2,0,0],t50714:[T,T,T,T],t50717:[y[3]],t50721:y[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var m=0;m<9;m++)a.t50721[m]/=1e4;return a};_.raw.U_=function(g){if(g==null||g.length==0||typeof g[0]=="number")return g;
var o=[];for(var m=0;m<g.length;m++)o[m]=g[m][1]==0?0:g[m][0]/g[m][1];return o};_.raw.D6=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
_.raw.normalize=function(g,o){if(g.t50706!=null||g.t271[0].startsWith("Hasselblad")){var k=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var m=0;m<k.length;m++)if(g["t"+k[m]]!=null)g["t"+k[m]]=_.raw.U_(g["t"+k[m]]);if(g.t271&&g.t271[0].startsWith("Hasselblad")){g.t50706=[1,2,0,0];
g.t33422=_.raw.D6[1];g.t50723=[1,0,0,0,1,0,0,0,1];g.t50778=[17];if(!g.isLE)for(var m=0;m<g.data.length;
m+=2){var y=g.data[m];g.data[m]=g.data[m+1];g.data[m+1]=y}}return}var d=g.t258[0],b=g.exifIFD,o=new Uint8Array(o);
g.t50706=[1,2,0,0];var T=g.t272[0].trim();if(T.indexOf(" ")==-1)T=g.t271[0].trim()+" "+T;if(g.t50708==null)g.t50708=[T];
var a=T.toLowerCase(),t=CAMS,j=t[a];if(j==null)for(var e in t)if(a.startsWith(e))j=t[e];if(j==null)alert("Unknown camera:"+T);
else{var v=j[2];g.t50714=[v,v,v,v];if(g.t272=="Canon EOS REBEL T3")j[3]=13584;g.t50717=[j[3]];g.t50721=j[0].slice(0);
for(var m=0;m<9;m++)g.t50721[m]=g.t50721[m]*(1/1e4)}g.t50723=[1,0,0,0,1,0,0,0,1];if(g.t50728==null)g.t50728=[.35,1,.6];
g.t50778=[17];if(g.t271[0].startsWith("SONY")){var L=UTIF["_bin"+(g.isLE?"LE":"BE")],H=g.t28688,f;if(JSON.stringify(H)!="[8000,10400,12900,14100]")console.log(H);
if(H){var w=[0,0,0,0,0,4095],P=new Uint16Array(16385);for(var m=0;m<4;m++){var Q=H[m]>>>2;w[m+1]=Q;if(Q>4095)throw"e"}for(var m=0;
m<16385;m++)P[m]=m;for(var m=0;m<5;m++)for(var x=w[m]+1;x<=w[m+1];x++)P[x]=P[x-1]+(1<<m);var F=o.length*8<g.width*g.height*d;
if(F)g.t50712=P}else console.log("no curve");var E=g.dngPrvt;if(E){var c=E.t29184[0],M=E.t29185[0],n=(g.isLE?S._u:S.q)(E.t29217,0),X=new Uint32Array(o.slice(c,c+(M&4294967292)).buffer),u=new Uint32Array(M>>>2);
_.raw.awW(X,u,M>>>2,n);var I=new Uint8Array(c+M);I.set(new Uint8Array(u.buffer),c);var r=[];UTIF._readIFD(L,I,c,r,0,!1);
var J=r.pop(),U=J.t29458;g.t50728=[U[1]/U[0],1,U[1]/U[3]];g.t50730=[.5];var K=J.t29891;g.t50829=[K[1],K[0],K[3],K[2]]}else if(b.makerNote&&b.makerNote.t8208){var f=b.makerNote,i=f.t8208,z=i.length,h=0,R=new Uint8Array(256);
for(var m=249;m<256;m++)R[m]=m;for(var m=0;m<249;m++)R[m*m*m%249]=m;for(var m=0;m<z;m++)i[m]=R[i[m]];
if(z==6604)h=612;else throw"e";var U=[];for(var m=0;m<3;m++)U.push(S.R5(i,h+m*2));console.log(U);g.t50728=[U[1]/U[0],1,U[1]/U[2]]}else console.log("no white balance");
if(g.width*g.height*1.5==g.t279[0]){v=v>>>2;g.t50714=[v,v,v,v];g.t50717=[j[3]>>>2]}}else if(g.t271[0].startsWith("Canon")){var o=g.data,C=o.slice(0),G=g.t50752,W=[],$=0;
if(G==null||G[0]==0&&G[1]==0)W.push(g.width);else{for(var m=0;m<G[0];m++)W.push(G[1]);W.push(G[2])}var A=g.width*2,O=g.t50885&&g.t50885[0]==4;
if(!O)for(var Y=0;Y<W.length;Y++){var l=W[Y],B=2*$,f4=2*l;for(var V=0;V<g.height;V+=2){var q=V*A+B,s=g.height*B+V*f4;
for(var m=0;m<f4;m++){o[q+m]=C[s+m];o[q+m+A]=C[s+m+f4]}}$+=l}else{for(var Y=0;Y<W.length;Y++){var l=W[Y]/((G[0]*G[1]+G[2])/g.width);
for(var V=0;V<g.height;V++){var q=(V*g.width+$)*6,s=(g.height*$+V*l)*6;for(var m=0;m<l*6;m++)o[q+m]=C[s+m]}$+=l}var cW=new Uint16Array(o.buffer),dk=new Uint16Array(1),kr=new Int16Array(dk.buffer);
for(var m=0;m<cW.length;m+=3){var j9=cW[m],bh=cW[m+1],fe=cW[m+2];dk[0]=bh<<2;bh=kr[0]>>2;dk[0]=fe<<2;
fe=kr[0]>>2;cW[m+0]=Math.max(0,fe+j9);cW[m+1]=Math.max(0,(j9<<12)-bh*778-(fe<<11)>>12);cW[m+2]=Math.max(0,bh+j9)}}var f=b.makerNote;
if(f.t16385){var gg=f.t224,dt=0;if(gg){var c=g.t50719=[gg[5],gg[6]],a$=g.t50720=[gg[7]+1-gg[5],gg[8]+1-gg[6]],dg=f.t154;
if(dg){c[0]+=dg[3];c[1]+=dg[4];a$[0]=dg[1];a$[1]=dg[2]}}var iv=f.t16385,aQ=iv.length;if(aQ==582)dt=1;
else if(aQ==653)dt=2;else if(aQ==796)dt=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(aQ)!=-1)dt=4;
else if(aQ==5120){dt=5;iv=new Int16Array(iv.slice(0).buffer)}else if(aQ==1273||aQ==1275)dt=6;else if([1312,1313,1316,1506].indexOf(aQ)!=-1)dt=7;
else if([1560,1592,1353,1602].indexOf(aQ)!=-1)dt=8;else throw"e"+aQ;var hY=iv[0],b9=[null,[25,166],[34,286],[63,196],[63],[71,hY==-4?333:264],[63,251],[63,hY==10?504:728],[63,326]],h=b9[dt][0],i0=b9[dt][1];
if(dt==4){if(iv[0]==2)i0=231;else if(iv[0]==3)i0=231;else if(iv[0]==4)i0=231;else if(iv[0]==5)i0=231;
else if(iv[0]==6)i0=231;else if(iv[0]==7)i0=231;else if(iv[0]==9)i0=231;else throw"e"}g.t50728=[iv[h+1]/iv[h],1,iv[h+1]/iv[h+3]];
var v=i0==null?1024:iv[i0];if(dt!=4)g.t50714=[v,v,v,v]}else{g.t50728=[.4,1,.6]}if(O){g.t277=[3];g.t50728=[1,1,1];
g.t50714=[0,0,0,0]}}else if(g.t271[0].startsWith("NIKON")){var f=b.makerNote,gD=g.isLE?S.R5:S.NW,gT=0,aB=0,gs,j_=0;
if(f.t61){var hU=f.t61,aW=[];for(var m=0;m<4;m++)aW[m]=hU[m]/Math.pow(2,14-d);g.t50714=aW}if(f.t3585){var be=f.t3585,m=0,c=22;
while(c<be.length&&m!=-4){var hv=S._u(be,c);c+=4;c+=14;m=S._u(be,c)-4;c+=4;if(hv==1990472198){if(be[c]!=0)throw"Flip"}if(hv==1990472199){var b3=S.R5(be,c);
if(b3==0)g.Qx=1;else if(b3==270)g.Qx=8;else throw"e "+b3}c+=m}}if(f.t183){var bO=f.t183,a$=[];for(var m=0;
m<6;m++)a$.push(gD(bO,16+m*2));gT=a$[0];aB=a$[1]}if(f.t3614){var kf=f.t3614;gT=S._u(kf,8);aB=S._u(kf,12)}if(gT!=0&&Math.max(gT,aB)<Math.max(g.width,g.height)){if(gT<aB){var y=gT;
gT=aB;aB=y}var $=g.width-gT>>>1,V=g.height-aB>>>1;g.t50829=[V,$,V+aB,$+gT]}else g.t50829=[8,8,g.height-8,g.width-56];
var iY=f.t69;if(iY)g.t50829=[iY[1],iY[0],iY[1]+iY[3],iY[0]+iY[2]];if(f.t12){var c1=_.raw.U_(f.t12);gs=[1/c1[0],1,1/c1[1]]}else if(f.t151){var gK=_.raw.avx(f,151),c4=gK[0],bc=gK[1],k6=gK[2];
if(c4=="0100"&&bc>=80)throw"e";else if(c4=="0102"){var jk=[];for(var m=0;m<4;m++)jk.push(gD(k6,6+m*2));
gs=[jk[1]/jk[0],1,jk[1]/jk[3]]}else if(c4=="0103"&&bc>=26){var jk=[];for(var m=0;m<4;m++)jk.push(gD(k6,16+m*2));
gs=[jk[1]/jk[0],1,jk[3]/jk[2]]}else if(c4=="0204"&&bc>=564||c4=="0205"&&bc>=284){var c=c4=="0204"?6:14,jk=[];
for(var m=0;m<4;m++)jk.push(gD(k6,c+m*2));gs=[jk[1]/jk[0],1,jk[1]/jk[3]]}else throw"e"}else console.log("no white balance info");
if(T=="NIKON D1")gs=[1,1,1];if(gs)g.t50728=gs;var jt=f.t150?f.t150:f.t140;if(jt){var kw=jt[j_++],eu=jt[j_++],bG;
if(kw==73||eu==88)j_+=2110;j_+=8;var ak=1<<d&32767,cY=gD(jt,j_);j_+=2;var P=[];if(cY>1)bG=Math.floor(ak/(cY-1));
if(kw==68&&eu==32&&bG>0){for(m=0;m<cY;m++){P[m*bG]=gD(jt,j_);j_+=2}for(m=0;m<ak;m++)P[m]=Math.floor((P[m-m%bG]*(bG-m%bG)+P[m-m%bG+bG]*(m%bG))/bG)}else if(kw!=70&&cY<=16385){ak=cY;
for(var m=0;m<cY;m++)P[m]=gD(jt,j_+2*m);j_+=2*cY}var j5=g.t272[0];if(P.length!=0)g.t50712=new Uint16Array(P);
if(g.t258[0]==14&&g.t50717[0]<1e4){console.log("fixing white");g.t50717[0]*=4}}}else if(T.startsWith("FujiFilm")){}else if(T.startsWith("Panasonic")){}else alert("Unknown camera "+T)};
_.raw.awW=function(g,o,k,y){if(0==k)return;var d=new Uint32Array(128),b=new Uint8Array(d.buffer),T=127,a=0,t=0;
for(var T=0;T<4;T++)d[T]=y=(y*15625>>>0)*3125+1>>>0;d[3]=d[3]<<1|(d[0]^d[2])>>>31;for(var T=4;T<127;
T++)d[T]=(d[T-4]^d[T-2])<<1|(d[T-3]^d[T-1])>>>31;for(var T=0;T<127;T++)d[T]=S.q(b,T*4);for(;k>0;k--){d[T&127]=d[T+1&127]^d[T+1+64&127];
var j=d[T&127],e=g[a];e^=j;o[t]=e;a++;t++;T++}};_.raw.a47=function(g,o){var k=S.lp(o,0,4),y=_.raw.atw;
for(var m=0;m<y.length;m++)if(y[m][0]==g&&k.startsWith(y[m][1])&&(y[m][2]==0||y[m][2]==o.length))return y[m];
throw"e"};_.raw.aw0=function(g){if(g.t29==null)return[];var o=_.raw.azr,k=_.raw.ajH,y=g.t29[0],d=0,T=0;
for(var m=0;m<y.length;m++){var b=y.charCodeAt(m);d=d*10+(48<=b&&b<=57?b-48:b%10)}var bc=g.t167[0];for(var m=0;
m<4;m++)T^=bc>>>(m<<3)&255;var a=o[d&255],t=k[T&255];return[a,t,96]};_.raw.avx=function(g,o){var k=g["t"+o],bc=k.length,y=_.raw.a47(o,k),d=S.lp(k,0,4),b,T=y[4];
if(T==null)b=k.slice(4);else{b=new Uint8Array(bc-T);var a=_.raw.aw0(g),t=a[0],j=a[1],e=a[2];for(var m=0;
m<b.length;m++){j=j+t*e++&255;b[m]=k[T++]^j}}return[d,bc,b]};_.raw.atw=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
_.raw.azr=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
_.raw.ajH=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
_.tw={};_.tw.tw=function(g,o,k,y,d){if(y==null)y=3;if(d==null)d=!0;var b=g.m,T=g.n,a=1/b,t=b*T,j=Date.now(),e=!1,v=_.tw.FA(k,b,T,255,128),L=_.tw.FA(k,b,T,0,128),V=0;
if(e)console.log("extract contours",Date.now()-j);j=Date.now();var H=function(gK,c4){var k6=gK<<2,jk=c4<<2;
return o[k6]+o[k6+1]+o[k6+2]-(o[jk]+o[jk+1]+o[jk+2])};v.sort(H);L.sort(H);var w=_.Q(t),P=_.Q(t),Q=[],x=new Uint32Array(b*T);
x.fill(4294967295);for(var m=0;m<t;m++)if(k[m]==0)P[m]=255;else if(k[m]==255)w[m]=255;else{x[m]=Q.length;
Q.push(m)}var F=v.length,E=L.length,f=Q.length;function c(gK,c4,k6,jk){var jt=gK.length,j_=new Array(jt*2);
for(var m=0;m<jt;m++){var h=gK[m],R=~~(h*jk),C=h-R*k6,iY=h<<2;j_[m*2]=C<<16|R;j_[m*2+1]=c4[iY]<<16|c4[iY+1]<<8|c4[iY+2]}return j_}var M=c(v,o,b,a),n=c(L,o,b,a),X=c(Q,o,b,a);
if(e)console.log("Itemize",Date.now()-j,"Unknown:",f,F,E);j=Date.now();var u=_.style.IM(w,b,T,!0),I=_.style.IM(P,b,T,!0),r=new Array(f),J=new Array(f),U=new Array(f),K=new Array(f),i=new Array(f);
if(e)console.log("Dist transform",Date.now()-j);j=Date.now();var z=_.tw.WS;for(var m=0;m<f;m++){var h=Q[m],R=~~(h*a),C=h-R*b,G=u[h<<1],W=u[(h<<1)+1],A=Math.sqrt(G*G+W*W),$=I[h<<1],O=I[(h<<1)+1],Y=Math.sqrt($*$+O*O);
r[m]=1/A;J[m]=1/Y;var l=Math.floor(_.l.rZ(h*17)*F),B=Math.floor(_.l.rZ(h*19)*E);U[m]=l;K[m]=B;i[m]=z(X[m*2],X[m*2+1],M[l*2],M[l*2+1],n[B*2],n[B*2+1],r[m],J[m],1e9)}var f4=[-b-1,-b,-b+1,-1,1,b-1,b,b+1];
while(Math.floor(Math.max(F,E)*Math.pow(.5,V))>1)V++;for(var q=0;q<y;q++){var s=0;for(var m=0;m<f;m++){var h=Q[m],R=~~(h*a),C=h-R*b,cW=r[m],dk=J[m],kr=X[m*2],j9=X[m*2+1],bh=i[m],l=U[m],B=K[m],aQ=1;
if(R!=0&&C!=0&&C!=b-1&&R!=T-1)for(var fe=0;fe<8;fe++){var gg=x[h+f4[fe]];if(gg==4294967295)continue;
var a$=U[gg],dg=K[gg];if(a$==l&&dg==B)continue;var iv=z(kr,j9,M[a$*2],M[a$*2+1],n[dg*2],n[dg*2+1],cW,dk,bh);
if(iv<bh){bh=iv;l=a$;B=dg}}for(var dt=0;dt<V;dt++){var hY=~~(F*aQ),b9=~~(E*aQ);aQ*=.5;var i0=_.l.rZ(h+q*17+dt*31),gD=_.l.rZ(h+q*29+dt*63),hU=Math.max(0,l-hY),aW=Math.min(l+hY,F-1),be=Math.max(0,B-b9),hv=Math.min(B+b9,E-1),a$=hU+~~(i0*(aW-hU)),dg=be+~~(gD*(hv-be)),iv=z(kr,j9,M[a$*2],M[a$*2+1],n[dg*2],n[dg*2+1],cW,dk,bh);
if(iv<bh){bh=iv;l=a$;B=dg}}i[m]=bh;U[m]=l;K[m]=B;s+=bh}}if(e)console.log(s);if(e)console.log("iterations",Date.now()-j);
j=Date.now();var b3=k.slice(0);for(var m=0;m<f;m++){var gT=_.tw.alpha(X[m*2+1],M[U[m]*2+1],n[K[m]*2+1]);
b3[Q[m]]=~~(.5+255*gT)}b3=_.SS.acf(b3,o,new bd(0,0,b,T),16,.01*.01);if(e)console.log("guided filter",Date.now()-j);
j=Date.now();if(d)for(var m=0;m<t;m++)if(k[m]==255||k[m]==0)b3[m]=k[m];var bO=o.slice(0);for(var m=0;
m<f;m++){var kf=Q[m],l=v[U[m]],bh=i[m],iY=kf<<2,gs=b3[kf],c1=(gs>=250?kf:l)<<2;bO[iY]=o[c1];bO[iY+1]=o[c1+1];
bO[iY+2]=o[c1+2]}_.e_(b3,bO,3);if(e)console.log(Date.now()-j);j=Date.now();return bO};_.tw.WS=function(g,o,k,y,d,b,T,a,t){var j=g>>>16,e=g&65535,v=j-(k>>>16),L=e-(k&65535),H=j-(d>>>16),w=e-(d&65535),P=Math.sqrt(v*v+L*L)*T,Q=Math.sqrt(H*H+w*w)*a;
if(P+Q>=t)return 1e9;var x=_.tw.ac$(o,y,b);return x+P+Q};_.tw.ac$=function(g,o,k){var y=g>>>16,d=g>>>8&255,b=g&255,T=o>>>16,a=o>>>8&255,t=o&255,j=k>>>16,e=k>>>8&255,v=k&255,L=_.tw.alpha(g,o,k),H=y-(L*T+(1-L)*j),w=d-(L*a+(1-L)*e),Q=b-(L*t+(1-L)*v);
return Math.sqrt(H*H+w*w+Q*Q)};_.tw.alpha=function(g,o,k){var y=g>>>16,d=g>>>8&255,b=g&255,T=o>>>16,a=o>>>8&255,t=o&255,j=k>>>16,e=k>>>8&255,v=k&255,L=T-j,H=a-e,w=t-v,P=y-j,Q=d-e,x=b-v,F=L*L+H*H+w*w,E=F==0?.5:(P*L+Q*H+x*w)/F;
return Math.max(0,Math.min(1,E))};_.tw.a1a=function(g){};_.tw.FA=function(g,o,k,y,d){var b=[],T=o-1,a=k-1;
for(var t=1;t<a;t++)for(var j=1;j<T;j++){var m=t*o+j;if(g[m]==y&&(g[m-o-1]==d||g[m-o]==d||g[m-o+1]==d||(g[m-1]==d||g[m+1]==d)||(g[m+o-1]==d||g[m+o]==d||g[m+o+1]==d)))b.push(m)}return b};
_.SS={};_.SS.alY=function(g,o,k,y,d){var b=k.m,T=k.n,a=b*T,t=_.SS.zS,j=_.Q(a*4),e;_.Sm(j,4294967295);
var v=k,L=g,H=o,w=y;_.e_(g,j,0);e=_.pL(j,k);e=_.pL(e.rg,e.rect);v=e.rect;w=y>>>2;console.log(v,w);L=_.Q(v.O());
_.B4(e.rg,L,0);_.e_(o,j,0);e=_.pL(j,k);e=_.pL(e.rg,e.rect);H=_.Q(v.O());_.B4(e.rg,H,0);var P=_.SS.a4T(L,H,v,w,d),Q=P[0],x=P[1],F=new bd(0,0,v.m*2,v.n*2);
Q=t(Q,v,F,!0);Q=t(Q,F,k,!0);x=t(x,v,F,!0);x=t(x,F,k,!0);var E=_.Q(a);for(var m=0;m<a;m++)E[m]=Math.max(0,Math.min(255,Math.floor(.5+(Q[m]*o[m]+255*x[m]))));
return E};_.SS.zS=function(g,o,k,y){var d=k.m,b=k.n,T=o.m,a=o.n,t=_.SS.VG,j=new Float32Array(d*b);for(var e=0;
e<a;e++){var v=(e+e)*d;for(var L=0;L<T;L++){if(!0||L==0||e==0||L==T-1||e==a-1)j[v]=j[v+1]=j[v+d]=j[v+d+1]=g[e*T+L];
else{j[v]=t(L+.25,e+.25,g,T,a);j[v+1]=t(L+.75,e+.25,g,T,a);j[v+d]=t(L+.25,e+.75,g,T,a);j[v+d+1]=t(L+.75,e+.75,g,T,a)}v+=2}}return j};
_.SS.VG=function(g,o,k,y,d){g-=.499999;o-=.499999;var b=Math.floor(g),T=Math.floor(o),a=T*y+b,t=g-b,j=o-T,e=(1-j)*(1-t),v=(1-j)*t,L=j*(1-t),H=j*t;
if(k[a]==null||k[a+y+1]==null){console.log(g,o,y,d);throw"e"}return e*k[a+0]+v*k[a+1]+L*k[a+y+0]+H*k[a+y+1]};
_.SS.a4T=function(g,o,k,y,d){var b=k.m,T=k.n,a=b*T,t=_.SS.gC,j=_.SS.Q,e=_.tI.Nj,v=_.SS.nH,o=t(o),g=t(g),L=j(a);
e(o,L,k,y);var H=j(a);e(g,H,k,y);var w=j(a);v(o,o,w);e(w,w,k,y);var P=j(a);v(o,g,P);e(P,P,k,y);var Q=j(a),x=j(a);
for(var m=0;m<a;m++){var F=L[m],E=H[m],f=w[m]-F*F,c=P[m]-F*E,M=c/(f+d),n=E-M*F;Q[m]=M;x[m]=n}var X=j(a);
e(Q,X,k,y);var u=j(a);e(x,u,k,y);return[X,u]};_.SS.acf=function(g,o,k,y,d){var b=k.m,T=k.n,a=b*T,t=_.SS.zS,j=Date.now(),e=!1,v=k,L=g,H=o,w=y;
v=new bd(0,0,b>>>2,T>>>2);w=y>>>2;L=_.SS.aqe(g,b,T);H=_.SS.ahE(o,b,T);if(e)console.log(Date.now()-j);
j=Date.now();var P=_.SS.a7T(L,H,v,w,d),Q=P[0],x=P[1],F=P[2],E=P[3];if(e)console.log(Date.now()-j);j=Date.now();
var f=_.Q(a);for(var c=0;c<T;c++)for(var M=0;M<b;M++){var m=c*b+M,n=(c>>>2)*(b>>>2)+(M>>>2),X=m<<2,u=Q[n]*o[X]+x[n]*o[X+1]+F[n]*o[X+2]+E[n]*255;
f[m]=Math.max(0,Math.min(255,~~(.5+u)))}if(e)console.log(Date.now()-j);j=Date.now();return f};_.SS.aqe=function(g,o,k){var y=o>>>2,d=k>>>2,b=_.Q(o*k);
for(var T=0;T<d;T++)for(var a=0;a<y;a++)b[T*y+a]=g[T*o+a<<2];return b};_.SS.ahE=function(g,o,k){var y=o>>>2,d=k>>>2,b=_.Q(o*k*4);
for(var T=0;T<d;T++)for(var a=0;a<y;a++){var t=T*y+a<<2,j=T*o+a<<4;b[t]=g[j];b[t+1]=g[j+1];b[t+2]=g[j+2];
b[t+3]=g[j+3]}return b};_.SS.a7T=function(g,o,k,y,d){var b=k.m,T=k.n,a=b*T,t=_.SS.gC,j=_.SS.Q,e=_.tI.Nj,v=_.SS.nH,g=t(g),L=new _.up(b*T);
_.oX(o,L);var o=[t(L.o),t(L.C),t(L.k)],H=_.SS.am0(g,o,k,y,d),w=j(a);e(g,w,k,y);var P=j(a);v(o[0],g,P);
e(P,P,k,y);var Q=j(a);v(o[1],g,Q);e(Q,Q,k,y);var x=j(a);v(o[2],g,x);e(x,x,k,y);var F=j(a),E=j(a),f=j(a),c=j(a);
for(var m=0;m<a;m++){var M=w[m],n=H.OW[m],X=H.BW[m],u=H.XK[m],I=P[m]-n*M,r=Q[m]-X*M,J=x[m]-u*M;F[m]=H.a4k[m]*I+H.kt[m]*r+H.Rf[m]*J;
E[m]=H.kt[m]*I+H.avJ[m]*r+H.Yk[m]*J;f[m]=H.Rf[m]*I+H.Yk[m]*r+H.axi[m]*J;c[m]=M-F[m]*n-E[m]*X-f[m]*u}e(F,F,k,y);
e(E,E,k,y);e(f,f,k,y);e(c,c,k,y);return[F,E,f,c]};_.SS.am0=function(g,o,k,y,d){var b=k.m,T=k.n,a=b*T,t=_.SS.Q,j=_.tI.Nj,e=_.SS.nH,v={};
v.OW=t(a);j(o[0],v.OW,k,y);v.BW=t(a);j(o[1],v.BW,k,y);v.XK=t(a);j(o[2],v.XK,k,y);var L=t(a);e(o[0],o[0],L);
j(L,L,k,y);var H=t(a);e(o[0],o[1],H);j(H,H,k,y);var w=t(a);e(o[0],o[2],w);j(w,w,k,y);var P=t(a);e(o[1],o[1],P);
j(P,P,k,y);var Q=t(a);e(o[1],o[2],Q);j(Q,Q,k,y);var x=t(a);e(o[2],o[2],x);j(x,x,k,y);v.a4k=L;v.kt=H;
v.Rf=w;v.avJ=P;v.Yk=Q;v.axi=x;for(var m=0;m<a;m++){var F=v.OW[m],E=v.BW[m],f=v.XK[m],c=L[m]-F*F+d,M=H[m]-F*E,n=w[m]-F*f,X=P[m]-E*E+d,u=Q[m]-E*f,I=x[m]-f*f+d,r=X*I-u*u,J=u*n-M*I,U=M*u-X*n,K=c*I-n*n,i=n*M-c*u,z=c*X-M*M,h=r*c+J*M+U*n,R=1/h;
v.a4k[m]=r*R;v.kt[m]=J*R;v.Rf[m]=U*R;v.avJ[m]=K*R;v.Yk[m]=i*R;v.axi[m]=z*R}return v};_.SS.Q=function(g){return new Float32Array(g)};
_.SS.gC=function(g){var o=g.length,k=new Float32Array(o);for(var m=0;m<o;m++)k[m]=g[m]*(1/255);return k};
_.SS.nH=function(g,o,k){for(var m=0;m<g.length;m++)k[m]=g[m]*o[m]};_._a={};_._a.cF=function(g,o,k,y){var d=g[o]-k[y],b=g[o+1]-k[y+1],T=g[o+2]-k[y+2];
return Math.sqrt(d*d+b*b+T*T)*(1/441.7)};_._a.getSelection=function(g,o,k){var y=o*k,d=_.Q(y),b=!1,T=Math.round(k*.7),a=1,t=new Uint32Array(12),j=_.Q(12);
for(var e=0;e<T;e++)for(var v=0;v<o;v++){if(v<a||e<a||v>o-a-1||e>k-a-1){var m=e*o+v,L=m<<2,H=0;if(e<a)H=4;
else if(v>o-a-1)H=8;t[H]+=g[L];t[H+1]+=g[L+1];t[H+2]+=g[L+2];t[H+3]++;d[m]=255}}for(var m=0;m<12;m+=4)for(var w=0;
w<3;w++)j[m+w]=t[m+w]/t[m+3];var P=new Float32Array(y);for(var m=0;m<y;m++){var L=m*4,Q=_._a.cF(g,L,j,0),x=_._a.cF(g,L,j,4),F=_._a.cF(g,L,j,8),E=Math.max(Q,Math.max(x,F));
P[m]=Q+x+F-E}_._a.np(P);var f=Date.now(),c=new Float32Array(y),M=[],n=_.Q(y);for(var m=0;m<3;m++){_.B4(g,n,m);
var X=new Uint16Array(y);M.push(X);_._a.a17(n,d,o,k,X)}if(b)console.log("MBD",Date.now()-f);f=Date.now();
for(var m=0;m<y;m++)c[m]=M[0][m]+M[1][m]+M[2][m];_._a.np(c);for(var m=0;m<y;m++)c[m]+=.4*P[m];var u=o>>>1,T=k>>>1,I=1/Math.sqrt(u*u+T*T);
for(var e=0;e<k;e++)for(var v=0;v<o;v++){var r=v-u,J=e-T,U=1-Math.sqrt(r*r+J*J)*I;c[e*o+v]*=U}if(b)console.log("Centeredness",Date.now()-f);
f=Date.now();for(var m=0;m<y;m++)d[m]=c[m]*255;var K=Math.round(o/120),i=Math.round(K*.8);if(b)console.log(K,i);
_.Cc.RU(d,n,o,k,K,_.Cc.eO,[]);d.set(n);if(b)console.log("erosion",Date.now()-f);f=Date.now();for(var m=0;
m<y;m++)c[m]=d[m];_._a.np(c);var z=_.Q(256);for(var m=0;m<256;m++)z[m]=256/(1+Math.exp(-20*(m/255-.5)));
for(var m=0;m<y;m++){var h=~~(c[m]*255+.5);d[m]=z[h]}if(b)console.log("Simoid",Date.now()-f);f=Date.now();
return d};_._a.np=function(g){var o=g.length,k=0;for(var m=0;m<o;m++)k=Math.max(k,g[m]);var y=1/k;for(var m=0;
m<o;m++)g[m]=g[m]*y};_._a.a17=function(g,o,k,y,d){var b=k*y,T=g.slice(0),a=g.slice(0);for(var m=0;m<b;
m++)d[m]=o[m]==255?0:65535;_._a.b1(g,a,T,d,k,y);_._a.y4(g,a,T,d,k,y);_._a.b1(g,a,T,d,k,y);_._a.y4(g,a,T,d,k,y);
return d};_._a.b1=function(g,o,k,y,d,b){for(var T=1;T<d;T++)_._a.xh(T,-1,g,o,k,y);for(var a=1;a<b;a++){_._a.xh(a*d,-d,g,o,k,y);
for(var T=1;T<d;T++){var m=a*d+T;_._a.xh(m,-1,g,o,k,y);_._a.xh(m,-d,g,o,k,y)}}};_._a.y4=function(g,o,k,y,d,b){for(var T=d-2;
T>=0;T--)_._a.xh(d*b-d+T,1,g,o,k,y);for(var a=b-2;a>=0;a--){_._a.xh(a*d+d-1,d,g,o,k,y);for(var T=d-2;
T>=0;T--){var m=a*d+T;_._a.xh(m,1,g,o,k,y);_._a.xh(m,d,g,o,k,y)}}};_._a.xh=function(m,g,o,k,y,d){var b=m+g,T=o[m],a=k[b],t=y[b];
if(a<T)a=T;else if(T<t)t=T;var j=a-t;if(d[b]!=65535&&j<d[m]){d[m]=j;k[m]=a;y[m]=t}};_.w8={};_.w8.filter=function(g,o,k,y){var d=o.m,b=o.n,T=d*b,a=y[0],t=y[1],j=y[2],e=y[3],v=y[4],L=y[5],H=y[6],w=Date.now(),P=new Float32Array(d*b*4);
_.w8.ase(g,d,b,P);var Q=Math.ceil(a*Math.sqrt(-2*Math.log(.1))),x=new ArrayBuffer(T*4),F=new Float32Array(x),E=new Float32Array(T),f=new Float32Array(T);
for(var m=0;m<T;m++){var c=m*4;F[m]=P[c];E[m]=P[c+1];f[m]=P[c+2]}_.tI.Qv(F,F,o,Q*1/2.4,2);_.tI.Qv(E,E,o,Q*1/2.4,2);
_.tI.Qv(f,f,o,Q*1/2.4,2);for(var m=0;m<T;m++){var c=m*4;P[c]=F[m];P[c+1]=E[m];P[c+2]=f[m]}var M=new Uint8Array(x);
for(var m=0;m<T;m++){var c=m*4,n=m*4,F=P[c],E=P[c+1],f=P[c+2],X=Math.sqrt((F-f)*(F-f)+4*E*E),u=(F+f+X)*.5,I=(F+f-X)*.5,r=I-f,J=E,U=r*r+J*J;
if(U!=0){var K=Math.sqrt(U),i=1/K;r*=i;J*=i}M[n]=128+127*r;M[n+1]=128+127*J}var z=1.3*t+2,h=e*(2/10),R=g.slice();
if(gl.yu){var C=new Float32Array([1/d,1/b]),G=gl.IJ(0,d,b);G.set(R);var W=gl.IJ(1,d,b);W.set(M);gl.z9(G,o);
if(v){G.fv(o);gl.filter.TK({type:gl.filter.a8Z,mf:C,anE:1/j,asu:h},G.zF)}G.fv(o);gl.filter.TK({type:gl.filter.Km,DD:W.fn,mf:C,alB:z,akw:2},G.zF);
if(v){G.fv(o);gl.filter.TK({type:gl.filter.apb,mf:C,ann:new Float32Array(H),aiB:L},G.zF)}G.get(k)}else{if(v)_.w8.tf(1/j,h,R,d,b);
_.w8.Km(R,k,M,d,b,z);if(v)_.w8.aqb(d,b,k,H,L)}var A=T*4;for(var m=3;m<A;m+=4)k[m]=g[m]};_.w8.Km=function(g,o,k,y,d,b){var T=Math.ceil(2*b),a=-1/(2*b*b),t=[],j=1;
for(var m=0;m<T+20;m++)t[m]=Math.exp(m*m*a);var e=[0,0,0,0];for(var v=0;v<d;v++){for(var L=0;L<y;L++){var H=v*y+L,w=H*4,P=1,Q=g[w],x=g[w+1],F=g[w+2],E=g[w+3],f=(k[w]-128)*(1/127),c=(k[w+1]-128)*(1/127),M=f,n=c,X=L==0?.51:.49,u=v==0?.51:.49;
for(var m=0;m<2;m++){var I=L+X,r=v+u,J=0;while(J<T){if(I<.5||y-.5<I||r<.5||d-.5<r)break;var U=~~I,K=~~r,i=K*y+U,z=i*4,h=(k[z]-128)*(1/127),R=(k[z+1]-128)*(1/127);
if(h*M+R*n<0){h=-h;R=-R}M=h;n=R;I+=j*h;r+=j*R;if(I<.5||y-.5<I||r<.5||d-.5<r)break;var C=~~I,G=~~r,W=G*y+C<<2;
J+=j;var A=t[~~J];_.K.o3(I,r,g,y,d,e);Q+=e[0]*A;x+=e[1]*A;F+=e[2]*A;E+=e[3]*A;P+=A}M=-f;n=-c}var $=1/P;
o[w]=~~(.5+Q*$);o[w+1]=~~(.5+x*$);o[w+2]=~~(.5+F*$);o[w+3]=~~(.5+E*$)}}};_.w8.aqb=function(g,o,k,y,d){for(var b=0;
b<o;b++)for(var T=0;T<g;T++){var a=b*g+T<<2,t=1+_.w8.amn(T,b,k,g,o,y)*d;k[a]=Math.max(0,Math.min(255,k[a]*t));
k[a+1]=Math.max(0,Math.min(255,k[a+1]*t));k[a+2]=Math.max(0,Math.min(255,k[a+2]*t))}};_.w8.amn=function(g,o,k,y,d,b){var T=k[(o*y+Math.max(0,g-1))*4+3],a=k[(o*y+Math.min(y-1,g+1))*4+3],t=k[(Math.max(0,o-1)*y+g)*4+3],j=k[(Math.min(d-1,o+1)*y+g)*4+3],e=.7,v=(a-T)*(1/255),L=.7,H=(j-t)*(1/255),w=-v*L,P=-e*H,Q=e*L,x=Math.sqrt(w*w+P*P+Q*Q),F=1/x,E=w*F,f=P*F,c=Q*F,M=b[0]*E+b[1]*f+b[2]*c;
return M};_.w8.tf=function(g,o,k,y,d){function b(a,j,e){return Math.max(j,Math.min(e,a))}for(var T=0;
T<d;T++)for(var a=0;a<y;a++){var t=_.w8.agG(a+.5,T+.5,g,o);k[(T*y+a)*4+3]=Math.max(0,Math.min(255,t*255))}};
_.w8.agG=function(g,o,k,y){function d(n,X,u){return(1-u)*n+u*X}var b=(g+613)*k,T=(o+117)*k,a=~~b,t=~~T,j=b-a,e=T-t,v=Math.sin(11),L=Math.cos(a)*v,H=Math.cos(a+1)*v,w=Math.cos(t)*v,P=Math.cos(t+1)*v,cy=_.w8.hash(L,w),Q=_.w8.hash(H,w),x=_.w8.hash(L,P),F=_.w8.hash(H,P),E=d(cy,Q,j),f=d(x,F,j),c=d(E,f,e);
c=c<.5?0:1;var M=c+y*_.w8.hash(Math.cos(b)*v,Math.cos(T)*v);return M*(1/3)};_.w8.hash=function(g,o){var k=Math.sin(g*11.697096+o*73.32456)*12157.47691;
return k-Math.floor(k)};_.w8.ase=function(g,o,k,y){var d=[-1,0,1,-2,0,2,-1,0,1],b=[-1,-2,-1,0,0,0,1,2,1],T=o-1,a=k-1,t=o*4;
for(var j=1;j<a;j++)for(var e=1;e<T;e++){var m=j*o+e,v=m*4,L=_.w8.BL(g,v,t,d),H=_.w8.BL(g,v,t,b),w=_.w8.BL(g,v+1,t,d),P=_.w8.BL(g,v+1,t,b),Q=_.w8.BL(g,v+2,t,d),x=_.w8.BL(g,v+2,t,b);
y[v]=L*L+w*w+Q*Q;y[v+1]=L*H+w*P+Q*x;y[v+2]=H*H+P*P+x*x}_.w8.apW(y,o,k)};_.w8.BL=function(g,o,k,y){return g[o-k-4]*y[0]+g[o-k]*y[1]+g[o-k+4]*y[2]+g[o-4]*y[3]+g[o]*y[4]+g[o+4]*y[5]+g[o+k-4]*y[6]+g[o+k]*y[7]+g[o+k+4]*y[8]};
_.w8.apW=function(g,o,k){function y(t,m,j){var e=m*4,v=j*4;t[v]=t[e];t[v+1]=t[e+1];t[v+2]=t[e+2]}var d=o-1,b=k-1;
y(g,o+1,0);y(g,2*o-2,o-1);for(var T=1;T<d;T++)y(g,o+T,T);for(var a=1;a<b;a++){y(g,a*o+1,a*o);y(g,a*o+o-2,a*o+o-1)}for(var T=1;
T<d;T++)y(g,(k-2)*o+T,(k-1)*o+T);y(g,(a-2)*o+1,(a-1)*o);y(g,(a-1)*o-2,a*o-1)};_.mO=function(){function g(j,e,v,L){var H=new Float32Array(j*j),w=j/2;
for(var P=0;P<j;P++)for(var Q=0;Q<j;Q++){var x=Q+v-w,F=P+L-w;H[P*j+Q]=Math.max(0,Math.min(1,e+.5-Math.sqrt(x*x+F*F)))}return H}var o=[],y=null;
function k(j,e,v,L){var H=Math.floor(e*10),w=o[H],P=j*8,Q=P>>>1;if(w==null){w=o[H]=[];var x=new bd(0,0,P,P),F=j/2/(1+.2*e),E=Math.floor(j*H*.1);
for(var f=0;f<2;f++)for(var c=0;c<2;c++){var M=g(P,F,.25+c*.5,.25+f*.5),n=0;_.tI.Qv(M,M,x,E);while(M[P*Q+n]<.005)n++;
if(n!=0)n--;var X=2*(Q-n),u=new bd(n,n,X,X),I=new Float32Array(X*X);for(var r=0;r<X;r++)for(var J=0;
J<X;J++)I[r*X+J]=M[(n+r)*P+n+J];w.push([I,u])}}var U=Math.floor(v),K=Math.floor(L),i=v-U,z=L-K,h=i<.5?1:0,R=z<.5?1:0;
w=w[R*2+h];var u=w[1].clone();u.x+=U-Q;u.y+=K-Q;return[w[0],u]}function d(j,e,v){if(y==null){y=new Uint8Array(4e4);
for(var m=0;m<4e4;m++)y[m]=Math.min(255,~~(.5+255*_.$k(m*(1/255))))}var L=j.length;for(var m=0;m<L;m++){var H=j[m],w=~~(255*H);
e[m]=y[w]<<24|v}}function b(j,e,v,L,H){var w=e.Nm(L),P=Math.max(0,w.x-e.x),Q=Math.max(0,w.x-L.x),x=Math.max(0,w.y-e.y),F=Math.max(0,w.y-L.y),E=w.m,f=w.n;
for(var m=0;m<f;m++){var c=(x+m)*e.m+P,M=(F+m)*L.m+Q;for(var n=0;n<E;n++){v[M+n]+=H*j[c+n]}}}var T=-1;
function a(j,e,v,L,H){var w=Math.round(L[1]*e*v*.01),P=L[2],Q=L[3],x=L[4],F=L[5],E=L[6],f=L[7],c=L[8],M=L[9],n=L[10]?L[10]:1,A=!1;
if(P!=T){o=[];T=P}var X=Date.now(),u=new bd(0,0,e,v),I=new t(L[0]);if(H)j.fill(0);var r=new Float32Array(H?j.buffer:e*v);
for(var m=0;m<w;m++){var J=I.get()*e,U=I.get()*v,K=I.get()*Q,i=I.get()*P*4,z=(I.get()+E)*Math.PI*2,h=I.get()*P*4,R=(I.get()+2*E)*Math.PI*2;
J+=M*(i*Math.cos(z)+h*Math.cos(R));U+=M*(i*Math.sin(z)+h*Math.sin(R));if(c)U=U+E*v*n;var C=k(P,K,J,U%v),G=x,W=I.get();
if(f)G=.5+.5*x*(.5+.5*Math.sin((2*E+W)*2*Math.PI));b(C[0],C[1],r,u,G)}if(A)console.log(Date.now()-X,"add floats");
X=Date.now();var $=new Uint8Array(r.buffer);d(r,new Uint32Array($.buffer),F.k<<16|F.C<<8|F.o);if(A)console.log(Date.now()-X,"toInt");
X=Date.now();if(!H){_.l.I3("scrn",$,u,j,u,u,1);if(A)console.log(Date.now()-X,"blendOver")}}function t(j){this.tc=123456789;
this.um=987654321;this.v=4294967295;this.KW(j)}t.prototype.KW=function(m){this.tc=123456789+m&this.v;
this.um=987654321-m&this.v};t.prototype.get=function(){this.um=36969*(this.um&65535)+(this.um>>16)&this.v;
this.tc=18e3*(this.tc&65535)+(this.tc>>16)&this.v;var j=(this.um<<16)+(this.tc&65535)>>>0;j/=4294967296;
return j};return{_$:a}}();_.Hw={};_.Hw.SC=function(g,o,k,y){var d=g[o*2],b=g[o*2+1],T=g[k*2],a=g[k*2+1],t=g[y*2],j=g[y*2+1];
return d*a+T*j+t*b-t*a-T*b-d*j};_.Hw.o$=function(g,o){var k=[],y=[],d=[],b={};for(var m=0;m<o.length;
m+=3){var T=~~(m*(1/3)),a=o[m+0],t=o[m+1],e=o[m+2],v=_.Hw.SC(g,a,t,e);if(v>0){var L=t;t=e;e=L}var H=b[e+"-"+t],w=b[t+"-"+a],P=b[a+"-"+e],Q=[e,H,T,null],x=[t,w,T,Q],F=[a,P,T,x];
Q[3]=F;if(H)H[1]=Q;if(w)w[1]=x;if(P)P[1]=F;b[e+"-"+a]=F;b[a+"-"+t]=x;b[t+"-"+e]=Q;k[a]=x;d[m]=x;k[t]=Q;
d[m+1]=Q;k[e]=F;d[m+2]=F;y[T]=x}return{Hb:k,EG:y,BC:d}};_.Hw.avs=function(g){var o=[],k=g.EG;for(var m=0;
m<k.length;m++){var y=k[m];o.push(y[0]);y=y[3];o.push(y[0]);y=y[3];o.push(y[0])}return o};_.Hw.a5t=function(g,o,k,y){var d=g[o*2],b=g[o*2+1],T=g[k*2],a=g[k*2+1],t=g[y*2],j=g[y*2+1],e=T-d,v=a-b,L=t-d,H=j-b,w=e*(d+T)+v*(b+a),P=L*(d+t)+H*(b+j),Q=2*(e*(j-a)-v*(t-T));
if(Math.abs(Q)<1e-5){var x=Math.min(d,T,t),F=Math.min(b,a,j),E=(Math.max(d,T,t)-x)*.5,f=(Math.max(b,a,j)-F)*.5;
return[x+E,F+f,E*E+f*f,1]}var c=(H*w-v*P)/Q,M=(e*P-L*w)/Q,E=c-d,f=M-b;return[c,M,E*E+f*f,0]};_.Hw.a5e=function(g,o,k){var y=k[1],d=k[3],b=d[3],T=y[3],a=T[3],t=k[2],j=y[2],e=k[0],v=y[0],L=d[0],H=T[0],w=_.Hw.a5t(g,v,H,L),P=g[e*2]-w[0],Q=g[e*2+1]-w[1],x=P*P+Q*Q>w[2]&&w[3]==0&&_.Hw.SC(g,H,e,L)<0&&_.Hw.SC(g,L,v,H)<0;
if(x){k[0]=L;y[0]=H;k[3]=b;b[3]=T;T[3]=k;y[3]=a;a[3]=d;d[3]=y;d[2]=j;T[2]=t;o.EG[j]=a;o.EG[t]=b;o.Hb[v]=T;
o.Hb[e]=d}return x};_.Hw.au3=function(g,o,k){var y=g[o*2]-g[k*2],d=g[o*2+1]-g[k*2+1];return Math.sqrt(y*y+d*d)};
_.Hw.ans=function(g,o,k){var y=k[1],d=k[3],b=d[3],T,a,t=k[2],j,e=k[0],v=b[0],L=d[0],H;if(y){T=y[3];a=T[3];
j=y[2];H=T[0]}var w=g.length>>>1;g[2*w]=(g[2*v]+g[2*e])*.5;g[2*w+1]=(g[2*v+1]+g[2*e+1])*.5;if(!0){var P=t,Q=k,x=o.EG.length,F=[w,null,P,Q],E=[L,F,x,b];
F[1]=E;var f=[w,null,x,E];d[3]=F;b[3]=f;b[2]=x;o.EG[P]=d;o.EG[x]=f;o.Hb[e]=d;o.Hb[L]=b;o.BC.push(F,E,f)}if(y){var c=j,M=y,n=x+1;
f[1]=M,M[1]=f;var X=[w,null,c,M],u=[H,X,n,a];X[1]=u;var I=[w,Q,n,u];Q[1]=I;T[3]=X;a[3]=I;a[2]=n;o.EG[c]=T;
o.EG[n]=a;o.Hb[v]=T;o.Hb[H]=a;o.BC.push(X,u,I)}o.Hb[w]=Q};_.Hw.h_=function(g,o){var k=0;while(!0){var y=k;
for(var m=0;m<o.BC.length;m++){var d=o.BC[m];if(d[1]==null)continue;var b=_.Hw.a5e(g,o,d);if(b){k++;
break}}if(y==k)break}return k!=0};_.Hw.ayw=function(g,o,k,y){var d=0;for(var m=0;m<y;m++){var b=null,T=0;
for(var a=0;a<o.BC.length;a++){var t=o.BC[a],j=_.Hw.au3(g,t[0],t[3][3][0])*(t[1]?1:2);if(j>T){b=t;T=j}}if(T>k){_.Hw.ans(g,o,b);
d++}}return d!=0};_.Hw.alG=function(g,o){var k=[],L=0;for(var m=0;m<g.length;m++)k.push(0);for(var m=0;
m<o.BC.length;m++){var y=o.BC[m],d=y[0],b=y[3][3][0],T=g[d*2],a=g[d*2+1],t=g[b*2],j=g[b*2+1],e=T-t,v=a-j;
k[d*2]+=-e;k[d*2+1]+=-v;k[b*2]+=e;k[b*2+1]+=v}for(var m=0;m<g.length;m+=2){var H=m>>>1,w=o.Hb[H],y=w,P=!0;
do{if(y[1]==null){P=!1;break}y=y[1][3]}while(y!=w);if(P){var Q=.02;g[m]+=Q*k[m];g[m+1]+=Q*k[m+1];L+=Q*(k[m]*k[m]+k[m+1]*k[m+1])}}return L};
_.Hw.a6t=function(g,o,k){var y=_.p.AU(g),d=_.Hw.o$(g,o);_.Hw.h_(g,d);for(var b=0;b<300;b++){var T=!1,a=!1;
T=_.Hw.ayw(g,d,k,5);if(T)a=_.Hw.h_(g,d);var t=_.Hw.alG(g,d);if(!T&&!a&&t<1e-4){break}}return _.Hw.avs(d)};
_.iE={};_.iE.ya=function(g){var o=g.mo,k=g.Nh,y=g.pQ,d=g.ig,b=g.jn,T=g.s6,a=g.kT,t=_.DA.Y8,F,E,f=0;function j(cy){var s=new Array(cy);
for(var m=0;m<cy;m++)s[m]=0;return s}var e=k.length>>>1,v=j(o.BP*2),L=j(o.BP),H=j(o.BP),w=Date.now();
for(var m=0;m<g.hc.length;m++){var P=o.alC+m,Q=o.bW*(T[m*2]+a[m*2]),x=o.bW*(T[m*2+1]+a[m*2+1]);v[P*2]=Q;
v[P*2+1]=x;L[P]=Q;H[P]=x}o.a86.Tk(d,o.art.Y8(v),.01,F,E);for(var m=0;m<o.a9K.BC.length;m++){var c=o.a9K.BC[m],M=c[3][3][0],n=c[0],X=c[3][0],u=c[1]?c[1][3][0]:X;
if(c[1]&&M>n)continue;var I=k[M*2],r=k[M*2+1],J=k[n*2],U=k[n*2+1],K=d[M*2],i=d[M*2+1],z=d[n*2],h=d[n*2+1],R=d[X*2],C=d[X*2+1],G=d[u*2],W=d[u*2+1],A=[K,i,z,h,R,C];
if(c[1])A.push(G,W);var $=t(o.a71[f],A),O=$[0],Y=$[1],l=1/Math.sqrt(O*O+Y*Y);O*=l;Y*=l;var B=J-I,f4=U-r;
L[f]=O*B+Y*f4;H[f]=-Y*B+O*f4;f++}var V=new Array(e),q=new Array(e);for(var m=0;m<e;m++){V[m]=b[m*2];
q[m]=b[m*2+1]}o.ahJ.Tk(V,o.acV.Y8(L),.5);o.ahJ.Tk(q,o.acV.Y8(H),.5);for(var m=0;m<e;m++){b[m*2]=V[m];
b[m*2+1]=q[m]}};_.iE.SY=function(g){var o=g.Nh,k=g.pQ,y=g.hc,d=_.DA.multiply,b=Date.now(),T=_.Hw.o$(o,k),a=o.length>>>1,t=0,w=0,Y=1e3;
for(var m=0;m<T.BC.length;m++)t+=T.BC[m][1]?.5:1;var j=t+y.length,e=[],v=new _.Wc(j*2,a*2),L=new _.Wc(j,a),H=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],P=[],Q=[];
for(var m=0;m<T.BC.length;m++){var x=T.BC[m],F=x[3][3][0],E=x[0],f=x[3][0],c=x[1]?x[1][3][0]:f;if(x[1]&&F>E)continue;
var M=o[F*2],n=o[F*2+1],X=o[E*2],u=o[E*2+1],I=o[f*2],r=o[f*2+1],J=o[c*2],U=o[c*2+1],K=[[M,n,1,0],[n,-M,0,1],[X,u,1,0],[u,-X,0,1],[I,r,1,0],[r,-I,0,1]];
if(x[1])K.push([J,U,1,0],[U,-J,0,1]);var i=_.DA.gH(K),z=d(linear.invert(d(i,K)),i);z.pop();z.pop();e.push(z);
var h=X-M,R=u-n,C=H[x[1]?1:0];C=_.DA.Eu(C,d([[h,R],[R,-h]],z));var G=[F*2,F*2+1,E*2,E*2+1,f*2,f*2+1,c*2,c*2+1],W=x[1]?8:6,A=[];
for(var $=0;$<W;$++)A.push([G[$],C[0][$],C[1][$]]);A.sort(function(s,cW){return s[0]-cW[0]});for(var O=0;
O<2;O++){for(var $=0;$<W;$++){P[$]=A[$][0];Q[$]=A[$][1+O]}v.j7(Q,P,W)}if(F<E)L.j7([-1,1],[F,E],2);else L.j7([1,-1],[E,F],2);
w++}for(var m=0;m<y.length;m++){var l=y[m];v.j7([Y],[l*2],1);v.j7([Y],[l*2+1],1);L.j7([Y],[l],1)}var B=v.gH(),f4=B.Rb(B),V=L.gH(),q=V.Rb(V);
return{alC:t,BP:j,art:B,a86:f4,acV:V,ahJ:q,a9K:T,a71:e,bW:Y}};_.iE.apd=function(g,o,k,y,d){var b=new bd(0,0,o,k),T=_.Q(b.O());
_.B4(g,T,3);_.round(T,70);var a=_.P8(T,b),t=[.1,.065,.035][y]*Math.max(a.m,a.n),j=d+1,e=o+j*2,v=k+j*2,L=new bd(-j,-j,e,v),H=_.Q(L.O());
_.sQ(T,b,H,L);var w=H.slice(0);for(var P=0;P<d;P++){for(var Q=1;Q<v-1;Q++){for(var x=1;x<e-1;x++){var m=Q*e+x;
w[m]=H[m-e]|H[m-1]|H[m]|H[m+1]|H[m+e]}}var F=w;w=H;H=F}var E=aO.RB(H,e,v,Math.round(a.O()*5e-4)),f=aO.uM(E),c=new d3(1,0,0,1,-j,-j);
for(var m=0;m<f.length;m++){var M=f[m];_.p.D(M.path.j,c,M.path.j);M.Nh=_.iE.acx(M.path);M.pQ=_.p.ahI(M.Nh);
M.pQ=_.Hw.a6t(M.Nh,M.pQ,t)}return f};_.iE.acx=function(g){var o=[],k=g.j,y=g.F.length-1,d=0,b=0;for(var T=0;
T<y;T++){var m=T*6,a=k[m+6]-k[m+0],t=k[m+7]-k[m+1],j=Math.ceil(Math.sqrt(a*a+t*t));for(var e=0;e<j;e++){var v=e/j,L=1-v,H=L*L*L*k[m+0]+3*L*L*v*k[m+2]+3*L*v*v*k[m+4]+v*v*v*k[m+6],w=L*L*L*k[m+1]+3*L*L*v*k[m+3]+3*L*v*v*k[m+5]+v*v*v*k[m+7];
o.push(H,w);d=H;b=w}}o=_.p.kY(o,1);var P=[],Q=o.length;for(var m=0;m<Q;m+=2){var w=o.pop(),H=o.pop();
P.push(H,w)}return P};_.iE.alw=function(g,o,k,y){function d(X,u,I,r,J){var U=J[X*2]-J[u*2],K=J[X*2+1]-J[u*2+1],i=Math.sqrt(U*U+K*K);
if(I[X].indexOf(u)==-1){I[X].push(u);r[X].push(i)}if(I[u].indexOf(X)==-1){I[u].push(X);r[u].push(i)}}var b=g.length>>>1,T=new Array(b);
if(k.length==0){T.fill(0);return T}var a=new Array(b),t=new Array(b);for(var m=0;m<b;m++){a[m]=[];t[m]=[]}for(var m=0;
m<o.length;m+=3){d(o[m],o[m+1],a,t,g);d(o[m],o[m+2],a,t,g);d(o[m+1],o[m+2],a,t,g)}var j=new Float64Array(b*2),e=new Uint32Array(b*2);
j.fill(1e9);var v=new Uint8Array(b);for(var L=0;L<k.length;L++){v.fill(0);var H=["---",[0,k[L]]];while(H.length!=1){var w=_.GC.q3(H),P=w[0],Q=w[1];
if(v[Q]==1)continue;var x=Q<<1;if(P<j[x]){j[x+1]=j[x];e[x+1]=e[x];j[x]=P;e[x]=L}else if(P<j[x+1]){j[x+1]=P;
e[x+1]=L}v[Q]=1;var F=a[Q],E=t[Q];for(var m=0;m<F.length;m++){var f=F[m];if(v[f]!=1){_.GC.KL(H,[P+E[m],f])}}}}for(var m=0;
m<b;m++){var x=m<<1,c=j[x],M=j[x+1],n=1/(c+M);T[m]=(1-c*n)*y[e[x]]+(1-M*n)*y[e[x+1]]}return T};_.iE.aiQ=function(g){var o={F:[],j:[]},k=[g];
while(k.length!=0){var y=k.pop(),d=y.rC;if(y.atb instanceof Array||y.aiC instanceof Array){o.F.push("M","L","L","L","Z");
o.j.push(d[0],d[1],d[2],d[1],d[2],d[3],d[0],d[3])}else k.push(y.atb,y.aiC)}return o};_.iE.YR=function(g,o,k,y,d,b,T,a,t,j){var e=Math.round(j.length/3),v=new Array(e);
for(var m=0;m<e;m++)v[m]=m;v.sort(function(H,w){return t[j[H*3]]-t[j[w*3]]});for(var m=0;m<e;m++){var L=v[m]*3;
_.iE.anC(j[L]*2,j[L+1]*2,j[L+2]*2,T,a,g,o,k,y,d,b)}};_.iE.anC=function(g,o,k,y,d,b,T,a,t,j,e){var v=_.iE.zx,L=[g,o,k,1.2,1.2,1.2,0],H=[0,0,0,0],w=d[g],P=d[g+1],Q=d[o],x=d[o+1],F=d[k],E=d[k+1],f=Math.max(0,Math.min(T-1,y[g])),c=Math.max(0,Math.min(T-1,y[o])),M=Math.max(0,Math.min(T-1,y[k])),n=Math.max(0,Math.min(a-1,y[g+1])),X=Math.max(0,Math.min(a-1,y[o+1])),u=Math.max(0,Math.min(a-1,y[k+1])),I=Q-w,r=x-P,J=F-w,U=E-P,K=1/(I*U-J*r+1e-9),i=Math.max(0,Math.floor(Math.min(w,Q,F))),z=Math.min(j,Math.ceil(Math.max(w,Q,F))),h=Math.max(0,Math.floor(Math.min(P,x,E))),R=Math.min(e,Math.ceil(Math.max(P,x,E)));
for(var C=h;C<R;C++)for(var G=i;G<z;G++){var W=G+.5-w,A=C+.5-P,$=(W*U-J*A)*K,O=(I*A-W*r)*K;if($>=0&&O>=0&&$+O<=1){var Y=1-$-O,l=f*Y+c*$+M*O,B=n*Y+X*$+u*O;
_.K.o3(l,B,b,T,a,H);_.iE.asi(H,t,C*j+G<<2)}}};_.iE.asi=function(g,o,k){var y=o[k],d=o[k+1],b=o[k+2],T=o[k+3],a=1-g[3]*(1/255);
o[k]=~~(.5+g[0]+y*a);o[k+1]=~~(.5+g[1]+d*a);o[k+2]=~~(.5+g[2]+b*a);o[k+3]=~~(.5+g[3]+T*a)};_.iE.zx=function(){var g=function(k,y,d,b){var T=b[0],a=b[1],t=b[2],j=k[T+0],e=k[T+1],v=k[a+0],L=k[a+1],H=k[t+0],w=k[t+1],P=v-j,Q=L-e,x=H-j,F=w-e,E=y-j,f=d-e,c=P*F-x*Q,M=1/(c+1e-9),n=(E*F-x*f)*M,X=(P*f-E*Q)*M;
if(n>=0&&X>=0&&n+X<=1){b[3]=1-n-X;b[4]=n;b[5]=X;return 1}return 0},o=function(k,y,d,b){var T=[0,0,0,0,0,0];
for(var m=0;m<y.length;m+=3){T[0]=y[m]*2;T[1]=y[m+1]*2;T[2]=y[m+2]*2;if(g(k,d,b,T)==1)return!0}return!1};
return{a0U:g,a1Y:o}}();_.EM={};_.EM.atB=function(g,o,k){var y=_.Q(o*k*4),d=!1;_.K.RE(g,o,k,y,[k,o,0,1,0,1,0,0]);
return[_.EM.Rk(g,o,k,d),_.EM.Rk(y,k,o,d)]};_.EM.D=function(g,o){var k=!1,y=g[0],d=g[1],b=y[1],T=y[2],a=y[3],t=o.m,j=o.n;
if(T==t&&a==j)b=b.slice(0);else if(a!=j){var e=_.Q(T*j*4);_.EM.CB(d,j,e,k);b=_.Q(T*j*4);_.K.RE(e,j,T,b,[T,j,0,1,0,1,0,0]);
if(T!=t){y=_.EM.Rk(b,T,j,k);b=_.Q(t*j*4);_.EM.CB(y,t,b,k)}}else if(T!=t){b=_.Q(t*a*4);_.EM.CB(y,t,b,k)}return b};
_.EM.Rk=function(g,o,k,y){var d=Date.now(),b=new Uint16Array(o*k),T=1;_.EM.aoq(g,o,k,b);var a=Math.ceil(o/T),t=new Uint32Array(T),j=new Uint32Array(T),a=Math.floor(o/T);
for(var e=0;e<T;e++)j[e]=e<T-1?a:o-(T-1)*a;for(var v=0;v<k;v++){var m=v*o;for(var e=0;e<T;e++){var a=j[e];
for(var L=0;L<a;L++)t[e]+=b[m+L];m+=a}}if(y){console.log(Date.now()-d,"cost");d=Date.now()}var H=new Uint32Array(o),w=new Uint32Array(o),P=new Uint32Array(o*k);
for(var L=0;L<o;L++){P[(k-1)*o+L]=b[(k-1)*o+L]}for(var v=k-2;v>=0;v--){var Q=v*o;for(var e=0;e<T;e++){var a=j[e];
P[Q]=b[Q]+Math.min(P[Q+o],P[Q+o+1]);for(var L=1;L<a-1;L++){var m=Q+L;P[m]=b[m]+Math.min(P[m+o-1],Math.min(P[m+o],P[m+o+1]))}Q+=a-1;
P[Q]=b[Q]+Math.min(P[Q+o-1],P[Q+o]);Q++}}if(y){console.log(Date.now()-d,"Building M");d=Date.now()}function x(r,J){return r<J?r:J}function F(m,r){var J=w[m],U=P[r],K=~~(J*U*1e-4);
return K}var E=new Uint8Array(o*k),f=new Uint32Array(o);for(var m=0;m<o;m++){H[m]=m;w[m]=b[m]}for(var v=1;
v<k;v++){var c=0,Q=v*o;for(var e=0;e<T;e++){var a=j[e],m=Q;f[c]=F(c,m);var M=f[c]+F(c+1,m+1),n=F(c,m+1)+F(c+1,m);
f[c+1]=x(M,n);for(var L=2;L<a;L++){var m=Q+L,X=f[c+L-1]+F(c+L-1,m-1),u=f[c+L-2]+F(c+L-1,m-2)+F(c+L-2,m-1);
f[c+L]=x(X,u)}var L=a-1;while(L>=2){var m=Q+L,X=f[c+L-1]+F(c+L-1,m-1),u=f[c+L-2]+F(c+L-1,m-2)+F(c+L-2,m-1);
if(f[c+L]==X){E[m-o]=1;L-=1}else{E[m-o]=0;E[m-o-1]=2;L-=2}}var m=Q;if(L==0){E[m-o]=1}else{if(f[c+1]==M){E[m+1-o]=1;
E[m-o]=1}else{E[m+1-o]=0;E[m-o]=2}}Q+=a;c+=a}_.EM.a1o(v,o,E,b,H,w,!0,d)}if(y){console.log(Date.now()-d,"Matching");
d=Date.now()}var I=b;return[UZIP.adler(g,0,g.length),g,o,k,T,j,t,H,w,E,I]};_.EM.CB=function(g,o,k,y){var d=g.slice(0),b=d.shift(),T=d.shift(),a=d.shift(),t=d.shift(),j=d.shift(),e=d.shift(),v=d.shift(),L=d.shift(),H=d.shift().slice(0),w=d.shift(),P=d.shift(),Q=Date.now(),x=Math.abs(a-o),F=Math.floor(x/j),E=new Uint32Array(j),c=0,M=1e9,X=0,u=0,I=0;
for(var f=0;f<j;f++)E[f]=f<j-1?F:x-(j-1)*F;P.fill(0);for(var n=0;n<a;n++){c=Math.max(c,H[n]);M=Math.min(M,H[n])}for(var f=0;
f<j;f++){var r=e[f],F=E[f];for(var J=0;J<F;J++){var U=0,K=1e9;for(var n=0;n<r;n++)if(H[u+n]<K){K=H[u+n];
U=u+n}if(o<a)H[U]=1e9;else H[U]*=1.2;if(I<a/3)X+=K;var i=L[U],z=P[i],h=z<65280?65280:z+1;if(h<65280)throw"e";
for(var R=0;R<t;R++){var m=R*a+i;P[m]=h;i+=w[m]-1}I++}u+=r}if(y){console.log(Date.now()-Q,"Removing best seams");
Q=Date.now()}function C(m,W){var A=m<<2,$=W<<2;k[A]=T[$];k[A+1]=T[$+1];k[A+2]=T[$+2];k[A+3]=T[$+3]}for(var R=0;
R<t;R++){var G=0,m=R*a;for(var n=0;n<o;n++,G++){if(o<a){while(P[m+G]==65280)G++;C(R*o+n,R*a+G)}else{C(R*o+n,R*a+G);
while(P[m+G]>=65280){P[m+G]--;n++;C(R*o+n,R*a+G)}}}}if(y){console.log(Date.now()-Q,"Shifting image pixels");
Q=Date.now()}};_.EM.a1o=function(g,o,k,y,d,b){var T=0,m=g*o;while(T<o){if(k[m-o]==1){b[T]=b[T]+y[m];
T++;m++}else{var a=d[T];d[T]=d[T+1];d[T+1]=a;var t=b[T];b[T]=b[T+1]+y[m];b[T+1]=t+y[m+1];T+=2;m+=2}}};
_.EM.aoq=function(g,o,k,y){function d(g,m,t){var v=m<<2,L=t<<2,H=g[v]-g[L],w=g[v+1]-g[L+1],P=g[v+2]-g[L+2];
return Math.abs(H)+Math.abs(w)+Math.abs(P)}for(var b=1;b<o;b++){var T=d(g,b,b-1);y[b-1]+=T;y[b]+=T}for(var a=1;
a<k;a++){var t=a*o,T=d(g,t,t-o);y[t]+=T;y[t-o]+=T;for(var b=1;b<o;b++){var m=a*o+b,j=d(g,m,m-1),e=d(g,m,m-o);
y[m-o]+=e;y[m-1]+=j;y[m]+=e+j}}for(var a=0;a<k;a++){y[a*o]*=2;y[a*o+o-1]*=2}for(var m=0;m<y.length;m++)if(y[m]==0)y[m]=1};
_.EO=function(){function g(){return 1953e6+Math.floor(Math.random()*999999)}function o(i,z){var h=z[0]-i[0],R=z[1]-i[1];
return h*h+R*R}function k(i,z,h,R,C,G,W,A){var $=h-i,O=R-z,Y=_.p.BQ(i,z,$,O,C,G,W-C,A-G),l=[i+Y*$,z+Y*O],B=Y>0?[[[i,z],l,!1,0,1],[[C,G],l,!1,0,5]]:[[[h,R],l,!1,0,1],[[W,A],l,!1,0,5]];
return B}function y(i){i=i.map(Math.round);var z=k(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),h=k(i[0],i[1],i[6],i[7],i[2],i[3],i[4],i[5]),R=[z,h],C=[z[0][1],h[0][1]];
for(var m=0;m<2;m++){var G=C[1-m],W=R[m];if(o(W[0][0],G)<o(W[1][0],G)){var A=W[0];W[0]=W[1];W[1]=A}}var $=[g(),0,-1,0,[0,0],z[0],z[1],h[0],h[1]];
return $}function d(i){var z=i[5],h=i[6],R=i[7],C=i[8],G=z[0],W=h[0],A=C[0],$=R[1],O=z[1],Y=A[0],l=A[1],B=$[0]-Y,f4=$[1]-l,V=_.p.BQ(Y,l,B,f4,W[0],W[1],O[0]-W[0],O[1]-W[1]);
return[Y+V*B,l+V*f4,Y,l,G[0],G[1],W[0],W[1]]}function b(i,z){return i[0]==z[0]&&i[1]==z[1]}function T(i,z,h){var R=i[1],C=i[0][0]-R[0],G=i[0][1]-R[1],W=Math.sqrt(C*C+G*G);
C/=W;G/=W;for(var A=0;A<h.length;A++){var $=h[A];if($[0]!=z[1]&&$[1]!=z[0])continue;for(var m=0;m<4;
m++){var O=$[5+m],Y=O[0];if(!b(R,O[1]))continue;var l=Y[0]-R[0],B=Y[1]-R[1];W=Math.sqrt(l*l+B*B);l/=W;
B/=W;var F=l*C+B*G;if(Math.abs(F-1)<1e-7)return!0}}return!1}function a(i,z){_.K.D(i,z);return z}function t(i){var z=[];
for(var h=0;h<i.length;h++){var R=i[h],C=R[1];for(var G=0;G<C.length;G++){var W=C[G],A=[],$=_.K.VH(d(W),new bd(0,0,1,1));
for(var m=0;m<4;m++){A[m]=T(W[5+m],W,C)}if(!A[0]){z.push([a($,[1,.5]),h,G,0,0]);if(!A[2])z.push([a($,[1,1]),h,G,0,1])}if(!A[1]){z.push([a($,[0,.5]),h,G,1,0]);
if(!A[3])z.push([a($,[0,0]),h,G,1,1])}if(!A[2]){z.push([a($,[.5,1]),h,G,2,0]);if(!A[1])z.push([a($,[0,1]),h,G,2,1])}if(!A[3]){z.push([a($,[.5,0]),h,G,3,0]);
if(!A[0])z.push([a($,[1,0]),h,G,3,1])}}}return z}function j(i,z,h){var R=h[0],C=h[1],G=z.x-i[0],W=z.y-i[1],A=_.p.BQ(i[0],i[1],G,W,C[0],C[1],R[0]-C[0],R[1]-C[1]);
return[i[0]+A*G,i[1]+A*W]}function e(i,z,h){i=JSON.parse(JSON.stringify(i));var R=i[z[1]][1][z[2]],C=z[3],G=z[4];
if(G==1)return i;if(C==0||C==2){var W=R[5+C],A=R[5+2-C],$=R[5+(C==0?3:1)],O=W[1];W[0]=A[0]=j(O,h,A);
$[0]=j(O,h,$)}else{var $=R[5+C],O=$[1],W=R[5+(C==3?0:2)];$[0]=j(O,h,W)}return i}function v(i,z,h){var R=z[0]-i[0],C=z[1]-i[1],G=_.p.BQ(h[0],h[1],-C,R,i[0],i[1],R,C);
return[h[0]-C*G,h[1]+R*G]}function L(i,z,h){var R=h[0],C=h[1],a=v(i,z,h),G=a[0],W=a[1],A=v(i,h,z),$=_.p.BQ(G,W,R-G,C-W,z[0],z[1],A[0]-z[0],A[1]-z[1]);
return[G+(R-G)*$,W+(C-W)*$]}function H(i,z,h){i=JSON.parse(JSON.stringify(i));var R=i[z[1]][1][z[2]],C=z[3],G=z[4];
if(G==1)return i;var W=R[5][1],A=R[7][1],$=L(W,A,h),O=JSON.parse(JSON.stringify(R));i[z[1]][1].push(O);
O[0]=g();O[1]=R[0];if(C==0||C==1){O[7][1]=O[8][1]=$;if(C==1){O[5][0]=O[7][0]=R[6][0];O[8][0]=d(R).slice(0,2)}}else{O[5][1]=O[6][1]=$;
if(C==3){O[5][0]=O[7][0]=R[8][0];O[6][0]=d(R).slice(0,2)}}return i}function w(i,z,h){var cy=i.length>>1,R,C=i[2*cy-3]-h,G=i[2*cy-2]-z,W=i[2*cy-1]-h,A=!1,$=0;
for(var m=0;m<cy;m++){R=G;C=W;G=i[2*m]-z;W=i[2*m+1]-h;if(C==W)continue;A=W>C}for(var m=0;m<cy;m++){R=G;
C=W;G=i[2*m]-z;W=i[2*m+1]-h;if(C<0&&W<0)continue;if(C>0&&W>0)continue;if(R<0&&G<0)continue;if(C==W&&Math.min(R,G)<=0)return!0;
if(C==W)continue;var O=R+(G-R)*-C/(W-C);if(O==0)return!0;if(O>0)$++;if(C==0&&A&&W>C)$--;if(C==0&&!A&&W<C)$--;
A=W>C}return($&1)==1}function P(i,z,h){for(var R=0;R<i.length;R++){var C=i[R][1];for(var G=0;G<C.length;
G++){var W=d(C[G]);if(w(W,z,h))return[R,G]}}}function Q(i,z){for(var h=0;h<i.length;h++){var R=i[h][1],C=z[h];
if(C.length==0)continue;var G=x(R,C);for(var W=0;W<R.length;W++){if(G.indexOf(R[W][0])!=-1){R.splice(W,1);
W--}}}for(var h=0;h<i.length;h++)if(i[h][1].length==0){i.splice(h,1);h--}return i}function x(i,z){var h=[];
for(var m=0;m<10;m++)for(var R=0;R<i.length;R++){var C=i[R];if(z.indexOf(R)!=-1||h.indexOf(C[1])!=-1)if(h.indexOf(C[0])==-1)h.push(C[0])}return h}function F(i,z){return i[0]*z[0]+i[1]*z[1]+i[2]*z[2]}function E(i,z,h,R){return F(I(i,z),h)/F(I(i,z),R)}function f(i,z){return[i[0]*z,i[1]*z,i[2]*z,1]}function c(i,z){return[i[0]-z[0],i[1]-z[1],i[2]-z[2],1]}function M(i,z){return[i[0]+z[0],i[1]+z[1],i[2]+z[2],1]}function n(i){var z=i[0],h=i[1],R=i[2];
return Math.sqrt(z*z+h*h+R*R)}function X(i){return f(i,1/n(i))}function u(i,z,h,R){var C=c(z,i),G=c(R,h),W=c(h,i),A=F(I(W,G),I(C,G))/(n(I(C,G))*n(I(C,G)));
return M(i,f(c(z,i),A))}function I(i,z){return[i[1]*z[2]-i[2]*z[1],i[2]*z[0]-i[0]*z[2],i[0]*z[1]-i[1]*z[0],1]}function r(i,z){return Math.acos(F(i,z)/(n(i)*n(z)))}function J(i,z){if(z==null)z=1;
var h=1,R,C,G,W=f(X([i[0],i[1],1]),z),A=X([i[2],i[3],1]),$=X([i[4],i[5],1]),O=X([i[6],i[7],1]);C=-E(A,O,W,$);
R=E($,O,W,A);G=E(A,$,W,O);var Y=f(W,h),l=f(A,R),B=f($,C),f4=f(O,G);return[Y,l,B,f4]}function U(i,z){var h=J(i,z),R=h[0],C=h[1],G=h[2],W=h[3],A=f(R,1/R[2]),$=[i[2],i[3],1,1],O=n(c(A,$));
console.log(u([0,2,0,1],[1,1,0,1],[0,-2,0,1],[1,-1,0,1]));var Y=X(c(C,R)),l=X(c(W,R)),B=I(Y,l),a=[Y[0],l[0],B[0],R[0],Y[1],l[1],B[1],R[1],Y[2],l[2],B[2],R[2],0,0,0,1],f4=_.x1.hi(a,[1,0,0,1]),V=u([0,0,0,1],$,f4,M(f4,R)),q=M(R,c(V,f4)),s=n(q)/n(R);
for(var m=0;m<3;m++)a[m*4+3]*=s;return a}function K(i){var z=S.lp(i,0,i.length),h=z.split("\n").slice(1);
function R(){return parseFloat(h.shift())}function C(){var a$=[R(),R()];G(1);return a$}function G(cy){for(var m=0;
m<cy;m++)h.shift()}var W=[],A=R();for(var $=0;$<A;$++){var O=R(),Y=R(),l=[];W.push([O,l]);for(var B=0;
B<Y;B++){var f4=R(),V=R(),q=R(),s=R(),cW=C(),dk=[f4,V,q,s,cW];l.push(dk);for(var m=0;m<4;m++){var kr=C(),j9=C(),bh=R()==1,fe=R(),gg=R();
dk.push([kr,j9,bh,fe,gg])}}}return W}return{Qt:K,arm:d,asx:y,em:t,anU:e,a7w:function(i,z){return z&&z[4]==1&&i[z[1]][1].length==1},adn:function(i,z){return z&&z[4]==0},ahV:H,aaE:Q,kM:x,aeU:P,aiX:J,api:U}}();
_.Ru=function(){var g=0,o=0,y=15,b=256;function k(e,v,L,H,w,P){var Q=(w-1)*v,x=P*v;return e[x+H]-e[x+L-1]-e[Q+H]+e[Q+L-1]}var d=Math.round(y/8),T=[];
function a(e,v){for(var L=0;L<v.length;L++){var H=v[L],w=0,P=0,Q=e[H.NO],x=Q.Au,F=Q.bW,E=Q.GP;for(var f=-y;
f<=y;f++)for(var c=-y;c<=y;c++){var M=c+H.ahh,n=f+H.a9T;if(c*c+f*f>y*y||M<0||n<0||M>=F||n>=F)continue;
var X=x[n*F+M];w+=c*X;P+=f*X}H.UJ=Math.atan2(P,w)}}function t(e,v,L,H,w){var P=~~(e+.5),Q=~~(v+.5);return k(L,H,P-d,P+d,Q-d,Q+d)}function j(e,v,L,H,w){g=H;
o=w;if(T.length==0){var P=new _.l.du(16200817),E=8,f=0;function Q(s){var I=s[0]-s[2],r=s[1]-s[3];return I*I+r*r}function x(){var s=0,cW=0;
while(s===0)s=P.get();while(cW===0)cW=P.get();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*cW)}var F=x,c=[];
while(f!=b){var M=Math.max(-y,Math.min(y,F()*E)),n=Math.max(-y,Math.min(y,F()*E)),X=Math.max(-y,Math.min(y,F()*E)),u=Math.max(-y,Math.min(y,F()*E)),I=M-X,r=n-u,J=Math.sqrt(I*I+r*r);
if(J<3||J>12)continue;T.push(M,n,X,u);f++}}var U=20;for(var K=0;K<v.length;K++){var i=v[K],z=e[i.NO],h=z.b2,L=z.Au,H=z.bW,w=z.GP,R=i.ahh,C=i.a9T,G=i.UJ,W=Math.cos(G),A=Math.sin(G),$=new Uint8Array(b>>>3);
i.fV=$;for(var m=0;m<b;m++){var O=m*4,M=T[O+0],n=T[O+1],X=T[O+2],u=T[O+3],Y=W*M-A*n,l=A*M+W*n,B=W*X-A*u,f4=A*X+W*u,V=t(R+Y,C+l,h,H,w),q=t(R+B,C+f4,h,H,w);
$[m>>>3]|=(V<q?0:1)<<(m&7)}}}return{alA:a,al7:j}}();_.a5G=function(){function g(o,k){var y=[[9]],d=Date.now(),b=[];
for(var T=0;T<o.length;T++){var a=o[T],t=a.b2,j=a.bW,e=a.GP,H=9,E=1,i=24;if(t==null)continue;var v=new Float32Array(j*e),L=new Uint8Array(j*e),w=H>>>1,P=w>>>1,Q=Math.round(H/3);
if(Q!=H/3)throw"e";var x=1/(H*H),F=1.2*(H/9);for(var f=w+1;f<e-w;f+=E)for(var c=w+1;c<j-w;c+=E){var M=_.d5(t,j,c-P,c+P,f-w,f+w)-3*_.d5(t,j,c-P,c+P,f-w+Q,f+w-Q),n=_.d5(t,j,c-w,c+w,f-P,f+P)-3*_.d5(t,j,c-w+Q,c+w-Q,f-P,f+P),X=c-w+1,u=c+w-1,I=f-w+1,r=f+w-1,J=_.d5(t,j,X,c-1,I,f-1)+_.d5(t,j,c+1,u,f+1,r)-_.d5(t,j,c+1,u,I,f-1)-_.d5(t,j,X,c-1,f+1,r),U=(n*M-.9*J*(.9*J))*(x*x);
v[f*j+c]=Math.abs(U);L[f*j+c]=U<0?0:1}var K=j*E;for(var f=i;f<e-i;f+=E)for(var c=i;c<j-i;c+=E){var m=f*j+c,z=v[m];
if(z<16)continue;if(v[m-E]>=z||v[m+E]>=z)continue;if(v[m-K-E]>=z||v[m-K]>=z||v[m-K+E]>=z)continue;if(v[m+K-E]>=z||v[m+K]>=z||v[m+K+E]>=z)continue;
b.push({x:~~(c*a.fm+.5),y:~~(f*a.fm+.5),ahh:c,a9T:f,NO:T,Z:z,a1E:L[m],ci:F})}}if(k!=null){b.sort(function(O,Y){return Y.Z-O.Z});
b=b.slice(0,k)}return b;var h=[];for(var m=0;m<b.length;m++){var R=!0,C=b[m];for(var G=0;G<b.length;
G++){var W=b[G];if(G!=m&&W.Z>C.Z&&(W.NO==C.NO+1||W.NO==C.NO-1)){var A=C.x-W.x,$=C.y-W.y;if(A*A+$*$<5){R=!1;
break}}}if(R)h.push(C)}console.log(b.length,h.length);return h}return{aiR:g}}();_.UB={};_.UB.a7a=function(g){var o=g.length,k=_.UB.pV(g,!1),d=0,b=1;
throw"e";var y=[];for(var m=0;m<o;m++)y[m]=_.UB.Lx(k[m]);var T=g[0][1],a=_.UB.match(k[d],k[b],y[b]);
console.log(a.length);var t=Math.max(Math.min(a.length,40),a.length*.54);t=Math.min(t,200);var j=a.slice(0,t),e=_.p1.a4p(k[d],k[b],j,T.m,T.n),v=_.p1.ain(e,[0,0,0],1),L=T.m/2,H=T.n/2,w=1/Math.max(L,H);
for(var m=0;m<1;m++){var P=j[m],Q=k[d][P[0]],x=k[b][P[1]],F=_.p1.arV(v,w*(Q.x-L),w*(Q.y-H),w*(x.x-L),w*(x.y-H))}var E=_.p1.alK(e,T),f=[];
for(var m=0;m<2;m++){var c=E[m],M=[c[0][0],c[0][1],c[0][2],c[1][0],c[1][1],c[1][2],c[2][0],c[2][1]],n=D.C8.SE(g[m],null,M);
f.push([n.buffer,n.rect])}return[_.UB.aoN(f[0],f[1],k[d],k[b],j,e,E,T)]};_.UB.wo=function(g,o){var k=g.length,y=!1,d=Date.now(),b=_.UB.pV(g,!1,1e4);
if(y)console.log("Descriptors ready",Date.now()-d);d=Date.now();for(var m=0;m<k;m++){var T=g[m][1];for(var a=0;
a<b[m].length;a++){b[m][a].x+=T.x;b[m][a].y+=T.y}}if(y)console.log("shifted",Date.now()-d);d=Date.now();
var t=[];for(var m=0;m<k;m++)t[m]=_.UB.Lx(b[m]);if(y)console.log("trees built",Date.now()-d);d=Date.now();
var j=[];for(var m=0;m<k-1;m++)for(var a=m+1;a<k;a++){var e=_.UB.match(b[m],b[a],t[a]);if(y)console.log("Matches found",m,a,e.length);
e=e.slice(0,e.length>>>1);if(e.length<10)return null;var v=_.UB.a2w(b[m],b[a],e,2);j.push([m,a,e,v])}j.sort(function(u,I){return I[2].length-u[2].length});
if(y)console.log("Matches found",Date.now()-d);d=Date.now();var L=[],H=new UnionFind(k);for(var m=0;
m<j.length;m++){var w=j[m],P=H.find(w[0]),Q=H.find(w[1]);if(P!=Q){L.push(w);H.link(P,Q)}}var x=[];for(var m=0;
m<k;m++)x[m]=[1,0,0,0,1,0,0,0];var F=[0],E=new Uint8Array(k);E[F[0]]=1;while(F.length!=0){var Q=F.pop(),v=x[Q],f=[];
for(var m=0;m<L.length;m++){var w=L[m],c=w[0],M=w[1];if(c==Q&&E[M]==0){x[M]=_.K.x7(v,w[3]);F.push(M);
E[M]=1}if(M==Q&&E[c]==0){x[c]=_.K.x7(v,_.K.TY(w[3]));F.push(c);E[c]=1}}}if(o==null){var n=[];for(var m=0;
m<k;m++)n.push([x[m][2],m]);n.sort(function(u,I){return u[0]-I[0]});o=n[n.length>>>1][1]}var X=_.K.TY(x[o]);
for(var m=0;m<k;m++)x[m]=_.K.x7(x[m],X);if(y)console.log("Transforms reordered",Date.now()-d);d=Date.now();
return x};_.UB.pV=function(g,o,k){var y=[],d=!1;for(var m=0;m<g.length;m++){var b=g[m][0],T=g[m][1],a=T.m,t=T.n,j=_.Q(T.O());
_.h4(b,j);var e=Date.now(),v=_.UB.aje(j,T,!0);if(d)console.log("Pyramid built ---------------",Date.now()-e);
e=Date.now();var L=_.a5G.aiR(v,k);if(d)console.log("SURF Generation",Date.now()-e);e=Date.now();if(!o){_.Ru.alA(v,L);
if(d)console.log("ORB Orientations",Date.now()-e);e=Date.now();_.Ru.al7(v,L,j,a,t);if(d)console.log("ORB Descriptors",Date.now()-e);
e=Date.now()}y.push(L)}return y};_.UB.aje=function(g,o,k){var y=[],d=[g,o];_.ZM(d);if(k){var b=_.yk(g,o),T=b.rect,a=[b.rg,T];
_.ZM(a)}for(var m=0;m<d.length;m++){var t=d[2*m],j=d[2*m+1],e=j.m,v=j.n,L=Math.min(e,v);if(L<30)break;
if(L<1600)y.push({Au:t,bW:e,GP:v,fm:1<<m,b2:_.Jf(t,e,v)});if(!k)continue;var t=a[2*m],j=a[2*m+1],e=j.m,v=j.n,L=Math.min(e,v);
if(L<30)break;if(L<1600)y.push({Au:t,bW:e,GP:v,fm:(1<<m)*3/2,b2:_.Jf(t,e,v)})}return y};_.UB.a2w=function(g,o,k,y){var d=Date.now(),b,T=0,a=0,t=k.length,j=new Float64Array(2);
for(var e=0;e<3e3;e++){var v=~~(Math.random()*t),L=~~(Math.random()*t),H=~~(Math.random()*t),w=~~(Math.random()*t),K=0,i=0;
if(v==L||v==H||v==w||L==H||L==w||H==w)continue;var P=k[v],Q=k[L],x=k[H],F=k[w],E=g[P[0]],f=o[P[1]],c=g[Q[0]],M=o[Q[1]],n=g[x[0]],X=o[x[1]],u=g[F[0]],I=o[F[1]],r=[E.x,E.y,c.x,c.y,n.x,n.y,u.x,u.y],J=[f.x,f.y,M.x,M.y,X.x,X.y,I.x,I.y],U=_.K.B9(r,J);
if(U[0]==0&&U[1]==0&&U[3]==0&&U[4]==0)continue;var z=t-T+2;for(var m=0;m<t&&m-K<z;m++){var h=g[k[m][0]],R=o[k[m][1]];
_.K.WU(R.x,R.y,U,j);var C=j[0]-h.x,G=j[1]-h.y,W=C*C+G*G;if(W<y){K++;i+=W}}if(K>T||K==T&&i<a){b=U;T=K;
a=i}}return b};var fX=new Uint8Array(256);for(var m=0;m<256;m++){var bc=0,cy=m;while(cy!=0){cy=cy&cy-1;
bc++}fX[m]=bc}_.UB.ah7=function(g,o,k){var y=0,d=g.length;for(var m=0;m<d&&y<k;m++)y+=fX[g[m]^o[m]];
return y};_.UB.ar4=function(g,o,k,top,y){if(y[k]==1)return;var d=_.UB.ah7(g.fV,o.fV,top[0]);if(d<top[0]){if(d<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=d;top[3]=k}else{top[0]=d;top[1]=k}}y[k]=1};_.UB.Lx=function(g){var o=[],k=[],y=[[],[]],d=4;
for(var m=0;m<g.length;m++)(g[m].a1E==0?o:k).push(m);for(var b=0;b<2;b++){var T=new Array(d),a=[],t=b==0?o:k,j=t.length/256,e=[];
for(var v=0;v<32;v++){var L=new Array(256),P=0;for(var H=0;H<256;H++)L[H]=[];for(var H=0;H<t.length;
H++){var w=t[H];L[g[w].fV[v]].push(w)}for(var H=0;H<256;H++)P+=Math.abs(L[H].length-j);e.push([P,v,L])}e.sort(function(Q,x){return Q[0]-x[0]});
var a=[],T=[];y[b]=[a,T];for(var m=0;m<d;m++){a.push(e[m][1]);T.push(e[m][2])}}return y};_.UB.match=function(g,o,k){var y=[],d=new Uint16Array(o.length);
d.fill(65535);var b=new Uint8Array(o.length),top=new Uint32Array(4),T=[];for(var a=0;a<g.length;a++){var t=g[a],j=t.fV;
top.fill(1e6);b.fill(0);var e=k[t.a1E];for(var v=0;v<e[1].length;v++){var L=e[1][v][j[e[0][v]]];for(var H=0;
H<L.length;H++){var w=L[H];_.UB.ar4(t,o[w],w,top,b)}}if(top[2]<50&&top[2]<top[0]*.5){var P=d[top[3]];
if(P==65535){d[top[3]]=y.length;y.push([a,top[3],top[2]])}else if(top[2]<y[P][2]){y[P]=[a,top[3],top[2]]}}}y.sort(function(Q,x){return Q[2]-x[2]});
return y};_.UB.a3p=function(g){var o=new bd;for(var m=0;m<g.length;m++)o=o.gO(g[m][1]);var k=_.Q(o.O()*4);
for(var m=0;m<g.length;m++)_.l.I3("norm",g[m][0],g[m][1],k,o,o,1);return[k,o]};_.UB.aoN=function(g,o,k,y,d,b,T,a){var t=g[1].clone(),j=t.clone();
t.x=t.y=0;var e=o[1].clone(),v=e.clone();e.x=e.y=0;e.x=t.m;var L=t.gO(e),H=v.y-j.y,w=_.Q(L.O()*4);_.g1(g[0],t,w,L);
_.g1(o[0],new bd(e.x,e.y+H,e.m,e.n),w,L);var P=document.createElement("canvas");P.width=L.m;P.height=L.n;
var Q=P.getContext("2d");Q.lineWidth=.5;Q.putImageData(new ImageData(new Uint8ClampedArray(w.buffer),L.m,L.n),0,0);
if(b){var x=b[0],F=_.DA.gH(x),E=t.m,f=a.m;for(var m=0;m<d.length;m++){var c=d[m],g=k[c[0]],o=y[c[1]];
Q.strokeStyle="#"+"ff0000";Q.beginPath();var M=_.p1.abt(F,T[0],o,0,f),n=_.p1.abt(x,T[1],g,0,f);Q.moveTo(-j.x+M[0],-j.y+M[1]);
Q.lineTo(-j.x+M[2],-j.y+M[3]);Q.moveTo(E-v.x+n[0],-v.y+H+n[1]);Q.lineTo(E-v.x+n[2],-v.y+H+n[3]);Q.stroke()}}if(d){var X=d.length;
for(var m=0;m<X;m++){var c=d[m],g=k[c[0]],o=y[c[1]];Q.strokeStyle="#"+"ffff00"}}var u=new Uint8Array(Q.getImageData(0,0,L.m,L.n).data.buffer);
if(!1){for(var I=0;I<2;I++){var r=I==0?k:y,J=I*t.m;for(var m=0;m<r.length;m++){var U=r[m],K=~~U.x,i=~~U.y,z=(i*L.m+K+J)*4;
u[z+1]=u[z+2]=U.auj*60;u[z+0]=0;u[z+3]=255}}}return[u,L]};_.stack={};_.stack.stack=function(g,o,k){var y=g.length,d=o.length;
if(y==1){o.set(g[0]);return}if(k=="avrg"||k=="stdv"||k=="summ"||k=="vari"){var b=1/y;for(var m=0;m<d;
m++){var T=0;for(var a=0;a<y;a++)T+=g[a][m];var t=~~(T*b+.5);if(k=="avrg"||(m&3)==3)o[m]=t;else if(k=="summ")o[m]=255*Math.pow(Math.min(255,T)*(1/255),1/2.4);
else{var j=0;for(var a=0;a<y;a++){var e=g[a][m]-t;j+=e*e}var v=Math.sqrt(j*b)*(1/255);if(k=="stdv")o[m]=255*Math.pow(v,1/2.4);
else o[m]=255*Math.pow(v*v,1/2.4)}}}else if(k=="maxx"){for(var m=0;m<d;m++){var L=0;for(var a=0;a<y;
a++)L=Math.max(L,g[a][m]);o[m]=L}}else if(k=="minn"){for(var m=0;m<d;m++){var L=255;for(var a=0;a<y;
a++)L=Math.min(L,g[a][m]);o[m]=L}}else if(k=="medn"||k=="rang"){var H=function(x,F){return x-F},w=new Array(y),P=0,Q=0;
if((y&1)==0){Q=y>>>1;P=Q-1}else{P=Q=y>>>1}for(var m=0;m<d;m++){for(var a=0;a<y;a++)w[a]=g[a][m];w.sort(H);
if(k=="medn")o[m]=w[P]+w[Q]>>>1;else o[m]=(m&3)==3?w[y-1]:w[y-1]-w[0]}}else console.log(k)};_.r7={};
_.r7.a9x=function(g,o,k,y){var d=Date.now(),b=new Uint32Array(o*k),T=new Uint8Array(o*k);while(!0){T.fill(0);
b.fill(0);var a=[],t=0;for(var j=0;j<k;j++){for(var e=0;e<o;e++){var m=j*o+e;if(T[m]==0){var v=a.length,L=_.r7.xS(g,o,k,e,j,T,b,v);
a.push([v,e,j,L[0],L[1],g[m]]);if(L[0]<y)t++}}}if(t==0)break;var H=a.length,w=new UnionFind(H),P=[];
for(var m=0;m<H;m++)P.push([]);for(var m=0;m<H;m++){var L=a[m],Q=L[4],x=0,F=0;if(L[3]>=y)continue;var v=L[0];
for(var E=0;E<Q.length;E+=2){var f=b[Q[E+1]*o+Q[E]],c=a[f];if(c[3]>F){F=c[3];x=f}}if(w.find(v)!=w.find(x)){w.link(v,x);
P[v].push(x);P[x].push(v)}}var M=new Uint32Array(H);M.fill(4294967295);var n=new Uint32Array(H);for(var m=0;
m<H;m++){if(M[m]!=4294967295||P[m].length==0)continue;var X=[m],u=[m],I=m,r=a[m][3];while(u.length!=0){var J=u.pop(),U=P[J];
for(var E=0;E<U.length;E++){var K=U[E];if(X.indexOf(K)==-1){X.push(K);u.push(K);var i=a[K];if(i[3]>r){r=i[3];
I=K}}}}for(var E=0;E<X.length;E++){M[X[E]]=I;var z=a[I];n[X[E]]=g[z[2]*o+z[1]]}}for(var j=0;j<k;j++)for(var e=0;
e<o;e++){var m=j*o+e,h=M[b[m]];if(h!=4294967295)g[m]=n[h]}}};_.r7.xS=function(g,o,k,y,d,b,T,a){var t=[y,d],j=g[d*o+y],e=0,v=[];
b[d*o+y]=1;while(t.length!=0){var L=t.pop(),H=t.pop(),m=L*o+H;T[m]=a;e++;if(L!=k-1)if(g[m+o]==j){if(b[m+o]==0){t.push(H,L+1);
b[m+o]=1}}else v.push(H,L+1);if(L!=0)if(g[m-o]==j){if(b[m-o]==0){t.push(H,L-1);b[m-o]=1}}else v.push(H,L-1);
if(H!=o-1)if(g[m+1]==j){if(b[m+1]==0){t.push(H+1,L);b[m+1]=1}}else v.push(H+1,L);if(H!=0)if(g[m-1]==j){if(b[m-1]==0){t.push(H-1,L);
b[m-1]=1}}else v.push(H-1,L)}return[e,v]};_.r7.ayo=function(g,o,k,y,d){var b=_.r7.Bg(g.buffer,o,k).P1,T=Date.now(),a=[];
for(var m=0;m<b.length;m++){var t=b[m],j=1;for(var e=0;e<j;e++)a.push(t._I)}var v=new Uint32Array(a),L=UPNG.quantize.getKDtree(new Uint8Array(v.buffer),y),H=[o,1,-o,-1,o+1,-o+1,-o-1,o-1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2],w=new Uint8Array(o*k),P=g;
for(var Q=0;Q<k;Q++)for(var x=0;x<o;x++){var m=Q*o+x<<2,F=P[m]*(1/255),E=P[m+1]*(1/255),f=P[m+2]*(1/255),c=P[m+3]*(1/255),M=_.r7.b0(L,F,E,f,c,d);
if(M==null){var n=[],X=0;while(X<20){var u=Q*o+x+H[X]<<2,I=P[u]*(1/255),r=P[u+1]*(1/255),J=P[u+2]*(1/255),U=P[u+3]*(1/255),K=_.r7.b0(L,I,r,J,U,.005);
if(K!=null){if(n.indexOf(K)==-1){n.push(K);K.X2=1}else K.X2++}X++}n.sort(function(c,f){return f.X2-c.X2});
while(n.length!=0&&n[n.length-1].X2<3)n.pop();if(n.length==0)M=_.r7.b0(L,F,E,f,c,100);else if(n.length==1)M=n[0];
else if(n.length==2){var i=n[0],z=n[1],h=i.est.q,R=z.est.q,C=R[0]-h[0],G=R[1]-h[1],W=R[2]-h[2],A=R[3]-h[3],$=F-h[0],O=E-h[1],Y=f-h[2],l=c-h[3],B=C*C+G*G+W*W+A*A,f4=$*$+O*O+Y*Y+l*l,V=($*C+O*G+Y*W+l*A)/B,q=f4-V*V*B;
if(q<.5)M=V<.5?i:z;else{M=_.r7.b0(L,F,E,f,c,100)}}else{var i=n[0],z=n[1],s=n[2],h=i.est.q,R=z.est.q,cW=s.est.q,dk=h[0]-cW[0],kr=h[1]-cW[1],j9=h[2]-cW[2],bh=h[3]-cW[3],fe=R[0]-cW[0],gg=R[1]-cW[1],a$=R[2]-cW[2],dg=R[3]-cW[3],iv=cW[0]-F,aQ=cW[1]-E,dt=cW[2]-f,hY=cW[3]-c,b9=dk*dk+kr*kr+j9*j9+bh*bh,i0=dk*fe+kr*gg+j9*a$+bh*dg,gD=iv*dk+aQ*kr+dt*j9+hY*bh,hU=dk*fe+kr*gg+j9*a$+bh*dg,aW=fe*fe+gg*gg+a$*a$+dg*dg,be=iv*fe+aQ*gg+dt*a$+hY*dg,hv=1/(i0*hU-b9*aW),V=(aW*gD-be*i0)*hv,b3=(be*b9-gD*hU)*hv,gT=1-V-b3,aB=Math.max(V,b3,gT);
if(aB==V)M=i;else if(aB==b3)M=z;else M=s}}w[m>>2]=M.ind}return{pQ:w,P1:L[1]}};_.r7.Bg=function(g,o,k){var y=[],d={},b=o-1,T=k-1,a=0,t=new Uint32Array(g),j=[-o-1,-o,-o+1,-1,1,o-1,o,o+1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2];
for(var e=1;e<T;e++)for(var v=1;v<b;v++){var L=e*o+v,H=t[L],w=!0;for(var m=0;m<8;m++)w=w&&t[L+j[m]]==H;
if(w){a++;var P=d[H];if(P==null){d[H]=y.length;y.push({_I:H,LY:1})}else y[P].LY++}}return{P1:y,atY:a}};
_.r7.b0=function(g,o,k,y,d,b){var T=UPNG.quantize.getNearest(g[0],o,k,y,d);return _.r7.aeo(T,o,k,y,d)<b?T:null};
_.r7.aeo=function(g,o,k,y,d){var b=g.est.q,T=o-b[0],a=k-b[1],t=y-b[2],j=d-b[3];return T*T+a*a+t*t+j*j};
_.r7.$O=function(){function g(x,F,E,f,c,M){var n=[],X=M,u=M,I=M>>>2;for(var r=0;r<c;r++)for(var J=0;
J<f;J++){var U=~~((J+.5)*X),K=~~((r+.5)*u),i=1e9,z=Math.max(0,U-I),h=Math.min(F,U+I+1),R=Math.max(0,K-I),C=Math.min(E,K+I+1);
for(var G=R;G<C;G++)for(var W=z;W<h;W++){var A=o(x,F,W,G);if(A<i){U=W;K=G;i=A}}var $=(K*F+U)*4;n.push(U,K)}return n}function o(x,F,E,f){var c=(f*F+E)*4,M=F*4,n=k(x,c-4,c)+k(x,c,c+4),X=k(x,c-M,c)+k(x,c,c+M);
return n+X}function k(x,F,E){var f=x[F]-x[E],c=x[F+1]-x[E+1],M=x[F+2]-x[E+2];return f*f+c*c+M*M}var y=0,d=0;
function b(x,F,E,f){d++;if(f<y)y=f;x[f].push(F,E)}function T(x){d--;while(x[y].length==0)y++}function a(x,F,E,f,c){y=0;
d=0;var M=F*E,n=Math.round(Math.min(F,E)/(f?f:50)),z=0,h=16;if(n==0)n=1;var X=(c?c:30)/n,u=Math.floor(F/n),I=Math.floor(E/n),r=new Uint16Array(M);
for(var m=0;m<M;m++)r[m]=65535;var J=g(x,F,E,u,I,n),U=J.length>>>1;if(U>65535)throw U;var K=[];for(var m=0;
m<1e3+E;m++)K.push([]);var i=[0,1,0,-1,-1,0,1,0],R=Math.min(I,5),C=new Uint32Array(U*6);for(var G=0;
G<I;G+=R){var W=Math.min(G+R+1,I);for(var A=G;A<W;A++)for(var $=0;$<u;$++){var m=A*u+$,O=m*2,Y=J[O+1]<<16|J[O];
b(K,Y,m,J[O+1]>>>h)}var l=Math.min(E,W*n);if(G+R>=I)l=E;while(d!=0){T(K);var B=K[y].pop(),f4=K[y].pop(),V=f4>>>16,q=f4&65535,m=V*F+q;
if(r[m]==65535){var s=B*6,cW=m<<2;r[m]=B;C[s]+=x[cW];C[s+1]+=x[cW+1];C[s+2]+=x[cW+2];C[s+3]+=q;C[s+4]+=V;
C[s+5]++;var dk=V>>>h;if(V!=l-1&&r[m+F]==65535)b(K,V+1<<16|q,B,t(x,F,X,q,V+1,C,s)+dk);if(V!=0&&r[m-F]==65535)b(K,V-1<<16|q,B,t(x,F,X,q,V-1,C,s)+dk);
if(q!=0&&r[m-1]==65535)b(K,V<<16|q-1,B,t(x,F,X,q-1,V,C,s)+dk);if(q!=F-1&&r[m+1]==65535)b(K,V<<16|q+1,B,t(x,F,X,q+1,V,C,s)+dk)}}if(l!=V){var kr=(G+R)*u;
C.fill(0,kr*6,(kr+u)*6);for(var V=(G+R-2)*n;V<l;V++)for(var q=0;q<F;q++){var m=V*F+q;if(r[m]>=kr){r[m]=65535}}}}return{pQ:r,Oz:U,Fu:C}}_.r7.So=function(x,F,E,f,c){var M=x.Oz,n=F*E,X=x.Fu,u=x.pQ,I=H(f,u,M,n),r=new UnionFind(M),h=0;
for(var J=1;J<E;J++)for(var U=1;U<F;U++){var m=J*F+U,K=u[m],i=0;if((i=u[m-1])!=K&&I[i]==I[K]&&j(X,0,K*6,i*6)<c)r.link(K,i);
if((i=u[m-F])!=K&&I[i]==I[K]&&j(X,0,K*6,i*6)<c)r.link(K,i)}var z=new Uint16Array(M);z.fill(65535);var R=new Uint16Array(M);
for(var m=0;m<M;m++){var C=r.find(m);if(z[C]==65535)z[C]=h++;R[m]=z[C]}var G=new Uint16Array(n);for(var m=0;
m<n;m++)G[m]=R[u[m]];return{pQ:G,Oz:h}};_.r7.ajm=function(x,F,E,f){var c=_.Q(E),M=F.length,n=0;for(var m=0;
m<M&&n!=3;m++){var X=f[m];if(X==0||X==255){var u=F[m],I=2-(X>>>7);c[u]=n=c[u]|I}}return n!=3};function t(x,F,E,f,c,M,n){var X=(c*F+f)*4,u=M[n+5],I=1/u,r=x[X]*u-M[n],J=x[X+1]*u-M[n+1],U=x[X+2]*u-M[n+2],K=f*u-M[n+3],i=c*u-M[n+4],z=Math.sqrt(r*r+J*J+U*U),h=Math.sqrt(K*K+i*i);
return~~((z+E*h)*I+.5)}function j(x,F,E,f){var c=1/x[E+5],M=1/x[f+5],n=x[E]*c-x[f]*M,X=x[E+1]*c-x[f+1]*M,u=x[E+2]*c-x[f+2]*M,I=x[E+3]*c-x[f+3]*M,r=x[E+4]*c-x[f+4]*M,J=Math.sqrt(n*n+X*X+u*u),U=Math.sqrt(I*I+r*r);
return~~(J+F*U+.5)}function e(x,F,E){var f=_.D2(x,new bd(0,0,F,E)),c=f.rect.m,M=f.rect.n,n=a(f.rg,c,M),X=n.pQ,u=Date.now(),I=new Uint16Array(F*E);
I.fill(65535);for(var r=0;r<M;r++){for(var J=0;J<c;J++){var U=r*c+J,m=(r<<1)*F+(J<<1),K=X[U];if(X[U-c]!=K||X[U-1]!=K||X[U+1]!=K||X[U+c]!=K)K=65535;
I[m]=K;I[m+1]=K;I[m+F]=K;I[m+F+1]=K}}n.pQ=I;return n}function v(x,F){var m=0,E=x.length;while(m!=E&&x[m]!=F)m+=2;
return m==E?-1:m}function L(x,m){if(m==x.length-2){x.pop();x.pop()}else{x[m+1]=x.pop();x[m]=x.pop()}}_.r7.alW=function(x,F,E,f,c){var M=new Uint32Array(c*4400),o=[];
for(var m=0;m<c;m++)o.push([]);for(var n=0;n<E;n++)for(var X=0;X<F;X++){var m=n*F+X,u=m<<2,I=f[m],r=0,J=x[u]>>>4,U=x[u+1]>>>4,K=x[u+2]>>>4;
M[I*4400+(J<<8|U<<4|K)]++;M[I*4400+4096]++;M[I*4400+4100+(J<<4|U)]++;M[I*4400+4360+J]++;if(X!=0&&(r=f[m-1])!=I&&v(o[I],r)==-1){o[I].push(r,0);
o[r].push(I,0)}if(n!=0&&(r=f[m-F])!=I&&v(o[I],r)==-1){o[I].push(r,0);o[r].push(I,0)}}for(var m=0;m<c;
m++){var K=o[m];for(var i=0;i<K.length;i+=2)K[i+1]=Q(M,m,K[i])}return[M,o]};function H(x,F,E,f){var c=_.Q(E);
for(var m=0;m<f;m++){var M=x[m];if(M==0||M==255)c[F[m]]=2-(M>>>7)}return c}_.r7.a9z=function(x,F,E,f,c,M,n){var X=F*E,u=n[0],o=n[1],I=new UnionFind(f),r=H(c,x,f,X),J=-1,U=!0,K=0;
for(var m=0;m<f;m++)if(r[m]==1){if(J==-1)J=m;else I.link(m,J)}if(J==-1){for(var m=0;m<X;m++)M[m]=c[m]==255?255:0;
return}while(U){while(U){U=!1;for(var m=0;m<f;m++){if(r[m]==0){var i=w(o[m]);if(r[i]==1){r[m]=r[i];U=!0;
I.link(m,i)}}}}U=!0;K=0;while(U){U=!1;for(var m=0;m<f;m++){if(r[m]==0){var i=w(o[m]);if(r[i]==0){var z=m*4400,h=i*4400;
for(var R=0;R<4400;R+=2){u[z+R]+=u[h+R];u[z+R+1]+=u[h+R+1]}P(o,u,m,i);K++;r[i]=3;U=!0;I.link(m,i)}}}}U=K!=0}var C=I.find(J);
for(var m=0;m<f;m++)r[m]=I.find(m)==C?255:0;for(var m=0;m<X;m++){M[m]=r[x[m]]}for(var m=0;m<X;m++){var i=c[m];
if(i==0||i==255)M[m]=i}};function w(x){var F=0,E=0,f=x.length;for(var c=0;c<f;c+=2){var M=x[c+1];if(M>E){E=M;
F=c}}return x[F]}function P(o,x,F,E){var f=o[F],c=o[E];L(f,v(f,E));L(c,v(c,F));for(var m=0;m<c.length;
m+=2){var M=c[m],n=o[M];L(n,v(n,E));if(v(n,F)==-1){n.push(F,0);f.push(M,0)}}for(var m=0;m<f.length;m+=2){var M=f[m],n=o[M],X=Q(x,F,M);
f[m+1]=X;n[v(n,F)+1]=X}}function Q(x,F,E){var f=0,c=4096,M=F*4400,n=E*4400;for(var X=0;X<16;X++){if(x[M+4360+X]==0||x[n+4360+X]==0)continue;
for(var u=0;u<16;u++){var I=X<<4|u;if(x[M+4100+I]==0||x[n+4100+I]==0)continue;var r=M+(I<<4),J=n+(I<<4);
for(var m=0;m<16;m++)f+=Math.sqrt(x[r+m]*x[J+m])}}var U=f/Math.sqrt(x[M+c]*x[n+c]);return~~(999.99999*U)}return a}();
_.f0={};_.f0.ar_=function(){var g=11,o=7,k=g>>>1,cy=o>>>1,y=2,d=2e3/y,b=[],a=null,t="";function T(e,v,L){var H=(e[v+0]-e[L+0])*(1/255),w=(e[v+1]-e[L+1])*(1/255),P=(e[v+2]-e[L+2])*(1/255),Q=(e[v+3]-e[L+3])*(1/255),x=H*H*.125+w*w*.25+P*P*.5+Q*Q;
return b[~~(x*d)]}function j(e,v,L,H,w,P){var Q=Date.now(),x=_.Q(v*L);_.h4(e,x);var F=UZIP.adler(x,0,v*L);
if(F!=t){var E=_.Jf(x,v,L);a=_.Q(v*L*4);t=F;var f=[1,1/9,1/25,1/49,1/81];for(var c=0;c<L;c++)for(var M=0;
M<v;M++)for(var m=0;m<4;m++){var n=Math.max(1,M-m),X=Math.min(v-1,M+m),u=Math.max(1,c-m),I=Math.min(L-1,c+m),r=_.d5(E,v,n,X,u,I);
if(isNaN(r))throw M+","+c+","+m+","+r;a[(c*v+M)*4+m]=r*f[m]}}if(gl.yu){var J=gl.IJ(0,v,L);J.set(e);var U=gl.IJ(1,v,L);
U.set(a);var K=gl.IJ(2,v,L);gl.z9(K);gl.filter.TK({type:gl.filter.a6a,mf:new Float32Array([1/v,1/L]),amd:U.fn,ajt:w,ayS:P},J.fn);
K.get(H)}else{for(var m=0;m<2e3;m++)b[m]=Math.exp(-(m/2e3)*y*(100+(1-w)*(1-w)*1e4));var i=cy+2;for(var c=i;
c<L-i;c++)for(var M=i;M<v-i;M++){var z=0,h=0,R=0,C=0;for(var G=0;G<g;G++)for(var W=0;W<g;W++){var A=M+W-k,$=c+G-k;
if(A==M&&$==c||A<i||$<i||A>=v-i||$>=L-i)continue;var O=T(a,(c*v+M)*4,($*v+A)*4),Y=$*v+A<<2;z+=O*e[Y+0];
h+=O*e[Y+1];R+=O*e[Y+2];C+=O}if(C==0){continue}var l=1/C,B=(c*v+M)*4;H[B+0]=~~((1-P)*l*z+P*H[B+0]);H[B+1]=~~((1-P)*l*h+P*H[B+1]);
H[B+2]=~~((1-P)*l*R+P*H[B+2])}}}return j}();_.auM=function(){var g=6,o=g>>>1,k=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],y=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function d(P,Q){var x=!1,F=P.length,E=Q[0],n=5,u=0,I=0;for(var m=1;m<F;m++)E=E.gO(Q[m]);if((E.m&1)!=0)E.m++;
if((E.n&1)!=0)E.n++;var f=E.m,c=E.n,M=Math.max(f,c);while(M>>>n>8&&n<10)n++;var X=1<<n;if(f%X!=0)u=X-f%X;
if(c%X!=0)I=X-c%X;E.pK(u>>>1,I>>>1);f=E.m;c=E.n;if(f%X!=0||c%X!=0)throw"e";var r=Date.now(),J=[],U=_.Q(E.O()),K=[],i=f*c,z=new Float32Array(f*c*2);
for(var m=0;m<F;m++){var h=Q[m],R=_.Q(h.O());_.h4(P[m],R);U.fill(0);_.sQ(R,h,U,E);J.push(U.slice(0));
var C=h.x-E.x,G=h.y-E.y,W=C+h.m-2,A=G+h.n;for(var $=0;$<h.n;$++){var O=($+G)*f;for(var Y=0;Y<C;Y++)U[O+Y]=U[O+C];
for(var Y=W;Y<f;Y++)U[O+Y]=U[O+W-1]}for(var Y=0;Y<f;Y++){for(var $=0;$<G;$++)U[$*f+Y]=U[G*f+Y];for(var $=A;
$<c;$++)U[$*f+Y]=U[(A-1)*f+Y]}var l=new Float32Array(f*c*2);K.push(l);for(var B=0;B<i;B++)l[B*2]=U[B]*(1/255);
t(l,z,f,c,n);b(l,f,c,n)}if(x)console.log("to gray, decompose",Date.now()-r);r=Date.now();var f4=_.Q(f*c);
for(var $=0;$<c;$++)for(var Y=0;Y<f;Y++){var V=0,q=0,s=$*f+Y<<1;for(var m=0;m<F;m++){var cW=K[m],dk=cW[s],kr=cW[s+1],j9=dk*dk+kr*kr;
if(j9>q){q=j9;V=m}}f4[s>>>1]=V}if(x)console.log("max abs value",Date.now()-r);r=Date.now();T(f4,f,c,n);
a(f4,f,c);if(x)console.log("denoise",Date.now()-r);r=Date.now();var bh=z.slice(0);for(var $=0;$<c;$++)for(var Y=0;
Y<f;Y++){var m=$*f+Y,s=m<<1,fe=K[f4[m]];bh[s]=fe[s];bh[s+1]=fe[s+1]}j(bh,z,f,c,n);if(x)console.log("compose",Date.now()-r);
r=Date.now();for(var B=0;B<i;B++){var j9=bh[B*2]*255,V=0,q=1e9;for(var m=0;m<F;m++){var gg=Math.abs(J[m][B]-j9);
if(gg<q){q=gg;V=m}J[m][B]=0}J[V][B]=255}if(x)console.log("toRGB",Date.now()-r);r=Date.now();return[J,E]}function b(P,Q,x,F){var E=Q>>>F,f=x>>>F,c=1e-4;
for(var M=0;M<x;M++)for(var n=0;n<Q;n++){if(n<E&&M<f)continue;var X=(M*Q+n)*2,u=P[X],I=P[X+1],r=u*u+I*I;
if(r<c)u=I=0;else{var J=(r-c)/r;u*=J;I*=J}P[X]=u;P[X+1]=I}}function T(P,Q,x,F){for(var E=0;E<F;E++){var f=Q>>>E,c=x>>>E,M=f>>>1,n=c>>>1;
for(var X=0;X<n;X++)for(var u=0;u<M;u++){var I=X*Q+M+u,r=(X+n)*Q+M+u,J=(X+n)*Q+u,U=P[I],K=P[r],i=P[J];
if(U==K==i){}else if(U==K)P[J]=U;else if(K==i)P[I]=K;else if(U==i)P[r]=U}}}function a(P,Q,x){for(var F=1;
F<x-1;F++)for(var E=1;E<Q-1;E++){var m=F*Q+E,f=P[m-Q],c=P[m-1],M=P[m],n=P[m+1],X=P[m+Q],u=f==c&&f==n||f==n&&n==X||n==X&&c==X||f==c&&X==c;
if(u)P[m]=f==c?f:c==n?c:f;else if(M>f&&M>c&&M>n&&M>X)P[m]=f+c+n+X>>>2;else if(M<f&&M<c&&M<n&&M<X)P[m]=f+c+n+X>>>2}}function t(P,Q,x,F,E){for(var m=0;
m<E;m++){var f=x>>>m,c=F>>>m;e(P,Q,x,F,f,c)}}function j(P,Q,x,F,E){for(var m=E-1;m>=0;m--){var f=x>>m,c=F>>m;
v(P,Q,x,F,f,c)}}function e(P,Q,x,F,E,f){H(P,Q,x,F,E,f,!0);H(Q,P,x,F,E,f,!1)}function v(P,Q,x,F,E,f){w(P,Q,x,F,E,f,!0);
w(Q,P,x,F,E,f,!1)}function L(P,Q,x,F,E,f){var c=x*F+Q<<1;P[c]=E;P[c+1]=f}function H(P,Q,x,F,E,f,c){var bc=c?E:f,M=c?f:E,n=M>>>1;
for(var X=0;X<bc;X++){for(var u=0;u<M;u+=2){var I=0,r=0,J=0,U=0,K=u>>>1;for(var i=0;i<6;i++){var z=u+i-3;
if(z<0)z=M+z;if(z>=M)z=z-M;var h=(c?z*x+X:X*x+z)<<1,R=P[h],C=P[h+1],G=k[i],W=y[i];I+=R*G[0]-C*G[1];r+=C*G[0]+R*G[1];
J+=R*W[0]-C*W[1];U+=C*W[0]+R*W[1]}if(c){L(Q,X,K,x,I,r);L(Q,X,K+n,x,J,U)}else{L(Q,K,X,x,I,r);L(Q,K+n,X,x,J,U)}}}}function w(P,Q,x,F,E,f,c){var bc=c?E:f,M=c?f:E,n=M>>>1,X,u,I,r;
for(var J=0;J<bc;J++){for(var U=0;U<M;U++){var K=0,i=0;for(var z=U+3&1;z<6;z+=2){var h=U-z+3>>1;if(h<0)h=n+h;
if(h>=n)h=h-n;if(c){X=J;u=h;I=J;r=h+n}else{u=J;X=h;r=J;I=h+n}var R=u*x+X<<1,C=r*x+I<<1,G=P[R],W=P[R+1],A=P[C],$=P[C+1],O=k[z],Y=y[z];
K+=G*O[0]+A*Y[0];K+=W*O[1]+$*Y[1];i+=W*O[0]+$*Y[0];i-=G*O[1]+A*Y[1]}if(c)L(Q,J,U,x,K,i);else L(Q,U,J,x,K,i)}}}return{lS:d}}();
var aO=function(){function g(){this.O=0;this.eR=0;this.lv={};this.h9=[];this.Lz=1e5;this.j$=1e5;this.n0=-1;
this.MV=-1;this.color=0}function o(cy){this.Q3=cy;this.oj=new Array(cy);this._I=new Array(cy*6);this.amp=0;
this._n=new Array(cy*2);this.alpha=new Array(cy);this.vG=new Array(cy);this.nZ=new Array(cy)}function k(d,b,T,a){function t(Q,x,d,b){return d[b*x+Q]}function j(m){var n=d.length;
while(m<n&&d[m]==0)m++;return m<n?m:-1}function e(Q,x,n){for(var m=2;m<5;m++){var X=0;for(var u=-m+1;
u<=m-1;u++){X+=t(Q+u,x+m-1,d,b)==n?1:-1;X+=t(Q+m-1,x+u-1,d,b)==n?1:-1;X+=t(Q+u-1,x-m,d,b)==n?1:-1;X+=t(Q-m,x+u,d,b)==n?1:-1}if(X>0)return 1;
else if(X<0)return 0}return 0}function v(n,w){var P=new g,Q=n,x=w,X=0,u=1,I;P.color=d[w*b+n];P.sign=t(n,w,d,b)==P.color?"+":"-";
while(1){P.h9.push(Q,x);if(Q>P.n0)P.n0=Q;if(Q<P.Lz)P.Lz=Q;if(x>P.MV)P.MV=x;if(x<P.j$)P.j$=x;P.eR++;Q+=X;
x+=u;P.O-=Q*u;if(Q==n&&x==w)break;var r=t(Q+(X+u-1>>1),x+(u-X-1>>1),d,b)==P.color,J=t(Q+(X-u-1>>1),x+(u+X-1>>1),d,b)==P.color;
if(J&&!r){if(a.Q_=="right"||a.Q_=="black"&&P.sign=="+"||a.Q_=="white"&&P.sign=="-"||a.Q_=="majority"&&e(Q,x,P.color)||a.Q_=="minority"&&!e(Q,x,P.color)){I=X;
X=-u;u=I}else{I=X;X=u;u=-I}}else if(J){I=X;X=-u;u=I}else if(!r){I=X;X=u;u=-I}}return P}var L=0,H=[];
while(!0){var L=j(L);if(L==-1)break;var w=Math.floor(L/b),P=v(L-w*b,w);for(var m=0;m<P.h9.length-2;m+=2){var Q=P.h9[m],x=P.h9[m+1],F=x*b+Q;
if(Q==P.h9[m+2]&&x+1==P.h9[m+3]&&d[F]!=0)aO.fill(F,d,b,0)}if(P.O>a.ayh)H.push(P)}for(var m=0;m<H.length;
m++)H[m].parent=-1;var E=Date.now();for(var m=1;m<H.length;m++){var f=H[m];for(var c=m-1;c>=0;c--){var M=H[c];
if(f.Lz<M.Lz||f.n0>M.n0||f.j$<M.j$||f.MV>M.MV)continue;if(!aO.OA(M.h9,f.h9[0]+.5,f.h9[1]+.5))continue;
f.parent=c;break}}return H}function y(d,b){function T(X,u,I,r,J){this.x=X;this.y=u;this.L$=I;this.Jm=r;
this.S$=J}function a(X,cy){return(cy+X)%cy}function t(X,u,I,r){return X*r-I*u}function j(X,u,I,r){return X*I+u*r}function e(X,u,I){if(X<=I)return X<=u&&u<I;
else return X<=u||u<I}function v(X,u,I){var r=0;r+=u*X[0]*u;r+=u*X[1]*I;r+=u*X[2];r+=I*X[3]*u;r+=I*X[4]*I;
r+=I*X[5];r+=X[6]*u;r+=X[7]*I;r+=X[8];return r}function L(X,u,I){return u+X*(I-u)}function H(X,u,I,r){var J=Math.sign(I-X),U=-Math.sign(r-u);
return J*(I-X)-U*(r-u)}function w(X,u){return Math.sqrt(X*X+u*u)}function P(X,u,I,r,J){var U=1-X;return U*U*U*u+3*(U*U*X)*I+3*(X*X*U)*r+X*X*X*J}function Q(X,u,I,r,J,U,K,i){var z=t(X,u,K,i),h=t(I,r,K,i),R=t(J,U,K,i),C=z-2*h+R,G=-2*z+2*h,W=z,A=G*G-4*C*W;
if(C==0||A<0)return-1;var $=Math.sqrt(A),O=(-G+$)/(2*C),Y=(-G-$)/(2*C);if(O>=0&&O<=1)return O;else if(Y>=0&&Y<=1)return Y;
else return-1}function x(n){var m,X,u;n.sI=n.h9[0];n.ano=n.h9[1];n.lE=[];var I=n.lE;I.push(new T(0,0,0,0,0));
for(m=0;m<n.eR;m++){X=n.h9[m<<1]-n.sI;u=n.h9[(m<<1)+1]-n.ano;I.push(new T(I[m].x+X,I[m].y+u,I[m].L$+X*u,I[m].Jm+X*X,I[m].S$+u*u))}}function F(n){var cy=n.eR,X=n.h9,u,I=new Array(cy),r=new Array(cy),J=new Array(4),U,K,i,z,h,R,C,G,W,A,$,m,O,Y,l,B,f4,V,q=0;
n.Ex=new Array(cy);for(m=cy-1;m>=0;m--){if(X[m<<1]!=X[q<<1]&&X[(m<<1)+1]!=X[(q<<1)+1])q=m+1;r[m]=q}for(m=cy-1;
m>=0;m--){var s=a(m+1,cy)<<1;J[0]=J[1]=J[2]=J[3]=0;u=(3+3*(X[s]-X[m<<1])+(X[s+1]-X[(m<<1)+1]))/2;J[u]++;
U=0;K=0;i=0;z=0;q=r[m];Y=m;while(1){$=0;u=(3+3*Math.sign(X[q*2]-X[Y*2])+Math.sign(X[q*2+1]-X[Y*2+1]))/2;
J[u]++;if(J[0]&&J[1]&&J[2]&&J[3]){I[m]=Y;$=1;break}W=X[q*2]-X[m*2];A=X[q*2+1]-X[m*2+1];if(t(U,K,W,A)<0||t(i,z,W,A)>0){break}if(Math.abs(W)<=1&&Math.abs(A)<=1){}else{h=W+(A>=0&&(A>0||W<0)?1:-1);
R=A+(W<=0&&(W<0||A<0)?1:-1);if(t(U,K,h,R)>=0){U=h;K=R}h=W+(A<=0&&(A<0||W<0)?1:-1);R=A+(W>=0&&(W>0||A<0)?1:-1);
if(t(i,z,h,R)<=0){i=h;z=R}}Y=q;q=r[Y];if(!e(q,m,Y)){break}}if($==0){C=Math.sign(X[q*2]-X[Y*2]);G=Math.sign(X[q*2+1]-X[Y*2+1]);
W=X[Y*2]-X[m*2];A=X[Y*2+1]-X[m*2+1];l=t(U,K,W,A);B=t(U,K,C,G);f4=t(i,z,W,A);V=t(i,z,C,G);O=1e7;if(B<0){O=Math.floor(l/-B)}if(V>0){O=Math.min(O,Math.floor(-f4/V))}I[m]=a(Y+O,cy)}}O=I[cy-1];
n.Ex[cy-1]=O;for(m=cy-2;m>=0;m--){if(e(m+1,I[m],O)){O=I[m]}n.Ex[m]=O}for(m=cy-1;e(a(m+1,cy),O,n.Ex[m]);
m--){n.Ex[m]=O}}function E(n){function X(n,m,u){var cy=n.eR,W=n.h9,A=n.lE,$,O,Y,l,B,r,f4,V,G,q,s,cW,dk,kr,j9=0;
if(u>=cy){u-=cy;j9=1}if(j9==0){$=A[u+1].x-A[m].x;O=A[u+1].y-A[m].y;l=A[u+1].Jm-A[m].Jm;Y=A[u+1].L$-A[m].L$;
B=A[u+1].S$-A[m].S$;r=u+1-m}else{$=A[u+1].x-A[m].x+A[cy].x;O=A[u+1].y-A[m].y+A[cy].y;l=A[u+1].Jm-A[m].Jm+A[cy].Jm;
Y=A[u+1].L$-A[m].L$+A[cy].L$;B=A[u+1].S$-A[m].S$+A[cy].S$;r=u+1-m+cy}s=(W[m<<1]+W[u<<1])/2-W[0];cW=(W[(m<<1)+1]+W[(u<<1)+1])/2-W[1];
kr=W[u<<1]-W[m<<1];dk=-(W[(u<<1)+1]-W[(m<<1)+1]);f4=(l-2*$*s)/r+s*s;V=(Y-$*cW-O*s)/r+s*cW;G=(B-2*O*cW)/r+cW*cW;
q=dk*dk*f4+2*dk*kr*V+kr*kr*G;return Math.sqrt(q)}var m,u,I,r,cy=n.eR,J=new Array(cy+1),U=new Array(cy+1),K=new Array(cy),i=new Array(cy+1),z=new Array(cy+1),h=new Array(cy+1),R,C,G;
for(m=0;m<cy;m++){G=a(n.Ex[a(m-1,cy)]-1,cy);if(G==m){G=a(m+1,cy)}if(G<m){K[m]=cy}else{K[m]=G}}u=1;for(m=0;
m<cy;m++){while(u<=K[m]){i[u]=m;u++}}m=0;for(u=0;m<cy;u++){z[u]=m;m=K[m]}z[u]=cy;I=u;m=cy;for(u=I;u>0;
u--){h[u]=m;m=i[m]}h[0]=0;J[0]=0;for(u=1;u<=I;u++){for(m=h[u];m<=z[u];m++){C=-1;for(r=z[u-1];r>=i[m];
r--){R=X(n,r,m)+J[r];if(C<0||R<C){U[m]=r;C=R}}J[m]=C}}n.a5O=I;n.ab5=new Array(I);for(m=cy,u=I-1;m>0;
u--){m=U[m];n.ab5[u]=m}}function f(n){function X(n,m,R,K,i,bh){var cy=n.eR,fe=n.lE,gg=0,G;while(R>=cy){R-=cy;
gg+=1}while(m>=cy){m-=cy;gg-=1}while(R<0){R+=cy;gg-=1}while(m<0){m+=cy;gg+=1}var a$=fe[R+1].x-fe[m].x+gg*fe[cy].x,dg=fe[R+1].y-fe[m].y+gg*fe[cy].y,iv=fe[R+1].Jm-fe[m].Jm+gg*fe[cy].Jm,aQ=fe[R+1].L$-fe[m].L$+gg*fe[cy].L$,dt=fe[R+1].S$-fe[m].S$+gg*fe[cy].S$,C=R+1-m+gg*cy;
K[bh]=a$/C;K[bh+1]=dg/C;var hY=(iv-a$*a$/C)/C,b9=(aQ-a$*dg/C)/C,i0=(dt-dg*dg/C)/C,gD=(hY+i0+Math.sqrt((hY-i0)*(hY-i0)+4*b9*b9))/2;
hY-=gD;i0-=gD;if(Math.abs(hY)>=Math.abs(i0)){G=Math.sqrt(hY*hY+b9*b9);if(G!=0){i[bh]=-b9/G;i[bh+1]=hY/G}}else{G=Math.sqrt(i0*i0+b9*b9);
if(G!=0){i[bh]=-i0/G;i[bh+1]=b9/G}}if(G==0){i[bh]=i[bh+1]=0}}var u=n.a5O,I=n.ab5,cy=n.eR,r=n.h9,J=n.sI,U=n.ano,K=new Array(u*2),i=new Array(u*2),z=new Array(u),h=new Array(3),m,R,C,G,O,Y,l,B,f4,V,q;
n.lv=new o(u);for(m=0;m<u;m++){R=I[a(m+1,u)];R=a(R-I[m],cy)+I[m];K[m<<1]=0;K[(m<<1)+1]=0;i[m<<1]=0;i[(m<<1)+1]=0;
X(n,I[m],R,K,i,m<<1)}for(m=0;m<u;m++){z[m]=[0,0,0,0,0,0,0,0,0];var W=i[m<<1]*i[m<<1]+i[(m<<1)+1]*i[(m<<1)+1],A=1/W;
if(W!=0){h[0]=i[(m<<1)+1];h[1]=-i[m<<1];h[2]=-h[1]*K[(m<<1)+1]-h[0]*K[m<<1];for(G=0;G<3;G++){z[m][G*3+0]=h[G]*h[0]*A;
z[m][G*3+1]=h[G]*h[1]*A;z[m][G*3+2]=h[G]*h[2]*A}}}var $=[0,0,0,0,0,0,0,0,0];for(m=0;m<u;m++){$[0]=$[1]=$[2]=$[3]=$[4]=$[5]=$[6]=$[7]=$[8]=$[9]=0;
var s=r[I[m]<<1]-J,cW=r[(I[m]<<1)+1]-U,dk=0,kr=0;R=a(m-1,u);for(G=0;G<9;G+=3){$[G+0]=z[R][G+0]+z[m][G+0];
$[G+1]=z[R][G+1]+z[m][G+1];$[G+2]=z[R][G+2]+z[m][G+2]}while(1){var j9=$[0]*$[4]-$[1]*$[3];if(j9!=0){dk=(-$[2]*$[4]+$[5]*$[0])/j9;
kr=($[2]*$[3]-$[5]*$[0])/j9;break}if($[0]>$[4]){h[0]=-$[1];h[1]=$[0]}else if($[4]){h[0]=-$[4];h[1]=$[3]}else{h[0]=1;
h[1]=0}var W=h[0]*h[0]+h[1]*h[1],A=1/W;h[2]=-h[1]*cW-h[0]*s;for(G=0;G<3;G++){$[G*3+0]+=h[G]*h[0]*A;$[G*3+1]+=h[G]*h[1]*A;
$[G*3+2]+=h[G]*h[2]*A}}O=Math.abs(dk-s);Y=Math.abs(kr-cW);if(O<=.5&&Y<=.5){n.lv._n[m<<1]=dk+J;n.lv._n[(m<<1)+1]=kr+U;
continue}l=v($,s,cW);f4=s;V=cW;if($[0]!=0){for(q=0;q<2;q++){kr=cW-.5+q;dk=-($[1]*kr+$[2])/$[0];O=Math.abs(dk-s);
B=v($,dk,kr);if(O<=.5&&B<l){l=B;f4=dk;V=kr}}}if($[4]!=0){for(q=0;q<2;q++){dk=s-.5+q;kr=-($[3]*dk+$[5])/$[4];
Y=Math.abs(kr-cW);B=v($,dk,kr);if(Y<=.5&&B<l){l=B;f4=dk;V=kr}}}for(G=0;G<2;G++){for(C=0;C<2;C++){dk=s-.5+G;
kr=cW-.5+C;B=v($,dk,kr);if(B<l){l=B;f4=dk;V=kr}}}n.lv._n[m<<1]=f4+J;n.lv._n[(m<<1)+1]=V+U}}function c(n){var X=n.lv.Q3,u=n.lv,m,I,r,J,U,K,i,z,h;
for(m=0;m<X;m++){I=a(m+1,X);r=a(m+2,X);var R=u._n[m<<1],C=u._n[(m<<1)+1],G=u._n[r<<1],W=u._n[(r<<1)+1],A=u._n[I<<1],$=u._n[(I<<1)+1],O=L(.5,G,A),Y=L(.5,W,$);
U=H(R,C,G,W);if(U!=0){J=t(A-R,$-C,G-R,W-C)/U;J=Math.abs(J);K=J>1?1-1/J:0;K=K*(1/.75)}else{K=4/3}u.vG[I]=K;
var l=3*I<<1;if(K>=b.a3x){u.oj[I]=0;u._I[l+0]=u._I[l+1]=0;u._I[l+2]=A;u._I[l+3]=$;u._I[l+4]=O;u._I[l+5]=Y}else{if(K<.55){K=.55}else if(K>1){K=1}var B=.5+.5*K;
u.oj[I]=1;u._I[l]=L(B,R,A);u._I[l+1]=L(B,C,$);u._I[l+2]=L(B,G,A);u._I[l+3]=L(B,W,$);u._I[l+4]=O;u._I[l+5]=Y}u.alpha[I]=K;
u.nZ[I]=.5}u.ajj=1}function M(n){function X(){this.QP=0;this.PB=0;this.QR=0;this.pN=0;this.sz=0;this.la=0;
this.ci=0;this.alpha=0}function u(n,m,R,aW,be,f4,V){var r=n.lv.Q3,hv=n.lv._I,b3=n.lv._n;if(m==R)return 1;
var gT=m,A=a(m+1,r),aB=a(gT+1,r),aQ=b3[m<<1],dt=b3[(m<<1)+1],bO=b3[A<<1],kf=b3[(A<<1)+1],iY=f4[aB];if(iY==0)return 1;
var gs=w(aQ-bO,dt-kf);for(gT=aB;gT!=R;gT=aB){var aB=a(gT+1,r),c1=a(gT+2,r),gK=b3[aB<<1],c4=b3[(aB<<1)+1],k6=b3[c1<<1],jk=b3[(c1<<1)+1];
if(f4[aB]!=iY)return 1;if(Math.sign(t(bO-aQ,kf-dt,k6-gK,jk-c4))!=iY)return 1;if(j(bO-aQ,kf-dt,k6-gK,jk-c4)<gs*w(gK-k6,c4-jk)*-.999847695156)return 1}var jt=a(m,r)*3+2<<1,j_=a(m+1,r)<<1,kw=a(R,r)<<1,eu=a(R,r)*3+2<<1,bh=hv[jt],fe=hv[jt+1],ak=b3[j_],cY=b3[j_+1],bG=b3[kw],j5=b3[kw+1],hI=hv[eu],jJ=hv[eu+1],q=b3[0],s=b3[1];
jt=R*3+2<<1;var ca=hv[jt],gI=hv[jt+1],$=V[R]-V[m];$-=t(ca-q,gI-s,ca-q,gI-s)/2;if(m>=R){$+=V[r]}var c3=ak-bh,fs=cY-fe,eS=bG-bh,bf=j5-fe,ef=hI-bh,hh=jJ-fe,fA=t(c3,fs,eS,bf),jS=t(c3,fs,ef,hh),dn=t(eS,bf,ef,hh),id=fA+dn-jS;
if(jS==fA)return 1;var B=dn/(dn-id),l=jS/(jS-fA),jy=jS*B/2;if(jy==0)return 1;var dG=$/jy,O=2-Math.sqrt(4-dG/.3);
aW.PB=L(B*O,bh,ak);aW.QR=L(B*O,fe,cY);aW.pN=L(l*O,hI,bG);aW.sz=L(l*O,jJ,j5);aW.alpha=O;aW.la=B;aW.ci=l;
ak=aW.PB;cY=aW.QR;bG=aW.pN;j5=aW.sz;aW.QP=0;for(gT=a(m+1,r);gT!=R;gT=aB){aB=a(gT+1,r);var cw=b3[gT<<1],d2=b3[(gT<<1)+1],gK=b3[aB<<1],c4=b3[(aB<<1)+1];
B=Q(ak-bh,cY-fe,bG-ak,j5-cY,hI-bG,jJ-j5,gK-cw,c4-d2);if(B<-.5)return 1;var fj=P(B,bh,ak,bG,hI),aH=P(B,fe,cY,j5,jJ),gs=w(gK-cw,c4-d2);
if(gs==0)return 1;var gE=t(gK-cw,c4-d2,fj-cw,aH-d2)/gs;if(Math.abs(gE)>be)return 1;if(j(gK-cw,c4-d2,fj-cw,aH-d2)<0||j(cw-gK,d2-c4,fj-gK,aH-c4)<0){return 1}aW.QP+=gE*gE}for(gT=m;
gT!=R;gT=aB){aB=a(gT+1,r);var jt=gT*3+2<<1,j_=aB*3+2<<1,iQ=hv[jt],a_=hv[jt+1],iP=hv[j_],jY=hv[j_+1];
B=Q(ak-bh,cY-fe,bG-ak,j5-cY,hI-bG,jJ-j5,iP-iQ,jY-a_);if(B<-.5)return 1;var fj=P(B,bh,ak,bG,hI),aH=P(B,fe,cY,j5,jJ),gs=w(iP-iQ,jY-a_);
if(gs==0)return 1;var gE=t(iP-iQ,jY-a_,fj-iQ,aH-a_)/gs,iX=t(iP-iQ,jY-a_,b3[aB<<1]-iQ,b3[(aB<<1)+1]-a_)/gs;
iX*=.75*n.lv.alpha[aB];if(iX<0){gE=-gE;iX=-iX}if(gE<iX-be)return 1;if(gE<iX){aW.QP+=(gE-iX)*(gE-iX)}}return 0}var I=n.lv,r=I.Q3,J=I._n,U=new Array(r+1),K=new Array(r+1),i=new Array(r+1),z=new Array(r+1),h,m,R,C,G=new X,W,A,$,O,Y,l,B,f4=new Array(r),V=new Array(r+1);
for(m=0;m<r;m++){if(I.oj[m]=="CURVE"){var q=J[a(m-1,r)<<1],s=J[(a(m-1,r)<<1)+1],cW=J[m<<1],dk=J[(m<<1)+1],kr=J[a(m+1,r)<<1],j9=J[(a(m+1,r)<<1)+1];
f4[m]=Math.sign(t(cW-q,dk-s,kr-cW,j9-dk))}else{f4[m]=0}}$=0;V[0]=0;var bh=I._n[0],fe=I._n[1];for(m=0;
m<r;m++){A=a(m+1,r);if(I.oj[A]=="CURVE"){O=I.alpha[A];var gg=m*3+2<<1,a$=A*3+2<<1,dg=I._I[gg],iv=I._I[gg+1],aQ=J[A<<1],dt=J[(A<<1)+1],hY=I._I[a$],b9=I._I[a$+1];
$+=.3*O*(4-O)*t(aQ-dg,dt-iv,hY-dg,b9-iv)/2;$+=t(dg-bh,iv-fe,hY-bh,b9-fe)/2}V[m+1]=$}U[0]=-1;K[0]=0;i[0]=0;
for(R=1;R<=r;R++){U[R]=R-1;K[R]=K[R-1];i[R]=i[R-1]+1;for(m=R-2;m>=0;m--){C=u(n,m,a(R,r),G,b.auP,f4,V);
if(C){break}if(i[R]>i[m]+1||i[R]==i[m]+1&&K[R]>K[m]+G.QP){U[R]=m;K[R]=K[m]+G.QP;i[R]=i[m]+1;z[R]=G;G=new X}}}h=i[r];
Y=new o(h);l=new Array(h);B=new Array(h);R=r;for(m=h-1;m>=0;m--){var i0=a(R,r),gD=m*3+0<<1,hU=i0*3+0<<1;
if(U[R]==R-1){Y.oj[m]=I.oj[i0];Y._I[gD]=I._I[hU];Y._I[gD+1]=I._I[hU+1];Y._I[gD+2]=I._I[hU+2];Y._I[gD+3]=I._I[hU+3];
Y._I[gD+4]=I._I[hU+4];Y._I[gD+5]=I._I[hU+5];Y._n[m<<1]=I._n[i0<<1];Y._n[(m<<1)+1]=I._n[(i0<<1)+1];Y.alpha[m]=I.alpha[i0];
Y.vG[m]=I.vG[i0];Y.nZ[m]=I.nZ[i0];l[m]=B[m]=1}else{Y.oj[m]="CURVE";Y._I[gD]=z[R].PB;Y._I[gD+1]=z[R].QR;
Y._I[gD+2]=z[R].pN;Y._I[gD+3]=z[R].sz;Y._I[gD+4]=I._I[hU+4];Y._I[gD+5]=I._I[hU+5];Y._n[m<<1]=L(z[R].ci,I._I[hU+4],J[i0<<1]);
Y._n[(m<<1)+1]=L(z[R].ci,I._I[hU+5],J[(i0<<1)+1]);Y.alpha[m]=z[R].alpha;Y.vG[m]=z[R].alpha;l[m]=z[R].ci;
B[m]=z[R].la}R=U[R]}for(m=0;m<h;m++){A=a(m+1,h);Y.nZ[m]=l[m]/(l[m]+B[A])}Y.ajj=1;n.lv=Y}for(var m=0;
m<d.length;m++){var n=d[m];x(n);F(n);E(n);f(n);c(n);if(b.ai2)M(n)}}return{asb:k,aed:y}}();aO.RB=function(g,o,k,y){var d={Q_:"minority",ayh:y,ai2:!0,a3x:1,auP:.2},b=aO.asb(g,o,k,d);
aO.aed(b,d);return b};aO.uM=function(g){var o=[];for(var m=0;m<g.length;m++){var k=g[m],y=k.lv,d=["M"],b=[y._I[(y.Q3-1)*6+4],y._I[(y.Q3-1)*6+5]];
for(var T=0;T<y.Q3;T++){var a=T*6;if(y.oj[T]==1){d.push("C");for(var t=0;t<6;t++)b.push(y._I[a+t])}else if(y.oj[T]==0){d.push("L");
for(var t=2;t<4;t++)b.push(y._I[a+t])}}d.push("Z");o.push({parent:k.parent,color:k.color,path:{j:b,F:d}})}return o};
aO.OA=function(g,o,k){var cy=g.length>>1,y,d=g[2*cy-3]-k,b=g[2*cy-2]-o,T=g[2*cy-1]-k,a=T>d,t=0;for(var m=0;
m<cy;m++){y=b;d=T;b=g[2*m]-o;T=g[2*m+1]-k;if(d==T)continue;a=T>d}for(var m=0;m<cy;m++){y=b;d=T;b=g[2*m]-o;
T=g[2*m+1]-k;if(d<0&&T<0)continue;if(d>0&&T>0)continue;if(y<0&&b<0)continue;if(d==T&&Math.min(y,b)<=0)return!0;
if(d==T)continue;var j=y+(b-y)*-d/(T-d);if(j==0)return!0;if(j>0)t++;if(d==0&&a&&T>d)t--;if(d==0&&!a&&T<d)t--;
a=T>d}return(t&1)==1};aO.fill=function(g,o,k,y){var d=o[g],b=[g],T=0;while(T<b.length){var a=b[T];T++;
o[a]=y;if(o[a-k]==d){b.push(a-k);o[a-k]=254}if(o[a-1]==d){b.push(a-1);o[a-1]=254}if(o[a+1]==d){b.push(a+1);
o[a+1]=254}if(o[a+k]==d){b.push(a+k);o[a+k]=254}}};var dD=function(){function g(a){return Math.max(0,Math.min(1,a))}function o(a,t){var j=t<0?-t:t;
if(a>1)a=.99;a=a*.99;var e=Math.pow(j/5,.16),v=Math.pow(2,j<1?j:1+(j-1)*.8);if(t<0)v=1/v;a=e*(1-Math.pow(1-a,v))+(1-e)*a;
return a}function k(a,t){var j=t/100;a=a*.99;a=j*(.5-.5*Math.cos(a*Math.PI))+(1-j)*a;return a}var y=_.x1.aty(1,1,1,-.3),d=_.x1.TY(y);
function b(a,t,j,e,v,L,H){var w=a[j],P=a[j+1],Q=a[j+2],x=_.x1.hi(y,[w,P,Q,1]);w=x[0];P=x[1];Q=x[2];w=o(w,e);
P=o(P,e);Q=o(Q,e);var x=_.x1.hi(d,[w,P,Q,1]);w=x[0];P=x[1];Q=x[2];w=g(w);P=g(P);Q=g(Q);w=k(w,v);P=k(P,v);
Q=k(Q,v);var F=eU.a0h(w,P,Q,L);w=F[0];P=F[1];Q=F[2];w=g(w);P=g(P);Q=g(Q);if(H){var E=new Uint8Array(4);
E[0]=~~(.5+w*255);E[1]=~~(.5+P*255);E[2]=~~(.5+Q*255);aj.mn(H,E,E,new bd(0,0,1,1));w=E[0]/255;P=E[1]/255;
Q=E[2]/255}t[j]=w;t[j+1]=P;t[j+2]=Q}function T(a,t,j,e,v,L){var H=v.Temp?v.Temp.v:0,w=v.Tint?v.Tint.v:0,P=v.Ex12?v.Ex12.v:0,Q=v.Cr12?v.Cr12.v:0,x=v.Vibr?v.Vibr.v:0,F=v.Strt?v.Strt.v:0,E=eU.VH(H,w),f=null;
P+=E.ax_;if(x!=0||F!=0)f=aj.f_("vibA",{Strt:v.Strt,vibrance:v.Vibr});console.log(f);var c=Date.now();
if(L){var M=Math.pow(2,P),n=a.length;P=0;var X=new Float32Array(4e3);for(var m=0;m<4e3;m++){var u=m*(1/1e3);
u=_.$k(u);u*=M;u=_.WW(u);u=g(u);X[m]=u}for(var m=0;m<n;m+=3){e[m]=X[~~(a[m]*1e3)];e[m+1]=X[~~(a[m+1]*1e3)];
e[m+2]=X[~~(a[m+2]*1e3)]}console.log(Date.now()-c,"Exposure normalizing");c=Date.now()}else e.set(a);
if(P!=0||Q!=0||H!=0||w!=0||f){var I=17,r=1/(I-1),J=I*I*I,U=new Array(J*3);for(var K=0;K<I;K++)for(var i=0;
i<I;i++)for(var z=0;z<I;z++){var m=K*I*I+i*I+z,h=m*3;U[h]=K*r;U[h+1]=i*r;U[h+2]=z*r}for(var m=0;m<J;
m++)b(U,U,m*3,P,Q,E,f);console.log(Date.now()-c,"making LUT");c=Date.now();ICC.U.applyLUTFloat(U,I,e,e);
console.log(Date.now()-c,"applying LUT");c=Date.now()}}return T}();function a6(){}a6.Qt=function(g){var o=new Uint8Array(g),k=0,y={sc:[],Uu:[],list:[]},d=S.EN(o,k);
k+=2;if(d<=2){return a6.a5M(o)}var b=S.EN(o,k);k+=2;var T=S.lp(o,k,8);k+=8;var a=S.q(o,k);k+=4;if(a>0)y.sc=a6.xV(o,k,a,b,d);
k+=a;var t=S.lp(o,k,8);k+=8;var j=S.q(o,k);k+=4;if(j>0)y.Uu=cd.CT(o,k,j);k+=j;var e=S.lp(o,k,8);k+=8;
var v=S.q(o,k);k+=4;if(v>0){var L={};aF.SL(o,L,k+4);y.list=L.Brsh.v}k+=v;var H=y.list;for(var m=0;m<H.length;
m++){jl.XF.check(H[m].v)}return y};a6.X1=function(g,o){g.v.Nm.v=o};a6.a5M=function(g){var o={sc:[],Uu:[],list:[]},k=0,y=S.EN(g,k);
k+=2;var d=S.EN(g,k);k+=2;for(var m=0;m<d;m++){var b=S.EN(g,k);k+=2;var T=S.q(g,k);k+=4;var a=k;if(b==2){var t={};
o.sc.push(t);var j=S.q(g,a);a+=4;var e=S.EN(g,a);a+=2;if(y==2){var v=S.jN(g,a);a+=4+v.length*2+2}t.id=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";
a++;a+=8;t.KU=S.Kn(g,a);a+=16;var L=S.EN(g,a);a+=2;var H=g[a];a++;var w=hD.N3(!1,L,g,t.KU.m,t.KU.n,a,H);
a6.Lb(t,w);var P=jl.bZ(t.id),Q=P.Brsh.v;Q.Dmtr.v.val=t.KU.m;Q.Spcn.v.val=e;o.list.push({t:"Objc",v:P})}k+=T}return o};
a6.Z0=function(g){var o=new im,k=0,y=0;S.uD(o,k,6);k+=2;S.uD(o,k,2);k+=2;S.wJ(o,k,"8BIMsamp");k+=8;k+=4;
y=k;k=a6.vN(o,k,g.sc);S.PG(o,y-4,k-y);S.wJ(o,k,"8BIMpatt");k+=8;k+=4;y=k;k=cd.Jx(o,k,g.Uu);S.PG(o,y-4,k-y);
var d={classID:"null",Brsh:{t:"VlLs",v:g.list}};S.wJ(o,k,"8BIMdesc");k+=8;k+=4;y=k;S.PG(o,k,16);k+=4;
k+=aF.$n(o,d,k);S.PG(o,y-4,k-y);return o.data.slice(0,k).buffer};a6.xV=function(g,o,k,y,d){var b=S.q,T=S.Kn,a=o+k,t=[];
while(o<a){var j={};t.push(j);var e=b(g,o);o+=4;var v=o,L=S.Ol(g,o);o+=L.length;j.id=L.oJ;if(y==1){o+=9;
j.KU=T(g,o);o+=16}else{o+=7;var H=b(g,o);o+=4;j.KU=T(g,o);o+=16;var w=b(g,o);o+=4;o+=w*4;var P=b(g,o);
o+=4;var Q=b(g,o);o+=4;var x=T(g,o);o+=16}var F=S.EN(g,o);o+=2;var E=g[o];o+=1;var f=hD.N3(!1,F,g,j.KU.m,j.KU.n,o,E);
a6.Lb(j,f);if(e%4!=0)e+=4-e%4;o=v+e}return t};a6.Lb=function(g,o){var k=g.KU.clone();k.x=k.y=0;g.pR=[o,k]};
a6.vN=function(g,o,k){var y=S.PG,d=S._W;for(var m=0;m<k.length;m++){var b=k[m],T=o+4,t=56,e=1;o+=4;S.M5(g,o,b.id);
o+=b.id.length+2;g.e6(o,1);g.data[o]=1;o+=3;y(g,o,3);o+=4;var a=o;o+=4;d(g,o,b.KU);o+=16;y(g,o,t);o+=4;
o+=t*4;y(g,o-4,1);var j=o;o+=4;y(g,o,8);o+=4;d(g,o,b.KU);o+=16;S.uD(g,o,8);o+=2;g.e6(o,1);g.data[o]=e;
o++;var v=b.pR[0];g.e6(o,b.KU.O()*2);o=hD.lD(!1,v,g.data,b.KU.m,b.KU.n,o,e);g.e6(o,8);o+=8;var L=o-T;
y(g,T-4,L);y(g,a,L-49);y(g,j,L-305);if(L%4!=0)o+=4-L%4}return o};function cx(){}cx.Qt=function(g,o){var k=new Uint8Array(g),y=[],d=0,b=S.EN(k,d);
d+=2;if(b!=4){throw"Unknown version of curves: "+b}var T=S.EN(k,d);d+=2;for(var m=0;m<T;m++){var a=cx.lV(k,d);
d+=2+2*a.length;y.push(a)}if(d!=k.length){var t=S.lp(k,d,4);d+=4;var j=S.EN(k,d);d+=2;var e=S.EN(k,d);
d+=2;if(e!=0)throw"extra curves for channels"}var v=cx.kE(y,0);v.presetKind={t:"long",v:3};v.presetFileName={t:"TEXT",v:o.split("/").pop().split(".")[0]};
return[v]};cx.Hp=function(g,o,k){var y=o,d=[],b=g[o];o+=3;var T=S.q(g,o);o+=4;for(var m=0;m<4;m++){var a=T>>>m&1;
if(a){if(b==0){var t=cx.lV(g,o);o+=2+2*t.length}else{var t=cx.a2d(g,o);o+=256}d.push(t)}else d.push(b==0?[0,0,255,255]:cx.a57())}var j=cx.kE(d,b);
return j};cx.kE=function(g,o){var k=jf.J0("curv");for(var m=0;m<4;m++){if(o==0){var y=g[m],d=[];for(var b=0;
b<y.length;b+=2)d.push(_.wb.cC(y[b],y[b+1],!0));cx.SG(k,m,d)}else cx.SG(k,m,g[m])}return k};cx.H9=function(g,o,k){var y=[];
for(var m=0;m<4;m++){var d=cx.fo(k,m);if(d.length==256)y.push(d);else{var b=[];for(var T=0;T<d.length;
T++)b.push(d[T].v.Hrzn.v,d[T].v.Vrtc.v);y.push(b)}}var a=o,t=y[0].length==256?1:0;g.e6(o,3);g.data[o]=t;
g.data[o+1]=0;g.data[o+2]=1;o+=3;S.PG(g,o,15);o+=4;for(var m=0;m<4;m++){var j=y[m];if(t==0){cx.ah5(g,o,j);
o+=2+2*j.length}else{cx.akq(g,o,j);o+=256}}return o-a};cx.a57=function(){var g=[];for(var m=0;m<256;
m++)g.push(m);return g};cx.SG=function(g,o,k){var y=hA.bq("CrvA",o);if(k.length<256)y.Crv={t:"VlLs",v:k};
else{y.Mpng={t:"VlLs",v:[]};for(var m=0;m<256;m++)y.Mpng.v[m]={t:"long",v:k[m]}}y={t:"Objc",v:y};var d=g.Adjs.v,b=hA.cY(d,o);
if(b==-1)d.push(y);else d[b]=y};cx.fo=function(g,o){var k=g.Adjs.v,y=hA.cY(k,o);if(y==-1){if(k.length==0||k[0].v.Crv)return[_.wb.cC(0,0,!0),_.wb.cC(255,255,!0)];
if(k[0].v.autoMachineLearning||k[0].v.AuCo)return[_.wb.cC(0,0,!0),_.wb.cC(128,160,!0),_.wb.cC(255,255,!0)];
var d=[];for(var m=0;m<256;m++)d.push(m);return d}var b=k[y].v;if(b.Crv)return b.Crv.v;if(b.Mpng){var d=[];
for(var m=0;m<256;m++)d.push(b.Mpng.v[m].v);return d}return[_.wb.cC(0,0,!0),_.wb.cC(255,255,!0)]};cx.lV=function(g,o){var k=[],y=S.EN(g,o);
o+=2;for(var d=0;d<y;d++){var b=S.EN(g,o);o+=2;var T=S.EN(g,o);o+=2;k.push(T,b)}return k};cx.ah5=function(g,o,k){var y=k.length/2;
S.uD(g,o,y);o+=2;for(var d=0;d<y;d++){S.uD(g,o,k[d*2+1]);o+=2;S.uD(g,o,k[d*2+0]);o+=2}};cx.a2d=function(g,o){var k=[];
for(var m=0;m<256;m++)k.push(g[o+m]);return k};cx.akq=function(g,o,k){g.e6(o,256);for(var m=0;m<256;
m++)g.data[o+m]=k[m]};function c2(){}c2.Hp=function(g,o,k){var y={},d=S.EN(g,o);o+=2;y.r1=g[o]==1;o++;
o++;y.O1=[S.NW(g,o),S.NW(g,o+2),S.NW(g,o+4)];o+=6;y.Ry=[S.NW(g,o),S.NW(g,o+2),S.NW(g,o+4)];o+=6;y.dK=[];
for(var m=0;m<6;m++){var b={};b.Nv=[S.NW(g,o),S.NW(g,o+2),S.NW(g,o+4),S.NW(g,o+6)];o+=8;b.jU=[S.NW(g,o),S.NW(g,o+2),S.NW(g,o+4)];
o+=6;y.dK.push(b)}var T=jf.J0("hue2"),a=y;if(T.Clrz==null)T.Clrz={t:"bool",v:!1};T.Clrz.v=a.r1;for(var m=0;
m<7;m++){var t=m==0?a.r1?a.O1:a.Ry:a.dK[m-1];c2.SG(T,m,t)}return T};c2.a9J=function(g){return{classID:"Hst2",H:{t:"long",v:g[0]},Strt:{t:"long",v:g[1]},Lght:{t:"long",v:g[2]}}};
c2.cY=function(g,o){for(var m=0;m<g.length;m++){var k=g[m].v.LclR;if(o==0&&k==null||k!=null&&k.v==o)return m}return-1};
c2.SG=function(g,o,k){var y=o==0?k:k.jU,d=c2.a9J(y);if(o!=0){var b=k.Nv;d.LclR={t:"long",v:o},d.BgnR={t:"long",v:b[0]};
d.BgnS={t:"long",v:b[1]};d.EndS={t:"long",v:b[2]};d.EndR={t:"long",v:b[3]}}d={t:"Objc",v:d};var T=g.Adjs.v,a=c2.cY(T,o);
if(a==-1)T.push(d);else T[a]=d};c2.fo=function(g,o){var k=g.Adjs.v,y=c2.cY(k,o);if(y==-1){if(o==0)return[0,0,0];
else return[{Nv:[315,345,15,45],jU:[0,0,0]},{Nv:[15,45,75,105],jU:[0,0,0]},{Nv:[75,105,135,165],jU:[0,0,0]},{Nv:[135,165,195,225],jU:[0,0,0]},{Nv:[195,225,255,285],jU:[0,0,0]},{Nv:[255,285,315,345],jU:[0,0,0]}][o-1]}var d=k[y].v,b=[d.H.v,d.Strt.v,d.Lght.v];
if(o==0)return b;return{jU:b,Nv:[d.BgnR.v,d.BgnS.v,d.EndS.v,d.EndR.v]}};c2.H9=function(g,o,k){var y={r1:k.Clrz?k.Clrz.v:!1,dK:[]};
y.O1=y.Ry=c2.fo(k,0);for(var m=1;m<7;m++)y.dK.push(c2.fo(k,m));var d=2+2+12+6*14,b=g.data;g.e6(o,d);
S.qC(b,o,2);o+=2;b[o]=y.r1?1:0;o++;o++;S.fD(b,o+0,y.O1[0]);S.fD(b,o+2,y.O1[1]);S.fD(b,o+4,y.O1[2]);o+=6;
S.fD(b,o+0,y.Ry[0]);S.fD(b,o+2,y.Ry[1]);S.fD(b,o+4,y.Ry[2]);o+=6;for(var m=0;m<6;m++){var T=y.dK[m].Nv,a=y.dK[m].jU;
S.fD(b,o+0,T[0]);S.fD(b,o+2,T[1]);S.fD(b,o+4,T[2]);S.fD(b,o+6,T[3]);o+=8;S.fD(b,o+0,a[0]);S.fD(b,o+2,a[1]);
S.fD(b,o+4,a[2]);o+=6}return d};function hA(){}hA.Qt=function(g){var o=new Uint8Array(g),k=2,y=[];for(var m=0;
m<29;m++){var d=[];y.push(d);for(var b=0;b<5;b++)d.push(S.EN(o,k+m*10+b*2))}k+=29*10;if(k<o.length){var T=S.lp(o,k,4);
k+=4;var a=S.EN(o,k);k+=2;var t=S.EN(o,k);k+=2;var j=t-29;for(var m=0;m<j;m++){var d=[];y.push(d);for(var b=0;
b<5;b++)d.push(S.EN(o,k+m*10+b*2))}}var e=jf.J0("levl");for(var m=0;m<4;m++)hA.SG(e,m,y[m]);return e};
hA.bq=function(g,m){var o=["Cmps","Rd","Grn","Bl"],k={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[m]}}]};
return{classID:g,Chnl:k}};hA.cY=function(g,o){var k={Cmps:0,Rd:1,Grn:2,Bl:3};for(var m=0;m<g.length;
m++){var y=g[m].v,d=k[y.Chnl.v[0].v.enum];if(d==o)return m}return-1};hA.SG=function(g,o,k){var y=hA.bq("LvlA",o);
y.Inpt={t:"VlLs",v:[{t:"long",v:k[0]},{t:"long",v:k[1]}]};y.Otpt={t:"VlLs",v:[{t:"long",v:k[2]},{t:"long",v:k[3]}]};
y.Gmm={t:"doub",v:k[4]/100};y={t:"Objc",v:y};var d=g.Adjs.v,b=hA.cY(d,o);if(b==-1)d.push(y);else d[b]=y};
hA.fo=function(g,o){var k=[0,255,0,255,100],y=g.Adjs.v,d=hA.cY(y,o);if(d==-1)return k;var b=y[d].v;if(b.Inpt){k[0]=b.Inpt.v[0].v;
k[1]=b.Inpt.v[1].v}if(b.Otpt){k[2]=b.Otpt.v[0].v;k[3]=b.Otpt.v[1].v}if(b.Gmm){k[4]=Math.round(b.Gmm.v*100)}return k};
hA.Z0=function(g,o){var k=[],y=0;for(var m=0;m<4;m++)k.push(hA.fo(o,m));while(k.length<29)k.push([0,255,0,255,100]);
g.e6(0,2+10*29);S.qC(g.data,y,2);y+=2;for(var m=0;m<29;m++){var d=k[m];for(var b=0;b<5;b++)S.qC(g.data,y+m*10+b*2,d[b])}y+=29*10;
if(k.length==29)return y;g.e6(y,8+10*(k.length-29));S.Ok(g.data,y,"Lvls");y+=4;S.qC(g.data,y,3);y+=2;
S.qC(g.data,y,k.length);y+=2;var T=k.length-29;for(var m=0;m<T;m++){var d=k[29+m];for(var b=0;b<5;b++)S.qC(g.data,y+m*10+b*2,d[b])}y+=10*T;
return y};function kc(){}kc.Qt=function(g){var o=new Uint8Array(g),k=2,y={Kp:[],ad:[]},d=S.lp(o,k,4);
k+=4;var b=S.EN(o,k);k+=2;var T=S.q(o,k);k+=4;y.Kp=cd.CT(o,k,T);k+=T;var a=S.q(o,k);k+=4;for(var m=0;
m<a;m++){var t=S.q(o,k);k+=4;var j=k,e={i8:{},GO:{}};y.ad.push(e);k+=4;k+=aF.SL(o,e.i8,k);k+=4;k+=aF.SL(o,e.GO,k);
k=j+t;var v=e.GO.blendOptions,L=e.GO.Lefx;if(v&&Object.keys(v.v).length>1){}if(L){if(L.v.masterFXSwitch==null)L.v.masterFXSwitch={t:"bool",v:!0};
i_.Yc(L.v)}}return y};kc.X1=function(g,o){g.i8.Nm.v=o};kc.Z0=function(g){var o=new im,k=0;S.uD(o,k,2);
k+=2;S.wJ(o,k,"8BSL");k+=4;S.uD(o,k,3);k+=2;var y=k;k+=4;k=cd.Jx(o,k,g.Kp);S.PG(o,y,k-y-4);var d=g.ad.length;
S.PG(o,k,d);k+=4;for(var m=0;m<d;m++){k+=4;var b=k,T=g.ad[m];S.PG(o,k,16);k+=4;k+=aF.$n(o,T.i8,k);var a=T.GO.Lefx;
if(a){T.GO.Lefx=JSON.parse(JSON.stringify(a));i_.dB(T.GO.Lefx.v)}S.PG(o,k,16);k+=4;k+=aF.$n(o,T.GO,k);
if(a)T.GO.Lefx=a;S.PG(o,b-4,k-b)}return o.data.slice(0,k).buffer};function az(){}az.Hp=function(g,o,k){var y=S.EN(g,o);
o+=2;var d={};d.TP=S.EN(g,o)==1;o+=2;d.Js=[];for(var m=0;m<10;m++){var b=[];d.Js.push(b);for(var T=0;
T<4;T++)b.push(S.NW(g,o+T*2));o+=8}var a=jf.J0("selc");a.Mthd.v.CrcM=d.TP?"Absl":"Rltv";for(var m=1;
m<10;m++)az.SG(a,m-1,d.Js[m]);return a};az.vY="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
az.bq=function(g,m){var o=["Cmps","Rd","Grn","Bl"],k={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[m]}}]};
return{classID:g,Chnl:k}};az.cY=function(g,o){var k=az.vY;for(var m=0;m<g.length;m++){var y=g[m].v,d=k.indexOf(y.Clrs.v.Clrs);
if(d==o)return m}return-1};az.SG=function(g,o,k){var y=["Cyn","Mgnt","Ylw","Blck"],d={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:az.vY[o]}}};
for(var b=0;b<4;b++)d[y[b]]={t:"UntF",v:{type:"#Prc",val:k[b]}};d={t:"Objc",v:d};var T=g.ClrC.v,a=az.cY(T,o);
if(a==-1)T.push(d);else T[a]=d};az.fo=function(g,o){var k=[0,0,0,0],y=g.ClrC.v,d=az.cY(y,o);if(d==-1)return k;
var b=["Cyn","Mgnt","Ylw","Blck"];for(var m=0;m<4;m++)if(y[d].v[b[m]])k[m]=y[d].v[b[m]].v.val;return k};
az.H9=function(g,o,k){var y={TP:k.Mthd.v.CrcM=="Absl",Js:[[0,0,0,0]]};for(var m=0;m<9;m++)y.Js.push(az.fo(k,m));
g.e6(o,84);S.qC(g.data,o,1);o+=2;S.qC(g.data,o,y.TP?1:0);o+=2;for(var m=0;m<10;m++){var d=y.Js[m];for(var b=0;
b<4;b++)S.fD(g.data,o+b*2,d[b]);o+=8}return 84};function gM(){}gM.J0=function(){return{rC:new bd(0,0,50,50),i8:"",xX:"play",a:_.w.qA.KO([.1,.1,.9,.5,.1,.9],0)}};
gM.Qt=function(g){g=new Uint8Array(g);var o=0,k=[],y=Date.now(),d=S.lp(g,0,4);o+=4;var b=S.q(g,o);o+=4;
var T=S.q(g,o);o+=4;for(var m=0;m<T;m++){var a=S.jN(g,o);o+=a.length*2+4+2;if((a.length&1)==0)o+=2;o=gM.XJ(g,o,a,k)}return k};
gM.XJ=function(g,o,k,y){var d=S.q(g,o);o+=4;var b=S.q(g,o);o+=4;var T=o,a=S.Ol(g,T).oJ;T+=a.length+1;
var t=S.Kn(g,T);T+=16;var j=gM.x9(g,T,b-(T-o)),e=_.w.GH(j),v=_.p.AU(e),L=1/v.m,H=1/v.n;_.w.cs(j,new d3(L,0,0,H,-v.x*L,-v.y*H));
y.push({xX:k,i8:a,a:j,rC:t});o+=b;return o};gM.X1=function(g,o){g.xX=o};gM.Z0=function(g){var o=new im,k=0;
S.wJ(o,k,"cush");k+=4;S.PG(o,k,2);k+=4;S.PG(o,k,g.length);k+=4;for(var m=0;m<g.length;m++){var y=g[m],d=y.xX+"\0";
S.dP(o,k,d);k+=4+d.length*2;if((d.length&1)==1)k+=2;S.PG(o,k,1);k+=4;k+=4;var b=k;S.M5(o,k,y.i8);k+=y.i8.length+1;
S._W(o,k,y.rC);k+=16;o.e6(k,y.a.length*26);gM.Ww(o.data,k,y.a,1,1);k+=y.a.length*26;var T=k-b;if((T&3)!=0)T+=4-(T&3);
S.PG(o,b-4,T);k=b+T}return o.data.slice(0,k).buffer};gM.a8a=function(g){var o=[];for(var m=0;m<g.length;
m++){var k=g[m],y=k.type,d={type:y};o.push(d);if(y==6){}else if(y==8)d.all=k.all;else if(y==0||y==3){d.length=k.length;
d.frule=k.dJ;d.third=k.Pj;d.prmA=k.nB;d.prmB=k.tH}else{d.c=[k.Tp.x,k.Tp.y,k.H.x,k.H.y,k.dt.x,k.dt.y]}}return o};
gM.ss=function(g){var o=[];for(var m=0;m<g.length;m++){var k=g[m],y=k.type,d={type:y};o.push(d);if(y==6){}else if(y==8)d.all=k.all;
else if(y==0||y==3){d.length=k.length;d.dJ=k.frule;d.Pj=k.third;d.nB=k.prmA;d.tH=k.prmB}else{var b=k.c;
d.Tp=new bJ(b[0],b[1]);d.H=new bJ(b[2],b[3]);d.dt=new bJ(b[4],b[5])}}return o};gM.x9=function(g,o,k,y,d){if(y==null)y=1;
if(d==null)d=1;function b(P,Q,x){var F=S.a2T(P,Q)*x,E=Math.round(F);return Math.abs(F-E)<1e-6?E:F}var T=S.NW,a=[],t=Math.floor(k/26);
for(var m=0;m<t;m++){var j=o+m*26,e={},v=0;a.push(e);e.type=T(g,j);j+=2;if(e.type==6){v=24}if(e.type==8){e.all=T(g,j);
j+=2;v=22}if(e.type==0||e.type==3){e.length=T(g,j);j+=2;e.dJ=T(g,j);j+=2;e.Pj=T(g,j);j+=2;e.nB=S.q(g,j);
j+=4;e.tH=S.q(g,j);j+=4;v=10}if(e.type==1||e.type==2||e.type==4||e.type==5){var L,H;H=b(g,j,d);j+=4;
L=b(g,j,y);j+=4;e.Tp=new bJ(L,H);H=b(g,j,d);j+=4;L=b(g,j,y);j+=4;e.H=new bJ(L,H);H=b(g,j,d);j+=4;L=b(g,j,y);
j+=4;e.dt=new bJ(L,H);v=0}for(var w=0;w<v;w++)if(g[j+w]!=0){console.log("Unexpected non-zero byte!",e,w,g[j+w])}}return a};
gM.Ww=function(g,o,k,y,d){var b=S.fD,T=S.ado,a=k.length;for(var m=0;m<a;m++){var t=o+m*26,j=k[m];b(g,t,j.type);
t+=2;if(j.type==6){}if(j.type==8)b(g,t,j.all);if(j.type==0||j.type==3){b(g,t,j.length);t+=2;b(g,t,j.dJ);
t+=2;b(g,t,j.Pj);t+=2}if(j.type==1||j.type==2||j.type==4||j.type==5){T(g,t,j.Tp.y/d);t+=4;T(g,t,j.Tp.x/y);
t+=4;T(g,t,j.H.y/d);t+=4;T(g,t,j.H.x/y);t+=4;T(g,t,j.dt.y/d);t+=4;T(g,t,j.dt.x/y);t+=4}}};function gB(){}gB.Qt=function(g){var o=new Uint8Array(g),k=[],y=0;
if(S.lp(o,0,4)=="ASEF")k=gB.akF(o);else{y=gB.kw(o,y,k);if(y+3<o.length){k=[];y=gB.kw(o,y,k)}}return k};
gB.akF=function(g){var o=[],k=8,y=S.q(g,k),d,b=null,T,a,t,j;k+=4;for(var e=0;e<y;e++){var v=S.EN(g,k);
k+=2;var L=S.q(g,k);k+=4;var H=k+L;if(v==49153||v==1){var w=S.EN(g,k);k+=2;var P=S.EF(g,k,w-1);k+=w*2;
if(v==1)d=P;else b=P}if(v==1){var Q=S.lp(g,k,4);k+=4;T=S.ZF(g,k);k+=4;a=S.ZF(g,k);k+=4;t=S.ZF(g,k);k+=4;
if(Q=="RGB "){}else if(Q=="CMYK"){j=S.ZF(g,k);k+=4;var x=UDOC.C.cmykToRgb([T,a,t,j]);T=x[0];a=x[1];t=x[2]}else alert("Unknown color space: "+Q);
o.push({o:T*255,C:a*255,k:t*255,IE:(b?b+" : ":"")+d})}k=H}return o};gB.kw=function(g,o,k){var y=S.EN,d=S.NW,b=y(g,o);
o+=2;var T=y(g,o);o+=2;for(var m=0;m<T;m++){var a=gB.QK(g,o);o+=10;if(b==2){a.IE=S.jN(g,o);o+=4+a.IE.length*2+2}k.push(a)}return o};
gB.QK=function(g,o){var k=S.EN,y=S.NW,d=k(g,o),H=null;o+=2;var b=k(g,o);o+=2;var T=k(g,o);o+=2;var a=k(g,o);
o+=2;var t=k(g,o);o+=2;var j=1/65535,e=255/65535,v=100/65535,L=255/1e4;if(d==0)H={o:b*e,C:T*e,k:a*e};
else if(d==1){H=_.YN(b*j,T*j,a*j);H.o*=255;H.C*=255;H.k*=255}else if(d==2)H=_.M.sL({classID:"CMYC",Cyn:{t:"doub",v:100-b*v},Mgnt:{t:"doub",v:100-T*v},Ylw:{t:"doub",v:100-a*v},Blck:{t:"doub",v:100-t*v}});
else if(d==7){var w=_.Mg(b/100,y(g,o-6)/100,y(g,o-4)/100);H=w}else if(d==8){H={o:255-b*L,C:255-T*L,k:255-a*L}}else if(d==18){var P=255*b/16384;
H={o:P,C:P,k:P}}else{throw d}return H};gB.Z0=function(g){var o=new im,k=0,y=S.uD;y(o,k,2);k+=2;y(o,k,g.length);
k+=2;for(var m=0;m<g.length;m++){var d=g[m];o.e6(k,10);gB.pT(o.data,k,d);k+=10;var b=(d.IE?d.IE:"")+"\0";
S.dP(o,k,b);k+=4+b.length*2}return o.data.slice(0,k).buffer};gB.X1=function(g,o){g.IE=o};gB.pT=function(g,o,k){var y=65535/255,d=S.qC;
d(g,o,0);d(g,o+2,Math.round(k.o*y));d(g,o+4,Math.round(k.C*y));d(g,o+6,Math.round(k.k*y));d(g,o+8,0)};
function bN(){}bN.Qt=function(g){var o=new Uint8Array(g),k=4,y={};y.Y5=S.jN(o,k);k+=4+y.Y5.length*2+2;
y.exp=o[k++]==1;y.dd=[];var d=S.q(o,k);k+=4;for(var m=0;m<d;m++){var b={};y.dd.push(b);b.Sp=S.EN(o,k);
k+=2;b.shift=o[k++]==1;b.a8f=o[k++]==1;b.color=S.EN(o,k);k+=2;b.Y5=S.jN(o,k);k+=4+b.Y5.length*2+2;b.exp=o[k++]==1;
b.dd=[];var T=S.q(o,k);k+=4;for(var a=0;a<T;a++){var t={};b.dd.push(t);t.exp=o[k++]==1;t.r=o[k++]==1;
t.atn=o[k++]==1;t.aw6=o[k++];var j=S.lp(o,k,4);k+=4;if(j=="TEXT"){t.J5=bN.Op(o,k);k+=4+t.J5.length}else if(j=="long"){t.J5=S.lp(o,k,4);
k+=4}else throw"e";t.h1=bN.Op(o,k);k+=4+t.h1.length;var e=S.jd(o,k);k+=4;if(e==-1){t.fV={};var v=aF.SL(o,t.fV,k);
k+=v}}}console.log(y);var L=new Uint8Array(bN.Z0(y));for(var m=0;m<L.length;m++)if(L[m]!=o[m]&&S.lp(o,m+1,4)!="None"){console.log(o.length,L.length);
var H=4*(m>>>2)-16;console.log(S.U1(o,H,64));console.log(S.U1(L,H,64));console.log(o.slice(H,H+64));
console.log(L.slice(H,H+64));throw"i"}return[y]};bN.Op=function(g,o){var k=S.q(g,o);return S.lp(g,o+4,k)};
bN.uT=function(g,o,k){S.PG(g,o,k.length);S.wJ(g,o+4,k)};bN.Z0=function(g){var o=new im,k=0;S.PG(o,k,16);
k+=4;S.dP(o,k,g.Y5+"\0");k+=4+g.Y5.length*2+2;o.e6(k,1);o.data[k++]=g.exp?1:0;var y=g.dd.length;S.PG(o,k,y);
k+=4;for(var m=0;m<y;m++){var d=g.dd[m];S.uD(o,k,d.Sp);k+=2;o.e6(k,2);o.data[k++]=d.shift?1:0;o.data[k++]=d.a8f?1:0;
S.uD(o,k,d.color);k+=2;S.dP(o,k,d.Y5+"\0");k+=4+d.Y5.length*2+2;o.e6(k,1);o.data[k++]=d.exp?1:0;var b=d.dd.length;
S.PG(o,k,b);k+=4;for(var T=0;T<b;T++){var a=d.dd[T];o.e6(k,4);o.data[k++]=a.exp?1:0;o.data[k++]=a.r?1:0;
o.data[k++]=a.atn?1:0;o.data[k++]=a.aw6;var t="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(a.J5)!=-1;
S.wJ(o,k,t?"long":"TEXT");k+=4;if(!t){bN.uT(o,k,a.J5);k+=4+a.J5.length}else{S.wJ(o,k,a.J5);k+=4}bN.uT(o,k,a.h1);
k+=4+a.h1.length;S.J8(o,k,a.fV?-1:0);k+=4;if(a.fV){var j=aF.$n(o,a.fV,k);k+=j}}}return o.data.slice(0,k).buffer};
function by(){}by.Qt=function(g){var o=new Uint8Array(g),k=0,y=S.q(o,k),t;k+=4;var d=S.lp(o,k,8);k+=8;
var b=S._u(o,k);k+=4;var T=S._u(o,k);k+=4;var a=S._u(o,k);k+=4;if(y==2){t=new Float32Array(g,32,g.byteLength-32>>>2)}else if(y==3||y==4){t=new Float32Array(T*a*2);
var j=0,e=0,v=!0;k=y==3?32:16+8+40;while(k<o.length){var L=S._u(o,k);k+=4;if(v)e+=L;else{for(var m=0;
m<L;m++){t[j+e+m<<1]=S.DF(o,k);t[(j+e+m<<1)+1]=S.DF(o,k+4);k+=8}e+=L}v=!v;if(L!=0&&e==T){j+=T;e=0;v=!0;
if(j==T*a)break}}}else throw"unknown Mesh version: "+y;return{bW:T,GP:a,map:t}};by.Z4=function(g){var o=g.bW,k=g.GP,y=g.map,d=new Uint8Array(32+k*o*8+k*8),b=0,T=0;
S.V_(d,b,3);b+=4;S.Ok(d,b,"yfqLhseM");b+=8;S.dh(d,b,2);b+=4;S.dh(d,b,o);b+=4;S.dh(d,b,k);b+=4;S.dh(d,b,0);
b+=4;S.dh(d,b,1);b+=4;for(var a=0;a<k;a++){S.dh(d,b,0);b+=4;S.dh(d,b,o);b+=4;for(var t=0;t<o;t++){S.TG(d,b,y[T]);
S.TG(d,b+4,y[T+1]);T+=2;b+=8}}return d.buffer};function ke(){}ke.Qt=function(g){var o=new Uint8Array(g),k=0,y=S.lp(o,k,4);
k+=4;var d=S.EN(o,k);k+=2;var b=S.q(o,k);k+=4;var T=[];for(var m=0;m<b;m++){var a=S.q(o,k);k+=4;var t={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
T.push(t);var j=S.jN(o,k);t.Nm.v=j;k+=4+j.length*2+2;var e=S.EN(o,k);k+=2;var v=S.EN(o,k);k+=2;for(var L=0;
L<v;L++){var H=_.wb.cC(0,0,!0);H.v.Vrtc.v=S.EN(o,k);k+=2;H.v.Hrzn.v=S.EN(o,k);k+=2;t.Crv.v.push(H)}if(a==1){}else if(a==2){for(var L=0;
L<v;L++){t.Crv.v[L].v.Cnty.v=o[k]==1;k+=1}}else throw"error";var w=S.q(o,k);k+=4;var P=S.q(o,k);k+=4}return T};
ke.X1=function(g,o){g.Nm.v=o};ke.Z0=function(g){var o=new im,k=0;S.wJ(o,k,"8BFS");k+=4;S.uD(o,k,1);k+=2;
S.PG(o,k,g.length);k+=4;for(var m=0;m<g.length;m++){S.PG(o,k,2);k+=4;var y=g[m];S.dP(o,k,y.Nm.v+"\0");
k+=4+y.Nm.v.length*2+2;S.uD(o,k,2);k+=2;var d=y.Crv.v.length;S.uD(o,k,d);k+=2;for(var b=0;b<d;b++){var T=y.Crv.v[b];
S.uD(o,k,T.v.Vrtc.v);k+=2;S.uD(o,k,T.v.Hrzn.v);k+=2}o.e6(k,d);for(var b=0;b<d;b++){o.data[k]=y.Crv.v[b].v.Cnty.v;
k++}S.PG(o,k,0);k+=4;S.PG(o,k,0);k+=4}return o.data.slice(0,k).buffer};function cd(){}cd.Qt=function(g){var o=new Uint8Array(g),k=4,y=S.EN(o,k);
k+=2;var d=S.q(o,k);k+=4;var b=[];for(var m=0;m<d;m++){var T={};b.push(T);k=cd.$c(o,k,T)}return b};cd.X1=function(g,o){g.name=o};
cd.Z0=function(g){var o=new im,k=0;S.wJ(o,k,"8BPT");k+=4;S.uD(o,k,1);k+=2;S.PG(o,k,g.length);k+=4;for(var m=0;
m<g.length;m++){k=cd.lG(o,k,g[m])}return o.data.slice(0,k).buffer};cd.CT=function(g,o,k){var y=o+k,d=[];
while(o<y){var b={},T=S.q(g,o);o+=4;var a=o;o=cd.$c(g,o,b);if(!b.pR[1].on())d.push(b);if(T%4!=0)T+=4-T%4;
o=a+T}return d};cd.Jx=function(g,o,k){for(var m=0;m<k.length;m++){var y=k[m];o+=4;var d=o;o=cd.lG(g,o,y);
var b=o-d;S.PG(g,d-4,b);if(b%4!=0)d+=4-b%4;o=d+b}return o};cd.$c=function(g,o,k){var y=S.q(g,o);o+=4;
if(y!=1)alert("Unknown version of pattern");var d=S.q(g,o);o+=4;if(d!=1&&d!=2&&d!=3)console.log("Unsupported mode of pattern: "+d);
var b=S.EN(g,o);o+=2;var T=S.EN(g,o);o+=2;var a=new bd(0,0,T,b);k.name=S.jN(g,o);o+=4+2*k.name.length+2;
var t=g[o];o++;k.id=S.lp(g,o,t);o+=k.id.length;var j=-1;if(d==2){j=o;o+=3*256+4}var e=new _.up(T*b);
o=cd.acE(g,o,e);if(d==2){for(var m=0;m<e.o.length;m++){var v=3*e.o[m];e.o[m]=g[j+v+0];e.C[m]=g[j+v+1];
e.k[m]=g[j+v+2]}}var L=_.Q(a.O()*4);_.Mh(e,L);k.pR=[L,a];return o};cd.lG=function(g,o,k){var y=k.pR[0],d=k.pR[1];
S.PG(g,o,1);o+=4;S.PG(g,o,3);o+=4;S.uD(g,o,d.n);o+=2;S.uD(g,o,d.m);o+=2;S.dP(g,o,k.name+"\0");o+=4+2*k.name.length+2;
S.uE(g,o,k.id.length);o++;S.wJ(g,o,k.id);o+=k.id.length;var b=new _.up(d.O());_.oX(y,b);o=cd.agO(g,o,b,d);
return o};cd.acE=function(g,o,k){var y=o,d={KU:null,sv:[],arO:null,pE:null},b=S.q(g,o);o+=4;var T=S.q(g,o);
o+=4;d.KU=S.Kn(g,o);o+=16;var a=S.q(g,o);o+=4;for(var m=0;m<a+2;m++){var t=S.q(g,o);o+=4;if(t==0)continue;
var j=S.q(g,o);o+=4;if(j==0)continue;var e=S.q(g,o);o+=4;var v=S.Kn(g,o);o+=16;var L=S.EN(g,o);o+=2;
var H=g[o];o++;var w=hD.N3(!1,e,g,v.m,v.n,o,H);if(m<a)d.sv.push(w);if(m==a)d.arO=w;if(m==a+1)d.pE=w;
o+=j-23}if(!d.KU.on()){if(d.sv[0])k.o=d.sv[0];if(d.sv[1])k.C=d.sv[1];else k.C=d.sv[0].slice(0);if(d.sv[2])k.k=d.sv[2];
else k.k=d.sv[0].slice(0);if(d.pE)k.Ng=d.pE;else k.Ng.fill(255)}return o};cd.agO=function(g,o,k,y){var d=o,b={KU:y,sv:[k.o,k.C,k.k],arO:null,pE:k.Ng};
S.PG(g,o,3);o+=4;S.PG(g,o,0);o+=4;S._W(g,o,y);o+=16;S.PG(g,o,24);o+=4;for(var m=0;m<24+2;m++){var T=o,a=m<3||m==25?1:0;
S.PG(g,o,a);o+=4;if(a==0)continue;S.PG(g,o,0);o+=4;S.PG(g,o,8);o+=4;S._W(g,o,y);o+=16;S.uD(g,o,8);o+=2;
S.uE(g,o,1,1);o++;var t=m<3?b.sv[m]:b.pE;g.e6(o,y.O()+2);o=hD.lD(!1,t,g.data,y.m,y.n,o,1);S.PG(g,T+4,o-T-8)}S.PG(g,d+4,o-d-8);
return o};function eR(){}eR.Qt=function(g){var o=new Uint8Array(g),k=0;if(o[0]==71)return eR.afv(o);
var y=S.lp(o,k,4);k+=4;var d=S.EN(o,k);k+=2;var b=[];if(d<=3){var T=S.EN(o,k);k+=2;for(var m=0;m<T;m++){var a=o[k++],t=S.lp(o,k,a);
k+=a;var j=eR.gd(o,k,t),e=j[0];k=j[1];b.push(e)}}else{var j={},v=aF.SL(o,j,k+4),L=j.GrdL.v;for(var m=0;
m<L.length;m++)b[m]=L[m].v.Grad.v}return b};eR.X1=function(g,o){g.Nm.v=o};eR.Z0=function(g){var o=new im,k=0;
S.wJ(o,k,"8BGR");k+=4;S.uD(o,k,5);k+=2;S.PG(o,k,16);k+=4;var y={classID:"null",GrdL:{t:"VlLs",v:[]}},d=y.GrdL.v;
for(var m=0;m<g.length;m++)d[m]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:g[m]}}};
k+=aF.$n(o,y,k);return o.data.slice(0,k).buffer};eR.gd=function(g,o,k){var y={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:k},Trns:{t:"VlLs",v:[]}},d=S.EN(g,o);
o+=2;if(d==0)throw"e";for(var m=0;m<d;m++){var b=S.q(g,o),T=S.q(g,o+4),a=gB.QK(g,o+8),t={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:a.o},Grn:{t:"doub",v:a.C},Bl:{t:"doub",v:a.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:b},Mdpn:{t:"long",v:T}}};
y.Clrs.v.push(t);o+=20}var j=S.EN(g,o);o+=2;for(var m=0;m<j;m++){var b=S.q(g,o),T=S.q(g,o+4),e=S.EN(g,o+8),t={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*e/255)}},Lctn:{t:"long",v:b},Mdpn:{t:"long",v:T}}};
y.Trns.v.push(t);o+=10}var v=S.EN(g,o);o+=2;y.Intr.v=v==2?S.EN(g,o):4096;o+=2;var L=S.EN(g,o);o+=2;return[y,o]};
eR.aoo=function(g,o,k){var y=k.Clrs.v.length;S.uD(g,o,y);o+=2;for(var m=0;m<y;m++){var d=k.Clrs.v[m];
S.PG(g,o,d.v.Lctn.v);S.PG(g,o+4,d.v.Mdpn.v);S.uD(g,o+8,0);var b=_.M.UF(_.M.sL(d.v.Clr.v)),T=[b.Rd.v,b.Grn.v,b.Bl.v,0];
for(var a=0;a<4;a++)S.uD(g,o+10+a*2,Math.round(65535*(T[a]/255)));o+=20}var t=k.Trns.v.length;S.uD(g,o,t);
o+=2;for(var m=0;m<t;m++){var d=k.Trns.v[m];S.PG(g,o,d.v.Lctn.v);S.PG(g,o+4,d.v.Mdpn.v);S.uD(g,o+8,Math.round(255*d.v.Opct.v.val/100));
o+=10}S.uD(g,o,2);o+=2;S.uD(g,o,k.Intr.v);o+=2;S.uD(g,o,32);o+=2;return o};eR.afv=function(g){var o=S.IL(g,0,g.length).split("\n"),k=parseFloat(o[2]),y=[],d=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]).Grad.v;
d.Intr.v=0;d.Nm.v=o[1];for(var m=0;m<k;m++){var b=o[3+m].split(" ").map(parseFloat),T=b[11],a=b[12];
y.push([b[0],b.slice(3,6),b[6]]);if(a!=0){var t=_.RM(b[3],b[4],b[5]),j=_.RM(b[7],b[8],b[9]),e=t.GP,v=j.GP;
if(a==1&&e>v)v++;if(a==2&&e<v)e++;var L=Math.round(Math.abs(v-e)*7);if(L>1)for(var H=0;H<L;H++){var w=1-(H+1)/(L+1),P=1-w,Q=_.YN(w*e+P*v,w*t.ci+P*j.ci,w*t._Q+P*j._Q);
y.push([w*b[0]+P*b[2],[Q.o,Q.C,Q.k],w*b[6]+P*b[10]])}}y.push([b[2],b.slice(7,10),b[10]])}y.sort(function(x,F){return x[0]-F[0]});
_.M.Dd(y,d);return[d]};function dr(){}dr.Qt=function(g){var o=new Uint8Array(g),k=[],y=[],d=[],b=[],T=[],a=0,t=S.lp(o,a,4);
a+=4;var j=S.q(o,a);a+=4;var e=S.q(o,a);a+=4;while(a<o.length){var v=S.lp(o,a,4);a+=4;var L=S.lp(o,a,4);
a+=4;var H=S.q(o,a);a+=4;if(L=="tppa"){y=cd.CT(o,a,H);a+=H}else if(L=="tpbd"){d=a6.xV(o,a,H,1,1);a+=H}else if(L=="tptp"){var w=S.q(o,a);
a+=4;for(var m=0;m<w;m++){var P=S.jN(o,a);a+=6+P.length*2;a+=4;var Q={};a+=aF.SL(o,Q,a);k.push([P,Q])}while((a&3)!=0)a++}else if(L=="tpsh"){var x=a,F=o.slice(a,a+H);
while(a<x+H){var E=S.q(o,a);a+=4;a=gM.XJ(o,a,"Shape",b)}a=x+H}else if(L=="tpst"){var x=a;a+=4;while(a<x+H){var f=S.q(o,a);
a+=4;var c=a,M=S.q(o,a);a+=4;var Q={i8:{},GO:{}};T.push(Q);a+=4;a+=aF.SL(o,Q.i8,a);a+=4;a+=aF.SL(o,Q.GO,a);
a=c+f;var n=Q.GO.Lefx;if(n){if(n.v.masterFXSwitch==null)n.v.masterFXSwitch={t:"bool",v:!0};i_.Yc(n.v)}}a=x+H}else{console.log(o.slice(a-8,a+64));
console.log(S.lp(o,a-8,64));throw L}}return{sc:d,Uu:y,list:k,aaq:b,ad:T}};dr.X1=function(g,o){g[0]=o};
dr.Z0=function(g){var o=new im,k=0;S.wJ(o,k,"8BTP");k+=4;S.PG(o,k,3);k+=4;S.PG(o,k,1);k+=4;var y=[g.Uu,g.sc,g.list];
for(var m=0;m<3;m++){if(y[m].length==0)continue;S.wJ(o,k,"8BIM");k+=4;var d=["tppa","tpbd","tptp"][m];
S.wJ(o,k,d);k+=4;var b=k;k+=4;if(d=="tppa"){k=cd.Jx(o,k,g.Uu)}else if(d=="tpbd"){k=a6.vN(o,k,g.sc)}else if(d=="tptp"){S.PG(o,k,g.list.length);
k+=4;for(var T=0;T<g.list.length;T++){var a=g.list[T];S.dP(o,k,a[0]+"\0");k+=6+a[0].length*2;S.PG(o,k,16);
k+=4;k+=aF.$n(o,a[1],k)}}S.PG(o,b,k-b-4);while((k&3)!=0)k++;o.e6(k,0)}return o.data.slice(0,k).buffer};
function fG(){}fG.Qt=function(g,o){var k=new Uint8Array(g),y;if(S.q(k,0)==k.length)y="icc";else if(k[0]=="<".charCodeAt(0))y="look";
else if(S.xb(k,"LUT_3D_SIZE")!=-1)y="cube";else y="3DL";if(y!="icc"){var d=fG.al2(k,y),b=fG.apK(d[0],d[1]);
k=b}var T=[];for(var m=0;m<k.length;m++)T.push(k[m]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:o?o:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:T}}]};
fG.Z0=function(g){var o=g[0],k=new Uint8Array(o.profile.v);return k.buffer};fG.X1=function(g,o){g.Nm.v=o};
fG.apK=function(g,o){var k=new im,y=128;k.e6(0,128);var d=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var m=0;m<d.length;m++)k.data[m]=d[m];var b=["desc","A2B0"],T=b.length,a=128+4+T*12;S.PG(k,y,T);
y+=4;for(var t=0;t<T;t++){var j=b[t];S.wJ(k,y,j);y+=4;S.PG(k,y,a);y+=4;var e=a;if(j=="desc"){S.wJ(k,e,"mluc");
e+=4;e+=4;S.PG(k,e,1);e+=4;S.PG(k,e,12);e+=4;S.wJ(k,e,"enUS");e+=4;var v="ICC by Photopea\0",L=v.length*2+2;
S.PG(k,e,L);e+=4;S.PG(k,e,28);e+=4;k.e6(e,L);for(var m=0;m<v.length;m++)k.data[e+m*2+1]=v.charCodeAt(m);
e+=L}if(j=="A2B0"){S.wJ(k,e,"mAB ");e+=4;e+=4;k.e6(e,4);k.data[e]=3;k.data[e+1]=3;e+=4;k.e6(e,4*5);e+=4*3;
S.PG(k,e,e+8-a);e+=4;e+=4;k.e6(e,20);k.data[e]=g;k.data[e+1]=g;k.data[e+2]=g;e+=16;k.data[e]=2;e+=4;
var H=g*g*g*3;k.e6(e,H*2);for(var m=0;m<H;m++)S.qC(k.data,e+m*2,Math.max(0,Math.min(65535,Math.round(o[m]*65535))));
e+=H*2}var w=e-a;while((w&3)!=0)w++;S.PG(k,y,w);y+=4;a+=w}S.PG(k,0,a);return k.data.slice(0,a)};fG.al2=function(g,o){o="LUTFormat"+o.toUpperCase();
var k=[],y=0,d=S.IL(g,0,g.length),b="";for(var m=0;m<g.length&&b=="";m++){if(g[m]==10)b="\n";else if(g[m]==13){b="\r";
if(g[m+1]==10)b+="\n"}}if(o=="LUTFormatCUBE"){var T=d.split(b);for(var m=0;m<T.length;m++){if(T[m]==""||T[m][0]=="#")continue;
var a=T[m].split(" "),t=a[0];if(t=="LUT_3D_SIZE"){y=parseInt(a[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(t)!=-1)continue;
k.push(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}k=fG.Lk(y,k)}else if(o=="LUTFormat3DL"){var T=d.split(b),j=1/4095;
for(var m=0;m<T.length;m++){var e=T[m];if(e==""||e=="3DMESH"||e.startsWith("Mesh")||e[0]=="#")continue;
var a=e.split(" "),t=a[0];if(y==0){y=a.length;continue}k.push(parseFloat(a[0])*j,parseFloat(a[1])*j,parseFloat(a[2])*j)}}else if(o=="LUTFormatLOOK"){var v=new DOMParser,L=v.parseFromString(d,"text/xml"),H=L.getElementsByTagName("LUT")[0],w=H.children[0].textContent;
y=parseInt(JSON.parse(w));var P=H.children[1].textContent;P=P.replace(/"/g,"").replace(/\s/g,"");var Q=3*y*y*y,x=Q*4,F=new Uint8Array(x);for(var m=0;m<x;m++){var E=P.charCodeAt(m*2),f=P.charCodeAt(m*2+1),c=E<58?E-48:E-55,M=f<58?f-48:f-55;F[m]=(c<<4)+M}for(var m=0;m<Q;m++)k.push(S.DF(F,m<<2));k=fG.Lk(y,k)}else throw o;return[y,k]};fG.a2n=function(g,o,k){var y=["#Created by www.Photopea.com","TITLE \""+k+"\"","","#LUT size","LUT_3D_SIZE "+o,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],d=6;
for(var m=0;m<g.length;m+=3){y.push(g[m].toFixed(d)+" "+g[m+1].toFixed(d)+" "+g[m+2].toFixed(d))}y.push("");
return S.vw(y.join("\n")).buffer};fG.Lk=function(g,o){var k=[],y=g*g*g;for(var m=0;m<y;m++)k.push(0,0,0);
for(var d=0;d<g;d++)for(var b=0;b<g;b++)for(var T=0;T<g;T++){var m=3*(T+b*g+d*g*g),a=3*(d+b*g+T*g*g);
k[a]=o[m];k[a+1]=o[m+1];k[a+2]=o[m+2]}return k};function aF(){}aF.SL=function(g,o,k,y,d){var b=k,T;if(d==null)d=0;
var a=S.q(g,k);if(a==0){T="";k+=4}else{T=S.jN(g,k);k+=4+2*T.length+2}if(T!="")o.__name=T;o.classID=aF.z1(g,k);
if(y)console.log("\t".repeat(d),"- reading descriptor",o.classID,k);k+=aF.Z2(g,k);var t=S.jd(g,k);k+=4;
for(var m=0;m<t;m++){var j=aF.z1(g,k);k+=aF.Z2(g,k);var e=aF.yE(g,k,y,d);o[j]=e;k+=e.size;delete e.size}return k-b};
aF.$n=function(g,o,k,y){var d=k,b=o.__name;if(b==null)b="";b+="\0";S.dP(g,k,b);k+=4+2*b.length;aF.it(g,k,o.classID);
k+=aF.Z2(g.data,k);S.J8(g,k,Object.keys(o).length-1-(o.__name==null?0:1));k+=4;for(var T in o){if(T=="classID")continue;
if(T=="__name")continue;aF.it(g,k,T);k+=aF.Z2(g.data,k);k+=aF.U9(g,k,o[T])}return k-d};aF.yE=function(g,o,k,y){var d=o,b=S.lp(g,o,4);
o+=4;var T={size:0,t:b,v:null};if(k)console.log("\t".repeat(y),"reading key",b,d);switch(b){case"obj ":case"VlLs":T.v=[];
var a=S.q(g,o);o+=4;for(var m=0;m<a;m++){var t=aF.yE(g,o,k,y+1);o+=t.size;delete t.size;T.v.push(t)}break;
case"UntF":T.v={type:S.lp(g,o,4),val:S.uc(g,o+4)};o+=12;break;case"doub":T.v=S.uc(g,o);o+=8;break;case"bool":T.v=g[o]==1;
o+=1;break;case"long":T.v=S.jd(g,o);o+=4;break;case"comp":T.v=S.jd(g,o+4);o+=8;break;case"Objc":T.v={};
var j=aF.SL(g,T.v,o,k,y+1);o+=j;break;case"TEXT":var e=S.q(g,o);if(e==0){T.v="";o+=4}else{T.v=S.jN(g,o);
o+=4+T.v.length*2+2}break;case"enum":var v=aF.z1(g,o);o+=aF.Z2(g,o);var L=aF.z1(g,o);o+=aF.Z2(g,o);T.v={};
T.v[v]=L;break;case"tdta":var H=S.jd(g,o);o+=4;T.v=[];for(var m=0;m<H;m++)T.v.push(g[o+m]);o+=H;break;
case"ObAr":var w=S.q(g,o);o+=4;var P=S.jN(g,o);o+=4+2*P.length+2;if(P!="")throw P;var Q=aF.z1(g,o);o+=4+Math.max(4,Q.length);
T.v={classID:Q,arr:[]};var x=S.q(g,o);o+=4;for(var m=0;m<x;m++){var Q=aF.z1(g,o);o+=4+Math.max(4,Q.length);
var v=S.lp(g,o,4);o+=4;var F=S.lp(g,o,4);o+=4;var E={id:Q,type:v,uID:F,arr:[]};T.v.arr.push(E);var f=S.q(g,o,4);
o+=4;for(var c=0;c<f;c++){var M=S.uc(g,o);o+=8;E.arr.push(M)}}break;case"Pth ":var n=o,H=S.q(g,o);o+=4;
var X=S.lp(g,o,4);o+=4;var u=S._u(g,o);o+=4;var I=S.a3i(g,o);o+=4+I.length*2;T.v={sig:X,pth:I};break;
case"Clss":case"type":case"rele":var I=S.jN(g,o);o+=4+I.length*2+2;var r=aF.z1(g,o);o+=4+Math.max(4,r.length);
T.v={classID:r};if(I!="")T.v.__name=I;if(b=="rele"){T.v.val=S.jd(g,o);o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var J=aF.hx[b],I=S.jN(g,o);
o+=4+I.length*2+2;if(I.length!=0){console.log(b,I);throw"e"}T.v={};for(var m=0;m<J.length;m++){var r=aF.z1(g,o);
o+=4+Math.max(4,r.length);T.v[J[m]]=r}if(b=="name"){var I=S.jN(g,o);o+=4+I.length*2+2;T.v.val=I}if(b=="indx"||b=="Idnt"){T.v.val=S.q(g,o);
o+=4}break;case"alis":var H=S.q(g,o);o+=4;T.v=S.lp(g,o,H);o+=H;break;default:{console.log("unknown oskey: "+b+", "+d);
throw"e";return T}}if(k){console.log("\t".repeat(y),T.v);console.log("\t".repeat(y),"======",o)}T.size=o-d;
return T};aF.hx={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
aF.U9=function(g,o,k){var y=o,d=k.t;k=k.v;S.wJ(g,o,d);o+=4;switch(d){case"obj ":case"VlLs":S.J8(g,o,k.length);
o+=4;for(var b=0;b<k.length;b++){var T=aF.U9(g,o,k[b]);o+=T}break;case"UntF":S.wJ(g,o,k.type);S.AV(g,o+4,k.val);
o+=12;break;case"doub":S.AV(g,o,k);o+=8;break;case"bool":S.uE(g,o,k?1:0,1);o+=1;break;case"long":S.J8(g,o,k);
o+=4;break;case"comp":S.J8(g,o+4,k);o+=8;break;case"Objc":var T=aF.$n(g,k,o);o+=T;break;case"TEXT":S.dP(g,o,k+"\0");
o+=4+k.length*2+2;break;case"enum":var a=Object.keys(k)[0],t=k[a];aF.it(g,o,a);o+=aF.Z2(g.data,o);aF.it(g,o,t);
o+=aF.Z2(g.data,o);break;case"tdta":S.PG(g,o,k.length);o+=4;S.Kb(g,o,k);o+=k.length;break;case"ObAr":S.PG(g,o,k.arr[0].arr.length);
o+=4;S.dP(g,o,"\0");o+=6;aF.it(g,o,k.classID);o+=4+Math.max(4,k.classID.length);S.PG(g,o,k.arr.length);
o+=4;for(var m=0;m<k.arr.length;m++){var j=k.arr[m];aF.it(g,o,j.id);o+=4+Math.max(4,j.id.length);S.wJ(g,o,j.type);
o+=4;S.wJ(g,o,j.uID);o+=4;S.PG(g,o,j.arr.length);o+=4;for(var b=0;b<j.arr.length;b++){S.AV(g,o,j.arr[b]);
o+=8}}break;case"Pth ":var e=k.pth.length*2+4+8;S.PG(g,o,e);o+=4;S.wJ(g,o,k.sig);o+=4;S.N4(g,o,e);o+=4;
S.a3J(g,o,k.pth);o+=k.pth.length*2+4;break;case"Clss":case"type":case"rele":var v=k.__name;if(v==null)v="";
S.dP(g,o,v+"\0");o+=4+v.length*2+2;var L=k.classID;aF.it(g,o,L);o+=4+Math.max(4,L.length);if(d=="rele"){S.J8(g,o,k.val);
o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var H=aF.hx[d];S.PG(g,o,1);o+=6;for(var m=0;
m<H.length;m++){var L=k[H[m]];aF.it(g,o,L);o+=4+Math.max(4,L.length)}if(d=="name"){S.dP(g,o,k.val+"\0");
o+=4+k.val.length*2+2}if(d=="indx"||d=="Idnt"){S.PG(g,o,k.val);o+=4}break;case"alis":var e=k.length;
S.PG(g,o,e);o+=4;S.wJ(g,o,k);o+=e;break;default:console.log("unknown oskey: "+d);o=y;break}return o-y};
aF.z1=function(g,o){var k=S.jd(g,o);if(k>1e3)throw"e";if(k==0)k=4;return S.lp(g,o+4,k).trim()};aF.Z2=function(g,o){var k=S.jd(g,o);
return k==0?8:4+k};aF.it=function(g,o,k){var y="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),d=4<k.length||y.indexOf(k)!=-1;
S.J8(g,o,d?k.length:0);S.wJ(g,o+4,k);if(k.length<4&&!d){var b="";for(var m=k.length;m<4;m++)b+=" ";S.wJ(g,o+4+k.length,b)}};
aF.ayO=function(g){var o={};for(var k in g){if(k=="classID")o[k]=g[k];else if(k=="__name")o[k]=g[k];
else o[k]=aF.CY(g[k])}return o};aF.CY=function(g){if(g.la=="Objc")return aF.ayO(g.v);else if(g.la=="VlLs"){var o=[];
for(var m=0;m<g.v.length;m++)o.push(aF.CY(g.v[m]));return o}else if(g.la=="UntF")return g.v.val;else return g.v};
function i_(){}i_.LE=function(g,o,k,y,d,b){while(o<k){var T=S.lp(g,o,4);o+=4;if(T!="8BIM"&&T!="8B64"){console.log("layer information signature error! "+T,"PSB = "+d);
alert("Error in PSD file: wrong signature.");return k}var a=S.lp(g,o,4);o+=4;var t=S.q(g,o);o+=4;var j=d&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(a)!=-1;
if(j){t=t<<32|S.jd(g,o);o+=4}var e=["lrFX","PlLd"];if(e.indexOf(a)!=-1){if(t%4!=0)t+=4-t%4;o+=t;continue}switch(a){case"iOpa":y[a]=g[o];
break;case"brst":y[a]=[1,1,1];for(var m=0;m<t;m+=4)y[a][S.q(g,o+m)]=0;break;case"knko":y[a]=g[o];break;
case"infx":y[a]=g[o];break;case"clbl":y[a]=g[o];break;case"lmgm":y[a]=g[o];break;case"vmgm":y[a]=g[o];
break;case"fcmy":y[a]=g[o];break;case"lyid":y[a]=S.q(g,o);break;case"lsct":y[a]={type:S.q(g,o)};if(t>=12)y[a].HW=S.lp(g,o+8,4);
break;case"lsdk":y.lsct={type:S.q(g,o)};break;case"lyvr":y[a]=S.q(g,o);break;case"lnsr":var v={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
y[a]=S.lp(g,o,4);break;case"lspf":y[a]=S.q(g,o);break;case"lclr":y[a]=S.EN(g,o);break;case"luni":y[a]=S.NJ(g,o);
break;case"fxrp":y[a]=new bJ(S.uc(g,o),S.uc(g,o+8));break;case"artb":case"artd":y[a]={};aF.SL(g,y[a],o+4);
break;case"SoCo":y[a]={};aF.SL(g,y[a],o+4);break;case"GdFl":y[a]={};aF.SL(g,y[a],o+4);i_.oH(y[a],a);
break;case"PtFl":y[a]={};aF.SL(g,y[a],o+4);i_.oH(y[a],a);break;case"CgEd":y[a]={};aF.SL(g,y[a],o+4);
break;case"brit":var L=y.brit=jf.J0("brit"),H={};L.Brgh.v=S.NW(g,o);L.Cntr.v=S.NW(g,o+2);L.useLegacy.v=!1;
break;case"levl":var w=g.buffer.slice(o,o+t);y[a]=hA.Qt(w);break;case"curv":y[a]=cx.Hp(g,o,t);break;
case"expA":var P=S.EN(g,o),Q=y[a]=jf.J0("expA");Q.Exps.v=S.ZF(g,o+2);Q.Ofst.v=S.ZF(g,o+6);Q.gammaCorrection.v=S.ZF(g,o+10);
break;case"vibA":y[a]={};aF.SL(g,y[a],o+4);break;case"hue2":y[a]=c2.Hp(g,o,t);break;case"blnc":var Q=y[a]=jf.J0(a);
Q.PrsL.v=g[o+18]==1;var x=["ShdL","MdtL","HghL"];for(var m=0;m<3;m++)for(var F=0;F<3;F++)Q[x[m]].v[F].v=S.NW(g,o+m*6+F*2);
break;case"blwh":var E={};aF.SL(g,E,o+4);var Q=jf.J0(a),f="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var m=0;m<f.length;m++){Q[f[m]]=E[f[m]];delete E[f[m]]}y[a]=Q;break;case"phfl":var Q=y[a]=jf.J0(a),c=Q.Clr.v,P=S.EN(g,o);
if(P==3){var M=[S.q(g,o+2),S.q(g,o+6),S.q(g,o+10)],n=32768,X=_.Q1(M[0]/n,M[1]/n,M[2]/n);c.Lmnc.v=X.hb;
c.A.v=X.Ng;c.B.v=X.k}if(P==2){var u=S.EN(g,o+2);if(u!=7)throw"e";c.Lmnc.v=S.NW(g,o+4)/100;c.A.v=S.NW(g,o+6)/100;
c.B.v=S.NW(g,o+8)/100}var I=o+2+(P==3?12:10);Q.Dnst.v=S.q(g,I);I+=4;Q.PrsL.v=g[I]==1;break;case"mixr":var r={uY:S.EN(g,o+2)==1,Z:[]};
for(var m=0;m<20;m++)r.Z.push(S.NW(g,o+4+m*2));y[a]=aj.afi(r);break;case"clrL":case"rplc":y[a]={};aF.SL(g,y[a],o+6);
break;case"nvrt":y[a]={};break;case"post":y[a]=jf.J0("post");y[a].Lvls.v=S.EN(g,o);break;case"thrs":y[a]=jf.J0("thrs");
y[a].Lvl.v=S.EN(g,o);break;case"grdm":var J=o,U=g[o+2]==1,K=g[o+3]==1;J+=4;var i=S.lp(g,J,4);if(i=="Perc"||i=="Gcls"||i=="Lnr ")J+=4;
var z=S.NJ(g,J);J+=4+z.length*2;var h=eR.gd(g,J,z),R=h[0];J=h[1];var C=S.EN(g,J);J+=2;var G=S.q(g,J);
J+=4;var W=S.EN(g,J)==1;J+=2;var A=S.EN(g,J)==1;J+=2;var $=S.q(g,J);J+=4;var O=S.EN(g,J);J+=2;var Y=[],l=[];
for(var m=0;m<4;m++){Y.push({t:"long",v:~~(S.EN(g,J+m*2)*100/32768)});l.push({t:"long",v:~~(S.EN(g,J+m*2+8)*100/32768)})}J+=16;
var B=S.EN(g,J);J+=2;if(C==1)R={classID:"Grdn",Nm:{t:"TEXT",v:z},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:W},VctC:{t:"bool",v:A},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:G},Smth:{t:"long",v:$},Mnm:{t:"VlLs",v:Y},Mxm:{t:"VlLs",v:l}};
var f4=jf.J0("grdm");f4.Rvrs.v=U;f4.Grad.v=R;y[a]=f4;break;case"selc":y[a]=az.Hp(g,o,t);break;case"vmsk":case"vsms":var V=y.vmsk=new p.Ew,q=S.jd(g,o+4),s=(q>>0&1)==1;
V.zi=(q>>1&1)==0;V.isEnabled=(q>>2&1)==0;V.a=gM.x9(g,o+8,t-8,b.m,b.n);break;case"shmd":y[a]={};var cW=S.q(g,o),I=o+4;
for(var m=0;m<cW;m++){var T=S.lp(g,I,4);I+=4;var dk=S.lp(g,I,4);I+=4;var kr=g[I];I++;if(Math.max(g[I],g[I+1])!=0)throw"e";
I+=3;var j9=S.q(g,I);I+=4;if(dk=="cust"||dk=="cmls"||dk=="extn"||dk=="mlst"){var bh=S.q(g,I);if(bh!=16)I+=4;
if(S.q(g,I)==16){var E={};aF.SL(g,E,I+4,!1);y[a][dk]=E;if(dk=="cmls")D.h8.aj$(y[a][dk])}}else{console.log("unknown shmd key: "+dk+", size: "+j9)}I+=j9}break;
case"shpa":var P=S.q(g,o),fe=S.q(g,o+4);if(fe!=0)console.log("some patterns present!");break;case"TySh":var gg=y[a]={},P=S.EN(g,o);
gg.D=S.fx(g,o+2);var a$=S.EN(g,o+2+48);gg.f4={};var dg=aF.SL(g,gg.f4,o+56),iv=bw.a7Q();for(var aQ in iv)if(gg.f4[aQ]==null)gg.f4[aQ]=iv[aQ];
gg.IV={};var dt=aF.SL(g,gg.IV,o+56+dg+6);gg.Rt=S.awT(g,o+56+dg+6+dt);gg.O7=e8.Qt(gg.f4.EngineData.v);
bw.ayB(gg.O7.EngineDict.StyleRun.RunArray);if(gg.O7.ResourceDict==null)gg.O7.ResourceDict=JSON.parse(JSON.stringify(gg.O7.DocumentResources));
delete gg.f4.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var hY=S.q(g,o),b9=S.q(g,o+4);y.lmfx={};
var dg=aF.SL(g,y.lmfx,o+8);i_.Yc(y.lmfx);break;case"FMsk":y[a]=S.ww(g,o,t);break;case"Txt2":y[a]={};
y[a].raw=S.ww(g,o,t);y[a].fj=dh.Qt(y[a].raw);break;case"Patt":y[a]=cd.CT(g,o,t);break;case"SoLd":var i0=S.lp(g,o,4),gD=S.q(g,o+4),hU=S.q(g,o+8);
y[a]={};var aW=aF.SL(g,y[a],o+12);if(y[a].nonAffineTransform==null)y[a].nonAffineTransform=JSON.parse(JSON.stringify(y[a].Trnf));
if(y[a].Impr==null)y[a].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var gD=S.q(g,o);
y[a]={};var aW=aF.SL(g,y[a],o+4);break;case"vscg":var dk=S.lp(g,o,4),gD=S.q(g,o+4);y[dk]={};var aW=aF.SL(g,y[dk],o+8);
i_.oH(y[dk],dk);break;case"vogk":var be=S.q(g,o),gD=S.q(g,o+4);y[a]={};var aW=aF.SL(g,y[a],o+8);y[a]=y[a].keyDescriptorList.v;
for(var m=0;m<y[a].length;m++){var hv=y[a][m].v;if(!_.X.xz(hv))continue;if(hv.keyOriginBoxCorners==null){var b3=_.X.QI(hv);
hv.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var gT=[b3[0],b3[1],b3[2],b3[1],b3[2],b3[3],b3[0],b3[3]];
if(hv.keyOriginType.v==4)gT=_.X.gf(_.X.E0(hv),hv.keyOriginLineWeight.v);_.X.JJ(hv,"keyOriginBoxCorners",gT)}}break;
case"lnk2":case"lnkD__":case"lnk3__":y[a]=[];var J=o;while(J<o+t){var aB=new p.Mm;y[a].push(aB);var bO=S.pU(g,J);
J+=8;var kf=J;aB.type=S.lp(g,J,4);J+=4;if(aB.type!="liFD"){alert("Unknown Linked Layer type: "+aB.type);
break;throw aB.type}aB.fr=S.q(g,J);J+=4;var iY=S.Ol(g,J);J+=1+iY.oJ.length;aB.UK=iY.oJ;aB.iV=S.jN(g,J);
J+=4+aB.iV.length*2+2;aB.uF=S.lp(g,J,4);J+=4;aB.Il=S.lp(g,J,4);J+=4;var gs=S.pU(g,J);J+=8;aB.open=g[J];
J+=1;if(aB.open!=0){var c1={},dg=aF.SL(g,c1,J+4);if(dg%4!=0)dg+=4-dg%4;console.log(c1);J+=dg+4}aB.open=0;
aB.raw=S.ww(g,J,gs);J=kf+bO;if(bO%4!=0)J+=4-bO%4}break;case"FEid":var J=o;y[a]=[];var gK=J+t,P=S.q(g,J);
J+=4;while(J<gK){J+=4;var bO=S.q(g,J);J+=4;var h={};y[a].push(h);h.id=S.Ol(g,J).oJ;J+=h.id.length+1;
var P=S.q(g,J);J+=4;J+=4;var c4=S.q(g,J);J+=4;h.rect=S.Kn(g,J);J+=16;var k6=S.q(g,J);J+=4;var jk=S.q(g,J);
J+=4;var jt=new _.up(0);for(var m=0;m<jk+2;m++){var j_=S.q(g,J);J+=4;if(j_!=0){J+=4;var kw=S.q(g,J),eu=null;
J+=4;if(m<3||m==25)eu=hD.RZ(!0,k6,g,h.rect.m,h.rect.n,J,kw);if(m==0)jt.o=eu;if(m==1)jt.C=eu;if(m==2)jt.k=eu;
if(m==25)jt.Ng=eu;J+=kw}}h.buffer=_.Q(h.rect.O()*4);_.Mh(jt,h.buffer);_._7(h);var ak=g[J];J++;if(ak!=0){h.v=new p.GE;
h.v.rect=S.Kn(g,J);J+=16;J+=4;var cY=S.q(g,J);J+=4;h.v.channel=hD.RZ(!0,k6,g,h.v.rect.m,h.v.rect.n,J,cY);
h.v.color=255;h.v.xO();J+=cY}if(bO%4!=0)J+=4-bO%4}break;case"Lr16":jX.lg(b,g,o);break;case"Anno":y[a]=[];
var bG=o,j5=o+4,fe=S.q(g,j5);j5+=4;for(var m=0;m<fe;m++){var bO=S.q(g,j5);j5+=4;var hI=S.lp(g,j5,4);
j5+=4;if(hI!="txtA")throw hI;var jJ=g[j5++],ca=g[j5++],gI=S.EN(g,j5);j5+=2;var c3=S.Kn(g,j5);j5+=16;
var fs=S.Kn(g,j5);j5+=16;var c=gB.QK(g,j5);j5+=10;var eS=S.Ol(g,j5);j5+=eS.length;var bf=S.Ol(g,j5);
j5+=bf.length;var ef=S.Ol(g,j5);j5+=ef.length;var hh=S.q(g,j5);j5+=4;var fA=S.lp(g,j5,4);j5+=4;var jS=S.q(g,j5);
j5+=4;var dn=S.EF(g,j5+2,jS-2>>1);j5+=jS;y[a].push([c3.x,c3.y,c,eS.oJ,dn])}break;default:break}var id="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(id.indexOf(a)==-1)if(t%4!=0)console.log("size not multiple of 4!!!",a);if(a!="luni"&&a!="TySh"&&a!="tySh"&&a!="lfx2"&&a!="iOpa")if(t%4!=0)t+=4-t%4;
o+=t}var H=y.CgEd;if(H){var L=y.brit;if(L){L.Brgh.v=H.Brgh?H.Brgh.v:0;L.Cntr.v=H.Cntr?H.Cntr.v:0;L.useLegacy.v=H.useLegacy?H.useLegacy.v:0}delete y.CgEd}var jy=[];
for(var m=0;m<jy.length;m++)delete y[jy[m]];return o};i_.Ei=function(g,o,k,y,d){for(var b in k)if(k[b]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+b+"\" tag was present with a null value.");delete k[b]}for(var b in k){var T=y&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(b)!=-1,t=0;
S.wJ(g,o,T?"8B64":"8BIM");o+=4;var a=o;S.wJ(g,o,b);o+=4;S.J8(g,o,0);o+=T?8:4;switch(b){case"iOpa":S.uE(g,o,k[b],1);
t=4;break;case"brst":t=0;for(var m=0;m<3;m++)if(k[b][m]==0){S.PG(g,o+t,m);t+=4}break;case"knko":S.uE(g,o,k[b],1);
t=4;break;case"infx":S.uE(g,o,k[b],1);t=4;break;case"clbl":S.uE(g,o,k[b],1);t=4;break;case"lmgm":S.uE(g,o,k[b],1);
t=4;break;case"vmgm":S.uE(g,o,k[b],1);t=4;break;case"fcmy":S.uE(g,o,k[b],1);t=4;break;case"lyid":S.PG(g,o,k[b]);
t=4;break;case"lsct":S.PG(g,o,k[b].type);t=4;if(k[b].HW){S.wJ(g,o+4,"8BIM");S.wJ(g,o+8,k[b].HW);t=12}break;
case"lyvr":S.PG(g,o,k[b]);t=4;break;case"lnsr":S.wJ(g,o,k[b]);t=4;break;case"lspf":S.PG(g,o,k[b]);t=4;
break;case"lclr":S.uD(g,o,k[b]);t=8;break;case"luni":S.dP(g,o,k[b]);t=4+2*k[b].length;break;case"fxrp":S.AV(g,o,k[b].x);
S.AV(g,o+8,k[b].y);t=16;break;case"artb":case"artd":S.PG(g,o,16);t=aF.$n(g,k[b],o+4)+4;break;case"SoCo":S.PG(g,o,16);
t=aF.$n(g,k[b],o+4)+4;break;case"GdFl":S.PG(g,o,16);t=aF.$n(g,k[b],o+4)+4;break;case"PtFl":S.PG(g,o,16);
t=aF.$n(g,k[b],o+4)+4;break;case"CgEd":var j={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},e=j,v=k[b];
e.Brgh.v=v.Brgh.v;e.Cntr.v=v.Cntr.v;e.useLegacy.v=v.useLegacy.v;S.PG(g,o,16);t=aF.$n(g,j,o+4)+4;break;
case"brit":g.e6(o,8);t=8;break;case"levl":var L=new im;t=hA.Z0(L,k[b]);S.Kb(g,o,L.data);break;case"curv":t=cx.H9(g,o,k[b]);
break;case"expA":t=14;g.e6(o,14);S.qC(g.data,o,1);S.J3(g.data,o+2,k[b].Exps?k[b].Exps.v:0);S.J3(g.data,o+6,k[b].Ofst?k[b].Ofst.v:0);
S.J3(g.data,o+10,k[b].gammaCorrection?k[b].gammaCorrection.v:1);break;case"vibA":S.PG(g,o,16);t=aF.$n(g,k[b],o+4)+4;
break;case"hue2":t=c2.H9(g,o,k[b]);break;case"blnc":t=19;g.e6(o,t);var H=["ShdL","MdtL","HghL"];for(var m=0;
m<3;m++){var w=k[b][H[m]].v;for(var P=0;P<3;P++)w.push(S.fD(g.data,o+m*6+P*2,w[P].v))}g.data[o+18]=k[b].PrsL.v?1:0;
break;case"blwh":var j={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var m=0;m<Q.length;m++){j[Q[m]]=k[b][Q[m]]}S.PG(g,o,16);t=aF.$n(g,j,o+4)+4;break;case"phfl":S.uD(g,o,2);
var x=k[b].Clr.v;S.uD(g,o+2,7);S.uD(g,o+4,Math.round(x.Lmnc.v*100));S.uD(g,o+6,Math.round(x.A.v*100));
S.uD(g,o+8,Math.round(x.B.v*100));S.uD(g,o+10,0);var F=o+2+10;g.e6(F,5);S.V_(g.data,F,k[b].Dnst.v);F+=4;
g.data[F]=k[b].PrsL.v?1:0;F++;t=F-o;break;case"mixr":t=44;g.e6(o,t);var E=aj.G8(k[b]);S.qC(g.data,o,1);
S.qC(g.data,o+2,E.uY?1:0);for(var m=0;m<20;m++)S.fD(g.data,o+4+m*2,E.Z[m]);break;case"clrL":case"rplc":S.uD(g,o,1);
S.PG(g,o+2,16);t=aF.$n(g,k[b],o+6)+6;break;case"nvrt":t=0;break;case"post":S.uD(g,o,k[b].Lvls.v);t=2;
break;case"thrs":S.uD(g,o,k[b].Lvl.v);t=2;break;case"grdm":var f=k[b].Rvrs?k[b].Rvrs.v:!1,c=!1,M=867527939,n=!1,X=!1,u=2048,I=[0,0,0,0],r=[32768,32768,32768,32768],J=k[b].Grad.v,U,K,i=J.Clrs==null?1:0;
if(i==0){U=J;K=JSON.parse(iZ.R_.aqd).v}else{U=jf.J0("grdm").Grad.v;K=J}g.e6(o,4);S.qC(g.data,o,1);g.data[o+2]=f?1:0;
g.data[o+3]=c?1:0;var z=o+4;S.dP(g,z,J.Nm.v);z+=4+J.Nm.v.length*2;z=eR.aoo(g,z,U);S.uD(g,z,i);z+=2;S.PG(g,z,K.RndS.v);
z+=4;S.uD(g,z,K.ShTr.v?1:0);z+=2;S.uD(g,z,K.VctC.v?1:0);z+=2;S.PG(g,z,K.Smth.v);z+=4;S.uD(g,z,3);z+=2;
for(var m=0;m<4;m++)S.uD(g,z+m*2,I[m]);z+=8;for(var m=0;m<4;m++)S.uD(g,z+m*2,r[m]);z+=8;z+=2;t=z-o;break;
case"selc":t=az.H9(g,o,k[b]);break;case"FMsk":S.Kb(g,o,k[b]);t=k[b].length;break;case"Txt2":var h=new im,R=dh.Z4(k[b].fj,h),C=_.Q(R,!0);
for(var m=0;m<R;m++)C[m]=h.data[m];S.Kb(g,o,C);t=C.length;break;case"vmsk":var G=k[b],W=0;S.PG(g,o,3);
if(!G.zi)W+=1<<1;if(!G.isEnabled)W+=1<<2;S.PG(g,o+4,W);t=8;var A=G.a.length;g.e6(o+8,A*26);gM.Ww(g.data,o+8,G.a,d.m,d.n);
t+=A*26;break;case"shmd":S.PG(g,o,Object.keys(k[b]).length);var F=o+4;for(var $ in k[b]){S.wJ(g,F,"8BIM");
F+=4;S.wJ(g,F,$);F+=4;S.PG(g,F,0);F+=4;S.PG(g,F,0);F+=4;S.PG(g,F,16);F+=4;var O=aF.$n(g,k[b][$],F);if(O%4!=0)O+=4-O%4;
S.PG(g,F-8,O+4);F+=O}t=F-o;break;case"TySh":var F=o;S.Bx(g,F,1);F+=2;var Y=k[b],h=new im;Y.O7.DocumentResources=JSON.parse(JSON.stringify(Y.O7.ResourceDict));
var R=e8.Z4(Y.O7,h),C=_.Q(R,!0);for(var m=0;m<R;m++)C[m]=h.data[m];Y.f4.EngineData={t:"tdta",v:C};var l=Y.O7.EngineDict.Editor.Text;
Y.f4.Txt.v=l.substring(0,l.length-1);S.ajG(g,F,Y.D);F+=48;S.Bx(g,F,50);F+=2;S.PG(g,F,16);F+=4;F+=aF.$n(g,Y.f4,F);
S.Bx(g,F,1);F+=2;S.PG(g,F,16);F+=4;F+=aF.$n(g,Y.IV,F);S.a3V(g,F,Y.Rt);F+=16;t=F-o;break;case"lmfx":S.PG(g,o,0);
S.PG(g,o+4,16);var j=JSON.parse(JSON.stringify(k[b])),B=!1;i_.dB(j);for(var m=0;m<iZ.pW.length;m++)if(j[iZ.pW[m]]!=null)B=!0;
S.wJ(g,a,B?"lmfx":"lfx2");t=aF.$n(g,j,o+8)+8;break;case"Patt":var F=cd.Jx(g,o,k[b]);t=F-o;break;case"SoLd":S.wJ(g,o,"soLD");
S.PG(g,o+4,4);S.PG(g,o+8,16);t=aF.$n(g,k[b],o+12)+12;break;case"vstk":case"pths":S.PG(g,o,16);t=aF.$n(g,k[b],o+4)+4;
break;case"vscg__":S.wJ(g,o,k[b].key);S.PG(g,o+4,16);t=aF.$n(g,k[b].Z,o+8)+8;break;case"vogk":S.PG(g,o,1);
S.PG(g,o+4,16);_.X.aqV(k[b]);for(var m=0;m<k[b].length;m++){var f4=k[b][m].v.keyOriginResolution;if(f4)f4.v=d.Qb}var V={classID:"null",keyDescriptorList:{t:"VlLs",v:k[b]}};
t=aF.$n(g,V,o+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var z=o;for(var m=0;m<k[b].length;m++){var q=k[b][m],s=z;
S.G2(g,z,0);z+=8;S.wJ(g,z,q.type);z+=4;S.PG(g,z,q.fr);z+=4;g.e6(z,1);g.data[z]=q.UK.length;z++;S.wJ(g,z,q.UK);
z+=q.UK.length;S.dP(g,z,q.iV+"\0");z+=4+q.iV.length*2+2;S.wJ(g,z,q.uF);z+=4;S.wJ(g,z,q.Il);z+=4;S.G2(g,z,q.raw.length);
z+=8;g.e6(z,1);g.data[z]=q.open;z++;S.Kb(g,z,q.raw);z+=q.raw.length;S.PG(g,z,1);z+=4;z+=11;var cW=z-s-8;
S.G2(g,s,cW);if(cW%4!=0){g.e6(z,4-cW%4);z+=4-cW%4}}t=z-o;break;case"FEid":var z=o;S.PG(g,z,3);z+=4;for(var dk=0;
dk<k[b].length;dk++){var kr=k[b][dk];z+=4;var j9=z;z+=4;S.M5(g,z,kr.id);z+=kr.id.length+1;S.PG(g,z,1);
z+=4;var bh=_.Q(kr.rect.O()),fe=kr.rect,gg=_.Q(fe.O());z+=4;var a$=z;z+=4;S._W(g,z,fe);z+=16;S.PG(g,z,8);
z+=4;S.PG(g,z,24);z+=4;for(var m=0;m<24+2;m++){var dg=-1;if(m==0)dg=0;if(m==1)dg=1;if(m==2)dg=2;if(m==25)dg=3;
S.PG(g,z,dg!=-1?1:0);z+=4;if(dg!=-1){_.B4(kr.buffer,bh,dg);_.sQ(bh,kr.rect,gg,fe);z+=4;var iv=z;z+=4;
g.e6(z,fe.O()+2);z=hD.QY(!0,gg,g.data,fe.m,fe.n,z,3);S.PG(g,iv,z-(iv+4))}}S.PG(g,a$,z-(a$+4));g.e6(z,1);
g.data[z]=kr.v?1:0;z++;if(kr.v!=null){var aQ=fe,dt=_.Q(aQ.O());dt.fill(kr.v.color);_.sQ(kr.v.channel,kr.v.rect,dt,aQ);
S._W(g,z,aQ);z+=16;z+=4;var hY=z;z+=4;g.e6(z,aQ.O()+2);z=hD.QY(!0,dt,g.data,aQ.m,aQ.n,z,3);S.PG(g,hY,z-(hY+4))}var cW=z-(j9+4);
S.PG(g,j9,cW);if(cW%4!=0)z+=4-cW%4}t=z-o;break;case"Anno":var b9=o,i0=k[b].length;S.uD(g,b9,2);S.uD(g,b9+2,1);
b9+=4;S.PG(g,b9,i0);b9+=4;for(var m=0;m<i0;m++){var gD=k[b][m],hU=gD[0],aW=gD[1],be=b9;b9+=4;S.wJ(g,b9,"txtA");
b9+=4;g.e6(b9,2);g.data[b9]=1;g.data[b9+1]=28;b9+=2;S.uD(g,b9,1);b9+=2;S._W(g,b9,new bd(hU,aW,17,21));
b9+=16;S._W(g,b9,new bd(hU+8,aW+10,241,141));b9+=16;g.e6(b9,10);gB.pT(g.data,b9,gD[2]);b9+=10;b9+=S.M5(g,b9,gD[3]);
b9+=S.M5(g,b9,"");b9+=S.M5(g,b9,"D:20211012120233+01'00'");var hv=gD[4].length*2;S.PG(g,b9,12+2+hv);
b9+=4;S.wJ(g,b9,"txtC");b9+=4;S.PG(g,b9,2+hv);b9+=4;g.e6(b9,2);g.data[b9]=254;g.data[b9+1]=255;b9+=2;
S.arW(g,b9,gD[4]);b9+=hv;S.PG(g,be,b9-be)}t=b9-o;break;default:console.log("unknown layer tag: "+b+", size: "+t);
o-=12;continue}var b3=["Txt2","artd","extd","pths"];if(b3.indexOf(b)==-1)if(t%4!=0)t+=4-t%4;if(T)S.G2(g,o-8,t);
else S.PG(g,o-4,t);if(b!="luni"&&b!="TySh")if(t%4!=0)t+=4-t%4;o+=t}return o};i_.Yc=function(g){for(var m=0;
m<iZ.order.length;m++){var o=iZ.order[m],k=iZ.pW[m];if(g[k]==null)g[k]={t:"VlLs",v:[]};if(g[o]!=null){g[k].v.push(g[o]);
delete g[o]}var y=[];for(var d=0;d<g[k].v.length;d++){var b=g[k].v[d];if(b.v.present==null||b.v.present.v==!0)y.push(b)}g[k].v=y}};
i_.dB=function(g){for(var m=0;m<iZ.order.length;m++){var o=iZ.order[m],k=iZ.pW[m],y=g[k].v.length;if(y==0){delete g[k];
continue}if(y==1){g[o]=g[k].v[0];delete g[k];continue}}};i_.oH=function(g,o){if(o=="GdFl"){if(g.Angl==null)g.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(g.Algn==null)g.Algn={v:!0,t:"bool"};if(g.Scl==null)g.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(g.Ofst==null)g.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(g.Rvrs==null)g.Rvrs={v:!1,t:"bool"};if(g.Dthr==null)g.Dthr={v:!1,t:"bool"}}if(o=="PtFl"){if(g.Algn==null)g.Algn={v:!0,t:"bool"};
if(g.Angl==null)g.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(g.Scl==null)g.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(g.phase==null)g.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};i_.clone=function(g,o){var k={};
if(g=="TySh"){k.D=o.D.clone();k.f4=JSON.parse(JSON.stringify(o.f4));k.IV=JSON.parse(JSON.stringify(o.IV));
k.Rt=o.Rt.clone();k.O7=JSON.parse(JSON.stringify(o.O7));if(o.add)k.add={vmsk:o.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(o.add.vogk))};
return k}else if(g=="fxrp")return o.clone();else if(g=="vmsk")return o.clone();else return JSON.parse(JSON.stringify(o))};
function ci(g,o){}ci.Qt=function(g,o,k,y){y=ci.a1Z(g,o,k,y);return y};ci.Z4=function(g,o,k,y,d){y=ci.aeX(g,o,k,y,d);
return y};ci.a1Z=function(g,o,k,y){var d=y;g.rect=S.Kn(k,y);y+=16;var b=S.EN(k,y);y+=2;g.sM=[];var T=o.d4;
for(var m=0;m<b;m++){g.sM[m]={id:S.NW(k,y),length:(T?S.pU:S.q)(k,y+2)};y+=T?10:6}var a=S.lp(k,y,4);y+=4;
if(a!="8BIM"){console.log("Invalid Blend mode signature: "+a);alert("Error in Photoshop file: wrong signature.");
throw"e"}g.HW=S.lp(k,y,4);y+=4;g.opacity=k[y];y+=1;g.Le=k[y]==1;y+=1;g.b_=k[y];y+=1;if(k[y]!=0)console.log("error in filler!");
y+=1;var t=S.q(k,y);y+=4;var j=y;y=ci.a0q(g,k,y);y=ci.avP(g,k,y);var e=S.Ol(k,y);g.name=e.oJ;y+=e.length;
if(e.length%4!=0)y+=4-e.length%4;y=i_.LE(k,y,j+t,g.add,T,o);if(g.add.lsct){if(g.add.lsct.HW)g.HW=g.add.lsct.HW;
g.add.lsct=g.add.lsct.type}return y};ci.aeX=function(g,o,k,y,d){var b=y;S._W(k,y,g.rect);y+=16;var T=g.aae();
S.uD(k,y,T.length);y+=2;var a=o.d4;d.push(y);for(var m=0;m<T.length;m++){S.Bx(k,y,T[m]);if(a)S.G2(k,y+2,0);
else S.PG(k,y+2,0);y+=a?10:6}S.wJ(k,y,"8BIM");y+=4;S.wJ(k,y,g.HW);y+=4;S.uE(k,y,g.opacity,1);y+=1;S.uE(k,y,g.Le?1:0,1);
y+=1;S.uE(k,y,g.b_,1);y+=1;S.uE(k,y,0,1);y+=1;var t=y;S.PG(k,y,0);y+=4;var j=y;y=ci.a0D(g,k,y);y=ci.amT(g,k,y);
var e=S.M5(k,y,g.name.slice(0,255));y+=e;if(e%4!=0)y+=4-e%4;if(g.add.lsct){g.add.lsct={type:g.add.lsct};
if(g.HW=="pass"){g.add.lsct.HW="pass";g.HW="norm"}}if(g.HW=="pass")g.add.lsct={type:g.add.lsct,HW:"pass"};
if(g.add.brit)g.add.CgEd=g.add.brit;y=i_.Ei(k,y,g.add,a,o);delete g.add.CgEd;if(g.add.lsct){if(g.add.lsct.HW)g.HW=g.add.lsct.HW;
g.add.lsct=g.add.lsct.type}var v=y-j;S.PG(k,t,v);return y};ci.a0q=function(g,o,k){var y=S.q(o,k);k+=4;
if(y==0)return k;var d=k;g.v=new p.GE;g.v.rect=S.Kn(o,k);k+=16;g.v.color=o[k];k+=1;var b=ci.Et(g.v,o,k);
k+=1;if(b){var T=!1,a=255,t=0,j=255,e=0;for(var m=0;m<g.sM.length;m++)if(g.sM[m].id==-3)T=!0;if(T){g.v7=ci.gF(o,k);
k+=18}var v=k,L=o[k];k++;if(L>>0&1){a=o[k];k++}if(L>>1&1){t=S.uc(o,k);k+=8}if(L>>2&1){j=o[k];k++}if(L>>3&1){e=S.uc(o,k);
k+=8}if((k-v&1)==1)k++;g.Uz=[a,t,j,e]}else{if(y==20)k+=2;else{g.v7=ci.gF(o,k);k+=18}}return d+y};ci.a0D=function(g,o,k){S.PG(o,k,0);
k+=4;if(g.v==null)return k;var y=g.Qp(),d=g.add.vmsk,b=k,T=!0;S.PG(o,k,0);S._W(o,k,g.v.rect);k+=16;S.uE(o,k,g.v.color);
k+=1;ci.VU(g.v,o,k,T);k+=1;if(T){if(g.v7){ci.auv(o,k,g.v7);k+=18}S.uE(o,k,15);k+=1;S.uE(o,k,y?y.gW:255);
k+=1;S.AV(o,k,y?y.uH:0);k+=8;S.uE(o,k,d?d.gW:255);k+=1;S.AV(o,k,d?d.uH:0);k+=8;k++}S.PG(o,b-4,k-b);return k};
ci.gF=function(g,o){var k=new p.GE;ci.Et(k,g,o);o+=1;k.color=g[o];o+=1;k.rect=S.Kn(g,o);o+=16;return k};
ci.auv=function(g,o,k){ci.VU(k,g,o,!1);o+=1;S.uE(g,o,k.color);o+=1;S._W(g,o,k.rect);o+=16};ci.Et=function(g,o,k){var y=o[k];
g.zi=(y>>0&1)==0;g.isEnabled=(y>>1&1)==0;g.Rw=(y>>3&1)==1;return y>>4&1};ci.VU=function(g,o,k,y){var d=0;
if(!g.zi)d+=1<<0;if(!g.isEnabled)d+=1<<1;if(g.Rw)d+=1<<3;if(y)d+=1<<4;S.uE(o,k,d)};ci.avP=function(g,o,k){var y=S.q(o,k);
k+=4;for(var m=0;m<y;m++)g.kC[m]=o[k+m];return k+y};ci.amT=function(g,o,k){S.PG(o,k,g.kC.length);k+=4;
o.e6(k,40);for(var m=0;m<40;m++){o.data[k+m]=g.kC[m]}return k+40};function hD(){}hD.Qt=function(g,o,k,y){y=hD.ahP(o,o.d4,o.$X,o.ju,g,k,y);
return y};hD.Z0=function(g,o,k,y,d,b){y=hD.alP(g,o,k,y,d,b);return y};hD.ahP=function(g,o,k,y,d,b,T){var a=d.sM,t={},j=T;
for(var m=0;m<a.length;m++){var e=a[m],v=e.id,L=e.length,H;if(v==-3)H=d.v7.rect;else if(v==-2)H=d.v.rect;
else H=d.rect;var w=hD.RZ(o,k,b,H.m,H.n,T,L);T+=L;if(v==-3)d.v7.channel=w;else if(v==-2)d.v.channel=w;
else t["c"+v]=w}var P=new _.up(0);P.Ng=null;if(y==3){P.o=t.c0;P.C=t.c1;P.k=t.c2;P.Ng=t["c-1"]}else if(y==1){P.o=t.c0;
P.C=t.c0;P.k=t.c0;P.Ng=t["c-1"]}else if(y==4){var Q=g.oZ.r1039,x=t.c0,F=t.c1,E=t.c2,f=t.c3;if(Q){var c=Q.agZ,M=17;
if(c==null){var n=ICC.R(Q.buffer);console.log(n);c=Q.agZ=ICC.U.sampleLUT(n,M)}var X={o:x,C:F,k:E,Ng:f},u=_.Q(x.length*4);
_.Mh(X,u);_.TY(u);ICC.U.applyLUT4(c,M,u,u);_.oX(u,X)}else{for(var m=0;m<x.length;m++){var I=1-x[m]*(1/255),r=1-F[m]*(1/255),J=1-E[m]*(1/255),U=1-f[m]*(1/255),K=UDOC.C.cmykToRgb([I,r,J,U]);
x[m]=K[0]*255;F[m]=K[1]*255;E[m]=K[2]*255}}P.o=x;P.C=F;P.k=E;P.Ng=t["c-1"]}if(P.o==null)P.o=_.Q(0);if(P.Ng==null&&P.o!=null){P.Ng=P.o.slice(0);
P.Ng.fill(255)}if(P.C==null)P.C=P.o.slice(0);if(P.k==null)P.k=P.o.slice(0);d.buffer=_.Q(Math.max(0,d.rect.O()*4));
_.Mh(P,d.buffer);return T};hD.alP=function(g,o,k,y,d,b){var T=o.aae(),a=new _.up(o.rect.O());_.oX(o.buffer,a);
for(var m=0;m<T.length;m++){var t=T[m],j,e;if(t==-3)j=o.v7.rect;else if(t==-2)j=o.v.rect;else j=o.rect;
if(t==-3)e=o.v7.channel;if(t==-2)e=o.v.channel;if(t==-1)e=a.Ng;if(t==0)e=a.o;if(t==1)e=a.C;if(t==2)e=a.k;
k.e6(y,j.O()*3+4);var v=y;y=hD.QY(g,e,k.data,j.m,j.n,y,b[1]?3:1);var L=y-v;if(g)S.av7(k.data,d+m*10+2,L);
else S.V_(k.data,d+m*6+2,L)}return y};hD.RZ=function(g,o,k,y,d,b,T){var a=S.EN(k,b);b+=2;return hD.N3(g,o,k,y,d,b,a,T-2)};
hD.QY=function(g,o,k,y,d,b,T){S.fD(k,b,T);b+=2;b=hD.lD(g,o,k,y,d,b,T);return b};hD.N3=function(g,o,k,y,d,b,T,a){var t,j=y*d*(o>>>3),e=j&3,v=j+(e==0?0:4-e);
if(a<=0){return _.Q(v)}if(T>3){console.log("unknown compression: "+T,y,d,y*d,a);T=0}if(T==0){if(b+v<=k.length)t=k.slice(b,b+v);
else{t=_.Q(j);for(var m=0;m<j;m++)t[m]=k[b+m]}b+=j}else if(T==1){t=_.Q(j);var L=g?4:2,H=hD.E1(k,t,y,d,b,b+L*d,L);
b+=L*d+H}else if(T==2||T==3){var w=new Uint8Array(k.buffer,b+2,a-6),P=_.Q(v);UZIP.inflateRaw(w,P);if(T==3){if(o==8)for(var Q=0;
Q<d;Q++){var x=Q*y+1,F=x+y-1,E=P[x-1];for(var f=x;f<F;f++){E+=P[f];P[f]=E&255}}else for(var Q=0;Q<d;
Q++){var x=Q*y+1,F=x+y-1,E=P[2*x-2]<<8|P[2*x-1];for(var f=x;f<F;f++){var M=f<<1;E+=P[M]<<8|P[M+1];P[M]=E>>>8;
P[M+1]=E&255}}}if(P.length==v)t=P;else{t=_.Q(v);for(var m=0;m<P.length;m++)t[m]=P[m]}}if(o==16){var n=_.Q(y*d);
for(var m=0;m<j;m+=2)n[m>>>1]=t[m];t=n}return t};hD.lD=function(g,o,k,y,d,b,T){var a=y*d;if(T==0)for(var m=0;
m<a;m++)k[b++]=o[m];else if(T==1){var t=g?4:2,j=hD.Tz(o,k,y,d,b,b+t*d,t);b+=t*d+j}else if(T==2||T==3){if(T==3){var e=new Uint8Array(o.length);
for(var v=0;v<d;v++){var L=v*y+1,H=L+y-1,w=o[L-1];e[L-1]=w;for(var P=L;P<H;P++){e[P]=o[P]+(256-w)&255;
w=o[P]}}o=e}k[b]=120;k[b+1]=156;b+=2;var Q=pako.deflateRaw(o,{a33:4});S.ayH(k,b,Q);b+=Q.length+4}else console.log("Unknown compression: "+T);
return b};hD.E1=function(g,o,k,y,d,b,T){if(!(g instanceof Uint8Array)||!(o instanceof Uint8Array))throw"e";
var a=b,t=y|0;if(T==2)for(var m=0;m<t;m++){var j=S.EN(g,d+(m<<1));hD.FF(g,b,j,o,m*k,k);b+=j}else for(var m=0;
m<t;m++){var j=S.q(g,d+(m<<2));hD.FF(g,b,j,o,m*k,k);b+=j}return b-a};hD.Tz=function(g,o,k,y,d,b,T){var a=b;
if(T==2)for(var m=0;m<y;m++){var t=hD.m$(g,m*k,k,o,b);S.qC(o,d+m*2,t);b+=t}else for(var m=0;m<y;m++){var t=hD.m$(g,m*k,k,o,b);
S.V_(o,d+m*4,t);b+=t}return b-a};hD.m$=function(g,o,cy,k,y){var d,b,T,a,t,bc,j;a=o+cy;for(T=o,b=y;cy>0;
T=d,cy-=bc){j=cy<128?cy:128;if(T<=a-3&&g[T+1]==g[T+0]&&g[T+2]==g[T+0]){for(d=T+3;d<T+j&&g[d]==g[T+0];
)++d;bc=d-T;k[b++]=1+256-bc;k[b++]=g[T+0]}else{for(d=T;d<T+j;)if(d<=a-3&&g[d+1]==g[d+0]&&g[d+2]==g[d+0])break;
else++d;bc=d-T;k[b++]=bc-1;for(var m=0;m<bc;m++)k[b+m]=g[T+m];b+=bc}}return b-y};hD.FF=function(g,o,k,y,d,b){for(var T=0;
T<k;){var cy=g[o++];if(cy>=128){var a=g[o++],t=d+(257-cy);y.fill(a,d,t);d=t;T+=2}else{for(var m=0;m<=cy;
m++)y[d+m]=g[o+m];o+=cy+1;d+=cy+1;T+=1+1+cy}}};function jX(){}jX.ol=function(g,o,k){return;var y="",d=o;
while(d!=0){var b=d%1e3+"";while(b.length<3)b="0"+b;y=(y==""?b:b+" ")+y;d=Math.floor(d/1e3)}while(y.startsWith("0")&&y!="0")y=y.slice(1);
while(y.length<11)y=" "+y;console.log("===",y,"\t".repeat(g),": "+k)};jX.a2l=function(g){var o={oZ:{}},y=0,d=0,a;
o.d4=!1;o.$X=8;var k=new Uint8Array(g);d=jX.rh(o,k,y);y=d;d=jX.ep(o,k,y);y=d;var b=S.q(k,y);y+=4+b;var T=o.d4?8:4;
if(o.d4)a=S.pU(k,y);else a=S.q(k,y);y+=T+a;d=jX.yC(o,k,y);return[{MR:new bd(0,0,o.m,o.n),data:o.buffer.buffer}]};
jX.Qt=function(g,o){o.d4=!1;o.$X=8;var k=new Uint8Array(g),y=0,d=0,W,bh=!1,fe=!0,gg=!1,a$=0,dG=0;d=jX.rh(o,k,y);
jX.ol(0,d-y,"PSD Header");y=d;d=jX.ep(o,k,y);jX.ol(0,d-y,"Color Mode Data");y=d;d=jX.apg(o,k,y);jX.ol(0,d-y,"Image Resources");
y=d;d=jX.ai8(o,k,y);jX.ol(0,d-y,"Layer And Mask Info");y=d;d=jX.yC(o,k,y);jX.ol(0,d-y,"Merged Image");
y=d;if(o.d.length==0){var b=o.Qf();b.mP("Background");o.d.push(b);b.buffer=o.buffer.slice(0);b.rect=new bd(0,0,o.m,o.n)}if(o.oZ.r1005){o.Qb=S.asd(o.oZ.r1005,0)}if(o.oZ.r1026){var k=o.oZ.r1026;
for(var m=0;m<k.length;m+=2){var d=o.d[m>>>1];if(d)d.Pu=S.EN(k,m)}}if(o.oZ.r1072){var k=o.oZ.r1072;for(var m=0;
m<k.length;m++){var d=o.d[m];if(d)d.o4=k[m]==1}}if(o.oZ.r1032){o.HR=jX.$m(o.oZ.r1032,0)}delete o.oZ.r1036;
o.Z8(o.oZ.r1039);if(o.oZ.r1050){var T=S.q,a=o.oZ.r1050,t=S.q(a,0);if(t==6){var j=4,e=S.Kn(a,j);j+=16;
var v=S.NJ(a,j);j+=4+v.length*2;var L=T(a,j);j+=4;var H=o.mZ;for(var m=0;m<L;m++){var w=D.We.tX(),Q;
H.push(w);w=w.v;w.sliceID.v=T(a,j);j+=4;w.groupID.v=T(a,j);j+=4;var P=T(a,j);j+=4;if(P==1){Q=T(a,j);
j+=4}var v=S.NJ(a,j);j+=4+v.length*2;var x=T(a,j);j+=4;var F=[T(a,j),T(a,j+4),T(a,j+8),T(a,j+12)];j+=16;
D.We.RK(H,H.length-1,F);var E=w.url.v=S.NJ(a,j);j+=4+E.length*2;var f=w.null.v=S.NJ(a,j);j+=4+f.length*2;
var c=w.Msge.v=S.NJ(a,j);j+=4+c.length*2;var M=w.altTag.v=S.NJ(a,j);j+=4+M.length*2;w.cellTextIsHTML.v=a[j]==1;
j++;var n=w.cellText.v=S.NJ(a,j);j+=4+n.length*2;var X=T(a,j);j+=4;var u=T(a,j);j+=4;var I=a.slice(j,j+4);
j+=4;if(P!=2)H.pop()}}else if(t==8){var r={};aF.SL(a,r,8,!1);var a=o.mZ=r.slices.v;for(var m=0;m<a.length;
m++){if(a[m].v.origin.v.ESliceOrigin!="userGenerated"){a.splice(m,1);m--}}}}if(o.oZ.r1058){var J=o.oZ.r1058,U=UTIF.decode(J.buffer,{parseMN:!1,debug:!1});
bu.pe(U[0],o.Vq);delete o.oZ.r1058}if(o.oZ.r1060){var K=S.IL(o.oZ.r1060);bu.avM(K,o.Vq);delete o.oZ.r1060}if(o.oZ.r1065){var k=o.oZ.r1065;
o.M9={};aF.SL(k,o.M9,4,!1)}if(o.oZ.r1069){var k=o.oZ.r1069,i=[];for(var m=2;m<k.length;m+=4){var Q=S.q(k,m);
for(var z=0;z<o.d.length;z++){var d=o.d[z];if(d.add.lyid==Q&&d.add.lsct!=3)i.push(z)}}o.g=i}if(o.oZ.r1025){var h=o.oZ.r1025;
delete o.oZ.r1025;var R=gM.x9(h,0,h.length,o.m,o.n),C=new p.Ew;C.a=R;o.p8[0]=dF.Jl("Working Path",{vmsk:C})}var G=o.add.pths;
delete o.add.pths;var A=o.oZ.r3000;if(A){W={};aF.SL(A,W,4,!1);delete o.oZ.r3000}if(G){var $=G.pathSymmetrySelectedPath;
if($){var O=G.pathList.v[$.v].v,Y=O.pathUnicodeName.v;o.CG=Y.startsWith("Tile Symmetry")}}for(var l=0;
l<=997;l++){var B="r"+(2e3+l),h=o.oZ[B];if(h==null)break;var R=gM.x9(h,0,h.length,o.m,o.n),Y="Path "+l;
if(G){var f4=G.pathList.v[l].v;Y=f4.pathUnicodeName.v;if(Y=="Tile Symmetry 1")continue}var V=W?W.keyRootDescriptorList.v[l].v.keyDescriptorList.v:p.Ko(R),C=new p.Ew;
C.a=R;o.p8.push(dF.Jl(Y,{vmsk:C,vogk:V}));delete o.oZ[B]}delete o.d4;if(o.oZ.r4000){o.EO=_.EO.Qt(o.oZ.r4000)}var q=o.oZ.r7000,s=o.oZ.r7001;
if(q){var cW=S.IL(q);o.t_=jX.cJ(cW)}if(s){var cW=S.IL(s);o.S0=jX.G9(cW)}delete o.oZ.r7000;delete o.oZ.r7001;
var dk=new bd(0,0,o.m,o.n),kr=o.add.Txt2,j9=kr;if(j9){j9=j9.fj;if(j9._DocumentResources==null)j9=gF.ajk(j9)}var dg=-1;
for(var m=0;m<o.d.length;m++){var d=o.d[m],iv=d.add.lsct,aQ=d.add.vmsk,dt=d.Qp();if(iv==cK.ZG){a$++;
d.add.lspf=0}else if(iv==cK.TD||iv==cK.E5)a$--;if(d.name==""){d.name="Layer "+(m+1);gg=!0}if(gg&&d.gT()&&d.HW=="norm")d.HW="pass";
if(d.wg()&&d.lQ(o).v){var hY=d.lQ(o);hY.v.isEnabled=d.add.SoLd.filterFX.v.filterMaskEnable.v}if(aQ&&d.JW()){var b9=iZ.X9.default;
if(d.add.vstk==null)d.add.vstk=JSON.parse(JSON.stringify(b9));else{var i0="strokeStyleLineDashSet";if(d.add.vstk[i0]==null)d.add.vstk[i0]=JSON.parse(JSON.stringify(b9[i0]))}d.add.vstk.strokeStyleResolution.v=o.Qb}if(aQ&&(d.add.vogk==null||_.w.L7(aQ.a)!=d.add.vogk.length))d.Ko();
if(!1){var gD=d.add.vogk,hU=!0;for(var aW=0;aW<gD.length;aW++){var be=gD[aW].v.keyShapeInvalidated;if(be==null||be.v==!1)hU=!1}if(hU)d.Ko()}if(d.add.SoLd&&d.rect.on()){console.log("redrawing smart instance");
d.tq(o)}if(dt==null&&d.v!=null){if(d.v.Rw==!1){d.v.Rw=!0;d.v7=d.v.clone()}}dt=d.Qp();if(d.Uz){var b9=d.Uz,C=aQ;
if(dt){dt.gW=b9[0];dt.uH=b9[1]}if(C){C.gW=b9[2];C.uH=b9[3]}d.Uz=null}if(dt!=null&&aQ!=null&&(dt.uH+aQ.uH!=0||dt.gW+aQ.gW!=2*255))d.bD(o);
else if(aQ!=null&&!d.JW())d.bD();else if(dt&&dt.gW!=255&&d.JW())d.bD(o);var hv=d.add.artb;if(hv&&hv.artboardBackgroundType==null)hv.artboardBackgroundType={t:"long",v:1};
if(hv&&a$!=0)delete d.add.artb;var b3=d.add.vstk;if(d.JW()&&(d.rect.on()||aQ&&aQ.uH!=0||b3&&!b3.fillEnabled.v&&(!b3.strokeEnabled.v||b3.strokeStyleLineWidth.v.val==0)))d.vJ(o);
if(d.add.TySh){bh=!0;if(!d.rect.on())fe=!1}if(d.add.TySh&&j9){dg++;var gT=d.add.TySh.O7,aB=bw.cO(gT),bO=j9._DocumentObjects._TextObjects;
if(bO.length<=dg){console.log("Txt2 incomplete");continue}var kf=bO[dg]._Model,iY=kf._StyleRun?kf._StyleRun._RunArray:[],gs=gT.EngineDict.StyleRun.RunArray;
for(var c1=0;c1<gs.length;c1++){var gK=gs[c1].StyleSheet.StyleSheetData;if(iY[c1]==null)continue;var c4=iY[c1]._RunData._StyleSheet._Features;
if(c4&&c4._BaselineDirection)gK.BaselineDirection=parseInt(c4._BaselineDirection.slice(1));if(c4&&c4._FillBackgroundFlag)gK._FillBackgroundFlag=c4._FillBackgroundFlag;
if(c4&&c4._FillBackgroundColor){var k6=c4._FillBackgroundColor,jk=k6._Color._Values.slice(0);for(var z=0;
z<4;z++)jk[z]=parseFloat(jk[z].slice(1));gK._FillBackgroundColor={Type:1,Values:jk}}if(c4&&c4._LineWidth)gK._LineWidth=parseFloat(c4._LineWidth.slice(1))}var jt=gT.EngineDict.ParagraphRun.RunArray,j_=kf._ParagraphRun._RunArray;
if(j_==null)j_=[];var kw=Math.min(j_.length,jt.length);for(var z=0;z<kw;z++){var eu=jt[z].ParagraphSheet.Properties,ak=j9._DocumentResources._ParagraphSheetSet._Resources,cY=j_[z]._RunData._ParagraphSheet;
if(typeof cY=="string")cY=ak[parseInt(cY.slice(1))]._Resource;var bG=cY._Parent==null?cY:ak[parseInt(cY._Parent.slice(1))]._Resource;
cY=cY._Features;bG=bG._Features;var j5=cY._ParagraphDirection;if(j5==null)j5=bG._ParagraphDirection;
if(j5)eu._Direction=parseInt(j5.slice(1));if(cY._ComposerEngine)eu._ComposerEngine=parseInt(cY._ComposerEngine.slice(1))}if(kf._AlternateGlyphRun){var j_=kf._AlternateGlyphRun._RunArray,kw=j_.length,hI=gT.EngineDict.AlternateGlyphRun=bw.awd();
for(var z=0;z<kw;z++){var cY=j_[z],jJ={},ca=cY._RunData._AlternateGlyphSheet;if(ca)jJ.Glyph=parseInt(ca._Glyph.slice(1));
hI.RunArray.push(jJ);hI.RunLengthArray.push(parseInt(cY._Length.slice(1)))}}var gI=j9._DocumentResources,c3=gI._TextFrameSet._Resources,fs=c3[dg]._Resource,eS=fs._Data,bf=new d3(1,0,0,1,0,0);
if(fs._0){var ef=parseFloat(fs._0[0].slice(1)),hh=parseFloat(fs._0[1].slice(1));bf.translate(ef,hh)}if(aB){bf.translate(aB[0],aB[1]);
bw.Y$(gT,[0,0,aB[2]-aB[0],aB[3]-aB[1]])}else{if(fs._Bezier&&fs._Bezier._Points){var R=fs._Bezier._Points,ef=parseFloat(R[0].slice(1)),hh=parseFloat(R[1].slice(1));
if(ef!=0||hh!=0){bf.translate(ef,hh)}}}if(fs._Data&&fs._Data._FrameMatrix){var fA=fs._Data._FrameMatrix;
fA=fA.map(function(fj){return parseFloat(fj.slice(1))});bf.concat(new d3(fA[0],fA[1],fA[2],fA[3],fA[4],fA[5]))}bf.concat(d.add.TySh.D);
d.add.TySh.D=bf;var x=eS._Type?parseInt(eS._Type.slice(1)):0;if(x==2||x==1&&eS._PathData&&eS._PathData._Spacing=="i-3")if(fs._Bezier){var jS=function(fj){return parseFloat(fj.slice(1))},R=fs._Bezier._Points.map(jS);
if(aB)_.p.D(R,new d3(1,0,0,1,-aB[0],-aB[1]),R);var dn=eS._PathData?eS._PathData._Reversed:!1,id=eS._TextOnPathTRange;
if(id==null)id=["f-3","f-3"];gT.Curve={Points:R,TextOnPathTRange:id.map(jS),Reversed:dn==null?!1:dn};
d.add.TySh.add={vmsk:new p.Ew,vogk:null};bw.MQ(d.add.TySh)}if(eS._LineOrientation=="i2")gT._LineOrientation=2}}D.h8.S9(o,!0);
var jy={},cw=[];for(var m=0;m<o.d.length;m++){var d2=o.d[m].add.lyid;if(d2==null)continue;var dG=Math.max(dG,d2);
if(jy[d2]!=null)cw.push(m);else jy[d2]=!0}for(var m=0;m<cw.length;m++)o.d[cw[m]].add.lyid=dG+1+m};jX.$m=function(g,o){var k=S.q(g,o+12),y=[];
for(var m=0;m<k;m++){var d=g[o+16+m*5+4],b=S.jd(g,o+16+m*5)/32;y.push([d,b])}return y};jX.cJ=function(g){var o=new DOMParser,k=o.parseFromString(g,"text/xml").firstChild.children[0],y=k.getElementsByTagName("variables");
if(y.length==0)return[];y=y[0].children;var d=[],b="varName trait docRef placementMethod align valign clip".split(" ");
for(var T=0;T<y.length;T++){var a=y[T],t={};d.push(t);for(var j=0;j<b.length;j++){var e=b[j],v=a.getAttribute(e);
if(v==null)continue;t[e]=v}}return d};jX.G9=function(g){var o=new DOMParser,k=o.parseFromString(g,"text/xml").firstChild.children,y=[[]];
if(k==null)return y;for(var m=0;m<k.length;m++){var d=k[m],b=[];y.push(b);for(var T=0;T<d.children.length;
T++){var a=d.children[T];if(m==0)y[0].push(a.tagName);b.push(a.textContent)}}return y};jX.Z4=function(g,o,k){D.h8.U4(g);
D.h8.S9(g,!1);g.d4=k[3]==!0;var y=[],d=[],w=0,Q=1,M=16,gg=0;for(var m=0;m<g.d.length;m++){var b=g.d[m];
if(b.wg()&&b.lQ(g).v){b.add.SoLd.filterFX.v.filterMaskEnable.v=b.lQ(g).v.isEnabled}if(b.add.TySh){var T=b.add.TySh.O7,a=bw.sZ(T);
b.add.TySh.f4.TextIndex={t:"long",v:y.length};y.push(T);if(a==2)bw.iD(b.add.TySh)}var t=b.add.vstk;if(t)t.strokeStyleResolution.v=g.Qb;
if(b.JW()||k[2]&&b.add.SoLd){d[m]=[b.rect,b.buffer];b.rect=new bd;b.buffer=_.Q(0);if(b.add.SoLd){var j=b.lQ(g);
if(j!=null){d[m].push(j.buffer);j.buffer=_.Q(j.buffer.length)}}}}if(y.length>0){var e=g.add.Txt2?g.add.Txt2.fj:null;
if(g.add.Txt2==null)g.add.Txt2={};g.add.Txt2.fj=iK.atp(y,null,e)}var v=[g.add.lnk2,g.add.FEid,g.add.Patt],L=g.aa5(g.d);
g.a5Q(L);g.oZ.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);S.KN(g.oZ.r1005,0,g.Qb);S.KN(g.oZ.r1005,8,g.Qb);
if(g.xA()){g.oZ.r1022=new Uint8Array([0,3+g.Tm.length-1,0])}else delete g.oZ.r1022;var H=new Uint8Array(g.d.length*2),P=new Uint8Array(g.d.length);
for(var m=0;m<g.d.length;m++){var b=g.d[m],x=b.Pu,F=b.o4?1:0;S.qC(H,m*2,x);P[m]=F;if(x>w)w=x;if(F==0)Q=0}if(w>0)g.oZ.r1026=H;
if(Q<1)g.oZ.r1072=P;var E=g.HR,f=E.length,c=g.oZ.r1032=_.Q(16+5*f,!0);S.V_(c,0,1);S.V_(c,4,576);S.V_(c,8,576);
S.V_(c,12,f);for(var m=0;m<f;m++){S.Jp(c,M,Math.round(E[m][1]*32));c[M+4]=E[m][0];M+=5}if(k[0]!=!0){var n=[g.buffer,new bd(0,0,g.m,g.n)],X=0;
_._h(n);while(n[X+1].O()>200*200)X+=2;var u=cp.rJ("jpg"),I=n[X+1],r=new Uint8Array(u.p0([[n[X].buffer]],I.m,I.n)),c=g.oZ.r1036=_.Q(28+r.length);
S.V_(c,0,1);S.V_(c,4,I.m);S.V_(c,8,I.n);S.V_(c,12,I.m*3);S.V_(c,16,I.O()*3);S.V_(c,20,r.length);S.qC(c,24,24);
S.qC(c,26,1);c.set(r,28)}var J=_.Yj(g.buffer),U=[];if(J)U.push({name:"Transparency",IZ:{o:255,C:0,k:0},ea:100,Wj:1});
U=U.concat(g.Tm);delete g.oZ.r1045;delete g.oZ.r1006;delete g.oZ.r1077;var K=new im;M=0;var i=new Uint8Array(4+U.length*13);
i[3]=1;for(var m=0;m<U.length;m++){var z=U[m],h=z.name+"\0";S.dP(K,M,h);M+=4+h.length*2;var R=4+m*13;
gB.pT(i,R,z.IZ);i[R+11]=z.ea;i[R+12]=z.Wj}g.oZ.r1045=K.data.slice(0,M);g.oZ.r1077=i;for(var m=0;m<g.mZ.length;
m++)g.mZ[g.mZ.length-m-1].v.sliceID.v=2+m*3;var C={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:g.mZ}},K=new im;
S.PG(K,0,8);S.PG(K,4,16);var G=aF.$n(K,C,8);g.oZ.r1050=K.data.slice(0,G+8);var K=new im;S.PG(K,0,16);
var G=aF.$n(K,g.M9,4);g.oZ.r1065=K.data.slice(0,G+4);var W=g.g;c=g.oZ.r1069=_.Q(2+W.length*4,!0);S.qC(c,0,W.length);
for(var m=0;m<W.length;m++)S.V_(c,2+4*m,g.d[W[m]].add.lyid);delete g.oZ.r1058;delete g.oZ.r1060;if(Object.keys(g.Vq).length!=0){var A=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
bu.BN(g.Vq,A[0],k[0]&&k[1]);g.oZ.r1058=new Uint8Array(UTIF.encode(A));var $=bu.a0r(g.Vq);g.oZ.r1060=S.vw($)}var O=[],Y=[],l=g.p8.slice(0);
if(g.CG){var B=gM.ss([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),f4=new p.Ew;
f4.a=B;l.push(dF.Jl("Tile Symmetry 1",{vmsk:f4,vogk:p.Ko(B)}))}for(var m=0;m<l.length;m++){var V=l[m],B=V.add.vmsk.a;
if(m==0&&B.length==2)continue;var q=_.Q(B.length*26);gM.Ww(q,0,B,g.m,g.n);var s=m==0?1025:2e3+m-1;g.oZ["r"+s]=q;
if(m!=0){var cW={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:V.name}};if(V.name=="Tile Symmetry 1")cW.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
O.push({t:"Objc",v:cW});Y.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:V.add.vogk}}})}}if(O.length!=0){g.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:O}};
if(g.CG)g.add.pths.pathSymmetrySelectedPath={t:"long",v:O.length-1};Y={classID:"null",keyRootDescriptorList:{t:"VlLs",v:Y}};
var K=new im;S.PG(K,0,16);var G=aF.$n(K,Y,4);g.oZ.r3000=K.data.slice(0,G+4)}else{delete g.add.pths;delete g.oZ.r3000}if(g.t_.length!=0){var dk="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var m=0;m<g.t_.length;m++){var kr=g.t_[m],j9=[];for(var s in kr)j9.push(s+"=\""+kr[s]+"\"");dk+="<variable "+j9.join(" ")+">\n</variable>\n"}dk+="</variables>\n</variableSet>\n</variableSets>";
g.oZ.r7000=S.vw(dk)}if(g.S0.length!=0){var dk="<sampleDataSets psdPath=\""+g.name+"\">\n";for(var m=1;
m<g.S0.length;m++){var bh=g.S0[m];dk+="<sampleDataSet dataSetName=\"Data Set "+m+"\">\n";for(var fe=0;
fe<bh.length;fe++)dk+="<"+g.S0[0][fe]+">"+bh[fe].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+g.S0[0][fe]+">\n";
dk+="</sampleDataSet>\n"}dk+="</sampleDataSets>";g.oZ.r7001=S.vw(dk)}gg=jX.aiu(g,o,gg,3+U.length);gg=jX.a6y(g,o,gg);
gg=jX.aqx(g,o,gg);gg=jX.a97(g,o,gg,k,J);gg=jX.afX(g,o,gg,k[0],J);var a$=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var m=0;m<a$.length;m++)delete g.oZ["r"+a$[m]];for(var m=0;m<g.d.length;m++){var b=g.d[m];if(b.JW()||k[2]&&b.add.SoLd){b.rect=d[m][0];
b.buffer=d[m][1];if(d[m][2]){var j=b.lQ(g);d[m].push(j.buffer);j.buffer=d[m][2]}}}g.a5Q(v);D.h8.S9(g,!0);
delete g.d4;return gg};jX.rh=function(g,o,k){var y=S.lp(o,k,4);k+=4;if(y!="8BPS")alert("invalid header signature: "+y);
var d=S.EN(o,k);k+=2;g.d4=d==2;if(d!=1&&d!=2)alert("invalid version: "+d);k+=6;g.jg=S.EN(o,k);k+=2;g.n=S.jd(o,k);
k+=4;g.m=S.jd(o,k);k+=4;g.$X=S.EN(o,k);k+=2;g.ju=S.EN(o,k);k+=2;return k};jX.aiu=function(g,o,k,y){o.e6(0,64);
S.Ok(o.data,k,"8BPS");k+=4;S.qC(o.data,k,g.d4?2:1);k+=2;S.V_(o.data,k,0);k+=4;S.qC(o.data,k,0);k+=2;
S.qC(o.data,k,y);k+=2;S.Jp(o.data,k,g.n);k+=4;S.Jp(o.data,k,g.m);k+=4;S.qC(o.data,k,8);k+=2;S.qC(o.data,k,3);
k+=2;return k};jX.ep=function(g,o,k){var y=S.jd(o,k);k+=4;if(y!=0)g._s=o.slice(k,k+y);k+=y;return k};
jX.a6y=function(g,o,k){S.J8(o,k,0);k+=4;return k};jX.apg=function(g,o,k){var y=S.q(o,k),d=0;k+=4;var b=[];
while(d<y){var T=S.lp(o,k+d,4);d+=4;var a=S.EN(o,k+d);d+=2;var t=S.Ol(o,k+d);d+=t.length;if(T=="MeSa"&&(a==7e3||a==7001)){}else if(T!="8BIM"){b.push(a);
console.log("Unknown Image Resources signature: "+T+", ID: "+a)}var j=S.q(o,k+d);d+=4;if(g.oZ["r"+a]!=null)console.log("--- two resources with same ID");
g.oZ["r"+a]=S.ww(o,k+d,j);d+=j+(j&1)}for(var m=0;m<b.length;m++)delete g.oZ["r"+b[m]];return k+y};jX.aqx=function(g,o,k){var y=k,T=0;
k+=4;var d=[];for(var b in g.oZ){d.push(parseInt(b.slice(1)))}d.sort(function(v,L){return v-L});for(var m=0;
m<d.length;m++){var a=d[m];S.wJ(o,k+T,a==7e3||a==7001?"MeSa":"8BIM");T+=4;S.uD(o,k+T,a);T+=2;var t=S.M5(o,k+T,"");
T+=t;var j=g.oZ["r"+a],e=j.length;S.PG(o,k+T,e);T+=4;S.Kb(o,k+T,j);T+=e;if(e%2==1)T++}S.PG(o,y,T);return k+T};
jX.ai8=function(g,o,k){var y=k,d,b,T=g.d4?8:4;if(g.d4)d=S.pU(o,k);else d=S.q(o,k);k+=T;if(d==0)return y+T;
b=jX.anH(g,o,k);jX.ol(1,b-k,"Layer Info");k=b;b=jX.axM(g,o,k);jX.ol(1,b-k,"Global Layer Mask Info");
k=b;b=i_.LE(o,k,y+T+d,g.add,g.d4,g);jX.ol(1,b-k,"Project Add Info");k=b;return y+T+d};jX.a97=function(g,o,k,y,d){var b=k;
S.PG(o,k,0);k+=4;if(g.d4){S.PG(o,k,0);k+=4}k=jX.atj(g,o,k,y,d);k=jX.auC(g,o,k);k=i_.Ei(o,k,g.add,g.d4,g);
if(g.d4)S.G2(o,b,k-b-8);else S.PG(o,b,k-b-4);return k};jX.anH=function(g,o,k){var y,d=g.d4?8:4;if(g.d4)y=S.pU(o,k);
else y=S.q(o,k);k+=d;if(y!=0)jX.lg(g,o,k);return k+y};jX.lg=function(g,o,k){var y=S.NW(o,k);k+=2;var d=Math.abs(y);
for(var m=0;m<d;m++){var b=new p;k=ci.Qt(b,g,o,k);g.d[m]=b}var T=new bd(0,0,g.m,g.n);for(var m=0;m<d;
m++){var a=g.d[m],t=a.Qp(),j=hD.Qt(a,g,o,k);if(j-k>8)jX.ol(2,j-k,"Lay: "+a.getName());k=j;jX.Pf(a,T);
if(t)jX.Pf(t,T)}};jX.Pf=function(g,o){};jX.atj=function(g,o,k,y,d){var b=k,T=g.d4;k+=T?8:4;k=jX.ayR(g,o,k,y,d);
var a=k-b-(T?8:4);if(a%2!=0)a++;if(T)S.G2(o,b,a);else S.PG(o,b,a);return b+a+(T?8:4)};jX.ayR=function(g,o,k,y,d){var b=g.d.length;
S.Bx(o,k,d?-b:b);k+=2;var T=[];for(var m=0;m<b;m++)k=ci.Z4(g.d[m],g,o,k,T);for(var m=0;m<b;m++)k=hD.Z0(g.d4,g.d[m],o,k,T[m],y);
return k};jX.axM=function(g,o,k){var y=S.q(o,k);k+=4;k+=y;return k};jX.auC=function(g,o,k){var y=S.PG(o,k,0);
k+=4;return k};jX.yC=function(g,o,k){var y=g.ju,d="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),b=[1,1,1,3,4,1,1,3],T,P;
if(y!=3){if(y==1||y==2||y==4)console.log("Project will be converted from "+d[y]+" to "+d[3]+" mode.");
else{alert("Color mode "+d[y]+" is not supported yet :(")}if(y==4)g.add.fcmy=1}if(g.oZ.r1045){T=[];var a=g.oZ.r1045,t=0;
while(t<a.length){var j=S.jN(a,t);T.push(j);t+=4+2+j.length*2}}var e=b[y]+(T==null||T[0]=="Transparency"?1:0),v=g.m,L=g.n,H=v*L,w=S.EN(o,k);
k+=2;g.buffer=_.Q(H*4);_.Sm(g.buffer,4278190080);var Q=k;for(var x=0;x<g.jg;x++){if(w==0){P=hD.N3(g.d4,g.$X,o,v,L,k,w);
k+=H*(g.$X>>>3)}else if(w==1){P=_.Q(H);var F=g.d4?4:2;if(x==0)k+=g.jg*L*F;k+=hD.E1(o,P,v,L,Q+x*L*F,k,F)}else{console.log("unknown compression of image data: ",w);
return}if(x<e){_.e_(P,g.buffer,x);if(g.jg==1&&x==0){_.e_(P,g.buffer,1);_.e_(P,g.buffer,2)}}else{var E=new p.GE,f=x-e,c=x-b[g.ju];
E.name=T?T[c]:"Alpha";if(E.name=="Quick Mask"){E.ao=!0;g.kD.push(f)}E.rect=new bd(0,0,v,L);E.channel=P;
E.color=0;E.xO();g.Tm[f]=E;if(g.oZ.r1077){var a=g.oZ.r1077.slice(4+c*13);E.IZ=gB.QK(a,0);E.ea=a[11];
E.Wj=a[12];if(E.Wj==2)E.ao=!0}}}g.jg=4;if(g.ju==2)for(var m=0;m<H;m++){var M=m*4,n=g.buffer[M];g.buffer[M]=g._s[0+n];
g.buffer[M+1]=g._s[256+n];g.buffer[M+2]=g._s[512+n]}return k};jX.afX=function(g,o,k,y,d){var b=1,T=16,a=g.m,t=g.n,e,v;
S.uD(o,k,b);k+=2;var j=a*t;if(!y){v=new _.up(a*t);_.oX(g.buffer,v);var L=v.o,H=v.C,w=v.k,P=v.Ng;for(var m=0;
m<j;m++){var Q=P[m]*(1/255);L[m]=~~(L[m]*Q+255*(1-Q));H[m]=~~(H[m]*Q+255*(1-Q));w[m]=~~(w[m]*Q+255*(1-Q))}}else e=_.Q(j);
var x=[e,e,e];if(!y)x=[v.o,v.C,v.k];if(d)x.push(y?e:v.Ng);for(var m=0;m<g.Tm.length;m++){x.push(g.Tm[m].aq(new bd(0,0,g.m,g.n)))}var F=k;
for(var E=0;E<x.length;E++){o.e6(k,a*t+4);e=x[E];if(b==0||b==2||b==3)k=hD.lD(g.d4,e,o.data,a,t,k,b);
else{var f=g.d4?4:2;if(E==0)k+=x.length*t*f;var c=k;k+=hD.Tz(e,o.data,a,t,F+E*t*f,k,f)}}return k};function e8(){}e8.Qt=function(g){var o={};
e8.tN(g,o,0,0);return o};e8.Z4=function(g,o){var k=0;k=e8.m8(g,o,k,0);return k};e8.tN=function(g,o,k,y){while(g[k]!="<".charCodeAt(0))k++;
k+=2;while(!0){if(g[k]=="/".charCodeAt(0)){k++;var d=S.indexOf(g," ".charCodeAt(0),k,k+50),b=S.indexOf(g,"\n".charCodeAt(0),k,k+50);
if(b==-1)b=Infinity;if(d==-1)d=Infinity;var T=Math.min(b,d),a=S.lp(g,k,T-k),t=e8.U3(g,T+1,y+1,a);o[a]=t.Z;
k=T+1;k+=t.size}else if(g[k]==">".charCodeAt(0)){k+=2;break}else{var j=g[k];if(j==10||j==9||j==32)k++;
else{console.log("unknown byte: "+j+", char: "+String.fromCharCode(j),k);k++}}}return k};e8.m8=function(g,o,k,y){S.wJ(o,k,"<<\n");
k+=3;var d=e8.azk;for(var b in g){S.uE(o,k,"\t".charCodeAt(0),y+1);k+=y+1;S.wJ(o,k,"/"+b);k+=1+b.length;
if(d(g[b])||g[b]instanceof Array){S.wJ(o,k," ");k++}else{S.wJ(o,k,"\n");k++;S.uE(o,k,"\t".charCodeAt(0),y+1);
k+=y+1}k=e8.RN(g[b],o,k,y+1);S.wJ(o,k,"\n");k++}S.uE(o,k,"\t".charCodeAt(0),y);k+=y;S.wJ(o,k,">>");k+=2;
return k};e8.U3=function(g,o,k,y){var d=o,b={size:0,Z:0};while(!0){while(g[o]==" ".charCodeAt(0)||g[o]=="\t".charCodeAt(0)||g[o]=="\n".charCodeAt(0))o++;
if(g[o]=="<".charCodeAt(0)){b.Z={};o=e8.tN(g,b.Z,o,k+1);break}else if(g[o]=="(".charCodeAt(0)){o+=3;
var T=o;while(!0){if(g[T-1]!="\\".charCodeAt(0)&&g[T]==")".charCodeAt(0)&&(g[T+1]=="\n".charCodeAt(0)||g[T+1]==" ".charCodeAt(0)))break;
else T++}b.Z=S.ed(g,o,T);o=T+2;break}else if(g[o]=="[".charCodeAt(0)){o++;b.Z=[];while(g[o]==" ".charCodeAt(0)||g[o]=="\t".charCodeAt(0)||g[o]=="\n".charCodeAt(0))o++;
while(g[o]!="]".charCodeAt(0)){var a=e8.U3(g,o,k+1,y);b.Z.push(a.Z);o+=a.size;while(g[o]==" ".charCodeAt(0)||g[o]=="\t".charCodeAt(0)||g[o]=="\n".charCodeAt(0))o++}o++;
break}else{var t=S.indexOf(g," ".charCodeAt(0),o,o+50),j=S.indexOf(g,"\n".charCodeAt(0),o,o+50);if(j==-1)j=Infinity;
if(t==-1)t=Infinity;var e=S.lp(g,o,Math.min(t,j)-o).trim(),v=parseFloat(e);if(!isNaN(v)){b.Z=parseFloat(e);
o=Math.min(t,j)+1;break}else if(e=="true"||e=="false"){b.Z=e=="true";o=Math.min(t,j)+1;break}else if(e=="null"||e=="NaN"||e=="undefined"){b.Z=0;
o=Math.min(t,j)+1;break}else{console.log("unknown identifier: "+e);throw"e"}o=Math.min(t,j)+1}}b.size=o-d;
return b};e8.RN=function(g,o,k,y){if(g instanceof Array){var d=g.length==0||typeof g[0]=="number";if(d){S.wJ(o,k,"[ ");
k+=2;for(var m=0;m<g.length;m++){var b=g[m]+" ";S.wJ(o,k,b);k+=b.length}S.wJ(o,k,"]");k+=1}else{S.wJ(o,k,"[\n");
k+=2;for(var m=0;m<g.length;m++){S.uE(o,k,"\t".charCodeAt(0),y);k+=y;k=e8.RN(g[m],o,k,y);S.wJ(o,k,"\n");
k++}S.uE(o,k,"\t".charCodeAt(0),y);k+=y;S.wJ(o,k,"]");k+=1}}else if(g instanceof Object){k=e8.m8(g,o,k,y)}else if(typeof g=="string"){S.wJ(o,k,"(");
k++;S.uE(o,k,254);k++;S.uE(o,k,255);k++;k=S.x2(o,k,g);S.wJ(o,k,")");k+=1}else{var b=g+"";S.wJ(o,k,b);
k+=b.length}return k};e8.azk=function(g){var o=typeof g;return o=="string"||o=="number"||o=="boolean"};
function dh(){}dh.Qt=function(g){var o={};dh.uJ(g,o,0,0);return o};dh.Z4=function(g,o){var k=0;S.wJ(o,k," ");
k++;k=dh.K_(g,o,k,0);k--;o.e6(k,2);o.data[k]=o.data[k+1]=0;k+=2;return k};dh.tN=function(g,o,k,y){while(g[k]!="<".charCodeAt(0)){k++;
console.log("\u0161ipka")}k+=2;k=dh.uJ(g,o,k,y);return k};dh.m8=function(g,o,k,y){S.wJ(o,k,"<< ");k+=3;
k=dh.K_(g,o,k,y);S.wJ(o,k,">>");k+=2;return k};dh.Yp=function(g){return g==9||g==10||g==32};dh.uJ=function(g,o,k,y){while(!0){while(dh.Yp(g[k])||g[k]==0)k++;
if(k>=g.length)break;if(g[k]=="/".charCodeAt(0)){k++;var d=k;while(!dh.Yp(g[d]))d++;var b=S.lp(g,k,d-k);
k=d+1;var T=dh.U3(g,k,y,b);o["_"+b]=T.Z;k+=T.size}else if(g[k]==">".charCodeAt(0)){k+=2;break}else{var a=g[k];
console.log(S.lp(g,k,k+100));console.log("unknown byte: "+a+", char: "+String.fromCharCode(a)+", offset: "+k);
k++;throw"e";return-1}}return k};dh.K_=function(g,o,k,y){for(var d in g){var b=d.substring(1,d.length);
S.wJ(o,k,"/"+b);k+=1+b.length;S.wJ(o,k," ");k++;k=dh.RN(g[d],o,k,y+1);S.wJ(o,k," ");k++}return k};dh.U3=function(g,o,k,y){var d=o,b={type:"",size:0,Z:0};
while(dh.Yp(g[o]))o++;if(g[o]=="<".charCodeAt(0)){b.type="Object";b.Z={};o=dh.tN(g,b.Z,o,k+1)}else if(g[o]=="(".charCodeAt(0)){b.type="String";
o++;if(g[o]==")".charCodeAt(0)){b.Z="e";o++}else{o+=2;var T=o,a=0;while(!0){if(g[T]==")".charCodeAt(0)&&g[T-1]!="\\".charCodeAt(0))break;
else T+=1}b.Z="s"+S.ed(g,o,T);o=T+2}}else if(g[o]=="[".charCodeAt(0)){o++;b.Z=[];b.type="Array";while(dh.Yp(g[o]))o++;
while(g[o]!="]".charCodeAt(0)){var t=dh.U3(g,o,k+1,y);if(t==-1)return-1;b.Z.push(t.Z);o+=t.size;delete t.size;
while(dh.Yp(g[o]))o++}o++}else{var j=o;while(!dh.Yp(g[j]))j++;var e=S.lp(g,o,j-o),v=parseFloat(e);if(!isNaN(v)&&e.indexOf(".")!=-1){b.type="Float";
var L=parseFloat(e);b.Z="f"+L}else if(!isNaN(v)&&e.indexOf(".")==-1){b.type="Integer";b.Z="i"+parseInt(e)}else if(e=="true"||e=="false"){b.type="Boolean";
b.Z=e=="true"}else if(e.charAt(0)=="/"){b.type="BString";b.Z=e}else if(e=="NaN"||e=="undefined"){b.type="Float";
b.Z="f0"}else{console.log("unknown value",JSON.stringify(e));throw"e"}o=j+1}b.size=o-d;return b};dh.afF=function(g){if(g==Math.round(g))return g+".0";
var o=g.toFixed(5);while(o.endsWith("0")&&o[o.length-2]!=".")o=o.slice(0,o.length-1);if(0<g&&g<1)o=o.slice(1);
if(-1<g&&g<0)o="-"+o.slice(2);return o};dh.RN=function(g,o,k,y){var d=typeof g=="string"?g.charAt(0):"";
if(g instanceof Array){S.wJ(o,k,"[ ");k+=2;for(var m=0;m<g.length;m++){k=dh.RN(g[m],o,k,y);S.wJ(o,k," ");
k++}S.wJ(o,k,"]");k+=1}else if(g instanceof Object){k=dh.m8(g,o,k,y)}else if(d=="e"){S.wJ(o,k,"()");
k+=2}else if(d=="s"){S.wJ(o,k,"(");k++;S.uE(o,k,254);k++;S.uE(o,k,255);k++;k=S.x2(o,k,g.substring(1));
S.wJ(o,k,")");k++}else if(d=="/"){S.wJ(o,k,g);k+=g.length}else if(d=="f"){var b=parseFloat(g.substring(1)),T=dh.afF(b);
S.wJ(o,k,T);k+=T.length}else if(d=="i"){S.wJ(o,k,g.substring(1));k+=g.length-1}else{var T=g+"";S.wJ(o,k,T);
k+=T.length}return k};function S(){}S.agl=function(cy){var g="";for(var m=3;m>=0;m--)g+=String.fromCharCode(cy>>m*8&255);
return g};S.awn=function(g){var cy=0;for(var m=g.length-1;m>=0;m--)cy|=g.charCodeAt(m)<<(3-m)*8;return cy};
S.indexOf=function(g,o,k,y){if(k==null)k=0;if(y==null)y=g.length;y=Math.min(y,g.length);for(var m=k;
m<y;m++)if(g[m]==o)return m;return-1};S.xb=function(g,o,k){if(k==null)k=0;var y=o.length,d=g.length-y;
if(typeof o=="string"){var b=[];for(var m=0;m<y;m++)b.push(o.charCodeAt(m));o=b}if(o.length>0){var T=o[0];
for(var m=k;m<d;m++)if(g[m]==T){var a=!0;for(var t=1;t<y;t++)if(o[t]!=g[m+t]){a=!1;break}if(a)return m}}return-1};
S.ed=function(g,o,k){var y=[],b="";while(o<k){var d=g[o++];if(d=="\\".charCodeAt(0))y.push(g[o++]);else y.push(d)}for(var m=0;
m<y.length;m+=2)b+=String.fromCharCode(y[m]<<8|y[m+1]);return b};S.a0g=function(g,o,k){var y=new Uint8Array(2);
for(var m=0;m<k.length;m++){S.qC(y,0,k.charCodeAt(m));if(y[0]==")".charCodeAt(0)||y[0]=="(".charCodeAt(0)||y[0]=="\\".charCodeAt(0)){g[o]="\\".charCodeAt(0);
o++}g[o]=y[0];o++;if(y[1]==")".charCodeAt(0)||y[1]=="(".charCodeAt(0)||y[1]=="\\".charCodeAt(0)){g[o]="\\".charCodeAt(0);
o++}g[o]=y[1];o++}return o};S.x2=function(g,o,k){g.e6(o,4*k.length);return S.a0g(g.data,o,k)};S.VL=function(g,o,k){var y="";
for(var m=0;m<k;m++){var d=g[o++]|g[o++]<<8;y+=String.fromCharCode(d)}return y};S.EF=function(g,o,k){var y="";
for(var m=0;m<k;m++){var d=g[o++]<<8|g[o++];y+=String.fromCharCode(d)}return y};S.a9F=function(g,o,k){for(var m=0;
m<k.length;m++){var y=k.charCodeAt(m);S.SQ(g,o+2*m,y)}};S.hk=function(g,o,k){for(var m=0;m<k.length;
m++){var y=k.charCodeAt(m);S.qC(g,o+2*m,y)}};S.arW=function(g,o,k){g.e6(o,2*k.length);S.hk(g.data,o,k)};
S.a0o=function(g,m,o){var k=[],y=0,d=0;o+=m;while(m<o){y=g[m++];if((y&128)==0)d=y;else if((y&224)==192){d=(y&31)<<6;
y=g[m++];d|=y&63}else if((y&240)==224){d=(y&15)<<12;y=g[m++];d|=(y&63)<<6;y=g[m++];d|=y&63}else if((y&248)==240){d=(y&7)<<18;
y=g[m++];d|=(y&63)<<12;y=g[m++];d|=(y&63)<<6;y=g[m++];d|=y&63}else throw"e";k.push(d)}return k};S.AJ=window.TextDecoder?new window.TextDecoder("utf8"):null;
S.IL=function(g,o,k){if(o==null)o=0;if(k==null)k=g.length;if(S.AJ&&o==0&&k==g.length)return S.AJ.decode(g);
var y=S.a0o(g,o,k),d=y.length;for(var m=0;m<d;m++)y[m]=String.fromCharCode(y[m]);return y.join("")};
S.yG=window.TextEncoder?new window.TextEncoder("utf8"):null;S.vw=function(g){if(S.yG)return S.yG.encode(g);
var o=new Uint8Array(g.length*4),k=S.Gg(g,o,0);return o.slice(0,k)};S.Gg=function(g,o,k){var y=g.length,m=0;
for(var d=0;d<y;d++){var b=g.charCodeAt(d);if((b&4294967295-(1<<7)+1)==0){o[k+m]=b;m++}else if((b&4294967295-(1<<11)+1)==0){o[k+m]=192|b>>6;
o[k+m+1]=128|b>>0&63;m+=2}else if((b&4294967295-(1<<16)+1)==0){o[k+m]=224|b>>12;o[k+m+1]=128|b>>6&63;
o[k+m+2]=128|b>>0&63;m+=3}else if((b&4294967295-(1<<21)+1)==0){o[k+m]=240|b>>18;o[k+m+1]=128|b>>12&63;
o[k+m+2]=128|b>>6&63;o[k+m+3]=128|b>>0&63;m+=4}else throw"e"}return m};S.vD=function(g,o){var k=S.q(g,o),y=S.IL(g,o+4,k-1);
return{ci:y,qK:4+k}};S.a3i=function(g,o){var k=S._u(g,o),y=S.VL(g,o+4,k);return y};S.NJ=function(g,o){var k=S.q(g,o),y=S.EF(g,o+4,k);
return y};S.jN=function(g,o){var k=S.q(g,o),y=S.EF(g,o+4,k-1);return y};S.adv=function(g,o,k){S.dh(g,o,k.length);
o+=4;S.a9F(g,o,k)};S.a1B=function(g,o,k){S.V_(g,o,k.length);o+=4;S.hk(g,o,k)};S.dP=function(g,o,k){g.e6(o,4+2*k.length);
S.a1B(g.data,o,k)};S.a3J=function(g,o,k){g.e6(o,4+2*k.length);S.adv(g.data,o,k)};S.U1=function(g,o,k){var y=[];
for(var m=0;m<k;m++)y.push(String.fromCharCode(g[o+m]));return y};S.a4X=function(g,o,k){var y=!1,d=g.length-k.length;
for(var m=o;m<d;m++){for(var b=0;b<k.length;b++){if(g[m+b]!=k.charCodeAt(b))break;if(b==k.length-1)return m}}};
S.lp=function(g,o,k){var y="";for(var m=0;m<k;m++)y+=String.fromCharCode(g[o+m]);return y};S.Ok=function(g,o,k){for(var m=0;
m<k.length;m++)g[o+m]=k.charCodeAt(m)};S.wJ=function(g,o,k){g.e6(o,k.length);S.Ok(g.data,o,k)};S.asL=function(g,o,k){var y="";
for(var m=0;m<k;m++){var d=g[o+m];if(d<10)y+="  ";else if(d<100)y+=" ";y+=d+", "}return y};S.EN=function(g,o){return g[o]<<8|g[o+1]};
S.qC=function(g,o,cy){g[o]=cy>>8&255;g[o+1]=cy&255};S.uD=function(g,o,cy){g.e6(o,4);S.qC(g.data,o,cy)};
S.asd=function(g,o){var k=S.EN(g,o),y=S.EN(g,o+2);return k+y*(1/65536)};S.KN=function(g,o,cy){var k=Math.floor(cy),y=Math.floor((cy-k)*65536);
S.qC(g,o,k);S.qC(g,o+2,y)};S.Ha=function(g,o){return g[o+1]<<8|g[o]};S.SQ=function(g,o,cy){g[o+1]=cy>>8&255;
g[o]=cy&255};S.g2=function(g,o,cy){g.e6(o,4);S.SQ(g.data,o,cy)};S.NW=function(g,o){S.HJ[0]=g[o+1];S.HJ[1]=g[o];
return S.zP[0]};S.R5=function(g,o){S.HJ[0]=g[o];S.HJ[1]=g[o+1];return S.zP[0]};S.fD=S.qC;S.Bx=S.uD;S.jd=function(g,o){S.rT[0]=g[o+3];
S.rT[1]=g[o+2];S.rT[2]=g[o+1];S.rT[3]=g[o];return S.g6[0]};S.Jp=function(g,o,cy){S.g6[0]=cy;g[o+3]=S.rT[0];
g[o+2]=S.rT[1];g[o+1]=S.rT[2];g[o+0]=S.rT[3]};S.J8=function(g,o,cy){g.e6(o,4);S.Jp(g.data,o,cy)};S.eW=function(g,o,k,y){k[y+0]=g[o+0];
k[y+1]=g[o+1];k[y+2]=g[o+2];k[y+3]=g[o+3]};S._u=function(g,o){S.eW(g,o,S.rT,0);return S.ape[0]};S.dh=function(g,o,cy){S.ape[0]=cy;
S.eW(S.rT,0,g,o)};S.N4=function(g,o,cy){g.e6(o,4);S.dh(g.data,o,cy)};S.da=function(g,o){S.eW(g,o,S.rT,0);
return S.g6[0]};S.akf=function(g,o,cy){S.g6[0]=cy;S.eW(S.rT,0,g,o)};S.an5=function(g,o,cy){g.e6(o,4);
S.akf(g.data,o,cy)};S.q=function(g,o){var k=g[o]*(256*256*256)+(g[o+1]<<16|g[o+2]<<8|g[o+3]);return k};
S.V_=function(g,o,cy){g[o]=cy>>24&255;g[o+1]=cy>>16&255;g[o+2]=cy>>8&255;g[o+3]=cy>>0&255};S.PG=function(g,o,cy){g.e6(o,4);
S.V_(g.data,o,cy)};S.pU=function(g,o){return S.q(g,o)<<32|S.q(g,o+4)};S.av7=function(g,o,cy){S.V_(g,o,cy>>16>>16);
S.V_(g,o+4,cy&4294967295)};S.G2=function(g,o,cy){g.e6(o,8);S.av7(g.data,o,cy)};S.uc=function(g,o){var k=new Uint8Array(8);
for(var m=0;m<8;m++)k[m]=g[o+7-m];var y=new Float64Array(k.buffer);return y[0]};S.Ib=function(g,o){var k=new Uint8Array(8);
for(var m=0;m<8;m++)k[m]=g[o+m];var y=new Float64Array(k.buffer);return y[0]};S.yS=function(g,o,cy){var k=new Float64Array(1);
k[0]=cy;var y=new Uint8Array(k.buffer);for(var m=0;m<4;m++){var d=y[m];y[m]=y[7-m];y[7-m]=d}for(var m=0;
m<8;m++)g[o+m]=y[m]};S.AV=function(g,o,cy){g.e6(o,8);S.yS(g.data,o,cy)};S.ZF=function(g,o){S.rT[0]=g[o+3];
S.rT[1]=g[o+2];S.rT[2]=g[o+1];S.rT[3]=g[o+0];return S.ha[0]};S.DF=function(g,o){S.rT[0]=g[o+0];S.rT[1]=g[o+1];
S.rT[2]=g[o+2];S.rT[3]=g[o+3];return S.ha[0]};S.J3=function(g,o,cy){S.ha[0]=cy;g[o+0]=S.rT[3];g[o+1]=S.rT[2];
g[o+2]=S.rT[1];g[o+3]=S.rT[0]};S.apG=function(g,o,cy){g.e6(o,4);S.J3(g.data,o,cy)};S.TG=function(g,o,cy){S.ha[0]=cy;
g[o+0]=S.rT[0];g[o+1]=S.rT[1];g[o+2]=S.rT[2];g[o+3]=S.rT[3]};S.ah$=function(g,o,cy){g.e6(o,4);S.TG(g.data,o,cy)};
S.a2T=function(g,o){var k=S.jd(g,o),y=k*(1/(1<<24));return y};S.ado=function(g,o,k){var y=Math.floor(k*(1<<24));
S.Jp(g,o,y)};S.asq=function(g,o,k){g.e6(o,4);S.ado(g.data,o,k)};S.Ol=function(g,o){var k=g[o],y=S.lp(g,o+1,k);
k+=1-k%2;return{oJ:y,length:k+1}};S.a3L=function(g,o,k){var y=k.length;g[o]=y;S.Ok(g,o+1,k);if(y%2==0){g[o+1+y]=0;
++y}return y+1};S.M5=function(g,o,k){g.e6(o,k.length+2);return S.a3L(g.data,o,k)};S.fx=function(g,o){var k=new d3;
k.Ng=S.uc(g,o+0*8);k.k=S.uc(g,o+1*8);k._I=S.uc(g,o+2*8);k.vP=S.uc(g,o+3*8);k.ii=S.uc(g,o+4*8);k.xF=S.uc(g,o+5*8);
return k};S.Wr=function(g,o,k){S.yS(g,o+0*8,k.Ng);S.yS(g,o+1*8,k.k);S.yS(g,o+2*8,k._I);S.yS(g,o+3*8,k.vP);
S.yS(g,o+4*8,k.ii);S.yS(g,o+5*8,k.xF)};S.ajG=function(g,o,k){g.e6(o,48);S.Wr(g.data,o,k)};S.awT=function(g,o){var k=S.ZF(g,o),y=S.ZF(g,o+4),d=S.ZF(g,o+8),b=S.ZF(g,o+12);
return new bd(k,y,d-k,b-y)};S.a04=function(g,o,k){S.J3(g,o,k.x);S.J3(g,o+4,k.y);S.J3(g,o+8,k.x+k.m);
S.J3(g,o+12,k.y+k.n)};S.a3V=function(g,o,k){g.e6(o,16);S.a04(g.data,o,k)};S.Kn=function(g,o){var k=S.jd(g,o),y=S.jd(g,o+4),d=S.jd(g,o+8),b=S.jd(g,o+12);
return new bd(y,k,b-y,d-k)};S.abq=function(g,o,k){S.Jp(g,o,k.y);S.Jp(g,o+4,k.x);S.Jp(g,o+8,k.y+k.n);
S.Jp(g,o+12,k.x+k.m)};S._W=function(g,o,k){g.e6(o,16);S.abq(g.data,o,k)};S.ww=function(g,o,k){var y=new Uint8Array(k);
for(var m=0;m<k;m++)y[m]=g[o+m];return y};S.ayH=function(g,o,k){g.set(k,o)};S.Kb=function(g,o,k){g.e6(o,k.length);
S.ayH(g.data,o,k)};S.a3g=function(g,o,k,cy){if(!cy)cy=1;for(var m=0;m<cy;m++)g[o+m]=k};S.uE=function(g,o,k,cy){if(!cy)cy=1;
g.e6(o,cy);S.a3g(g.data,o,k,cy)};S.zP=new Int16Array(1);S.HJ=new Uint8Array(S.zP.buffer);S.g6=new Int32Array(1);
S.ape=new Uint32Array(S.g6.buffer);S.rT=new Uint8Array(S.g6.buffer);S.ha=new Float32Array(S.g6.buffer);
function an(){}an.Qt=function(g,o){var k=new Uint8Array(g),y=0,d=S.lp(k,y,9),a=4,t=100;y+=9;var b=S.lp(k,y,4);
y+=4;y++;o.m=S.q(k,y);y+=4;o.n=S.q(k,y);y+=4;var T=S.q(k,y);y+=4;if(T!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(b)==-1){t=S.q(k,y);y+=4;if(parseInt(b.slice(1))>=7){t=t}else alert("Unknown XCF version: "+b);
a=8}var j={};y=an.tG(k,y,j);var e=[];y=an.cX(k,y,e,a);var v=[];y=an.cX(k,y,v,a);o.cQ=0;for(var m=0;m<e.length;
m++)an.aio(k,e[m],o,j,a,t);while(o.cQ>0){o.d.push(o.L0());o.cQ--}o.d.reverse();delete o.cQ;o.buffer=_.Q(o.m*o.n*4);
if(o.d.length==0)console.log("No layers!!!");for(var m=0;m<v.length;m++){var L=an.aiJ(k,v[m],j,a,t);
if(L.P5[aJ.axr])o.J={channel:L.Au,rect:new bd(0,0,o.m,o.n)}}};an.aio=function(g,o,k,y,d,b){var T=k.Qf(),a=S.q(g,o),v=0;
o+=4;var t=S.q(g,o);o+=4;T.rect=new bd(0,0,a,t);var j=S.q(g,o);o+=4;var e=S.vD(g,o);o+=e.qK;T.mP(e.ci);
var L={};o=an.tG(g,o,L);if(L[aJ.ap0]){var H=L[aJ.ap0];v=H.length/4-1}if(L[aJ.vF]){T.rect.x=S.jd(L[aJ.vF],0);
T.rect.y=S.jd(L[aJ.vF],4)}if(L[aJ.avH]){T.opacity=S.q(L[aJ.avH],0)}if(L[aJ.af3]){T.add.lsct=cK.TD;T.b_=24}if(L[aJ.amV]){var w=S.q(L[aJ.amV],0);
T.HW=aJ.an2[w];if(T.gT()&&T.HW=="norm")T.HW="pass"}if(L[aJ.a52]){if(S.q(L[aJ.a52],0)==0)T.b_+=2}if(L[aJ.a9O]){var P=S.q(L[aJ.a9O],0);
T.add.lsct=P&1==1?cK.TD:cK.E5}if(L[aJ.Lf]){var Q=L[aJ.Lf];for(var x in Q){var F=Q[x];if(x=="gimp-text-layer"){var E=an.aqK(F),f=E.text,c=E.font,M=E.color,n=E["font-size"];
if(f==null&&E.markup){var X=new DOMParser,u=X.parseFromString(E.markup,"image/svg+xml");while(u.firstChild!=null&&u.firstChild.tagName!=null){u=u.firstChild;
var I=u.getAttribute("font"),r=u.getAttribute("foreground"),J=u.getAttribute("size");if(I!=null)c=I;
if(r!=null){r=CSS.QK(r);M=[1,r.o/255,r.C/255,r.k/255]}if(J!=null){n=""+parseFloat(J)/245}}f=u.textContent}T.add.lnsr="rend";
T.add.TySh=bw.j_(0,0);T.add.TySh.Rt=new bd(0,0,100,100);T.add.TySh.D=new d3(1,0,0,1,T.rect.x,T.rect.y);
var U=T.add.TySh.O7;bw.pj(U,0,f);var K=bw.DE(U,0,0),i=E.justify,z=E["line-spacing"];if(M)K.RY.FillColor={Type:1,Values:[1,parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]};
if(n){n=Math.round(parseFloat(n));K.RY.FontSize=n;T.add.TySh.D.xF+=Math.min(17,n*.17)}if(z){z=Math.round(parseFloat(z)+K.RY.FontSize*1.2);
K.RY.Leading=z;K.RY.AutoLeading=!1}if(i)K.by.Justification=["left","right","center","fill"].indexOf(i);
if(c&&c!="Sans-serif"){var h=c.toLowerCase(),R="bold italic semi extra regular condensed light".split(" "),C=h.length;
for(var m=0;m<R.length;m++){var G=h.indexOf(R[m]);if(G!=-1&&G<C&&h[G-1]==" ")C=G}if(C!=h.length)c=c.slice(0,C-1).split(" ").join("")+"-"+c.slice(C).split(" ").join("");
bw.nx(K,c)}bw.SX(U,0,f.length,K);var W=E["box-width"],A=E["box-height"],$=W?parseFloat(W):T.rect.m,O=A?parseFloat(A):T.rect.n;
bw.ms(U,1);bw.Y$(U,[0,0,Math.ceil($),Math.ceil(O)])}else console.log("Unknown property "+x)}}while(k.cQ>v){k.d.push(k.L0());
k.cQ--}k.cQ=v;if(T.add.lsct==cK.TD||T.add.lsct==cK.E5)k.cQ++;var Y=d==4?S.q:S.pU,l=Y(g,o);o+=d;var B=Y(g,o);
o+=d;if(T.eT()){T.buffer=_.Q(T.rect.O()*4);var f4=new _.up(T.rect.O());an.avd(g,l,f4,y,d,b);_.Mh(f4,T.buffer)}if(B!=0){T.v=new p.GE;
var V=an.aiJ(g,B,y,d,b);T.v.channel=V.Au;T.v.rect=T.rect.clone();if(L[aJ.atU])T.v.isEnabled=S.q(L[aJ.atU],0)==1;
T.v.color=T.v.channel[0];T.v.xO()}if(T.gT())T.rect=new bd;k.d.push(T)};an.aqK=function(g){var o="("+S.IL(g,0,g.length-1)+")",k=[],y={};
an.a5V(o,1,k);an.abw(k,y);return y};an.abw=function(g,o){for(var m=0;m<g.length;m++){var k=g[m],y=k[0];
if(k.length==2)o[y]=k[1];else o[y]=k.slice(1)}};an.a5V=function(g,o,k){while(!0){if(o>=g.length)throw"e";
var y=g.charAt(o);o++;if(y=="("){var d=[];o=an.a5V(g,o,d);k.push(d)}else if(y==" "||y=="\n"||y=="\r"){}else if(y==")")return o;
else if(y=="\""){var b=o;while(!0){var T=g[o];o++;if(T=="\"")break;if(T=="\\")o++}k.push(JSON.parse(g.slice(b-1,o)))}else{var b=o-1;
while(g[o]!=" "&&g[o]!=")")o++;k.push(g.slice(b,o))}}};an.aiJ=function(g,o,k,y,d){var b=S.q(g,o);o+=4;
var T=S.q(g,o);o+=4;var a=S.vD(g,o);o+=a.qK;var t={};o=an.tG(g,o,t);var j=new _.up(b*T),e=y==4?S.q:S.pU,v=e(g,o);
o+=y;an.avd(g,v,j,k,y,d);return{Au:j.o,P5:t}};an.avd=function(g,o,k,y,d,b){var T=S.q(g,o);o+=4;var a=S.q(g,o);
o+=4;var t=S.q(g,o);o+=4;var j=d==4?S.q:S.pU,e=j(g,o);o+=d;an.a1W(g,e,k,y,t,d,b)};an.a1W=function(g,o,k,y,d,b,T){var a=S.q(g,o),e=0,m=0;
o+=4;var t=S.q(g,o);o+=4;var j=new bd(0,0,a,t);if(T==100||T==150)e=1;else if(T==200||T==250)e=2;else if(T==300||T==350)e=4;
else if(T==500||T==550)e=2;else if(T==600||T==650)e=4;else if(T==700||T==750)e=8;else{alert("unsupported bit depth "+T);
throw"e"}var v=d/e,e=Math.round(d/v),L=[];o=an.cX(g,o,L,b);var H=new _.up(64*64*e),w=new bd,P=y[aJ.a2u][0],Q=[H.o,H.C,H.k,H.Ng];
if(v==3)H.Ng.fill(255);var x=Date.now();for(var F=0;F<t;F+=64)for(var E=0;E<a;E+=64){var f=Math.min(a-E,64),c=Math.min(t-F,64),M=f*c;
w.oU(E,F,f,c);an.a3v(g,L[m++],M*e,P,v,Q);if(T==100||T==150){}else if(T==250){for(var n=0;n<v;n++){var X=Q[n];
for(var u=0;u<M;u++){var I=X[u]<<8|X[M+u];X[u]=Math.min(I>>>8,255)}}}else if(T==600){var r=an.avB(),J=new Uint32Array(1),U=new Float32Array(J.buffer);
for(var n=0;n<v;n++){var X=Q[n];for(var u=0;u<M;u++){J[0]=X[u]<<24|X[M+u]<<16|X[(M<<1)+u]<<8|X[(M<<1)+M+u]<<0;
var K=U[0];if(K<0)K=0;else if(K>1)K=1;X[u]=r[~~(.5+K*1e3)]}}}else console.log("unknown data format",T);
_.eS(H,w,k,j)}};an.avB=function(){var g=an.auR;if(g!=null)return g;g=an.auR=new Uint8Array(1001);for(var m=0;
m<1001;m++)g[m]=~~(.49+255*_.WW(m*.001));return g};an.a3v=function(g,o,k,y,d,b){if(y==1){for(var T=0;
T<d;T++){var a=b[T],t=0;while(t<k){var cy=g[o];o++;if(cy<127){var j=g[o];o++;cy++;for(var m=0;m<cy;m++)a[t+m]=j}else if(cy==127){var e=g[o];
o++;var v=g[o];o++;var j=g[o];o++;cy=e<<8|v;for(var m=0;m<cy;m++)a[t+m]=j}else if(cy==128){var e=g[o];
o++;var v=g[o];o++;cy=e<<8|v;for(var m=0;m<cy;m++)a[t+m]=g[o+m];o+=cy}else{cy=256-cy;for(var m=0;m<cy;
m++)a[t+m]=g[o+m];o+=cy}t+=cy}}}else if(y==2){var L=pako.inflate(g.slice(o)),H=Math.round(L.length/k);
for(var m=0;m<k;m++){var w=m*H;b[0][m]=L[w];b[1][m]=L[w+1];b[2][m]=L[w+2];b[3][m]=H==3?255:L[w+3]}}else alert("Unknown compression "+y)};
an.cX=function(g,o,k,y){var d=y==4?S.q:S.pU;while(!0){var b=d(g,o);o+=y;if(b==0)break;else k.push(b)}return o};
an.tG=function(g,o,k){while(!0){var y=S.q(g,o);o+=4;var d=S.q(g,o);o+=4;if(y==aJ.aas)break;else if(y==aJ.Lf)k[y]=an.abO(g,o,o+d);
else k[y]=S.ww(g,o,d);o+=d}return o};an.abO=function(g,o,k){var y={};while(o<k){var d=S.vD(g,o);o+=d.qK;
var b=S.q(g,o);o+=4;if(b!=1)console.log("unknown flags",b);var T=S.q(g,o);o+=4;y[d.ci]=S.ww(g,o,T);o+=T}return y};
var aJ={aas:0,a4H:1,ao_:2,a6$:3,axr:4,asn:5,avH:6,amV:7,a52:8,a6l:9,aak:10,atU:11,aj_:12,atL:13,ady:14,vF:15,apw:16,a2u:17,ac0:18,akk:19,a7A:20,Lf:21,anu:22,a7E:23,a3O:24,acJ:25,ax0:26,a8P:27,auq:28,af3:29,ap0:30,a9O:31,a5h:32,asW:33,atx:34,atG:35,avy:36,a5z:37,arQ:38,ad0:0,a1v:1,aec:2,azd:3,aqY:1,ajf:2,adu:0,aqC:1,alk:1};
aJ.an2="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var hb=function(){var g=!1,o,k,x=0,f;function y(){var n=S.lp(o,k,4);k+=4;return n[3]+n[2]+n[1]+n[0]}function d(){var n=S.lp(o,k,4);
k+=4;return n}function b(){var n=o[k];k+=1;return n}function T(){var n=S.Ha(o,k);k+=2;return n}function a(){var n=S._u(o,k);
k+=4;return n}function t(){var n=S.da(o,k);k+=4;return n}function j(){var n=S._u(o,k);k+=8;return n}function e(){var n=S.DF(o,k);
k+=4;return n}function v(){var n=S.Ib(o,k);k+=8;return n}function L(){var n=S.Ha(o,k),X=S.IL(o,k+2,n);
k+=2+n;return X}function H(){var n=S._u(o,k),X=S.IL(o,k+4,n);k+=4+n;return X}function w(n){k=n;var X=[];
while(k!=0){var u=d();if(u!="#FT4"&&u!="#FT3"&&u!="#FT2")throw u;var I=j(),r=j(),J=j(),U=j(),K=j(),i=a(),z=a(),h=a(),R=T(),C=b(),G={};
X.push(G);for(var m=0;m<i;m++){var W=a(),A=b();if(A!=0&&A!=1&&A!=2)throw A;var $=[];if(A==0||A==1){var O=j(),Y=j(),l=j(),B=a(),f4=b(),V=a(),q=u!="#FT4"?0:a(),s=null;
if(u=="#FAT"||u=="#FT2"){switch(f4){case 1:f4=1;break;case 2:f4=65;break;case 3:f4=129;break;case 4:f4=193;
break;default:f4=0;break}}if(A==0)s=L();$=[O,Y,l,f4,s]}G["i"+W]=[A,$]}for(var m=0;m<R;m++){var cW=T(),dk=T(),kr=j(),j9=S.lp(o,k,cW);
k+=cW}k=I}X.reverse();for(var bh=1;bh<X.length;bh++){var G=X[bh],fe=X[bh]=JSON.parse(JSON.stringify(X[bh-1]));
for(var gg in G){var a$=G[gg];if(a$[0]==0)fe[gg]=a$;else if(a$[0]==1){a$[1][4]=fe[gg][1][4];fe[gg]=a$}else if(a$[0]==2)delete fe[gg]}}var dg=X.pop(),iv=[];
for(var gg in dg)iv.push(dg[gg][1]);iv.sort(function(aQ,dt){return aQ[0]-dt[0]});return iv}function P(n,X,u,I){while(k<o.length){var r=b(),i=null;
if(r==0){if(I){var J=b();if(J!=2){var U=y()}if(J==0)k+=4;I=!1;continue}else{break}}var K=y();if(g)console.log("  ".repeat(X),r,r&127,K,n._type);
if(r>127)i=Q(r,X,u);else i=F(r,X,u);if(g)console.log("  ".repeat(X),i);n[K]=i}}function Q(n,X,u){var I=[];
n=n&127;if(n==43)k+=4;var r=a();if(n==50){var J=y(),U=T();if(U!=1)throw"e";for(var m=0;m<r;m++){var K={_status:"NotShared",_type:J};
I.push(K);var i=b();if(i!=1)throw i;P(K,X+1,u)}}else if(n==41){if(r>8)throw r;for(var m=0;m<r;m++)I.push((o[k]>>>m&1)==1);
k++}else for(var m=0;m<r;m++){I.push(F(n,X,u,m!=0));if(n==42)n=2}return I}function F(n,X,u,I){var r=null;
if(n==49){r={};var J=b();if(J!=0){var U=a();if(u==null){r._id=U;r._status=["Shared","Link"][J-1]}if(u&&J==2)r=u[U];
if(J==1){if(u)u[U]=r;var K=b(),i=!1;if(K>1)throw K;r._type=y();if(g)console.log("  ".repeat(X),"new",r._type,K,k);
if(K==0){while(!0){var z=T();if(z!=0&&z!=1&&z!=2&&z!=4)throw z;if(o[k]!=0){i=!0;break}var h=T();if(h==512)break;
var R=y();if(h==256)break}}P(r,X+1,u,i)}}}else if(n==50){r={_status:"NotShared"};if(b()==1){r._type=y();
k+=2;P(r,X+1,u)}}else if(n==1)r={type:"byte",value:b()};else if(n==2)r={type:"uint16",value:T()};else if(n==3)r={type:"uint32",value:a()};
else if(n==4)r={type:"uint64",value:j()};else if(n==7)r={type:"int32",value:t()};else if(n==8)r={type:"int64",value:j()};
else if(n==9)r={type:"float32",value:e()};else if(n==10)r={type:"float64",value:v()};else if(n==21)r={type:"Vec2i",value:[a(),a()]};
else if(n==23)r={type:"Vec4i",value:[a(),a(),a(),a()]};else if(n==33)r={type:"Vec4f",value:[e(),e(),e(),e()]};
else if(n==36)r={type:"Vec2",value:[v(),v()]};else if(n==38)r={type:"Vec4",value:[v(),v(),v(),v()]};
else if(n==40)r={type:"Vec6",value:[v(),v(),v(),v(),v(),v()]};else if(n==41)r={type:"bool",value:b()!=0};
else if(n==42)r={type:"Enum",value:a()};else if(n==43)r={type:"string",value:H()};else if(n==44){if(I!=!0)x=T();
r={type:"curv16",value:[v(),x==12?[b(),b(),b(),b()]:[a(),a()]]}}else if(n==45){var C=a();r={type:"buff",value:o.slice(k,k+C)};
k+=C}else if(n==47){r={type:"uint32",value:a()}}else if(n==48){var G=[],W=T();if(W!=1)throw W;while(!0){if(o[k]==135){var A=Q(b(),X+1,u),$=Q(b(),X+1,u),O=Q(b(),X+1,u);
G.push([A,$,O])}else{var Y=1;if(o[k]==3){b();Y=a()}for(var m=0;m<Y;m++){if(b()!=41)throw"e";var U=b();
if(U!=0&&U!=1)throw U;if(b()!=172)throw"e";var l=a(),B=T(),f4=[];G.push(f4);if(B!=18)throw B;if(l>2e3)throw l;
for(var V=0;V<l;V++)f4.push([v(),v(),b(),b()])}}if(o[k]==0){k++;break}}r={type:"curve",value:G}}else if(n==51){r={type:"EmbeddedData"};
r[y()]=H()}else if(n==52)r={type:"uint32",value:a()};else if(n==56)r={type:"Color32",value:[b(),b(),b(),b()]};
else if(n==60)r={type:"ColorGRAY",value:[e(),e()]};else if(n==68)r={type:"ColorRGBA",value:[e(),e(),e(),e()]};
else if(n==72)r={type:"ColorCMYK",value:[e(),e(),e(),e(),e()]};else{throw n}return n==49||n==50||n==51?r:r.value}function E(n){var X=0,u=n.length;
for(var m=0;m<u;m++)n[m]=X=X+n[m]&255}function c(n){o=n;k=4;var X=a(),u=d();if(u!="nsrP")throw u;var u=d();
if(u!="#Inf")throw u;var I=j();f=j();var r=j(),J=j(),U=j(),K=a(),i=a(),u=d();if(u!="Prot")throw u;var K=a(),z=w(I),h={},R=Date.now();
for(var C=0;C<z.length;C++){var G=z[C],W=G[3],l=null;k=G[0];var u=d();if(u!="#Fil")throw u;var A=W>>>5&1,$=W&3,O=W&192;
switch(O){case 64:O=1;A=0;break;case 128:O=2;break;case 192:O=3;break;default:O=0;A=0}var Y=new Uint8Array(o.buffer,k,G[2]);
if($==0)l=Y;else if($==1)l=pako.inflate(Y);else if($==2)l=cp.YW.QA(Y,G[1]);else throw $;if(A==0){if(O==1)E(l);
if(O==2)throw"e"}else throw A;h[G[4]]=l}return h}function M(n){var X=c(new Uint8Array(n));o=X["doc.dat"];
k=16;var u={};P(u,0,[]);return[X,u,f]}return{auu:M}}();function fl(){}fl.Qt=function(){function g(H,w){var P=Date.now(),Q=hb.auu(H),x=Q[0],F=Q[1],E=Q[2],f=F.DocR,c=f.DfSz,M=f.Chld;
if(M.length!=1)throw"e";var n=M[0],X=n.SprB;M=n.Chld;w.m=~~X[2];w.n=~~X[3];w.buffer=_.Q(w.m*w.n*4);var u=[0,{}];
for(var m=0;m<M.length;m++)d(M[m],w,x,new d3,u,0);w.Bu(u[0]);console.log(Date.now()-P,"Document created");
P=Date.now()}function o(H){return new d3(H[0],H[3],H[1],H[4],H[2],H[5])}function k(H,w){var P=w.Xfrm;
P=P?o(P):new d3;P.concat(H);return P}function y(H){var w={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[H];
return w?w:"norm"}function d(H,w,P,Q,x,F){var E=H._type,f=H.Chld,c=w.Qf();c.mP(H.Desc==null||H.Desc==""?E=="Grup"?"Folder":"Layer":H.Desc);
c.qj(H.Visi);c.opacity=Math.round(255*H.Opac);if(H.FOpc!=1)c.add.iOpa=Math.round(255*H.FOpc);var M=H.Blnd;
if(M!=null)c.HW=y(M);var n=k(Q,H),X=E=="ShpN"||E=="PCrv";if(f){w.d.push(w.L0());c.add.lsct=cK.TD;c.HW="pass";
c.b_=24;if(E=="ShpN"){var u=H.ShpB;c.P2(new bd(u[0]+n.ii,u[1]+n.xF,u[2]-u[0],u[3]-u[1]));x[0]++;c.add.artb.Clr={t:"Objc",v:_.M.UF({o:255,C:255,k:255})}}for(var m=0;
m<f.length;m++)d(f[m],w,P,n,x,F+1)}else if(E=="Rstr"||E=="ImgN"||E=="MRst"){var I=H.Bitm,r=I.Bckg,J=Date.now(),U;
if(r==null){U=j(I,P,x[1]);c.rect=U[2].clone();c.buffer=U[1].slice(0);c.rect.x+=n.ii;c.rect.y+=n.xF}if(r||n.Va()!=1){var K,i=0,z=0;
if(r){var h=P[r.Data],R=S.xb(h,"ataD")+4,C=S._u(h,R);R+=4;K=h.slice(R,R+C)}else{i=c.rect.x-n.ii;z=c.rect.y-n.xF;
if(U[3]==null)U[3]=new Uint8Array(cp.rJ("PNG").p0([[c.buffer.buffer]],c.rect.m,c.rect.n));K=U[3].slice(0)}var G=w.Es(K,c.getName(),0,0);
G.b_=c.b_;G.opacity=c.opacity;c=G;var W=new d3;W.translate(i,z);W.concat(n);var A=c.rect.clone();A.x=A.y=0;
var $=_.p.rN(A).j;_.p.D($,W,$);c.add.SoLd.Trnf=D.C8.sY($);c.add.SoLd.nonAffineTransform=D.C8.sY($);c.tq(w,!1)}}else if(E=="TxtA"||E=="TxtF"){c.add.lnsr="rend";
c.add.TySh=bw.j_(0,0);c.add.TySh.Rt=new bd(0,0,100,100);var O=H.TxtH.FrmB,Y=new d3,V=0;Y.translate(O[0],O[1]);
Y.concat(n);c.add.TySh.D=Y;var l=c.add.TySh.O7,B=H.StSt,f4=B.Blok;if(f4.length!=1)throw"e";for(var q=0;
q<f4.length;q++){var s=f4[q],cW=V,dk=0,kr=s.Glyp.Utf8;kr=kr.replace(/\u2028/g,"\n");kr=kr.replace(/\u2029/g,"\n");
kr=kr.slice(0,kr.length-1);bw.pj(l,V,kr);V+=kr.length;var j9=s.GAtt.Runs,bh=s.PAtt.Runs[0],fe=bh.Item.Ints[0];
for(var gg=0;gg<j9.length;gg++){var a$=j9[gg],dg=a$.Indx,iv=a$.Item,aQ=iv.Objs,dt=bw.DE(l,cW,1);dt.by.Justification=fe==0?0:fe==1?2:1;
bw.nx(dt,iv.DFnt.Post);dt.RY.FontSize=iv.Doub[0];for(var m=0;m<aQ.length;m++){var hY=aQ[m];if(hY._type=="FDsc"){var b9=hY.FDeF;
if(b9._type=="FilS"){var i0=t(b9.Colr);dt.RY.FillColor={Type:1,Values:[1,i0[0],i0[1],i0[2]]}}}}bw.SX(l,cW+dk,cW+Math.min(dg,kr.length),dt);
dk=dg}}bw.ms(l,1);bw.Y$(l,[0,0,Math.round(O[2]-O[0]),Math.round((O[3]-O[1])*1.2)]);w.Hi=!0}else if(X){c.b_|=16;
var gD=c.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));gD.strokeEnabled.v=!1;var hU=c.add.vmsk=b(H);
_.w.cs(hU.a,n);if(H.BFFl){var aW=H.BFFl[0].FDeF,be=aW._type;if(be=="FilS")c.add.SoCo={classID:"null",Clr:a(aW.Colr)};
else if(be=="FilG"){var hv=c.add.GdFl=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]);T(aW,hv)}else if(be=="FilN"){c.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:0,C:0,k:0})}};
gD.fillEnabled.v=!1}else console.log(be)}if(H.LILn){var b3=H.LILn[0].LDeL,gT=b3.Wght;if(gT!=0){gD.strokeEnabled.v=!0;
gD.strokeStyleLineWidth.v.val=gT;var aW=H.LIFl[0].FDeF,be=aW._type;if(be=="FilS")gD.strokeStyleContent.v.Clr=a(aW.Colr);
else if(be=="FilN")gD.strokeEnabled.v=!1}}c.Ko();c.bD(w)}else console.log(E);var aB=H.AdCh,bO=[];if(aB)for(var m=0;
m<aB.length;m++){var kf=aB[m],iY=kf._type;if(iY=="ShpN"||iY=="PCrv"){var hU=c.add.vmsk=b(kf),gs=k(n,kf);
_.w.cs(hU.a,gs);c.Ko();c.bD(w)}else if(kf.AdjP){var c1=kf.AdjP,gK=c1._type,c4={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[gK];
if(c4==null){console.log(c1);continue}var k6=jf.gb(c4,{});bO.push(k6);var jk=k6.v.Fltr.v;if(gK=="LevP"){var jt=hA.fo(jk,0);
jt[0]=c1.OutB*255;jt[1]=c1.OutW*255;hA.SG(jk,0,jt)}else if(gK=="WhBP"){var jt=hA.fo(jk,2);jt[4]=100+c1.WBTi*20;
hA.SG(jk,2,jt);var jt=hA.fo(jk,3);jt[4]=100+c1.WBTi*200;hA.SG(jk,3,jt)}else if(gK=="HSSP"){var jt=c2.fo(jk,0);
jt[0]=Math.round(c1.HueA*256);jt[1]=Math.round(c1.SatA*256);jt[2]=Math.round(c1.LumA*256);c2.SG(jk,0,jt)}else if(gK=="RecP"){jk.Clrz.v=!0;
var jt=c2.fo(jk,0);jt[0]=Math.round(c1.RecH*100);jt[1]=Math.round(c1.RecS*100);jt[2]=Math.round(c1.RecL*100);
c2.SG(jk,0,jt)}else if(gK=="B&CP"){jk.Brgh.v=Math.round(c1.Brig*100);jk.Cntr.v=Math.round(c1.Ctrs*100-100)}else if(gK=="PosP"){jk.Lvls.v=c1.Post}else if(gK=="VibP"){jk.vibrance.v=c1.Vibr-100;
jk.Strt.v=Math.round(c1.Satu*100)}else if(gK=="ExpP"){jk.Exps.v=c1.Expo;jk.gammaCorrection.v=c1.Gamm/2.2}else if(gK=="ThrP"){jk.Lvl.v=Math.round(c1.Thre*255)}else if(gK=="CrvP"){var kw=c1.Mast["Cnt "],eu=c1.Mast.Vals,jt=cx.fo(jk,0),ak=jt[0];
for(var cY=0;cY<kw;cY++){var bG=jt[cY]=JSON.parse(JSON.stringify(ak));bG.v.Hrzn.v=Math.round(eu[cY]*255);
bG.v.Vrtc.v=Math.round(eu[4+cY]*255)}cx.SG(jk,0,jt)}}else console.log(kf)}if(bO.length!=0&&c.add.SoLd){c.add.SoLd.filterFX=jf.nC();
w.YY({id:c.add.SoLd.placed.v,rect:new bd,buffer:_.Q(1),v:new p.GE});c.add.SoLd.filterFX.v.filterFXList.v=bO;
c.tq(w,!1)}var j5=H.FiEf;if(j5&&j5.length!=0){var hI=c.add.lmfx=JSON.parse(iZ.default);for(var m=0;m<iZ.order.length;
m++)hI[iZ.pW[m]]={t:"VlLs",v:[]};for(var jJ=0;jJ<j5.length;jJ++){var ca=j5[jJ],gI=ca._type,c3={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[gI],hv=c3?JSON.parse(iZ.GZ[iZ.order.indexOf(c3)]):null;
if(gI=="ColO"){hv.Clr=a(ca.Colr)}else if(gI=="GrdO"){T(ca.GrFl.FDeF,hv)}else if(gI=="Shad"||gI=="InnS"||gI=="OutG"||gI=="InnG"){hv.Clr=a(ca.Colr);
hv.blur.v.val=Math.round(ca.Radi/2.4);if(ca.Offs!=null){hv.Dstn.v.val=ca.Offs;hv.lagl.v.val=Math.round(180-ca.Angl*180/Math.PI);
hv.uglg.v=!1}}else if(gI=="Strk"){hv.Clr=a(ca.Colr);hv.Sz.v.val=Math.round(ca.Radi)}else if(gI=="PhgB"||gI=="BevE"){hv.blur.v.val=Math.round(ca.Radi);
if(gI=="BevE")hv.bvlS.v.BESl="PlEb"}else if(gI=="Gaus"){if(X&&ca.Enab){c.add.vmsk.uH=ca.Radi/2.4;c.add.vmsk.WP=!0;
c.Ko();c.bD(w)}}if(c3){hv.enab.v=ca.Enab;if(hv.Md&&ca.BlnM!=null)hv.Md.v.BlnM=h8.w3(y(ca.BlnM));if(hv.Opct&&ca.Opac!=null)hv.Opct.v.val=Math.round(ca.Opac*100);
var fs=iZ.pW[iZ.order.indexOf(c3)];hI[fs].v.unshift({t:"Objc",v:hv})}}}w.d.push(c)}function b(H){var w=new p.Ew,P=H._type;
if(P=="PCrv"){var Q=H.Crvs.Data,x=[],F=[];for(var m=0;m<Q.length;m++){var E=Q[m];if(E.length%3!=1){E=E.slice(1,E.length-1)}for(var f=0;
f<E.length;f++){var c=E[f],M=c[2];if(M!=0)x.push(f==0?"M":"C");F.push(c[0],c[1])}}w.a=_.p.XP({j:F,F:x},!0)}else{var n=H.ShpB,X=H.Shpe,u=X._type,I=n[2]-n[0];
if(u=="ShpE"){w.a=_.w.qA.rj(n[0],n[1],n[2]-n[0],n[3]-n[1])}else if(u=="ShNR"){var r=[0,0,0,0];if(X.CTyp){r=X.ShCR.slice(0);
for(var m=0;m<4;m++)r[m]*=n[2]-n[0]}w.a=_.w.qA.Rect(n[0],n[1],n[2]-n[0],n[3]-n[1],r)}else if(u=="ShpT"){w.a=_.p.XP({F:["M","L","L","Z"],j:[n[0],n[3],n[2],n[3],n[0]+I*.5,n[1]]},!0)}else if(u=="ShTz"){w.a=_.p.XP({F:["M","L","L","L","Z"],j:[n[0]+I*X.PosL,n[1],n[0]+I*X.PosR,n[1],n[2],n[3],n[0],n[3]]},!0)}else{console.log("--",u);
w.a=_.w.qA.Rect(n[0],n[1],n[2]-n[0],n[3]-n[1],[0,0,0,0])}}return w}function T(H,w){var P=H.Grad,Q=P.Cols;
w.Type.v.GrdT=H.Type==0?"Lnr":"Rdl";var x=[];for(var m=0;m<Q.length;m++){var F=t(Q[m]);x.push([P.Posn[m][0],F])}w.Grad.v.Intr.v=0;
_.M.Dd(x,w.Grad.v);var E=P.Posn,f=new bJ(E[0][0],E[0][1]),c=new bJ(E[1][0],E[1][1]);if(H.Type==0)f=new bJ((f.x+c.x)/2,(f.y+c.y)/2);
_.M._j(f,c,new bd(0,0,1,1),w)}function a(H){var w=t(H);return{t:"Objc",v:_.M.UF({o:w[0]*255,C:w[1]*255,k:w[2]*255})}}function t(H){var w=H._col,P=H._type;
if(P=="HSLA"){var Q=_.bI(w[0],w[1],w[2]);return[Q.o,Q.C,Q.k,w[3]]}else if(P=="RGBA")return w;else if(P=="CMYK"){var x=1-w[3];
return[(1-w[0])*x,(1-w[1])*x,(1-w[2])*x]}else if(P=="GRAY")return[w[0],w[1],w[2]];else{console.log(w);
throw P}}function j(H,w,P){var Q=H.Frmt,r="";if(Q!=0&&Q!=4&&Q!=6)throw Q;var x=H.BmpW,F=H.BmpH,E=Q==4?5:Q==0?4:1,f=Math.ceil(x/256),c=Math.ceil(F/256),M=new bd(0,0,f,c),n=new bd;
for(var m=0;m<E;m++){var X=new Uint8Array(H["Sta"+(m+1)]),u=_.P8(X,M);n=n.gO(u)}var I=[];for(var m=0;
m<E;m++){var X=new Uint8Array(H["Sta"+(m+1)]),J=_.Q(n.O());_.sQ(X,M,J,n);I[m]=[];for(var U=0;U<J.length;
U++)I[m][U]=J[U];r+=JSON.stringify(I[m])+","+JSON.stringify(H["Idx"+(m+1)])+","}if(P[r]==null){var K=n.m*256,i=n.n*256,z=new Array(E);
for(var m=0;m<E;m++){var X=z[m]=new Uint8Array(K*i);e(X,H["Idx"+(m+1)],I[m],w,K,i)}var h=_.Q(K*i*4);
if(Q==0)_.Mh({o:z[0],C:z[1],k:z[2],Ng:z[3]},h);else if(Q==4){for(var m=0;m<z[0].length;m++){var R=m*4,C=z[0][m]*(1/255),G=z[1][m]*(1/255),W=z[2][m]*(1/255),A=z[3][m]*(1/255),$=UDOC.C.cmykToRgb([C,G,W,A]);
h[R]=$[0]*255;h[R+1]=$[1]*255;h[R+2]=$[2]*255;h[R+3]=z[4][m]}}else{h.fill(255);_.yr(z[0],h)}var O=new bd(0,0,K,i),Y={buffer:h,rect:O};
_._7(Y);P[r]=[Y.rect,Y.buffer]}var u=P[r][2]=P[r][0].clone();u.x+=n.x*256;u.y+=n.y*256;return P[r]}function e(H,w,P,Q,x,F){var E=0,f=x>>>8,c=F>>>8;
for(var M=0;M<c;M++)for(var n=0;n<f;n++){var X=n*256,u=M*256,I=M*f+n,r=u*x+X,J=P[I];if(J<=1)v(H,r,0,x,256,256);
else if(J==2)v(H,r,4294967295,x,256,256);else if(J==4){var U=w[E];E++;var K=Q[U.Data.DatI],i=U.Rect;
if(i==null)i=[0,0,256,256];v(H,r,0,x,256,256);L(H,(u+i[1])*x+X+i[0],K,i[1]*256+i[0],x,256,i[2]-i[0],i[3]-i[1])}else console.log(J)}}function v(H,w,P,Q,x,F){var E=w+Q*F;
for(;w<E;w+=Q){var f=w+x;for(var c=w;c<f;c++){H[c]=P}}}function L(H,w,P,Q,x,F,E,f){var c=w+x*f,M=Q+F*f;
for(;w<c&&Q<M;w+=x,Q+=F){for(var m=0;m<E;m++)H[w+m]=P[Q+m]}}return g}();function ac(){}ac.Qt=function(g,o){var k=ac,y=i6.parse(g),b=0;
if(y.pages.length>1)console.log(y.pages.length,"pages");var d=[],T=new bd;for(var a=0;a<y.pages.length;
a++){var t=y.pages[a],j=t.layers,e=k.AU(j,a),L=!1;if(e.O()>8e3*8e3||e.m>3e4||e.n>3e4){k.a5X(j,!0);var v=k.AU(j,a);
if(v.O()>=e.O())k.a5X(j,!1)}e=k.AU(j,a);for(var H=0;H<j.length;H++){var w=j[H];if(k.tO(w)=="artboard")L=!0}if(!L){console.log("no artboard");
var P={};for(var Q in t)P[Q]=t[Q];P._class="group";t.layers=[P]}d.push(e.clone());if(e.on())continue;
e.x=0;e.y=b;b+=e.n+200;T=T.gO(e)}var x={};if(y.foreignSymbols)for(var m=0;m<y.foreignSymbols.length;
m++){var F=y.foreignSymbols[m].symbolMaster;x[F.symbolID]={Ch:F}}k.ayC(y.pages,x,o);for(var E in x){var w=x[E].Ch,f=k.ar5(w.layers)}var c=ac.lX(T,8192*8192);
o.Hi=!0;o.m=Math.round(T.m/c);o.n=Math.round(T.n/c);o.buffer=_.Q(o.m*o.n*4);o.Bu(y.pages[0].layers.length);
o.xe={};o.hS=[];b=0;for(var a=0;a<y.pages.length;a++){var M=y.pages[a],e=d[a],n=new d3(c,0,0,c,e.x,e.y-b);
k.tj(M.layers,o,n,y,x,{},[]);b+=e.n+200}delete o.xe;delete o.hS;if(c!=1)alert("File scaled down "+c+"x");
o.a9y()};ac.a4O=0;ac.tO=function(g){return g._class?g._class:g.$class};ac.lX=function(g,o){var k=1;while(Math.round(g.m/k)*Math.round(g.n/k)>o||Math.max(Math.round(g.m/k),Math.round(g.n/k))>3e4)k++;
if(k!=1&&!window.confirm("Your image is quite large ("+g.m+" x "+g.n+" px).\n"+"Press OK to scale it down "+k+"x, or Cancel to keep the size."))k=1;
return k};ac.AU=function(g,o){var k=[],y=ac;for(var d=0;d<g.length;d++){var b=g[d],T=y.Kn(b.frame);if(o==0||y.tO(b)=="artboard")k.push(T)}return _.rect.og(k)};
ac.a5X=function(g,o){var k=[],y=ac;for(var d=0;d<g.length;d++){var b=g[d],T=y.Kn(b.frame);T.m+=150;T.n+=150;
k.push(T)}var a=_.rect.og(k);_.rect.aqh(k,o);var t=_.rect.og(k);if(t.O()*1.5<a.O()||a.m>3e4&&t.m<=3e4||a.n>3e4&&t.n<=3e4){alert("Re-arranging artboards");
for(var d=0;d<g.length;d++){var j=k[d],b=g[d],e=b.frame;e.x=j.x;e.y=j.y}}};ac.ayC=function(g,o,k){var y=ac;
for(var d=0;d<g.length;d++){var b=g[d],T=y.tO(b);if(["page","artboard","group"].indexOf(T)!=-1)y.ayC(b.layers,o,k);
else if(T=="symbolMaster")o[b.symbolID]={Ch:b}}};ac.ar5=function(g){var o=ac;for(var k=0;k<g.length;
k++){var y=g[k],d=o.tO(y),b=null;if(["page","artboard","group"].indexOf(d)!=-1)b=o.ar5(y.layers);if(d=="symbolMaster"||d=="symbolInstance")b=y;
if(b!=null)return b}return null};ac.tj=function(g,o,k,y,d,b,T){var a=ac,t=[];for(var j=0;j<g.length;
j++){var e=g[j],v=e.frame?a.Kn(e.frame):null,L=e.style,x="",n=null,X=!1;if(L==null){console.log("no styles")}var H=a.adq(e,k),w=a.tO(e),P=w=="shapeGroup"||w=="shapePath"||w=="rectangle"||w=="oval"||w=="triangle"||w=="polygon",Q=["page","artboard","group"].indexOf(w)!=-1;
if(w=="shapeGroup"){for(var m=0;m<e.layers.length;m++)if(a.tO(e.layers[m])=="shapeGroup")Q=!0}var F=e.exportOptions;
if(F){var E=F.exportFormats;if(E==null)E=F.sizes;if(w!="artboard"&&(E&&E.length!=0)){var f=E[0].scale}}var c=o.Qf();
c.qj(e.isVisible);var M=e.name;if(!(typeof M=="string"))M=w;c.mP(x+M.slice(0,250));if(L!=null)n=a.auZ(y,o,L,v,H,c.getName(),P||w=="artboard"||Q);
if(w=="rectangle"&&L&&L.fills&&L.fills[0]){var u=L.fills[0];if(u.fillType==4&&u.patternFillType>1&&u.image!=null)X=!0}if(e.shouldBreakMaskChain){while(t.length!=0)a.alz(t.pop(),o)}if(Q){c.add.lsct=e.layerListExpandedType==2?cK.TD:cK.E5;
c.HW="pass";c.b_=24;c.qj(e.isVisible);o.d.push(o.L0());if(w=="artboard"){var I=v.clone(),r=H.Va();I.x=-Math.floor(H.ii/r);
I.y=-Math.floor(H.xF/r);I.m=Math.floor(I.m/r);I.n=Math.floor(I.n/r);c.P2(I);var J=e.backgroundColor,U=J?{o:255*J.red,C:255*J.green,k:255*J.blue}:{o:255,C:255,k:255};
c.add.artb.Clr={t:"Objc",v:_.M.UF(U)};c.add.artb.artboardBackgroundType={t:"long",v:4}}a.tj(e.layers,o,H,y,d,b,T)}else if(P&&!X){c.add.vmsk=new p.Ew;
c.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));c.add.vstk.strokeEnabled.v=!1;var K=n!=null&&n.frameFXMulti.v.length==1,i=L?L.fills:null,z=L?a.auX(y,i,v,H,c.getName(),o,a.Ii(T,e.do_objectID+"_image")):[];
if(z.length==0){if(K)c.add.vstk.fillEnabled.v=!1;else c.add.iOpa=0;c.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:0,C:0,k:0})}}}else{var h=z[0],R=null,C=null;
if(h.type=="SoFi"){R="SoCo";C=iZ.ho}if(h.type=="GrFl"){R="GdFl";C=iZ.GY}if(h.type=="patternFill"){R="PtFl";
C=iZ.eQ}if(R!=null){c.add[R]={classID:"null"};for(var m=0;m<C.length;m++){var G=C[m];c.add[R][G]=h.Z.v[G]}var W=h.Z.v.Opct.v.val;
if(K&&W==0)c.add.vstk.fillEnabled.v=!1;else c.add.iOpa=Math.round(255*W/100)}}c.b_|=16;c.add.vmsk.a=a.rG(e.layers?e.layers:[e],e.layers?H:k);
var A=L?L.blur:null;if(A&&A.isEnabled&&A.type<=1)c.add.vmsk.uH=A.radius;if(c.add.vmsk.a.length==2){console.log("shape with no content:",c.getName())}if(K){var $=n.frameFXMulti.v[0].v,O=c.add.vstk,Y=L.borders[0];
n.frameFXMulti.v=[];bs.a8K($,O);var l=L.borderOptions,B=L.miterLimit;if(l){var f4=l.dashPattern;O.strokeStyleLineCapType.v.strokeStyleLineCapType=iZ.X9.ia[l.lineCapStyle];
O.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iZ.X9.join[l.lineJoinStyle];if(f4)O.strokeStyleLineDashSet.v=bs.rn(f4,1/$.Sz.v.val);
if(B!=null)O.strokeStyleMiterLimit.v=B}}c.Ko();c.bD(o)}else if(w=="bitmap"||X){if(!X&&e.image==null)continue;
var V=X?L.fills[0]:null,q=X?V.image.bdata:e.image.bdata,s=o.Es(q,c.getName(),0,0);s.b_=c.b_;c=s;var A=L?L.blur:null,cW=L?L.colorControls:null;
if(A||cW){c.add.SoLd.filterFX=jf.nC();o.YY({id:c.add.SoLd.placed.v,rect:new bd,buffer:_.Q(1),v:new p.GE});
var i=c.add.SoLd.filterFX.v.filterFXList.v;if(A){var dk=jf.gb("GsnB",{});dk.v.enab.v=A.isEnabled;dk.v.Fltr.v.Rds.v.val=A.radius;
i.push(dk)}if(cW){var kr=cW.brightness,j9=cW.contrast,bh=cW.hue,fe=cW.saturation;if(bh!=0||fe!=1){var dk=jf.gb("hue2",{});
dk.v.enab.v=cW.isEnabled;c2.SG(dk.v.Fltr.v,0,[Math.round(bh*180/Math.PI),Math.round((fe-1)*100),0]);
i.push(dk)}if(kr!=0||j9!=1){var dk=jf.gb("brit",{});dk.v.enab.v=cW.isEnabled;j9=j9-1;if(j9>0)j9/=2;var gg=dk.v.Fltr.v;
gg.Brgh.v=Math.round(kr*255);gg.Cntr.v=Math.round(j9*255);gg.useLegacy.v=!0;i.push(dk)}}}if(X){var a$=V.patternFillType;
if(a$==3){var dg=c.rect.m/c.rect.n,iv=v.m/v.n;if(dg<iv){H.translate(-(v.m*(1-dg/iv))/2,0);H.scale(iv/dg,1)}else{H.translate(0,-(v.n*(1-iv/dg))/2);
H.scale(1,dg/iv)}}}v.x=v.y=0;var aQ=_.p.rN(v).j;H.TY();_.p.D(aQ,H,aQ);c.add.SoLd.Trnf=D.C8.sY(aQ);c.add.SoLd.nonAffineTransform=D.C8.sY(aQ);
c.tq(o,!1)}else if(w=="text"){if(e.attributedString==null)continue;var dt=H.clone(),hY,b9,be=0;dt.TY();
dt.Ng=dt.vP=Math.min(dt.Ng,dt.vP);c.add.lnsr="rend";c.add.TySh=bw.j_(0,0);c.add.TySh.Rt=new bd(0,0,v.m,v.n);
c.add.TySh.D=dt;var i0=e.attributedString;if(i0.archivedAttributedString)i0=i0.archivedAttributedString;
var gD=i0.NSString;if(gD==null)gD=i0.string;if(gD==null)gD="";if(gD["NS.string"])gD=gD["NS.string"];
if(b[e.do_objectID]!=null)gD=b[e.do_objectID];var hU=a.Ii(T,e.do_objectID+"_stringValue");if(hU)gD=hU.value;
if(i0.attributes!=null){hY=[];b9=[];var aW=i0.attributes;for(var m=0;m<aW.length;m++){hY.push(aW[m].length,m);
b9.push(aW[m].attributes)}}else if(i0.NSAttributeInfo==null){hY=[gD.length,0];b9=[i0.NSAttributes]}else{hY=i0.NSAttributeInfo["NS.data"];
b9=i0.NSAttributes;hY=ac.aig(hY,b9)}for(var m=0;m<hY.length;m+=2)be+=hY[m];if(be!=gD.length){while(be>gD.length){hY[hY.length-2]--;
be--;if(hY[hY.length-2]==0){hY.pop();hY.pop()}}hY[hY.length-2]+=gD.length-be}gD=gD.replace(/\u2028/g,"\n");
gD=gD.replace(/\u2029/g,"\n");gD=gD.replace(/\r/g,"\n");var hv=c.add.TySh.O7;bw.pj(hv,0,gD);if(gD!=""){var b3=e.textBehaviour,gT=L.textStyle,aB=gT?gT.verticalAlignment:0,bO=a.asA(hv,hY,b9,gD),r=dt.Va(),kf=bw.DE(hv,0,1),c1=0;
if(kf.RY.Font){var iY=kf.n9[kf.RY.Font].Name;if(iY=="FontAwesome"||iY=="Ionicons")bO*=.87}var gs=kf.RY.AutoLeading?0:kf.RY.Leading*.6,gK=Math.max(bO,gs)*r,c4=v.m,k6=v.n;
if(b3==0){bw.ms(hv,0);var jt=bw.aP(kf.by);if(jt==1)c1=c4*r;if(jt==2)c1=c4*r*.5;if(aB==0)gK*=1;else gK*=.9}else{bw.ms(hv,1);
bw.Y$(hv,[0,0,Math.round(c4),Math.round(k6)]);if(b3==2&&aB==0)gK=gK*.2;else if(b3==2&&aB==1){gK=r*.5*(k6-kf.RY.FontSize)}else if(b3==1&&aB==0)gK=gK*.2;
else gK=gK*.35}c.add.TySh.D.translate(c1,gK)}}else if(w=="symbolInstance"||w=="symbolMaster"){var j_=e.symbolID;
if(b[e.do_objectID])j_=b[e.do_objectID].symbolID;var kw=a.Ii(T,e.do_objectID+"_symbolID");if(kw)j_=kw.value;
if(j_=="")continue;var ak={};for(var G in b)ak[G]=b[G];if(e.overrides)for(var G in e.overrides)ak[G]=e.overrides[G];
var bG=T.slice(0);if(e.overrideValues)bG=bG.concat(e.overrideValues);var j5=d[j_];if(j5==null){console.log("Unknown master master",e.symbolID);
continue}var hI=ac.Kn(j5.Ch.frame),jJ=hI.m/v.m,ca=hI.n/v.n,gI=H.clone();gI.scale(jJ,ca);c.add.lsct=cK.E5;
c.HW="pass";c.b_=24;c.qj(e.isVisible);o.d.push(o.L0());var c3=j5.Ch;if(o.hS.indexOf(c3)==-1){o.hS.push(c3);
a.tj(c3.layers,o,gI,y,d,ak,bG);o.hS.pop()}}else if(w=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+w,e);continue}if(L&&L.contextSettings){var fs=L.contextSettings,eS=fs.blendMode;
if(eS<a.OV.length){c.HW=h8.re[h8.Kt.indexOf(a.OV[eS])];if(Q&&c.HW=="norm")c.HW="pass"}c.opacity=Math.round(c.opacity*fs.opacity)}if(n!=null){c.add.lmfx=n}o.d.push(c);
if(e.hasClippingMask&&g.length>1){t.push(c);o.d.push(o.L0())}}while(t.length!=0)a.alz(t.pop(),o)};ac.Ii=function(g,o){for(var m=0;
m<g.length;m++)if(g[m].overrideName.startsWith(o))return g[m]};ac.aig=function(g,o){var k=0,y=[];while(k+1<g.length){var d=g[k];
k++;if(d>127){d+=128*(g[k]-1);k++;if(g[k-1]>127){d+=128*(g[k]-1);k++}}var b=g[k];k++;y.push(d,b)}return y};
ac.asA=function(g,k,y,d){var b=ac,T=0,v=0,L=0;for(var m=0;m<d.length;m++){var a=d.charCodeAt(m),t=1473<=a&&a<=1479||1488<=a&&a<=1514||1520<=a&&a<=1524,j=1569<=a&&a<=1594||1600<=a&&a<=1749;
if(t||j)T++}var e=T>d.length/2;for(var m=0;m<k.length;m+=2){var H=k[m],M=14,n="DejaVuSans";if(H==0)continue;
var w=k[m+1],P=y[w],Q=bw.DE(g,v,v+H-1),x=P.NSColor;if(x==null){var x=P.MSAttributedStringColorDictionaryAttribute;
if(x==null)x=P.MSAttributedStringColorAttribute;if(x==null)x="0 0 0";else x=[x.red,x.green,x.blue].join(" ")}else if(b.tO(x)=="MSArchivedColor")x=x.dr+" "+x.dg+" "+x.db;
else if(x.NSRGB){x=x.NSRGB;x=S.lp(x,0,x.length-1)}else if(x.NSCMYK){x=x.NSCMYK;x=S.lp(x,0,x.length-1);
x=x.split(" ").map(parseFloat);var F=1-x[0],E=1-x[1],f=1-x[2],c=1-x[3];x=F*c+" "+E*c+" "+f*c}else if(x.NSWhite){x="1 1 1"}x=x.split(" ");
Q.RY.FillColor={Type:1,Values:[1,parseFloat(x[0]),parseFloat(x[1]),parseFloat(x[2])]};var X=P.MSAttributedStringFontAttribute;
if(P.NSFont){M=P.NSFont.NSSize;n=P.NSFont.NSName}else if(X){if(X.attributes){X=X.attributes;M=X.size;
n=X.name}else{var u=X.NSFontDescriptorAttributes;if(u==null)u=X.UIFontDescriptorAttributes;X=u;M=X.NSFontSizeAttribute;
n=X.NSFontNameAttribute}if(n==null)n="DejaVuSans"}var L=Math.max(L,M);Q.RY.FontSize=Math.round(M);bw.nx(Q,n);
var I=P.NSKern;if(I==null)I=P.kerning;if(I!=null)Q.RY.Tracking=Math.round(1e3*I/M);if(P.NSUnderline!=null)Q.RY.Underline=P.NSUnderline>0;
var r=P.NSStrikethrough;if(r==null)r=P.strikethroughStyle;if(r!=null)Q.RY.Strikethrough=r>0;if(P.MSAttributedStringTextTransformAttribute==1)Q.RY.FontCaps=2;
var J=P.NSParagraphStyle;if(J==null)J=P.paragraphStyle;if(J){var U=J.paragraphSpacing;if(U!=null){Q.by.SpaceAfter=U}var K=J.NSAlignment;
if(K==null)K=J.alignment;if(K!=null){var i=0;if(!1){}else if(K==1)i=1;else if(K==2)i=2;else if(K==4)i=0;
else{i=K;console.log("unknown align",K)}if(e&&i<2)i=1-i;Q.by.Justification=i}var z=J.NSMinLineHeight;
if(z==null)z=J.minimumLineHeight;if(z!=null){Q.RY.AutoLeading=!1;Q.RY.Leading=z}}Q.by._Direction=e?1:0;
bw.SX(g,v,v+H,Q);v+=H}return L};ac.auZ=function(g,o,k,y,d,b,T){var a=ac,t=JSON.parse(iZ.default),j=!1;
for(var m=0;m<iZ.order.length;m++)t[iZ.pW[m]]={t:"VlLs",v:[]};var e=k.fills,v=a.auX(g,e,y,d,b,o);for(var L=0;
L<2;L++){var H=k[["shadows","innerShadows"][L]];if(H==null)continue;var w=["DrSh","IrSh"][L],P=iZ.pW[iZ.order.indexOf(w)];
for(var m=0;m<H.length;m++){var Q=H[m];if(!Q.isEnabled)continue;if(Q.contextSettings.opacity==0||Q.color.alpha==0)continue;
var x=JSON.parse(iZ.GZ[iZ.order.indexOf(w)]);t[P].v.unshift({t:"Objc",v:x});j=!0;x.Clr.v=a.QK(Q.color);
x.blur.v.val=Math.round(Q.blurRadius/d.Va());var F=d.clone();F.ii=F.xF=0;F.TY();var E=F.iG(new bJ(Q.offsetX,Q.offsetY)),f=Math.sqrt(E.x*E.x+E.y*E.y);
x.Dstn.v.val=Math.round(f);x.lagl.v.val=Math.round(Math.atan2(E.y,-E.x)*(180/Math.PI));if(x.layerConceals)x.layerConceals.v=v.length!=0;
a.S7(Q,x)}}var c=k.borders;if(c!=null&&(v.length==0||k.blur==null||!k.blur.isEnabled))for(var m=0;m<c.length;
m++){var M=c[m];if(!M.isEnabled)continue;var x=JSON.parse(iZ.GZ[iZ.order.indexOf("FrFX")]),P=iZ.pW[iZ.order.indexOf("FrFX")];
t[P].v.unshift({t:"Objc",v:x});j=!0;x.Clr.v=a.QK(M.color);if(M.fillType!=0&&M.gradient){var n=a.cH(M.gradient,y,d,b),X=["Type","Angl","Ofst","Scl"];
for(var m=0;m<X.length;m++)x[X[m]]=n[X[m]];x.Grad.v=n.Grad.v;x.PntT.v.FrFl="GrFl"}x.Sz.v.val=Math.round(M.thickness/d.Va());
x.Styl.v.FStl=["CtrF","InsF","OutF"][M.position];a.S7(M,x)}for(var m=T?1:0;m<v.length;m++){var u=v[m],P=iZ.pW[iZ.order.indexOf(u.type)];
t[P].v.unshift(u.Z);j=!0}return j?t:null};ac.auX=function(g,o,k,y,d,b,T){if(o==null)return[];var a=ac,t=[];
for(var m=0;m<o.length;m++)if(o[m].isEnabled)t.push(o[m]);o=t;var j=[];for(var m=0;m<o.length;m++){var e=o[m],v=null,L=null;
if(e.fillType==0){v="SoFi";var H=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);L={t:"Objc",v:H};L.v.Clr.v=a.QK(e.color)}else if(e.fillType==1){v="GrFl";
L={t:"Objc",v:a.cH(e.gradient,k,y,d)}}else if(e.fillType==4&&e.image!=null){var w=e.image;if(T)w=T.value;
var P=cp.tW(w.bdata.buffer);if(P!=null&&P!="pdf"&&P!="eps"){var Q,M=0,n=0,X=0;if(b.xe[w.key])Q=b.xe[w.key];
else{var x=cp.rJ(P).pO(w.bdata)[0],F=x.MR.clone();Q={};Q.id=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";Q.name="someImage";
Q.pR=[new Uint8Array(x.data),F];b.Lj(Q);b.xe[w.key]=Q}var E=Q.pR[1],H=JSON.parse(iZ.GZ[iZ.order.indexOf("patternFill")]);
v="patternFill";L={t:"Objc",v:H};var f=e.patternFillType,c=e.patternTileScale;H.Algn.v=!0;H.Ptrn.v.Idnt.v=Q.id;
if(f==0){M=c*E.m/Math.min(E.m,E.n);n=-y.ii;X=-y.xF}else{M=Math.max(k.m/E.m,k.n/E.n);n=-y.ii-(E.m*M-k.m)/2;
X=-y.xF-(E.n*M-k.n)/2}H.Scl.v.val=100*M*(1/y.Va());H.phase.v.Hrzn.v=Math.round(n/y.Va());H.phase.v.Vrtc.v=Math.round(X/y.Va())}}else if(e.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",e.fillType);
if(v!=null){a.S7(e,L.v);j.push({type:v,Z:L})}}return j};ac.aa$=function(g){var o=ac,k=new bd(0,0,1,1);
g=g.slice(0);while(!0){var y=!1;for(var m=0;m<g.length-1;m++){var d=g[m],b=g[m+1],T=null,a=d.contextSettings;
if(d.fillType==0&&(a==null||a.opacity==1&&a.blendMode==0)&&d.color.alpha==1){var t="norm",j=1,a=b.contextSettings;
if(a){j=a.opacity;t=h8.O8(o.OV[a.blendMode])}if(b.fillType==0){T=JSON.parse(JSON.stringify(b));o.axd(T.color,d.color,T.color,k,t,j)}if(b.fillType==1){T=JSON.parse(JSON.stringify(b));
var e=T.gradient.stops;for(var v=0;v<e.length;v++)o.axd(e[v].color,d.color,e[v].color,k,t,j)}if(T!=null&&T.contextSettings){var a=T.contextSettings;
a.opacity=1;a.blendMode=0}}if(T!=null){g.splice(m,0,T);y=!0;break}}if(!y||g.length<2)break}return g};
ac.axd=function(g,o,k,y,d,b){var T=ac,a=_.Q(4);T.ao3(g,a);var t=_.Q(4);T.ao3(o,t);_.l.I3(d,a,y,t,y,y,b);
T.azl(t,k)};ac.ao3=function(g,o){o[0]=255*g.red;o[1]=255*g.green;o[2]=255*g.blue;o[3]=255*g.alpha};ac.azl=function(g,o){o.red=g[0]/255;
o.green=g[1]/255;o.blue=g[2]/255;o.alpha=g[3]/255};ac.alz=function(g,o){g=g.clone();g.b_=24;g.mP("Mask by "+g.getName());
o.d.push(g);g.add.lsct=cK.TD;g.add.lyid=o.Rh();delete g.add.lmfx;delete g.add.SoCo;delete g.add.GdFl;
delete g.add.PtFl;delete g.add.iOpa;if(g.add.vmsk)g.add.vmsk.WP=!0;g.Ko();g.bD(o);if((g.b_&16)==16)g.b_-=16;
if((g.b_&2)==2)g.b_-=2;g.HW="pass";g.opacity=255};ac.OV="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
ac.cH=function(g,o,k,y){k=k.clone();k.TY();k.ii=k.xF=0;var d=k.Va(),L=0,H=0;k.scale(1/d,1/d);var b=ac,T=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),a=T.Grad.v;
a.Intr.v=0;if(g==null)return T;var t=g.gradientType,j=b.Xr(g.from),e=b.Xr(g.to);j.offset(-.5,-.5);e.offset(-.5,-.5);
j=k.iG(j);e=k.iG(e);var v=Math.atan2(-(e.y-j.y),e.x-j.x);T.Type.v.GrdT=["Lnr","Rdl","Angl"][t];T.Scl.v.val=100*bJ.YX(j,e);
if(t==0){T.Angl.v.val=180/Math.PI*v;T.Scl.v.val=100*bJ.YX(j,e);L=(j.x+e.x)/2;H=(j.y+e.y)/2}if(t==1){T.Scl.v.val=200*bJ.YX(j,e);
L=j.x;H=j.y}if(t==2){T.Angl.v.val=180/Math.PI*(v-Math.PI/2)}var w=T.Ofst.v;w.Hrzn.v.val=L*100;w.Vrtc.v.val=H*100;
var P=[];for(var m=0;m<g.stops.length;m++){var Q=g.stops[m],x=Q.color;P.push([Q.position,x?[x.red,x.green,x.blue]:[0,0,0],x.alpha])}_.M.Dd(P,a);
return T};ac.S7=function(g,o){var k=ac,y=1,d=g.contextSettings;if(d!=null){o.Md.v.BlnM=k.OV[d.blendMode];
y*=d.opacity}else o.Md.v.BlnM=k.OV[0];o.enab.v=g.isEnabled;if(o.uglg!=null)o.uglg.v=!1;if(g.color!=null)y*=g.color.alpha;
o.Opct.v.val=Math.round(y*100)};ac.QK=function(g){return _.M.UF(g?{o:g.red*255,C:g.green*255,k:g.blue*255}:{o:0,C:0,k:0})};
ac.rG=function(g,o){var k=ac,y=[{type:6},{type:8,all:0}];for(var d=0;d<g.length;d++){var b=g[d],T=b.booleanOperation,a=0,t=b._class,w=!1;
if(t=="group"||t=="text"||t=="symbolInstance"||t=="slice"){console.log(t+" inside ShapeGroup");continue}if(T==-1)a=0;
else if(T==0)a=1;else if(T==1)a=2;else if(T==2)a=3;else if(T==3)a=0;if(d==0)a=1;var j=ac.Kn(b.frame),e=k.adq(b,o),v=b.path?b.path:b,L=[{type:0,length:0,dJ:a,Pj:2,nB:0,tH:0}],H=v.points;
for(var m=0;m<H.length;m++){var P=H[m],Q=k.Xr(P.curveTo),x=k.Xr(P.point),F=k.Xr(P.curveFrom);w=w||P.hasCurveFrom&&!F.ey(x)||P.hasCurveTo&&!Q.ey(x)}var E=[];
if(!w){var f=[],cy=H.length;if(cy==0)continue;for(var m=0;m<cy;m++){E[m]=H[m].cornerRadius;var P=k.Xr(H[m].point);
f.push(P.x,P.y)}e.scale(1/j.m,1/j.n);e.TY();_.p.D(f,e,f);L=_.w.qA.KO(f,E).slice(2);L[0].dJ=a}else{var c=H.length;
L[0].length=c;for(var m=0;m<c;m++){var P=H[m],M=P.curveMode,n=k.Xr(P.point);L[1+m]={type:M==2||M==4?1:2,Tp:P.hasCurveTo?k.Xr(P.curveTo):n.clone(),H:n,dt:P.hasCurveFrom?k.Xr(P.curveFrom):n.clone()}}e.scale(1/j.m,1/j.n);
e.TY();_.w.cs(L,e);var E=[];for(var m=0;m<c;m++){var P=H[m],M=P.curveMode,X=P.cornerRadius;if(M==1&&X!=0)E.push(X);
else E.push(0)}}if(!v.isClosed)for(var m=0;m<L.length;m++)L[m].type+=3;y=y.concat(L);var u=k.tO(b);if(e.k==0&&e._I==0){var I=e.ii,r=e.xF,J=I+e.Ng,U=r+e.vP,K=[I,r,J,U]}}return y};
ac.adq=function(g,o){var k=o.clone(),y=g.frame?ac.Kn(g.frame):null;if(y)k.translate(-y.x-y.m/2,-y.y-y.n/2);
if(g.isFlippedHorizontal)k.scale(-1,1);if(g.isFlippedVertical)k.scale(1,-1);k.rotate(-g.rotation*(Math.PI/180));
if(y)k.translate(y.m/2,y.n/2);return k};ac.Xr=function(g){g=g.slice(1,g.length-1).split(",");return new bJ(parseFloat(g[0]),parseFloat(g[1]))};
ac.Kn=function(g){return new bd(g.x,g.y,g.width,g.height)};ac.abq=function(g){return{_class:"rect",constrainProportions:!1,x:g.x,y:g.y,width:g.m,height:g.n}};
function bX(){}bX.Qt=function(g,o){var k=Date.now(),y=bX,d=UZIP.parse(g),b=JSON.parse(S.IL(d.manifest)),T=JSON.parse(S.IL(d["resources/graphics/graphicContent.agc"])).resources,a=[],t=[],j=b.children;
for(var m=0;m<j.length;m++){var e=j[m];if(e.name=="artwork"){var v=e.children;for(var L=0;L<v.length;
L++){var H=v[L],w=JSON.parse(S.IL(d["artwork/"+H.path+"/graphics/graphicContent.agc"])),P=w.children;
if(P.length==0){}else if(P.length==1){if(H["uxdesign#bounds"]){H._node=P[0];a.push(H)}}else{var Q=P[0],x=Q.transform,F=Q.shape;
if(F==null)F={x:0,y:0,width:1e3,height:1e3};if(F.type=="path"){var E=_.p.KS(Typr.U.SVGToPath(F.path).crds);
F={x:E.x,y:E.y,width:E.m,height:E.n}}F=JSON.parse(JSON.stringify(F));if(x){F.x+=x.tx;F.y+=x.ty}H["uxdesign#bounds"]=F;
H._node={type:"artboard",artboard:{children:P}};t.push(H)}}}}if(a.length==0)a=t;var f=[],c=new bd;for(var m=0;
m<a.length;m++){var H=a[m],M=ac.Kn(H["uxdesign#bounds"]);f.push(M);c=c.gO(M)}var n=ac.lX(c,8192*8192);
o.Hi=!0;o.m=Math.round(c.m/n);o.n=Math.round(c.n/n);o.buffer=_.Q(o.m*o.n*4);o.Bu(a.length);var X=new d3(n,0,0,n,c.x,c.y);
o.xe={};for(var m=0;m<a.length;m++){var H=a[m],M=ac.Kn(H["uxdesign#bounds"]),u=H._node,I=X.clone(),r=M.clone(),J=I.Va();
I.translate(-M.x,-M.y);r.x=-Math.floor(I.ii/J);r.y=-Math.floor(I.xF/J);r.m=Math.floor(r.m/J);r.n=Math.floor(r.n/J);
I.translate(M.x,M.y);bX.tT(u,o,I,T,d,r);var U=o.d[o.d.length-1];U.mP(H.name);U.P2(r);if(m!=a.length-1)U.add.lsct=cK.E5}delete o.xe};
bX.fx=function(g){if(g==null)return new d3;return new d3(g.a,g.b,g.c,g.d,g.tx,g.ty)};bX.tT=function(g,o,k,y,d,b){var T=bX,a=g.type,t=g[a],j=g.style,e=T.fx(g.transform),w,P="none",Q,x="none",F,E;
e.TY();var v=k.clone();v.concat(e);var L=o.Qf(),H=g.name;L.mP(H?H.slice(0,250):"Layer");if(g.visible!=null)L.qj(g.visible);
if(j){w=j.stroke;P=w?w.type:"none";Q=j.fill;x=Q?Q.type:"none";F=j.filters;E=j.clipPath;if(E&&y.clipPaths[E.ref])E=y.clipPaths[E.ref].children;
else E=null;if(j.opacity!=null)L.opacity=Math.round(255*j.opacity);if(x=="solid"&&Q.color.alpha)L.opacity=Math.round(L.opacity*Q.color.alpha);
if(F){L.add.lmfx=T.awP(F);for(var m=0;m<F.length;m++)if(F[m].type=="uxdesign#blur"){var f=F[m],c=f.params,M=c.brightnessAmount;
if(M==null)M=0;M=Math.abs(M/100);if((f.visible==null||f.visible==!0)&&c.backgroundEffect)L.opacity=Math.round(L.opacity*(M+(1-M)*c.fillOpacity))}}if(x=="pattern"&&Q.pattern.meta.ux.uid=="")x="none"}if(E==null&&g.meta&&g.meta.ux&&g.meta.ux.clipPathResources)E=g.meta.ux.clipPathResources.children;
if(a=="artboard"||a=="group"){if(E){var n=E[0],X=n.shape,u=X!=null&&X.type=="rect"&&X.width*X.height>1e6;
if(n.type!="text"&&!u){if(X){var e=T.fx(n.transform);e.TY();var I=v.clone();I.concat(e);L.add.vmsk=new p.Ew;
L.add.vmsk.a=T.rG(X);I=I.clone();I.TY();_.w.cs(L.add.vmsk.a,I);L.Ko();L.bD(o)}}else if(!u)alert("Clipping by text has been ignored")}L.add.lsct=cK.TD;
L.HW="pass";L.b_=24;if(g.visible!=null)L.qj(g.visible);o.d.push(o.L0());var r=t.children,J=Q;if(J)J=J.color;
if(J)J=J.value;if(Q){if(a=="artboard"&&x=="solid"){L.P2(new bd(0,0,10,10));L.add.artb.Clr={t:"Objc",v:_.M.UF({o:J.r,C:J.g,k:J.b})};
L.add.artb.artboardBackgroundType={t:"long",v:4}}else{var U=o.Qf();U.mP("BACKGROUND");U.b_|=16;U.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));
U.add.vmsk=new p.Ew;U.add.vmsk.a=T.rG({type:"rect",x:b.x,y:b.y,width:b.m,height:b.n});T.rs(Q,x,v,b,b,U,o,y,d);
U.Ko();U.bD(o);o.d.push(U)}}for(var m=0;m<r.length;m++){bX.tT(r[m],o,v,y,d,b)}}else if(a=="shape"&&(t.type=="rect"&&(t.r==null||t.r==0)||t.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(t.path)))&&x=="pattern"&&(Math.abs(t.width/t.height-Q.pattern.width/Q.pattern.height)<.01||j.fill.pattern.meta.ux.scaleBehavior=="fill")){var K=Q.pattern,i=K.meta.ux,z=i.uid,h=d["resources/"+z];
if(h==null){console.log(K);return}var R=o.Es(h,L.getName(),0,0);R.b_=L.b_;R.opacity=L.opacity;L=R;var C=_.w.HM(T.rG(t),null),G=_.p.rN(new bd(0,0,K.width,K.height)).j,W=new d3;
W.scale(K.width/C.m,K.height/C.n);if(i.offsetX)W.translate(-i.offsetX*K.width,0);if(i.offsetY)W.translate(0,-i.offsetY*K.height);
v.concat(W);v.TY();_.p.D(G,v,G);L.add.SoLd.Trnf=D.C8.sY(G);L.add.SoLd.nonAffineTransform=D.C8.sY(G);
L.tq(o,!1)}else if(a=="shape"){L.b_|=16;L.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));L.add.vmsk=new p.Ew;
L.add.vmsk.a=T.rG(t);var C=_.w.HM(L.add.vmsk.a,null),I=v.clone();I.TY();_.w.cs(L.add.vmsk.a,I);var A=_.w.HM(L.add.vmsk.a,null);
if(P=="none"){}else{var $=w.color.value,O,Y;O="SoFi";var l=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);
Y={t:"Objc",v:l};Y.v.Clr.v=_.M.UF({o:$.r,C:$.g,k:$.b});var B=w.align,f4=w.cap;if(B==null)B="center";
var V=L.add.vstk;V.strokeEnabled.v=!0;V.strokeStyleLineWidth.v.val=w.width;if(B)V.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iZ.X9.Yo[["inside","center","outside"].indexOf(B)];
if(f4)V.strokeStyleLineCapType.v.strokeStyleLineCapType=iZ.X9.ia[["butt","round","square"].indexOf(f4)];
var q=["SoFi","GrFl","patternFill"].indexOf(O),s=[iZ.ho,iZ.GY,iZ.eQ][q];V.strokeStyleContent.v={classID:iZ.X9.V8[0]};
var cW=V.strokeStyleContent.v={classID:iZ.X9.V8[q]};for(var m=0;m<s.length;m++)cW[s[m]]=Y.v[s[m]]}if(F)for(var m=0;
m<F.length;m++)if(F[m].type=="uxdesign#blur"&&F[m].visible){var dk=F[m];L.add.vmsk.uH=dk.params.blurAmount}T.rs(Q,x,v,C,A,L,o,y,d);
L.Ko();L.bD(o)}else if(a=="text"&&g.text){var kr=g.text,j9=kr.frame,bh=j.font,fe=j.textAttributes,e=v.clone(),dt=0;
e.TY();L.add.lnsr="rend";L.add.TySh=bw.j_(0,0);L.add.TySh.Rt=new bd(0,0,100,100);L.add.TySh.D=e;var gg=L.add.TySh.O7,a$=kr.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
bw.pj(gg,0,a$);if(a$!=""){var dg=bw.DE(gg,0,1),iv=bh.postscriptName;if(iv==null)iv=bh.family;bw.nx(dg,iv);
dg.RY.FontSize=Math.round(bh.size);if(Q){var $=Q.color.value;dg.RY.FillColor={Type:1,Values:[1,$.r/255,$.g/255,$.b/255]}}if(fe){if(fe.paragraphAlign)dg.by.Justification=["left","right","center"].indexOf(fe.paragraphAlign);
if(fe.letterSpacing)dg.RY.Tracking=Math.round(fe.letterSpacing);if(fe.lineHeight){dg.RY.AutoLeading=!1;
dg.RY.Leading=Math.round(fe.lineHeight)}}bw.SX(gg,0,a$.length,dg)}var aQ=g.meta.ux.rangedStyles;if(aQ)for(var m=0;
m<aQ.length;m++){var t=aQ[m],hY=Math.min(t.length,a$.length-dt);if(m==aQ.length-1)hY=a$.length-dt;var dg=bw.DE(gg,dt,dt+hY),iv=t.postscriptName;
if(iv==null)iv=t.family;if(iv!=null)bw.nx(dg,iv);var b9=t.textScript,i0=t.underline,gD=t.fontSize,f=t.fill,hU=t.textTransform;
if(b9&&b9!="none")dg.RY.FontBaseline=b9=="superscript"?1:2;if(i0!=null)dg.RY.Underline=i0;if(gD!=null)dg.RY.FontSize=Math.round(gD);
if(hU!=null)dg.RY.FontCaps=hU=="uppercase"?2:0;if(hU=="lowercase"){bw.uW(gg,dt,dt+hY);bw.pj(gg,dt,a$.slice(dt,dt+hY).toLowerCase())}if(f!=null){var aW=f.value;
dg.RY.FillColor={Type:1,Values:[1,(aW>>>16&255)/255,(aW>>>8&255)/255,(aW>>>0&255)/255]}}bw.SX(gg,dt,dt+hY,dg);
dt+=hY}if(j9.type=="area"||j9.type=="autoHeight"){var be=j9.width,hv=j9.height;bw.ms(gg,1);bw.Y$(gg,[0,0,be,hv!=null?hv:be*2])}}else if(a=="syncRef"){var b3=g.syncSourceGuid,gT=y.meta.ux.symbols,bO=T.jY(gT,b3);
if(bO){var kf=v.clone();kf.concat(T.fx(bO.transform));bX.tT(bO,o,kf,y,d,b)}return}else console.log(a,g);
o.d.push(L)};bX.jY=function(g,o){for(var m=0;m<g.length;m++){var k=g[m],y=k.group;if(k.id==o)return k;
if(y){var d=bX.jY(y.children,o);if(d)return d}}return null};bX.rG=function(g){var o=g.type,k=[{type:6},{type:8,all:0}];
if(o=="rect"){var y=g.r,d=g.x,b=g.y,T=g.width,a=g.height;k=_.w.qA.Rect(d,b,T,a,y?y:0)}else if(o=="circle"){var y=g.r;
k=_.w.qA.rj(g.cx-y,g.cy-y,2*y,2*y)}else if(o=="ellipse"){var t=g.rx,j=g.ry;k=_.w.qA.rj(g.cx-t,g.cy-j,2*t,2*j)}else if(o=="path"||o=="compound"){var e=Typr.U.SVGToPath(g.path);
k=_.p.XP({F:e.cmds,j:e.crds},!1)}else if(o=="line"){var v=g.x1,L=g.x2,H=g.y1,w=g.y2;k=_.w.qA.KO([v,H,L,w],0,!0)}else if(o=="polygon"){var P=g.points,Q=[];
for(var m=0;m<P.length;m++)Q.push(P[m].x,P[m].y);k=k.concat(_.w.qA.KO(Q,0,!1).slice(2))}else console.log(o,g);
return k};bX.awP=function(g){var o=JSON.parse(iZ.default);for(var m=0;m<iZ.order.length;m++)o[iZ.pW[m]]={t:"VlLs",v:[]};
for(var m=0;m<g.length;m++){var k=g[m],y=k.type,d=k.params,b=k.visible;if(y=="dropShadow"){var T=iZ.pW[iZ.order.indexOf("DrSh")],a=JSON.parse(iZ.GZ[iZ.order.indexOf("DrSh")]);
o[T].v.unshift({t:"Objc",v:a});var t=d.dropShadows;if(t.length!=1)throw"e";var j=t[m],e=j.color,v=e.value,L=j.dx,H=j.dy;
a.Clr.v=_.M.UF({o:v.r,C:v.g,k:v.b});a.Opct.v.val=Math.round((e.alpha!=null?e.alpha:1)*100);a.uglg.v=!1;
a.enab.v=b!=null?b:!0;a.lagl.v.val=Math.round(180/Math.PI*Math.atan2(H,-L));a.Dstn.v.val=Math.round(Math.sqrt(L*L+H*H));
a.blur.v.val=Math.round(j.r*2.3)}}return o};bX.rs=function(g,o,k,y,d,b,T,a,t){var j=bX;if(o=="none"){b.add.vstk.fillEnabled.v=!1;
b.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:0,C:0,k:0})}}}else{var e,v,L;if(o=="solid"){var H=g.color.value;
e="SoCo";v=iZ.ho;var w=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);L={t:"Objc",v:w};L.v.Clr.v=_.M.UF({o:H.r,C:H.g,k:H.b})}else if(o=="gradient"){e="GdFl";
v=iZ.GY;var w=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),P=w.Grad.v,f,c,M;P.Intr.v=0;var Q=g[o],x=Q.ref?a.gradients[Q.ref]:Q.meta.ux.gradientResources,F=["linear","radial","angular"].indexOf(x.type),E=x.stops;
w.Type.v.GrdT=["Lnr","Rdl","Angl"][F];if(F==0){var f=new bJ(Q.x1,Q.y1),c=new bJ(Q.x2,Q.y2);f.x=c.x+.5*(f.x-c.x);
f.y=c.y+.5*(f.y-c.y)}else{var f=new bJ(Q.cx,Q.cy),c=new bJ(Q.cx+Q.r,Q.cy)}M=d;if(Q.units=="objectBoundingBox"){var n=new d3(y.m,0,0,y.n,y.x,y.y);
f=n.iG(f);c=n.iG(c)}var n=j.fx(Q.transform);f=n.iG(f);c=n.iG(c);n=k.clone();n.TY();f=n.iG(f);c=n.iG(c);
_.M._j(f,c,M,w);var X=[];for(var m=0;m<E.length;m++){var u=E[m],I=u.color,H=I.value,r=I.alpha;if(r==null)r=1;
X.push([u.offset,[H.r/255,H.g/255,H.b/255],r])}_.M.Dd(X,P);L={t:"Objc",v:w}}else if(o=="pattern"){e="PtFl";
v=iZ.eQ;var w=JSON.parse(iZ.GZ[iZ.order.indexOf("patternFill")]),G;L={t:"Objc",v:w};var J=g[o],U=J.meta.ux,K=U.uid,i=t["resources/"+K].buffer,z=U.flipX,h=U.flipY,R=K+z+h,C=cp.tW(i);
if(T.xe[R])G=T.xe[R];else{var W=new bd(0,0,J.width,J.height),A;if(W.on()||C==null){W=new bd(0,0,1,1);
A=new ArrayBuffer(4)}else{var $=cp.rJ(C);if($.nY){var O=new dF;$.pO(i,O);A=O.PJ().buffer}else{try{var Y=$.pO(i)[0];
A=Y.data;W=Y.MR}catch(d9){A=new ArrayBuffer(W.O()*4)}}}G={};G.id=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";
G.name="someImage";G.pR=[new Uint8Array(A),W];if(z)_.K.fT(G.pR[0].slice(0),G.pR[0],W.m,W.n);if(h)_.K.a16(G.pR[0].slice(0),G.pR[0],W.m,W.n);
T.Lj(G);T.xe[R]=G}var l=k.clone();l.TY();l.translate(y.x,y.y);var B=y.m,f4=y.n,V=G.pR[1].m,q=G.pR[1].n,s=Math.max(B/V,f4/q);
if(U.scale)s*=U.scale;var cW=new d3;cW.translate(-V/2,-q/2);cW.scale(1/V,1/q);if(U.offsetX!=null)cW.translate(U.offsetX,U.offsetY);
cW.scale(V,q);cW.scale(s,s);cW.translate(B/2,f4/2);cW.concat(l);bs.a7f(G,w,0,0,1e3,cW)}else console.log(o);
if(e!=null){b.add[e]={classID:"null"};for(var m=0;m<v.length;m++){var dk=v[m];b.add[e][dk]=L.v[dk]}}}};
function jT(){}jT.Qt=function(g,o,k){if(k&&k[0]==null)k=null;g=new Uint8Array(g);var y,H=1;if(g[0]==255&&g[1]==254)y=S.VL(g,2,(g.length>>>1)-1);
else y=S.IL(g,0,g.length);var d=new DOMParser,b=d.parseFromString(y,"image/svg+xml"),T=b.getElementsByTagName("style")[0];
if(T)T=Typr.U.SVG.cssMap(T.textContent);else T={};var a=b.firstChild;while(a.tagName!="svg")a=a.nextSibling;
var t=new bd(0,0,100,100),j=a.getAttribute("viewBox"),e=a.getAttribute("width"),v=a.getAttribute("height");
if(j){var L=jT.ak6(j);t.x=L[0];t.y=L[1];t.m=L[2];t.n=L[3]}else if(e!=null||v!=null){t.m=e!=null?parseFloat(e):parseFloat(v);
t.n=v!=null?parseFloat(v):parseFloat(e)}t=_.p.Ze(t);while(k&&Math.max(t.m*H,t.n*H)<Math.max(k[0],k[1]))H++;
while(k==null&&Math.max(t.m,t.n)*H>8192)H*=.5;o.Hi=!0;o.m=~~(t.m*H);o.n=~~(t.n*H);o.buffer=_.Q(o.m*o.n*4);
var w=new d3(H,0,0,H,-t.x*H,-t.y*H),P={GO:jT.RH(a),a9B:T,zU:0};jT.lg(b,a.children,o,w,P,new d3,0);if(o.d.length==0){var Q=o.Qf();
Q.mP("Layer");o.d.push(Q)}};jT.ak6=function(g){var o=" ";if(g.indexOf(",")!=-1)o=",";return g.split(o).map(parseFloat)};
jT.lg=function(g,o,k,y,d,b,T,a){var t=jT,j=["display","opacity","fill-opacity","filter"],e=0;for(var v=0;
v<o.length;v++){var L=o[v],H=L.tagName,w=L.getAttribute("id"),x=13,M=1,u="clip-path",I=null,C=0;if(w==null)w=L.getAttribute("data-name");
var P=t.RH(L,d.a9B);for(var Q in d.GO)if(j.indexOf(Q)==-1&&P[Q]==null)P[Q]=d.GO[Q];if(P["font-size"])x=t.x$(P["font-size"],x);
if(L.getAttribute("dx"))y.ii+=t.x$(L.getAttribute("dx"),x);if(L.getAttribute("dy"))y.xF+=t.x$(L.getAttribute("dy"),x);
var F=t.Sf(L);F.concat(y);var E=L.getAttribute("visibility"),f=P.display,c=k.Qf();if(E=="hidden"||f=="none")c.qj(!1);
c.mP(w!=null?w.split(":::")[0]:"Layer");if(P.opacity)M*=parseFloat(P.opacity);if(P["fill-opacity"]){var n=parseFloat(P["fill-opacity"]);
if(n!=0)M*=n}c.opacity=Math.round(255*M);if(P["mix-blend-mode"]){var X=h8.yn.indexOf(P["mix-blend-mode"]);
if(X!=-1)c.HW=h8.re[X]}if(L.getAttribute(u)==null)u="mask";if(L.getAttribute(u)!=null){var r=L.getAttribute(u);
r=r.slice(4,r.length-1);var J=g.getElementById(r.slice(1));if(J){var U=J.children;I=k.Qf();I.mP("Clip-Path"+(w?": "+w:""));
I.add.lsct=T<2?cK.TD:cK.E5;I.HW="pass";I.b_=24;var K=I.add.vmsk=new p.Ew;k.d.push(k.L0());var i=[];if(J.getAttribute(u)){var r=J.getAttribute(u);
r=r.slice(4,r.length-1);i=g.getElementById(r.slice(1)).children}for(var m=0;m<U.length;m++){var z=t.Sf(U[m]);
z.concat(F);var h=t.rG(k,g,U[m],!1).slice(2);_.w.cs(h,z);K.a=K.a.concat(h)}for(var m=0;m<i.length;m++){var z=t.Sf(U[m]);
z.concat(F);var h=t.rG(k,g,i[m],!1).slice(2);for(var R=0;R<h.length;R++)if(h[m].dJ!=null)h[m].dJ=3;_.w.cs(h,z);
K.a=K.a.concat(h)}I.Ko();I.bD();T++}}if(P.filter&&P.filter!="none"){var G=P.filter,A,$,O,l=!1,B=!1,f4=!1;
G=G.slice(5,G.length-1);var W=g.getElementById(G),Y=[0,0,0,.5],V=F.Va();if(W)for(var m=0;m<W.children.length;
m++){var q=W.children[m];if(q.tagName=="feGaussianBlur"){l=!0;A=parseFloat(q.getAttribute("stdDeviation"))*V}if(q.tagName=="feColorMatrix"){var s=q.getAttribute("values");
if(s){s=s.split(" ").map(parseFloat);Y=[s[4],s[9],s[14],s[18]]}}if(q.tagName=="feComposite"){f4=!0}if(q.tagName=="feOffset"){B=!0;
var cW=q.getAttribute("dx"),dk=q.getAttribute("dy");$=parseFloat(cW?cW:0)*V;O=parseFloat(dk?dk:0)*V}}if(f4||B){var kr=f4?"IrSh":"DrSh";
if(kr=="IrSh"){c.add.iOpa=0}var j9=JSON.parse(iZ.GZ[iZ.order.indexOf(kr)]);j9.blur.v.val=Math.round(A*2.4);
var bh=Math.sqrt($*$+O*O);j9.uglg.v=!1;j9.Dstn.v.val=Math.round(bh);j9.lagl.v.val=Math.round(Math.atan2(O,-$)*(180/Math.PI));
j9.Clr.v=_.M.UF({o:Y[0]*255,C:Y[1]*255,k:Y[2]*255});j9.Opct.v.val=Math.round(Y[3]*100);t.afe(c,iZ.pW[iZ.order.indexOf(kr)],j9)}else if(l)C=A}if(H=="g"||H=="a"||H=="svg"||H=="switch"||(H=="text"||H=="textPath")&&L.children.length>0||H=="symbol"&&a){if(H=="text")b=t.Om(L,b);
var fe=L.getAttribute("viewBox"),gg=L.getAttribute("width"),a$=L.getAttribute("height");if(fe&&gg&&a$){var dg=jT.ak6(fe),iv=t.Om(L),aQ=new d3;
aQ.translate(-dg[0],-dg[1]);aQ.scale(parseFloat(gg)/dg[2],parseFloat(a$)/dg[3]);aQ.translate(iv.ii,iv.xF);
aQ.concat(F);F=aQ}var dt=L.children.length,hY=d.GO;d.GO=P;var b9=d.zU;d.zU=Math.max(d.zU,C);var i0=H!="text"&&H!="textPath"||dt>1;
if(i0){var gD=c.oa();c.add.lsct=T<2&&gD&&(w==null||!w.endsWith(":::"))?cK.TD:cK.E5;c.HW="pass";c.b_=24;
c.qj(gD);k.d.push(k.L0())}t.lg(g,L.children,k,F,d,b,T+1);if(i0)k.d.push(c);else{var hU=k.d[k.d.length-1];
hU.opacity=c.opacity;hU.HW=c.HW}d.zU=b9;d.GO=hY}else if(H=="use"){var aQ=t.Om(L);aQ.concat(F);var aW=t.jA(L),be=g.getElementById(aW.slice(1));
if(be){var hY=d.GO;d.GO=P;if(P.filter)be.setAttribute("filter",P.filter);t.lg(g,[be],k,aQ,d,b,T+1,!0);
d.GO=hY}}else if(H=="path"||H=="rect"||H=="circle"||H=="ellipse"||H=="polygon"||H=="polyline"||H=="line"){c.b_|=16;
c.add.vmsk=new p.Ew;c.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));c.add.vstk.strokeEnabled.v=!1;
var hv=c.add.vstk,K=c.add.vmsk,b3=P.fill,gT=b3=="none"||P["fill-opacity"]&&parseFloat(P["fill-opacity"])==0;
K.a=t.rG(k,g,L,P["fill-rule"]=="evenodd",gT);_.w.cs(K.a,F);var aB=_.w.HM(K.a),bO=P.stroke,kf=P["stroke-width"],gs=P["stroke-dasharray"],c1=P["stroke-linejoin"],gK=P["stroke-linecap"],c4=P["paint-order"];
if(bO==null||bO=="none"||bO=="null"){}else{var k6=t.a2s(g,bO,F,aB,k),jk=["SoFi","GrFl","patternFill"].indexOf(k6.type),jt=k6.Z.v.Opct.v,eu=1;
if(jt.val!=100){c.opacity=Math.round(c.opacity*jt.val/100);jt.val=100}var j_=[iZ.ho,iZ.GY,iZ.eQ][jk],kw=hv.strokeStyleContent.v={classID:iZ.X9.V8[jk]};
for(var m=0;m<j_.length;m++)kw[j_[m]]=k6.Z.v[j_[m]];kf=kf?parseFloat(kf):1;if(c4&&c4.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){eu=2;
kf/=2}hv.strokeEnabled.v=!0;if(c1)hv.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iZ.X9.join[["miter","round","bevel"].indexOf(c1)];
if(gK)hv.strokeStyleLineCapType.v.strokeStyleLineCapType=iZ.X9.ia[["butt","round","square"].indexOf(gK)];
hv.strokeStyleLineWidth.v.val=kf*F.Va();hv.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iZ.X9.Yo[eu];
hv.strokeStyleOpacity.v.val=100*(P["stroke-opacity"]?parseFloat(P["stroke-opacity"]):1);if(gs!=null&&gs!="none")hv.strokeStyleLineDashSet.v=bs.rn(gs.split(",").map(parseFloat),1/kf)}if(gT){c.add.vstk.fillEnabled.v=!1;
c.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:0,C:0,k:0})}}}else{var k6=t.a2s(g,b3,F,aB,k),ak=null,cY=null;
if(k6.type=="SoFi"){ak="SoCo";cY=iZ.ho}if(k6.type=="GrFl"){ak="GdFl";cY=iZ.GY}if(k6.type=="patternFill"){ak="PtFl";
cY=iZ.eQ}if(ak!=null){var jt=k6.Z.v.Opct.v;if(jt.val!=100){c.opacity=Math.round(c.opacity*jt.val/100);
jt.val=100}c.add[ak]={classID:"null"};for(var m=0;m<cY.length;m++){var Q=cY[m];c.add[ak][Q]=k6.Z.v[Q]}}}var bG=Math.max(C,d.zU);
if(bG!=0)c.add.vmsk.uH=bG;c.Ko();c.bD(k);k.d.push(c)}else if((H=="text"||H=="tspan")&&L.textContent!=""){b=t.Om(L,b);
var aQ=b.clone(),O=0;aQ.concat(F);aQ.translate(e,0);if(L.children.length>0){var j5=t.RH(L.children[0],d.a9B);
for(var Q in j5)if(j.indexOf(Q)==-1)P[Q]=j5[Q]}var hI=P["xml:space"],jJ=L.textContent;if(hI=="preserve")jJ=jJ.replace(/\t/g," ").replace(/\n/g," ");
if(w==null)c.mP(jJ);c.add.lnsr="rend";c.add.TySh=bw.j_(0,0);c.add.TySh.Rt=new bd(0,0,100,100);c.add.TySh.D=aQ.clone();
var ca=c.add.TySh.O7;bw.pj(ca,0,jJ);if(H=="tspan")e+=x*jJ.length*.5*aQ.Va();var b3=P.fill,gI=P["font-weight"],c3=P["font-family"],fs=P["text-decoration"],bO=P.stroke,kf=P["stroke-width"],eS=P["dominant-baseline"];
if(eS=="text-before-edge")O=x;else if(eS=="middle")O=x/2;else if(eS=="hanging")O=x;if(O!=0)c.add.TySh.D.translate(0,O);
var bf=bw.DE(ca,0,1);if(b3&&b3!="none"){var Y=CSS.QK(b3);bf.RY.FillColor={Type:1,Values:[1,Y.o/255,Y.C/255,Y.k/255]}}if(fs=="underline")bf.RY.Underline=!0;
bf.RY.FontSize=Math.round(x);bw.nx(bf,"LiberationSans");if(gI=="bold")bw.nx(bf,"LiberationSans-Bold");
if(c3){c3=c3.split(",")[0].trim();if(c3[0]=="\"")c3=c3.slice(1);if(c3[c3.length-1]=="\"")c3=c3.slice(0,c3.length-1);
var ef=c3+":"+(gI?gI:"normal"),hh={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(hh[ef])bw.nx(bf,hh[ef]);else bw.nx(bf,c3)}if(P["text-anchor"])bf.by.Justification=["start","end","middle"].indexOf(P["text-anchor"]);
bw.SX(ca,0,jJ.length,bf);if(bO==null||bO=="none"){}else{var j9=JSON.parse(iZ.GZ[iZ.order.indexOf("FrFX")]);
j9.Clr.v=_.M.UF(CSS.QK(bO));j9.Sz.v.val=Math.round(parseFloat(kf)*aQ.Va());t.afe(c,"frameFXMulti",j9)}k.d.push(c)}else if(H=="image"){var aW=t.jA(L);
if(aW&&aW.slice(0,4)=="data"){var fA=cp.Kw(aW),jS=fA,dn=k.Es(jS,c.getName(),0,0);dn.b_=c.b_;c=dn;var id=c.rect.clone();
id.x=id.y=0;var jy=L.getAttribute("width"),dG=L.getAttribute("height");if(jy)id.m=parseFloat(jy);if(dG)id.n=parseFloat(dG);
var cw=t.Om(L);cw.concat(F);var d2=_.p.rN(id).j;_.p.D(d2,cw,d2);c.add.SoLd.Trnf=D.C8.sY(d2);c.add.SoLd.nonAffineTransform=D.C8.sY(d2);
c.tq(k,!1);k.d.push(c)}}else console.log("unknown tag: "+H,L.children.length,L.textContent.length);if(I!=null){k.d.push(I);
T--}}};jT.afe=function(g,o,k){var y=g.add.lmfx;if(y==null){var y=g.add.lmfx=JSON.parse(iZ.default);for(var m=0;
m<iZ.order.length;m++)y[iZ.pW[m]]={t:"VlLs",v:[]}}y[o].v.push({t:"Objc",v:k})};jT.rG=function(g,o,k,y,d){var b=jT,T=[{type:6},{type:8,all:0}],a=k.tagName;
if(a=="use"){var t=b.jA(k),j=o.getElementById(t.slice(1)),e=new d3;if(j.tagName!="rect")e=b.Om(j);e.concat(b.Sf(j));
T=b.rG(g,o,j,y,d);_.w.cs(T,e)}else if(a=="path"){var v=k.getAttribute("d");if(v==null)return T;var L=Typr.U.SVGToPath(v);
T=_.p.XP({j:L.crds,F:L.cmds},y,d)}else if(a=="rect"){var H=k.getAttribute("rx"),w=b.Om(k),P=new bJ(0,0);
b.ZN("width",k,g,P,!0);b.ZN("height",k,g,P,!1);T=_.w.qA.Rect(w.ii,w.xF,P.x,P.y,H?parseFloat(H):0)}else if(a=="circle"||a=="ellipse"){var Q=[0,0,0,0],x=["cx","cy","rx","ry","r"];
for(var m=0;m<5;m++){var F=k.getAttribute(x[m]);if(F){F=parseFloat(F);if(m<4)Q[m]=F;else Q[2]=Q[3]=F}}T=_.w.qA.rj(Q[0]-Q[2],Q[1]-Q[3],2*Q[2],2*Q[3])}else if(a=="polygon"||a=="polyline"||a=="line"){var E;
if(a=="line")E=[k.getAttribute("x1"),k.getAttribute("y1"),k.getAttribute("x2"),k.getAttribute("y2")].map(parseFloat);
else E=k.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
T=_.w.qA.KO(E,0,a!="polygon")}return T};jT.x$=function(g,o){if(g.charAt(g.length-1)=="m")return o*parseFloat(g.slice(0,g.length-2));
else return parseFloat(g)};jT.a2s=function(g,o,k,y,d){var b,T,a=jT,t=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]),j=o!=null?o.indexOf("("):-1;
if(j!=-1){var e=o.indexOf(")"),v=o.slice(0,j).trim(),L=o.slice(j+1,e).trim();if(L.charAt(0)=="'")L=L.slice(1,L.length-1);
if(v=="url"){if(L.charAt(0)=="#"){var H=g.getElementById(L.slice(1));if(H&&H.tagName.toLowerCase().endsWith("gradient")){var w=a.cH(g,H,k,y);
b="GrFl";T={t:"Objc",v:w}}else if(H&&H.tagName.toLowerCase()=="pattern"&&H.children[0]&&H.children[0].tagName=="use"){b="SoFi";
T={t:"Objc",v:t};var P=H.children[0],Q=a.Sf(P),x=a.jA(P),F=g.getElementById(x.slice(1)),E=cp.Kw(a.jA(F)).buffer,f=cp.rJ(cp.tW(E)),c=f.pO(E)[0],M={};
M.id=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";M.name="someImage";M.pR=[new Uint8Array(c.data),c.MR];d.Lj(M);
var t=JSON.parse(iZ.GZ[iZ.order.indexOf("patternFill")]);t.Scl.v.val=Math.round(100*y.m*Q.Ng);var n=t.phase.v;
n.Hrzn.v=Math.round(y.x+Q.ii*y.m);n.Vrtc.v=Math.round(y.y+Q.xF*y.n);t.Ptrn.v.Idnt.v=M.id;b="patternFill";
T={t:"Objc",v:t}}else{b="SoFi";T={t:"Objc",v:t}}}else console.log("unknown url",L)}else if(v=="rgb"||v=="rgba"){b="SoFi";
T={t:"Objc",v:t};T.v.Clr.v=_.M.UF(CSS.QK(o));if(v=="rgba")T.v.Opct.v.val=Math.round(100*parseFloat(o.split(",").pop()))}else console.log("unknown fill",o)}else{b="SoFi";
T={t:"Objc",v:t};var X=CSS.QK(o);T.v.Clr.v=_.M.UF(X);if(X.Ng!=null)T.v.Opct.v.val=Math.round(100*X.Ng/255)}return{type:b,Z:T}};
jT.Sf=function(g){var o=new d3,k=g.getAttribute("transform");if(k)o=jT.Fm(k);var y=g.getAttribute("style");
if(y!=null){var d={};jT.QC(d,y,["transform"]);y=d.transform;if(y)o.concat(jT.Fm(y))}return o};jT.Om=function(g,o){var k=new d3,y=g.getAttribute("x"),d=g.getAttribute("y");
if(y)k.ii=parseFloat(y);else if(o)k.ii=o.ii;if(d)k.xF=parseFloat(d);else if(o)k.xF=o.xF;return k};jT.Fm=function(g){var o=Typr.U.SVG.readTrnf(g);
return new d3(o[0],o[1],o[2],o[3],o[4],o[5])};jT.RH=function(g,o){var k={},y="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var m=0;m<y.length;m++){var d=g.getAttribute(y[m]);if(d!=null&&d!="inherit")k[y[m]]=d}var b=g.getAttribute("class");
if(o!=null&&b!=null&&o["."+b]!=null)jT.QC(k,o["."+b],y);var T=g.getAttribute("id");if(o!=null&&T!=null&&o["#"+T]!=null)jT.QC(k,o["#"+T],y);
var a=g.getAttribute("style");if(a!=null)jT.QC(k,a,y);return k};jT.QC=function(g,o,k){o=o.trim().split(";");
for(var m=0;m<o.length;m++){var y=o[m].split(":"),d=y[0]?y[0].trim():"",b=y[1]?y[1].trim():"";for(var T=0;
T<k.length;T++)if(d==k[T]&&b!="inherit")g[k[T]]=b}};jT.jA=function(g){var o=g.getAttribute("xlink:href");
if(o==null)o=g.getAttribute("href");if(o==null)o=g.getAttribute("xl:href");return o};jT.ZN=function(g,o,k,y,d){var b=o.getAttribute(g);
if(b==null)return;var T=parseFloat(b);if(b.endsWith("%"))T*=(d?k.m:k.n)/100;if(d)y.x=T;else y.y=T};jT.cH=function(g,o,k,y){var d=jT,b=d.ZN,T=new d3,a=o.getAttribute("gradientTransform"),H=!1;
if(a)T=d.Fm(a);T.concat(k);var t=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),j=t.Grad.v;j.Intr.v=0;var e=o.tagName,v=new bJ(0,0),L=new bJ(y.m,0);
if(e=="linearGradient"){t.Type.v.GrdT="Lnr";b("x1",o,y,v,!0);b("y1",o,y,v,!1);b("x2",o,y,L,!0);b("y2",o,y,L,!1);
v.x=L.x+.5*(v.x-L.x);v.y=L.y+.5*(v.y-L.y)}if(e=="radialGradient"){t.Type.v.GrdT="Rdl";if(o.getAttribute("cx"))v.x=parseFloat(o.getAttribute("cx"));
if(o.getAttribute("cy"))v.y=parseFloat(o.getAttribute("cy"));L.oU(v.x,v.y);if(o.getAttribute("r"))L.x+=parseFloat(o.getAttribute("r"))}var w=o;
while(!0){if(w.getAttribute("gradientUnits")=="userSpaceOnUse")H=!0;var P=d.jA(w);if(P==null)break;w=g.getElementById(P.slice(1))}if(H){v=T.iG(v);
L=T.iG(L)}else{v.x=y.x+v.x*y.m;v.y=y.y+v.y*y.n;L.x=y.x+L.x*y.m;L.y=y.y+L.y*y.n}_.M._j(v,L,y,t);var Q=o.children;
if(Q.length==0){var x=d.jA(o);if(x==null)throw"gradient has no stops";var F=g.getElementById(x.slice(1));
if(F==null){console.log(x.slice(1))}else{var E=d.cH(g,F,T,y);t.Grad=E.Grad}}else{var f=[];for(var m=0;
m<Q.length;m++){var c=Q[m],M=d.RH(c),n=M["stop-color"],X=M["stop-opacity"],u=c.getAttribute("offset");
if(n==null)n="#000000";X=X==null?1:parseFloat(X);var I=u?parseFloat(u):0;if(u&&u.endsWith("%"))I/=100;
n=CSS.QK(n);if(n.Ng!=null)X*=n.Ng/255;f.push([I,[n.o/255,n.C/255,n.k/255],parseFloat(X)])}_.M.Dd(f,j)}return t};
jT.Z0=function(){var g=null,o=null,k="",y="";function d(n,X,u){var I=[],K=" { ",i=" } ",z=!1;o=X;y=X.LL?"":"\t";
k=X.LL?"":" ";var r=X.a00,J=X.a3$;I.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+n.m+" "+n.n+"\" width=\""+r+"\" height=\""+J+"\">");
if(!X.LL)I.push(b(1)+"<title>"+F(n.name.split(".")[0])+"</title>");var U={e2:[],dd:[],l4:0,BR:0,rq:0,Be:{},kl:{},MB:0,ad:{},anO:{},t7:0,At:[]};
w(n,U,n.root.children,1,X,u);if(U.e2.length!=0){I.push(b(1)+"<defs>");I=I.concat(U.e2);I.push(b(1)+"</defs>")}I.push(b(1)+"<style>");
if(X.LL){K="{";i="}"}for(var m=0;m<n.d.length;m++)if(n.d[m].add.TySh)z=!0;if(z&&!X.aqW&&!X.arC)I.push(b(2)+"tspan"+K+"white-space:pre"+i);
for(var h in U.ad)I.push(b(2)+"."+h+K+U.ad[h]+i);I.push(b(1)+"</style>");I=I.concat(U.dd);I.push("</svg>");
I=I.join(X.LL?"":"\n");return S.vw(I)}function b(cy){var n="";for(var m=0;m<cy;m++)n+=y;return n}function T(cy,n){if(n==null)n=1;
var X=""+parseFloat(cy.toFixed(n));if(X.startsWith("0."))X=X.slice(1);return X}function a(n,X){var u=n.add.lmfx;
if(u)u=u[X].v[0];if(u)u=u.v;if(u&&!u.enab.v)u=null;return u}function t(n,X){var u=a(n,"frameFXMulti");
if(u){var I=u.Sz.v.val;if(u.Styl.v.FStl=="OutF"){X.push("paint-order:stroke fill markers");I*=2}H(X,CSS.sl(u.Clr.v),1);
if(I!=1)X.push("stroke-width: "+I);X.push("stroke-linejoin: round;")}}var j="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function e(n){var X=j.length,u="";for(var I=1;I<10;I++){var r=(X-10)*~~Math.pow(X,I-1);if(n<r){for(var m=0;
m<I;m++){var J=m==I-1?10:0,U=X-J,K=n%U;u=j[K+J]+u;n=Math.floor((n-K)/U)}break}n-=r}return u}function v(n,X,u,I){if(n.length!=0){if(I==null)I="s";
var r=n.join(";"),J=X.anO[r];if(J==null){J=o.LL?e(X.t7):I+X.t7;X.t7++;X.anO[r]=J;X.ad[J]=r}if(u)u.push(J);
return J}}function L(n){if(o.LL&&n.length==7&&n[0]=="#"){if(n[1]==n[2]&&n[3]==n[4]&&n[5]==n[6])n="#"+n[1]+n[3]+n[5]}return n}function H(n,X,u){X=L(X);
if(X!="#000"||u==1)n.push((u==0?"fill:":"stroke:")+k+X)}function w(n,X,u,I,r,J){var U=!1;for(var K=0;
K<u.length;K++){var i=u[K].i,z=i.add.lsct;if(!i.Le&&u[K+1]&&u[K+1].i.Le&&i.JW()&&i.add.vmsk){var h=[];
f(i,i.add.vmsk,X,h);X.dd.push(b(I)+"<g "+h[0]+">");I++;U=!0}else if(!i.Le&&u[K-1]&&u[K-1].i.Le&&U){I--;
X.dd.push(b(I)+"</g>");U=!1}var R=i.add.vmsk,C=i.add.vogk,G=i.add.vstk,W=i.add.TySh;if(R&&!R.isEnabled)R=G=null;
var A=[];if(!r.hidden&&!i.oa())continue;var $=i.opacity/255,O=i.add.iOpa?i.add.iOpa/255:1;if(i.gT()){$*=O;
O=1}if($!=1)A.push("opacity:"+k+T($));if(O!=1)A.push("fill-opacity:"+k+T(O));if(i.HW!="norm"){var Y=h8.yn[h8.re.indexOf(i.HW)];
if(Y!=null)A.push("mix-blend-mode:"+k+Y)}if(!i.oa())A.push("display:"+k+"none");var h=[],l=[],B=i.getName(),f4=B.indexOf(" .");
if(!r.LL)h.push("id=\""+F(B)+"\"");var V=bs.uO(i.add.lmfx,i.add),q=V[0],s=V[1];if(i.gT()){var cW=u[K].children;
if(!(cW.length==1&&cW[0].i.add.SoLd&&!r.yl)){if(g&&i.getName().split("-").length==3){g.push({PK:i.getName(),eR:0,zA:[]})}f(i,R,X,h);
if(A.length!=0)h.push("style=\""+A.join(";")+"\"");var dk=x(h,l),kr=r.LL&&dk=="";if(!kr)X.dd.push(b(I)+"<g"+(dk==""?"":" "+dk)+">");
w(n,X,cW,I+1,r,J);if(!kr)X.dd.push(b(I)+"</g>")}}else if(i.JW()&&R==null){var j9=new bd(0,0,n.m,n.n);
c(n,A,i.add,X,j9,r);if(A.length!=0)h.push("style=\""+A.join(";")+"\"");X.dd.push(b(I)+"<rect width=\""+n.m+"\" height=\""+n.n+"\" "+x(h,l)+"/>")}else if(R&&i.add.SoLd==null){var j9=_.w.HM(R.a,null,!0),bh,fe=null,gg=0,a$;
c(n,A,i.add,X,j9,r);v(A,X,l);if(C.length!=0){bh=C[0].v;fe=bh.keyOriginType;if(fe)fe=fe.v;if(fe==2){var dg=_.X.Si(bh);
gg=dg[0];for(var m=0;m<3;m++)if(gg!=dg[m+1])fe=null}}if(C.length==1&&fe==5&&Math.abs(_.X.C9(bh))<1e-4){var j9=_.X.QI(bh),iv=(j9[0]+j9[2])/2,aQ=(j9[1]+j9[3])/2,dt=iv-j9[0],hY=aQ-j9[1],b9=Math.abs(dt-hY)<.01,i0=b9?"r=\""+T(dt)+"\"":"rx=\""+T(dt)+"\" ry=\""+T(hY)+"\"";
a$="<"+(b9?"circle":"ellipse")+" "+x(h,l)+" cx=\""+T(iv)+"\" cy=\""+T(aQ)+"\" "+i0+"/>"}else if(C.length==1&&fe==2&&gg!=0&&Math.abs(_.X.C9(bh))<1e-4){var j9=_.X.QI(bh),gD=j9[0],hU=j9[1],aW=j9[2]-j9[0],be=j9[3]-j9[1],hv="";
if(gD!=0)hv+=" x=\""+T(gD)+"\"";if(hU!=0)hv+=" y=\""+T(hU)+"\"";hv+=" width=\""+T(aW)+"\"";hv+=" height=\""+T(be)+"\"";
hv+=" rx=\""+T(gg)+"\"";a$="<rect "+x(h,l)+hv+"></rect>"}else{var b3=_.w.AT(R.a,1);if(b3.Lq!=0){h.push("fill-rule=\"evenodd\"")}a$="<path "+x(h,l)+" d=\""+b3.gs+"\"/>"}X.dd.push(b(I)+a$);
if(g&&g[g.length-1]){var gT=_.p.rR(R.a);gT.j=gT.j.map(Math.round);var aB=g[g.length-1];aB.eR+=JSON.stringify(gT).length;
aB.zA.push([A[0].split("#").pop(),gT])}}else if(W&&r.aqW){k=r.LL?"":" ";var bO=W.O7,kf=new dR(bO,J),gs=null;
if(q)gs=CSS.sl(q.Clr.v);if(s){var j9=i.rect.clone();M(s,X,j9,r);gs="url(#g"+X.l4+")"}if(gs)A.push("fill:"+k+gs);
t(i,A);var c1=il.h$(kf,W),gK=_.p.Yy(c1);for(var c4 in gK){var k6=A.slice(0),jk=l.slice(0),jt=h.slice(0);
if(gs==null){H(k6,c4.slice(0,7),0);if(c4.length>7){var j_=c4.slice(7).split("-");console.log(j_);H(k6,j_[1],1);
if(j_[2]!="1")k6.push("stroke-width:"+k+j_[2])}}v(k6,X,jk);var kw=gK[c4],j_=Typr.U.pathToSVG({crds:kw.j,cmds:kw.F},1);
X.dd.push(b(I)+"<path "+x(jt,jk)+(r.LL?"":" "+Q(W))+" d=\""+j_+"\"/>")}}else if(W&&!r.arC){var bO=W.O7,eu=W.D.clone(),gs=null;
A.push("transform:"+k+E(eu));var ak=bw.fY(bO),kf=new dR(bO,J);t(i,A);if(A.length!=0)h.push("style=\""+A.join(";")+"\"");
X.dd.push(b(I)+"<text "+x(h,l)+" >");if(q)gs=CSS.sl(q.Clr.v);if(s){var j9=i.rect.clone();j9.x-=eu.ii;
j9.y-=eu.xF;M(s,X,j9,r);gs=" url(#g"+X.l4+")"}for(var m=0;m<kf.by.length;m++){var cY=kf.by[m];if(cY.p3.length==1&&cY.p3[0].Gk)continue;
for(var bG=0;bG<cY.RJ.length;bG++){var j5=cY.RJ[bG],aQ=cY.S4.y+j5.S4.y,hI=cY.p3[j5.start].start,jJ=cY.p3[j5.end-1].end,ca=bw.aua(bO,hI,jJ),gI="";
for(var c3=0;c3<ca.length;c3++){var fs=kf.TJ(hI),eS=ca[c3],bf=bw.DE(bO,hI,hI),ef=bf.n9[bf.RY.Font].Name,c4=bw.sL(bf.RY.FillColor),hh=Math.round(bf.RY.FontSize),fA=ak.slice(hI,hI+eS);
if(bf.RY.FontCaps==2)fA=fA.toUpperCase();var jS=new d3;jS.translate(fs.KU.x,-aQ);var dn=[];CSS.a20(dn,bf,null,!0,!0,gs);
var id=v(dn,X,null,"t");id=id?" class=\""+id+"\"":"";var iv=fs.KU.x,jy=P(bf,fA);gI+="<tspan "+(c3==0?"x=\""+T(fs.KU.x)+"\"":"")+" y=\""+T(aQ)+"\""+id+jy+">"+F(fA)+"</tspan>";
hI+=eS}X.dd.push(b(I+1)+gI)}}X.dd.push(b(I)+"</text>")}else if(i.add.SoLd&&r.yl&&q==null){var dG=i.add.SoLd,cw=dG.Idnt.v,d2=0,fj=dG.Crop?dG.Crop.v:null;
if(X.kl[cw]!=null)d2=X.kl[cw];else{X.MB++;d2=X.MB;X.kl[cw]=X.MB;var aH=n.PU(cw,fj),a_="";if(aH==null)return;
var gE=aH.IG,iQ=cp.tW(aH.raw.buffer);if(iQ=="pdf"){var iP=new dF("h");cp.rJ("PDF").pO(aH.raw.buffer,iP);
iP.Tf();iP.Kd();iP.U();iP.m5();if(dG.Crop&&dG.Crop.v==1){D.Wz.$x(iP,iP.root.B2(iP,!0))}var jY=cp.rJ("SVG").p0(iP,iP.m,iP.n,null,{At:J});
a_="data:image/svg+xml;base64,"+cp.ZE(jY)}else if(iQ=="jpg"||iQ=="png"||iQ=="gif"||iQ=="svg"){var iX={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
a_="data:"+iX[iQ]+";base64,"+cp.ZE(aH.raw.buffer)}else{a_=cp.V$(gE[0].buffer,gE[1].m,gE[1].n)}X.e2.push(b(2)+"<image width=\""+gE[1].m+"\" height=\""+gE[1].n+"\" id=\"img"+d2+"\" href=\""+a_+"\"/>")}var cM=_.K.wa(dG),gr=[];
f(i,R,X,gr);if(gr.length!=0)X.dd.push(b(I)+"<g "+x(gr,l)+">");if(A.length!=0)h.push("style=\""+A.join(";")+"\"");
var gL=x(h,l);X.dd.push(b(I)+"<use "+gL+" href=\"#img"+d2+"\" transform=\""+E(cM)+"\"/>");if(gr.length!=0)X.dd.push(b(I)+"</g>")}else if(!i.rect.on()&&(r.yl||W)){if(A.length!=0)h.push("style=\""+A.join(";")+"\"");
var gL=x(h,l),j3=i.buffer;if(q)j3=bs.acz(j3,q,i.rect);var fd=i.rect;X.MB++;var a_=cp.V$(j3.buffer,fd.m,fd.n,"png",null,!0);
X.e2.push(b(2)+"<image "+Q(W)+" width=\""+i.rect.m+"\" height=\""+i.rect.n+"\" id=\"img"+X.MB+"\" href=\""+a_+"\"/>");
X.dd.push(b(I)+"<use "+gL+" href=\"#img"+X.MB+"\" x=\""+fd.x+"\" y=\""+fd.y+"\"/>")}}if(U){I--;X.dd.push(b(I)+"</g>");
U=!1}}function P(n,X){var u=n.RY.Tracking,I="";if(u!=null&&u!=0){u=Math.round(u*n.RY.FontSize/1e3);I=" dx=\"0";
for(var r=1;r<X.length;r++)I+=" "+u;I+="\" "}return I}function Q(n){if(n==null)return"";var X=n.O7,u=bw.fY(X);
u=F(u.slice(0,u.length-1));return"aria-label=\""+u+"\" "}function x(n,X){if(X.length!=0)n.push("class=\""+X.join(" ")+"\"");
return n.join(" ")}function F(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function E(n){var X=[n.Ng,n.k,n._I,n.vP,n.ii,n.xF];
for(var m=0;m<6;m++)X[m]=T(X[m],3);return"matrix("+X.join(",")+")"}function f(n,X,u,I){if(X||n.add.artb){var r;
if(X)r=_.w.AT(X.a).gs;else{var J=n.xB(),U=_.p.rN(J);r=Typr.U.pathToSVG({crds:U.j,cmds:U.F},1)}u.rq++;
I.push("clip-path=\"url(#cp"+u.rq+")\"");u.e2.push(b(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+u.rq+"\">");
u.e2.push(b(3)+"<path d=\""+r+"\"/>");u.e2.push(b(2)+"</clipPath>")}}function c(n,X,u,I,r,J){var U=u.vstk,K=u.vmsk,i=u.lmfx,z=[];
if(K&&K.uH!=0){var h=T(K.uH);if(I.Be[h]==null){I.BR++;I.Be[h]=I.BR;I.e2.push(b(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+I.BR+"\"> <feGaussianBlur stdDeviation=\""+h+"\"/> </filter>")}z.push("url(#f"+I.Be[h]+")")}if(i)for(var m=0;
m<iZ.order.length;m++){var R=iZ.order[m],C=iZ.pW[m],G=i[C].v;for(var W=0;W<G.length;W++){var A=G[W].v,$=A.classID;
if(!A.enab.v)continue;if($=="OrGl"||$=="DrSh"){I.BR++;z.push("url(#f"+I.BR+")");var O=0,Y=0,l=A.blur.v.val/2.4,B=A.Opct.v.val/100;
if($=="DrSh"){var f4=A.uglg&&A.uglg.v?n.rl():A.lagl.v.val;f4=f4*(Math.PI/180);var V=A.Dstn.v.val;O=-Math.cos(f4)*V;
Y=Math.sin(f4)*V}if($=="OrGl")B/=A.Inpr.v.val/100;var q="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+I.BR+"\" >";
q+="<feDropShadow dx=\""+O+"\" dy=\""+Y+"\" stdDeviation=\""+l+"\" flood-color=\""+CSS.sl(A.Clr.v)+"\" flood-opacity=\""+T(B)+"\"/>";
q+="</filter>";I.e2.push(b(2)+q)}}}if(z.length!=0)X.push("filter:"+k+z.join(" "));var s=bs.uO(i,u),cW=s[0],dk=s[1];
if(U&&!U.fillEnabled.v)X.push("fill:"+k+"none");else if(cW){var kr=CSS.sl(cW.Clr.v);H(X,kr,0)}else if(dk){M(dk,I,r,J);
H(X,"url(#g"+I.l4+")",0)}if(U==null||!U.strokeEnabled.v)U=bs.Py(i);if(U&&U.strokeEnabled.v){var j9=U.strokeStyleContent.v,bh=j9.classID;
if(bh=="solidColorLayer")H(X,CSS.sl(j9.Clr.v),1);else{M(j9,I,r,J);H(X,"url(#g"+I.l4+")",1)}var fe=iZ.X9.ia.indexOf(U.strokeStyleLineCapType.v.strokeStyleLineCapType),gg=iZ.X9.join.indexOf(U.strokeStyleLineJoinType.v.strokeStyleLineJoinType),a$=U.strokeStyleOpacity.v.val/100,dg=U.strokeStyleLineWidth.v.val,iv=iZ.X9.Yo.indexOf(U.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(iv==2){dg*=2;X.push("paint-order:stroke fill markers")}var aQ=U.strokeStyleLineDashSet.v,dt=[];for(var m=0;
m<aQ.length;m++)dt.push(Math.round(aQ[m].v.val*dg));if(fe!=0)X.push("stroke-linecap:"+k+["butt","round","square"][fe]);
if(gg!=0)X.push("stroke-linejoin:"+k+["miter","round","bevel"][gg]);if(a$!=1)X.push("stroke-opacity:"+k+T(a$));
if(dg!=1)X.push("stroke-width:"+k+T(dg));if(dt.length!=0)X.push("stroke-dasharray:"+k+dt.join(","))}}function M(n,X,u,I){X.l4++;
var r=n.Grad.v,J=JSON.parse(JSON.stringify(r.Clrs.v)),U=JSON.parse(JSON.stringify(r.Trns.v)),K=n.Ofst.v,i=n.Type.v.GrdT,z=i=="Rdl"||i=="Dmnd"?1:0,h=(z==1?"radial":"linear")+"Gradient",R=_.M.eF(n,u),G="";
if(z==0){R[0].x=R[1].x+2*(R[0].x-R[1].x);R[0].y=R[1].y+2*(R[0].y-R[1].y)}var C=b(2)+"<"+h+" id=\"g"+X.l4+"\"";
if(I.LL){if(X.l4==1)X.e2.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");G=" href=\"#P\""}else G=" gradientUnits=\"userSpaceOnUse\"";
if(z==0)X.e2.push(C+" x1=\""+T(R[0].x)+"\" y1=\""+T(R[0].y)+"\" x2=\""+T(R[1].x)+"\" y2=\""+T(R[1].y)+"\""+G+">");
if(z==1)X.e2.push(C+" cx=\""+T(R[0].x)+"\" cy=\""+T(R[0].y)+"\" r=\""+T(bJ.YX(R[0],R[1]))+"\""+G+">");
var W=n.Rvrs.v,A=_.M.sK(r,W);for(var m=0;m<A.length;m++){var $=A[m],O=$[0],Y=$[1],l=$[2];l=l==1?"":" stop-opacity=\""+T(l)+"\"";
var B=O==0&&I.LL?"":" offset=\""+T(O)+"\"",f4=CSS.pT({o:Y[0]*255,C:Y[1]*255,k:Y[2]*255});f4=I.LL&&f4=="#000000"?"":" stop-color=\""+L(f4)+"\"";
X.e2.push(b(3)+"<stop"+B+f4+l+"/>")}X.e2.push(b(2)+"</"+h+">")}jT.Wr=E;return d}();jT.qA=function(g,o,k,y,d){var b=[],T=jT.qA,a=!1,t={bW:g,GP:o,_E:[!0,!0,!0],rc:!1,KW:k,aej:0};
t.xw=Math.round(Math.max(g,o)*(.02+T.aN(t)*.03));t.AQ=T.ahX(t);t.Fi=T.anD(t.AQ,(T.aN(t)<.5?-1:1)*(.2+T.aN(t)*.3));
if(T.aN(t)<.5){var j=t.AQ;t.AQ=t.Fi;t.Fi=j}t.a4x=T.aN(t)<.4&&T.ae$(t.Fi,{o:1,C:1,k:1})>.3;t.awz=T.aN(t)<.5?0:1;
b.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+g+" "+o+"\" width=\""+g+"\" height=\""+o+"\">");
t.$u=y[Math.floor(T.th(t)*y.length)];t.uG=y[Math.floor(T.th(t)*y.length)];b.push("<style>");b.push("@font-face {  font-family: "+t.$u[2]+";  src: url(rsrc/fonts/"+t.$u[5]+");  }");
b.push("@font-face {  font-family: "+t.uG[2]+";  src: url(rsrc/fonts/"+t.uG[5]+");  }");b.push("</style>");
var e=[0,0,g,o],v=e;if(d==null)b.push("<path style=\"fill: "+T.FO(t.AQ)+"\" d=\""+T.Rect(e[0],e[1],e[2]-e[0],e[3]-e[1])+"\" id=\"Background\" />");
else{t.rc=!0;T.a9E(t,e,b,d)}if(T.aN(t)<.25&&!t.rc){t._E[0]=t._E[2]=!1;T.aaa(e,t,b);v=e}else if(T.aN(t)<.25||t.rc)v=e;
else{var L=.52+T.aN(t)*.2;if(T.aN(t)<.5)L=1-L;var H=e.slice(0),w=e.slice(0);if(T.aN(t)<.5)H[2]=w[0]=Math.round(L*g);
else H[3]=w[1]=Math.round(L*o);if(T.aN(t)<.5){var j=H;H=w;w=j}v=H;T.aj2(t,w,b,d)}T.a0z(t,v,b);b.push("</svg>");
b=b.join("\n");var P=_.Q(Math.round(b.length*1.5)),Q=S.Gg(b,P,0);return[P.buffer.slice(0,Q),t.Tq]};jT.qA.aaa=function(g,o,k){var y=jT.qA,d=g[2]-g[0],b=g[3]-g[1];
if(y.aN(o)<.5){k.push("<path id=\"Border\" style=\"fill: "+y.FO(o.Fi)+"\" d=\""+y.a85(g[0],g[1],g[2]-g[0],g[3]-g[1],o.xw)+"\" />")}else if(y.aN(o)<-.4){y.aku(o,g,k)}else{var T=y.aN(o)<.5?0:1,a=(T==0?b:d)/4,t=y.OS(o,T,g,k,a,!0),t=y.OS(o,T+2,g,k,a,!0,t)}};
jT.qA.a0z=function(g,o,k){var y=jT.qA,d="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),b=2*Math.floor(y.aN(g)*d.length/2),T=o[2]-o[0],a=o[3]-o[1],j=0,v=0;
g.NN=(g.bW+T)*.5*(.04+y.aN(g)*.05);g.NN=Math.min(g.NN,a*.4,T*.12);g.NN=Math.round(g.NN);var t=Math.min(g.NN*d[b].length*(.35+.3*y.aN(g)),T*.9),e=(o[1]+o[3])/2,L=_.bN(g.AQ)<.85?{o:1,C:1,k:1}:{o:.1,C:.1,k:.1};
if(y.aN(g)<.25&&g._E[0]){v=0;j=o[0]+g.xw}else if(y.aN(g)<.33&&g._E[2]){v=2;j=o[2]-g.xw}else{v=1;j=(o[0]+o[2])/2}var H=L.o==1?"0,0,0":"255,255,255",w=g.rc&&y.aN(g)<1;
if(w){var P=o[0],Q=T,x=e-g.NN*1.1,F=g.NN*2.2,E=.7;if(v==1&&y.aN(g)<.5){P=x=.2*Math.min(T,a);Q=T-2*x;
F=a-x-x}else if(y.aN(g)<.7){P=x=0;Q=T;F=a;E=.25}k.push("<path id=\"Strip\" style=\"fill: rgb("+H+"); opacity: "+E+"\" d=\""+y.Rect(P,x,Q,F)+"\" />")}if(y.aN(g)<.4){var f=g.NN*.07;
f*=1.5+y.aN(g)*1;if(v==-1&&T/a<3&&!w){k.push("<path id=\"Bar-bottom\" style=\"fill: "+y.FO(L)+"\" d=\""+y.Rect(j-t/2,e+g.NN*1.1-f/2,t,f)+"\" />");
k.push("<path id=\"Bar-top\"    style=\"fill: "+y.FO(L)+"\" d=\""+y.Rect(j-t/2,e-g.NN*1.1-f/2,t,f)+"\" />")}if(v!=1){k.push("<path id=\"Bar\" style=\"fill: "+y.FO(L)+"\" d=\""+y.Rect(j-f/2,e-g.NN*.8,f,g.NN*.8*2)+"\" />");
j+=(v==0?1:-1)*g.NN/3}}var c=g.NN*.4;k.push(y.a9j(d[b+1],j,e+c*1.6,c,L,v,g.uG));k.push(y.a9j(d[b],j,e+g.NN*.04,g.NN,L,v,g.$u))};
jT.qA.aj2=function(g,o,k,y){var d=o[2]-o[0],b=o[3]-o[1],T=Math.max(d,b),a=Math.min(d,b),t=jT.qA;if(T/a<5&&!g.rc&&!1){t.a9E(g,o,k,y)}else if(t.aN(g)<0)k.push("<path style=\"fill: "+t.FO(g.Fi)+"\" d=\""+t.Rect(o[0],o[1],d,b)+"\" />");
else{var j=0;if(o[3]!=g.GP)j=0;if(o[2]!=g.bW)j=3;if(o[0]!=0)j=1;if(o[1]!=0)j=2;var e=j+2&3;if(T/a<3){var v=t.aps(e),L=v[Math.round(t.aN(g)*(v.length-1))],H=L.PK.slice(0,4),w=H.indexOf(1);
L=JSON.parse(JSON.stringify(L));var P=-1;if(H!="0000"){var Q=new d3;if(L.PK[5]=="0"){if(w==3&&j==1){P=1;
Q.scale(-1,1)}else P=w}else{var x=e;while(x==e)x=Math.floor(t.aN(g)*4)&3;Q.rotate((-w+x)*Math.PI/2)}t.D(L,Q)}var F=t.AU(L),E=d-2*g.xw,f=b-2*g.xw;
if(P!=-1){if((P&1)==0)f-=g.xw;else E-=g.xw}var c=Math.min(E/F.m,f/F.n),M=new d3;M.translate(-F.x,-F.y);
M.scale(c,c);var n=(d-F.m*c)/2,X=(b-F.n*c)/2;if(P!=-1){if(P==3)n=0;if(P==0)X=0;if(P==1)n=d-F.m*c;if(P==2)X=b-F.n*c}M.translate(o[0]+n,o[1]+X);
t.Y7(g,L,M,g.Fi,k)}else{t.OS(g,j,o,k,1e9)}}};jT.qA.a9E=function(g,o,k,y){var d=o[2]-o[0],b=o[3]-o[1],T=Math.max(d,b),a=Math.min(d,b),t=jT.qA,j=t.th(g),e,v,L,H=y[0]instanceof ArrayBuffer;
if(H){e="data:image/jpg;base64,"+ap.__(y[0]);v=y[1];L=y[2]}else{var w=Math.floor(j*y.length),P=y[w];
g.Tq=P;e=P.webformatURL;v=P.webformatWidth;L=P.webformatHeight}var Q=o[0],x=o[1],F=d,E=b;if(d/b>v/L){E=F*L/v;
x=x-(E-b)/2}else{F=E*v/L;Q=Q-(F-d)/2}if(H){k.push("<defs>");k.push("<image width=\""+v+"\" height=\""+L+"\" id=\"Background\" href=\""+e+"\" />");
k.push("</defs>");var f=F/v;k.push("<use href=\"#Background\" transform=\""+jT.Wr(new d3(f,0,0,f,Q,x))+"\" />")}else{var c="cp"+Math.random();
k.push("<clipPath id=\""+c+"\">");k.push("<path style=\"fill: "+t.FO(g.Fi)+"\" d=\""+t.Rect(o[0],o[1],d,b)+"\" />");
k.push("</clipPath>");k.push("<image  clip-path=\"url(#"+c+")\" xlink:href=\""+e+"\" x=\""+Q+"\" y=\""+x+"\" width=\""+F+"\" height=\""+E+"\" />")}};
jT.qA.a9j=function(g,o,k,y,d,b,T){var a=jT.qA;return"<text x=\""+o+"\" y=\""+k+"\" style=\"fill:"+a.FO(d)+"; font-size:"+y+"px; text-anchor:"+["start","middle","end"][b]+"; font-family:"+T[2]+";\"><tspan>"+g+"</tspan></text>"};
jT.qA.Y7=function(g,o,k,y,d){var b=jT.qA,T=[];for(var m=0;m<o.zA.length;m++){T.push(y);if(g.a4x){y=(m&1)==g.awz?{o:1,C:1,k:1}:T[0]}}d.push("<g id=\""+o.PK.split("-")[2]+":::\" style=\"transform: "+jT.Wr(k)+";\" >");
for(var m=0;m<o.zA.length;m++){var a=o.zA[m];y=T.pop();d.push("<path style=\"fill: "+(y?b.FO(y):"#"+a[0])+"\" d=\""+Typr.U.pathToSVG({crds:a[1].j,cmds:a[1].F})+"\" />")}d.push("</g>")};
jT.qA.aku=function(g,o,k){var y=jT.qA,d=jT.qA.qr,b=[];for(var m=0;m<d.length;m++){var T=d[m],a=T.PK.slice(0,4);
if(a!="1001")continue;b.push(T)}var T=b[Math.floor(y.aN(g)*b.length)];if(y.aN(g)<.5)y.D(T,new d3(0,1,1,0,0,0));
var t=o[3]-o[1],j=o[2]-o[0],e=y.AU(T),v=.7*Math.min(j,t,.5*Math.max(j,t))/Math.max(e.m,e.n),L=new d3;
L.scale(v,v);if(y.aN(g)<.5){L.scale(1,-1);L.translate(0,t)}y.Y7(g,T,L,g.Fi,k);L.rotate(Math.PI);L.translate(j,t);
y.Y7(g,T,L,g.Fi,k)};jT.qA.aps=function(g){var o=jT.qA.qr,k=[];for(var m=0;m<o.length;m++){var y=o[m],d=y.PK.slice(0,4);
if(d=="0000"){k.push(y);continue}if(["1000","0100","0010","0001"].indexOf(d)==-1)continue;var b=d.indexOf("1");
if(y.PK[5]=="0"&&g==b&&b!=3)continue;k.push(y)}return k};jT.qA.OS=function(g,o,k,y,d,b,T){var a=jT.qA.qr,t=jT.qA,j=[],F,E;
for(var m=0;m<a.length;m++){var e=a[m],v=e.PK.slice(0,4);if(["1110","1101","1011","0111"].indexOf(v)==-1)continue;
var L=v.indexOf("0")+2&3;if(e.PK[5]=="0")if(b==!0||o!=L&&!(o==1&&L==3))continue;j.push(e)}var H=T!=null?T:Math.floor(t.aN(g)*j.length),e=j[H],e=JSON.parse(JSON.stringify(e)),v=e.PK.slice(0,4),L=v.indexOf("0")+2&3;
if(L==3&&o==1)_.D(e,new d3(1,0,0,-1,0,1e3));var w=new d3;w.translate(-500,-500);w.rotate(-L*Math.PI/2);
w.translate(500,500);t.D(e,w);var P=k[3]-k[1],Q=k[2]-k[0],x=t.AU(e);if(x.y<0){x.n+=x.y;x.y=0}if(x.y>0){x.n+=x.y;
x.y=0}if((o&1)==0){E=P;F=Q}else{F=P;E=Q}var f=Math.min(Math.min(.5+.5*t.aN(g))*Math.min(Q,P),d)/x.n,c=Math.ceil(F/(1e3*f)),M=new d3,n=new d3;
n.scale(f,f);if(o==0||o==2){n.translate(-(Q/2),-(P/2));n.rotate(-o*Math.PI/2);n.translate(Q/2+k[0],P/2+k[1])}else{n.rotate(Math.PI/2);
n.scale(1,-1);n.translate(k[0],k[1]);if(o==1){n.scale(-1,1);n.translate(Q,0)}}y.push("<g id=\"Border-"+["top","right","bottom","left"][o]+":::\">");
for(var m=0;m<c;m++){var X=M.clone();X.concat(n);t.Y7(g,e,X,g.Fi,y);M.translate(1e3-2,0)}y.push("</g>");
return H};jT.qA.Rect=function(g,o,k,y){return Typr.U.pathToSVG({crds:[g,o,g+k,o,g+k,o+y,g,o+y],cmds:["M","L","L","L","Z"]})};
jT.qA.a85=function(g,o,k,y,d){var b=[g,o,g+k,o,g+k,o+y,g,o+y];g+=d;o+=d;k-=2*d;y-=2*d;b.push(g,o,g,o+y,g+k,o+y,g+k,o);
return Typr.U.pathToSVG({crds:b,cmds:"M L L L Z M L L L Z".split(" ")})};jT.qA.anD=function(g,o){var k=_.g4(g.o,g.C,g.k);
k.qK=Math.max(.1,Math.min(.9,k.qK+o));return _.bI(k.GP,k.ci,k.qK)};jT.qA.a3H=function(g,o){var k=_.g4(g.o,g.C,g.k);
k.GP+=o;return _.bI(k.GP,k.ci,k.qK)};jT.qA.ave=function(g){var o=_.g4(g.o,g.C,g.k);o.qK=1-o.qK;return _.bI(o.GP,o.ci,o.qK)};
jT.qA.ae$=function(g,o){var k=g.o-o.o,y=g.C-o.C,d=g.k-o.k;return Math.sqrt(k*k+y*y+d*d)};jT.qA.ahX=function(g){var o=jT.qA;
return{o:o.aN(g),C:o.aN(g),k:o.aN(g)}};jT.qA.FO=function(g){return CSS.pT({o:g.o*255,C:g.C*255,k:g.k*255})};
jT.qA.AU=function(g){var o=g.zA,k=new bd;for(var m=0;m<o.length;m++)k=k.gO(_.p.AU(o[m][1].j));return k};
jT.qA.D=function(g,o){var k=g.zA;for(var m=0;m<k.length;m++)_.p.D(k[m][1].j,o,k[m][1].j)};jT.qA.aN=function(g){g.aej++;
var o=g.aej&3;if(o==0)g.KW=jT.qA.mX(g.KW);var k=g.KW>>>8*o&255;return k*(.99999999/255)};jT.qA.th=function(g){var o=jT.qA.mX(g.KW);
g.KW=jT.qA.mX(o);return o*(1/4294967295)};jT.qA.mX=function(g){g=(g^61^g>>>16)>>>0;g=g+(g<<3)>>>0;g=(g^g>>>4)>>>0;
g=g*668265261>>>0;g=(g^g>>>15)>>>0;return g};jT.qA.qr=[{PK:"0001-0-bird",zA:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),j:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),j:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),j:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{PK:"0001-0-bird2",zA:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),j:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),j:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),j:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),j:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),j:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),j:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{PK:"0000-1-flower",zA:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),j:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{PK:"0000-1-flower",zA:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),j:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{PK:"0000-1-flower",zA:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),j:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{PK:"0000-1-flower",zA:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{PK:"0000-1-flower",zA:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),j:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),j:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{PK:"0000-0-hearts",zA:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),j:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),j:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),j:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{PK:"0000-0-anchor",zA:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),j:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{PK:"0000-1-leaf",zA:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),j:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{PK:"0000-1-acorn",zA:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),j:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),j:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{PK:"0000-0-skull",zA:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),j:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{PK:"0000-0-ghost",zA:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),j:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),j:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{PK:"1001-1-rose",zA:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),j:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),j:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{PK:"1001-1-curls",zA:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{PK:"0111-0-pines",zA:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),j:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),j:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{PK:"0111-0-flowers",zA:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),j:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{PK:"1101-1-confetti",zA:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{PK:"1101-1-branch",zA:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),j:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{PK:"1101-1-sticks",zA:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{PK:"1101-1-dots",zA:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],j:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{PK:"1101-1-strips",zA:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],j:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{PK:"1101-1-circs",zA:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),j:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),j:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],j:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{PK:"1101-1-squares",zA:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),j:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),j:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],j:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{PK:"1101-0-christmas",zA:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var i6={};i6.parse=function(g){var o=new Uint8Array(g),k=null;if(o[0]==80&&o[1]==75){var y=Date.now(),d=UZIP.parse(o.buffer),k=d["document.json"];
k=JSON.parse(S.IL(k,0,k.length));i6.RD(k,d)}else{var b=jQ.parse(g);k=i6.at9(b[2][0][1])}return k};i6.RD=function(g,o){var k=typeof g;
if(k=="string"||k=="number"||k=="boolean")return g;if(g instanceof Array){for(var m=0;m<g.length;m++)g[m]=i6.RD(g[m],o);
return g}var y=g._class;if(y==null)return g;if(y=="MSJSONFileReference"){var d=g._ref;if(!1){}else if(o[d+".json"]!=null){var b=o[d+".json"],T=b.length;
for(var m=0;m<T;m++)if(b[m]==11||b[m]==3)b[m]=32;var a=S.IL(b,0,T);g=JSON.parse(a)}else if(o[d+".png"]!=null)return{key:d.split("/").pop(),bdata:o[d+".png"]};
else if(o[d+".jpg"]!=null)return{key:d.split("/").pop(),bdata:o[d+".jpg"]};else if(o[d+".pdf"]!=null)return{key:d.split("/").pop(),bdata:o[d+".pdf"]};
else if(o[d]!=null)return{key:d.split("/").pop(),bdata:o[d]};else{console.log(g,o);return}}else if(y=="MSAttributedString"){var a=atob(g.archivedAttributedString._archive),t=a.length-1,j=new Uint8Array(t);
for(var m=0;m<t;m++)j[m]=a.charCodeAt(m);g.archivedAttributedString=i6.at9(j)}for(var e in g)g[e]=i6.RD(g[e],o);
return g};i6.aqy=function(g,o,k,y){if(g instanceof Uint8Array)return null;if(y.indexOf(g)!=-1)return null;
y.push(g);if(g==o)return k;for(var d in g){k.push(d);var b=i6.aqy(g[d],o,k,y);if(b){console.log(g,b);
throw"e"}k.pop()}};i6.at9=function(g){var o=dc.parse(g,0),k=o.$objects,y=new Uint8Array(k.length),d=i6.nj(k,y,o.$top.root);
for(var m=0;m<k.length;m++)if(y[m]==0&&m!=0){console.log(m,k[m]);i6.aqy(d,m,[],[])}for(var m=0;m<k.length;
m++){var b=k[m];if(b._class&&(b._class=="bitmap"||b._class=="fill"&&b.fillType==4&&(b.image||b.imageSHA))){var T=b.image,a=b.imageSHA,t=null,j=null;
if(T=="$null")T=null;if(a=="$null")a=null;if(T&&T.data){j=T.sha1["NS.bytes"];j=btoa(S.lp(j,0,j.length));
t=T.data instanceof Uint8Array?T.data:T.data["NS.bytes"]}else if(T==null&&a==null){var e=cp.rJ("PNG").p0([[_.Q(4).buffer]],1,1);
t=new Uint8Array(e)}else{var v=(d.assets?d.assets.imageCollection:d.images).images;if(a)j=a instanceof Uint8Array?a:a["NS.bytes"];
else j=T.sha1["NS.bytes"];j=btoa(S.lp(j,0,j.length));var t=v[j].data;if(t["NS.bytes"])t=t["NS.bytes"]}t=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.length));
delete b.imageSHA;b.image={key:j,bdata:t}}}return d};i6.a4o=function(g){return g.slice(0,11)=="MSImmutable"?"MS"+g.slice(11):g};
i6.nj=function(g,o,k){var y=g[k];if(o[k]==1){return y}o[k]=1;if(typeof y=="string")return y;if(typeof y=="number")return y;
if(typeof y=="boolean")return y;if(y instanceof Array)return y;if(y instanceof Uint8Array){return y}if(g[y.$class]==null){if(y.$class==null&&y["NS.data"]!=null)return y;
console.log(k,y);throw"e"}var d=g[y.$class],b=i6.a4o(d.$classname);o[y.$class]=1;y.$class=b;if(i6.avK[b]){delete y.$class;
y._class=i6.avK[b]}var T=i6.nj;if(b=="NSMutableArray"||b=="NSArray"){var a=[];if(y["NS.objects"]!=null)for(var m=0;
m<y["NS.objects"].length;m++)a.push(T(g,o,y["NS.objects"][m]));else for(var m=0;y["NS.object."+m]!=null;
m++)a.push(T(g,o,y["NS.object."+m]));g[k]=a;return a}if(b=="NSDictionary"||b=="NSMutableDictionary"){var t={$class:b};
if(y["NS.keys"]!=null)for(var m=0;m<y["NS.keys"].length;m++){var j=T(g,o,y["NS.keys"][m]);if(j instanceof Uint8Array)j=btoa(i6.Ua.lp(j,0,j.length));
else if(typeof j!="string"&&typeof j!="number")j=btoa(i6.Ua.lp(j["NS.bytes"],0,j["NS.bytes"].length));
t[j]=T(g,o,y["NS.objects"][m])}else for(var m=0;y["NS.key."+m]!=null;m++){var j=T(g,o,y["NS.key."+m]);
if(j instanceof Uint8Array)j=btoa(i6.Ua.lp(j,0,j.length));else if(typeof j!="string"&&typeof j!="number")j=btoa(i6.Ua.lp(j["NS.bytes"],0,j["NS.bytes"].length));
t[j]=T(g,o,y["NS.object."+m])}for(var e in y)delete y[e];for(var e in t)y[e]=t[e];return y}if(b=="NSURL")return{$class:b,base:T(g,o,y["NS.base"]),relative:T(g,o,y["NS.relative"])};
if(i6.a9X.indexOf(b)!=-1){g[k]=T(g,o,y.array_do);return g[k]}if(y.do_objectID!=null)y.do_objectID=T(g,o,y.do_objectID);
if(i6.ay5.indexOf(b)!=-1)return y;var v=i6.aiW[b];if(v==null){console.log(g,y);throw"unknown class "+b}for(var m=0;
m<v.length;m++)if(y[v[m]]!=null)y[v[m]]=T(g,o,y[v[m]]);if(b=="MSTextLayer"){var L=y,H,w,P,Q;if(L.attributedString)H=L.attributedString.archivedAttributedString;
else H=L.storage;Q=H.NSString;if(typeof Q!="string")Q=S.IL(Q["NS.bytes"],0,Q["NS.bytes"].length);if(H.NSAttributeInfo)w=H.NSAttributeInfo["NS.bytes"];
else{var x=Q.length,F=[];while(x>0){var E=Math.min(100,x);F.push(E,0);x-=E}w=new Uint8Array(F)}P=H.NSAttributes instanceof Array?H.NSAttributes:[H.NSAttributes];
var f={$class:"NSAttributedString",NSString:Q,NSAttributes:P};L.attributedString={_class:"MSAttributedString",archivedAttributedString:f};
f.NSAttributeInfo={$class:"NSMutableData","NS.data":w};delete L.storage}return y};i6.Ua={EN:function(g,o){return g[o+1]<<8|g[o]},q:function(g,o){return g[o+3]<<24|g[o+2]<<16|g[o+1]<<8|g[o]},lp:function(g,o,k){var y="";
for(var m=0;m<k;m++)y+=String.fromCharCode(g[o+m]);return y}};i6.avK={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
i6.a9X=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
i6.ay5="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
i6.aiW={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var dc={};dc.parse=function(g,o){var k=S.lp(g,o,8);o+=8;var y=dc.parse.a0k(g,g.length-31),d=[];if(y.PW==1){var o=g.length-31-y.PW*y.tA;
for(var m=0;m<y.tA;m++)d.push(g[o+m])}else if(y.PW==2){var o=g.length-31-y.PW*y.tA;for(var m=0;m<y.tA;
m++)d.push(S.EN(g,o+m*2))}else if(y.PW==4){var o=g.length-31-y.PW*y.tA;for(var m=0;m<y.tA;m++)d.push(S.q(g,o+m*4))}else{throw"e"}var b=dc.parse.nj(g,d,y.root,y);
return b};dc.parse.nj=function(g,o,k,y){var d=dc.Ua,b=y.ayl,T=b==4?d.q:b==2?d.EN:d.arn,a=dc.parse,t=o[k],j=g[t],e=j>>4,v=j&15,H=null;
t+=1;if([4,5,6,10,12,13].indexOf(e)!=-1&&v==15){var L=a.jd(g,t);t+=L.eR;v=L.Z}if(!1){}else if(e==0)H=v==8?!1:v==9?!0:null;
else if(e==1)H=a.jd(g,t-1).Z;else if(e==2)H=1<<v==4?S.ZF(g,t):S.uc(g,t);else if(e==3)H=S.uc(g,t);else if(e==4)H=new Uint8Array(g.buffer,t,v);
else if(e==5)H=S.lp(g,t,v);else if(e==6)H=S.EF(g,t,v);else if(e==8){H=0;for(var m=0;m<v+1;m++)H=H<<8|g[t+m]}else if(e==10){H=[];
for(var m=0;m<v;m++)H.push(a.nj(g,o,T(g,t+b*m),y))}else if(e==12){H=[];for(var m=0;m<v;m++)H.push(a.nj(g,o,T(g,t+b*m),y))}else if(e==13){H={};
for(var m=0;m<v;m++){var w=a.nj(g,o,T(g,t+b*m),y),P=a.nj(g,o,T(g,t+b*(v+m)),y);H[w]=P}}else throw"unknown mask "+e;
return H};dc.parse.jd=function(g,o){var k=1<<(g[o]&15),y=0;for(var m=0;m<k;m++)y=y<<8|g[o+1+m];return{Z:y,eR:k+1}};
dc.parse.a0k=function(g,o){var k={};o+=6;k.PW=g[o];o++;k.ayl=g[o];o++;o+=4;k.tA=S.q(g,o);o+=4;o+=4;k.root=S.q(g,o);
o+=4;o+=4;k.a3_=S.q(g,o);o+=4;return k};dc.Ua={arn:function(g,o){return g[o]},EN:function(g,o){return g[o]<<8|g[o+1]},q:function(g,o){return g[o]<<24|g[o+1]<<16|g[o+2]<<8|g[o+3]},lp:function(g,o,k){var y="";
for(var m=0;m<k;m++)y+=String.fromCharCode(g[o+m]);return y}};var jQ={parse:function(g){var o=new Uint8Array(g),k=jQ.rh(o),y=[],d=new Uint8Array(o.length),b=[];
y.push(b);jQ.cl(o,k,1,d,b);for(var m=0;m<b.length;m++){var T=[];y.push(T);jQ.cl(o,k,b[m][3],d,T);b[m][3]=m+1}return y},cl:function(g,o,k,y,d){k--;
var b=k*o.Ij+(k==0?100:0),T=g[b],a=jQ.EN(g,b+1);if(a!=0)throw"free block in a page";var t=jQ.EN(g,b+3),j=jQ.EN(g,b+5);
if(j==0)j=65536;var e=g[b+7],v=jQ.EN(g,b+8);if(T==2||T==5)b+=4;else v=0;for(var L=0;L<t;L++){var H=k*o.Ij+jQ.EN(g,b+8+2*L),w=-1,P=0,Q=0,x=0;
if(T==2||T==5){w=jQ.q(g,H);H+=4}if(T==2||T==10||T==13){P=jQ.SU(g,H);H+=P.eR}if(T==5||T==13){Q=jQ.SU(g,H);
H+=Q.eR}if(T==5){jQ.cl(g,o,w,y,d);continue}var F=o.Ij-(k==0?100:0),E=P._Q,f=T==13?F-35:Math.floor((F-12)*64/255)-23,c=Math.floor((F-12)*32/255)-23,M=c+(E-c)%(F-4);
if(E<=f){jQ.QF(g,H,y,0,E)}else{var n=M<=f?M:c,X=0;jQ.QF(g,H,y,0,n);X+=n;x=jQ.q(g,H+n);while(x!=0){var u=(x-1)*o.Ij;
x=jQ.q(g,u);var I=Math.min(o.Ij-4,E-X);jQ.QF(g,u+4,y,X,I);X+=I}}d.push(jQ.ao7(y,E))}},ao7:function(g,o){var k=0,y=jQ.SU(g,k);
k+=y.eR;var d=[],b=[];while(k<y._Q){var T=jQ.SU(g,k);k+=T.eR;d.push(T._Q)}if(k!=y._Q)throw"e";for(var m=0;
m<d.length;m++){var T=d[m];if(!1){}else if(T==0)b.push(null);else if(T==1){b.push(jQ.aqg(g,k));k+=1}else if(T==2){b.push(jQ.NW(g,k));
k+=2}else if(T==3){b.push(jQ.aeV(g,k));k+=3}else if(T==4){b.push(jQ.jd(g,k));k+=4}else if(T==7){b.push(jQ.a10(g,k));
k+=16}else if(T==8)b.push(0);else if(T==9)b.push(1);else if(T>=12&&(T&1)==0){var a=T-13>>1,t=new Uint8Array(a);
jQ.QF(g,k,t,0,a);b.push(t);k+=a}else if(T>=13&&(T&1)==1){var a=T-12>>1;b.push(jQ.IL(g,k,a));k+=a}else throw"unknonw type "+T}return b},rh:function(g){if(!(g[18]==1&&g[19]==1&&g[20]==0&&g[21]==64&&g[22]==32&&g[23]==32))throw"unexpected SQL3 header";
var o={nf:jQ.lp(g,0,15),Ij:jQ.EN(g,16),a4F:jQ.q(g,24),size:jQ.q(g,28),a2Y:jQ.q(g,32),a9n:jQ.q(g,36),ajY:jQ.q(g,40),ax2:jQ.q(g,44),axn:jQ.q(g,48),anj:jQ.q(g,52),a45:jQ.q(g,56),ayu:jQ.q(g,60),a1k:jQ.q(g,64)!=0,asf:jQ.q(g,68),adM:jQ.q(g,92),asv:jQ.q(g,96)};
if(o.Ij==1)o.Ij=65536;if(o.a45!=1)throw"unsupported text encoding "+o.a45;return o},amX:function(g,o){return g[o]<<16|g[o+1]<<8|g[o+2]},aeV:function(g,o){var k=jQ.amX(g,o),y=k&8388608;
return y?-(16777215-k+1):k},aqg:function(g,o){jQ.bo[0]=g[o];return jQ.aw2[0]},jd:function(g,o){var k=jQ.bo;
for(var m=0;m<4;m++)k[m]=g[o+3-m];return jQ.aiy[0]},NW:function(g,o){var k=jQ.bo;k[0]=g[o+1];k[1]=g[o];
return jQ.atO[0]},EN:function(g,o){return g[o]<<8|g[o+1]},q:function(g,o){return g[o]<<24|g[o+1]<<16|g[o+2]<<8|g[o+3]},a10:function(g,o){var k=jQ.bo;
for(var m=0;m<8;m++)k[m]=g[o+7-m];return jQ.acM[0]},SU:function(g,o){var k=o,cy=0;while(!0){var y=g[o];
o++;cy=cy*128+(y&127);if(y<128)break}return{_Q:cy,eR:o-k}},lp:function(g,o,k){var y="";for(var m=0;m<k;
m++)y+=String.fromCharCode(g[o+m]);return y},IL:function(g,o,k){var y="";for(var m=0;m<k;m++)y+="%"+jQ.a0E(g[o+m].toString(16));
return decodeURIComponent(y)},QF:function(g,o,k,y,d){if(g[o+d-1]==null||k[y+d-1]==null){console.log(o,y,d);
throw"e"}for(var m=0;m<d;m++)k[y+m]=g[o+m]},a0E:function(cy){return cy.length<2?"0"+cy:cy}};jQ.bo=new Uint8Array(8);
jQ.aw2=new Int8Array(jQ.bo.buffer);jQ.atO=new Int16Array(jQ.bo.buffer);jQ.aiy=new Int32Array(jQ.bo.buffer);
jQ.acM=new Float64Array(jQ.bo.buffer);function eT(g,o,k){this.b5=g;this.D$=o;this.ar9=k;this.fU=new bJ(0,0);
this.Zz=-1;this.yg=0;this.Dn=0;this.Jv=new bd;this.gA=[];this.$R=null;this.a0R=null;this.Zk=null;this.zZ=null;
this.xl=null;this.app=null}eT.prototype.StartPage=function(g,o,k,y,d){var b=this.D$,T=b.Va(),a=1,t=(k-g)*(y-o);
if(d!=null)t=d;while(t*T*T/(a*a)>2*8192*8192)a++;b.scale(1/a,1/a);this.a0R=[g,o,k,y];var a=b.Va();g=Math.round(g*a);
o=Math.round(o*a);k=Math.round(k*a);y=Math.round(y*a);var j=this.b5,e=this.Zk;if(e==null){b.ii=-g}else{var v=e[2]-e[0]+30,L=Math.round(k-g)+30;
if(this.fU.x+v+L>8192){b.ii=-g;this.fU.x=0;this.fU.y+=this.Dn+120;this.Dn=0}else{b.ii+=v;this.fU.x+=v}}b.xF=this.fU.y+(this.ar9?y:-o);
this.Dn=Math.max(this.Dn,Math.round(y-o));this.Zk=[g,o,k,y];this.avp=[];j.d.push(j.L0())};eT.prototype.StartTGroup=function(g){this.BS();
var o=this.b5;o.d.push(o.L0());var k=eT.Dt[g.bmode];if(k==null)k="norm";var y=o.Qf();y.mP("<Group>");
y.add.lsct=cK.TD;y.HW=k=="norm"?"pass":k;y.b_=24;y.opacity=Math.round(255*g.ca);this.avp.push(y)};eT.prototype.EndTGroup=function(){this.b5.d.push(this.avp.pop())};
eT.prototype.a4N=function(){var g=this.b5,o=g.d[g.d.length-1];return o};eT.prototype.aaS=function(){var g=JSON.parse(JSON.stringify(iZ.X9.default));
g.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";g.strokeEnabled.v=!1;
g.fillEnabled.v=!1;return g};eT.prototype.aa_=function(){var g=this.b5,o=g.Qf();o.mP("Path "+g.d.length);
this.b5.d.push(o);o.b_|=16;o.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:0,C:0,k:0})}};o.add.vmsk=new p.Ew;
o.add.vstk=this.aaS();return o};eT.prototype.fp=function(g){var o={j:g.crds,F:g.cmds},k=_.p.XP(o,!1);
_.w.cs(k,this.D$);return k};eT.arv=function(g,o){for(var m=0;m<g.length;m++)if(g[m].dJ!=null)g[m].dJ=o};
eT.a1x=function(g){return Math.sqrt(Math.abs(g[0]*g[3]-g[1]*g[2]))};eT.fF=function(g){return _.M.UF({o:g[0]*255,C:g[1]*255,k:g[2]*255})};
eT.nz=function(g){return new d3(g[0],g[1],g[2],g[3],g[4],g[5])};eT.prototype.Stroke=function(g){if(this.Zz!=-1&&this.Zz!=this.yg)return;
if(g.pth.cmds.length<=1)return;var o=this.fp(g.pth);if(o.length<=2)return;this.f5(g);eT.arv(o,-1);o[2].dJ=1;
var k=eT.fF(g.COLR),y=this.a4N(),d=this.aaS();eT.e7(d,g,this.D$.Va(),k);var b=y!=null&&y.add.vmsk!=null&&!y.gT(),T=b&&!y.add.vstk.strokeEnabled.v&&p.Ew.aeO(y.add.vmsk.a,o,!0),a=b&&!y.add.vstk.fillEnabled.v&&JSON.stringify(d)==JSON.stringify(y.add.vstk);
if(a){y.add.vmsk.a=y.add.vmsk.a.concat(o.slice(2))}else if(T){y.add.vstk=d;d.fillEnabled.v=!0}else{y=this.aa_();
y.add.vmsk.a=o;y.add.vstk=d}};eT.e7=function(g,o,k,y){g.strokeEnabled.v=!0;g.strokeStyleMiterLimit.v=o.mlimit;
g.strokeStyleLineDashSet.v=bs.rn(o.dash,1/o.lwidth);g.strokeStyleLineDashOffset.v.val=o.doff;g.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iZ.X9.join[o.ljoin];
g.strokeStyleLineCapType.v.strokeStyleLineCapType=iZ.X9.ia[o.lcap];g.strokeStyleLineWidth.v.val=Math.max(.4,o.lwidth*eT.a1x(o.ctm)*k);
g.strokeStyleContent.v.Clr.v=y};eT.prototype.Fill=function(g,o){if(this.Zz!=-1&&this.Zz!=this.yg)return;
if(g.ca==0)return;var k=g.pth.cmds;if(k.length==0)return;if(k.length==2&&JSON.stringify(k)=="[\"M\",\"L\"]")return;
var y=_.p.AU(g.pth.crds),d=_.p.AU(g.cpth.crds);if(y.Nm(d).on())return;var b=g.pth,T=UDOC.G.isBox(b,[y.x,y.y,y.x+y.m,y.y+y.n]),a=g.cpth,t=UDOC.G.isBox(a,[d.x,d.y,d.x+d.m,d.y+d.n]);
if(T&&t&&y.O()>d.O()*2){var j=y.Nm(d),e=j.x,v=j.y,L=e+j.m,H=v+j.n;b={cmds:["M","L","L","L","Z"],crds:[e,v,L,v,L,H,e,H]};
y=j}else if(this.zZ==null&&UDOC.G.isBox(b,[y.x,y.y,y.x+y.m,y.y+y.n])&&y.IK(d)){b=a;y=d}else this.f5(g);
var w=this.fp(b),P=_.p.rN(y);_.p.D(P.j,this.D$,P.j);y=_.p.AU(P.j);var Q=eT.a9b(g.colr,this.D$,y),x=this.a4N(),F=x!=null&&x.opacity==Math.round(255*g.ca)&&x.add.vstk!=null&&!x.add.vstk.strokeEnabled.v&&x.add.SoCo&&Q.type=="SoFi"&&JSON.stringify(x.add.SoCo.Clr.v)==JSON.stringify(Q.Z.v.Clr.v);
if(F){var E=!1;for(var m=0;m<w.length;m++){if(w[m].dJ==0||w[m].dJ==2)E=!0}if(E){var f=_.p.AU(_.w.GH(x.add.vmsk.a)),c=_.p.AU(_.w.GH(w));
F=f.Nm(c).on()}}if(F){var M=x.add.vmsk.a;for(var m=2;m<w.length;m++)M.push(w[m])}else{x=this.aa_();delete x.add.SoCo;
x.add.vmsk.a=p.Ew.q7(w);eT.rs(g.colr,x,this.D$,y);eT.afI(g,x)}};eT.rs=function(g,o,k,y){var d=eT.a9b(g,k,y),b=null,T=null;
o.add.vstk.fillEnabled.v=!0;if(d.type=="SoFi"){b="SoCo";T=iZ.ho}if(d.type=="GrFl"){b="GdFl";T=iZ.GY}if(d.type=="patternFill"){b="PtFl";
T=iZ.eQ}if(b!=null){o.add[b]={classID:"null"};for(var m=0;m<T.length;m++){var a=T[m];o.add[b][a]=d.Z.v[a]}}};
eT.prototype.f5=function(g){var o=this.b5,k=g.cpth,y=k.cmds.join(""),d=k.crds,b=y+" "+d.join(","),T=UDOC.G.isBox(k,this.a0R);
if(T&&this.zZ==null)return;if(b==this.zZ)return;this.BS();if(!T){this.zZ=b;o.d.push(o.L0());var a=o.Qf();
a.mP("Mask");a.add.lsct=cK.E5;a.HW="pass";a.b_=24;var t=a.add.vmsk=new p.Ew;t.a=this.fp(g.cpth);if(UDOC.G.isBox(k)){this.xl=_.w.HM(t.a);
this.xl.pK(3,3)}else this.xl=null;this.app=a}};eT.prototype.BS=function(){var g=this.b5;if(this.zZ!=null){var o=g.d.length-1,m=o,k=!1;
while(m>=0&&g.d[m].add.lsct!=cK.ZG)m--;var y=this.xl;if(y){var d=new bd,b=o;while(b>m){d=g.d[b].Jc(this.b5,!1,!0);
b--}k=y.IK(d)}if(k){this.gA.splice(m,1);g.d.splice(m,1)}else{g.d.push(this.app)}this.zZ=null}};eT.a9b=function(g,o,k){var y,d;
if(g.length!=null){y="SoFi";var b=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);d={t:"Objc",v:b};d.v.Clr.v=eT.fF(g)}else{var T=eT.aou(g,o,k);
y="GrFl";d={t:"Objc",v:T}}return{type:y,Z:d}};eT.aou=function(g,o,k){var y=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),d=y.Grad.v;
d.Intr.v=0;var b=eT.nz(g.mat);b.concat(o);var T=new bJ(0,0),a=new bJ(k.m,0),t=g.crds;if(g.typ=="rad"){y.Type.v.GrdT="Rdl";
var j=.7;T.x=(1-j)*t[0]+j*t[3];T.y=(1-j)*t[1]+j*t[4];a.x=T.x;a.y=T.y;a.x+=Math.max(t[2],t[5])}else{y.Type.v.GrdT="Lnr";
T.x=t[0];T.y=t[1];a.x=t[2];a.y=t[3];T.x=a.x+.5*(T.x-a.x);T.y=a.y+.5*(T.y-a.y)}T=b.iG(T);a=b.iG(a);_.M._j(T,a,k,y);
var e=g.grad;_.M.Dd(e,d);return y};eT.prototype.PutText=function(g,o,k,y){var d=o.charCodeAt(0),H=null;
if(this.Zz!=-1&&this.Zz!=this.yg)return;if(o.length==0||o.length==1&&(d==0||d==8203))return;this.f5(g);
var b=this.b5,T=g.font,a=Math.round(255*g.ca);if(g.font.Tmode==3)a=0;var t=eT.nz(g.ctm);t.concat(this.D$);
var j=eT.nz(T.Tm);j.concat(t);var e=j.Va(),v=new d3(1/e,0,0,-1/e,0,0);v.concat(j);var L=T.Tfs*e,w=b.d.length-1;
while(w>=0&&b.d[w].add.TySh==null)w--;if(v.k*v.k+v._I*v._I<.001&&y==null&&w>=0&&b.d[w].add.TySh&&b.d[w].opacity==a){var P=b.d[w],Q=this.gA[w],x=P.add.TySh.D,F=(x.ii+Q.BE-v.ii)/L,E=Math.abs(F),f=o.indexOf(" ")==-1,c=x.Ng==v.Ng&&x.k==v.k&&x._I==v._I&&x.vP==v.vP,M=c&&Math.abs(Q._2-v.xF)<1e-5&&E<.6,n=v.xF-Q._2;
if(M){H=P;Q.BE=v.ii-x.ii;if(F>.2&&f&&[".",",","?",":","!"].indexOf(o)==-1)o=" "+o}else if(c&&Math.abs(v.ii-x.ii)<1e-5&&0<n&&n<L*1.7&&Q.a5_==L){H=P;
this.acU(Q);Q._2=v.xF;o="\n"+o}}if(H==null){w=b.d.length;this.gA[w]={Vb:[],BE:0,_2:v.xF,aD:"",a5_:L};
H=b.Qf();b.d.push(H);H.add.lnsr="rend";H.add.TySh=bw.j_(0,0);H.add.TySh.D=v}var Q=this.gA[w];Q.BE+=k*L;
Q.aD+=o;var X=H.add.TySh.O7,u=bw.fY(X);if(y){bw.ms(X,1);var I=[0,0,Math.ceil(y[0]*e),Math.ceil(y[1]*e)];
bw.Y$(X,I)}var r=u.length-1,J=r+o.length;bw.pj(X,r,o);if(this.$R==null)this.$R=bw.DE(X,r,r);var U=this.$R;
U.RY.FontSize=Math.round(L);U.RY.Tracking=Math.round(T.Tc*100);U.RY.Underline=T.Tun==1;U.RY.FillColor={Type:1,Values:[1,g.colr[0],g.colr[1],g.colr[2]]};
if(T.Tal!=null)U.by.Justification=T.Tal;if(Q.Vb.length!=0){U.RY.AutoLeading=!1;U.RY.Leading=Q._2-Q.Vb[Q.Vb.length-1].y}var K=T.Tf;
K=K.replace(/#2B/g,"+");K=K.replace(/#2C/g,"-");K=K.split("+").pop();var i={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(i[K])K=i[K];bw.nx(U,K);bw.SX(X,r,J-1,U);H.u8();H.opacity=a};eT.prototype.acU=function(g){g.Vb.push({bW:g.BE,la:g.aD.slice(g.Vb.length==0?0:1)+"\n",y:g._2,ci:g.a5_});
g.BE=0;g.aD=""};eT.prototype.Bs=function(g,o,k){return new Uint8Array(cp.rJ("PNG").p0([[g.buffer,0]],o,k))};
eT.prototype.PutImage=function(g,o,k,y,d,b,T){if(this.Zz!=-1&&this.Zz!=this.yg)return;var a=this.b5,t=g.font.Tmode;
if(t==7&&a.d[a.d.length-1].add.TySh){return}this.f5(g);var j=eT.nz(g.ctm);j.concat(this.D$);var e=new d3(1/k,0,0,-1/y,0,1);
e.concat(j);j=e;o=eT.ay8(o,k,y,b,!1);if(d)d=eT.ay8(d,k,y,T,!0);if(d==null){if(o.length==k*y*4)o=this.Bs(o,k,y)}else{o=this.ae9(o,k,y,b,!1);
d=this.ae9(d,k,y,T,!0);var v=_.Q(k*y);_.B4(d,v,0);_.e_(v,o,3);o=this.Bs(o,k,y)}var L=a.Es(o,"Bitmap",0,0),H=L.rect.clone();
H.x=H.y=0;var w=_.p.rN(H).j;_.p.D(w,j,w);L.add.SoLd.Trnf=D.C8.sY(w);L.add.SoLd.nonAffineTransform=D.C8.sY(w);
L.tq(a,!1);eT.afI(g,L);a.d.push(L)};eT.afI=function(g,o){o.opacity=Math.round(255*g.ca);var k=eT.Dt[g.bmode];
if(k==null)console.log("Unknown blend mode",k);else o.HW=k};eT.Dt={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
eT.aoT=function(g){if(g=="pass")g="norm";for(var o in eT.Dt)if(eT.Dt[o]==g)return o};eT.ay8=function(g,o,k,y,d){var b=cp.tW(g.buffer);
if(b=="jpg"){try{g=new Uint8Array(cp.rJ("JPG").agK(g.buffer))}catch(d9){g=new Uint8Array(o*k*4)}}else if(b=="jb2"){g=new Uint8Array(cp.rJ("JPG").pO(g.buffer,y,d)[0].data)}else if(g.length!=o*k*4){var T=new Uint8Array(o*k*4),a=Math.ceil(o/8),t=new Uint8Array(k*a);
UTIF.decode._decodeG4(g,0,g.length,t,0,o,1);var j=t[0]==(d?255:0);for(var e=0;e<k;e++){var v=a*e;for(var L=0;
L<o;L++){var m=e*o+L,H=m*4,w=(t[v+(L>>3)]>>7-(L&7)&1)*255;if(j)w=255-w;T[H]=w;T[H+1]=w;T[H+2]=w;T[H+3]=255}}g=T}return g};
eT.prototype.ae9=function(g,o,k,y,d){if(g.length!=o*k*4){var b=cp.tW(g.buffer);if(b=="jb2")throw"e";
var T=cp.rJ(b);if(T==null||b=="tga")T=cp.rJ("jpg");g=new Uint8Array(T.pO(g,y,d)[0].data)}return g};eT.prototype.ShowPage=function(){var g=this.b5;
this.yg++;var o=this.Zk;this.BS();var k=g.Qf();g.d.push(k);var y=new bd(Math.round(this.fU.x),Math.round(this.fU.y),Math.round(o[2]-o[0]),Math.round(o[3]-o[1]));
if(y.on())y.m=y.n=2e3;this.Jv=this.Jv.gO(y);k.P2(y);k.add.artb.artboardBackgroundType.v=1;k.mP("Page "+this.yg);
k.add.lsct=cK.E5;k.HW="pass";k.b_=24};eT.prototype.Print=function(g){console.log("Print:",g)};eT.prototype.Done=function(){var g=this.b5;
if(this.yg==1)g.d[g.d.length-1].add.lsct=cK.TD;g.Bu(this.yg);for(var m=0;m<g.d.length;m++){var o=g.d[m],k=o.add.vmsk,y=o.add.TySh,d=this.gA[m];
o.Ko();if(k){var b=!1;for(var T=0;T<k.a.length;T++){var a=k.a[T];if((a.type==0||a.type==3)&&a.length>32767)b=!0}if(b){g.d.splice(m,1);
m--;continue}}o.bD(g);if(y&&d&&d.Vb.length!=0){this.acU(d);var t=y.O7,j=d.Vb.length,e=d.Vb[0],v=0,L=0;
for(var T=0;T<j;T++)v=Math.max(v,d.Vb[T].bW);bw.ms(t,1);y.D.xF-=e.ci*.7;bw.Y$(t,[0,0,Math.ceil(v*1.1),Math.ceil(d.Vb[j-1].y-e.y+e.ci*2)])}if(y){var t=y.O7;
bw.ahi(t);var H=bw.fY(t).split("\n");for(var T=0;T<H.length-1;T++){var w=H[T],P=0;for(var Q=0;Q<w.length;
Q++){var x=w.charCodeAt(Q);if(1473<=x&&x<=1524)P++}if(P>w.length/2){H[T]=w.split("").reverse().join("");
var F=t.EngineDict.ParagraphRun.RunArray[T].ParagraphSheet.Properties;F._Direction=1;F.Justification=bw.aP(F)}}bw.hG(t,H.join("\n"))}}g.Hi=!0;
g.m=this.Jv.m;g.n=this.Jv.n;g.buffer=_.Q(this.Jv.O()*4)};var gx={};gx.i5=null;gx.Z0=function(g,o,k,y,d,b){if(d==null)d=g.m;
if(b==null)b=g.n;gx.i5=g;var T=!1,a=[g.root],t=g.root.children;if(g.add.artd){T=!0;for(var m=0;m<t.length;
m++)if(t[m].i.add.artb==null)T=!1;if(T)a=t}var j=new bd(0,0,g.m,g.n),e=o[0];e=e.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
e=e.split(" ");var v=[];for(var m=0;m<e.length;m++){var L=e[m];if(L=="-"){var H=v.pop(),w=parseInt(e[m+1]);
while(H<w){v.push(H);H++}}else v.push(parseInt(L))}e=v;for(var m=0;m<e.length;m++)if(isNaN(e[m])||e[m]<1||e[m]>a.length){e.splice(m,1);
m--}var P=d/g.m,Q=b/g.n,x=P*72/g.Qb,F=Q*72/g.Qb,E=o[5];if(E==null)E=0;var f=72*E,c=72*E;for(var M=0;
M<a.length;M++){var m=M;if(o[2])m=a.length-1-M;if(e.length!=0&&e.indexOf(m+1)==-1)continue;var n=a[m],X=T?n.i.xB():j;
if(!n.i.oa())continue;var u=Math.round(X.m*x+2*f),I=Math.round(X.n*F+2*c);k.StartPage(0,0,u,I);var r=UDOC.getState(),J=new d3;
J.translate(-X.x,-X.y-X.n);J.scale(x,-F);J.translate(f,c);if(T){var U=n.i.add.artb,K=U.artboardBackgroundType.v;
if(K!=1&&K!=3){var i=n.i.y5(),z=f*x,h=c*F,R=z+X.m*x,C=h+X.n*F;r.colr=[(i>>>0&255)/255,(i>>>8&255)/255,(i>>>16&255)/255];
r.pth={cmds:["M","L","L","L","Z"],crds:[z,h,R,h,R,C,z,C]};k.Fill(r)}}if(o[3]){var G=g.PJ();if(!j.ey(X)){G=_.Q(X.O()*4);
_.g1(g.PJ(),j,G,X)}var W=g.Ic();if(W)ICC.U.applyLUT(W[g.add.fcmy==1?5:3],W[2],G,G);if(o[1]!=100){var A=cp.rJ("JPG").p0([[G.buffer]],X.m,X.n,[o[1]]);
G=new Uint8Array(A)}var $=new d3;$.translate(X.x,X.y);gx.sg(r,k,G,X,$,J)}else{gx.a0c(g,n,r,k,J,o,y);
if(f!=0){var z=f,h=c,R=z+X.m,C=h+X.n,O=R+f,Y=C+f;r.ca=1;r.colr=[1,1,1];r.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,Y,O,Y,O,0,z,h,R,h,R,C,z,C]};
k.Fill(r)}}k.ShowPage()}k.Done();gx.i5=null};gx.$o=function(g){g=_.M.sL(g);return[g.o/255,g.C/255,g.k/255]};
gx.a0c=function(g,o,k,y,d,b,T){var a=o.i,t=a.add.lsct,j=a.add.lmfx,e=a.add.vmsk,v=a.add.vstk,L=a.add.TySh,x,F,r;
if(!a.oa())return;var H=a.opacity/255,w=a.add.iOpa!=null?a.add.iOpa/255:1;k.bmode=eT.aoT(a.HW);var P=k.ca;
k.ca=k.CA=H*w;var Q=j;if(Q)Q=Q.solidFillMulti.v[0];if(Q)Q=Q.v;if(Q&&!Q.enab.v)Q=null;var E=a.rect;if(a.ZB()&&(!a.gT()||a.Of&&a.Of.pb)){if(a.gT()){x=a.Of.pb;
E=a.Of.auH}else{x=_.Q(a.rect.O());_.B4(a.buffer,x,3)}F=bs.W0(j,a.add.fxrp,x,E,g,E).type;var f=["DrSh","OrGl"];
if(w!=1||v&&!v.fillEnabled.v){var c=x.slice(0);_.TY(c);for(var m=0;m<f.length;m++){var M=F[f[m]];for(var n=0;
n<M.length;n++){var X=M[n],u=X.pk.clone();u.x+=E.x;u.y+=E.y;_.Wy(c,E,X.rg,u)}}}}if(F)gx.a2F(a,x,E,F,k,y,d,b,!0);
var I=bs.ab7(a,!1);if(I){y.StartTGroup(k);r=k;k=UDOC.getState()}var J=e&&!a.JW();if(J){var U=_.p.$Q(e.a,!1),K=U.gs;
_.p.D(K.j,d,K.j);k.cpth={cmds:K.F,crds:K.j}}if(a.gT()){for(var m=0;m<o.children.length;m++)gx.a0c(g,o.children[m],k,y,d,b,T)}else if(e&&a.JW()&&a.add.PtFl==null){var i=e.a,z=_.w.HM(i),h=!1;
if(v.fillEnabled.v){var R=bs.uO(j,a.add),C=R[0],G=R[1];k.colr=gx.cS(C?C:G,d,z);h=!0}var W=bs.Py(j);if(!v.strokeEnabled.v&&W)v=W;
var U=_.p.$Q(i,v.strokeEnabled.v),K=U.gs;_.p.D(K.j,d,K.j);k.pth={cmds:K.F,crds:K.j};gx.ajw(y,k,h,v,d,z,U.Lq!=0)}else if(L&&b[4]){var A=L.O7,$=new dR(A,T),K=il.h$($,L),O=_.p.Yy(K),Y=bs.Py(j);
for(var l in O){var B=parseInt(l.slice(1,7),16),f4=0;k.colr=Q?gx.$o(Q.Clr.v):gx.a26(B);var V=O[l];_.p.D(V.j,d,V.j);
V=_.p.axo(V);k.pth={cmds:V.F,crds:V.j};var v=Y;if(l.length>7){v=JSON.parse(JSON.stringify(iZ.X9.default));
var q=l.slice(7).split("-"),B=parseInt(q[1].slice(1),16),s=gx.a26(B);v.strokeEnabled.v=!0;v.strokeStyleLineWidth.v.val=parseFloat(q[2]);
v.strokeStyleContent.v.Clr.v=Q?Q.Clr.v:_.M.UF({o:s[0]*255,C:s[1]*255,k:s[2]*255});v.strokeStyleMiterLimit.v=parseFloat(q[2])}gx.ajw(y,k,!0,v,d,null,!1)}}else if(L){var A=JSON.parse(JSON.stringify(L.O7));
bw.ahi(A);var cW=L.D.clone(),dk=new d3(1,0,0,-1,0,0);dk.concat(cW);dk.concat(d);var kr=bw.fY(A),$=new dR(A,T);
for(var m=0;m<$.by.length;m++){var j9=$.by[m];if(j9.p3.length==1&&j9.p3[0].Gk)continue;for(var n=0;n<j9.RJ.length;
n++){var bh=j9.RJ[n],fe=j9.S4.y+bh.S4.y,gg=j9.p3[bh.start].start,a$=j9.p3[bh.end-1].end,dg=bw.aua(A,gg,a$);
for(var iv=0;iv<dg.length;iv++){var aQ=$.TJ(gg),dt=dg[iv],hY=bw.DE(A,gg,gg),b9=hY.n9[hY.RY.Font].Name;
k.font.Tf=b9;var l=bw.sL(hY.RY.FillColor);k.colr=Q?gx.$o(Q.Clr.v):[l.o/255,l.C/255,l.k/255];var i0=k.font.Tfs=Math.round(hY.RY.FontSize),gD=kr.slice(gg,gg+dt);
if(hY.RY.FontCaps==2)gD=gD.toUpperCase();var hU=new d3;hU.translate(aQ.KU.x,-fe);hU.concat(dk);k.ctm=[hU.Ng,hU.k,hU._I,hU.vP,hU.ii,hU.xF];
y.PutText(k,gD,0);for(var aW=0;aW<2;aW++){var be=hY.RY[aW==0?"Strikethrough":"Underline"];if(!be)continue;
var hv=$.TJ(gg+dt-1),b3=aW==0?.27:-.2,gT=i0*b3,aB=i0*(b3+.07),f4=hv.KU.x+hv.KU.m-aQ.KU.x,bO=[0,gT,f4,gT,f4,aB,0,aB];
_.p.D(bO,hU,bO);k.pth={cmds:["M","L","L","L","Z"],crds:bO};y.Fill(k)}k.ctm=[1,0,0,1,0,0];gg+=dt}}}}else if(!a.rect.on()){var kf,gs,gK=!1,c4=new d3,k6=a.add.SoLd,jk=!0;
if(k6)jk=_.K.tM(_.K.VH(D.C8.bh(k6.Trnf)));var jt=g.Ic();if(k6&&jk&&jt==null){var j_=k6.Idnt.v,kw=g.PU(j_,k6.Crop?k6.Crop.v:null),bG="";
if(kw==null)return;var eu=kw.IG,ak=cp.tW(kw.raw.buffer);if(b[6].indexOf(ak)!=-1){kf=kw.raw;gK=!0}else kf=eu[0];
gs=eu[1];c4=_.K.wa(k6)}else{kf=a.buffer;gs=a.rect;c4.translate(gs.x,gs.y);if(jt){kf=kf.slice(0);ICC.U.applyLUT(jt[g.add.fcmy==1?5:3],jt[2],kf,kf)}}if(Q&&!gK)kf=bs.acz(kf,Q,gs);
gx.sg(k,y,kf,gs,c4,d);if(Q&&gK){var bO=[0,0,gs.m,0,gs.m,gs.n,0,gs.n];_.p.D(bO,c4,bO);_.p.D(bO,d,bO);
var j5=JSON.parse(JSON.stringify(k));j5.ca=Q.Opct.v.val/100;j5.pth={cmds:["M","L","L","L","Z"],crds:bO};
j5.colr=gx.$o(Q.Clr.v);y.Fill(j5)}}if(J)k.cpth=null;if(I){y.EndTGroup();k=r}k.ca=k.CA=P;if(F)gx.a2F(a,x,E,F,k,y,d,b,!1)};
gx.ajw=function(g,o,k,y,d,b,T){var a=!1,t=0,j=0;if(y&&y.strokeEnabled.v){var e=y.strokeStyleContent.v,v=y.strokeStyleLineDashSet.v;
t=iZ.X9.Yo.indexOf(y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);o.COLR=gx.cS(e,d,b);j=y.strokeStyleLineWidth.v.val*d.Va();
o.mlimit=y.strokeStyleMiterLimit.v*d.Va();o.doff=y.strokeStyleLineDashOffset.v.val;o.ljoin=iZ.X9.join.indexOf(y.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
o.lcap=iZ.X9.ia.indexOf(y.strokeStyleLineCapType.v.strokeStyleLineCapType);o.dash=[];for(var m=0;m<v.length;
m++)o.dash.push(v[m].v.val*j);if(o.dash.length==1&&o.dash[0]==0)o.dash=[];a=!0}var H=t==2;if(k&&!H)g.Fill(o,T);
if(a){o.lwidth=j*(t==2?2:1);g.Stroke(o)}if(k&&H)g.Fill(o,T)};gx.atZ=function(g){var o=gx.i5;if(o==null)return g;
var k=o.Ic();if(k&&o.add.fcmy){var y=new Uint8Array(4);y[0]=.5+g[0]*255;y[1]=.5+g[1]*255;y[2]=.5+g[2]*255;
ICC.U.applyLUT(k[o.add.fcmy==1?5:3],k[2],y,y);g=[y[0]/255,y[1]/255,y[2]/255]}return g};gx.$o=function(g){g=_.M.sL(g);
return gx.atZ([g.o/255,g.C/255,g.k/255])};gx.a26=function(g){return gx.atZ([(g>>>16&255)/255,(g>>>8&255)/255,(g&255)/255])};
gx.cS=function(g,o,k){if(g.Clr)return gx.$o(g.Clr.v);var y=g,d=y.Rvrs?y.Rvrs.v:!1,b=y.Type.v.GrdT,T,a=b=="Rdl"||b=="Dmnd"?"rad":"lin",t=_.M.eF(y,k),j=o.iG(t[0]),e=o.iG(t[1]);
if(a=="rad")T=[j.x,j.y,0,j.x,j.y,bJ.YX(j,e)];else{j.oU(e.x+(j.x-e.x)*2,e.y+(j.y-e.y)*2);T=[j.x,j.y,e.x,e.y]}var v=_.M.sK(y.Grad.v,d);
return{typ:a,mat:[1,0,0,1,0,0],grad:v,crds:T}};gx.a2F=function(g,o,k,y,d,b,T,a,t){var j=k.clone(),e=o;
if(g.add.TySh&&!a[3]&&!a[4])return;var v=d.ca,L=d.bmode;for(var m=iZ.order.length-1;m>=0;m--){var H=iZ.order[m];
if(H=="GrFl"||H=="SoFi")continue;if((g.add.vmsk||g.add.TySh)&&H=="FrFX")continue;var w=y[H],P=m>7||H=="FrFX";
if(P!=t)continue;for(var Q=0;Q<w.length;Q++){var x=w[Q];if(x.pk==null)x=x._K?x._K:x.v8;var F=x.pk.clone();
F.offset(j.x,j.y);if(!P){if(!j.IK(F)){var E=j.gO(F),f=_.Q(E.O());_.sQ(e,j,f,E);e=f;j=E}_.Wy(e,j,x.rg,F)}if(P&&H=="FrFX"&&x.ri)_.Wy(x.ri,F,x.rg,F);
var c=new d3;c.translate(F.x,F.y);d.ca=x.uK;d.bmode=eT.aoT(x.nG);gx.sg(d,b,x.rg,F,c,T)}}d.ca=v;d.bmode=L};
gx.sg=function(g,o,k,y,d,b){var T=new d3;T.scale(y.m,-y.n);T.translate(0,y.n);T.concat(d);T.concat(b);
g.ctm=[T.Ng,T.k,T._I,T.vP,T.ii,T.xF];o.PutImage(g,k,y.m,y.n);g.ctm=[1,0,0,1,0,0]};var j4={};j4.Qt=function(g){var o=new Uint8Array(g);
return j4.L9(o,0)};j4.L9=function(g,o){var k=S.q,y=S.lp,d={UK:y(g,o,4),Y:o+8,size:k(g,o+4)},b=d.UK=="FORM"||d.UK=="LIST"||d.UK=="CAT ";
if(b)d.V8=y(g,o+8,4);if(d.size<0||d.Y+d.size>g.length)throw"e";if(b){d.sub=[];o+=12;var T=d.Y+d.size;
while(o<T){var a=j4.L9(g,o);d.sub.push(a);o+=8+a.size+(a.size&1)}}return d};var gk={};gk.Qt=function(g,o){var k=new Uint8Array(g);
return gk.L9(k,0,o)};gk.L9=function(g,o,k){var y=S._u,d=S.lp,b={UK:d(g,o,4),Y:o+8,size:y(g,o+4)};if(k&&k[b.size]!=null)b.size=k[b.size];
if(b.UK=="RIFF"||b.UK=="LIST"){b.V8=d(g,o+8,4)}if(b.size<0||b.Y+b.size>g.length)throw"e";if(b.UK=="RIFF"||b.UK=="LIST"&&(b.V8!="cmpr"&&b.V8!="stlt")){b.sub=[];
o+=12;var T=b.Y+b.size;while(o<T){var a=gk.L9(g,o,k);b.sub.push(a);o+=8+a.size+(a.size&1)}}return b};
var e2=function(){function g(Y,l){var B=null;if(Y.sub==null)return B;for(var m=0;m<Y.sub.length;m++){var f4=Y.sub[m];
if(f4.UK==l||f4.V8==l)B=f4}return B}function o(Y){if(Y==32)return 300;else if(Y<49)return 0;else if(Y<58)return 100*(Y-48);
else if(Y<65)return 0;return 100*(Y-55)}var k;function y(Y,l){var B=new Uint8Array(Y);l.Hi=!0;k={};var f4=S.lp(B,0,2);
if(f4=="WL"){alert("Unsupported CDR version")}else{var V,q,s,kr,dt=300,i0=0;if(f4=="PK"){q=UZIP.parse(B);
B=q["content/root.dat"];s=S.IL(q["content/dataFileList.dat"]).split("\n")}V=gk.Qt(B.buffer);console.log(V);
var cW=o(B[11]),dk={data:B,Y:0,nc:cW};dk.Nu=dk.nc<600?16:32;n(B,dk,s,q,V.sub,0);var j9=[];if(q){kr=g(V,"doc ");
d(kr);var bh=V.sub;for(var m=0;m<bh.length;m++)if(bh[m].V8=="page")j9.push(bh[m]);j9=j9.slice(1)}else if(g(V,"cmpr")==null){kr=g(V,"page");
j9.push(kr)}else{var fe=g(V,"cmpr").sub;kr=fe[0];j9=[fe.slice(1)[1]];d(kr)}var gg=g(kr,"mcfg").Z,a$=gg.a7b,dg=a$.x*.1,iv=a$.x*j9.length+dg*(j9.length-1),aQ=a$.y;
dt/=ac.lX(new bd(0,0,Math.round(iv*dt),Math.round(aQ*dt)),8192*8192);var hY=Math.round(iv*dt),b9=Math.round(aQ*dt);
l.m=hY;l.n=b9;l.buffer=_.Q(l.m*l.n*4);for(var m=0;m<j9.length;m++){var gD=new d3(dt,0,0,-dt,a$.x*dt/2+i0,a$.y*dt/2);
b(j9[m],kr,l,gD);var hU=l.d[l.d.length-1];hU.P2(new bd(Math.round(i0),0,Math.round(a$.x*dt),Math.round(a$.y*dt)));
hU.mP("Page "+(m+1));i0+=a$.x*dt+dg*dt}l.Bu(j9.length)}}function d(Y){var l=g(Y,"filt").sub,B=g(Y,"otlt").sub,f4=g(Y,"fntt");
if(f4)f4=f4.sub;Y.u2={};for(var m=0;m<l.length;m++)Y.u2[l[m].sub[0].Z.id]=l[m].sub[0].Z;Y.Wi={};for(var m=0;
m<B.length;m++)Y.Wi[B[m].Z.id]=B[m].Z;if(f4){Y.fonts={};for(var m=0;m<f4.length;m++)Y.fonts[f4[m].Z.id]=f4[m].Z}}function b(Y,l,B,f4){var V=Y.V8?Y.V8:Y.UK,q=g(Y,"lgob"),s=g(Y,"txsm"),cW=null,dk=null;
if(q){cW=g(q,"trfl");dk=g(q,"loda")}else if(g(Y,"lobj"))dk=g(Y,"lobj");var kr=cW?cW.sub[0].DA.clone():new d3;
kr.concat(f4);var j9=B.Qf();if(V=="page"||V=="layr"||V=="grp "){j9.mP((V=="page"?"Page":"Group")+" "+B.d.length);
j9.add.lsct=cK.TD;j9.HW="pass";j9.b_=24;var bh=[];if(V=="page")bh=g(Y,"gobj").sub;if(V=="layr")bh=Y.sub.slice(2);
if(V=="grp ")bh=Y.sub.slice(4);if(bh.length==0)return;B.d.push(B.L0());for(var m=bh.length-1;m>=0;m--)b(bh[m],l,B,f4)}else if(V=="obj "&&dk.Z&&dk.Z.path){var fe,gg;
if(l.u2){fe=l.u2[dk.Z.aug];gg=l.Wi[dk.Z.apF]}if(fe==null)fe=dk.Z.ach;if(gg==null)gg=dk.Z.a3R;j9=T(B,dk.Z.path,f4,kr,fe,gg)}else if(V=="obj "&&s){var a$=dk.Z.air,dg=dk.Z.aaZ,dt="";
j9.add.TySh=bw.j_(0,0);var iv=kr.Va();j9.add.TySh.D.translate(kr.ii,kr.xF);var aQ=j9.add.TySh.O7,hY=s.Z.mO;
if(hY==null)return;for(var m=0;m<hY.length;m++){var b9=hY[m],i0=dt.length;dt+=b9.text+"\n";bw.pj(aQ,i0,b9.text+"\n");
if(b9.text=="")continue;var gD=a(b9.avq,l),hU=gD.aaF,aW=l.fonts[hU.ask],be=bw.DE(aQ,i0,dt.length);if(gD.align==3)be.by.Justification=1;
else if(gD.align==2)be.by.Justification=2;else be.by.Justification=0;var hv=gD.fill.Z;if(aW.hY)bw.nx(be,aW.hY);
be.RY.FillColor={Type:1,Values:[1,hv[0],hv[1],hv[2]]};be.RY.FontSize=Math.round(hU.fontSize*f4.Va());
bw.SX(aQ,i0,dt.length-1,be)}if(dg){bw.ms(aQ,0)}else{bw.ms(aQ,1);bw.Y$(aQ,[0,0,Math.round(a$.x*kr.Ng),Math.round(-a$.y*kr.vP)])}j9.mP(dt.slice(0,10))}else{j9=null}if(j9)B.d.push(j9)}function T(Y,l,B,f4,V,q){var s=Y.Qf();
s.mP("Object "+Y.d.length);s.b_|=16;s.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));var cW=s.add.vstk;
cW.strokeEnabled.v=!1;s.add.vmsk=new p.Ew;s.add.vmsk.a=_.p.XP(l,!1);_.w.cs(s.add.vmsk.a,f4);var dk=V&&V.type!=0,kr=dk&&V.Z!=null?V.Z:[0,0,0];
eT.rs(kr,s,f4,_.w.HM(s.add.vmsk.a));cW.fillEnabled.v=dk;if(q&&q.a5K!=1){cW.strokeEnabled.v=!0;cW.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var j9=cW.strokeStyleLineWidth.v.val=q.lineWidth*B.Va(),bh=q.color;cW.strokeStyleContent.v.Clr.v=_.M.UF({o:bh[0]*255,C:bh[1]*255,k:bh[2]*255});
if(q.A7.length!=0)cW.strokeStyleLineDashSet.v=bs.rn(q.A7,4/j9);var fe=q.a8C,gg=q.axp;if(gg!=0){var a$=l.j,m=a$.length-4,dg=a$[m],iv=a$[m+1],aQ=a$[m+2],dt=a$[m+3],hY=new d3;
hY.scale(.15,.15);hY.rotate(-Math.PI/2+Math.atan2(dt-iv,-(aQ-dg)));hY.translate(aQ,dt);hY.concat(f4);
var b9=T(Y,k[gg],B,hY,bh,null);Y.d.push(b9)}}s.Ko();s.bD(Y);return s}function a(Y,l){var B=g(l,"stlt").Z,f4=JSON.parse(JSON.stringify(B.oz[Y]));
if(f4.Wu!=0){var V=B.oz[f4.Wu];for(var q in V)if(f4[q]==null||f4[q]==0)f4[q]=V[q];delete f4.Wu}f4.align=B.amz[f4.anT];
f4.fill=l.u2[B.aja[f4.avt]];f4.ad6=l.Wi[B.a8d[f4.ayZ]];f4.aaF=B.aqA[f4.a70];return f4}function t(m){var cy=m.data[m.Y];
m.Y+=1;return cy}function j(m){var cy=S.Ha(m.data,m.Y);m.Y+=2;return cy}function e(m){var cy=S._u(m.data,m.Y);
m.Y+=4;return cy}function v(m){var cy=S._u(m.data,m.Y);m.Y+=8;return cy}function L(m){var cy=S.R5(m.data,m.Y);
m.Y+=2;return cy}function H(m){var cy=S.da(m.data,m.Y);m.Y+=4;return cy}function w(m){var cy=S.Ib(m.data,m.Y);
m.Y+=8;return cy}function P(m){if(m.Y>=m.data.length)throw"e";var Y=0;while(m.data[m.Y+Y]!=0)Y++;var l=S.lp(m.data,m.Y,Y);
m.Y+=Y+1;return l}function Q(m){var Y="";while(!0){var l=j(m);if(l==0)break;Y+=String.fromCharCode(l)}return Y}function x(Y){var l=e(Y),B=(l&4294901760)>>>16,f4=(l&65535)/65535;
return B+f4}function F(Y){if(Y.nc<600)return Math.PI*L(Y)/1800;return Math.PI*H(Y)/18e7}function E(Y){if(Y.nc<1500)return f(Y);
else return w(Y)/254e3}function f(Y){if(Y.nc<600)return L(Y)/1e3;else return H(Y)/254e3}function c(Y){if(Y.nc<600)return j(Y);
else return e(Y)}function M(Y){if(Y.nc<600)return L(Y);else return H(Y)}function n(Y,l,B,f4,V,q){var s,cW,dk;
for(var kr=0;kr<V.length;kr++){var j9=l.nc,bh=V[kr];l.data=Y;l.Y=bh.Y+(bh.UK=="LIST"?4:0);if(f4&&bh.sub==null){s=e(l);
cW=e(l);dk=e(l);var fe=j(l);if(fe!=0)throw"e";var gg=j(l);if(gg>32)throw"e";l.Y-=16;if(s!=4294967295){l.data=f4["content/data/"+B[s]];
l.Y=dk}}if(bh.UK=="vrsn"){if(bh.size==16)l.Y+=8;var a$=j(l);l.nc=a$;console.log("Version",a$);l.Nu=a$<600?16:32}else if(bh.UK=="DISP"){}else if(bh.UK=="LIST"&&bh.V8=="cmpr"){var dg=e(l),iv=e(l),aQ=e(l),dt=e(l),hY=new Uint8Array(l.data.buffer,l.Y+8+2,dg-6-8),b9=pako.inflateRaw(hY),aW=0;
l.Y+=dg;hY=new Uint8Array(l.data.buffer,l.Y+8+2);var i0=pako.inflateRaw(hY),gD=[];for(var hU=0;hU<i0.length;
hU+=4)gD.push(S._u(i0,hU));bh.sub=[];while(aW<b9.length){var be=gk.L9(b9,aW,gD);aW=be.Y+be.size;bh.sub.push(be)}var hv={data:b9,Y:0,nc:j9,Nu:l.Nu};
n(b9,hv,B,f4,bh.sub,q+1)}else if(bh.UK=="LIST"&&bh.V8=="stlt"||bh.UK=="stlt"){if(s==4294967295)return;
var b3=l.Y,eu=32;bh.Z={};var gT=e(l);if(gT==0)return;bh.Z.aja=i(l,j9>=1300);bh.Z.a8d=i(l);bh.Z.aqA={};
var aB=e(l);for(var m=0;m<aB;m++){var bO=e(l);l.Y+=j9<1e3?12:20;var kf=j(l),iY=j(l);l.Y+=8;var gs=f(l);
l.Y+=j9<1e3?12:20;bh.Z.aqA[bO]={ask:kf,a0G:iY,fontSize:gs}}bh.Z.amz=i(l);var c1=e(l);l.Y+=52*c1;var gK=e(l);
l.Y+=152*gK;var c4=e(l);l.Y+=784*c4;var k6=e(l);for(var m=0;m<k6;m++){l.Y+=40;if(j9>1300)l.Y+=4;if(j9>=1300){if(e(l))l.Y+=68;
else l.Y+=12}else{l.Y+=20;if(j9>=1e3)l.Y+=8;if(e(l))l.Y+=8;l.Y+=8}}var jk=e(l);bh.Z.atP={};for(var m=0;
m<jk;m++){var jt=e(l),j_={};l.Y+=12;j_.right=f(l);j_.asa=f(l);j_.left=f(l);bh.Z.atP[jt]=j_}var kw=e(l);
if(j9>=1300)eu+=4;l.Y+=eu*kw;var ak=e(l);l.Y+=28*ak;if(j9>800){var cY=e(l);l.Y+=12*cY}bh.Z.oz={};for(var m=0;
m<gT;m++){var bG=e(l),j5=e(l),hI={};hI.Wu=e(l);l.Y+=8;var jJ=e(l);if(j9>=1200)jJ*=2;l.Y+=jJ;hI.avt=e(l);
hI.ayZ=e(l);if(bG>1){hI.a70=e(l);hI.anT=e(l);hI.aan=e(l);hI.a5S=e(l);if(j9>800)hI.awq=e(l)}if(bG>2){hI.asp=e(l);
hI.axW=e(l);hI.aw4=e(l);hI.aoz=e(l);hI.a78=e(l)}bh.Z.oz[j5]=hI}}else if(bh.UK=="LIST")n(Y,l,B,f4,bh.sub,q+1);
else if(bh.UK=="txsm"){bh.Z={};if(j9<600)throw"e";if(j9<700)throw"e";if(j9>=1600){bh.Z=K(l);return}if(j9>=1500)l.Y+=37;
else l.Y+=36;if(e(l)){if(j9<800)l.Y+=32}if(j9<800)l.Y+=4;bh.Z.amD=e(l);bh.Z.mO=[];l.Y+=48;if(j9>=800){if(e(l)){l.Y+=32;
if(j9>=1300)l.Y+=8}}if(j9>=1500)l.Y+=12;var bG=e(l),ca=1,gI=!1;if(!bG){if(j9>=800)l.Y+=4;if(j9>800)l.Y+=2;
if(j9>=1400)l.Y+=2;l.Y+=24;if(j9<800)l.Y+=8;ca=e(l)}for(var hU=0;hU<ca;hU++){var c3=e(l),m=0;if(j9>=1300&&bG)l.Y++;
l.Y++;var gT=e(l),fs=[];for(m=0;m<gT;m++){var eS=t(l),ef=0;t(l);var bf=t(l);if(j9>=800)ef=t(l);var hI={};
if(bf&1){hI.ask=j(l);var hh=j(l);if(hh)hI.a67=hh}if(bf&2)l.Y+=4;if(bf&4)hI.a3w=f(l);if(bf&8)l.Y+=4;if(bf&16)l.Y+=4;
if(bf&32)l.Y+=4;if(bf&64){hI.avt=e(l);if(j9>=1500)l.Y+=48}if(bf&128){hI.ayZ=e(l)}if(ef&8){if(j9>=1300){var fA=e(l);
if(l.Y+fA*2>=l.data.length){gI=!0;break}l.Y+=fA*2}else l.Y+=4}if(ef&32){var jS=t(l);if(jS)l.Y+=52}if(eS==2)if(j9>=1300)l.Y+=48;
fs.push(hI)}if(gI){break}var dn=e(l);if(l.Y+dn*4>l.data.length)break;var id=[];for(m=0;m<dn;m++){var jy=0;
if(j9>=1200)jy=v(l)&4294967295;else jy=e(l);id[m]=jy>>16|jy&1}var dG=dn;if(j9>=1200)dG=e(l);var cw=P(l);
bh.Z.mO.push({avq:c3,text:cw,oz:fs})}}else if(bh.UK=="arrw")bh.Z=X(l);else if(bh.UK=="font"){var d2=l.Y,fj=j(l),aH=j(l),gE="";
l.Y+=14;if(l.nc>=1200)gE=Q(l);else gE=P(l);bh.Z={id:fj,a83:aH,name:gE};if(f4){var iQ=d2+cW;while(l.data[l.Y]==0)l.Y++;
l.Y+=2;var a_=Q(l);while(l.data[l.Y]==0)l.Y++;while(l.data[l.Y]<=2)l.Y+=4;bh.Z.hY=Q(l)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(bh.UK)!=-1){}else if(bh.UK=="flgs")bh.Z=e(l);
else if(bh.UK=="bbox"){var iP=f(l),jY=f(l),iX=f(l),cM=f(l);bh.Z=new bd(iP,jY,iX-iP,cM-jY)}else if(bh.UK=="fild"){var gr=e(l),j3;
if(j9>=1300)l.Y+=8;var gL=j(l);if(gL==0){}else if(gL==1){l.Y+=j9>=1300?13:2;j3=$(l)}else if(gL==2){l.Y+=j9>=1300?8:2;
var fd=t(l),cS=0;if(j9>=1300){l.Y+=17;cS=L(l)}else if(j9>=600){l.Y+=19;cS=H(l)}else{l.Y+=11;cS=L(l)}var eY=F(l),dy=.5+M(l),dP=.5+M(l)-.5;
if(j9>=600)l.Y+=2;var bt=c(l)&255,cB=t(l)/100;l.Y++;var ad=c(l)&65535;if(j9>=1300)l.Y+=3;var gu=[];for(var m=0;
m<ad;m++){var ab=$(l);if(j9>=1400)l.Y+=26;else if(j9>=1300)l.Y+=5;var dW=(c(l)&65535)/100;if(j9>=1300)l.Y+=3;
gu.push([dW,ab])}j3={typ:fd==1?"lin":"rad",crds:[dy-Math.cos(eY)/2,dP-Math.sin(eY)/2,dy,dP],grad:gu,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",gL);
bh.Z={id:gr,type:gL,Z:j3}}else if(bh.UK=="outl"){var ck=e(l);if(j9>=1300){var eb=0,es=0;while(eb!=1){l.Y+=es;
eb=e(l);es=e(l)}}var hS=j(l),di=j(l),dM=j(l);if(j9<1300&&j9>=600)l.Y+=2;var iy=f(l),dZ=j(l)/100;if(j9>=600)l.Y+=2;
var jK=F(l);if(j9>=1300)l.Y+=46;else if(j9>=600)l.Y+=52;var j3=$(l);if(j9<600)l.Y+=10;else l.Y+=16;var bW=j(l),c0=l.Y,dK=[];
for(var m=0;m<bW;++m)dK.push(j(l));if(j9<600)l.Y=c0+20;else l.Y=c0+22;var ks=e(l),fF=e(l);bh.Z={id:ck,a5K:hS,ayr:di,aft:dM,lineWidth:iy,color:j3,A7:dK,a8C:ks,axp:fF}}else if(bh.UK=="mcfg"){if(1300<=j9)l.Y+=12;
else if(900<=j9)l.Y+=4;else if(600<=j9&&j9<700)l.Y+=28;var ei=0,e4=0;if(j9<400){l.Y+=2;var iP=f(l),jY=f(l),iX=f(l),cM=f(l);
ei=Math.abs(iX-iP);e4=Math.abs(cM-jY)}else{ei=f(l);e4=f(l)}bh.Z={a7b:new bJ(ei,e4)}}else if(bh.UK=="loda"||bh.UK=="lobj"){var b3=l.Y,gZ=c(l),io=c(l),cs=c(l),aI=c(l),bU=c(l),a8=[],g5=[],m=0,dO=null;
l.Y=b3+cs;while(m<io)a8[m++]=c(l);l.Y=b3+aI;while(m>0)g5[--m]=c(l);bh.Z={};for(m=0;m<io;m++){l.Y=b3+a8[m];
var et=g5[m];if(et==30){if(j9>=400&&bU==1||j9<400&&bU==0){bh.Z.path=U(l)}else if(j9>=400&&bU==2||j9<400&&bU==1){bh.Z.path=J(l)}else if(j9>=400&&bU==3||j9<400&&bU==2){bh.Z.path=C(l)}else if(bU==37){bh.Z.path=R(l)}else if(j9>=400&&bU==4||j9<400&&bU==3){bh.Z.aaZ=z(l)}else if(j9>=400&&bU==6||j9<400&&bU==5){bh.Z.air=h(l)}else console.log(bU)}else if(et==20){if(j9<400)bh.Z.ach=I(l);
else bh.Z.aug=e(l)}else if(et==10){if(j9<400)bh.Z.a3R=r(l);else bh.Z.apF=e(l)}else if(et==200)bh.Z.afk=c(l);
else if(et==100){if(j9<400)dO=u(l)}}if(dO&&bh.Z.path)_.p.D(bh.Z.path.j,dO,bh.Z.path.j)}else if(bh.UK=="trfd"){var b3=l.Y,gZ=c(l),io=c(l),cs=c(l);
l.Y=b3+cs;var a8=[];for(var m=0;m<io;m++)a8[m]=c(l);for(var m=0;m<io;m++){l.Y=b3+a8[m];if(j9>=1300)l.Y+=8;
var co=j(l);if(co==8){var aX,dw,iP,bQ,eh,jY;if(j9>=600)l.Y+=6;if(j9>=500){aX=w(l);dw=w(l);iP=w(l)/(j9<600?1e3:254e3);
bQ=w(l);eh=w(l);jY=w(l)/(j9<600?1e3:254e3)}else throw"e";bh.DA=new d3(aX,bQ,dw,eh,iP,jY)}else console.log(co)}}else if(!1){console.log(bh);
var cQ=Math.min(bh.size,32);console.log(S.U1(Y,bh.Y,cQ));console.log(S.asL(Y,bh.Y,cQ))}}}function X(Y){var l=e(Y);
Y.Y+=4;var B=j(Y);Y.Y+=4;var f4=[];for(var V=0;V<B;V++)f4.push(t(Y));Y.Y+=1;var q=[];for(var s=0;s<B;
s++){var cW=[];cW[1]=f(Y);cW[0]=f(Y);q.push(cW)}var dk=W(q,f4);k[l]=dk}function u(Y){var l=0,B=0,f4=0,V=0,q=0,s=0;
if(Y.nc>=300){var cW=Y.Y;Y.Y+=10;var dk=c(Y);Y.Y=cW+dk;l=x(Y);B=x(Y);f4=H(Y)/1e3;V=x(Y);q=x(Y);s=H(Y)/1e3}else{f4=f(Y);
s=f(Y);l=x(Y);B=x(Y);f4+=x(Y)/1e3;V=x(Y);q=x(Y);s+=x(Y)/1e3}return new d3(l,B,V,q,f4,s)}function I(Y){var l=t(Y);
if(l==0)return null;else if(l==1)return $(Y);else console.log(l)}function r(Y){var l=t(Y);l<<=1;var B=f(Y),f4=j(Y)/100,V=F(Y),q=$(Y);
return{a5K:l,lineWidth:B,color:q,A7:[],a8C:0,axp:0}}function J(Y){var l=f(Y),B=f(Y),f4=F(Y),V=F(Y),q=_.p.rR(_.w.qA.rj(0,0,l,B));
return q}function U(Y){var l=Y.nc,B=E(Y),f4=E(Y),V=0,q=0,s=0,cW=0,dk=0,kr=1,j9=1;if(l<1500){cW=E(Y);
s=l<900?cW:E(Y);q=l<900?cW:E(Y);V=l<900?cW:E(Y)}else{var bh=w(Y);if(bh!=0)kr=bh;bh=w(Y);if(bh!=0)j9=bh;
var fe=t(Y);Y.Y+=7;if(fe==0){cW=w(Y);dk=t(Y);Y.Y+=15;s=w(Y);Y.Y+=16;q=w(Y);Y.Y+=16;V=w(Y);var gg=Math.abs(B*kr/2),a$=Math.abs(f4*j9/2);
cW*=gg<a$?gg:a$;s*=gg<a$?gg:a$;q*=gg<a$?gg:a$;V*=gg<a$?gg:a$}else{cW=E(Y);dk=t(Y);Y.Y+=15;s=E(Y);Y.Y+=16;
q=E(Y);Y.Y+=16;V=E(Y)}}return _.p.rR(_.w.qA.Rect(0,0,B,f4,[V,q,s,cW]))}function K(Y){var l=e(Y),f4=0;
Y.Y+=37;var B=e(Y);for(var m=0;m<B;m++){var V=e(Y);f4=V;Y.Y+=48;var q=e(Y);if(q==1)Y.Y+=12*4;else Y.Y+=8;
if(!l){Y.Y+=16;var s=e(Y);if(Y.nc>1600)Y.Y+=s;else Y.Y+=s*2}}var cW={amD:f4,mO:[]},dk=e(Y);for(var kr=0;
kr<dk;kr++){var j9=e(Y),hU="";Y.Y+=1;if(l)Y.Y+=1;var bh=e(Y);if(Y.nc<1700)bh*=2;var fe=S.lp(Y.data,Y.Y,bh);
Y.Y+=bh;var gg=e(Y);for(var m=0;m<gg;m++){Y.Y+=2;var a$=j(Y),dg=j(Y);if(dg&4){var iv=e(Y);iv*=2;Y.Y+=iv}if(a$||dg&4){var aQ=e(Y);
if(Y.nc<1700)aQ*=2;var dt=S.lp(Y.data,Y.Y,aQ);Y.Y+=aQ}}var hY=e(Y),b9=[];for(var m=0;m<hY;m++){var i0=v(Y)&4294967295;
b9[m]=i0>>16|i0&1}var gD=e(Y);for(var m=0;m<hY;m++){var aW=b9[m],be=0;if(aW==0||aW==2||aW==4)be=Y.data[Y.Y++];
else if(aW==1||aW==3)be=Y.data[Y.Y++]+Y.data[Y.Y++]*256;else throw aW;hU+=String.fromCharCode(be)}var hv=hU.split("\r");
for(var m=0;m<hv.length;m++)cW.mO.push({text:hv[m],avq:j9,oz:[]})}return cW}function i(Y,l){var B={},f4=e(Y);
for(var m=0;m<f4;m++){var V=e(Y);Y.Y+=4;var q=e(Y);B[V]=q;if(l)Y.Y+=48}return B}function z(Y){var l=f(Y),B=f(Y);
return new bJ(l,B)}function h(Y){Y.Y+=4;var l=f(Y),B=f(Y);return new bJ(l,B)}function R(Y){Y.Y+=4;var l=j(Y)+j(Y);
Y.Y+=16;var B=G(Y,l);return B}function C(Y){var l=j(Y);Y.Y+=2;return G(Y,l)}function G(Y,l){var B=[],f4=[];
for(var m=0;m<l;m++)B.push([f(Y),f(Y)]);for(var m=0;m<l;m++)f4.push(t(Y));return W(B,f4)}function W(Y,l){var B={j:[],F:[]},f4=0,V=0,q=0;
for(var m=0;m<Y.length;m++){var f4=Y[m][0],V=Y[m][1],s=l[m];if(!(s&64)&&!(s&128)){B.j.push(f4,V);B.F.push("M");
q+=2}else if(s&64&&!(s&128)){B.j.push(f4,V);B.F.push("L");q+=2}else if(!(s&64)&&s&128){B.j.push(f4,V);
B.F.push("C");q+=6}else if(s&64&&s&128){B.j.push(f4,V)}}if(q!=B.j.length)throw"e";return B}function A(Y,l){var B=S._u;
l+=8;var f4=B(Y,l);l+=4;var V=B(Y,l);l+=4;l+=4*7;var q=l,s=_.Q(f4*V*4);l+=1024;for(var cW=0;cW<V;cW++)for(var dk=0;
dk<f4;dk++){var m=cW*f4+dk,kr=(V-cW-1)*f4+dk,j9=Y[l+m]<<2,bh=kr<<2;s[bh+0]=Y[q+j9+2];s[bh+1]=Y[q+j9+1];
s[bh+2]=Y[q+j9+0];s[bh+3]=255}return{rg:s,rect:new bd(0,0,f4,V)}}function $(Y){var l=Y.nc,B=0,f4=0,V=0;
if(l>=500){B=j(Y);if(B==1&&l>=1300)B=25;if(B==30){B=25;f4=30}else{f4=j(Y);Y.Y+=4}V=e(Y)}else if(l>=400)throw"e";
else{B=t(Y);V=e(Y)}return O(B,f4,V)}function O(Y,l,B){var f4=[0,0,0];if(Y==2||Y==3||Y==9||Y==17){var V=[B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255];
if(Y==2)for(var m=0;m<4;m++)V[m]=Math.round(255*V[m]/100);for(var m=0;m<4;m++)V[m]/=255;f4=UDOC.C.cmykToRgb(V)}else if(Y==1||Y==5){f4=[B>>>0&255,B>>>8&255,B>>>16&255];
for(var m=0;m<3;m++)f4[m]=f4[m]/255;if(Y==5)f4.reverse()}else console.log("Unknown color model "+Y,B,B.toString(16));
return f4}return{Qt:y}}(),d8=function(){var g,o,k=new ArrayBuffer(4),y=new Uint8Array(k),d=new Uint32Array(k),b=new Float32Array(k);
function T(L,H){for(var w=0;w<L.length;w++)if(L[w][0]==H)return L[w]}function a(){var L=0,H=0,w=0;do{w=g[o++];
L|=(w&127)<<H;H+=7}while(w&128&&H<35);return L>>>0}function t(L,H,w,P,Q){g=L;o=H;var x=P[0]=="mesg",F=P[2],E={},f=1,c=x?1e9:F.length;
while(f<=c){var M=f;if(x){M=a();if(M==0)break}var n=T(F,M),X=n[2],u=n[1]==1,I=u?a():1,r=new Array(I);
if(X==3){if(!u)throw"e";r=g.slice(o,o+I);o+=I}else for(var m=0;m<I;m++){var J;if((X&1)==1){if(X==1)J=g[o++]==1;
else if(X==3)J=g[o++];else if(X==5){var U=a();J=U&1?~(U>>>1):U>>>1}else if(X==7)J=a();else if(X==9){if(g[o]==0){J=0;
o++}else{y[0]=g[o];y[1]=g[o+1];y[2]=g[o+2];y[3]=g[o+3];var K=d[0];d[0]=K<<23|K>>>9;J=b[0];o+=4}}else if(X==11){var i=j(g,o);
J=i[0];o+=i[1]+1}else throw X}else{var z=w[X>>>1];if(z[0]=="enum"){var h=g[o++];if(h>127)throw"e";J=z[2][h]}else{var R=t(g,o,w,z,Q+1);
J=R[0];o=R[1]}}r[m]=J}E[n[3]]=u?r:r[0];f++}return[E,o]}function j(L,H){var w=H;while(L[w]!=0)w++;return[S.IL(L,H,w-H),w-H]}function e(L,H){var w=H;
while(L[w]!=0)w++;for(var m=H;m<w;m++)if(L[m]>127)throw"e";return S.lp(L,H,w-H)}function v(L){g=L;o=1;
var H=[];while(o<L.length){var w=o,P=H.length,Q=e(L,o);o+=Q.length+1;var x=a();if(x>2)throw"e";var F=a(),E=[];
for(var m=0;m<F;m++){var f=e(L,o);o+=f.length+1;var c=a(),M=a(),n=a();E.push(x==0?f:[n,M,c,f])}H.push([["enum","strc","mesg"][x],Q,E])}return H}return{acK:v,a5Y:t}}();
function fb(){}fb.Qt=function(g,o){var k=new Uint8Array(g),y=8,d=S._u(k,y),j=0,z=0;y+=4;var b=[];while(y<k.length){var T=S._u(k,y);
y+=4;var a=k.slice(y,y+T);if(k[y]==137&&k[y+1]==80){}else a=UZIP.inflateRaw(a);b.push(a);y+=T}var t=d8.acK(b[0]);
for(var m=0;m<t.length;m++)if(t[m][1]=="Message")j=m;var e=d8.a5Y(b[1],0,t,t[j],0)[0],v={QL:{},K8:{},an4:{}},L=e.nodeChanges;
for(var H=0;H<L.length;H++){var w=L[H],P=w.guid;v.K8[P.sessionID+","+P.localID]=w}for(var H=0;H<L.length;
H++){var w=L[H],P=w.parentIndex;if(P){var Q=fb.jY(v.K8,P.guid);if(Q.children==null)Q.children=[];Q.children.push(w)}}var x=L[0],F=x.children,E=new bd,f=[],c=[];
for(var P=0;P<F.length;P++){var M=F[P],n=M.children;if(M.name=="Internal Only Canvas"||n==null)continue;
var X=new bd;for(var m=0;m<n.length;m++){var u=n[m],I=u.transform,r=u.size;if(I.m00==1&&I.m10==0&&I.m01==0&&I.m11==1){var J=new bd(I.m02,I.m12,r.x,r.y);
X=X.gO(J)}}var U=E.n==0?0:E.n+100,K=X.clone();K.x=0;K.y=U;E=E.gO(K);f[P]=X;c[P]=U}var i=ac.lX(new bd(0,0,E.m,E.n),8192*8192);
o.m=Math.round(E.m/i);o.n=Math.round(E.n/i);o.buffer=_.Q(o.m*o.n*4);for(var P=0;P<F.length;P++){var M=F[P],n=M.children;
if(M.name=="Internal Only Canvas"||n==null)continue;n.sort(fb.a6d);var h=new d3(1,0,0,1,-f[P].x,c[P]-f[P].y);
h.scale(1/i,1/i);for(var m=0;m<n.length;m++){var u=n[m];fb.tT(u,[],h,e.blobs,o,0,v);z++}}o.Bu(z);o.Hi=!0;
if(i!=1)alert("File scaled down "+i+"x")};fb.tT=function(g,o,k,y,d,b,T){var a=fb,I=!1,r,K,i,z;o=JSON.parse(JSON.stringify(o));
var t=g.overrideKey?g.overrideKey:g.guid;for(var m=0;m<o.length;m++){var j=o[m],e=j.guidPath.guids;if(a.an0(e[0],t)){if(e.length==1){var v={};
for(var L in g)v[L]=j[L]!=null?j[L]:g[L];g=v}else j.guidPath.guids=e.slice(1)}}var H=g.type,w=g.children,P=g.size,Q=g.effects,x=d.Qf();
x.mP(g.name);x.qj(g.visible);x.opacity=Math.round(g.opacity*255);var F=a.fx(g.transform),E=F.clone();
E.concat(k);if(P==null)P={x:0,y:0};var f=new bd(Math.round(E.ii),Math.round(E.xF),Math.round(P.x*E.Va()),Math.round(P.y*E.Va()));
if(f.m==0||isNaN(f.m))f.m=100;if(f.n==0||isNaN(f.n))f.n=100;var c=g.fillPaints,M=g.inheritFillStyleID;
if(M){var v=a.jY(T.K8,M);if(v)c=v.fillPaints}if(c==null)c=[];var c=a.a2D(c),n=c[0],X=g.strokePaints,M=g.inheritFillStyleIDForStroke;
if(M){var v=a.jY(T.K8,M);if(v)X=v.fillPaints}if(X==null)X=[];var X=a.a2D(X),u="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(H)!=-1;
if(u||H=="FRAME"){r=new p.Ew;a.at1(g,y,r);I=_.w.zg(r.a);_.w.cs(r.a,E);var J=_.p.Ze(_.w.HM(r.a));if(!J.on())f=J;
if(T.QL.ye&&n){var U=p.Ew.q7(T.QL.ye.a);for(var m=2;m<U.length;m++)if(U[m].dJ!=null)U[m].dJ=3;r.a=r.a.concat(U.slice(2))}}if(n&&n.type=="IMAGE"){z=n.imageScaleMode;
K=a.PJ(y,n.image.dataBlob);var h=K.MR.m/K.MR.n,R=P.x/P.y;i=Math.abs(h-R)}if(H=="FRAME"){}else if(u&&I&&K&&(z=="FIT"||z=="FILL"&&i<=.05)){var C=y[n.image.dataBlob].bytes,G=d.Es(C,x.getName(),0,0);
G.b_=x.b_;G.opacity=x.opacity;x=G;var W=new bd(0,0,P.x,P.y);if(z=="FIT"){var A=K.MR.m,$=K.MR.n,O=Math.min(P.x/A,P.y/$),Y=A*O,l=$*O;
W=new bd(W.x+(W.m-Y)/2,W.y+(W.n-l)/2,Y,l)}var B=_.p.rN(W).j;_.p.D(B,E,B);x.add.SoLd.Trnf=D.C8.sY(B);
x.add.SoLd.nonAffineTransform=D.C8.sY(B);var f4=[],Q=g.effects,V=n.paintFilter;if(Q)for(var m=0;m<Q.length;
m++)if(Q[m].type=="FOREGROUND_BLUR"){var q=Q[m],s=jf.gb("GsnB",{});f4.push(s);s.v.enab.v=q.visible;s.v.Fltr.v.Rds.v.val=q.radius/2.4}if(V&&V.exposure!=0){var s=jf.gb("brit",{});
f4.push(s);s.v.Fltr.v.Brgh.v=Math.round(V.exposure*160);s.v.Fltr.v.useLegacy.v=!0}if(V&&V.vibrance!=0){var s=jf.gb("vibA",{});
f4.push(s);console.log(s);s.v.Fltr.v.Strt.v=Math.round(Math.round(V.vibrance*100))}if(f4.length!=0){x.add.SoLd.filterFX=jf.nC();
d.YY({id:x.add.SoLd.placed.v,rect:new bd,buffer:_.Q(1),v:new p.GE});x.add.SoLd.filterFX.v.filterFXList.v=f4}x.tq(d,!1);
a.acd(T,x,d)}else if(u){a.a5b(x,r,g,n,X,E,f,y,d,T);if(Q)for(var m=0;m<Q.length;m++){var q=Q[m];if(q.type!="FOREGROUND_BLUR")continue;
r.uH=q.radius/2.4}x.Ko();x.bD(d)}else if(H=="TEXT"){var cW=g.textData,dk=cW.layoutSize,kr=["LEFT","RIGHT","CENTER"].indexOf(g.textAlignHorizontal);
x.add.lnsr="rend";x.add.TySh=bw.j_(0,0);x.add.TySh.Rt=new bd(0,0,100,100);var j9=E.clone();x.add.TySh.D=j9;
var bh=x.add.TySh.O7,fe=cW.characters;if(g.textCase=="TITLE"){for(var m=0;m<fe.length;m++)if(m==0||fe[m-1]==" "){var gg=fe.slice(0,m),a$=fe.slice(m+1);
fe=gg+fe[m].toUpperCase()+a$}}fe=fe.replace(/\u2028/g,"\n");fe=fe.replace(/\u2029/g,"\n");fe=fe.replace(/\r\n/g," \n");
bw.pj(bh,0,fe);var dg=g.textAutoResize,iv=cW.baselines;if(dg=="WIDTH_AND_HEIGHT"){var aQ=kr==0?0:kr==1?dk.x:dk.x/2,dt=iv?iv[0].position.y:0;
j9.translate(aQ*E.Va(),dt*E.Va());bw.ms(bh,0)}else if(dg=="HEIGHT"||dg=="NONE"||dg==null){var dt=iv?iv[0].position.y-g.fontSize*.7:0;
j9.translate(0,dt*E.Va());bw.ms(bh,1);bw.Y$(bh,[0,0,Math.round(dk.x),Math.round((dg=="NONE"?1.8:1)*dk.y)])}else throw dg;
if(fe!=""){var hY=bw.DE(bh,0,1);a.ajE(g,E,P,hY,x,y,d,T);bw.SX(bh,0,fe.length,hY);var b9=cW.characterStyleIDs,i0=cW.styleOverrideTable;
if(b9){b9=b9.slice(0);for(var m=0;m<b9.length;m++)if(fe[m]=="\n")b9[m]=-m-1;var gD=[0],hU=0,aW=0;for(var m=0;
m<b9.length;m++){aW++;var be=b9[m];if(m==0||be==b9[m-1]){}else{gD.push(aW-1,m);aW=1}}gD.push(aW);for(var m=0;
m<gD.length;m+=2){var hv=gD[m],b3=gD[m+1];if(fe[hv]=="\n")continue;var be=b9[hv];if(be!=0){var gT;for(var aB=0;
aB<i0.length;aB++)if(i0[aB].styleID==be)gT=i0[aB];var hY=bw.DE(bh,hv,hv+1);a.ajE(gT,E,P,hY,x,y,d,T);
bw.SX(bh,hv,hv+b3-1,hY)}}}}}else if(H=="SYMBOL"){}else if(H=="INSTANCE"){var bO=g.symbolData,kf=bO.symbolOverrides,v=a.jY(T.K8,bO.symbolID);
if(v)w=v.children;else console.log(g.name,"symbol not found",bO.symbolID);o=o.slice(0);for(var m=0;m<kf.length;
m++)o.push(kf[m])}else console.log(H);if(!1){}else if(w&&!u){d.d.push(d.L0());var iY=!1,gs=b==0&&H!="SYMBOL"&&H!="INSTANCE";
if(gs){if(f.on())console.log(f);x.P2(f)}n=c[c.length-1];if(gs&&n&&n.type=="SOLID"){var c1=n.color;x.add.artb.artboardBackgroundType.v=4;
x.add.artb.Clr=a.QK(c1)}else if((n||X[0])&&r){var gK=d.Qf();gK.mP("Background");a.a5b(gK,r,g,n,X,E,f,y,d,T);
gK.Ko();gK.bD(d);d.d.push(gK);iY=!0}w.sort(a.a6d);var c4=T.QL;T.QL={};for(var k6=0;k6<w.length;k6++)a.tT(w[k6],o,E,y,d,b+1,T);
T.QL=c4;x.add.lsct=!1?cK.TD:cK.E5;x.HW="pass";var jk=x.oa();x.b_=24;x.qj(jk);var jt=b!=0&&c.length!=0&&!g.frameMaskDisabled&&g.containerSupportsFillStrokeAndCorners;
if(!iY&&jt&&r){x.add.vmsk=r;x.Ko();x.bD(d)}else a.acd(T,x,d);d.d.push(x)}else if(g.mask){if(r){T.QL.ye=r}}else{var j_=[],hI=1;
if(Q)for(var kw=0;kw<Q.length;kw++){var q=Q[kw],eu=q.color,ak=q.type,cY=["DROP_SHADOW","INNER_SHADOW"].indexOf(ak);
if(cY!=-1){var bG=["DrSh","IrSh"][cY],j5=JSON.parse(iZ.GZ[iZ.order.indexOf(bG)]);j_.push([bG,j5]);j5.enab.v=q.visible;
j5.Md.v.BlnM=h8.w3(a.arz(q.blendMode));j5.Opct.v.val=Math.round(100*eu.a);j5.blur.v.val=Math.round(q.radius*E.Va());
j5.Clr=a.QK(eu);var aQ=q.offset.x,dt=q.offset.y;j5.uglg.v=!1;j5.lagl.v.val=Math.round(180/Math.PI*Math.atan2(dt,-aQ));
j5.Dstn.v.val=Math.round(Math.sqrt(aQ*aQ+dt*dt)*E.Va())}}if(H=="TEXT"&&c[0]&&c[0].type!="SOLID")hI=0;
for(var m=hI;m<c.length;m++){var jJ=c[m],ca=a.Qu(g,jJ,E,f,y,d,T);if(ca[0]=="GdFl")j_.push(["GrFl",ca[1]]);
else if(ca[0]=="SoCo")j_.push(["SoFi",ca[1]]);else if(ca[0]=="PtFl")j_.push(["patternFill",ca[1]]);else if(ca[0]=="None"){}else throw ca}if(!u)for(var m=0;
m<X.length;m++){var jJ=X[m],ca=a.Qu(g,jJ,E,f,y,d,T);if(ca[0]=="SoCo"){var j5=JSON.parse(iZ.GZ[iZ.order.indexOf("FrFX")]);
j_.push(["FrFX",j5]);j5.enab=ca[1].enab;j5.Opct=ca[1].Opct;j5.Md=ca[1].Md;j5.Clr=ca[1].Clr;j5.Sz.v.val=g.strokeWeight}}if(j_.length!=0){var gI=JSON.parse(iZ.default);
for(var m=0;m<iZ.order.length;m++)gI[iZ.pW[m]]={t:"VlLs",v:[]};for(var m=0;m<j_.length;m++){var c3=j_[m],bG=iZ.pW[iZ.order.indexOf(c3[0])];
gI[bG].v.unshift({t:"Objc",v:c3[1]})}if(w==null)x.add.lmfx=gI}d.d.push(x)}};fb.a5b=function(g,o,k,y,d,b,T,a,t,j){var e=fb;
g.b_|=16;g.add.vmsk=o;var v=g.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default)),L=e.Qu(k,y,b,T,a,t,j);
if(L[0]=="None"){v.fillEnabled.v=!1;g.add.SoCo=L[1]}else{e.pr(L,g);g.add[L[0]]=L[1]}var L=e.Qu(k,d[0],b,T,a,t,j);
if(L[0]!="None"){var v=g.add.vstk;v.strokeEnabled.v=!0;v.strokeStyleLineWidth.v.val=k.strokeWeight*b.Va();
v.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iZ.X9.Yo[["INSIDE","CENTER","OUTSIDE"].indexOf(k.strokeAlign)];
var H={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[L[0]],w=["SoFi","GrFl","patternFill"].indexOf(H),P=[iZ.ho,iZ.GY,iZ.eQ][w];
v.strokeStyleContent.v={classID:iZ.X9.V8[0]};var Q=k.dashPattern;if(Q)v.strokeStyleLineDashSet.v=bs.rn(Q,1/k.strokeWeight);
var x=v.strokeStyleContent.v={classID:iZ.X9.V8[w]};for(var m=0;m<P.length;m++)x[P[m]]=L[1][P[m]];if(!v.fillEnabled.v)e.pr(L,g)}};
fb.pr=function(g,o){var k=g[1].Opct.v.val;if(k!=100)o.opacity=Math.round(o.opacity/255*(k/100)*255)};
fb.a6d=function(g,o){var k=g.parentIndex.position,y=o.parentIndex.position;return k>y?1:-1};fb.a2D=function(g){for(var m=1;
m<g.length;m++){var o=g[m];if(o.type=="IMAGE"&&o.opacity==1){g=g.slice(m);break}}for(var m=0;m<g.length;
m++){var o=g[m],k=o.imageThumbnail;if(o.type=="IMAGE"&&(o.image==null||o.image.dataBlob==null)&&k&&k.dataBlob)o.image=k;
if(!o.visible||o.type=="IMAGE"&&o.image.dataBlob==null){g.splice(m,1);m--}}return g};fb.acd=function(g,o,k){if(g.QL.ye){o.add.vmsk=g.QL.ye.clone();
o.Ko();o.bD(k)}};fb.ajE=function(g,o,k,y,d,b,T,a){var t=g.fontSize,j=g.lineHeight,e=g.fontName,v=g.textAlignHorizontal,L=g.textTracking,H=g.textCase,w=g.textDecoration;
if(t==null)t=y.RY.FontSize;if(e)bw.nx(y,e.postscript);if(t!=null)y.RY.FontSize=Math.round(t);if(w=="UNDERLINE")y.RY.Underline=!0;
if(L)y.RY.Tracking=Math.round(L*1e3);if(H)y.RY.FontCaps=H=="UPPER"?2:0;if(j&&(j.units!="PERCENT"||j.value!=100)){if(t==null)t=15;
var P=j.value;if(j.units=="PERCENT")P=1*t*P/100;if(j.units=="RAW")P=1*t*P;y.RY.AutoLeading=!1;y.RY.Leading=Math.round(P)}if(v)y.by.Justification=["LEFT","RIGHT","CENTER"].indexOf(v);
var Q=g.fillPaints,x=g.inheritFillStyleID;if(x){var F=fb.jY(a.K8,x);if(F)Q=F.fillPaints}if(Q&&Q[0]){var E=fb.Qu(g,Q[0],o,k,b,T,a);
if(E[0]=="SoCo"){var f=_.M.sL(E[1].Clr.v);y.RY.FillColor={Type:1,Values:[1,f.o/255,f.C/255,f.k/255]};
fb.pr(E,d)}}};fb.Qu=function(g,o,k,y,d,b,T){var a=fb,t,j,e=g.size;if(o){var v=o.type,L=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(v);
if(v=="SOLID"){t="SoCo";var H=o.color;j=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);j.Clr=a.QK(H)}else if(L!=-1){var w=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),P=w.Grad.v;
P.Intr.v=0;w.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][L];var Q=[],x=o.stops;for(var m=0;m<x.length;m++){var F=x[m],E=F.color;
Q.push([F.position,[E.r,E.g,E.b],E.a])}_.M.Dd(Q,P);var f=a.fx(o.transform);f.TY();var c=f.clone();if(e)c.scale(e.x,e.y);
c.concat(k);var M=new bJ(0,.5),n=new bJ(1,.5);M=c.iG(M);n=c.iG(n);if(!0){M.x=n.x+.5*(M.x-n.x);M.y=n.y+.5*(M.y-n.y)}_.M._j(M,n,y,w);
if(L==3){if(c.Ng*c.vP-c.k*c._I<0)w.Rvrs.v=!w.Rvrs.v}t="GdFl";j=w}else if(v=="IMAGE"){var w=JSON.parse(iZ.GZ[iZ.order.indexOf("patternFill")]),f=a.fx(o.transform);
f.TY();var X=o.image.dataBlob,u=T.an4[X];if(u==null){var I=a.PJ(d,X);u=T.an4[X]={};u.id=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";
u.pR=[new Uint8Array(I.data),I.MR];if(f.Ng<0){var r=u.pR[0].slice(0);_.K.fT(r,u.pR[0],I.MR.m,I.MR.n)}u.name="someImage";
b.Lj(u)}if(f.Ng<0)f.Ng=-f.Ng;var J=["FILL","FIT","STRETCH","TILE"].indexOf(o.imageScaleMode),U=J==3?o.scale:1;
bs.a7f(u,w,e.x,e.y,J,k,f,U);t="PtFl";j=w}else throw v;if(j)j.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(o.opacity*100)}}}if(t==null||o.opacity<.001){t="None";
j={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:0,C:0,k:0})}}}return[t,j]};fb.PJ=function(g,o){var k=g[o];
if(k.rslt)return k.rslt;var y=k.bytes.buffer,d=cp.tW(y),b=cp.rJ(d);try{k.rslt=b.pO(y)[0]}catch(d9){k.rslt={data:_.Q(4),MR:new bd(0,0,1,1)}}return k.rslt};
fb.at1=function(g,o,k){var y=g.type,d=g.size,b=g.cornerRadius,j;if(b==null)b=0;var T=d.x,a=d.y,t=[b,b,b,b],e=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var m=0;m<4;m++)if(g[e[m]]!=null)t[m]=g[e[m]];if(y=="RECTANGLE"||y=="ROUNDED_RECTANGLE"||y=="FRAME"){j=_.w.qA.Rect(0,0,T,a,t)}else if(y=="ELLIPSE"){var v=g.arcData,L=v?v.startingAngle:0,H=v?v.endingAngle:2*Math.PI,w=v?v.innerRadius:0;
if(L==0&&H>1.999*Math.PI)j=_.w.qA.rj(0,0,T,a,0);else j=_.w.qA.akx(T/2,a/2,a/2,L,H);if(w!=0&&w!=1){var P=p.Ew.q7(j).slice(3);
P.reverse();for(var m=0;m<P.length;m++){var Q=P[m],x=Q.Tp;Q.Tp=Q.dt;Q.dt=x}var F=new d3;F.translate(-T/2,-a/2);
F.scale(w,w);F.translate(T/2,a/2);_.w.cs(P,F);j=j.concat(P);j[2].length*=2}}else if(y=="LINE"){j=_.w.qA.Rect(0,0,T,a,0);
j.pop();j.pop();j[2].length=2}else if(y=="STAR"){j=_.w.qA.OO(T/2,a/2,T/2,2*Math.PI*(1/4),5,0,g.starInnerScale)}else if(y=="REGULAR_POLYGON"){j=_.w.qA.L6(.5,.5,.5,Math.PI/2,g.count,0);
var E=new d3;E.scale(T,a);_.w.cs(j,E)}else if(y=="BOOLEAN_OPERATION"){j=[{type:6},{type:8,all:0}];var f=g.children,c=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(g.booleanOperation);
if(c==-1)throw g;if(f==null)f=[];for(var m=0;m<f.length;m++){var M=f[m],n=new p.Ew,X=fb.at1(M,o,n);if(n.a==null)continue;
_.w.cs(n.a,fb.fx(M.transform));j=j.concat(n.a.slice(2))}for(var m=3;m<j.length;m++)if(j[m].dJ!=null)j[m].dJ=c}else if(y=="VECTOR"){var u,I,W=3;
if(!0){var r=g.vectorData;if(r==null)return;u=r.normalizedSize;I=r.vectorNetworkBlob}var J=o[I].bytes,U=new Uint32Array(J.buffer),K=new Float32Array(J.buffer),i=U[0],z=U[1],h=U[2],R=[],C=[],G=[],A=W+i*3,$=A+z*7;
for(var m=0;m<i;m++){var O=W+m*3,Y=new bJ(K[O+1],K[O+2]);R.push(Y)}for(var m=0;m<z;m++){var l=A+m*7;
C.push([U[l+0],U[l+1],K[l+2],K[l+3],U[l+4],K[l+5],K[l+6]])}for(var m=0;m<h;m++){var B=U[$+1],f4=G[m]=[];
$+=2;for(var V=0;V<B;V++){var q=U[$++],s=f4[V]=[];for(var cW=0;cW<q;cW++)s[cW]=U[$+cW];$+=q}}if($!=U.length)throw"e";
if(h==0){var dk=-1;for(var m=0;m<z;m++){if(dk==-1){}else{var kr=-1;for(var V=m;V<z;V++)if(C[V][4]==dk)kr=V;
for(var V=m;V<z;V++)if(C[V][1]==dk)kr=V;if(kr!=-1){var j9=0,x=C[kr];C[kr]=C[m];C[m]=x;if(x[1]!=dk){j9=x[1];
x[1]=x[4];x[4]=j9;j9=x[2];x[2]=x[5];x[5]=j9;j9=x[3];x[3]=x[6];x[6]=j9}}}dk=C[m][4]}G.push([[]]);for(var m=0;
m<z;m++)G[0][0].push(m)}var bh=[],fe=[];for(var gg=0;gg<G.length;gg++){for(var a$=0;a$<G[gg].length;
a$++){var dg=G[gg][a$],iv=0;if(dg.length>1){var aQ=C[dg[0]],dt=C[dg[1]];iv=aQ[4]==dt[1]?1:0}for(var m=0;
m<dg.length;m++){var hY=C[dg[m]],b9=1,gD=4;if(iv==0){b9=4;gD=1}var hU=R[hY[b9]],aW=R[hY[gD]];if(m==0){fe.push("M");
bh.push(hU.x,hU.y)}fe.push("C");bh.push(hU.x+hY[b9+1],hU.y+hY[b9+2],aW.x+hY[gD+1],aW.y+hY[gD+2],aW.x,aW.y)}}}j=_.p.XP({j:bh,F:fe},!1);
if(b!=0){var t=[],be=j[2].length;for(var m=0;m<be;m++)t.push(b);if(_.w.FK(j))_.w.FC(j,2,t)}var hv=new d3;
hv.scale(u.x==0?1:d.x/u.x,u.y==0?1:d.y/u.y);_.w.cs(j,hv)}k.a=j};fb.jY=function(g,o){return g[o.sessionID+","+o.localID]};
fb.an0=function(g,o){return g.sessionID==o.sessionID&&g.localID==o.localID};fb.arz=function(g){var o={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[g];
if(o==null)throw g;return o};fb.QK=function(g){return{t:"Objc",v:_.M.UF({o:g.r*255,C:g.g*255,k:g.b*255})}};
fb.fx=function(g){var o=[g.m00,g.m10,g.m01,g.m11,g.m02,g.m12];for(var m=0;m<6;m++)if(Math.abs(o[m])<1e-20)o[m]=0;
return new d3(o[0],o[1],o[2],o[3],o[4],o[5])};function bb(){}bb.Qt=function(){var g=S.lp;function o(H,w,P,Q){var x=Q?[]:{};
while(w<H.length-1&&H[w]!=125){var F=g(H,w,3),E=g(H,w+3,1),f;w+=4;w++;if(E=="v"){var c=o(H,w,P+1,F=="ELM"||F=="TIL");
f=c.Z;w=c.Y}else if(E=="i"||E=="f"){var M=w;while(H[M]!=125)M++;var n=g(H,w,M-w);f=E=="i"?parseInt(n,16):parseFloat(n);
w=M+1}else if(E=="s"){var X=S.EN(H,w),n="";w+=2;for(var m=0;m<X;m++)n+=String.fromCharCode(H[w+2*m+1]);
f=n;w=w+2*X+1}else if(E=="b"){f=H[w]==49;w=w+2}else throw"e";if(Q)x.push([F,f]);else if(x[F]==null)x[F]=f;
else{if(!(x[F]instanceof Array))x[F]=[x[F]];x[F].push(f)}}w++;return{Z:x,Y:w}}function k(H,w){var P=y(H).slice(1),H=w.Clr.v;
H.Rd.v=P[0]*255;H.Grn.v=P[1]*255;H.Bl.v=P[2]*255}function y(H){return[(H>>>24&255)/255,(H>>>16&255)/255,(H>>>8&255)/255,(H>>>0&255)/255]}function d(H,w){var P=w&4278190080|(w&255)<<16|(w>>>8&255)<<8|w>>>16&255;
new Uint32Array(H.buffer).fill(P)}function b(H,w){var P=H.TSZ,Q=H.WPX,x=H.HPX,F=H.TIL,E=new bd(0,0,Q,x),f=_.Q(Q*x*4),c=0;
for(var M=0;M<x;M+=P)for(var n=0;n<Q;n+=P){var X=new bd(n,M,P,P),u,I=F[c];if(I[0]=="TMC"){u=_.Q(X.O()*4);
d(u,I[1])}else if(I[0]=="TID"){u=w[I[1]]}_.g1(u,X,f,E);c++}return[f,E]}function T(H,w){H=new Uint8Array(H);
var P=8,Q,x={},z=0;while(P<H.length){var F=S.q(H,P);P+=4;var E=g(H,P,4);P+=4;if(E=="mkTS"){var f=pako.inflate(H.slice(P,P+F)),c=o(f,0,0);
Q=c.Z}else if(E=="mkBT"){var M=S.q(H,P+4),n=S.q(H,P+8),f=pako.inflate(H.slice(P+76,P+F));if(n==0)for(var m=0;
m<f.length;m+=4){var X=f[m],u=f[m+1],I=f[m+2],r=f[m+3];f[m+3]=X;f[m+2]=r;f[m+1]=I;f[m]=u}else{var J=_.Q(f.length*4);
J.fill(255);_.yr(f,J);f=J}x[M]=f}P+=F+4}var U=Q.PDC,K=U?U instanceof Array?U:[U]:[Q.MKB],i=new bd;for(var m=0;
m<K.length;m++){var h=K[m];i=i.gO(new bd(0,z,h.WID,h.HIT));z+=h.HIT+100}w.m=i.m;w.n=i.n;w.buffer=_.Q(i.O()*4);
w.Bu(K.length);z=0;for(var R=0;R<K.length;R++){w.d.push(w.L0());var h=K[R],C=h.WID,G=h.HIT,W=h.BGC,A=(h.LYL?h:Q).LYL.LAY,Y=3;
for(var m=0;m<A.length;m++)t(A[m],w,null,x,new d3(1,0,0,1,-h.XLC,-h.YLC+z));var $=w.Qf();w.d.push($);
var O=new bd(0,z,C,G);z+=G+100;$.P2(O);if(W>>>24!=0){var l=_.M.UF({o:W>>>16&255,C:W>>>8&255,k:W>>>0&255});
$.add.artb.Clr={t:"Objc",v:l};Y=4}$.add.artb.artboardBackgroundType.v=Y;$.mP(h.PGN?h.PGN:"Page "+(R+1));
$.add.lsct=cK.E5;$.HW="pass";$.b_=24}}function a(H,w,P){var Q=H[w];return Q instanceof Array?Q[P]:Q}function t(H,w,P,Q,x){var F=w.Qf();
if(H.VIS!=null)F.qj(H.VIS);if(H.VIF!=null)F.qj(H.VIF.VIS);if(H.OPA!=null)F.opacity=Math.round(255*H.OPA/1e3);
F.HW=H.CLL||P=="GRP"?"pass":"norm";if(H.BLD!=null){var E=H.BLD,f={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[E+""];
if(f==null)console.log(H.OBN,E);else F.HW=f;if(E==30)F.opacity>>>=1}if(H.CLL){F.mP(H.LNM);w.d.push(w.L0());
var c=H.CLL.CEL;if(c.length==null)c=[c];for(var M=c.length-1;M>=0;M--){var n=c[M].ELM;for(var m=n.length-1;
m>=0;m--)t(n[m][1],w,n[m][0],Q,x)}F.add.lsct=H.DIS?cK.TD:cK.E5;F.b_|=24}else if(P=="GRP"){var X=F.add.lmfx=e(H.EFL),u;
w.d.push(w.L0());var n=H.ELM;if(H.MNA){u=n[0][1];n=n.slice(1)}F.mP("Group: "+n.length+" objects");for(var m=n.length-1;
m>=0;m--)t(n[m][1],w,n[m][0],Q,x);if(u){if(H.MRX){var I=b(u,Q),r=F.v=new p.GE;r.rect=I[1].clone();r.rect.x=u.XLC;
r.rect.y=u.YLC+x.xF;r.channel=_.Q(r.rect.O());_.B4(I[0],r.channel,0);_.TY(r.channel)}else{j(F,u,x);F.Ko();
F.bD(w)}}F.add.lsct=cK.E5;F.b_|=24}else if(P=="IMG"){F.mP(H.OBN?H.OBN:"Bitmap");var I=b(H,Q);F.rect=I[1].clone();
F.rect.x=H.XLC;F.rect.y=H.YLC+x.xF;F.buffer=I[0]}else if(P=="TXT"){var J=H.TFS,U=J.TRN instanceof Array?J.TRN.length:1,h="",R="Arial",C=20,G=0;
F.add.lnsr="rend";F.add.TySh=bw.j_(0,0);F.add.TySh.Rt=new bd(0,0,100,100);var K=new d3(1,0,0,1,H.LFT,H.TOP);
if(H.MTX){var i=H.MTX,r=new d3(i.M00,i.M01,i.M10,i.M11,i.M20,i.M21);K.concat(r)}K.concat(x);F.add.TySh.D=K;
var z=F.add.TySh.O7;for(var m=0;m<U;m++){var W=a(J,"TRN",m);if(W==null)continue;W=W.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
W=W.replaceAll("\x03","\n").replaceAll("\r","\n");bw.pj(z,h.length,W);var A=bw.DE(z,0,1),$=a(J,"FON",m);
if($)R=$;bw.nx(A,R);var O=a(J,"PTS",m);if(O!=null)C=O;A.RY.FontSize=Math.round(C);var Y=a(J,"LED",m);
if(Y!=null){A.RY.Leading=Y*C;A.RY.AutoLeading=!1}var l=a(J,"UND",m);if(l!=null){A.RY.Underline=l}var B=a(J,"ITL",m);
if(B!=null){A.RY.FauxItalic=B}var f4=a(J,"FCL",m);if(f4!=null)G=f4;A.RY.FillColor={Type:1,Values:y(G)};
var V=a(J,"JST",m);if(V!=null)A.by.Justification=[0,2,1,3,5,4,6,7,8][V];bw.SX(z,h.length,h.length+W.length,A);
h+=W}F.mP(h.slice(0,255));var q=H.RIT-H.LFT,s=H.BOT-H.TOP;if(H.IMG){t(H.IMG,w,"IMG",Q,x);var cW=w.d.pop();
F.buffer=cW.buffer;F.rect=cW.rect.clone()}bw.ms(z,1);bw.Y$(z,[0,0,q,s])}else if(P=="PTH"){F.mP(H.OBN?H.OBN:"Path");
F.b_|=16;var dk=!1;j(F,H,x);var kr=F.add.vmsk,j9=F.add.vstk,bh=_.w.HM(kr.a),fe=H.PAT,gg=fe.BPL,a$=fe.FPL,dg=fe.TXF;
if(a$&&a$.FEF)kr.uH+=a$.FEF/2.4;if(gg){var iv=gg.CAT;j9.strokeEnabled.v=!0;j9.strokeStyleLineWidth.v.val=gg.BDI;
j9.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iZ.X9.Yo[H.BRP];k(fe.BCL,j9.strokeStyleContent.v);
if(iv!="bc_Basic"&&iv!="bc_Pencil")dk=!0}if(a$==null){j9.fillEnabled.v=!1;F.add.SoCo=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);
k(0,F.add.SoCo)}else if(a$.CAT=="fc_Solid"){F.add.SoCo=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);k(H.PAT.FCL,F.add.SoCo)}else if(a$.CAT=="fc_Linear"||a$.CAT=="fc_Circular"||a$.CAT=="fc_Elliptical"){var aQ=a$.CAT=="fc_Linear",dt=F.add.GdFl=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),hY=dt.Grad.v,b9=[],i0=a$.FGL,gD,hU=[];
if(i0.FGY){var aW=i0.FGY,gD=aW.FG0.FGI,hU=aW.FG1.FGI}else gD=i0.FGV.FGI;for(var m=0;m<gD.length;m++){var be=gD[m],hv=y(be.FGC),b3=1;
if(hU.length==gD.length)b3=y(hU[m].FGC)[0];b9.push([be.FGP,hv.slice(1),b3])}dt.Type.v.GrdT=aQ?"Lnr":"Rdl";
_.M.Dd(b9,hY);hY.Intr.v=0;var gT=H.PRI?H.PRI:H,aB=new bJ(gT.PSX,gT.PSY),bO=new bJ(gT.PEX,gT.PEY);if(a$.CAT=="fc_Elliptical"&&gT.PFX!=null){var kf=new bJ(gT.PFX,gT.PFY),iY=bJ.YX(aB,bO),gs=bJ.YX(aB,kf);
if(gs<iY){var c1=iY;iY=gs;gs=c1}bO=new bJ(aB.x+(iY+gs)/2,aB.y);if(iY/gs<.5)dk=!0}if(aQ){aB.x=(aB.x+bO.x)/2;
aB.y=(aB.y+bO.y)/2}_.M._j(aB,bO,bh,dt)}else console.log(a$.CAT);var X=F.add.lmfx=e(H.EFL,kr);if(a$&&a$.FTB!=0&&dg){var I=b(dg.MSK,Q),gK={};
gK.id=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";gK.name="someImage";gK.pR=I;w.Lj(gK);var c4=I[0];for(var m=0;
m<c4.length;m+=4){c4[m+3]=255-c4[m];c4[m]=c4[m+1]=c4[m+2]=255}var dt=JSON.parse(iZ.GZ[iZ.order.indexOf("patternFill")]);
dt.Opct.v.val=Math.round(a$.FTB/10);dt.Algn.v=!0;dt.Ptrn.v.Idnt.v=gK.id;X.patternFillMulti.v.unshift({t:"Objc",v:dt})}if(dk&&H.IMG){t(H.IMG,w,"IMG",Q,x);
var k6=w.d[w.d.length-1];k6.opacity=F.opacity;return}F.Ko();F.bD(w)}else if(P=="URL")return;else{console.log("unknown layer type",P,H);
F.mP("Layer")}w.d.push(F)}function j(H,w,P){if(w.PBL==null)return;var Q=H.add.vmsk=new p.Ew,x=H.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default)),F=w.PBL.PBP;
if(!(F instanceof Array))F=[F];for(var E=0;E<F.length;E++){var f=F[E].PBT;if(f==null)continue;if(!(f instanceof Array))f=[f];
var c=F[E].ISC?0:3;Q.a.push({type:c,length:f.length,dJ:0,Pj:2,nB:0,tH:0});for(var m=0;m<f.length;m++){var M=f[m],n=M.XLC,X=M.YLC,u=[n,X,n,X,n,X],I="XPC YPC XLC YLC XSC YSC".split(" ");
for(var r=0;r<6;r++){var J=I[r],U=M[J];if(U!=null)u[r]=U}Q.a.push({type:c+2,H:new bJ(n,X),Tp:new bJ(u[0],u[1]),dt:new bJ(u[4],u[5])})}}_.w.cs(Q.a,P)}function e(H,w){var P=JSON.parse(iZ.default);
for(var m=0;m<iZ.order.length;m++)P[iZ.pW[m]]={t:"VlLs",v:[]};if(H==null)return P;var Q=H.EPS;if(!(Q instanceof Array))Q=[Q];
for(var m=0;m<Q.length;m++){var x=Q[m].DCE,F={};for(var E=0;E<x.length;E++)F[x[E].DCK]=x[E].DCV;if(F.EffectIsVisible=="false")continue;
var f=F.mkbFile_WriteOnly_TemporaryEffectUiName;if(f=="Gaussian Blur..."&&w){w.uH+=parseFloat(F.gaussian_blur_radius);
continue}var c=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(f);if(c==-1){continue}var M=["DrSh","ebbl","IrGl","OrGl"][c],n=iZ.pW[iZ.order.indexOf(M)],X=JSON.parse(iZ.GZ[iZ.order.indexOf(M)]);
P[n].v.unshift({t:"Objc",v:X});if(M=="DrSh"){X.uglg.v=!1;v(F,"ShadowDistance",X,"Dstn");v(F,"ShadowBlur",X,"blur");
v(F,"ShadowAngle",X,"lagl",180);X.Opct.v.val=100;L(F,"ShadowColor",X,"Clr")}if(M=="IrGl"){X.Md.v.BlnM="Nrml";
var u=F.MaskSoftness,I=F.GlowWidth;if(u&&I){u=parseInt(u);I=parseInt(I);X.blur.v.val=I+u;X.Ckmt.v.val=Math.round(100*I/(I+u))}v(F,"BevelContrast",X,"Opct");
L(F,"OuterBevelColor",X,"Clr")}if(M=="OrGl"){X.Md.v.BlnM="Nrml";var u=F.MaskSoftness,I=F.GlowWidth;if(u&&I){u=parseInt(u);
I=parseInt(I);X.blur.v.val=I+u}v(F,"BevelContrast",X,"Opct");L(F,"OuterBevelColor",X,"Clr")}if(M=="ebbl"){X.uglg.v=!1;
v(F,"BevelWidth",X,"blur");v(F,"AngleSoftness",X,"Sftn");v(F,"BevelContrast",X,"srgR");v(F,"LightAngle",X,"lagl")}}return P}function v(H,w,P,Q,x){var F=H[w];
if(x==null)x=0;if(F)P[Q].v.val=parseInt(F)+x}function L(H,w,P,Q){var x=H[w];if(x){x=x.slice(1);if(x.length==6)x=x+"ff";
if(x.length!=8)throw"e";var F=y(parseInt(x,16)),E=P[Q].v;E.Rd.v=F[0]*255;E.Grn.v=F[1]*255;E.Bl.v=F[2]*255;
P.Opct.v.val=Math.round(P.Opct.v.val/100*F[3]*100)}}return T}();function k4(){}k4.Qt=function(){function g(U,K,i){var z=!1,h=Date.now(),R=c(U,z);
if(z)console.log("part found",Date.now()-h);h=Date.now();var C=f(R),G=C.Layer,W=C.Header;if(z)console.log(C);
var A=G[0];A=C.Layer[0];if(z)console.log("document parsed",Date.now()-h);h=Date.now();C.Setup.Gradient=E(C.Setup.Gradient,R);
if(z)console.log("grads loaded",Date.now()-h);h=Date.now();C.Setup.Pattern=F(C.Setup.Pattern,R);if(z)console.log("patts loaded",Date.now()-h);
h=Date.now();C.Setup.DocumentData=x(C.Setup.DocumentData,R).pop();if(z)console.log("docdata loaded",Date.now()-h);
h=Date.now();C.Setup.SVGFilter=x(C.Setup.SVGFilter,R);if(z)console.log("svgfilter loaded",Date.now()-h);
h=Date.now();var $=W.Cropmarks,O=W.BoundingBox.split(" ").map(parseFloat),Y=W.ArtSize?W.ArtSize.split(" ").map(parseFloat):[O[2]-O[0],O[3]-O[1]];
K.m=Math.round(Y[0]);K.n=Math.round(Y[1]);var l=[1,0,0,1,-O[0]+(K.m-(O[2]-O[0]))/2,-O[1]+(K.n-(O[3]-O[1]))/2];
l[3]=-1;l[5]=K.n-l[5];if($){$=$.split(" ").map(parseFloat);K.m=Math.round($[2]-$[0]);K.n=Math.round($[3]-$[1]);
l=[1,0,0,-1,-$[0],K.n+$[1]]}var B=C.Setup.DocumentData;if(B&&B[0]&&B[0].ArtboardArray){var f4=B[0].ArtboardArray;
if(f4.length!=1)console.log(f4.length,"artboards");var V=new bd,q=[];for(var m=0;m<f4.length;m++){var s=f4[m],cW=s.PositionPoint1,dk=s.PositionPoint2,kr=cW[0],j9=Math.min(cW[1],dk[1]),bh=dk[0],fe=Math.max(cW[1],dk[1]),gg=new bd(kr,j9,bh-kr,fe-j9);
q.push(gg);V=V.gO(gg)}K.m=Math.round(V.m);K.n=Math.round(V.n);l[4]=-V.x;l[5]=V.y+K.n;if(f4.length!=1){K.d.push(K.L0());
for(var m=0;m<q.length;m++){var s=f4[m],gg=q[m],a$=K.Qf();a$.mP(s.Name);K.d.push(a$);a$.add.SoCo=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);
var dg=a$.add.SoCo.Clr.v;j(dg,[1,1,1]);var kr=gg.x,j9=gg.y,bh=kr+gg.m,fe=j9+gg.n,iv=[kr,j9,bh,j9,bh,fe,kr,fe];
_.p.D(iv,v(l),iv);H(a$,{cmds:["M","L","L","L","Z"],crds:iv},K);a$.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default))}var a$=K.Qf();
a$.mP("_Artboards_");a$.add.lsct=cK.E5;a$.HW="pass";a$.b_=24;K.d.push(a$)}}if(B&&B[0]&&B[0]["#document"]){var aQ=B[0]["#document"],dt=aQ["xmlnode-children"][0];
if(dt&&dt["xmlnode-children"])dt=dt["xmlnode-children"][0];if(dt["xmlnode-nodename"]=="variableSets"){var hY=dt["xmlnode-children"][0]["xmlnode-children"],b9=hY[0],i0=hY[1],gD=J(b9);
K.t_=jX.cJ("<variableSets><variableSet>"+gD+"</variableSet></variableSets>");if(i0){var hU=J(i0),aW=K.S0=jX.G9(hU);
for(var m=0;m<aW.length;m++)for(var be=0;be<aW[m].length;be++)aW[m][be]=aW[m][be].trim()}}}var hv=1/ac.lX(new bd(0,0,K.m,K.n),8192*8192);
while(K.m*K.n*hv*hv<800*800)hv*=2;while(i&&Math.max(K.m*hv,K.n*hv)<Math.max(i[0],i[1]))hv++;K.m=Math.round(K.m*hv);
K.n=Math.round(K.n*hv);K.Qb=Math.round(72*hv);K.buffer=_.Q(K.m*K.n*4);for(var m=0;m<6;m++)l[m]*=hv;k=[0,0,0];
y=[0,0,0];d="SoCo";for(var b3=0;b3<G.length;b3++){var gT=G[b3];gT.Raster=o(gT,"Raster");gT.Place=o(gT,"Place");
var aB=P(R,gT);b(K,aB,l,C,gT,R)}if(z)console.log("layers created",Date.now()-h);h=Date.now()}function o(U,K){var i=U.Layer,z=U[K];
if(z==null)z=[];if(i){for(var m=0;m<i.length;m++){var h=i[m],R=h[K]=o(h,K);z=z.concat(R)}z.sort(function(C,G){return C._begin-G._begin})}return z}var k,y,d;
function b(U,K,i,z,h,R){var C="",G=0,W="",A=!1,$={},O=UDOC.G,Y=UDOC.getState(),l="norm",B=1,f4=!1,V=0,s=null,cW=!1,dk=0,kr=null,j9,bh,fe=0,gg=0,a$=0,aQ=0,dt=!1;
Y.ctm=i;var q=[],dg=[],iv=[];for(var hY=0;hY<K.length;hY++){var b9=K[hY],aW=1e9;if(b9[0]=="%"){if(b9=="%_/ArtDictionary :"&&dk==0)s=[b9.slice(2)];
else if(s!=null){if(b9=="%_"&&dk==0){var i0=X(s)[0],gD=i0.AI10_ArtUID;if(gD&&!gD.startsWith("XMLID"))U.d[U.d.length-1].mP(I(gD));
s=null}else{s.push(b9.slice(cW?1:2));if(b9=="%_X=")dk++;if(b9=="%_X+")dk--;if(b9=="%_/Binary : /ASCII85Decode ,")cW=!0;
if(cW&&b9.endsWith("~>"))cW=!1}}else if(kr){j9+=(j9==""?"":" ")+b9.slice(2);if(j9.endsWith("X#")){kr.push(j9.slice(0,j9.length-3));
j9=""}}continue}else if(b9=="/Mesh X!"){kr=[];j9="";continue}else if(b9=="/End X!"){T(kr,Y,U);kr=null;
continue}var hU="Xa XR m l c f U u *U w J j M d".split(" "),be=-1,hv=b9.indexOf("(")!=-1;for(var m=0;
m<hU.length;m++){var b3=b9.indexOf(" "+hU[m]+" ");if(b3!=-1&&b3<aW&&!hv){aW=b3;be=m}}if(be!=-1){A=!0;
var gT=aW+1+hU[be].length;K[hY]=b9.slice(0,gT);var aB=K[hY+1];if(aB==null||aB[0]=="%"||be>9)K.splice(hY+1,0,b9.slice(gT));
else K[hY+1]=(b9.slice(gT)+" "+aB).replace(/\s\s+/g," ");hY--;continue}b9=b9.trim();var bO=b9.split(" "),kf=bO[bO.length-1],iY=kf.toLowerCase(),gs=bO.map(parseFloat);
if(kf=="m")O.moveTo(Y,gs[0],gs[1]);else if(kf=="L"||kf=="l")O.lineTo(Y,gs[0],gs[1]);else if(kf=="V"||kf=="v"){var c1=Y.pth.crds,gK=Y.cpos[0],c4=Y.cpos[1];
O.curveTo(Y,gK,c4,gs[0],gs[1],gs[2],gs[3]);var k6=c1.length;c1[k6-6]=gK;c1[k6-5]=c4}else if(kf=="Y"||kf=="y")O.curveTo(Y,gs[0],gs[1],gs[2],gs[3],gs[2],gs[3]);
else if(kf=="C"||kf=="c")O.curveTo(Y,gs[0],gs[1],gs[2],gs[3],gs[4],gs[5]);else if(kf=="H"||kf=="h"){if(kf==iY)O.closePath(Y);
q.push(JSON.parse(JSON.stringify(Y.pth)))}else if(kf=="Xy"){l=["norm","mul ","scrn","over","sLit",null,"div "][gs[0]];
B=gs[1];if(l==null){l="norm";console.log("unknown blend mode",gs[0])}}else if(kf=="Xd"){var jk=U.d[U.d.length-1];
jk.opacity=Math.round(255*B);jk.HW=jk.gT()&&l=="norm"?"pass":l}else if(kf=="AE")fe=gs[0];else if(kf=="Ae")gg=gs[0];
else if(kf=="Xw")a$=gs[0];else if(kf=="*"){var jt=Y.pth.crds,j_=Y.ctm,b3=jt[0]==jt[2]?0:1;U.HR.push([b3,jt[b3]]);
O.newPath(Y)}else if(kf=="XN")bh=b9.split(" ")[0];else if(kf=="XI"){var kw=h.Raster,eu,ak;if(kw==null||kw.length==0){console.log("no Raster");
continue}if(b9!="XI"){continue}else{if(kw[G].Data==null){continue}var cY=kw[G++].Data,bG=cY._begin,j5=cY._end;
while(R[bG]!=88)bG++;bG+=3;eu=R.slice(bG,j5);ak=K[hY-2].split(" ").map(parseFloat)}var hI=ak.slice(8),jJ=hI[2],ca=hI[3],gI=jJ*ca,c3=_.Q(gI*4);
c3.fill(255);var fs=hI[7],eS=hI[8],bf=hI[6],ef=Math.ceil(jJ*fs*bf/8);if(fs==1){if(bf==8)for(var m=0;
m<gI;m++)for(var hh=0;hh<3;hh++)c3[4*m+hh]=eu[m];else if(bf==1)for(var fA=0;fA<ca;fA++)for(var jS=0;
jS<jJ;jS++)for(var hh=0;hh<3;hh++)c3[4*(fA*jJ+jS)+hh]=255*(eu[fA*ef+(jS>>>3)]>>>7-(jS&7)&1);else throw bf}else if(fs==3)for(var m=0;
m<gI;m++)for(var hh=0;hh<3;hh++)c3[4*m+hh]=eu[3*m+hh];else if(fs==4||fs==5)for(var m=0;m<gI;m++){var dn=L([eu[fs*m+0]/255,eu[fs*m+1]/255,eu[fs*m+2]/255,eu[fs*m+3]/255]);
c3[4*m+0]=dn[0]*255;c3[4*m+1]=dn[1]*255;c3[4*m+2]=dn[2]*255}else if(fs==7)for(var m=0;m<gI;m++){c3[4*m+0]=eu[fs*m+0];
c3[4*m+1]=eu[fs*m+1];c3[4*m+2]=eu[fs*m+2]}else console.log("unknown number of channels",fs);if(eS==1){var id=ca*ef;
for(var m=0;m<gI;m++)c3[4*m+3]=eu[id+m]}var jy=_.Ow(c3,jJ,ca)?"JPG":"PNG";if(jJ*ca<700*700)jy="PNG";
var dG=cp.rJ(jy).p0([[c3.buffer]],jJ,ca),cw=U.Es(new Uint8Array(dG),"<Image>",0,0);U.d.push(cw);cw.HW=l;
cw.opacity=Math.round(255*B);cw.qj(a$==0);var i=new d3;i.scale(1,-1);i.concat(v(ak.slice(1)));i.concat(v(Y.ctm));
var d2=cw.rect.clone();d2.x=d2.y=0;var bO=_.p.rN(d2).j;_.p.D(bO,i,bO);cw.add.SoLd.Trnf=D.C8.sY(bO);cw.add.SoLd.nonAffineTransform=D.C8.sY(bO);
cw.tq(U,!1)}else if(kf=="Ln"){C=t(b9)}else if(kf=="u"||kf=="q"||kf=="Lb"){dg.push(gg==1);iv.push((kf=="Lb"?1-gs[0]:a$)==0);
if(f4)continue;U.d.push(U.L0())}else if(kf=="U"||kf=="Q"||kf=="LB"){if(dg.length==0||iv.length==0)throw hY;
var fj=dg.pop(),aH=iv.pop();if(kf=="LB")fj=fe==1;if(f4)continue;var cw=U.Qf();cw.mP((kf=="U"?"<Group>":"<Clip Group>")+W);
if(kf=="LB")cw.mP(C);if(kf=="Q"&&q.length!=0){var gE=q.pop(),iQ=UDOC.G.isBox(gE,[0,0,U.m,U.n]);if(!iQ)H(cw,gE,U)}cw.add.lsct=fj?cK.TD:cK.E5;
cw.HW="pass";cw.b_=24;cw.qj(aH);U.d.push(cw);if(dt){if(U.d[U.d.length-3].getName()=="</Layer group>"){U.d.pop();
U.d.splice(U.d.length-2,1)}dt=!1}}else if(kf=="Bb"||kf=="Bh"||kf=="BB"){}else if(kf=="Bg"){var a_=z.Setup.Gradient,iP=a_[t(b9)];
if(iP==null){console.log("gradient not found");for(var jY in a_){iP=a_[jY];break}}d="GdFl";k=a(iP.Wj,iP.a30)}else if(kf=="Bm"||kf=="Xm"){var iX=k.Type.v.GrdT;
if(iX=="Lnr"&&kf!="Xm"||iX=="Rdl"&&kf!="Bm")continue;var cM=new bJ(0,0),gr=new bJ(1,0),gL=new d3;gL.concat(v(gs));
gL.concat(v(Y.ctm));cM=gL.iG(cM);gr=gL.iG(gr);var j3=_.p.AU(Y.pth.crds);if(j3.on())j3=_.p.AU([cM.x,cM.y,gr.x,gr.y]);
if(iX=="Lnr"){cM.x=(cM.x+gr.x)/2;cM.y=(cM.y+gr.y)/2}_.M._j(cM,gr,j3,k)}else if(kf=="p"){var fd=t(b9),cS=z.Setup.Pattern[fd];
if(cS.raw==null){var j3=cS.rC,jJ=Math.round(j3[2]-j3[0]),ca=Math.round(j3[3]-j3[1]),i0=new dF;i0.m=jJ;
i0.n=ca;i0.buffer=_.Q(jJ*ca*4);b(i0,cS.Vb,[1,0,0,-1,-cS.rC[0],ca+cS.rC[1]],z,h,R);cS.raw=new Uint8Array(cp.rJ("PSD").p0(i0))}var eY=b9.slice(b9.indexOf(")")+2),dy=eY.slice(0,eY.indexOf("[")-1).split(" ").map(parseFloat),dP=eY.slice(eY.indexOf("[")+1,eY.indexOf("]")).split(" ").map(parseFloat);
d="patt";k=[fd,dy,dP]}else if(kf=="J"||kf=="j"||kf=="w"||kf=="M"||kf=="d"){for(var m=1;m<bO.length;m++){var bt=bO[m],cB=gs[m-1];
if(bt=="w")Y.lwidth=cB;if(bt=="j")Y.ljoin=cB;if(bt=="J")Y.lcap=cB;if(bt=="d"){var ad=b9.slice(b9.indexOf("[")+1,b9.indexOf("]")).trim();
if(ad.length!=0){var gu=ad.split(" ").map(parseFloat);Y.dash=gu}else if(ad=="")Y.dash=[]}}}else if(iY=="xa"||iY=="xx"){var ab=gs[4]==null?gs.slice(0,3):[gs[4],gs[5],gs[6]];
if(iY=="xx"&&gs[gs.length-2]==2)ab=L(gs);d="SoCo";if(kf=="Xa"||kf=="Xx")k=ab;else y=ab}else if(iY=="xk"){var ab,dW=gs[gs.length-2],ck=gs[gs.length-3];
if(dW==0)ab=L(gs);else if(dW==1){ab=[gs[4],gs[5],gs[6]];for(var m=0;m<3;m++)ab[m]=ck*1+(1-ck)*ab[m]}else throw b9;
d="SoCo";if(kf=="Xk")k=ab;else y=ab}else if(iY=="k"||iY=="x"){if(iY=="x"){gs.pop();var eb=1-gs.pop();
for(var m=0;m<4;m++)gs[m]*=eb}var ab=L(gs);d="SoCo";if(kf==iY)k=ab;else y=ab}else if(iY=="g"){var ab=[gs[0],gs[0],gs[0]];
d="SoCo";if(kf==iY)k=ab;else y=ab}else if(iY=="n"){if(!f4)O.newPath(Y)}else if(kf=="*u"){f4=!0;V=0}else if(kf=="*U"||iY=="s"||iY=="f"||iY=="b"){if(kf!="*U"&&f4){if(iY=="f"||iY=="b")V|=1;
if(iY=="s"||iY=="b")V|=2;continue}if(kf==iY)O.closePath(Y);if(kf=="*U"){f4=!1}var cw;if(d=="patt"){var cS=z.Setup.Pattern[k[0]];
cw=U.Es(cS.raw,"<Pattern>",0,0);var d2=cw.rect.clone();d2.x=d2.y=0;var bO=_.p.rN(d2).j,dP=v(k[2]);dP.ii=dP.xF=0;
_.p.D(bO,dP,bO);cw.add.SoLd.Trnf=D.C8.sY(bO);cw.add.SoLd.nonAffineTransform=D.C8.sY(bO);cw.tq(U,!1)}else{cw=U.Qf();
cw.b_|=16;var es=cw.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));es.strokeEnabled.v=es.fillEnabled.v=!1;
if(d=="SoCo"){cw.add.SoCo=JSON.parse(iZ.GZ[iZ.order.indexOf("SoFi")]);var hS=cw.add.SoCo.Clr.v;j(hS,k)}if(d=="GdFl")cw.add.GdFl=k;
if(iY=="f"||iY=="b"||kf=="*U"&&V&1)es.fillEnabled.v=!0;if(iY=="s"||iY=="b"||kf=="*U"&&V&2)eT.e7(es,Y,1,eT.fF(y))}cw.mP("<"+(kf=="*U"?"Compound ":"")+"Path>"+W);
cw.HW=l;cw.opacity=Math.round(255*B);cw.qj(a$==0);H(cw,Y.pth,U);U.d.push(cw);O.newPath(Y)}else if(kf==","&&bO[0]=="/XMLUID"){var jk=U.d[U.d.length-1];
for(var m=0;m<U.t_.length;m++)if("("+U.t_[m].docRef+")"==bO[2])U.t_[m].docRef="id('"+jk.add.lyid+"')"}else if(kf==","&&bO[1]=="/FreeUndo"){aQ=gs[0]}else if(kf==","&&bO[1]=="/StoryIndex"){var di=z.Setup.TextDocument,ks=null;
if(!(di instanceof Array))di=z.Setup.TextDocument=Q(di,R);var dM=di[0],iy=di[2];if(dM._DocumentResources)dM=di[0]=gF.ac6(dM);
else gF.ajk(dM);var cw=U.Qf();cw.add.lnsr="rend";cw.add.TySh=bw.j_(0,0);var dZ=gs[0];if(aQ==1){for(var m=1;
m<60;m++){var aB=K[hY+m];if(aB.endsWith("/StoryIndex ,")){dZ=parseFloat(aB.slice(2,aB.indexOf(" ")));
dt=!0;break}}aQ=0}var jK=iK.a9M(dM),bW=cw.add.TySh.O7=jK[dZ];if(bW==null){console.log("text not found");
dt=!1;continue}cw.mP(bw.fY(bW).slice(0,50));cw.HW=l;cw.opacity=Math.round(255*B);cw.qj(a$==0);var eb=dM._1._1[dZ]._1._0[0]._0;
eb=parseInt(eb.slice(1));var c0=dM._0._8._0,dK=c0[eb]._0;if(dK._0)ks=e(dK._0);else if(dK._1)ks=e(dK._1._0);
else ks=e(dK._2._2).slice(3);if(ks.length!=2){var j3=_.p.AU(ks);ks=[j3.x,j3.y];if(j3.O()!=0){bw.ms(bW,1);
bw.Y$(bW,[0,0,Math.round(j3.m),Math.round(j3.n)])}}var fF=new d3,ei=new d3(1,0,0,1,ks[0],ks[1]),gZ=new d3(1,0,0,1,-iy[0],-iy[1]),io=v(Y.ctm),cs=new d3;
if(dK._2&&dK._2._2){var i=e(dK._2._2);cs=new d3(i[0],i[1],i[2],i[3],i[4],i[5])}fF.concat(ei);fF.concat(cs);
fF.concat(gZ);fF.scale(1,-1);fF.concat(io);cw.add.TySh.D=fF;U.d.push(cw);U.Hi=!0}else if(kf=="Tp"){$.DA=v(gs)}else if(kf=="Tf"){$.font=bO[0].slice(2)}else if(kf=="Tk"){var cw=U.Qf();
cw.add.lnsr="rend";var aI=cw.add.TySh=bw.j_(0,0),bW=aI.O7,gL=$.DA.clone(),bU=gL.Va();gL.concat(v(Y.ctm));
var a8=new d3(1/bU,0,0,-1/bU,0,0);a8.concat(gL);aI.D=a8;var g5=t(b9);cw.mP(g5);bw.pj(bW,0,g5);var dO=bw.DE(bW,0,g5.length);
dO.RY.FontSize=bU;dO.RY.FillColor={Type:1,Values:[1,k[0],k[1],k[2]]};bw.nx(dO,$.font);bw.SX(bW,0,g5.length,dO);
U.d.push(cw);U.Hi=!0}else if(A&&gs.length>3){var et=!1;for(var m=0;m<gs.length;m++)if(isNaN(gs[m]))et=!0;
if(!et)K[hY+1]=(b9+" "+K[hY+1]).replace(/\s\s+/g," ")}}}function T(U,K,i){var z=UDOC.G,h=[],R=[],C="/DeviceGray",G=1,W=[],A=1;
for(var $=0;$<U.length;$++){var O=U[$];if(O.endsWith(" /CS")){var Y=O.indexOf("/NChannel"),l=O.indexOf("/Process");
if(O.startsWith("/DeviceRGB")){C="/DeviceRGB";G=3}else if(O.startsWith("/DeviceGray")){C="/DeviceGray";
G=1}else if(O.startsWith("/DeviceCMYK")){C="/DeviceCMYK";G=4;W=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(Y!=-1){C="/DeviceCMYK";
G=parseInt(O.slice(Y-2,Y-1));var B=1;for(var m=0;m<G;m++){B=O.indexOf("[",B);W[G-1-m]=O.slice(B+1,B+8).split(" ").map(parseFloat);
B++}}else if(l){C="/DeviceGray";G=1}else throw O}else if(O[0]=="["){var f4=O.indexOf("]"),V=O.slice(1,f4).split(" ").map(parseFloat),q=O.slice(f4+2),s,cW,dk,kr,j9,bh;
if(q=="/Size"||q=="/P"||q=="/R")continue;if(q=="/S"||q=="/A"){s=V[0];cW=V[1];dk=V[2];kr=V[3];j9=V[4];
bh=V[5]}else if(q=="/N"){var fe=G+(A==1?0:1),gg;s=V[fe+0];cW=V[fe+1];dk=V[fe+2];kr=V[fe+3];j9=V[fe+5];
bh=V[fe+6];if(C=="/DeviceRGB")gg=V.slice(0,3);else if(C=="/DeviceGray")gg=[V[0],V[0],V[0]];else if(C=="/DeviceCMYK"){var a$=[0,0,0,0];
for(var m=0;m<G;m++){var dg=V[m],iv=W[m];a$[0]+=dg*iv[0];a$[1]+=dg*iv[1];a$[2]+=dg*iv[2];a$[3]+=dg*iv[3]}gg=L(a$)}else throw gg;
gg.push(V[G]);R.push([gg,s,cW])}else throw q;h.push([q,j9,bh,s,cW,dk,kr])}else if(O=="/E"){var aQ=h.slice(0),dt=0;
for(var m=0;m<h.length;m++){var hY=h[m][0];if(hY=="/N"){dt++;continue}var b9=m,i0=m+1;while(h[i0][0]!="/N"&&i0<h.length)i0++;
if(dt==0||dt==3){for(var gD=0;gD<i0-b9;gD++)aQ[b9+gD]=h[i0-1-gD]}else for(var gD=b9;gD<i0;gD++){var hU=aQ[gD],aW=hU[1];
hU[1]=hU[5];hU[5]=aW;aW=hU[2];hU[2]=hU[6];hU[6]=aW}m=i0-1}h=[];for(var m=0;m<aQ.length;m++){var hU=aQ[m];
h.push(hU[1],hU[2],hU[3],hU[4],hU[5],hU[6])}var be=h.length;z.moveTo(K,h[2],h[3]);for(var m=0;m<be;m+=6){var dk=h[(m+4)%be],kr=h[(m+5)%be],j9=h[(m+6)%be],bh=h[(m+7)%be],s=h[(m+8)%be],cW=h[(m+9)%be];
z.curveTo(K,dk,kr,j9,bh,s,cW)}z.closePath(K);h=[]}else if(O.endsWith("/Version"))A=parseFloat(O[0])}var hv=i.Qf();
hv.b_|=16;hv.mP("<Mesh>");var b3=hv.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));b3.strokeEnabled.v=!1;
if(R.length>=2){var gT=0,aB=0,bO=0;for(var m=0;m<R.length;m++)for(var gD=m+1;gD<R.length;gD++){var kf=R[m][0],iY=R[gD][0],gs=kf[0]-iY[0],c1=kf[1]-iY[1],gK=kf[2]-iY[2],c4=Math.sqrt(gs*gs+c1*c1+gK*gK);
if(c4>bO){bO=c4;gT=m;aB=gD}}var k6=R[gT],jk=R[aB],jt=hv.add.GdFl=a(0,[[0,k6[0]],[1,jk[0]]]),j_=v(K.ctm),kw=j_.iG(new bJ(k6[1],k6[2])),eu=j_.iG(new bJ(jk[1],jk[2])),ak=_.p.AU(K.pth.crds);
kw.x=(kw.x+eu.x)/2;kw.y=(kw.y+eu.y)/2;_.M._j(kw,eu,ak,jt)}H(hv,K.pth,i);i.d.push(hv);z.newPath(K)}function a(U,K){var k=JSON.parse(iZ.GZ[iZ.order.indexOf("GrFl")]),i=k.Grad.v;
i.Intr.v=0;k.Type.v.GrdT=["Lnr","Rdl"][U];_.M.Dd(K,i);return k}function t(U){var K=U.indexOf(")");while(U[K-1]=="\\")K=U.indexOf(")",K+1);
return U.slice(U.indexOf("(")+1,K).replaceAll("\\","")}function j(U,k){U.Rd.v=k[0]*255;U.Grn.v=k[1]*255;
U.Bl.v=k[2]*255}function e(U){var K=[];for(var m=0;m<U.length;m++)K[m]=parseFloat(U[m].slice(1));return K}function v(U){return new d3(U[0],U[1],U[2],U[3],U[4],U[5])}function L(U){return _.ug(U)}function H(U,K,i){U.add.vmsk=new p.Ew;
if(K.crds.length!=0)U.add.vmsk.a=w(K);U.Ko();U.bD(i)}function w(U){var K={j:U.crds,F:U.cmds},i=_.p.XP(K,!1);
return i}function P(U,K){var i=[],A=0,l=0;for(var z=0;z<2;z++){var h=K[["Raster","Place"][z]];if(h){for(var m=0;
m<h.length;m++){var R=h[m][["Data","PlacedObjectPreview"][z]];if(R==null)continue;var C=R._begin,G=R._end;
if(C>G)C=G;i.push([C,G])}}}i.sort(function(f4,V){return f4[0]-V[0]});var W=[K._begin];for(var m=0;m<i.length;
m++){var $=i[m],C=$[0]+32;W.push(C,$[1]);A+=$[1]-C}W.push(K._end);var O=K._end-K._begin,Y=new Uint8Array(O-A);
for(var m=0;m<W.length;m+=2){var C=W[m],B=W[m+1]-C;Y.set(new Uint8Array(U.buffer,C,B),l);l+=B}return S.IL(Y).split(/\r\n|\r|\n/)}function Q(U,K){if(U==null)return[];
var i=P(K,U),z="",h="",R=0,C;for(var m=2;m<i.length;m++){var G=i[m];if(G[0]=="%"){if(R==0)z+=G.slice(1);
else h+=G.slice(1)}else if(G==";")R++;else if(G.endsWith("/RulerOrigin ,"))C=G.split(" ").slice(0,2).map(parseFloat)}var W=[z,h],A=[];
for(var m=0;m<2;m++){var $=W[m],O=new Uint8Array($.length);S.Ok(O,0,$);var Y=FromPS.F.ASCII85Decode({buff:O,off:0}),l=dh.Qt(Y);
A.push(l)}A.push(C);return A}function x(U,K){if(U==null)return[];var i=P(K,U);i=i.slice(1);for(var m=0;
m<i.length;m++){var z=i[m];if(z[0]=="%")i[m]=z.slice(z[1]=="_"?2:1)}var h=X(i);return h}function F(U,K){var i={};
if(U==null)return i;for(var m=0;m<U.length;m++){var z=P(K,U[m]),h=z[1],R=t(h),C=h.slice(h.indexOf(")")+2).split(" ").map(parseFloat),G=[];
for(var W=2;W<z.length;W++)G.push(z[W].slice(2));i[R]={rC:C,Vb:G}}return i}function E(U,K){var i={},z,h;
if(U==null)return i;var R=[];for(var m=0;m<U.length;m++){var C=P(K,U[m]);for(var G=0;G<C.length;G++){var W=C[G];
if(W.endsWith("%_Bs")){var A=W.slice(0,W.length-4);if(!A.endsWith(" "))A+=" ";W=A+"%_BS"}if(W[0]=="("){z=t(W);
var $=W.split(")"),O=$[1].split(" ");h=parseInt(O[1])}else if(W.endsWith("%_BS")){var $=W.split(" "),f4,V=1;
$.pop();$=$.map(parseFloat);var Y=$.pop(),l=$.pop(),B=$.pop();if(B==0)f4=[$[0],$[0],$[0]];else if(B==2||B==4)f4=[$[4],$[5],$[6]];
else if(B==1||B==3)f4=L($);else if(B==6){if($.length==3)f4=[$[0],$[0],$[0]];else f4=L($);V=$.pop()}else{throw B}R.push([Y/100,f4,V,l/100])}else if(W=="BD"){for(var q=0;
q<R.length-1;q++)R[q][3]=R[q+1][3];R.sort(function(s,cW){return s[0]-cW[0]});i[z]={Wj:h,a30:R};R=[]}}}return i}function f(U){var K="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),i=Date.now(),z=0,h=[],R={Header:{}},C=[R],G=U.length;
while(z<G){var W=z;while(W!=G&&U[W]!=13&&U[W]!=10){W++}if(U[z]==37&&U[z+1]==95&&U[z+2]==37)z+=2;if(U[z]==37&&(U[z+1]==37||U[z+1]==65)){var A=S.lp(U,z,W-z);
if(A=="%%EOF")break;if(A=="%%EndComments"||A=="%EndComments"||A=="%AI5_Begin_NonPrinting"||A=="%AI5_End_NonPrinting--"||A.startsWith("%AI17_Begin_Content_if_version_gt")||A=="%AI17_End_Versioned_Content"){}else{var $=A.indexOf("Begin"),O=Math.max(A.indexOf("_End"),A.indexOf("%End"));
if($!=-1&&A[$-1]!="%"&&A[$-1]!="_")$=-1;if($!=-1){var Y=A.slice($+5).split(":")[0],l={_begin:z,_end:z},B=C[C.length-1];
if(K.indexOf(Y)!=-1){if(B[Y]==null)B[Y]=[];B[Y].push(l)}else{if(B[Y]!=null){console.log(C);throw A}B[Y]=l}C.push(l);
if(A.startsWith("%%BeginData")){W=S.xb(U,"%%EndData",z)}else if(A=="%AI9_BeginDocumentData")W=S.xb(U,"%AI9_EndDocumentData",W);
else if(A=="%AI11_BeginTextDocument")W=S.xb(U,"%AI11_EndTextDocument",W)}else if(O!=-1){if(C.length>1)C.pop()._end=z}else if(C.length==1&&(A.startsWith("%AI")||A.startsWith("%%")&&A.indexOf(" ")!=-1)){var f4=1;
if(A.startsWith("%AI"))while(A[f4]!="_"&&f4<A.length)f4++;var V=A.indexOf(":");if(V==-1)V=A.indexOf(" ");
var q=A.slice(f4+1,V),s=A.slice(V+1).trim();R.Header[q]=s}}}z=W;if(U[z]==13)z++;if(U[z]==10)z++}return R}function c(U,K){var i=Date.now(),z=new Uint8Array(U),h,R=z[2]==68;
if(K)console.log(!R?"EPS":"PDF");if(R){var C=S.xb(z,"/AIMetaData "),kr=!1,j9=!1;while(z[C]!=60)C--;C--;
var G=S.xb(z,">>",C),W=S.lp(z,C+2,G-C-2).split("/"),A=[];for(var m=0;m<W.length;m++){var $=W[m],O=$.startsWith("AIPrivateData"),Y=$.startsWith("AIPDFPrivateData");
if(!O&&!Y)continue;var l=$.trim().split(/\s+/),B=parseInt(l[1]),f4=parseInt(l[0].slice(O?13:16));A.push([f4,B])}if(K)console.log("--- map made",Date.now()-i);
i=Date.now();var V=FromPDF.indexOfXref(z),q=[],s=FromPDF.readXrefTrail(z,V,q),cW={buff:z,off:0},dk=new Array(A.length),bh=C;
for(var m=0;m<A.length;m++){var f4=A[m][0],B=A[m][1],fe=FromPDF.getIndirect(B,0,cW,q),gg=fe.buff,a$=fe["/Filter"],dg=0;
if(a$!=null&&typeof a$=="string")a$=[a$];var iv=S.lp(gg,dg,dg+20);if(iv=="%AI12_CompressedData"){dg+=20;
kr=!0}else if(iv=="%AI24_ZStandard_Data"){dg+=20;j9=!0}gg=new Uint8Array(gg.buffer,gg.byteOffset+dg,gg.length-dg);
if(a$)for(var aQ=0;aQ<a$.length;aQ++){var dt=a$[aQ];if(dt=="/FlateDecode")gg=pako.inflate(gg);else if(dt=="/ASCIIHexDecode")gg=FromPS.F.HexDecode({buff:gg,off:0});
else if(dt=="/ASCII85Decode")gg=FromPS.F.ASCII85Decode({buff:gg,off:0});else throw dt}dk[f4-1]=gg}if(K)console.log("--- arrays found",Date.now()-i);
i=Date.now();var hY=S.lp(dk[0],0,13);if(hY=="%%BoundingBox"||hY=="%AI7_Thumbnai")dk=dk.slice(1);if(hY=="%AI24_ZStanda"){dk[0]=dk[0].slice(20);
j9=!0}if(S.lp(dk[0],0,13)=="%AI12_Compres"){dk[0]=dk[0].slice(20);kr=!0}h=M(dk);if(K)console.log("--- concatenated",Date.now()-i);
i=Date.now();if(kr)h=UZIP.inflate(h);if(j9)h=cp.YW.QA(h);if(K)console.log("--- inflated",Date.now()-i);
i=Date.now()}else{var b9=S.IL(z);if(b9.indexOf("%AI5_BeginLayer")!=-1){h=z}else{var i0=b9.split(/[\n\r]+/),gD=[],hU=!1;
for(var aW=0;aW<i0.length;aW++){var be=i0[aW].trim();if(be=="%AI9_PrivateDataEnd"){hU=!1;break}else if(be=="%AI9_DataStream"||be=="%AI24_DataStream"){hU=!0}else if(hU)gD.push(be.slice(1))}var hv=S.vw(gD.join("")),b3=FromPS.F.ASCII85Decode({buff:hv,off:0});
if(b3[0]==120&&b3[1]==156)h=UZIP.inflate(b3);else h=cp.YW.QA(b3)}}return h}function M(U){var K=0,z=0;
for(var m=0;m<U.length;m++)K+=U[m].length;var i=new Uint8Array(K);for(var m=0;m<U.length;m++){var h=U[m];
i.set(h,z);z+=h.length}return i}function n(U,K){for(var m=0;m<K.length;m++)if(U.startsWith(K[m]))return!0;
return!1}function X(U){var K=[],i=[],top=-1,z,h=null,R=null,C=null,G=0;for(var W=0;W<U.length;W++){var A=U[W];
if(z){A=z+A;z=null}var $="\t".repeat(K.length);if(h!=null){h.push(A);if(A.endsWith("~>")){var O=S.vw(h.join("")),Y=FromPS.F.ASCII85Decode({off:0,buff:O});
K.push(Y);i.push(!1);top++;h=null}}else if(C!=null){if(A=="X+"){if(G==1){K.push(C);i.push(!1);top++;
C=null}else G--}else if(A=="X=")G++;else C.push(A)}else if(R!=null){if(A=="/Def ; "){K.push(R);i.push(!1);
top++;R=null}else R.push(A)}else if(A=="/Binary : /ASCII85Decode ,"){h=[]}else if(A=="X="){C=[];G++}else if(A=="/FillStyle : 0 O"){R=["0 O"]}else if(A=="/SVGFilter :"||A=="; /Def ;")continue;
else if(A.startsWith("/XMLUIDREF :")){var l=u(A);K[top][l[4]]=l[2]}else if(A.startsWith("/")&&A[1].toUpperCase()!=A[1].toLowerCase()){if(A.startsWith("/XMLUID")){var l=u(A);
if(i[top])throw"e";K[top][l[4]]=l[2]}if(A.startsWith("/GObjRef")){var l=u(A);if(l.length==7){if(i[top])throw"e";
K[top][l[5]]=l[2]}else{if(!i[top])throw"e";K[top].push(l[2])}}else{var B=A.startsWith("/Array")||A.startsWith("/Document");
K.push(B?[]:{});i.push(B);top++}}else if(A.endsWith(",")){var f4,V,l=u(A);l.pop();if(l[0]==";"||l.length==1||A==" ,"){V=K.pop();
i.pop();top--;f4=i[top]?null:l.pop()}else{f4=i[top]?null:l.pop();var q=l.pop(),s=l[0];if(q=="/Int")V=parseInt(s);
else if(q=="/Real")V=parseFloat(s);else if(q=="/Bool")V=s=="1";else if(q=="/String"||q=="/UnicodeString")V=l.join("");
else if(q=="/RealMatrix"||q=="/RealPoint"||q=="/RealPointRelToROrigin")V=l.map(parseFloat);else throw q}if(i[top])K[top].push(V);
else K[top][f4]=V}else if(A==";"){}else if(A==""){}else{if(A.indexOf("/RealPoint")!=-1){}else if(A.startsWith("(")&&A.endsWith(")")){}else if(A.endsWith("/RealMatrix")){}else throw A;
z=z?z+A:A}}return K}function u(U){var K=0,i=[];while(K<U.length){var z=U[K],h=z.charCodeAt(0);if(z==" ")K++;
else if(z==","||z==";"||z==":"){i.push(z);K++}else if(z=="("){var R=K+1;while(!(U[R]==")"&&U[R-1]!="\\"))R++;
var C=U.slice(K+1,R);i.push(C);K=R+1}else if(z=="/"||z=="-"||48<=h&&h<=57){var R=K;while(U[R]!=" ")R++;
i.push(U.slice(K,R));K=R}else throw z}return i}function I(U){var K="";for(var m=0;m<U.length;m++){if(U[m]=="_"&&U[m+1]=="x"){var cy=parseInt(U.slice(m+2,m+4),16);
K+=String.fromCharCode(cy);m+=4}else if(U[m]=="_")K+=" ";else K+=U[m]}return K}function r(U){var K="xmlnode-nodename",i="xmlnode-nodevalue",z="xmlnode-attributes",h="xmlnode-children",R=U[K],C=U[z],G=U[h],W={_nam:R};
for(var A in C){var $=C[A];if(Object.keys($[z]).length!=0||$[h].length!=0)throw"e";if($[K]!=A)throw"e";
W[A]=$[i]}if(G.length==0)return W;var O=W.cln=[];for(var m=0;m<G.length;m++)O.push(r(G[m]));return W}function J(U){var K="xmlnode-nodename",i="xmlnode-nodevalue",z="xmlnode-attributes",h="xmlnode-children",R=U[K].split(":").pop().replace("#",""),C=U[z],G=U[h],W="<"+R;
for(var A in C)if(A!="xmlns"&&A!="xmlns:v")W+=" "+A.split(":").pop()+"=\""+C[A][i]+"\"";W+=">"+(G.length==0?"":"\n");
for(var m=0;m<G.length;m++)W+=J(G[m]);if(U[i])W+=U[i];return W+"</"+R+">\n"}return g}();function fL(){}fL.Qt=function(){var g,o,k,y,d,x,F,E;
function b(z){return S.Ib(g,z)}function T(z){return S.Ha(g,z)}function a(z){return S._u(g,z)}function t(z){return S.da(g,z)}function j(z,h){var R=[];
for(var m=0;m<h;m++)R.push(a(z+m*4));return R}function e(z,h){var R=[];for(var m=0;m<h;m++)R.push(b(z+m*8));
return R}function v(z){return a((z+1)*4096-12)}function L(z){return a((z+1)*4096-8)}function H(z,o,h,R){if(y[z]==null)y[z]=[];
y[z].push([R,new Uint8Array(g.buffer,o,h)])}function w(z,h,R,C){var G=k[z],o=G*4096;o=o+a(o+4096-24-12-h*4);
var W=T(o),A=g[o+2],$=g[o+3];if(h!=A)throw A;if($==0)H(C,o+4,R,9);else{var O=T(o+6),Y=a(o+8);H(C,o+12,W-12,9);
w(Y,O,R-(W-12),C)}}function P(){var z=a(352),h=a(z*4096+128),R=a(936);k=[];y={};d={};for(var m=0;m<1e9;
m++){var C=a(R*4096+128+m*4);if(C==0)break;var G=j(C*4096+128,4096-128-12>>>2);k=k.concat(G)}for(var W=0;
W<k.length;W++){var A=k[W],$=v(A);if($!=6)continue;var o=A*4096,O=a(o);o+=4;for(var m=0;m<O;m++){var Y=a(o);
o+=4;var l=a(o);o+=4;var B=a(o);o+=4;var f4=a(o);o+=4;if(Y==0)d[l]=B;else{var V=B&65535,q=B>>>16;if(q==0)H(l,f4*4096,V,8);
else w(f4,q,V,l)}}}var x={};for(var s in y){var cW=y[s],dk=cW.length;if(dk==1)x[s]=cW[0][1];else{var kr=0,o=0;
for(var m=0;m<dk;m++)kr+=cW[m][1].length;var j9=x[s]=new Uint8Array(kr);for(var m=0;m<dk;m++){j9.set(cW[m][1],o);
o+=cW[m][1].length}}}return x}function Q(o,z){var h=z?a(o):T(o),R="";o+=z?4:2;while(R.length<h){var C=g[o++],G=g[o++],W=0,A="";
C+=(G&15)*256;G=G&240;for(var m=0;m<C;m++){if(G==64)W=g[o++];else if(G==128)W=g[o++]|g[o++]<<8;else throw G;
A+=String.fromCharCode(W)}R+=A}return[R,o]}function f(o,z,h){var R=j(o,z);for(var m=0;m<z;m++){h.push(m);
if(R[m]>F)throw"e";R[m]=M(R[m],h);h.pop()}return R}var c={};function M(z,h){if(E.indexOf(z)!=-1)return x[z];
if(z==0)return null;if(x[z]==null)return null;if(!(x[z]instanceof Uint8Array))return x[z];var R=g,o=0;
g=x[z];E.push(z);var C=d[z].toString(16),G=x[z]={_type:i[C]?i[C]+":"+C:"typ-"+C,_eid:z};while(o+8<g.length){var W=a(o);
o+=4;var A=W.toString(16),$=a(o);o+=4;var O=o+$;if(o+$>g.length){G._bin=g;break}n(A,r,G,o,$,h);o=O}g=R;
E.pop();return G}function n(z,h,R,o,C,G){var W=h[z+":"+R._type];if(W==null)W=h[z];G.push(W?W[0]==""?z:W[0]:z);
if(W){var A=W[0],$=null,O=W[1];if(A=="")A=O+"-"+z;if(U[O]&&C!=U[O]){console.log(O);console.log(z,W);
console.log(g.slice(o,o+C));throw"e"}if(O=="mat")$=e(o,6);else if(O=="mmat")$=[M(a(o),G),e(o+6,6)];else if(O=="rect")$=e(o,4);
else if(O=="mrct"){$=e(o,4);$.push(T(o+32))}else if(O=="doub")$=b(o);else if(O=="pointArr"){var Y=T(o);
$=j(o+2,Y*2)}else if(O=="usrt")$=T(o);else if(O=="uint")$=a(o);else if(O=="pntr"||O=="ptr6"){$=M(a(o),G)}else if(O=="bool2"){if(T(o)!=0&&T(o)!=1)throw T(o);
$=T(o)==1}else if(O=="bool4"){if(a(o)!=0&&a(o)!=1)throw z+","+a(o);$=a(o)==1}else if(O=="color"){if(C!=38&&C!=30)throw C;
var l=a(o),B=T(o+4);$=[l];for(var m=0;m<B;m++)$.push(b(o+6+m*8))}else if(O=="path"){var f4=o+C;$=[];
var V=a(o);o+=4;for(var m=0;m<V;m++){var q=[[]];$.push(q);var s=a(o);o+=4;for(var cW=0;cW<s;cW++){var l=a(o);
o+=4;if(l<2){q[0].push([l,b(o),b(o+8),b(o+16),b(o+24),b(o+32),b(o+40)]);o+=48}else if(l==2){q[0].push([l,b(o),b(o+8)]);
o+=16}else throw l}q.push(T(o));o+=2}}else if(O=="ptrAndList"){var dk=a(o),kr=a(o+4);$=f(o+8,kr,G);$.unshift(M(dk,G))}else if(O=="ptrArray"||O=="ptrArrayX"){var j9=C>>2;
if(O=="ptrArray"){j9=a(o);o+=4;if(C!=4+j9*4)throw C}$=f(o,j9,G)}else if(O=="ptrArray2"){var j9=a(o);
o+=4;$=f(o,j9,G);o+=j9*4;j9=a(o);o+=4;$.push(f(o,j9,G))}else if(O=="cldrn"){var bh=a(o),fe=a(o+4),j9=a(o+8);
$={b:M(bh,G),rD:M(fe,G),eX:f(o+12,j9,G)};if(C!=12+j9*4){console.log(z,sa);throw"e"}if(bh==0)throw bh}else if(O=="aprnc"){var j9=a(o);
o+=4;$={};for(var m=0;m<j9;m++){var gg=a(o),a$=T(o+4),dg=T(o+6);o+=8;var iv=K[gg.toString(16)];if(iv==null)iv="prm-"+gg.toString(16);
else iv=I(iv);$[iv]=[];for(var cW=0;cW<dg;cW++){var aQ=a(o),dt=T(o+4),hY=null;o+=6;if(aQ==28264)hY=b(o);
else if(aQ==28263)hY=a(o);else if(aQ==279)hY=M(a(o),G);else if(aQ==28261)hY=T(o)==1;else if(aQ==28265)hY=[b(o),b(o+4)];
else if(aQ==83231)hY=Q(o+3)[0];else if(aQ==28259||aQ==28260||aQ==23094||aQ==67679){hY=g.slice(o,o+dt)}else throw aQ.toString(16);
$[iv].push(hY);o+=dt}}}else if(O=="lopts"){$={ajA:T(o+0)==1,show:T(o+2)==1,acP:T(o+4)==1,hg:a(o+10),name:Q(o+21)[0]}}else if(O=="origin"){var f4=o+C;
if(g[o++]!=1)throw"e";var Y=a(o);o+=4;var b9=S.lp(g,o,Y);o+=Y;if(g[o++]!=1)throw"e";var i0=g[o++];if(i0!=1&&i0!=53)throw i0;
var gD=T(o);o+=2;if(gD!=0&&gD!=1)throw gD;var hU=a(o);o+=4;if(hU!=0&&hU!=1)throw hU;var aW=a(o);o+=4;
if(aW!=0&&aW!=2&&aW!=3)throw aW;var be=a(o);o+=4;var hv=Q(o,!0);o=hv[1];hv=hv[0];var b3=a(o),gT=a(o+4);
o+=8;var aB=a(o);o+=4;if(aB!=0)throw aB;var bO=a(o);o+=4;o+=3;var kf=Q(o)[0];o+=2+2+kf.length;$={file:b9,id:hv,dv:kf}}else if(O=="string")$=Q(o+3)[0];
else if(O=="relEnt"){var iY=T(o);o+=2;$=[];for(var m=0;m<iY;m++)$.push([a(o+m*8),M(a(o+m*8+4),G)])}else if(O=="textData"){var f4=o+C,gs=a(o);
o+=4;var gg=a(o);o+=4;var B=T(o);o+=2;var c1=[];for(var m=0;m<B;m++){var gK=a(o);o+=4;if(gs==514)c1.push(Q(o,!0)[0]);
else if(gs==515){var c4=a(o),z=a(o+4),k6=X(o+8,G);c1.push([c4,M(z,G),k6])}else if(gs==516){var c4=a(o),z=a(o+4),jk=T(o+8),k6=X(o+8,G);
c1.push([c4,M(z,G),k6])}else c1.push(g.slice(o,o+gK));o+=gK}if(f4-o!=12)throw f4-o;$=c1}else if(O=="storyProps"){var jt=a(o);
if(T(o+4)>1)throw"e";var j_=M(a(o+6),G),B=a(o+10),kw=M(a(o+14+B*4),G);$={al8:jt,a5U:j_,eX:f(o+14,B,G),a7P:kw,a5c:j(o+14+B*4+4,4)}}else if(O=="styleProps")$=X(o,G);
else if(O=="bounds"){var eu=o,iY=a(o);o+=4;$=[];for(var m=0;m<iY;m++){var ak=[];$.push(ak);for(var cW=0;
cW<4;cW++)ak.push(b(o+cW*8));o+=32;ak.push(g[o]);o++}if(o!=eu+C)throw"e"}else if(O=="columnPos"){var iY=a(o);
o+=4;$=[e(o,iY),b(o+iY*8)];o+=iY*8+8}else if(O=="StyleName"){$=[a(o+4)]}else if(O=="fontName"){var f4=o+C;
$=[T(o)];o+=2;for(var m=0;m<2;m++){var b9=Q(o+3);o=b9[1];$.push(b9[0])}$.push(a(o));o+=4;var cY=T(o);
o+=2;$.push(cY);var bG=T(o);o+=2;var j5=[];$.push(j5);for(var hI=0;hI<bG;hI++){var jJ=[];j5.push(jJ);
var b9=Q(o+3);o=b9[1];jJ.push(b9[0]);var ca=T(o);o+=2;var b9=S.lp(g,o,ca);o+=ca;jJ.push(b9);for(var m=0;
m<3;m++){var b9=Q(o+3);o=b9[1];jJ.push(b9[0])}jJ.push(a(o));o+=4;var b9=Q(o,!0);o=b9[1];jJ.push(b9[0])}if(o+4!=f4)throw"e";
$.push(a(o))}else throw O;if(R[A]!=null){console.log(A,R[A],$);console.log(G.slice(0));console.log(eid,z,o,R[A],W,$);
throw"e"}R[A]=$}else{var gI=g.slice(o,o+C);R["prop-"+z]=gI}G.pop()}function X(o,z){var h=T(o);o+=2;var R={};
for(var m=0;m<h;m++){var C=a(o);o+=4;var G=C.toString(16),W=T(o);o+=2;var A=T(o);o+=2;for(var $=0;$<A;
$++){var O=a(o);o+=4;var Y=T(o);o+=2;n(G,J,R,o,Y,z);o+=Y}}return R}function u(z){g=new Uint8Array(z);
x=P();var h=x[2147483649];h=S.IL(h,4,h.length-4);delete x[2147483649];F=0;for(var R in x)F=Math.max(F,parseInt(R));
E=[];var C={};for(var R in x)C[R]=x[R];for(var R in x)M(parseInt(R),[]);return x}function I(z){z=z.split(" ").join("");
return z[0].toLowerCase()+z.slice(1)}var r={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},J={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},U={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},K={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},i={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return u}();function au(){}au.Qt=function(){var g=0;function o(j,e){var v=fL.Qt(j),I=1;g=0;var L=v[1],H=L.spreads,w=[],P=new bd;
for(var Q=0;Q<H.length;Q++){var x=H[Q],F=x.children.eX,E=y(x),f=F[0].children.eX,c=new bd;for(var M=0;
M<f.length;M++){var n=f[M],X=y(n);X.concat(E);var u=k(n);u.offset(X.ii,X.xF);u=_.p.Ze(u);c=c.gO(u)}w.push(c);
P=P.gO(c)}while(Math.sqrt(P.O())*I<1e3)I++;e.m=P.m*I;e.n=P.n*I;e.buffer=new Uint8Array(4*e.m*e.n);e.Hi=!0;
e.Bu(H.length);for(var Q=0;Q<H.length;Q++){var x=H[Q],F=x.children.eX,r=e.Qf();r.b_=24;r.add.lsct=cK.TD;
r.mP("Artboard "+(Q+1));var J=w[Q].clone();J.offset(-P.x,-P.y);J.x*=I;J.y*=I;J.m*=I;J.n*=I;J=_.p.Ze(J);
r.P2(J);r.HW="pass";e.d.push(e.L0());var E=y(x);E.translate(-P.x,-P.y);E.scale(I,I);var U={};for(var K=0;
K<F.length-1;K++){var i=F[K],z=i.children.eX,h=e.Qf(),R=i.layer.lopts;if(R.name=="Internal_pages_layer_name"||U[R.name])continue;
U[R.name]=!0;h.b_=24;h.add.lsct=cK.TD;h.mP(R.name);h.qj(R.show);if(R.ajA)h.add.lspf=1<<31;h.HW="pass";
e.d.push(e.L0());for(var m=0;m<z.length;m++)T(z[m],e,E,v);e.d.push(h)}e.d.push(r)}}function k(j){var e=j.rect;
return new bd(e[0],e[1],e[2]-e[0],e[3]-e[1])}function y(j){var e=j.transform;return new d3(e[0],e[1],e[2],e[3],e[4],e[5])}function d(j){var e=j.color,v=j.parentFill,H;
if(e==null&&v)e=v.color;if(e==null){console.log("strange color",j);return[0,0,0]}var L=e[0];if(L==5)H=e.slice(1);
else if(L==6)H=UDOC.C.cmykToRgb(e.slice(1));else if(L==7){var w=_.Mg(e[1],e[2],e[3]);H=[w.o/255,w.C/255,w.k/255]}else{console.log(e);
throw L}return H}function b(j,e){var m=0,v=0;while(v+j[m][0]<=e){v+=j[m][0];m++}j=j[m][1].textData;m=0;
while(v+j[m][0]<=e){v+=j[m][0];m++}return j[m]}function T(j,e,v,L){var H=j.transform?y(j):new d3;H.concat(v);
v=H;var w=j.path,P=j.appearance,Q=j.visible,x=j.children?j.children.eX:null,F=e.Qf();if(Q!=null)F.qj(Q);
var E=x&&x.length==1&&x[0].bitmapFill,f=j["bool2-1623"]&&x&&x.length==1&&x[0].rect&&x[0]._type.startsWith("TextFrame");
if(E){F.mP("bitmap");var c=x[0],M=k(c),n=y(c);n.concat(v);var X=c.bitmapFill.bitmap;X=L[X]._bin;if(X.length!=X.buffer.byteLength)X=X.slice(0);
var u=e.Es(X,"img.jpg",0,0);u.b_=F.b_;F=u;var I=[0,0,M.m,0,M.m,M.n,0,M.n];_.p.D(I,n,I);F.add.SoLd.Trnf=D.C8.sY(I);
F.add.SoLd.nonAffineTransform=D.C8.sY(I);F.tq(e,!1);var r=c.path;if(r&&r.length!=0)F.add.vmsk=t(r,n,P);
else if(w&&w.length!=0)F.add.vmsk=t(w,v,P);F.Ko();F.bD(e)}else if(f){if(P&&P.strokeSwatch){var J=e.Qf();
a(J,e,P,w,v);e.d.push(J)}var U=x[0],M=k(U),n=y(U),q=0;n.concat(v);var K=U.children.eX[0],i=K.obj228,z=i[0].story[1],h=z.stoProps.a5U.relEnt,R=z.stoProps.eX[0].relEnt,C=z.stoProps.eX[1]["ptrArrayX-210"][0].textData,G=L[h[0][1].textData[0][1].name[0]],W=G?G.styProps:{};
C=C.join("").replace(/\r/g,"\n");var A=-1;while((A=C.indexOf("\uFFFC"))!=-1){C=C.slice(0,A)+(C[A-1]=="\n"?" ":" ")+C.slice(A+1)}F.mP(C.slice(0,255));
F.add.lnsr="rend";F.add.TySh=bw.j_(0,0);F.add.TySh.Rt=M;F.add.TySh.D=n;var $=F.add.TySh.O7;bw.pj($,0,C);
var O=bw.DE($,0,C.length);O.RY.FontSize=10;bw.SX($,0,C.length,O);var Y=[];if(C.length!=0){var l=b(h,0),B=b(R,0),f4=1;
for(var m=1;m<C.length;m++){var w=b(h,m),V=b(R,m);if(w!=l||V!=B){Y.push(f4);f4=0}l=w;B=V;f4++}if(f4!=0)Y.push(f4)}for(var m=0;
m<Y.length;m++){var s=b(R,q),cW=Y[m],dk=Math.min(q+cW,C.length-1),kr=s[2],j9=s[1].styProps;if(j9==null)j9={};
var bh=b(h,q),fe=bh[1].styProps,gg=bh[2],a$={};for(var dg in W)a$[dg]=W[dg];for(var dg in fe)a$[dg]=fe[dg];
for(var dg in gg)a$[dg]=gg[dg];for(var dg in j9)a$[dg]=j9[dg];for(var dg in kr)a$[dg]=kr[dg];var O=bw.DE($,q,dk),iv=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],aQ=iv.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var dt=0;dt<aQ.length;dt++){var dg=aQ[dt],hY=dt<iv.length?O.RY:O.by;if(a$[dg]!=null)hY[dg]=a$[dg]}if(a$.fillColor){var b9=d(a$.fillColor);
O.RY.FillColor={Type:1,Values:[1].concat(b9)}}if(a$.font){var i0=a$.font.name[5],gD=a$.fontStyle;if(gD==null)gD="Regular";
for(var hU=0;hU<i0.length;hU++)if(i0[hU][0]==gD)bw.nx(O,i0[hU][1])}if(a$.leading!=null&&a$.leading>1){O.RY.Leading=a$.leading;
O.RY.AutoLeading=!1}if(a$.align!=null)O.by.Justification=[0,2,1,6,3,5,4,0,0,0][a$.align];bw.SX($,q,dk,O);
q+=cW}bw.ms($,1);bw.Y$($,[0,0,Math.round(M.m),Math.round(M.n)])}else if(j._type.startsWith("Path")&&(x==null||x.length==0)&&w){a(F,e,P,w,v)}else{var aW=j["prop-14526"];
if(x==null&&aW){var be=L[S._u(aW,20)];x=[be]}if(x){if(w&&w.length!=0){F.add.vmsk=t(w,v,P);F.Ko();F.bD(e)}F.mP("group");
F.b_=24;F.add.lsct=cK.TD;e.d.push(e.L0());for(var m=0;m<x.length;m++)T(x[m],e,v,L)}}if(P){var hv=P.objectBlendingMode,b3=P.objectOpacity,gT=P.fillTint;
if(hv)F.HW="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[hv[0]];
if(b3)F.opacity=Math.round(F.opacity*b3[0]/100);if(!E&&gT)F.opacity=Math.round(F.opacity*gT[0]/100)}if(j.name)F.mP(j.name);
else if(P&&P.name)F.mP(P.name[0]);e.d.push(F)}function a(j,e,v,L,H){j.mP("path");j.b_|=16;var w=j.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default)),P=[0,0,0];
if(v){var Q=v.strokeSwatch,x=v.fillSwatch,F=v.strokeWeight;w.strokeEnabled.v=Q!=null;w.fillEnabled.v=x!=null;
if(Q){w.strokeStyleLineWidth.v.val=F?F[0]:1;P=d(Q[0]);w.strokeStyleContent.v.Clr.v=_.M.UF({o:P[0]*255,C:P[1]*255,k:P[2]*255})}if(x){P=d(x[0])}}j.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:P[0]*255,C:P[1]*255,k:P[2]*255})}};
j.add.vmsk=t(L,H,v);j.Ko();j.bD(e)}function t(j,e,v){var L=new p.Ew,H=L.a;for(var w=0;w<j.length;w++){var P=j[w],Q=P[0].length,x=P[1]==0,F=x?0:3;
H.push({type:F,length:Q,dJ:0,Pj:2,nB:0,tH:0});for(var m=0;m<Q;m++){var E=P[0][m],f=E[0],c=new bJ(E[1],E[2]),M=new bJ(E[3],E[4]),n=new bJ(E[5],E[6]);
if(f==0||f==1)H.push({type:F+2,Tp:c,H:M,dt:n});else if(f==2)H.push({type:F+2,Tp:c,H:c,dt:c});else throw f}}_.w.cs(H,e);
return L}return o}();var D={};D.V=function(g){return window.devicePixelRatio||1};D.hC=function(g,o){return(o.aa7=="touch"?12:8)*D.V()/g.u.N};
D.L8=function(g,o,k){this.name=g;this.id=o;this.mW=null;if(k!=null)this.eh=k};D.L8.prototype.Ae=function(g,o,k,y,d){};
D.L8.prototype.enable=function(g,o,k,y,d,b){var T=new jB(N.E.s,!0);T.data={P:N.b.ih,f8:"default"};o.S(T)};
D.L8.prototype.disable=function(g,o,k,y,d){};D.L8.prototype.aw7=function(g,o,k,y,d){return!1};D.L8.prototype.Hu=function(g,o,k,y,d){};
D.L8.prototype.OZ=function(g,o,k,y,d){};D.L8.prototype.Sa=function(g,o,k,y,d){};D.L8.prototype.b9=function(g,o,k,y,d,b){};
D.L8.prototype.sF=function(g,o,k,y,d){};D.L8.prototype.Zl=function(g,o,k,y){};D.L8.prototype.jF=function(g,o,k,y){};
D.L8.prototype.qw=function(g,o){};D.L8.prototype.YZ=function(g,o){};D.L8.prototype.mz=function(g,o,k,y,d){};
D.L8.prototype.mt=function(g,o){};D.L8.prototype.xg=function(g,o){return!1};D.L8.prototype.qd=function(g,o){return!1};
D.L8.prototype.tt=function(){return!1};D.L8.prototype.ns=function(g,o){return!0};D.L8.prototype.PT=function(){return null};
D.L8.prototype.b4=function(g,o,k){};D.L8.prototype.a9w=function(){return!1};D.L8.prototype.md=function(g,o,k,y){};
D.L8.prototype.track=function(g){var o=new jB(N.E.gp,!0);o.data=g;g.Qa=!0;this.mW.S(o)};D.L8.eU=function(g,o,k,y){var d=10*D.V()*(g.aa7=="touch"?2:1),b=g.x+d,T=g.y-d,a=_.bt.m4(o.m,k.Qb,y,k.m,!0),t=_.bt.m4(o.n,k.Qb,y,k.n,!0);
while(a.length<t.length)a=" "+a;while(a.length>t.length)t=" "+t;D.L8.Y0(b,T,[d9.get([12,41]).charAt(0)+": "+a,d9.get([12,42]).charAt(0)+": "+t],k)};
D.L8.Y0=function(g,o,k,y){function d(j,P,Q,x,F,E){j.beginPath();j.moveTo(P,Q+E);j.arcTo(P,Q+F,P+E,Q+F,E);
j.arcTo(P+x,Q+F,P+x,Q+F-E,E);j.arcTo(P+x,Q,P+x-E,Q,E);j.arcTo(P,Q,P,Q+E,E)}var b=D.V(),T=Math.round,a=T(11*b),t=D.L8.amg,e=0;
if(t==null)t=D.L8.amg=document.createElement("canvas");var j=t.getContext("2d");j.font=a+"px monospace";
for(var m=0;m<k.length;m++)e=Math.max(e,j.measureText(k[m]).width);var v=T(e+12*b),L=T((k.length*14+5)*b),H=new bd(g,o-L,v,L);
if(t.width!=v||t.height!=L){t.width=v;t.height=L;j.font=a+"px monospace"}j.clearRect(0,0,v,L);j.fillStyle="rgba(0,0,3,0.8)";
d(j,0,0,v,L,T(4*b));j.fill();j.fillStyle="rgba(255,255,255,1)";for(var m=0;m<k.length;m++)j.fillText(k[m],T(6*b),T((m+1)*13*b));
var w=[j.getImageData(0,0,v,L).data,H.clone()];if(y)y.I.Cq=[w];return w};D.L8.amg=null;D.fL="0";D.ng="1";
D.ayT="2";D.aqq="3";D.mv="5";D.a7U="6";D.aoe="7";D.Q5="8";D.AC="9";D.Aq="10";D.GN="11";D.UO="12";D.Ms="13";
D.Z1="14";D.w6="16";D._Y="18";D.lj="19";D.DX="20";D._g="21";D.vi="22";D.Bj="23";D.UW="24";D.Jj="25";
D.Cj="27";D.gI="31";D.agz="32";D.Jr="34";D.aby="35";D.NL="36";D.zv="37";D.Ba="38";D.Io="39";D.f3="40";
D.jI="41";D.Wh="42";D.B7="43";D.acw="44";D.uk="47";D.RC="48";D.WH="51";D.lz="52";D.XV="54";D.Xb="55";
D.QJ="56";D.qD="57";D.CL="58";D.vA="59";D.rp="60";D.aC="61";D.IC="70";D.nK="100";D.pi="101";D.Lv="102";
D.z0="103";D.gX="120";D.p4="230";D.aao="231";D.C1="232";D.Jn="233";D.sp="234";D.Gc="235";D.ka="236";
D.a0n=function(g){var o=D.Sg,k=null;for(var y in o)if(o[y][1].indexOf(g[1].classID)!=-1)k=y;return k};
D.Sg={};D.Sg[D.Bj]=["tools/brush",["PbTl"]];D.Sg[D.UW]=["tools/pencil",["PcTl"]];D.Sg[D.gI]=["tools/eraser",["ErTl"]];
D.Ak=function(g,o,k){D.L8.call(this,g,o,k);this.lI={brush:g?jl.bZ():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.eM=null;this.nd=null;this.Sk=null;this.KC=null;this.wX=null;this.Lp=null;this.Qy=null;this.eY=null;
this.QT=null;this.EQ=null;this.q2=null;this.qk=null;this.J2=null;this.CA=1;this.tg=!1;this.e4=null;this.caller=null};
D.Ak.prototype=new D.L8;D.Ak.prototype.qd=function(g,o){return g._J&&o.z(dj.d_)};D.Ak.prototype.OZ=function(g,o,k,y,d){if(y.z(dj.M4)){this.Lp=new bJ(d.x,d.y);
var b=this.lI.brush.Brsh.v,T=b.Dmtr.v.val,a=b.Hrdn!=null?b.Hrdn.v.val:-1;this.Qy=[T,a,!0,JSON.parse(JSON.stringify(this.lI.brush)),d];
this.Xd(k)}};D.Ak.prototype.dE=function(g,o,k){var y=this.Qy,d=g.u.N,b=k.x-y[4].x,T=k.y-y[4].y,a=y[0],t=y[1],j=Math.abs(b)>Math.abs(T);
if(j&&y[2]){var e=Math.round(2*b/d);a+=e;k.x-=b-.5*e*d}if(!j&&!y[2]&&t!=-1){var e=Math.round(.25*T);
t+=e;k.y-=T-4*e}a=Math.max(1,a);t=y[1]==-1?-1:Math.max(0,Math.min(100,t));var v=y[3];v.Brsh.v.Dmtr.v.val=a;
if(t!=-1)v.Brsh.v.Hrdn.v.val=t;this.Qy=[a,t,j,v,k];var L=e9.YI(v,o.uq.sc,d),H=L[1];H.x=Math.round(this.Lp.x-H.m/2);
H.y=Math.round(this.Lp.y-H.n/2);g.I.Vn=[L];var w=g.u.mp(this.Lp.x,this.Lp.y);g.I.iq={wK:[],Lh:[w.x-a/2,w.y,w.x+a/2,w.y]};
if(t!=-1)g.I.iq.Lh.push(w.x+50/d,w.y-t/2,w.x+50/d,w.y+t/2);g.nM=!0};D.Ak.prototype.sF=function(g,o,k,y,d){if(this.id==D.DX||this.id==D._g)return;
if(this.Lp){this.Lp=null;this.jw(JSON.parse(JSON.stringify(this.Qy[3])));g.I.Vn=[];g.I.iq=null;g.nM=!0;
return}var b=new jB(N.E.s,!0);b.data={P:N.b.l3,G:this.id,awX:"showBrushOpts",Kl:new bJ(d.qh+4,d.ko)};
o.S(b)};D.Ak.prototype.jw=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.pB,Q6:er.Un,Bm:g};this.caller.S(o)};
D.Ak.t3=function(g,o,k,y,d,b){if(g==null)g="FrgC";if(o==null)o="norm";if(k==null)k=1;if(d==null)d=!1;
var T={classID:"Fl",Usng:{t:"enum",v:{FlCn:g}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(k*100)}},PrsT:{t:"bool",v:d},Md:{t:"enum",v:{BlnM:h8.w3(o)}}};
if(g=="Clr")T.Clr={t:"Objc",v:y};if(g=="contentAware")T.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(g=="Ptrn")T.Ptrn={t:"Objc",v:b};return{J5:"fill",fV:T}};D.Ak.prototype.Ae=function(g,o,k,y,d){this.mW=o;
var b=k.kD.length;if(b==0&&!k.q0())return;var T=b!=0?-1-k.kD[0]:k.g[0],a=k.d[T];if(g.P=="fromAction"){var t=g.A3,j=t.fV;
if(j&&j.null&&j.null.v[0]&&j.null.v[0].v.classID=="Path"){var e=k.uM(),v=e[0],L=e[1],H=v[L.length==0?0:L[0]].add.vmsk;
if(t.J5=="fill"){var w=H.Qp(),P=d.p2,Q=this.lI,x=P>>16&255,F=P>>8&255,E=P>>0&255;this.UM(k,a,w,x,F,E,Math.round(Q.opacity*255),Q.bmode,"Fill Path")}else{for(var f=0;
f<1e3;f++){var c=_.w.SO(H.a,f,!0);if(c==-1){this.b9(k,o,d,y,null);break}var M=H.a[c],n=H.a.slice(c,c+1+M.length),X=_.p.rR(n,!0).j,u=X.slice(0,8);
for(var I=8;I<X.length;I+=6)u.push(X[I-2],X[I-1],X[I],X[I+1],X[I+2],X[I+3],X[I+4],X[I+5]);var r={};r.Points=u;
r.TextOnPathTRange=H.zA.slice(0);var r=dR.AK(r,2,M.type==3),J=r[0];if(f==0)this.Hu(k,o,d,y,k.u.gk(J[0],J[1]));
else this.nd.moveTo(J[0],J[1]);var U=J.length,K=M.type==0?U+2:U;for(var m=2;m<K;m+=2){var i=k.u.gk(J[m%U],J[(m+1)%U]);
i._J=!0;this.Sa(k,o,d,y,i,this.lI.flow)}this.nd.finish();this.Z7(k)}}}else if(t.J5=="fill"){var z=j.PrsT?j.PrsT.v:!1,h=a?a.add.lspf:0;
if(z&&a){a.add.lspf=h==null?1:h|1}var R=(j.Opct?j.Opct.v.val:100)/100,C=j.Md?h8.O8(j.Md.v.BlnM):"norm",G=j.Usng.v.FlCn;
if(G=="contentAware"){if(k.J==null){alert("Select an area to heal first.");return}if(!k.q0())return;
this.XB(k);this.nI(k,0);var W=k.J,A=_.Q(W.rect.O()*4);_.e_(W.channel,A,3);this.yX(k,"sheal",A,W.rect,W.rect);
this.U(k,W.rect);this.finish(k,W.rect)}else if(G=="Ptrn"){var $=d.A6,O=k.J?k.J.rect.clone():new bd(0,0,k.m,k.n),Y=_.Q(O.O()*4);
bs.A8(j,Y,O,$,new bJ(0,0));this.Ue(k,a,k.J,Y,"norm",[6,48,0,2])}else{var P;if(G=="FrgC")P=d.p2;else if(G=="BckC")P=d.Pp;
else if(G=="Blck")P=0;else if(G=="Wht")P=16777215;else if(G=="Gry")P=8421504;else if(G=="Clr"){var l=_.M.sL(j.Clr.v);
P=l.o<<16|l.C<<8|l.k}var x=P>>16&255,F=P>>8&255,E=P>>0&255;this.UM(k,a,k.J,x,F,E,Math.round(255*R),C,[2,3])}if(z&&a){a.add.lspf=h==null?0:h}}else if(t.J5=="delete"){var B=T<0?1:a.W1,W=k.J,s;
if(W==null)return;var f4=T<0?k.Tm[-T-1]:B<=0?null:B==1?a.Qp():a.lQ(k).v,O=B<=0?a.rect:f4.rect,V=B<=0?W.rect.Nm(O):W.rect.clone();
if(V.on())return;var q=V.O();if(B<=0){s=_.Q(q*4);_.g1(a.buffer,a.rect,s,V)}else{s=_.Q(q);f4.extend(V);
_.sQ(f4.channel,f4.rect,s,V)}if(0<=T&&a.b8(k,W)){if(B<=0){_.Sm(s,0);_.g1(a.Dq.rC,a.Dq.YF,s,V)}else{s.fill(255);
_.sQ(a.Dq.rC,a.Dq.YF,s,V)}}else{if(B<=0){var cW=_.Q(s.length>>2);_.B4(s,cW,3);_.l.F_(_.o7(W.rect.O()),W.rect,cW,V,W.channel,V,1);
_.e_(cW,s,3)}else{var dk=_.Q(W.rect.O()),x=d.Pp>>>16&255,F=d.Pp>>8&255,E=d.Pp>>0&255;dk.fill(Math.round(_.pM(x,F,E)));
_.l.F_(dk,W.rect,s,V,W.channel,V,1)}}this._1(k,!0,[2,2],T,B,V,s)}}if(g.P=="stroke"){var kr=g.a7I,W=k.J;
if(W==null){W={rect:a.rect.clone(),channel:_.Q(a.rect.O())};_.B4(a.buffer,W.channel,3)}var j9=bs.LN(kr),bh=D.qT.ace(W,Math.ceil(j9[0]),Math.ceil(j9[1])),P=_.M.sL(kr.Clr.v),x=Math.round(P.o),F=Math.round(P.C),E=Math.round(P.k);
this.UM(k,a,bh,x,F,E,Math.round(255*kr.Opct.v.val/100),h8.O8(kr.Md.v.BlnM),[14,9])}if(g.P=="fillBMP"){this.Ue(k,a,k.J,g.lU,g.nG,g.Y5)}if(g.P=="draw"){var fe=g.gj,gg=fe.rect;
this.XB(k);var a$=k.d[k.g[0]];if(g.ajg&&a$&&a$.W1<=0&&k.kD.length==0){gg=D.WX.a15(fe,k);a$.buffer=fe.buffer.slice(0);
a$.rect=gg.clone()}else{var dg=this.lI.bmode;this.lI.bmode="norm";this.yX(k,"draw",fe.buffer,gg,gg.Nm(new bd(0,0,k.m,k.n)));
this.lI.bmode=dg}this.U(k,gg);k.Qr=!0;this.finish(k,gg,g.Y5,g.ajg)}};D.Ak.prototype.UM=function(g,o,k,y,d,b,T,a,t){var j=k==null?new bd(0,0,g.m,g.n):k.rect,e=T<<24|b<<16|d<<8|y<<0,v=_.Q(j.O()*4);
_.Sm(v,e);this.Ue(g,o,k,v,a,t)};D.Ak.prototype.Ue=function(g,o,k,y,d,b){var T=g.kD.length!=0?-1-g.kD[0]:g.g[0],a=T<0?1:o.W1,t=T<0?g.Tm[-1-T]:a<=0?null:a==1?o.Qp():o.lQ(g).v,j=a<=0?o.rect:t.rect,e=k==null?new bd(0,0,g.m,g.n):k.rect,v=k==null?_.Fw(g.m*g.n):k.channel;
if(k!=null)_.i1(v,y);var L=e.O(),H=_.Q(L*4);if(a<=0)_.g1(o.buffer,o.rect,H,e);else{t.extend(e);H.fill(255);
_.yr(t.Wg(e),H)}if(0<=T&&k&&o.b8(g,k)&&a<=0){var w=o.Dq.kU,P=o.Dq.kU.slice(0);if(a<=0)_.QF(y,P);else _.QF(fullc,P);
var Q=new cc([2,3],this);Q.data={P:"drawtemp",i:g.g[0],jc:a,adL:w,ast:P};g.DU(Q);this.qw(Q.data,g)}else{if(a<=0){var x;
if(o.RA(0)){x=_.Q(e.O());_.B4(H,x,3)}_.l.I3(d,y,e,H,e,e,1);if(o.RA(0))_.e_(x,H,3)}else{_.l.I3(d,y,e,H,e,e,1);
var F=_.Q(L);_.h4(H,F);H=F}this._1(g,!0,b,T,a,e,H)}};D.Ak.prototype.xg=function(g){if(dj.lm.indexOf(g)!=-1)return!0;
return!1};D.Ak.prototype.Zl=function(g,o,k,y){var d=this.lI.brush,b=y.z(dj.M4),T=b!=this.tg,a=D.Ak.s0(d,y);
if(a!=null)this.jw(a);if(!y.z(dj.IQ)&&y.Xo()!=-1){var t=dj.t1(Math.round(this.lI.opacity*100),y.Xo())/100;
this.x0({opacity:t},o)}if(this.id==D.Q5&&T&&g!=null){var j=this.lI.qsmode;if(j==2)j=g.J==null?0:1;else j=2;
this.x0({qsmode:j},o)}this.tg=b;if(T){if(g)this.CA=g.u.N;this.Xd(k,y)}};D.Ak.s0=function(g,o){var k=g.Brsh.v.Dmtr.v.val,y=g.Brsh.v.Hrdn!=null?g.Brsh.v.Hrdn.v.val:-1,d=k,b=y,T=o.z(dj.d_);
if(o.z(dj.Ai)){if(T)y=25*Math.floor((y-1)/25);else{if(k<=10)k--;else if(k<=50)k=5*Math.floor((k-1)/5);
else if(k<=100)k=10*Math.floor((k-1)/10);else if(k<=200)k=25*Math.floor((k-1)/25);else if(k<=400)k=50*Math.floor((k-1)/50);
else k=100*Math.floor((k-1)/100)}}if(o.z(dj.nL)){if(T)y=25*Math.ceil((y+1)/25);else{if(k<10)k++;else if(k<50)k=5*Math.ceil((k+1)/5);
else if(k<100)k=10*Math.ceil((k+1)/10);else if(k<200)k=25*Math.ceil((k+1)/25);else if(k<400)k=50*Math.ceil((k+1)/50);
else k=100*Math.ceil((k+1)/100)}}k=Math.max(1,k);y=Math.max(0,Math.min(100,y));if(b==-1)y=-1;if(k!=d||y!=b){var a=JSON.parse(JSON.stringify(g));
a.Brsh.v.Dmtr.v.val=k;if(b!=-1)a.Brsh.v.Hrdn.v.val=y;return a}return null};D.Ak.prototype.Xd=function(g,o,k,y){if(g.uq.list.length==0)return;
var d=this.id,b;if((d==D.Cj||d==D.lj||d==D.Bj||d==D.UW)&&(o!=null&&o.z(dj.M4)||this.lI.alt[0]))b="crosshair";
else{var T=this.CA,a=this.lI.brush;if((d==D.Cj||d==D.lj)&&k&&this.qk&&this.qk.length==this.q2.O()*4){var t=k.u.mp(y.x,y.y),j=this.a05(t),e=this.qk,v=this.q2,L=new bd(v.x+j.x,v.y+j.y,v.m,v.n),H=e9.YI(a,g.uq.sc,T),w=H[0],P=H[1],Q=Math.ceil(P.m/T),x=new bd(Math.round(t.x-Q/2),Math.round(t.y-Q/2),Q,Q),F=_.Q(x.O()*4),E,f;
_.g1(e,L,F,x);if(T==1){E=F;f=x}else{var c=new d3(T,0,0,T,0,0),M=D.C8.Zb([F,x],c,!0);f=P.clone();f.x=M.rect.x;
f.y=M.rect.y;if(f.ey(M.rect))E=M.buffer;else{E=_.Q(f.O()*4);_.g1(M.buffer,M.rect,E,f)}}var n=this.lI.opacity/255;
for(var m=0;m<E.length;m+=4)E[m+3]=n*(w[m+3]*E[m+3]);e9.ah3(new Uint32Array(E.buffer),f,4278190080,4294967295);
b={Tq:E,KU:f,aV:new bJ(f.m/2,f.n/2)}}else b=e9.JV(a,g.uq.sc,T,d==D.Jj)}var X=new jB(N.E.s,!0);X.data={P:N.b.ih,f8:b};
if(this.caller)this.caller.S(X)};D.Ak.prototype.enable=function(g,o,k,y){this.eM=k;this.caller=o;this.jw(JSON.parse(JSON.stringify(this.lI.brush)));
if(g&&g.u.N!=0)this.CA=g.u.N;this.Xd(k,y)};D.Ak.prototype.mt=function(g,o){if(o==er.Un){this.lI.brush=g.uq.Uc;
this.Xd(g)}};D.Ak.prototype.mz=function(g,o,k,y,d){for(var b in g)this.lI[b]=g[b];if(this.lI.alt[0])this.Xd(d,y,k)};
D.Ak.prototype.ay3=function(g){var o=g.kD.length!=0?-1-g.kD[0]:g.g[0],k=g.d[o],y=o<0?1:k.W1,d=o<0?g.Tm[-o-1]:y<=0?null:y==1?k.Qp():k.lQ(g).v,b=d?d.channel:k.buffer,T=(d?d.rect:k.rect).clone();
return[k,y,d,b,T]};D.Ak.prototype.XB=function(g,o){this.J2=g.J==null?null:{rect:g.J.rect.clone(),channel:g.J.channel.slice(0)};
var k=this.ay3(g),y=k[0],d=k[1],b=k[2];this.EQ=k[3];this.QT=k[4];var T=new bd(0,0,g.m,g.n),a=T.gO(this.QT);
if((this.ek()&&d<=0||a.ey(this.QT))&&o!=!0)this.EQ=this.EQ.slice(0);else{if(b)b.extend(a);else y.extend(a)}};
D.Ak.prototype.nI=function(g,o){var k=this.ay3(g),y=k[1],d=k[3],b=k[4],T=[d,b],a=o!=null?o:this.lI.sfrom;
if(y<=0&&a!=0){T[1]=new bd(0,0,g.m,g.n);T[0]=g.PJ(a==1&&g.g[0]!=g.d.length-1?g.g[0]:null).slice(0)}this.q2=T[1].clone();
this.qk=T[0].slice(0)};D.Ak.prototype.fc=function(g,o,k){if(g.z(dj.M4)){var y=new jB(N.E.L,!0);y.G=D.Z1;
y.data={P:"pickhere",av5:k};o.S(y);return!0}return!1};D.Ak.prototype.wA=function(g,o,k,y,d,b){if(this.id!=D.Q5&&!g.q0(this.caller)){this.nd=null;
return}if(this.id!=D.Q5&&this.nd)return;this.XB(g);var T=new bd(0,0,g.m,g.n),a=null;if(b!=null){var t=g.kD.length!=0?-1-g.kD[0]:g.g[0],j=g.d[t],e=t<0?g.Tm[-t-1]:j.W1<=0?null:j.W1==1?j.Qp():j.lQ(g).v;
a=_.Q(T.O()*4);if(e)D.Ak.Dh(this.EQ,this.QT,e.color,a,T);else _.g1(this.EQ,this.QT,a,T)}var v=this.lI;
if(this.nd&&this.id==D.Q5&&v.qsmode!=0&&g.J!=null){}else{var L=o.p2,H=o.Pp;if(this.e4=="erase"){var w=L;
L=H;H=w}var P=this.id==D.Q5?this.QT:T;this.nd=new e9(v.brush,o.uq.sc,o.uq.Uu,{$C:d,a6:b,at2:v.smth*50/g.u.N,xt:this.id==D.UW||v.emode==1,CG:g.CG},L,H,P,a)}if(this.id==D.Q5){this.nd.a8w(v.brush,v.qsmode==2?0:16777215)}var Q=g.u.mp(y.x,y.y);
if(k.z(dj.d_)&&this.Sk){var x=this.Sk;this.nd.moveTo(x.x,x.y,y.Cm);this.nd.lineTo(.001*x.x+.999*Q.x,.001*x.y+.999*Q.y,y.Cm);
this.nd.lineTo(Q.x,Q.y,y.Cm)}else this.nd.moveTo(Q.x,Q.y,y.Cm);this.Sk=Q;this.KC=Q.clone();this.wX=new iN(Q,g.u.ef)};
D.Ak.prototype.Oi=function(g,o,k){if(g&&g.u.N!=0&&g.u.N!=this.CA){this.CA=g.u.N;this.Xd(k)}};D.Ak.prototype.Aj=function(g,o,k,y){if(this.nd==null)return;
var d=g.d[g.g[0]],b=g.u.mp(y.x,y.y),T=this.wX.Ke(b,k);if(T.ey(this.Sk))return 1;this.nd.lineTo(T.x,T.y,y.Cm);
this.Sk=T;if(this.id==D.Cj||this.id==D.lj){var a=this.W_(),t=11;a=g.u.gk(b.x-a.x,b.y-a.y);var j=t>>>1,e=new bd(Math.round(a.x)-j,Math.round(a.y)-j,t,t),v=_.Q(e.O()*4);
_.Sm(16777215);for(var m=0;m<t;m++)v[(m*t+j)*4+3]=v[(t*j+m)*4+3]=255;g.I.Cq=[[v,e]];g.nM=!0}};D.Ak.prototype.jF=function(g,o,k,y){if(k.nE!=this.id)return;
if(this.id!=D.Q5||g==null)return;if(g.J==null||g.g[0]!=this.adp){this.adp=g.g[0];this.x0({qsmode:0},o)}};
D.Ak.prototype.U=function(g,o){if(g.kD.length!=0){g.nM=!0;return}var k=g.d[g.g[0]];if(o==null){o=this.nd.JI();
if(this.ek()&&k.W1<=0)o=o.Nm(this.QT)}var y=k.W1;if(y==1||y==3){var d=Math.round((y==1?k.Qp():k.lQ(g).v).uH*2.4);
o=o.clone();o.pK(d,d)}if(o.on())return;if(y<=0){k.U(o)}if(y==1){k.Qp().WP=!0;k.bD(g,o)}if(y==3){k.U(o)}g.U(g.root.JY(o,g,g.g[0],!0))};
D.Ak.prototype.b9=function(g,o,k,y,d){if(this.nd==null)return;this.nd.finish();if(this.id!=D._Y&&this.id!=D.lj&&this.id!=D.Q5)this.Z7(g);
if(this.id==D.Cj||this.id==D.lj){g.I.Cq=[];g.nM=!0}if(this.id==D.Q5){var b=g.J;g.J=this.J2;var T=new jB(N.E.L,!0);
T.data={P:"setsel",Y5:this.name,J:b};T.G=D.ng;o.S(T);if(this.lI.qsmode==0)this.x0({qsmode:1},o)}else{this.finish(g,this.nd.Ut());
this.nd=null;this.eY=null}this.dir=0};D.Ak.prototype.x0=function(g,o){for(var k in g)this.lI[k]=g[k];
var y=new jB(N.E.s,!0);y.data={P:N.b.l3,G:this.id,Ap:g};o.S(y)};D.Ak.prototype.ek=function(){var g=this.id;
return g==D.Q5||g==D.gI||g==D.Io||g==D.f3||g==D.jI||g==D.vi};D.Ak.prototype.finish=function(g,o,k,y,d){var b=g.kD.length!=0?-1-g.kD[0]:g.g[0],T=g.d[b],a=b<0?1:T.W1,t=b<0?g.Tm[-b-1]:a<=0?null:a==1?T.Qp():T.lQ(g).v,j=t?t.rect:T.rect,L;
if(this.ek()||!j.ey(this.QT)){if(t==null){if(this.ek())T.xO();else{var e=o.gO(this.QT),v=_.Q(e.O()*4);
_.g1(T.buffer,T.rect,v,e);T.buffer=v;T.rect=e}}else t.xO();this.U(g,j)}if(a<=0){L=_.Q(o.O()*4);_.g1(this.EQ,this.QT,L,o)}else{L=_.Q(o.O());
L.fill(t.color);_.sQ(this.EQ,this.QT,L,o)}this._1(g,!1,k?k:this.name,b,a,o,L,y,d)};D.Ak.prototype._1=function(g,o,k,y,d,b,T,a,t){var j=T;
if(d>0){j=_.Q(b.O()*4);D.Ak.Dh(T,b,0,j,b)}var e=new cc(k,this);e.data=[{i:y,jc:d,KU:b,sP:j}];if(a)e.data.gw=[g.J,null];
if(t)e.data.gw=[this.J2,g.J];g.DU(e);if(o)this.qw(e.data,g);else if(a)g.J=null;D.zL.arX(g,e.data)};D.Ak.prototype.YZ=function(g,o){this.a2x(g,o,!1)};
D.Ak.prototype.qw=function(g,o){this.a2x(g,o,!0)};D.Ak.prototype.a2x=function(g,o,k){if(g.P=="drawtemp"){var y=k?g.ast:g.adL,d=o.d[g.i];
d.Dq.kU=y;d.pC(o,0,0,o.J);d.U();o.Qr=!0}else{D.zL.Ao(o,g);if(g.gw){o.J=g.gw[k?1:0];o.cP=!0}}o.U()};D.Ak.prototype.Z7=function(g){this.yX(g,this.e4,this.nd.lo(),this.nd.B2(),this.nd.JI());
this.U(g)};D.Ak.prototype.yX=function(g,o,k,y,d){var b=this.lI,T=g.d[g.g[0]],a=g.kD.length!=0?g.Tm[g.kD[0]]:T.W1<=0?null:T.W1==1?T.Qp():T.lQ(g).v,t=_.Q(d.O()*4),j,e=T.RA(0);
if(a==null){if(this.id==D._g&&o=="heal")_.g1(T.buffer,T.rect,t,d);else _.g1(this.EQ,this.QT,t,d);if(e){j=_.Q(d.O());
_.B4(t,j,3)}}else{D.Ak.Dh(this.EQ,this.QT,a.color,t,d)}if(g.J&&o!="qselect"){var v=d.Nm(g.J.rect),L=_.Q(v.O()*4);
if(o=="copy"){var H=_.Q(v.O());_.sQ(g.J.channel,g.J.rect,H,v);_.g1(t,d,L,v);_.l.tx(k,y,L,v,H,v,0,v,1,!1)}else{_.g1(k,y,L,v);
_.Wy(g.J.channel,g.J.rect,L,v)}k=L;y=v}function w(x,gg){var dg=Math.max(gg.x,Math.min(gg.x+gg.m-1,x.x)),iv=Math.max(gg.y,Math.min(gg.y+gg.n-1,x.y));
return new bJ(dg,iv)}if(o=="idraw"||o=="ierase"){if(this.eY==null)this.eY=_.Q(this.QT.O());var P=this.lI.samp,Q=this.eM.Pp,x=w(this.Sk,d),F=P==0?x:this.KC,E=F.x,f=F.y,c=D.UN.yw(this.EQ,this.QT,[F,new bJ(E-2,f),new bJ(E+2,f),new bJ(E,f-2),new bJ(E,f+2)]);
if(P==2)c=[[Q>>>16&255,Q>>>8&255,Q>>>0&255,255]];var M=D.UN.Ns(t,d,x,c,this.lI.wconf),n=_.Q(d.O());_.sQ(this.eY,this.QT,n,d);
_.dC.gO(M,n,n);_.sQ(n,d,this.eY,this.QT);_.Wy(n,d,k,y);o=o.slice(1)}if(o=="erase"&&(D.zL.afC(g)!=16777215||a))o="draw";
if(o=="draw")_.l.I3(b.bmode,k,y,t,d,d,b.opacity);else if(o=="erase"){var X=_.Q(d.O()*4);_.g1(k,y,X,d);
if(a==null){var u=_.Q(d.O());_.B4(X,u,3);_.nD(u,b.opacity);_.TY(u);_.Wy(u,d,t,d)}else{_.Sm(X,0,4278190080);
_.l.I3("norm",X,d,t,d,d,b.opacity)}}else if(o=="clone"||o=="heal"){var I=this.W_(),r=this.q2.clone();
r.offset(I.x,I.y);var J=d.clone();J.pK(1,1);var U=_.Q(J.O()*4),K=_.Q(J.O());_.g1(k,y,U,J);_.B4(U,K,3);
_.Sm(U,0);if(a==null){_.g1(this.qk,r,U,J);var i=_.Q(J.O());_.B4(U,i,3);_.I9(i,K)}else D.Ak.Dh(this.qk,r,a.color,U,J);
if(o=="clone"){_.e_(K,U,3);_.l.I3(b.bmode,U,J,t,d,d,b.opacity)}if(o=="heal"){var z=K.slice(0);_.round(z,20);
var h=_.Q(J.O()*4);if(a==null)_.g1(this.EQ,this.QT,h,J);else D.Ak.Dh(this.EQ,this.QT,a.color,h,J);_.l.tx(U,J,h,J,z,J,0,J,1,!1);
_.X_.Ve(h,z,J);_.l.tx(h,J,t,d,K,J,0,d,1,!1)}}else if(o=="dodge"||o=="burn"){var U=_.Q(d.O()*4),G=1,W=0,A=0,$=0;
_.g1(k,y,U,d);var R=d.O()*4,C=D.Ak.S1;if(this.tg){if(o=="dodge")o="burn";else o="dodge"}var O=b.rng;
if(o=="dodge"){W=[1-G/2,1,1+G][O];A=[1,1/(1+G),1][O];$=[G/2,0,0][O]}if(o=="burn"){W=[1/(1-G/2),1,1-G/2][O];
A=[1,1+G,1][O];$=[-(G/2)/(1-G/2),0,0][O]}for(var m=0;m<R;m+=4){var Y=U[m+3];t[m+0]=C(t[m+0],W,A,$,Y);
t[m+1]=C(t[m+1],W,A,$,Y);t[m+2]=C(t[m+2],W,A,$,Y)}}else if(o=="sponge"||o=="redeye"){var U=_.Q(d.O()*4),K=_.Q(d.O());
_.g1(k,y,U,d);_.B4(U,K,3);_.QF(t,U);var l=b.smode;if(this.tg)l=1-l;var B=jf.J0("hue2");if(o=="sponge")c2.SG(B,0,[0,[-50,46][l],[6,5][l]]);
else c2.SG(B,1,{Nv:[265,305,25,55],jU:[0,-90,-70]});var f4=aj.f_("hue2",B);aj.mn(f4,U,U,d);_.l.tx(U,d,t,d,K,d,0,d,1,!1)}else if(o=="copy")_.g1(k,y,t,d);
else if(o=="sheal"){var U=_.Q(d.O()*4),K=_.Q(d.O());_.g1(k,y,U,d);_.B4(U,K,3);U.fill(0);var V=this.qk,q=this.q2;
if(a){V=_.Q(q.O()*4);D.Ak.Dh(this.qk,q,0,V,q)}var s=_.wd.Ve(V,q,K,U,d);if(s!=0)_.g1(V,q,U,d);if(this.lI.sfrom==0)_.g1(U,d,t,d);
else{_.g1(this.EQ,this.QT,t,d);_.e_(K,U,3);_.l.I3("norm",U,d,t,d,d,1)}}else if(o=="qselect"){var cW=this.QT,dk=cW.m,kr=cW.n,j9=dk*kr,bh=this.nd.lo(),c=this.EQ,fe=D.qT.FX,K=fe.Pr;
K.fill(128);for(var m=0;m<j9;m++){var gg=bh[m<<2],a$=bh[(m<<2)+3];if(a$==255&&(gg==0||gg==255))K[m]=gg}K[0]=K[dk-1]=0;
K[(kr>>>1)*dk]=K[(kr>>>1)*dk+dk-1]=0;D.Vt.Cl(fe,!0);g.J={rect:cW,channel:fe.J.slice(0)};g.cP=!0}if(a==null){if(e)_.e_(j,t,3);
_.g1(t,d,T.buffer,T.rect)}else D.Ak.ox(t,d,a)};D.Ak.W_=function(){return null};D.Ak.S1=function(g,o,k,y,d){var b=g*(1/255),T=y+o*Math.pow(b,k),a=Math.round(T*d+b*(255-d));
return Math.max(0,Math.min(255,a))};D.Ak.Dh=function(g,o,k,y,d){var b=_.Q(d.O());b.fill(k);_.sQ(g,o,b,d);
y.fill(255);_.yr(b,y)};D.Ak.ox=function(g,o,k){var y=_.Q(o.O());_.h4(g,y);_.sQ(y,o,k.channel,k.rect)};
D.qT=function(g,o,k){D.L8.call(this,g,o,k);this.lI={binop:0,feat:0,cstr:{la:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.tR=new bJ(-1,-1);this.Se=new bJ(-1,-1);this.rP="default";this.mW=null;this.fI=!1;this.z2=new hL;
this.lx=!1;this.En=null;this.T3=null;this.bO=!1;this.jf=!1};D.qT.prototype=new D.L8;D.qT.prototype.a90=function(){var g=this.lI,o=[g.binop,g.feat];
if(this.id==D.AC)o.push(g.wconf);return o};D.qT.prototype.ay_=function(g,o,k){var y=this.lI;y.binop=g[0];
y.feat=g[1];y.wconf=g[2];this.ie(k)};D.qT.prototype.ie=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.l3,G:this.id,lI:this.lI};
g.S(o)};D.qT.FX={key:""};D.qT.Di=function(g,o,k){var y={J5:g,fV:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(o)y.fV.T=o;if(k!=null)y.fV.AntA={t:"bool",v:k};return y};D.qT.OY=function(g,o,k){return D.qT.Di("set",{t:"Objc",v:{classID:g,Top:{t:"UntF",v:{type:"#Pxl",val:o.y}},Left:{t:"UntF",v:{type:"#Pxl",val:o.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:o.y+o.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:o.x+o.m}}}},k)};
D.qT.ob=function(g,o,k){var y=[],d=[],T="set";for(var m=0;m<g.length;m+=2){y.push(g[m]);d.push(g[m+1])}var b={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:y},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:d}]}}}};
if(o)T=["set","addTo","subtractFrom","interfaceWhite"][o];return D.qT.Di(T,b,k)};D.qT.abU=function(g,o,k){var y={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:g.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:g.y}}}},d=D.qT.Di("set",y);
d.fV.Tlrn={t:"long",v:o[0]};d.fV.AntA={t:"bool",v:o[1]};d.fV.Cntg={t:"bool",v:o[2]};if(k==!0)d.fV.Mrgd={t:"bool",v:k};
return d};D.qT.ti=function(g){return D.qT.Di("set",{t:"enum",v:{Ordn:g?"Al":"None"}})};D.qT.sm=function(g,o,k){var y={classID:"null"};
if(g!="border")y.selectionModifyEffectAtCanvasBounds={t:"bool",v:k};var d={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[g[0]];
y[d]={t:"UntF",v:{type:"#Pxl",val:o}};return{J5:g,fV:y}};D.qT.ap4=function(g,o,k){var y={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},d={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o}}]};
if(k)d.v.push({t:"name",v:{classID:"Lyr",val:k}});var b=[{classID:"null",null:y,T:d},{classID:"null",null:d,T:y},{classID:"null",null:d,From:y},{classID:"null",null:d,With:y}],T=["set","add","subtract","interfaceIconFrameDimmed"];
return{J5:T[g],fV:b[g]}};D.qT.a8Q=function(g,o){var k=new jB(N.E.s,!0);k.data={P:N.b.pB,Q6:er.fg};if(!o.a5)g.S(k);
k.data={P:N.b.pB,Q6:er.zO};if(!o.Nn.VS)g.S(k)};D.qT.prototype.Ae=function(g,o,k,y,d){D.qT.a8Q(o,d);this.mW=o;
var b=g.P,T,a,t=new bd(0,0,k.m,k.n),gK=!1,c4,k6,jt,j_;if(b=="fromAction"){var j=g.A3,e=j.J5,v=j.fV,L=v?v.selectionModifyEffectAtCanvasBounds:null,H=L&&L.v;
if(e=="colorRange"){if(v.Clrs){var w=v.Clrs.v.Clrs,P=0,Q=255,x=["Shdw","Mdtn","Hghl"].indexOf(w),c=.4;
if(x==0)Q=60;else if(x==1){P=100;Q=150}else P=190;var F=["shadows","midtones","highlights"][x],E=v[F+"LowerLimit"],f=v[F+"UpperLimit"];
if(E)P=E.v;if(f)Q=f.v;var M=v[F+"Fuzziness"];if(M)c=M.v/100;T=D.qT.SB(k,P,Q,c,!0)}else{var P=v.Mnm.v,Q=v.Mxm.v,c;
P={hb:P.Lmnc.v,Ng:P.A.v,k:P.B.v};Q={hb:Q.Lmnc.v,Ng:Q.A.v,k:Q.B.v};c=v.Fzns.v/200;T=D.qT.SB(k,P,Q,c)}a=[7,8]}else if(e=="inverse"){if(k.J==null){alert("No selection!");
return}T={channel:_.Q(t.O()),rect:t};_.sQ(k.J.channel,k.J.rect,T.channel,T.rect);_.TY(T.channel);a=[7,2]}else if(e=="expand"){var n=v.By.v.val,X=k.J.rect.clone();
X.pK(n,n);var u=_.Q(X.O()),I=_.Q(X.O());_.sQ(k.J.channel,k.J.rect,I,X);_.style.stroke(I,u,X,n);T={channel:u,rect:X};
a=[7,4]}else if(e=="contract"){var n=v.By.v.val,r=k.J.rect.clone();r.pK(1,1);if(!H)r=r.Nm(t);var I=_.Q(r.O()),J=_.Q(I.length);
_.sQ(k.J.channel,k.J.rect,I,r);_.TY(I);_.style.stroke(I,J,r,n);_.TY(J);T={channel:J,rect:r};_.xO(T);
a=[7,5]}else if(e=="border"){var n=v.Wdth.v.val;T=D.qT.ace(k.J,n/2,n/2);a=[7,9]}else if(e=="feather"||e=="smoothness"){var n=v.Rds.v.val;
T=D.qT.akG(k.J,n,e=="smoothness",t,H);a=e=="feather"?[7,6]:[19,3,0]}else if(e=="move"){var U=v.T.v,X=k.J.rect.clone();
X.x+=U.Hrzn.v.val;X.y+=U.Vrtc.v.val;T={channel:k.J.channel,rect:X};a=[7,7]}else if(e=="grow"||e=="similar"){var K=this.lI.wconf.slice(0);
if(v.Tlrn)K[0]=v.Tlrn.v;K[2]=e=="grow";var i=k.PJ(),z=new bd(0,0,k.m,k.n),h=k.J.rect,R=Math.round(Math.sqrt(h.O())/10),C=_.Q(z.O());
_.sQ(k.J.channel,h,C,z);var G=[];for(var W=0;W<h.n;W+=R)for(var A=(h.O()+W)%R;A<h.m;A+=R)if(k.J.channel[W*h.m+A]==255){var $=new bJ(h.x+A,h.y+W);
G.push($);if(K[2])_.dC.gO(D.UN.Ns(i,z,$,null,K),C,C)}if(!K[2])_.dC.gO(D.UN.Ns(i,z,$,D.UN.yw(i,z,G),K),C,C);
T={channel:C,rect:z};a=e=="grow"?"Grow Selection":"Similar Selection";console.log(v)}else{var O=v.null.v,Y=v.AntA!=null&&v.AntA.v;
function l(bf){var ef=bf.Top.v.val,ak=bf.Left.v.val;return new bd(ak,ef,bf.Rght.v.val-ak,bf.Btom.v.val-ef)}function B(bf){var ef=bf[0].arr,hh=bf[1].arr,fA={j:[],F:[]};
for(var m=0;m<ef.length;m++){fA.F.push(m==0?"M":"L");fA.j.push(ef[m],hh[m])}fA.F.push("Z");return fA}var f4=["set","addTo","subtractFrom","interfaceWhite"].indexOf(e),V=v.T?v.T.v:null;
if(V&&V.classID=="Elps"){T=this.ak4(D.D7.asN(l(V)));a=[10,4]}else if(V&&V.classID=="Rctn"){var q=l(V);
T={channel:_.Q(q.O()),rect:q.clone()};T.channel.fill(255);a=[10,15]}else if(V&&V.classID=="ObSl"){var q=l(V),s=D.qT.FX,cW=s.rect,dk=s.Pr,kr=cW.m,j9=cW.n,bh=q.x-cW.x,fe=bh+q.m-1,gg=Math.max(bh,Math.min(fe,bh+fe>>>1)),a$=q.y-cW.y,dg=a$+q.n-1,iv=Math.max(a$,Math.min(dg,a$+dg>>>1)),aQ=Math.max(bh,0),dt=Math.min(fe,kr),hY=Math.max(a$,0),b9=Math.min(dg,j9);
dk.fill(128);if(0<=a$)for(var A=aQ;A<dt;A++)dk[a$*kr+A]=0;if(dg<j9)for(var A=aQ;A<dt;A++)dk[dg*kr+A]=0;
if(0<=bh)for(var W=hY;W<b9;W++)dk[W*kr+bh]=0;if(fe<kr)for(var W=hY;W<b9;W++)dk[W*kr+fe]=0;var i0=D.Ya.asZ,gD=Math.round(q.m*i0),hU=Math.round(q.n*i0);
for(var A=Math.max(0,gg-gD);A<Math.min(kr,gg+gD);A++)dk[iv*kr+A]=255;for(var W=Math.max(0,iv-hU);W<Math.min(j9,iv+hU);
W++)dk[W*kr+gg]=255;D.Vt.Cl(s,!0);T={channel:s.J.slice(0),rect:cW.clone()};a=[10,44]}else if(V&&V.classID=="Plgn"){T=this.ak4(B(V.Pts.v.arr));
a=[10,9]}else if(V&&V.classID=="Pnt"){T=D.UN.alg(k,new bJ(V.Hrzn.v.val,V.Vrtc.v.val),[v.Tlrn.v,Y,v.Cntg==null||v.Cntg.v],v.Mrgd?v.Mrgd.v:!1);
a=[10,12]}else if(V&&V.Ordn=="None"){T=null;a=[7,1]}else if(V&&V.Ordn=="Al"){var aW=t;if(k.g.length!=0){var be=k.root.St(k.g[0]);
while(be.parent&&be.parent.parent)be=be.parent;if(be.i.add.artb)aW=be.i.xB()}T={channel:_.Q(aW.O()),rect:aW};
T.channel.fill(255);a=[7,0]}else if(V&&V[0]&&V[0].v.keyID=="WrPt"){var hv={P:"frompath",Q9:[-1,0,0]};
this.Ae(hv,o,k,y,d);return}else{var b3=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(e),gT=e=="set"?V:O,aB=gT[0].v.enum,hv;
if(aB=="Trsp"||aB=="Msk"||aB=="vectorMask"||aB=="Trgt"){var bO=k.g[0];if(gT.length==2)bO=c_.U2(k,gT[1]);
var kf=["Trsp","Msk","vectorMask"].indexOf(aB);if(aB=="Trgt"&&k.d[bO].W1==1)kf=1;hv={P:"fromlayer",Q9:[bO,kf,b3]}}else{if(gT[0].t=="name"){var bO=0;
for(var m=0;m<k.Tm.length;m++)if(k.Tm[m].name==gT[0].v.val)bO=m;hv={P:"fromchannel",Q9:[-5-bO,0,b3]}}else{var iY=["RGB","Rd","Grn","Bl"].indexOf(aB);
hv={P:"fromchannel",Q9:[-1-iY,0,b3]}}}this.Ae(hv,o,k,y,d);return}if(T){if(!Y)_.round(T.channel);if(v.Fthr)T=D.qT.akG(T,v.Fthr.v.val,!1);
if(e!="set"&&k.J!=null)T=_.dC.xM(T,k.J,f4)}}if(e=="expand"||e=="contract")if(!H&&!t.contains(T.rect)){var gs=T.rect.Nm(t),c1=_.Q(gs.O());
_.sQ(T.channel,T.rect,c1,gs);T.channel=c1;T.rect=gs}}if(b=="qmask"){gK=!0;var kw=k.xA(),z=new bd(0,0,k.m,k.n);
if(kw){T=kw.rect.ey(z)&&_.lc(kw.channel,255)?null:{rect:kw.rect.clone(),channel:kw.channel.slice(0)};
c4=kw}else{T=null;k6=new p.GE;k6.color=0;k6.name="Quick Mask";k6.ao=!0;if(k.J){k6.rect=k.J.rect.clone();
k6.channel=k.J.channel.slice(0)}else{k6.rect=z;k6.channel=_.Q(k6.rect.O());k6.channel.fill(255)}}a=[6,6,1];
k.Qr=!0}if(b=="setsel"){T=g.J;a=g.Y5}if(b=="crange"){var P=g.qv,Q=g.CX;T=D.qT.SB(k,P,Q,g.zI);a=[7,8]}if(b=="fromlayer"||b=="fromchannel"||b=="frompath"){var eu=g.Q9[0],kf=g.Q9[1],f4=g.Q9[2];
if(b=="fromlayer"){if(eu==null)eu=k.g[0];var ak=k.d[eu];if(kf==0){var cY=ak.rect,bG=ak.buffer;if(cY.on())return;
var j5=_.Q(bG.length>>>2);_.B4(bG,j5,3);T={channel:j5,rect:cY.clone()}}else{if(ak.v==null)ak.bD(k);var hI=kf==1?ak.Qp():ak.v;
T=D.qT.azc(hI,t)}this.track(D.qT.ap4(f4,["Trsp","Msk"][kf],ak.getName()))}else if(b=="frompath"){var jJ=k.uM(),ca=jJ[1],jJ=jJ[0],fs=!0;
if(eu==null)if(jJ.length==0||ca.length==0)return;var gI=jJ[ca[0]];if(eu!=null)for(var m=0;m<jJ.length;
m++)if(jJ[m].Sp==eu)gI=jJ[m];var hI=gI.add.vmsk.Qp(),c3=hI.B2();if(c3.O()==0)return;var j5=hI.c6();if(g.Q9[3]!=null)fs=g.Q9[3];
if(!fs){j5=j5.slice(0);_.round(j5)}jt=[JSON.stringify(k.yI),JSON.stringify(k.wW)];j_=["[]","[]"];k.yI=[];
k.wW=[];T={channel:j5,rect:c3}}else{if(eu==null)eu=D.qT.a4m(k);T=D.qT.arF(k,eu)}if(f4!=0&&k.J)T=_.dC.xM(T,k.J,f4);
a=[14,11]}if(T!=null&&_.lc(T.channel,0)){T=null;a=[7,1]}if(T)_.xO(T);var eS=new cc(a,this);eS.data={P:"changesel",J2:k.J,A2:T,xA:gK,aau:c4,a7z:k6,f9:jt,a7V:j_};
k.DU(eS);this.qw(eS.data,k)};D.qT.a4m=function(g){var o=0;if(g.kD.length!=0)o=-5-g.kD[0];else if(JSON.stringify(g.u.sv)=="[1,1,1]")o=-1;
else o=-2-g.u.sv.indexOf(1);return o};D.qT.arF=function(g,o){var k,y=new bd(0,0,g.m,g.n);if(-5<o&o<0){var d=-o-1,b=g.PJ(),T=_.Q(y.O());
if(d==0)_.h4(b,T);else _.B4(b,T,d-1);k={channel:T,rect:y.clone()}}if(o<-4){k=D.qT.azc(g.Tm[-o-5],y)}return k};
D.qT.azc=function(g,o){var k,y;if(g.sL()==0){y=g.B2().clone();if(y.O()==0)return;k=g.c6()}else{y=o;k=_.Q(y.O());
g.aq(y,k)}return{channel:k,rect:y}};D.qT.prototype.qd=function(g){return this.lx||g._J&&this.id!=D.mv};
D.qT.prototype.x3=function(g,o,k){var y=new jB(o,!0);y.data=k;g.S(y)};D.qT.prototype.ahA=function(g,o){var k=new jB(N.E.s,!0);
k.data={P:N.b.ih,f8:o};g.S(k)};D.qT.prototype.B2=function(g,o,k){o=g.J==null||this.z2.uU(1)||this.z2.T_(1)?o:null;
var y=this.tR,d=this.Se;if(k){y.x=Math.max(0,Math.min(g.m,y.x));y.y=Math.max(0,Math.min(g.n,y.y));d.x=Math.max(0,Math.min(g.m,d.x));
d.y=Math.max(0,Math.min(g.n,d.y))}var b=D.Y7.ZJ(y,d,o,!0,this.lI.cstr),T=b[0].x,a=b[0].y;return new bd(T,a,b[1].x-T,b[1].y-a)};
D.qT.prototype.Hu=function(g,o,k,y,d){this.jf=!0;if(this.N2())return;this.mW=o;this.fI=!1;this.z2.Hu(y);
this.tR=g.u.mp(d.x,d.y);this.tR=D.Bt.Qw(g,this.tR,k);if(this.a9k(g,this.tR,y)){this.lx=!0;this.En=g.J.rect.clone();
return}this.wt(g,k,y,d);g.u.nQ=new bd};D.qT.prototype.a9k=function(g,o,k){var y=k.z(dj.d_),d=k.z(dj.M4);
if(g.J&&!y&&!d&&this.lI.binop==0)return _.DQ(o,g.J.channel,g.J.rect);return!1};D.qT.prototype.Sa=function(g,o,k,y,d){this.mW=o;
if(this.bO)return;var b=g.u.mp(d.x,d.y);if(bJ.YX(this.tR,b)*g.u.N>5){this.fI=!0;this.z2.Sa()}if(y.z(dj.zY)){if(this.T3==null)this.T3=new bJ(b.x-this.tR.x,b.y-this.tR.y);
this.tR.x=b.x-this.T3.x;this.tR.y=b.y-this.T3.y}else this.T3=null;this.Se=b;if(!this.lx)this.Se=D.Bt.Qw(g,this.Se,k);
if(this.a9k(g,this.Se,y))this.ahA(o,"move");else this.ahA(o,this.rP);if(this.lx){var T=this.En.clone();
T.x+=this.Se.x-this.tR.x;T.y+=this.Se.y-this.tR.y;var a=D.Bt.c3(g,T,k);g.J.rect.x=Math.round(this.Se.x-this.tR.x+this.En.x+a[0]);
g.J.rect.y=Math.round(this.Se.y-this.tR.y+this.En.y+a[1]);g.cP=!0;D.Bt.CQ(g,T,a);return}this.XQ(g,k,y,d,o);
if(g.u.nQ)g.u.nQ=this.B2(g,y)};D.qT.prototype.N2=function(){return!1};D.qT.prototype.b9=function(g,o,k,y,d,b){var T=this.jf;
this.jf=!1;if(b||!T)return;g.u.nQ=null;this.Se=g.u.mp(d.x,d.y);this.Se=D.Bt.Qw(g,this.Se,k);if(this.lx){this.lx=!1;
if(g!=null&&g.I.JO){g.I.JO=null;g.nM=!0}if(this.Se.ey(this.tR)&&this.Ev()==0){this.x3(o,N.E.gp,D.qT.ti());
return}this.axm(g,this.En,g.J.rect.clone());return}this.zf(g,k,y,d,o);D.qT.a8Q(o,k);this.z2.b9();this.bc(o)};
D.qT.prototype.axm=function(g,o,k){var y=g.Zt();if(y!=null&&y.G==this&&y.data.P=="movesel"){}else{y=new cc([7,7],this);
y.data={P:"movesel",WB:o};g.DU(y)}y.data.U7=k;this.qw(y.data,g)};D.qT.prototype.OZ=function(g,o,k,y,d){this.bO=!0};
D.qT.prototype.sF=function(g,o,k,y,d){var b=new jB(N.E.s,!0);b.data={P:N.b.l3,G:this.id,Jz:d,b5:g,Px:k};
o.S(b);this.bO=!1};D.qT.prototype.Zl=function(g,o,k,y){this.z2.Zl(y);if(g!=null&&g.J!=null){var d=y.Mj();
if(d.x!=0||d.y!=0){var b=g.J.rect.clone();b.x+=d.x;b.y+=d.y;this.axm(g,g.J.rect.clone(),b)}}this.bc(o)};
D.qT.prototype.bc=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.l3,G:this.id,uK:this.Ev()};g.S(o)};
D.qT.prototype.Ev=function(){var g=this.z2.uU(0),o=this.z2.T_(0);return D.qT.Yw(this.lI.binop,g,o)};
D.qT.Yw=function(g,o,k){if(o)g=1;if(k)g=2;if(o&&k)g=3;return g};D.qT.prototype.finish=function(g,o,k,y){var d=g.J,b=this.getSelection(g,o,k,y);
if(b==null)b=D.qT.ti();else{var T=this.lI.feat,a=this.Ev();if(T!=0)b.fV.Fthr={t:"UntF",v:{type:"#Pxl",val:T}};
if(a!=0&&a!=4)b.J5=["","addTo","subtractFrom","interfaceWhite",""][a]}this.x3(this.mW,N.E.gp,b);this.tR.oU(-1,-1);
this.Se.oU(-1,-1)};D.qT.prototype.getSelection=function(g,o,k,y){return null};D.qT.prototype.wt=function(g,o,k,y){};
D.qT.prototype.XQ=function(g,o,k,y){};D.qT.prototype.zf=function(g,o,k,y){};D.qT.prototype.YZ=function(g,o){var k=g.P;
if(k=="changesel")o.J=g.J2;if(k=="movesel")o.J.rect=g.WB;if(g.xA){if(g.aau){o.kD=[o.Tm.length];o.Tm.push(g.aau)}else{o.Tm.pop();
o.kD=[]}}if(g.f9){o.yI=JSON.parse(g.f9[0]);o.wW=JSON.parse(g.f9[1])}o.cP=!0};D.qT.prototype.qw=function(g,o){var k=g.P;
if(k=="changesel")o.J=g.A2;if(k=="movesel")o.J.rect=g.U7;if(g.xA){if(g.a7z){o.kD=[o.Tm.length];o.Tm.push(g.a7z)}else{o.Tm.pop();
o.kD=[]}}if(g.f9){o.yI=JSON.parse(g.a7V[0]);o.wW=JSON.parse(g.a7V[1])}o.cP=!0};D.qT.prototype.mz=function(g){this.lI=g.lI};
D.qT.prototype.ak4=function(g){var o=_.p.KS(g.j);if(o.on())return null;var k=_.r8(o.m,o.n);k.save();
k.beginPath();k.translate(-o.x,-o.y);Typr.U.pathToContext({cmds:g.F,crds:g.j},k);k.closePath();k.fill();
k.restore();var y=_.Q(o.O()),d=k.getImageData(0,0,o.m,o.n);_.B4(d.data,y,3);return{rect:o,channel:y}};
D.qT.akG=function(g,o,k,y,d){if(k)o=Math.round(o*.7);var b=Math.ceil(2.6*o),T=g.rect.clone();T.pK(b,b);
if(y&&!d)T=T.Nm(y);var a=_.Q(T.O()),t=_.Q(a.length);_.sQ(g.channel,g.rect,t,T);_.tI.BM(t,a,T,o);if(k){var j=a.length;
for(var m=0;m<j;m++){var e=(a[m]-128)*o*2.5;a[m]=Math.max(0,Math.min(255,Math.round(128+e)))}}return{channel:a,rect:T}};
D.qT.ace=function(g,o,k){var y=Math.max(1,Math.ceil(k)),d=g.rect.clone();d.pK(y,y);var b=d.O(),T={channel:_.Q(b),rect:d},a=_.Q(b);
_.sQ(g.channel,g.rect,a,T.rect);if(k!=0)_.style.stroke(a,T.channel,T.rect,k);else _.QF(a,T.channel);
var t=_.Q(b);_.TY(a);if(o!=0)_.style.stroke(a,t,T.rect,o);else _.QF(a,t);_.dC.Nm(T.channel,t,T.channel);
return T};D.qT.SB=function(g,o,k,y,d){var b=new bd(0,0,g.m,g.n),T=g.PJ();if(g.J){var a=g.J.rect.Nm(b),t=_.Q(a.O()*4);
_.g1(T,b,t,a);b=a;T=t}var j=b.O(),e=_.Q(j),v=1/y;if(d){if(o>=k)o=k-1;var L=o*(1-y),H=o,w=k,P=k+(255-k)*y,Q=L==H?0:1/(H-L),x=w==P?0:1/(P-w);
for(var m=0;m<j;m++){var F=m<<2,E=_.pM(T[F],T[F+1],T[F+2]),f=0;if(E<L)f=0;else if(E<H)f=(E-L)*Q;else if(E<=w)f=1;
else if(E<=P)f=1-(E-w)*x;else f=0;e[m]=T[F+3]*f*f}}else for(var m=0;m<j;m++){var F=m<<2,c=_.cr(T[F],T[F+1],T[F+2]),f=_.hD(c,o,k,y,v);
e[m]=T[F+3]*f}return{rect:b,channel:e}};D.XI=function(){D.Ak.call(this,[10,18],D.NL,"tools/blur");this.e4="copy"};
D.XI.prototype=new D.Ak;D.XI.prototype.Hu=function(g,o,k,y,d){var b=y.z(dj.M4)?e9.j3:e9.NL;this.wA(g,k,y,d,this.lI.strn,b);
if(this.nd==null)return;this.Z7(g)};D.XI.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.HN=function(){D.Ak.call(this,[10,0],D.Bj,"tools/brush");
this.e4="draw"};D.HN.prototype=new D.Ak;D.HN.prototype.Hu=function(g,o,k,y,d){if(this.fc(y,o,d))return;
this.wA(g,k,y,d,this.lI.flow);if(this.nd==null)return;this.Z7(g)};D.HN.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.zw=function(){D.Ak.call(this,[10,42],D.Jj,"tools/crepl");
this.e4="idraw";this.lI.bmode="hue "};D.zw.prototype=new D.Ak;D.zw.prototype.Hu=function(g,o,k,y,d){if(this.fc(y,o,d))return;
this.wA(g,k,y,d,this.lI.flow);if(this.nd==null)return;this.Z7(g)};D.zw.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.YG=function(){D.Ak.call(this,[10,43],D.vi,"tools/redeye");
this.lI.smode=0;this.e4="redeye"};D.YG.prototype=new D.Ak;D.YG.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,this.lI.flow);
if(this.nd==null)return;this.Z7(g)};D.YG.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.dT=function(){D.Ak.call(this,[10,38],D.UW,"tools/pencil");
this.e4="draw"};D.dT.prototype=new D.Ak;D.dT.prototype.Hu=function(g,o,k,y,d){if(this.fc(y,o,d))return;
this.wA(g,k,y,d,this.lI.flow);if(this.nd==null)return;this.Z7(g)};D.dT.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.e$=function(){D.Ak.call(this,[10,22],D.f3,"tools/burn");
this.e4="burn"};D.e$.prototype=new D.Ak;D.e$.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,this.lI.expo/Math.E);
if(this.nd==null)return;this.Z7(g)};D.e$.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.GG=function(g,o,k){D.Ak.call(this,g==""?null:g?g:[10,1],o?o:D.Cj,k?k:"tools/clone");
this.e4="clone";this.lW=null;this.Y=null};D.GG.prototype=new D.Ak;D.GG.prototype.Hu=function(g,o,k,y,d){var b=this.lI,T=b.alt[0];
if(y.z(dj.M4)||y.z(dj.Oz)||T){this.lW=g.u.mp(d.x,d.y);this.Y=null;if(T)this.x0({alt:[!1]},o);this.nI(g);
this.Xd(k,y,g,d);return}if(this.lW==null){alert(d9.get([15,7,0]));return}this.Xd(k,y);this.wA(g,k,y,d,this.lI.flow);
if(this.nd==null)return;this.Y=this.a05(g.u.mp(d.x,d.y));this.Z7(g)};D.GG.prototype.a05=function(g){var o=this.Y;
if(o==null||!this.lI.algnd)o=new bJ(Math.round(g.x-this.lW.x),Math.round(g.y-this.lW.y));return o};D.GG.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
if(this.Lp)this.dE(g,k,d);if(this.nd==null){if(this.lW!=null)this.Xd(k,y,g,d);return}if(!d._J||this.lW==null)return;
this.Aj(g,k,y,d);this.Z7(g)};D.GG.prototype.W_=function(){return this.Y};D.Wz=function(g,o,k){D.L8.call(this,g,o,k);
this.qi={bd:{la:0,x:0,y:0},$x:!1};this.NB=!1;this.mb=null;this.cursor=null;this.a3a=0;this.qc=null;this.tR=null;
this.N1=null;this.en=!1};D.Wz.prototype=new D.L8;D.Wz.prototype.tt=function(){return this.mb!=null};
D.Wz.prototype.qd=function(g){return this.tR!=null||this.mb&&this.mb.a1w()};D.Wz.prototype.Hu=function(g,o,k,y,d){this.qc=d;
var b=g.u.mp(d.x,d.y),T=this.qi.bd,a=T.la!=0?T.x/T.y:null,t=this.en;this.en=!1;if(this.mb){var j=this.mb.XN(b,g.u.N);
if(t&&j==null){this.mb.clear(g);this.mb=null}else{this.mb.Hu(g,k,y,b,a,!1,d);return}}this.tR=D.Bt.Qw(g,b,k)};
D.Wz.prototype.cv=function(g,o,k){if(k==null)k=[g.x,g.y,g.x+g.m,g.y,g.x+g.m,g.y+g.n,g.x,g.y+g.n];return new ax(k,!0,!1,this.id==D.GN,!0,o,this.id==D.GN?2:0,this.id==D.GN?4:3)};
D.Wz.prototype.Xd=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.ih,f8:this.cursor};g.S(o)};D.Wz.prototype.enable=function(g,o,k,y){this.mW=o;
this.cursor="crosshair";this.Xd(o);if(g!=null&&this.mb==null){var d=g.J?{AB:"cropby",aaD:3}:{AB:"config",qi:this.qi,af1:!0};
this.mz(d,o,g,y,k);if(g.J==null&&this.qi.bd.la==0)this.en=!0}};D.Wz.prototype.Sa=function(g,o,k,y,d){this.qc=d;
var b=g.u.mp(d.x,d.y);if(!d._J){var T="crosshair";if(this.mb){var a=this.mb.XN(b,g.u.N,null,d);if(a)T=a;
else T="default"}if(T!=this.cursor){this.cursor=T;this.Xd(o)}}if(this.mb)this.mb.Sa(g,k,y,b);else if(this.tR){if(this.NB){g.I.MI={F:["M","L"],j:[this.tR.x,this.tR.y,b.x,b.y]}}else{var t=D.Y7.ZJ(this.tR,D.Bt.Qw(g,b,k),y,!0,this.qi.bd),j=t[0].x,e=t[0].y,v=this.N1=new bd(j,e,t[1].x-j,t[1].y-e);
g.I.MI=_.p.rN(v);D.L8.eU(d,v,g,k)}g.nM=!0}};D.Wz.a5a=function(g,o,k){var y,d,a,t;if(o<=k){y=o;d=k}else{y=k;
d=o}var b=g-Math.floor((g+Math.PI)/(2*Math.PI))*2*Math.PI;b=Math.abs(b);if(b>Math.PI/2)b=Math.PI-b;var T=y/(d*Math.sin(b)+y*Math.cos(b));
if(o<=k){a=y*T;t=d*T}else{a=d*T;t=y*T}return{bW:a,GP:t}};D.Wz.prototype.b9=function(g,o,k,y,d){this.qc=d;
var b=g.u.mp(d.x,d.y);if(this.mb==null){var T=this.N1;if(this.tR&&(T||this.NB)){if(this.NB){var a=this.tR,t=b;
if(a.x>t.x){var j=a;a=t;t=j}var a=Math.atan2(-(t.y-a.y),t.x-a.x),e=D.Wz.a5a(a,g.m,g.n),v=[0,0,e.bW,0,e.bW,e.GP,0,e.GP],L=new d3;
L.translate(-e.bW/2,-e.GP/2);L.rotate(a);L.translate(g.m/2,g.n/2);_.p.D(v,L,v);this.mb=this.cv(T,!1,v);
g.I.MI=null;this.NB=!1}else{var H=this.qi.bd;this.mb=this.cv(T,H.la!=0)}this.mb.M_(g,k);this.N1=null;
this.x3(o,N.E.s,{P:N.b.l3,G:this.id,TH:!0});this.tR=null;g.I.Cq=[];g.nM=!0}return}this.mb.b9(g,k,y,b);
this.x3(o,N.E.s,{P:N.b.l3,G:this.id,TH:!0});var v=this.mb.em();if(Math.abs(v[0]-v[4])<2&&Math.abs(v[1]-v[5])<2){this.disable(g,o,null,y);
return}if(Date.now()-this.a3a<200&&this.mb.ds(b)){this.T1(g,k);this.disable(g,o,k,y);return}this.a3a=Date.now()};
D.Wz.prototype.Zl=function(g,o,k,y){var d=this.mb;if(d==null||this.qc&&this.qc._J)return;if(y.z(dj.zu)){this.T1(g,k);
this.disable(g,o,k,y)}else if(y.z(dj.bC)){this.disable(g,o,k,y)}else d.Zl(g,k,y)};D.Wz.ai1=function(g,o,k){var y={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:g[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:g[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:g[1]+g[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:g[0]+g[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:o!=null?o:0}},Dlt:{t:"bool",v:k!=null?k:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{J5:"crop",fV:y}};D.Wz.Zi=function(g,o){if(o==null)o=[!0,!0,!0,!0];var k={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][g]}}},y=["Top","Left","Btom","Rght"];
for(var m=0;m<4;m++)k[y[m]]={t:"bool",v:o[m]};return{J5:"trim",fV:k}};D.Wz.a37=function(g,o,k,y){var d={classID:"null"};
if(y!=null){d.Wdth={t:"UntF",v:{type:"#Pxl",val:g}};d.Hght={t:"UntF",v:{type:"#Pxl",val:o}};d.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][y]}}}if(k!=null)d.Rslt={t:"UntF",v:{type:"#Rsl",val:k}};
return{J5:"imageSize",fV:d}};D.Wz.atF=function(g,o,k){if(k==null)k=4;var y=Math.floor(k/3),d=k%3;return{J5:"canvasSize",fV:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:g}},Hght:{t:"UntF",v:{type:"#Pxl",val:o}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][d]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][y]}}}}};
D.Wz.prototype.Ae=function(g,o,k,y,d){var b=new bd(0,0,k.m,k.n),T=[11,3],a=k.Qb,t=k.m/2,j=k.n/2,e=1,O,Y,l;
if(g.P=="fromAction"){var v=g.A3,L=v.J5,H=v.fV,w=k.m/k.n,P=H.Wdth?H.Wdth.v.val:-1,Q=H.Hght?H.Hght.v.val:-1,a=H.Rslt?H.Rslt.v.val:null,x=H.Wdth?H.Wdth.v.type:H.Hght?H.Hght.v.type:-1,F=1,E;
if(x=="#Prc"){if(P!=-1)P=Math.round(k.m*P/100);if(Q!=-1)Q=Math.round(k.n*Q/100)}if(L=="imageSize"){if(H.Intr){if(H.Intr.v.Intp=="Nrst")F=0;
if(H.Intr.v.Intp=="bicubicSharper")F=2;if(P==-1&&Q==-1){var f=a/k.Qb;P=Math.round(k.m*f);Q=Math.round(k.n*f)}if(H.CnsP&&H.CnsP.v){if(P==-1)P=Math.round(Q*w);
if(Q==-1)Q=Math.round(P/w)}}else{if(x=="#Prc")a=Math.round(k.Qb*(k.m/P));else if(x==-1)a=Math.round(a);
else throw"e";P=k.m;Q=k.n}E={P:"imgsize",QO:P,Rq:Q,Mv:a,W$:F}}else if(L=="canvasSize"){if(P==-1)P=k.m;
if(Q==-1)Q=k.n;if(H.Rltv&&H.Rltv.v==!0){if(H.Wdth)P+=k.m;if(H.Hght)Q+=k.n}var c=H.Vrtc?H.Vrtc.v.VrtL:"Cntr",M=H.Hrzn?H.Hrzn.v.HrzL:"Cntr";
E={P:"canvsize",QO:P,Rq:Q,Yf:3*["Top","Cntr","Btom"].indexOf(c)+["Left","Cntr","Rght"].indexOf(M)}}else if(L=="revealAll"){E={P:"revealAll"}}else if(L=="trim"){var n={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[H.trimBasedOn.v.trimBasedOn];
if(n==null)throw"e";var X=["Top","Left","Btom","Rght"],u=[!0,!0,!0,!0];for(var m=0;m<4;m++)if(H[X[m]])u[m]=H[X[m]].v;
E={P:"trim",a3P:n,Zx:u}}else if(L=="crop"){var I,r,J,U;if(H.T){var K=H.T.v,I=Math.round(K.Left.v.val),r=Math.round(K.Top.v.val),J=Math.round(K.Rght.v.val)-I,U=Math.round(K.Btom.v.val)-r}else{var i=k.J.rect;
I=i.x;r=i.y;J=i.m;U=i.n}E={P:"canvsize",QO:J,Rq:U,Y:new bJ(I,r),akm:H.Dlt!=null&&H.Dlt.v}}else console.log(v);
if(E)this.Ae(E,o,k,y,d);return}else if(g.P=="imgsize"){b=new bd(0,0,g.QO,g.Rq);if(g.Mv)a=g.Mv;e=g.W$}else if(g.P=="canvsize"){var z=g.Yf!=null?g.Yf:0;
b=new bd(0,0,g.QO,g.Rq);var h=k.m-g.QO,R=k.n-g.Rq,C=Math.round(h/2),G=Math.round(R/2);if(z==1||z==4||z==7)b.x=C;
if(z==2||z==5||z==8)b.x=h;if(z==3||z==4||z==5)b.y=G;if(z==6||z==7||z==8)b.y=R;if(g.Y){b.x=g.Y.x;b.y=g.Y.y}}else if(g.P=="rot"&&(g.Z+2*Math.PI)%(Math.PI/2)!=0){var W=_.p.rN(b).j,A=new d3;
A.translate(-t,-j);A.rotate(g.Z);A.translate(t,j);_.p.D(W,A,W);b=_.p.KS(W)}else if(g.P=="rot"&&g.Z!=Math.PI&&g.Z!=-Math.PI){b=new bd(t-k.n/2,j-k.m/2,k.n,k.m);
if((k.m+k.n&1)==1){t=Math.floor(t);j=Math.floor(j);b=new bd(t-Math.floor(k.n/2),j-Math.floor(k.m/2),k.n,k.m);
if((k.m&1)==1&&g.Z!=-Math.PI/2)b.y--;if((k.n&1)==1&&g.Z==-Math.PI/2)b.x--}}else if(g.P=="trim"){T=[11,12,0];
var $=k.PJ(),i=new bd(0,0,k.m,k.n);b=_.AO($,i,g.a3P,g.Zx);if(b.on())b=i}else if(g.P=="revealAll"){T=[11,12,2];
b=k.root.B2(k,!0)}var B=g.P=="canvsize"&&g.akm;if(g.P=="imgsize"||g.P=="rot"||g.P=="scl"||B){var f4=new d3;
if(g.P=="imgsize"){T=[11,10];f4.scale(g.QO/k.m,g.Rq/k.n);l=k.Nz();for(var m=0;m<l[0].length;m++)l[0][m][1]*=l[0][m][0]==0?f4.Ng:f4.vP}else if(B){}else{f4.translate(-t,-j);
if(g.P=="rot")f4.rotate(g.Z);if(g.P=="scl")f4.scale(g.Z.x,g.Z.y);f4.translate(t,j);T=g.Y5}Y=_.K.bn(f4);
O=this.qn(k,d,!0,Y,e,B?b:null)}else if(g.P=="auto-align"){if(k.g.length<2){alert("Select two or more layers.");
return}var V=[];for(var m=0;m<k.g.length;m++){var q=k.d[k.g[m]];if(!q.eT()&&q.add.SoLd==null){alert("Unsupported layer selected.");
return}if(q.rect.on()){alert("Empty layer selected.");return}V.push([q.buffer,q.rect])}var s=_.UB.wo(V,0);
if(s==null){alert("No similarity found.");return}Y=s[1];var cW=k.g;k.g=k.g.slice(1);O=this.qn(k,d,!1,s.slice(1),e);
k.g=cW;b=k.root.B2(k,!0);T=[2,10,1]}var dk=new bd(0,0,k.m,k.n);if(!b.on()&&(!b.ey(dk)||O!=null)){var kr=new cc(T,this);
kr.data={ap8:k.Qb,Mv:a,pz:O,QX:Y,As:D.Wz.ag3(k,b,dk,O!=null)};if(l){kr.data.aay=k.Nz();kr.data.amh=l}D.Wz.acZ(k,kr.data,b);
k.DU(kr);this.qw(kr.data,k)}};D.Wz.ag3=function(g,o,k,y){if(g.mZ.length==0)return null;var d=JSON.stringify(g.mZ),b=JSON.parse(d);
D.We.alx(b,o,k,y);b=JSON.stringify(b);return[d,b]};D.Wz.prototype.qn=function(g,o,k,y,d,b){var T={d:[],wQ:null,Yn:null};
if(k){for(var m=0;m<g.d.length;m++)T.d.push(m);for(var m=0;m<g.p8.length;m++)T.d.push(-1-m);for(var m=0;
m<g.Tm.length;m++)T.d.push(-1e3-m)}else T.d=g.g.slice(0);T.wQ=D.C8.Cf(g,T.d,!0);D.C8.JP(g,o,T.d,T.wQ,d,y,null,!0,b);
T.Yn=D.C8.Cf(g,T.d,!0);return T};D.Wz.prototype.qw=function(g,o){if(g.Mv)o.Qb=g.Mv;if(g.As)o.mZ=JSON.parse(g.As[1]);
if(g.pz){D.Wz.s7(o,_.K.Ka(g.QX));D.C8.xU(o,g.pz.d,g.pz.Yn);if(g.amh)o.uZ(g.amh)}D.Wz.aI(o,g)};D.Wz.prototype.YZ=function(g,o){if(g.ap8)o.Qb=g.ap8;
if(g.As)o.mZ=JSON.parse(g.As[0]);D.Wz.Wp(o,g);if(g.q_)o.u.Y.qx(g.q_);o.apq();if(g.pz){var k=_.K.Ka(g.QX).clone();
k.TY();D.Wz.s7(o,k);D.C8.xU(o,g.pz.d,g.pz.wQ);if(g.aay)o.uZ(g.aay)}};D.Wz.s7=function(g,o){for(var m=0;
m<g.d.length;m++){var k=g.d[m];if(k.add.artb==null)continue;var y=_.p.rN(k.xB()).j;_.p.D(y,o,y);var d=_.p.KS(y);
k.P2(d)}};D.Wz.sD=function(g){var o=new bd,k=0,y=g.root.children.length;for(var m=0;m<y;m++){var d=g.root.children[m].i;
if(d.add.artb==null)continue;o=o.gO(d.xB());k++}var b=new bd(0,0,g.m,g.n);if(!o.on()&&!b.ey(o))return o;
return null};D.Wz.Vf=function(g){var o=D.Wz.sD(g);if(o)D.Wz.$x(g,o,!0);return o};D.Wz.$x=function(g,o,k){var y=g.m,d=g.n,b=o.m,T=o.n,a=o.x==0&&o.y==0;
if(a&&y==b&&d==T)return;g.m=b;g.n=T;var t=[];for(var m=0;m<g.d.length;m++)t.push(m);if(!a)D.Bt.W5(g,t,null,-o.x,-o.y);
for(var m=0;m<g.d.length;m++){g.d[m].bD(g)}g.apq();if(k){var j=g.u.Y,e=g.u.N;j.x+=Math.round((o.x+(b-y)/2)*e);
j.y+=Math.round((o.y+(T-d)/2)*e)}else g.u.Y.oU(0,0);if(g.J)g.J.rect.offset(-o.x,-o.y);var v=g.Nz();for(var L=0;
L<v[0].length;L++)if(v[1][L]==-1){var H=g.HR[L];H[1]-=H[0]==0?o.x:o.y}for(var m=0;m<g.Tm.length;m++)g.Tm[m].rect.offset(-o.x,-o.y)};
D.Wz.prototype.mz=function(g,o,k,y,d){if(g.AB=="commit"){this.T1(k,d);this.disable(k,o,null,y)}else if(g.AB=="cancel"){this.disable(k,o,null,y)}var b=null,T=new bd(0,0,k.m,k.n),a=this.qi.bd;
if(g.AB=="config"){this.qi=g.qi;a=this.qi.bd;if(k==null||!g.af1)return;b=T;if(a.la==1){var t=a.x/a.y;
if(b.m/t<b.n)b.n=Math.round(b.m/t);else b.m=Math.round(b.n*t)}if(a.la==2){b.m=a.x;b.n=a.y}b.x=Math.round((k.m-b.m)/2);
b.y=Math.round((k.n-b.n)/2)}if(g.AB=="straighten"){alert("Draw a line in the image.");this.NB=!0}if(g.AB=="cropby"){if(k==null)return;
var j=g.aaD,b;if(j==0)b=k.root.B2(k,!0);if(j==1){if(k.g.length==0)alert("No layer is selected.");else{var e=k.root.St(k.g[0]);
b=e.B2(k,!0)}}if(j==2){if(k.g.length==0)alert("No layer is selected.");else{b=_.AO(k.PJ(),T,0);if(b.on())b=T.clone()}}if(j==3){if(k.J!=null)b=k.J.rect;
else alert("There is no selection.")}if(j==4){b=new bd(0,0,k.m,k.n)}}if(b&&b.on())b=null;if(b!=null){this.mb=this.cv(b,a.la!=0);
this.mb.M_(k,d);this.x3(o,N.E.s,{P:N.b.l3,G:this.id,TH:!0})}};D.Wz.prototype.T1=function(g,o){var k=this.mb.em(),y=_.p.KS(k),d=this.amc(g,k),b=!1,T=this.qi.bd,a=this.qi.$x,t=T.x,j=T.y,L;
if(this.id==D.Aq&&T.la==2&&d.O()!=t*j){d=new bd(d.x,d.y,t,j);b=!0}var e=_.K.VH(k,d);e=_.K.TY(e);var v=_.K.tM(e),H=Math.atan2(e[3],e[0]);
if(Math.abs(H)>1e-9||!v||b||a)L=this.qn(g,o,!0,e,1,y);var w=new cc(this.name,this),P=new bd(0,0,g.m,g.n);
w.data={pz:L,QX:e,q_:g.u.Y.clone(),As:D.Wz.ag3(g,d,P,!1)};D.Wz.acZ(g,w.data,d);g.DU(w);this.qw(w.data,g);
this.track(D.Wz.ai1([y.x,y.y,y.m,y.n],null,a))};D.Wz.acZ=function(g,o,k){if(k==null)return;o.WB=new bd(0,0,g.m,g.n);
o.U7=k};D.Wz.aI=function(g,o){if(o.U7==null)return;D.Wz.$x(g,o.U7)};D.Wz.Wp=function(g,o){if(o.U7==null)return;
var k=o.WB.clone();k.offset(-o.U7.x,-o.U7.y);D.Wz.$x(g,k)};D.Wz.prototype.amc=function(g,o){var k=_.K.VH(o),y=_.K.tM(k),d=_.K.Ka(k),b=d.ii,T=d.xF,a=Math.atan2(d.k,d.Ng);
d.rotate(a);var t=new bd(b,T,d.Ng,d.vP);if(!y){function j(E,m,f){var c=E[m]-E[f],M=E[m+1]-E[f+1];return Math.sqrt(c*c+M*M)}var e=j(o,0,2),v=j(o,4,6),L=Math.max(e,v),H=j(o,2,4),w=j(o,6,0),P=Math.max(H,w),Q=D.Wz.a3A(o,g.m/2,g.n/2),x,F;
if(isNaN(Q)||Q==Infinity||Q==-Infinity||Math.min(Q,1/Q)<.1)Q=(e+v)/(H+w);if(L/P>Q){x=L*1;F=x/Q}else{F=P*1;
x=F*Q}t.m=x;t.n=F}t.x=Math.round(t.x);t.y=Math.round(t.y);t.m=Math.round(t.m);t.n=Math.round(t.n);return t};
D.Wz.a3A=function(g,o,k){var y=g[0]-o,d=g[1]-k,b=g[2]-o,T=g[3]-k,a=g[6]-o,t=g[7]-k,j=g[4]-o,e=g[5]-k,v=((d-e)*a-(y-j)*t+y*e-d*j)/((T-e)*a-(b-j)*t+b*e-T*j),L=((d-e)*b-(y-j)*T+y*e-d*j)/((t-e)*b-(a-j)*T+a*e-t*j),H=-((L*t-d)*(v*T-d)+(L*a-y)*(v*b-y))/((L-1)*(v-1));
function w(Q){return Q*Q}var P=Math.sqrt((w(v-1)+w(v*T-d)/H+w(v*b-y)/H)/(w(L-1)+w(L*t-d)/H+w(L*a-y)/H));
if(v==1&&L==1)P=Math.sqrt((w(T-d)+w(b-y))/(w(t-d)+w(a-y)));return P};D.Wz.prototype.disable=function(g,o,k,y){if(g==null)return;
if(this.mb)this.mb.clear(g);this.mb=null;this.x3(o,N.E.s,{P:N.b.l3,G:this.id,TH:!1})};D.Wz.prototype.x3=function(g,o,k,y){var d=new jB(o,!0);
d.data=k;if(y)d.G=y;g.S(d)};D.az9=function(){D.Wz.call(this,[10,2],D.Aq,"tools/rcrop")};D.az9.prototype=new D.Wz;
D.afO=function(){D.Wz.call(this,[10,39],D.GN,"tools/pcrop")};D.afO.prototype=new D.Wz;D.st=function(){D.Ak.call(this,[10,21],D.Io,"tools/dodge");
this.e4="dodge"};D.st.prototype=new D.Ak;D.st.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,this.lI.expo/Math.PI);
if(this.nd==null)return;this.Z7(g)};D.st.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.e5=function(){D.Ak.call(this,[10,3],D.gI,"tools/eraser");
this.e4="erase"};D.e5.prototype=new D.Ak;D.e5.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,this.lI.flow);
if(this.nd==null)return;this.Z7(g)};D.e5.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;var b=this.Aj(g,k,y,d);this.Z7(g)};D.ja=function(){D.Ak.call(this,[10,45],D.agz,"tools/beraser");
this.e4="ierase"};D.ja.prototype=new D.Ak;D.ja.prototype.Hu=function(g,o,k,y,d){if(this.fc(y,o,d))return;
this.wA(g,k,y,d,this.lI.flow);if(this.nd==null)return;this.Z7(g)};D.ja.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.FZ=function(){D.qT.call(this,[10,15],D.ng,"tools/rselect");
this.rP="crosshair"};D.FZ.prototype=new D.qT;D.FZ.prototype.XQ=function(g,o,k,y){if(!y._J||!this.fI)return;
var d=this.B2(g,k,!0);g.I.MI=_.p.rN(d);g.nM=!0;D.L8.eU(y,d,g,o)};D.FZ.prototype.zf=function(g,o,k,y){g.I.MI=null;
g.I.Cq=[];g.nM=!0;this.finish(g,o,k,y)};D.FZ.prototype.getSelection=function(g,o,k,y){if(this.tR.ey(this.Se)||!this.fI)return null;
var d=this.B2(g,k,!0);if(d.on())return null;return D.qT.OY("Rctn",d,this.lI.anta)};D.D7=function(){D.qT.call(this,[10,4],D.ayT,"tools/eselect");
this.rP="crosshair"};D.D7.prototype=new D.qT;D.D7.prototype.XQ=function(g,o,k,y){if(!y._J||!this.fI)return;
var d=this.B2(g,k);g.I.MI=D.D7.asN(d);g.nM=!0;D.L8.eU(y,d,g,o)};D.D7.prototype.zf=function(g,o,k,y){g.I.MI=null;
g.I.Cq=[];g.nM=!0;this.finish(g,o,k,y)};D.D7.prototype.getSelection=function(g,o,k,y){if(this.tR.ey(this.Se)||!this.fI)return null;
var d=this.B2(g,k);if(!d.AM(new bd(0,0,g.m,g.n)))return null;return D.qT.OY("Elps",d,this.lI.anta)};
D.D7.asN=function(g){var o=g.x,k=g.y,y=g.x+g.m,d=g.y+g.n,b=(o+y)/2,T=(k+d)/2,a=(o-y)/2,t=(k-d)/2,j=.5522848,e={j:[b,T-t],F:["M","C","C","C","C"]};
e.j.push(b+j*a,T-t,b+a,T-j*t,b+a,T);e.j.push(b+a,T+j*t,b+j*a,T+t,b,T+t);e.j.push(b-j*a,T+t,b-a,T+j*t,b-a,T);
e.j.push(b-a,T-j*t,b-j*a,T-t,b,T-t);return e};D.Bz=function(g){D.L8.call(this,[10,5],g?D.z0:D.Z1,"tools/eyedropper");
this.ve=null;this.Fg=0;this.iP=null;this.Vd=1;this.BI=2;this.azj=!0;this.uP=!1};D.Bz.prototype=new D.L8;
D.Bz.prototype.qd=function(g){return g._J};D.Bz.prototype.Ae=function(g,o,k,y,d){if(g.P=="pickhere")this.l9(k,o,d,null,g.av5);
if(g.P=="supertool")this.ve=g.G};D.Bz.prototype.Hu=function(g,o,k,y,d){var b=this.ve;if(b){b.Hu(g,o,k,y,d);
return}this.Fg=k.p2;this.iP=d;var T=this.l9(g,null,k,y,d);this.Xd(g,o,T,d)};D.Bz.prototype.Sa=function(g,o,k,y,d){var b=this.ve;
if(b){b.Sa(g,o,k,y,d);return}var T=this.iP;if(T){var a=d.x-T.x,t=d.y-T.y,j=1,e=new bJ(T.x+a*j,T.y+t*j),v=this.l9(g,null,k,y,e);
this.Xd(g,o,v,e,new bJ(a*(1-j),t*(1-j)))}};D.Bz.prototype.Xd=function(g,o,k,y,d){var b=this.azj,T=this.uP,j=12,e=11;
if(g.u.N>4)T=!1;if(!T&&!b)return;if(d==null)d=new bJ(0,0);var a=new bd(0,0,g.m,g.n),t=g.PJ(),v=(j*2+1)*e,L=new bJ(v/2,v/2),H=new bd(0,0,v,v),w=_.Q(H.O()*4),P=g.u.mp(y.x,y.y),Q=Math.floor(P.x),x=Math.floor(P.y),F=new d3;
F.scale(1/e,1/e);F.translate(Q-j,x-j);if(T)_.scale.O5(t,a,F,w,H);var E=(j-3.4)*e,f=(j-1.7)*e,c=j*e;for(var M=0;
M<v;M++)for(var n=0;n<v;n++){var X=bJ.YX(new bJ(n,M),L);if(X>E){if(b){var u=Math.max(0,E-X+1),I=(M*v+n)*4,r=w[I+3]<<24|w[I]<<16|w[I+1]<<8|w[I+2],J=255<<24|(M<c+e*.5?k:this.Fg);
if(X>f){u=Math.max(0,f-X+1);r=J;J=4286611584}else if(!T){r=J&16777215}w[I+0]=(1-u)*(J>>>16&255)+u*(r>>>16&255);
w[I+1]=(1-u)*(J>>>8&255)+u*(r>>>8&255);w[I+2]=(1-u)*(J>>>0&255)+u*(r>>>0&255);w[I+3]=(1-u)*(J>>>24&255)+u*(r>>>24&255)}if(X>c){w[(M*v+n)*4+3]=Math.max(0,255*(c-X+1))}}}function U(m){var l=m<<2;
w[l]=0;w[l+1]=0;w[l+2]=0;w[l+3]=255}function K(m){var l=m<<2;w[l]=255;w[l+1]=255;w[l+2]=255;w[l+3]=255}var i=this.Vd*e+2,z=v-i>>>1,h=z+i-1;
if(T&&i<v)for(var m=0;m<i;m++){var R=z*v+z+m,C=h*v+z+m,G=(z+m)*v+z,W=(z+m)*v+h;U(R);U(C);U(G);U(W);if(m!=0&&m!=i-1){K(R+v);
K(C-v);K(G+1);K(W-1)}}if(!T)for(var m=-9;m<=9;m++){if(-3<m&&m<3)continue;var A=v>>>1,n=A*v+A+m,M=(A+m)*v+A;
K(n-v);U(n);K(n+v);K(M-1);U(M);K(M+1)}var $=D.L8.Y0(0,0,["#"+_.Mb(k),"RGB "+(k>>>16&255)+","+(k>>>8&255)+","+(k>>>0&255)]),a=$[1];
a.y=0;a.x=v-a.m>>>1;_.g1($[0],a,w,H);var O={Tq:w,KU:H,aV:new bJ(L.x+d.x,L.y+d.y)},Y=new jB(N.E.s,!0);
Y.data={P:N.b.ih,f8:O};o.S(Y)};D.Bz.prototype.b9=function(g,o,k,y,d,b){this.l9(g,o,k,y,d);var T=this.ve;
if(T){T.b9(g,o,k,y,d);return}if(this.iP){this.iP=null;if(b)this.l9(g,o,k,y,d,this.Fg);var a=new jB(N.E.s,!0);
a.data={P:N.b.ih,f8:"default"};o.S(a)}};D.Bz.prototype.l9=function(g,o,k,y,d,b){if(b==null)b=D.Bz.CU(g,d,this.Vd,this.BI);
var T=new jB(N.E.s);T.data={P:N.b.pB,Q6:er.wp,cL:y&&y.z(dj.M4)?1:0,Z:b};if(o)o.S(T);return b};D.Bz.CU=function(g,o,k,y){if(y==null)y=2;
var d=g.u.mp(o.x,o.y),b,T,a=g.g.length==1&&g.d[g.g[0]].W1>0,t=g.kD.length!=0,f=0,c=0,M=0;if(a||t){var j;
if(t)j=g.Tm[g.kD[0]];else{var e=g.d[g.g[0]];j=e.W1==1?e.Qp():e.arH()}T=j.B2();if(!T.oo(d))return j.color==0?0:16777215;
b=_.Q(T.O()*4);b.fill(255);var v=j.c6();_.yr(v,b)}else if(y==0&&g.g.length!=0){var e=g.d[g.g[0]];b=e.buffer;
T=e.rect}else{b=y==2?g.PJ():g.PJ(g.g[0]);T=new bd(0,0,g.m,g.n)}var L=Math.floor(d.x)-T.x,H=Math.floor(d.y)-T.y,w=(k-1)/2,P=Math.max(0,L-w),Q=Math.max(0,H-w),x=Math.min(T.m,L+w+1),F=Math.min(T.n,H+w+1),E=(x-P)*(F-Q);
for(var L=P;L<x;L++)for(var H=Q;H<F;H++){var m=4*(H*T.m+L);f+=b[m];c+=b[m+1];M+=b[m+2]}f=Math.round(f/E);
c=Math.round(c/E);M=Math.round(M/E);return f<<16|c<<8|M};D.Bz.prototype.mz=function(g){var o=g.lI;this.Vd=[1,3,5,11,31][o[0]];
this.BI=o[1];this.azj=o[2];this.uP=o[3]};D.Q2=function(){D.L8.call(this,[10,6],D.Jr,"tools/gradient");
this.lI={M:JSON.parse(iZ.R_.aex).v,GO:"Lnr",TU:!1,aA:!1,agH:"norm",$C:1};this.ZX=!1;this.a8=null};D.Q2.prototype=new D.L8;
D.Q2.prototype.enable=function(g,o,k,y){var d=new jB(N.E.s,!0);d.data={P:N.b.ih,f8:"default"};o.S(d)};
D.Q2.prototype.mz=function(g){this.lI=g.Q6};D.Q2.prototype.Hu=function(g,o,k,y,d){if(!g.q0())return;
this.a8=g.u.mp(d.x,d.y);this.a8=D.Bt.Qw(g,this.a8,k);this.ZX=!0};D.Q2.prototype.Sa=function(g,o,k,y,d){if(!this.ZX)return;
var b=g.u.mp(d.x,d.y);b=D.Bt.Qw(g,b,k);if(y.z(dj.d_))b=D.Q2.mS(this.a8,b);g.I.MI={j:[this.a8.x,this.a8.y,b.x,b.y],F:["M","L"]};
g.I.TN=[this.a8.x,this.a8.y,b.x,b.y];g.nM=!0};D.Q2.prototype.b9=function(g,o,k,y,d){if(!this.ZX)return;
var b=g.d[g.g[0]],T=g.u.mp(d.x,d.y);T=D.Bt.Qw(g,T,k);if(y.z(dj.d_))T=D.Q2.mS(this.a8,T);var a=T.Eu(this.a8),t=bJ.r9(this.a8,T,.5),j=Math.atan2(a.y,a.x),e=bJ.YX(this.a8,T),v=Math.sin(j),L=Math.cos(j);
if(e>2){var H;if(g.J)H=g.J.rect;else H=new bd(0,0,g.m,g.n);var w=_.Q(H.O()*4),P=this.lI,Q=P.GO;if(Q!="Lnr"){e*=2;
t=this.a8}_.M.AE(P.M,w,H,[L*1/e,v*1/e,-v*1/e,L*1/e],t.x,t.y,P.TU,iZ.M.types.indexOf(Q),k.p2,k.Pp,null,P.aA);
var x=Math.round(P.$C*256),F=w.length;if(x!=256)for(var m=0;m<F;m+=4)w[m+3]=w[m+3]*x>>>8;var E=new jB(N.E.L);
E.G=D.gI;E.data={P:"fillBMP",lU:w,nG:P.agH,Y5:this.name};o.S(E)}g.I.MI=null;g.I.TN=[];g.nM=!0;this.ZX=!1};
D.Q2.prototype.Ae=function(g,o,k,y,d){function b(L){L=L.v;var H=L.Hrzn.v.val,w=L.Vrtc.v.val;return k.u.gk(H,w)}if(g.P=="fromAction"){var T=this.lI,a=this.lI={};
for(var t in T)a[t]=T[t];var j=g.A3.fV;if(j.Opct)a.$C=j.Opct.v.val/100;if(j.Dthr)a.aA=j.Dthr.v;if(j.Grad)a.M=j.Grad.v;
if(j.Type)a.GO=j.Type.v.GrdT;var e=b(j.From),v=b(j.T);this.Hu(k,o,d,y,e);this.b9(k,o,d,y,v);this.lI=T}};
D.Q2.mS=function(g,o){if(g.ey(o))return g;var k=o.x-g.x,y=o.y-g.y,d=Math.abs(k),b=Math.abs(y);if(d>b)b=d/2>b?0:d;
if(b>d)d=b/2>d?0:b;d=k>0?d:-d;b=y>0?b:-b;var T=Math.sqrt(k*k+y*y)/Math.sqrt(d*d+b*b);return new bJ(g.x+d*T,g.y+b*T)};
D.Q2.OJ=function(g,o,k,y,d,b,T){var a=new bd(0,0,o,k),t=_.Q(o*k*4);_.sA(t,o,k,4);var j=Math.sin(y),e=Math.cos(y),v=_.Q(o*k*4);
_.M.AE(g,v,a,[e*1/o,j*1/o,-j*1/k,e*1/k],o/2,k/2,!1,0,d,b);_.l.I3("norm",v,a,t,a,a,1);if(T)T.putImageData(new ImageData(new Uint8ClampedArray(t.buffer),o,k),0,0);
else return cp.V$(t.buffer,o,k,null,null,!0)};D.Q2.a1U=function(g,o,k){var y=JSON.parse(JSON.stringify(g));
if(y.Clrs)for(var m=0;m<y.Clrs.v.length;m++){var d=y.Clrs.v[m].v,b=d.Type.v.Clry;if(b=="UsrS")continue;
var T=b=="FrgC"?o:k;d.Type.v.Clry="UsrS";d.Clr={t:"Objc",v:_.M.UF({o:T>>16&255,C:T>>8&255,k:T&255})}}return y};
D.Uv=function(){D.L8.call(this,[10,7],D.vA,"tools/hand");this.tr=!1;this.iP=new bJ(0,0);this.zV=null;
this.Az=0};D.Uv.prototype=new D.L8;D.Uv.prototype.mz=function(g,o,k,y){this.tr=g.tr};D.Uv.prototype.Ae=function(g,o,k,y,d){var b=g.P;
if(b=="setcls"){k.u.sv=g.sv;k.nM=!0;k.pP=!0}if(b=="scroll"&&!y.z(dj.M4)){if(y.z(dj.IQ))D.Uv.cf(k,k.u.Y.x-g.gl.y,k.u.Y.y-g.gl.x);
else D.Uv.cf(k,k.u.Y.x-g.gl.x,k.u.Y.y-g.gl.y)}};D.Uv.prototype.enable=function(g,o,k,y){this.zV=null;
var d=new jB(N.E.s,!0);d.data={P:N.b.ih,f8:"grab"};o.S(d);if(g&&Date.now()-this.Az<300){d.type=N.E.L;
d.G=D.aC;d.data={P:"adapt",Z:"fitscr"};o.S(d)}this.Az=Date.now()};D.Uv.prototype.Hu=function(g,o,k,y,d){this.zV=g.u.Y.clone();
this.iP.oU(d.x,d.y)};D.Uv.prototype.Sa=function(g,o,k,y,d){if(!d._J)return;if(this.zV==null)this.Hu(g,o,k,y,d);
var b=this.tr?o._f:[g];for(var m=0;m<b.length;m++)D.Uv.cf(b[m],this.zV.x+(d.x-this.iP.x),this.zV.y+(d.y-this.iP.y))};
D.Uv.prototype.b9=function(g,o,k,y,d){this.zV=null};D.Uv.cf=function(g,o,k){var y=g.u.N,d=g.u.dd,b=d.m,T=d.n,a=g.m*y,t=g.n*y,j=a<b&&t<T,e=b/2+a/2-64,v=T/2+t/2-64;
g.u.Y.oU(Math.max(-e,Math.min(e,o)),Math.max(-v,Math.min(v,k)));g.pP=!0};D.T6=function(){D.L8.call(this,[10,47],D.rp,"tools/rview");
this.iP=new bJ(0,0);this.Sk=null;this.MJ=null;this.Az=0};D.T6.prototype=new D.L8;D.T6.prototype.enable=function(g,o,k,y){this.zV=null;
var d=new jB(N.E.s,!0);d.data={P:N.b.ih,f8:"grab"};o.S(d);if(g&&Date.now()-this.Az<300&&g.u.ef!=0){g.u.ef=0;
g.nM=!0}this.Az=Date.now();if(g)this.ny(g,o)};D.T6.prototype.disable=function(g,o,k,y,d){if(g)this.ny(g,o)};
D.T6.prototype.md=function(g,o,k,y){if(g)this.ny(g,o)};D.T6.prototype.Hu=function(g,o,k,y,d){this.iP.oU(d.x,d.y);
var b=g.u;this.Sk=b.mp(b.dd.m/2,b.dd.n/2);this.MJ=b.dY();var T=b.mp(b.dd.m/2,b.dd.n/2),a=Math.min(b.dd.m,b.dd.n)*.35/b.N,t=a*.2,j=T.x,e=T.y;
g.I.MI={F:"M L L L L L".split(" "),j:[j,e,j,e-a,j+t,e,j,e+a,j-t,e,j,e-a]};g.nM=!0};D.T6.prototype.awB=function(g){var o=g.u,k=o.mp(o.dd.m/2,o.dd.n/2);
g.I.MI={F:["M","L"],j:[k.x,k.y,k.x,k.y-200]}};D.T6.prototype.Sa=function(g,o,k,y,d){if(!d._J)return;
var b=g.u,T=this.Sk,a=this.iP,t=new bJ(b.dd.m/2,b.dd.n/2),j=Math.atan2(d.y-t.y,d.x-t.x),e=Math.atan2(a.y-t.y,a.x-t.x),v=Math.atan2(this.MJ.k,this.MJ.Ng),L=j-e,H=Math.PI/4;
if(y.z(dj.d_)){L=v+H*Math.round((L-v)/H)}this.ahv(g,o,this.MJ.clone(),T,L)};D.T6.prototype.b9=function(g,o,k,y,d){g.I.MI=null;
g.nM=!0};D.T6.prototype.mz=function(g,o,k,y){this.ahv(k,o,null,null,g.UJ-k.u.ef);k.u.ef=g.UJ};D.T6.prototype.ahv=function(g,o,k,y,d){var b=g.u;
if(k==null)k=b.dY();if(y==null)y=b.mp(b.dd.m/2,b.dd.n/2);k.translate(-y.x,-y.y);k.rotate(d);k.translate(y.x,y.y);
b.a8G(k);if(g.m*b.N<b.dd.m&&g.n*b.N<b.dd.n)b.Y.oU(0,0);g.nM=!0;this.ny(g,o)};D.T6.prototype.ny=function(g,o){var k=new jB(N.E.s,!0);
k.data={P:N.b.l3,G:this.id,UJ:g.u.ef};o.S(k)};D.cG=function(){D.GG.call(this,[10,25],D.lj,"tools/hbrush")};
D.cG.prototype=new D.GG("");D.cG.prototype.b9=function(g,o,k,y,d){if(this.nd==null)return;this.yX(g,"heal",this.nd.lo(),this.nd.B2(),this.nd.Ut());
this.U(g,this.nd.Ut());D.Ak.prototype.b9.call(this,g,o,k,y,d);if(!this.lI.algnd)this.Y=null};D.vu=function(g){D.L8.call(this,g?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],g?D.RC:D.uk,g?"tools/vtype":"tools/htype");
this.kk=[];this.Px=null;this.caller=null;this.Zj=1;this.aR=null;this.a76=0;this.jW=0;this.a9u=null;this.rA=null;
this.lK=null;this.cy=null;this.ET=null;this.HS=null;this.aqQ=null;this.US=null;this.mb=null;this.H0=null;
this.az4=null;this.QE=!1;this.ft=!1;this.w5=!1;this.yf=null;this.go=null;this.a9G=null;this.km=!1;this.hq=!1;
this.FQ=-1;this.i_=-1;this.La=document.createElement("textarea");this.La.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.La.addEventListener("input",this.CS.bind(this),!1);this.La.addEventListener("keydown",this.ahT.bind(this),!1);
this.La.addEventListener("keyup",this.ajB.bind(this),!1)};D.vu.prototype=new D.L8;D.vu.prototype.qd=function(g){return g._J};
D.vu.prototype.jF=function(g,o,k,y){if(this.lK!=null||this.id==D.RC)return;this.caller=o;var d=this.ah2(g);
if(d.length!=0){var b=null,T=[],a=[];for(var m=0;m<d.length;m++){var t=g.d[d[m]],j=t.add.TySh,e=0,v=bw.fY(j.O7).length-2,L=bw.DE(j.O7,e,v);
bw._m(L,j.D.Va());if(L.RY.Font!=null)L.RY.Font=L.n9[L.RY.Font].Name;b=L.n9;T.push(L.RY);a.push(L.by)}var L={n9:b,RY:bw.x7(T),by:bw.x7(a)};
if(L.RY.Font!=null)bw.nx(L,L.RY.Font);this.axe(o,L,j)}};D.vu.prototype.ah2=function(g){var o=[];for(var m=0;
m<g.g.length;m++)if(g.d[g.g[m]]&&g.d[g.g[m]].add.TySh)o.push(g.g[m]);return o};D.vu.prototype.Ae=function(g,o,k,y,d){var b=g.P=="insertGlyph",T=g.P=="copyText";
if((b||T||g.P=="insertText")&&this.lK){var a=b?String.fromCharCode(65533):g.Z,t=this.La,j=t.value,e=t.selectionStart,v=t.selectionEnd;
if(T){ap.SN(new Blob([j.slice(e,v)],{type:"text/plain"}))}else{t.value=j.slice(0,e)+a+j.slice(v);t.selectionStart=t.selectionEnd=e+a.length;
this.CS(null,b?g.Z:null);t.focus()}}if(g.P=="updateStyles"){if(this.lK==null){var L=this.ah2(k),H=!1;
if(L.length!=0){this.RF(k,o,d,L);for(var m=0;m<L.length;m++){var w=k.d[L[m]],P=w.add.TySh;bw.Cr(P,this.Zj);
this.lK=w;var Q=bw.fY(P.O7);this.FQ=0;this.i_=Q.length-1;bw.SX(P.O7,this.FQ,this.i_,this.cA(d,P));var x=this.Ov(k,d);
if(x==!1)H=!0}if(H){this.km=!0;return}this.mK(k,o)}return}this.ma(d)}if(g.P.startsWith("warp")){var F=this.hq;
if(g.P=="warp"||g.P=="warpCancel"){if(this.lK==null)return;if(g.P=="warp")this.lK.add.TySh.IV=g.uR;else this.lK.add.TySh.IV=this.aqQ;
this.Ov(k,d);if(!F)this.oA(k)}if(g.P!="warp")this.La.focus();if((g.P=="warpConfirm"||g.P=="warpCancel")&&F){this.hq=!1;
if(g.P=="warpConfirm")this.mK(k,o);else this.GK(k,o)}}if(g.P=="editCurr"){if(d.nE!=D.uk){this.aR=d.nE;
var E=new jB(N.E.s,!0);E.data={P:N.b.v1,G:D.uk};o.S(E)}if(this.lK!=null)this.disable(k,o,d,y);this.Px=d;
this.caller=o;this.RF(k,o,d,[g.LP]);var Q=bw.fY(this.lK.add.TySh.O7);this.FQ=0;this.i_=Q.length-1;this.oA(k);
this.eV();this.La.focus()}if(g.P=="switchPntPrgr"){if(this.lK)return;var w=k.d[k.g[0]],P=w.add.TySh,f=P.D.Va(),c=JSON.parse(JSON.stringify(P.O7)),M=bw.sZ(c),n=M==1?bw.cO(c):[0,0,Math.round(w.rect.m*1.05/f),Math.round(w.rect.n*1.25/f)],X=bw.DE(c,0,0),u=X.n9[X.RY.Font].Name,I=d.At.xT(u),r=[0,n[2],n[2]/2][X.by.Justification%3],J=I?dR.Yg(I,u,X.RY):X.RY.FontSize*.8;
bw.ms(c,1-M);if(M==0){r=-r;J=-J;bw.Y$(c,[0,0,n[2],n[3]])}var U=new d3(1,0,0,1,r,J);U.concat(P.D);this.Ae({Fa:k.g[0],P:"newED",hJ:c,D:U,a8_:[16,3,M==1?0:1]},o,k,y,d)}if(g.P=="newED"){var w=k.d[g.Fa],P=w.add.TySh,K=this.Md(k,[g.Fa]);
P.O7=g.hJ;if(g.D)P.D=g.D;if(il.iW(P,d.At,o)){il.Ov(w,d.At,k);k.U()}else k.Hi=!0;var i=new cc(g.a8_?g.a8_:this.name,this);
i.data={oQ:K,yh:this.Md(k,[g.Fa])};k.DU(i)}if(g.P=="fromAction"){var z=g.A3.fV.Usng.v,h=z.TxtC.v,R=[];
for(var m=0;m<2;m++){var C=h[m==0?"Hrzn":"Vrtc"].v,a=C.val;if(C.type=="#Prc")a=(m==0?k.m:k.n)*(a/100);
R[m]=a}this.u9(k,o,d,y,k.u.gk(R[0],R[1]),!0);var w=k.d[k.g[0]],P=w.add.TySh,G=P.O7,j=bw.fY(G);bw.uW(G,0,j.length-1);
bw.pj(G,0,z.Txt.v.replace(/\r/g,"\n"));j=bw.fY(G);for(var M=0;M<2;M++){var W=z[M==0?"Txtt":"paragraphStyleRange"].v;
for(var m=0;m<W.length;m++){var A=W[m].v,e=A.From.v,v=Math.min(A.T.v-1,j.length-1);A=A[M==0?"TxtS":"paragraphStyle"].v;
var $=bw.DE(G,e,v),O=M==0?$.RY:$.by;for(var Y in A){var l=A[Y].v;if(Y=="Sz")O.FontSize=Math.round(l.val*(l.type=="#Pnt"?k.Qb/72:1));
else if(Y=="fontPostScriptName")bw.nx($,l);else if(Y=="Algn")O.Justification={Left:1,Cntr:2}[l.Alg];
else if(Y=="leading")O.Leading=A[Y].v.val;else if(Y=="baselineShift")O.BaselineShift=A[Y].v.val;else if(Y=="autoLeading")O.AutoLeading=A[Y].v;
else if(Y=="syntheticBold")O.FauxBold=A[Y].v;else if(Y=="syntheticItalic")O.FauxItalic=A[Y].v;else if(Y=="Trck")O.Tracking=A[Y].v;
else if(Y=="verticalScale")O.VerticalScale=A[Y].v/100;else if(Y=="horizontalScale")O.HorizontalScale=A[Y].v/100;
else if(Y=="Clr")O.FillColor={Type:1,Values:[1,l.Rd.v/255,l.Grn.v/255,l.Bl.v/255]}}bw.SX(G,e,v,$)}}if(il.WV(k,d.At,o))il.Ov(w,d.At,k);
else k.Hi=!0;k.U();this.mK(k,o)}};D.vu.prototype.ma=function(g){var o=Math.min(this.FQ,this.i_),k=Math.max(this.FQ,this.i_),y=this.lK.add.TySh;
bw.Cr(y,this.Zj);var d=this.cA(g,y);bw.SX(y.O7,o,k-1,d);var b=this.caller.qq(),T=this.Ov(b,g);if(T)this.oA(b);
if(document.activeElement.tagName.toLowerCase()!="input")this.La.focus()};D.vu.prototype.xg=function(g){return this.kk.indexOf(g)!=-1};
D.vu.prototype.enable=function(g,o,k,y){var d=this.La;o.e.appendChild(d);this.US="default";this.Xd(o)};
D.vu.prototype.tt=function(){return this.lK!=null};D.vu.BD=function(g,o){for(var m=g.d.length-1;m>=0;
m--){var k=g.d[m];if(k.add.TySh&&k.rect.oo(o)&&g.a9W(m)){var y=k.RA(31);return y?-2:m}}return-1};D.vu.prototype.Hu=function(g,o,k,y,d){this.Px=k;
this.caller=o;var b=g.u.mp(d.x,d.y),T=this.lK==null;if(T){var a=D.vu.BD(g,b);if(a==-2){alert(d9.get([6,57,0]));
return}if(a>=0&&!y.z(dj.d_)){if(!il.iW(g.d[a].add.TySh,k.At,o)){alert("Fonts not loaded yet");return}this.RF(g,o,k,[a])}else{this.w5=!0;
this.yf=d;return}}var t=T?-1:bw.sZ(this.lK.add.TySh.O7),j=this.H0?this.H0:this.mb;if(j&&j.Hu(g,k,y,b,null,null,d)&&_.uR.VV(this.lK.add.TySh.IV)||!T&&_.p.Ts(b,this.lK.rect)>20/g.u.N&&(t==0||t==1)){this.QE=!0;
this.go=b;this.a9G=this.lK.add.TySh.D.clone();if(this.FQ==-1&&this.i_==-1)this.FQ=this.i_=this.Hm(b)}else{if(this.ET==null){alert("Fonts not loaded yet");
return}this.ft=!0;this.FQ=this.i_=this.Hm(b);var e=Date.now();if(e-this.a76>300)this.jW=0;this.jW++;
this.a76=e;if(this.jW==2)this.aiT();if(this.jW==3)this.a1N();if(this.jW>1){this.ft=!1}}this.eV();this.oA(g)};
D.vu.prototype.RF=function(g,o,k,y){var d=g.d[y[0]];this.lK=d;this.x3(o,N.E.s,{P:N.b.l3,G:this.id,AB:"showactive"});
this.cy=y;g.g=y.slice(0);g.w4();g.Cn=!0;this.HS=this.Md(g,y);this.Vu(d.add.TySh);this.Ov(g,k)};D.vu.prototype.Vu=function(g){if(bw.sZ(g.O7)!=1)return;
var o=bw.cO(g.O7);o=new bd(0,0,o[2]-o[0],o[3]-o[1]);var k=[o.x,o.y,o.x+o.m,o.y,o.x+o.m,o.y+o.n,o.x,o.y+o.n];
_.p.D(k,g.D,k);this.mb=new ax(k,!1,!1,!1,!0)};D.vu.prototype.aiT=function(){var g=bw.fY(this.lK.add.TySh.O7);
this.FQ=this.adN(g,this.FQ);this.i_=this.amv(g,this.FQ)};D.vu.prototype.adN=function(g,o){var k=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];
for(var m=0;m<k.length;m++)y.push(k.charAt(m));var d=y.indexOf(g[o])==-1?!0:!1;for(var m=o-1;m>=0;m--)if(y.indexOf(g.charAt(m))!=-1==d)return m+1;
return 0};D.vu.prototype.amv=function(g,o){var k=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];for(var m=0;
m<k.length;m++)y.push(k.charAt(m));var d=y.indexOf(g[o])==-1?!0:!1;for(var m=o+1;m<g.length;m++)if(y.indexOf(g.charAt(m))!=-1==d)return m;
return g.length-1};D.vu.prototype.a1N=function(){var g=this.ET.aqt(this.FQ);this.FQ=g[0];this.i_=g[1]};
D.vu.prototype.Xd=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.ih,f8:this.US};g.S(o)};D.vu.prototype.Sa=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=this.lK;
if(!d._J){var a="default",t=this.mb,j=this.H0?this.H0:t;if(j&&_.uR.VV(T.add.TySh.IV)){var e=j.XN(b,g.u.N,null,d);
if(e)a=e;else if(j==t&&t.ds(b))a="text"}else if(T&&_.p.Ts(b,T.rect)>20/g.u.N)a="move";else if(D.vu.BD(g,b)>=0)a="text";
if(a!=this.US){this.US=a;this.Xd(o)}}var v=this.yf;if(this.w5&&Math.min(d.x-v.x,d.y-v.y)>4/g.u.N){this.w5=!1;
this.u9(g,o,k,y,d);T=this.lK;this.QE=!0;this.mb=new ax(null,!1,!1,!1,!0);var L=g.u.mp(this.yf.x,this.yf.y);
L.x=Math.round(L.x);L.y=Math.round(L.y);this.mb.Hu(g,k,y,L,null,null,d,g.u.ef)}if(this.QE){var H=T.add.TySh;
if(this.H0){this.H0.Sa(g,k,y,b);var w=_.K.Ka(_.K.VH(this.H0.em(),this.az4));H.D=w;this.Ov(g,k);bw.MQ(H)}else if(this.mb){this.mb.Sa(g,k,y,b);
var P=H.D.clone(),Q=Math.atan2(P.k,P.Ng);P.rotate(Q);var w=_.K.Ka(_.K.VH(this.mb.em())),x=Math.atan2(w.k,w.Ng);
w.rotate(x);if(!isNaN(w.Ng)&&w.Ng*w.vP-w.k*w._I!=0){var F=new bd(0,0,w.Ng/P.Ng,w.vP/P.vP),E=Math.round(F.m),f=Math.round(F.n),c=H.O7.Curve;
if(c){var M=bw.cO(H.O7),n=new d3(E/M[2],0,0,f/M[3],0,0);_.p.D(c.Points,n,c.Points);bw.MQ(H)}bw.Y$(H.O7,[0,0,E,f]);
H.D=_.K.Ka(_.K.VH(this.mb.em(),F));this.Ov(g,k);bw.MQ(H)}}else{var X=b.x-this.go.x,u=b.y-this.go.y;H.D=this.a9G.clone();
var I=new bJ(H.D.ii+X,H.D.xF+u);I=D.Bt.Qw(g,I,k);H.D.ii=I.x;H.D.xF=I.y;this.Ov(g,k)}}if(this.ft)this.i_=this.Hm(b);
if(this.QE||this.ft)this.oA(g)};D.vu.prototype.u9=function(g,o,k,y,d,b){var T=g.uM(),a=T[0],t=T[1],j=g.Qf();
j.add.lnsr="rend";var e=g.d.slice(0);j.mP("Text layer "+e.length);this.lK=j;var v=g.g.length==0?g.d.length-1:g.g[g.g.length-1],L=v+1;
if(e[v].add.lsct==cK.TD)L--;this.HS={No:e.slice(0),J2:g.g.slice(0)};e.splice(L,0,j);g.g=[L];this.FQ=this.i_=0;
g.x8(e);this.HS.ze=e.slice(0);this.HS.A2=g.g.slice(0);this.x3(o,N.E.s,{P:N.b.l3,G:this.id,AB:"showactive"});
var H=g.u.mp(d.x,d.y),w=k.u1;console.log(w);if(this.id==D.RC){w=JSON.parse(JSON.stringify(w));w.RY.BaselineDirection=1}j.add.TySh=bw.j_(H.x,H.y,w,g.u.ef);
var P=j.add.TySh,Q=P.O7;if(this.id==D.RC)Q._LineOrientation=2;bw.Cr(P,this.Zj);if(d._J)bw.ms(Q,1);else{bw.ms(Q,0);
var x=a[t.pop()],F=x?x.add.vmsk:null;if(b)F=null;if(F&&!y.z(dj.d_)){F=F.clone();var E=F.a,c,M;for(var m=0;
m<E.length;m++)if(E[m].dJ!=null)E[m].dJ=0;var f=5/g.u.N;c=_.w.DQ(F.a,H,!0,f);if(c.Sp==-1)c=_.w.DQ(F.a,H);
if(c.Sp!=-1){bw.ms(Q,1);var n=_.w.SO(E,c.Sp),X=_.w.hQ(E,c.Sp)-1;E=F.a=E.slice(0,2).concat(E.slice(n,n+X+1));
F.g=[];P.add={vmsk:F,vogk:p.Ko(E)};Q.Curve={};bw.iD(P);if(c.QL!=null){var u=dR.AK(Q.Curve);_.p.D(u[0],P.D,u[0]);
var I=_.p.IN(u[0],H.x,H.y),r=k.u1.by.Justification;if(r==2||r==5){var J=(u[2][I]+u[3]*.5)%u[3];I=dR.NM(J,u[2])}var U=u[1][I];
U=U%X;F.zA=[U,U];bw.iD(P)}else this.Vu(P)}}}return j};D.vu.prototype.b9=function(g,o,k,y,d,b){if(b){this.w5=!1;
return}if(this.lK==null&&!this.w5)return;var T=g.u.mp(d.x,d.y),a=this.w5;if(this.w5){this.w5=!1;this.u9(g,o,k,y,d);
this.ft=!0}if(this.QE||this.ft){this.oA(g);this.eV();if(a)this.ma(k)}if(this.QE&&this.mb)this.mb.b9(g,k,y,T);
this.QE=this.ft=!1;this.La.focus()};D.vu.prototype.eV=function(){var g=this.lK.add.TySh,o=Math.min(this.FQ,this.i_),k=Math.max(this.FQ,this.i_),y,d;
if(o==k){var b=bw.fY(g.O7);if(o==0||b.charAt(o-1)=="\n")y=d=o;else y=d=o-1}else{y=o;d=k-1}var T=bw.DE(g.O7,y,d);
bw._m(T,g.D.Va());this.axe(this.caller,T,g)};D.vu.prototype.axe=function(g,o,k){this.x3(g,N.E.s,{P:N.b.pB,Q6:er.cw,u1:o});
var y=this.Zj=bw.Vx(k);this.x3(this.caller,N.E.s,{P:N.b.l3,G:this.id,AB:"changeAA",M$:y})};D.vu.prototype.arf=function(){var g=this.lK;
if(g&&!this.QE&&this.H0!=null){var o=this.caller.qq();this.H0.b9(o,this.Px,null,null);this.H0=null;this.Vu(g.add.TySh);
this.oA(o)}};D.vu.prototype.disable=function(g,o,k,y){var d=this.lK;this.mK(g,o)};D.vu.prototype.mz=function(g,o,k,y,d){if(this.hq)return;
if(g.AB=="commit")this.mK(k,o);if(g.AB=="cancel")this.GK(k,o);if(g.AB=="changeAA"){this.Zj=g.M$;if(k!=null)this.Ae({P:"updateStyles"},o,k,y,d)}if(g.AB=="showwarp"){if(k==null)return;
if(this.lK==null){var b=k.d[k.g[0]],T=b.add.TySh;if(T==null)return;this.RF(k,o,d,[k.g[0]]);this.La.focus();
this.hq=!0}this.aqQ=this.lK.add.TySh.IV;var a=new jB(N.E.s,!0);a.data={P:N.b.xp,Pv:"textwarp"};o.S(a)}};
D.vu.prototype.mt=function(g,o){if(o!=er.tV)return;if(this.km){this.km=!1;var k=this.caller.qq(),y=this.cy;
for(var m=0;m<y.length;m++){this.lK=k.d[y[m]];this.Ov(k,g)}this.mK(k,this.caller);return}if(this.lK)this.ma(g)};
D.vu.prototype.cA=function(g,o){var k=JSON.parse(JSON.stringify(g.u1));bw._m(k,1/o.D.Va());return k};
D.vu.prototype.qw=function(g,o){if(g.oQ!=null)this.PO(o,g.yh);else this.axA(o,g.ze,g.A2)};D.vu.prototype.YZ=function(g,o){if(g.oQ!=null)this.PO(o,g.oQ);
else this.axA(o,g.No,g.J2)};D.vu.prototype.PO=function(g,o){for(var m=0;m<o.length;m++){var k=o[m],y=k.Fa,d=g.d[y];
d.buffer=k.sP;d.rect=k.KU.clone();d.U();d.Of.pR=null;d.Of.path=null;var b=d.add.TySh;b.IV=k.uR;b.Rt=k.Rt.clone();
b.D=k.D.clone();b.O7=JSON.parse(JSON.stringify(k.O7));d.u8()}g.U()};D.vu.prototype.Md=function(g,o){var k=[];
for(var m=0;m<o.length;m++){var y=o[m],d=g.d[y],b=d.add.TySh;k.push({Fa:y,D:b.D.clone(),uR:JSON.parse(JSON.stringify(b.IV)),Rt:b.Rt.clone(),O7:JSON.parse(JSON.stringify(b.O7)),sP:d.buffer.slice(0),KU:d.rect.clone()})}return k};
D.vu.prototype.axA=function(g,o,k){g.g=k;g.x8(o);g.U();g.Qr=!0};D.vu.prototype.Ov=function(g,o,k){if(k==null)k=!1;
var y=this.lK.add.TySh;if(!il.iW(y,o.At,this.caller))return!1;if(!k){var d=bw.fY(y.O7);this.La.value=d.slice(0,d.length-1)}var b=this.lK.rect,T=il.Ov(this.lK,o.At,g);
this.ET=T[0];var a=T[1];if(_.uR.VV(y.IV))y.Rt=new bd;else{if(bw.sZ(y.O7)==1){var t=bw.cO(y.O7),cy=a.Rt.y;
y.Rt=new bd(0,cy,t[2]-t[0],t[3]-t[1]-cy)}else y.Rt=a.Rt}g.Tf();g.U(g.root.JY(a.KU.gO(b),g,g.d.indexOf(this.lK)));
return!0};D.vu.prototype.CS=function(g,o){if(this.lK==null||this.hq)return;var k=this.La.selectionStart,y=this.lK.add.TySh,d=bw.fY(y.O7),b=this.La.value+"\n",T=Math.min(this.FQ,this.i_),a=Math.max(this.FQ,this.i_),L=!1;
this.FQ=Math.min(k,T);if(b.length-k<d.length-this.i_)this.i_=d.length-b.length+k;if(d!=b){while(this.FQ>0&&d.charAt(this.FQ-1)!=b.charAt(this.FQ-1))this.FQ--}var t=d.substring(0,this.FQ),j=d.substring(this.i_,d.length),e=b.substring(this.FQ,b.length-j.length);
bw.uW(y.O7,this.FQ,this.i_);bw.pj(y.O7,this.FQ,e);if(o!=null)bw.ahd(y.O7,this.FQ,o);var v=this.cA(this.Px,y),H=-1,w=Array.from(e);
for(var m=0;m<w.length;m++)H=Math.max(H,w[m].codePointAt(0));if(H!=-1&&H>128&&H!=65533&&v.RY.Font!=null){var P=v.n9[v.RY.Font].Name,Q=this.Px.At.LK(H,P,v.n9);
if(P!=Q){bw.nx(v,Q);L=!0}}if(this.rA!=null&&e==this.rA){var x=JSON.parse(this.a9u);v.RY=x.RY;v.n9=x.n9;
L=!0}bw.SX(y.O7,this.FQ,this.FQ+e.length-1,v);this.FQ=this.i_=t.length+e.length;var F=this.caller.qq(),E=this.Ov(F,this.Px,!0);
if(E)this.oA(F,!0);if(L)this.eV()};D.vu.prototype.ajB=function(g){var o=dj;if(!g.ctrlKey)this.arf();
g.stopPropagation()};D.vu.prototype.ahT=function(g){g.stopPropagation();var o=g.ctrlKey||g.metaKey,k=dj,t=0,j=0,f=0,i=!1;
if(this.lK==null||this.hq)return;if(this.lK==null)return;var y=this.caller.qq();if(this.H0==null&&o){var d=this.lK.add.TySh,b=bw.sZ(d.O7),T;
if(b==1){T=bw.cO(d.O7);T=new bd(0,0,T[2]-T[0],T[3]-T[1])}else T=this.ET.b$();var a=[T.x,T.y,T.x+T.m,T.y,T.x+T.m,T.y+T.n,T.x,T.y+T.n];
_.p.D(a,d.D,a);this.H0=new ax(a,!0,!0,!1,!1);this.az4=T;this.oA(y)}if(k.M0(g.code,k.MA))t=1;if(k.M0(g.code,k.D8))t=-1;
if(k.M0(g.code,k.Ef))j=-1;if(k.M0(g.code,k.tu))j=1;var e=k.M0(g.code,dj.ZK),v=k.M0(g.code,dj.agL);if(k.M0(g.code,dj.zu)&&o){this.mK(y,this.caller);
return}if(k.M0(g.code,dj.bC)){this.GK(y,this.caller);return}if(k.M0(g.code,dj.EP)){g.preventDefault();
var L=this.La,H=L.value,w=L.selectionStart,P=L.selectionEnd;L.value=H.substring(0,w)+"\t"+H.substring(P);
L.selectionStart=L.selectionEnd=w+1;this.CS(null);return}var Q=k.M0(g.code,k.dk),x=k.M0(g.code,k.Mt);
if(o&&(Q||x)){g.preventDefault();var F=new jB(N.E.L,!0);F.G=D.aC;F.data={P:"zoom",ZS:Q};this.caller.S(F)}if(k.M0(g.code,k.mG))f=1;
if(k.M0(g.code,k.Og))f=-1;var c=this.FQ==this.i_,M=o&&g.shiftKey&&f!=0&&!c;if(M||g.altKey&&t!=0){var n=JSON.parse(JSON.stringify(this.Px.u1));
if(M){var X=n.RY.FontSize;if(X==null)X=16;n.RY.FontSize=Math.max(1,X+f*(g.altKey?5:1))}else{if(c){n.RY.Kerning+=20*t;
n.RY.AutoKerning=!1}else n.RY.Tracking+=20*t}g.preventDefault();var u=new jB(N.E.s,!0);u.data={P:N.b.pB,Q6:er.cw,u1:n};
this.caller.S(u);var F=new jB(N.E.L,!0);F.G=D.uk;F.data={P:"updateStyles"};this.caller.S(F);return}if((k.M0(g.code,k.qb)||k.M0(g.code,k.yW))&&o){var I=this.FQ,r=this.i_;
if(I>r){var J=I;I=r;r=J}var d=this.lK.add.TySh,U=bw.fY(d.O7);if(I!=r){this.rA=U.slice(I,r);this.a9u=JSON.stringify(this.Px.u1)}}var K=bw.fY(this.lK.add.TySh.O7);
if(t!=0||j!=0||e||v){g.preventDefault();var z=this.FQ;if(t!=0){if(o&&t==-1)z=this.adN(K,this.FQ-1);else if(o&&t==1)z=this.amv(K,this.FQ);
else{var L=this.La,H=L.value;z=this.FQ+t;if(z!=0&&H.codePointAt(z-1)>65535)z+=t}}else if(j!=0){var h=this.ET.TJ(this.FQ);
if(j==-1&&h.wU==0)z=0;else if(j==1&&h.wU==this.ET.aab()-1)z=99999999999;else z=this.ET.akj(new bJ(h.KU.x+h.KU.m/2,0),h.wU+j)}else if(e){var R=this.FQ-1;
while(R>0&&K.charCodeAt(R)!=10)R--;z=R==0?0:R+1}else if(v){var R=this.FQ;while(R<K.length-1&&K.charCodeAt(R)!=10)R++;
z=R}z=Math.max(0,Math.min(K.length-1,z));if(g.shiftKey)this.FQ=z;else this.FQ=this.i_=z;i=!0}if(k.M0(g.code,dj.b)&&o){this.FQ=0;
this.i_=K.length-1;i=!0}if(i){this.eV();this.oA(y)}};D.vu.aap=function(g,o){var k=g.length;if(k!=o.length)return!1;
for(var m=0;m<k;m++)if(g[m].Fa!=o[m].Fa)return!1;return!0};D.vu.prototype.mK=function(g,o){if(this.lK==null)return;
this.lK.u8();var k=this.HS;if(k instanceof Array){var y=this.Md(g,this.cy),d=g.Zt();if(d!=null&&d.G==this&&d.data.oQ&&D.vu.aap(d.data.oQ,k))d.data.yh=y;
else{var b=new cc(this.name,this);b.data={oQ:k,yh:y};g.DU(b)}}else{var b=new cc(this.name,this);b.data={No:k.No,ze:k.ze,J2:k.J2,A2:k.A2};
g.DU(b)}this.escape(g,o)};D.vu.prototype.GK=function(g,o){if(this.lK==null)return;if(this.HS instanceof Array){this.PO(g,this.HS);
if(this.lK)bw.MQ(this.lK.add.TySh)}else{g.g=this.HS.J2;g.x8(this.HS.No)}g.U();this.escape(g,o)};D.vu.prototype.escape=function(g,o){this.arf();
this.lK=null;this.cy=null;this.ET=null;this.mb=null;this.La.blur();g.I.MI=null;g.I.Mp=null;g.I.TN=[];
g.nM=!0;this.QE=!1;this.ft=!1;this.FQ=this.i_=-1;this.x3(o,N.E.s,{P:N.b.l3,G:this.id,AB:"hideactive"});
if(this.aR){var k=new jB(N.E.s,!0);k.data={P:N.b.v1,G:this.aR};o.S(k);this.aR=null}};D.vu.prototype.x3=function(g,o,k,y){var d=new jB(o,!0);
d.data=k;if(y)d.G=y;g.S(d)};D.vu.prototype.Hm=function(g){var o=this.lK.add.TySh,k=this.ET,y=o.D.clone();
y.TY();var d=y.iG(g),b=bw.B2(o,k),T=_.uR.$p(o.IV,b),a=_.RS.aeP(T,d);if(a==null)a=new Float64Array(2);
d=new bJ(b.x+a[0]*b.m,b.y+a[1]*b.n);if(k.cN){var t=k.cN.clone();t.TY();d=t.iG(d)}var j=k.akj(d);return j};
D.vu.prototype.oA=function(g,o){if(o==null)o=!1;var k=this.lK.add.TySh,y=bw.sZ(k.O7),d=this.ET,b=d?bw.B2(k,d):null;
g.I.TN=[];g.I.MI=null;g.I.Mp=null;var T=this.H0?this.H0:this.mb;if(T){T.M_(g,this.Px,!_.uR.VV(k.IV));
var a=k.D.clone();a.TY();if(d&&d.cN&&d.Wj==1){var t=d.cN.clone();t.TY();a.concat(t)}_.p.D(g.I.TN,a,g.I.TN);
_.p.D(g.I.MI.j,a,g.I.MI.j);if(d&&d.cN==null&&d.akg()){var j=b.m-20,e=b.n+8;g.I.MI.j.push(j,e,j+10,e,j+5,e-5,j+5,e+5);
g.I.MI.F.push("M","L","M","L")}}else if(y==0)this.az3(g,k,d);else g.I.MI={j:[],F:[]};var v=Math.min(this.FQ,this.i_),L=Math.max(this.FQ,this.i_);
if(!o){this.La.selectionStart=v;this.La.selectionEnd=L}if(d!=null){var H=function(T,f){var c=T.x,M=T.y+T.n,n=new d3;
n.translate(-c,-M);n.rotate(-f);n.translate(c,M);T.y+=T.n*.27;var E=_.p.rN(T);_.p.D(E.j,n,E.j);return E};
if(v==L){v=Math.max(v,0);var w=d.TJ(v);if(w){var P=w.KU,Q=this.Px.u1.RY.FontSize;if(Q!=null&&Q!=0){Q/=k.D.Va();
P.y+=P.n-Q;P.n=Q}var x=d.anc(v);if(x!=null&&x.W4==1)P.x+=P.m;var F=H(P,w.ef).j;g.I.MI.F.push("M","L");
g.I.MI.j.push(F[0],F[1]-1,F[6],F[7]-1)}}else{g.I.Mp={j:[],F:[]};for(var m=v;m<L;m++){var w=d.TJ(m),E=H(w.KU,w.ef);
_.p.concat(g.I.Mp,E)}}}g.I.MI=il.e9(g.I.MI,k,d);g.I.Mp=il.e9(g.I.Mp,k,d);g.I.TN=il.e9({j:g.I.TN},k,d).j;
g.nM=!0};D.vu.prototype.az3=function(g,o,k){if(k==null)return;g.I.TN.push(0,0);if(g.I.MI==null)g.I.MI={F:[],j:[]};
for(var m=0;m<k.by.length;m++){var y=k.by[m];for(var d=0;d<y.RJ.length;d++){var b=y.RJ[d],T=y.S4.x+b.S4.x+b.KU.x,a=y.S4.y+b.S4.y+b.KU.y+b.KU.n;
g.I.MI.F.push("M","L");g.I.MI.j.push(T,a,T+b.KU.m,a)}}g.nM=!0};D.ayn=function(){D.vu.call(this,!0)};
D.ayn.prototype=new D.vu;D.nX=function(){D.qT.call(this,[10,9],D.mv,"tools/lasso");this.rP="crosshair";
this.MZ=null;this.LX=null;this.go=null};D.nX.prototype=new D.qT;D.nX.prototype.wt=function(g,o,k,y){this.MZ=this.tR;
this.LX={j:[this.MZ.x,this.MZ.y],F:["M"]}};D.nX.prototype.XQ=function(g,o,k,y){this.go=y;var d=this.LX;
if(d==null)return;if(!y._J){if(this.LX!=null&&this.gu>1&&k.z(dj.M4)){d.j.pop();d.j.pop();d.j.push(this.Se.x,this.Se.y);
g.I.MI=d;g.nM=!0}return}d.F.push("L");d.j.push(this.Se.x,this.Se.y);this.MZ=this.Se;if(this.fI){g.I.MI=d;
g.nM=!0}};D.nX.prototype.tt=function(){return this.LX!=null};D.nX.prototype.N2=function(){return this.LX!=null};
D.nX.prototype.Zl=function(g,o,k,y){D.qT.prototype.Zl.call(this,g,o,k,y);if(this.LX&&this.gu>1&&this.go&&!this.go._J&&!y.z(dj.M4))this.a31(g,k,y)};
D.nX.prototype.zf=function(g,o,k,y){this.go=y;var d=this.LX;if(d==null)return;if(this.gu>1&&k.z(dj.M4)){d.F.push("L");
d.j.push(this.Se.x,this.Se.y);return}this.a31(g,o,k)};D.nX.prototype.a31=function(g,o,k){this.finish(g,o,k,this.go);
this.LX=null;g.I.MI=null;g.nM=!0};D.nX.prototype.getSelection=function(g,o,k,y){if(this.tR.ey(this.Se)||!this.fI)return null;
return D.qT.ob(this.LX.j,null,this.lI.anta)};D.Bt=function(){D.L8.call(this,[10,11],D.fL,"tools/move");
this.kf=new bJ(0,0);this.ZH=new bJ(0,0);this.yR=null;this.wX=null;this.mN=new bJ(0,0);this.xR=null;this.eM=null;
this.mW=null;this.Az=0;this.IT=null;this.fK=[];this.VN=null;this.$Z=null;this.ZX=!1;this.P=0;this.Rr=null;
this.M6=null;this.OI=null;this.yA=!1;this.lI={JC:!1,RW:!1,iq:!1};this.ant=!1;this.aq0=!1;this.mb=null;
this.hV=null;this.a5j=null;var g=[];for(var m=0;m<_.bt.S5.length;m++)g.push({name:_.bt.S5[m],r:function(o,k,y){return{BF:k.Nn.rx==y}}});
this.L1=new iU(g);this.L1.h("select",this.lB,this)};D.Bt.prototype=new D.L8;D.L8.prototype.qd=function(g){return this.ZX&&this.P!=2};
D.Bt.prototype.a9w=function(){return this.ZX&&(this.P==0||this.P==1)};D.Bt.prototype.md=function(g,o,k,y){this.HP(g,-this.mN.x,-this.mN.y);
this.mN.oU(0,0);this.Gt(g,null,k);this.JU(g)};D.Bt.prototype.PT=function(){var g=this.lI;return[g.JC?1:0,g.RW?1:0,g.iq?1:0]};
D.Bt.prototype.b4=function(g,o,k){var y=this.lI;if(g&&g[0]!=null)y.JC=g[0]==1;if(g&&g[1]!=null)y.RW=g[1]==1;
if(g&&g[2]!=null)y.iq=g[2]==1;var d=new jB(N.E.s,!0);d.data={P:N.b.l3,G:this.id,Mq:y,ajn:o};k.S(d)};
D.Bt.a5E=function(g,o,k,y,d,b,T){if(T==null)T=[!1,!0];var a=g.Kq(null,d,!0),t,j;if(g.add.artd&&g.g.length==1&&g.d[g.g[0]].add.artb){var e=g.d[g.g[0]].xB();
t=g.px(a,e,e)[0]}else{var v=new bd(0,0,g.m,g.n),t=g.px(a,T[0]?v:null,T[1]?null:v)[0];delete t.add.artd;
if(T[1]){var L=_.AO(t.PJ(),new bd(0,0,t.m,t.n),2);D.Wz.$x(t,L)}}if(k!=1){var w=new bd(0,0,Math.round(t.m*k),Math.round(t.n*k));
D.Wz.$x(t,w);var P=[];for(var m=0;m<t.d.length;m++)P.push(m);var Q=D.C8.Cf(t,P,!0);D.Wz.s7(t,new d3(k,0,0,k,0,0));
D.C8.JP(t,y,P,Q,1,_.K.bn(new d3(k,0,0,k,0,0)),null,!0);t.m5()}else if(j){t.U();t.m5()}var x=[];for(var m=0;
m<o.length;m++)if(t.m*t.n!=0)x.push(cp.hu(t,o[m].toUpperCase(),null,null,b?b[m]:null,y));return x};D.Bt.prototype.akJ=function(g,o,k,y,d){if(g==null||g.g.length==0)return;
var b=D.Bt.a5E(g,[o],k,y,null)[0],T=new jB(N.E.s,!0);T.data={P:N.b.hy,data:b,name:g.d[g.g[0]].getName()+(k==1?"":"@"+k+"x")+"."+o};
d.S(T)};D.Bt.prototype.mz=function(g,o,k,y,d){if(g.cL=="getPNG"){this.akJ(k,"png",g.fm,d,o)}else if(g.cL=="getSVG"){this.akJ(k,"svg",g.fm,d,o)}if(g.cL=="prms"){this.lI=g;
this.JU(k)}};D.Bt.as3=function(g){var cy=g.length,k=0;g.sort(function(b,T){return b[0]+b[1]/2-(T[0]+T[1]/2)});
var o=g[cy-1][0]+g[cy-1][1]-g[0][0];for(var m=0;m<cy;m++)k+=g[m][1];var y=Math.round((o-k)/(cy-1)),d=g[0][0];
for(var m=0;m<cy;m++){g[m][0]=d;d+=g[m][1]+y}};D.Bt.prototype.Ae=function(g,o,k,y,d){var b=g.P;if(b=="trsl"){var T=Math.round(g.lJ),a=Math.round(g.hE);
this.mN.oU(T,a);this.nW(k,o,y,d,!1,g.i);this.HP(k,T,a);this.Gt(k,null,d)}else if(b=="fcmy"||b=="fvec"){var t=["RGB","CMYK"][g.Z]+" Color";
if(b=="fvec")t=["Raster","Vector"][g.Z]+" Mode";var j=new cc(t,this);j.data={P:g.P,Ad:k.add[b]==null?0:k.add[b],M$:g.Z};
k.DU(j);this.qw(j.data,k)}else if(b=="pview"){var b=new cc("Pattern Preview",this);b.data={P:g.P};k.DU(b);
this.qw(b.data,k)}else if(b=="lockguides"){if(k)k.hr=!k.hr}else if(b=="gids"||b=="gidsFromLayer"){var e=g.M6,v,L;
if(e==null)e=k.Nz();if(b=="gids"){v=g.hB;var H=e[0].length,w=v[0].length;L=H==w?[23,2]:H>w?[23,3]:[23,4];
if(w==0)L=[11,15,0]}else if(b=="gidsFromLayer"){var P=[],Q=[],x=k.wI();for(var m=0;m<k.g.length;m++){var F=k.d[k.g[m]].rect;
if(F.on())continue;P.push([0,F.x],[1,F.y],[0,F.x+F.m],[1,F.y+F.n]);Q.push(x,x,x,x)}L=[11,15,1];v=k.Nz();
D.Bt._v(v,[P,Q])}if(JSON.stringify(e)==JSON.stringify(v))return;var b=new cc(L,this);b.data={P:2,M6:e,hB:v};
k.DU(b);this.qw(b.data,k)}else if(b=="algn"){var E=g.Z;if(k==null)return;if(k.g.length<2&&!(k.J!=null&&E!=3&&E!=7)){alert(d9.get([15,7,5]));
return}var f=k.J;k.J=null;var F=f?f.rect:D.C8.B2(k);this.nW(k,o,y,d,!1);if(!this.ZX)return;var c=this.IT,M={},n=[],X=[],u=[];
for(var m=0;m<c.length;m++){var I=c[m];while(k.d[I].getName()=="</Layer group>")I++;var r=k.root.St(I),J=r;
while(r.parent!=null){r=r.parent;if(c.indexOf(r.index)!=-1)J=r}var U=X.indexOf(J.index);if(U==-1){U=X.length;
X.push(J.index)}n[m]=U}var K=[],i=[],z=[];for(var m=0;m<X.length;m++){var h=D.C8.B2(k,k.Kq(!0,X[m]));
z.push(h);var R=E==3?[h.y,h.n]:[h.x,h.m];K[m]=R;i.push(R)}D.Bt.as3(i);for(var m=0;m<X.length;m++){var h=z[m],C=h.x,G=h.y;
if(E==0)C=F.x;if(E==1)C=F.x+(F.m-h.m)/2;if(E==2)C=F.x+(F.m-h.m);if(E==3)G=K[m][0];if(E==4)G=F.y;if(E==5)G=F.y+(F.n-h.n)/2;
if(E==6)G=F.y+(F.n-h.n);if(E==7)C=K[m][0];u.push(Math.round(C-h.x),Math.round(G-h.y))}var W=[];for(var m=0;
m<c.length;m++){var A=n[m];W[2*m]=u[2*A];W[2*m+1]=u[2*A+1]}this.HP(k,0,0,null,W);var $=E==3||E==7?[20,4,6]:[20,4,E<3?E:E-1];
this.Gt(k,null,d,W,$);k.J=f}else if(b=="disabAuto"){this.b4([!1],null,o)}};D.Bt._v=function(g,o){for(var m=0;
m<o[0].length;m++){var k=o[0][m],y=o[1][m],d=!1;for(var b=0;b<g[0].length;b++){var T=g[0][b],a=g[1][b];
if(k[0]==T[0]&&k[1]==T[1]&&y==a)d=!0}if(!d){g[0].push(k.slice(0));g[1].push(y)}}};D.Bt.prototype.enable=function(g,o,k,y,d){this.eM=k;
this.mW=o;this.yA=d?!0:!1;this.JU(g);this.Xd("default",o);this.Zl(g,o,k,y)};D.Bt.prototype.disable=function(g,o,k,y){this.awH(g)};
D.Bt.prototype.awH=function(g){if(g==null)return;if(this.mb){this.mb.clear(g);this.mb=null}if(g.I.iq){g.I.iq=null;
g.nM=!0}if(g.I.JO){g.I.JO=null;g.nM=!0}if(g.I.a3[this.id]){delete g.I.a3[this.id];g.nM=!0}if(g.I.Cq.length!=0){g.I.Cq=[];
g.nM=!0}};D.Bt.prototype.jF=function(g,o,k,y){if(k.nE!=this.id)return;this.JU(g)};D.Bt.prototype.JU=function(g,o){if(g==null)return;
var k=this.lI;this.awH(g);if(!this.yA){var y;if(k.RW||k.iq)y=_.p.Ze(D.C8.B2(g));if(k.RW&&!y.on()){this.mb=new ax([y.x,y.y,y.x+y.m,y.y,y.x+y.m,y.y+y.n,y.x,y.y+y.n],!0);
this.mb.M_(g,this.eM)}if(k.iq){var d=null,e=null,v=!1;if(g.wI()!=-1)d=g.d[g.wI()].xB();else d=new bd(0,0,g.m,g.n);
g.I.iq={wK:[y],Lh:[]};var b=g.I.iq.Lh,T=y.x+y.m,a=y.y+y.n,t=y.x+Math.floor(y.m/2),j=y.y+Math.floor(y.n/2);
if(o){var L=g.root.DQ(new bJ(Math.floor(o.x),Math.floor(o.y)));if(L){e=_.p.Ze(L.i.Jc(g));if(e.AM(y)){v=(e.IK(y)||y.IK(e))&&!y.ey(e);
if(!v)e=null}}}this.a94(y,b);if(e!=null){g.I.iq.wK.push(e);var H=e.x+e.m,w=e.y+e.n,P=e.x+Math.floor(e.m/2),Q=e.y+Math.floor(e.n/2);
if(v){var x=t,F=j;if(y.IK(e)){x=P;F=Q}b.push(y.x,F,e.x,F);b.push(T,F,H,F);b.push(x,y.y,x,e.y);b.push(x,a,x,w)}else{this.a94(e,b);
var E=a<e.y||w<y.y,f=T<e.x||H<y.x;if(T<e.x)b.push(T,j,e.x,j);if(H<y.x)b.push(H,j,y.x,j);if(a<e.y)b.push(t,a,t,e.y);
if(w<y.y)b.push(t,w,t,y.y);if(E&&!f){if(y.x<e.x)b.push(y.x,Q,e.x,Q);if(e.x<y.x)b.push(e.x,j,y.x,j)}}}else{if(y.y>d.y)b.push(t,d.y,t,y.y);
if(a<d.y+d.n)b.push(t,a,t,d.y+d.n);if(y.x>d.x)b.push(d.x,j,y.x,j);if(T<d.x+d.m)b.push(T,j,d.x+d.m,j)}g.nM=!0}}if(this.P==2&&this.ZX){var c=new bd(0,0,g.m,g.n),M=g.wI();
if(M!=-1){var n=g.Nz(),X=n[1][this.IT];if(X==-1)X=M;c=g.d[X].xB()}var u=g.HR[this.IT],I=u[0],r=(I==0?"X":"Y")+": "+_.bt.m4(u[1]-(I==0?c.x:c.y),g.Qb,this.eM,I==0?c.m:c.n,!0);
D.L8.Y0(Math.round(this.yR.x)+10,Math.round(this.yR.y)-10,[r],g);g.nM=!0}if(this.P==3&&this.ZX){var J=_.p.rN(this.Rr);
g.I.a3[this.id]={MI:J};g.nM=!0}};D.Bt.prototype.a94=function(g,o){var k=g.m,y=g.n,d=g.x+Math.floor(k*.2),b=g.y+Math.floor(y*.2);
o.push(d,g.y,d,g.y+y);o.push(g.x,b,g.x+k,b)};D.Bt.prototype.Xd=function(g,o){var k={P:N.b.ih,f8:g},y=new jB(N.E.s,!0);
y.data=k;o.S(y)};D.Bt.prototype.iC=function(g){var o=this.hV.Ny()[0],k=this.xR,y=this.a5j[o];this.a1J(k,y)};
D.Bt.prototype.lB=function(g){var o=JSON.parse(JSON.stringify(this.eM.Nn));o.rx=this.L1.Ny()[0];var k=new jB(N.E.s,!0);
k.data={P:N.b.pB,Q6:er.iu,M$:o};this.mW.S(k)};D.Bt.prototype.sF=function(g,o,k,y,d){if(this.ZX)this.b9(g,o,k,y,d);
this.xR=g;this.eM=k;this.mW=o;var b=g.u.mp(d.x,d.y),T;if(D.Bt.E_(k,d,g.u)){T=this.L1}else{if(this.hV)this.hV.removeEventListener("select",this.iC);
var a=[];g.root.DQ(b,a);if(a.length==0)return;var t=[];this.a5j=a;for(var m=0;m<a.length;m++)t.push({name:g.d[a[m]].getName()});
T=this.hV=new iU(t);T.h("select",this.iC,this)}T.parent=o;T.f();T.update(g,k);var j=new jB(N.E.s,!0);
j.data={P:N.b.q$,w9:T,x:d.qh+2,y:d.ko+1};o.S(j)};D.Bt.prototype.aw7=function(g,o,k,y,d){var b=D.Bt.xJ(g,d);
return b!=-1||D.Bt.E_(k,d,g.u)};D.Bt.xJ=function(g,o){if(g==null||g.add.artd==null)return-1;var k=g.u.mp(o.x,o.y),y=12*D.V()/g.u.N;
for(var m=0;m<g.d.length;m++){var d=g.d[m];if(!d.oa()||d.add.artb==null)continue;var b=d.xB(),T=new bd(b.x,b.y-1.7*y,y*d.getName().length*.5,y);
if(T.oo(k))return m}return-1};D.Bt.prototype.Hu=function(g,o,k,y,d){var b=D.Bt.xJ(g,d),T=D.Bt.ar6(g,g.u.mp(d.x,d.y));
if(b!=-1){g.g=[b];if(k.nE==D.fL){var a=new jB(N.E.s);a.data={P:N.b.v1,G:D.IC};o.S(a)}return}if(T!=-1){g.u.vp=T;
g.pP=!0;var a=new jB(N.E.s,!0);a.data={P:N.b.jz,Pv:dv.PD.axw};o.S(a);return}this.yR=d;this.kf.oU(d.x,d.y);
this.ZH=g.u.mp(d.x,d.y);this.wX=new iN(this.ZH);this.nW(g,o,y,k,!0)};D.Bt.E_=function(g,o,k,y){var d=_.bt.P4,b=k.dd.n;
return g.NV&&(0<o.x&&o.x<d||0<o.y&&o.y<d||y&&0<o.x&&o.x<4*d&&b-d<o.y&&o.y<b)};D.Bt.prototype.nW=function(g,o,k,y,d,b){var T,a=this.ZH,t=!1;
if(d){var j=y.a5&&y.Nn.HR;if(D.Bt.E_(y,this.kf,g.u)){T=g.Nz();var e=g.Nz(),v=null;if(this.kf.x<_.bt.P4){v=[0,a.x]}if(this.kf.y<_.bt.P4){v=[1,a.y]}e[0].push(v);
e[1].push(g.wI(!0));g.uZ(e);if(!j){var L=new jB(N.E.s);if(!y.Nn.HR){L.data={P:N.b.pB,Q6:er.jE};o.S(L)}if(!y.a5){L.data={P:N.b.pB,Q6:er.fg};
o.S(L)}j=!0}}var H=this.aev(g,a);if(j&&H!=null&&!g.hr){this.P=2;this.M6=T?T:g.Nz();this.IT=H;this.ZX=!0;
this.$Z=D.C8.B2(g);return}if(g.kD.length!=0){this.P=4;this.$Z=g.Tm[g.kD[0]].rect.clone();this.ZX=!0;
return}if(this.mb&&this.mb.XN(a,g.u.N,!0,this.yR)!=null){var L=new jB(N.E.s);L.data={P:N.b.v1,G:D.nK,axO:!0};
o.S(L);return}if(g.J&&g.J.rect.oo(a)){var w=Math.round(a.x),P=Math.round(a.y),Q=g.J.rect;t=g.J.channel[(P-Q.y)*Q.m+w-Q.x]>128}if(!t&&(!this.yA&&this.lI.JC||this.yA&&this.lI.JC&&(k.z(dj.d_)||g.g.length<2))){var x=this.ad4(g,a,k);
if(!x){g.g=[];g.wW=null;g.Qr=g.Z$=!0;this.P=3;this.Rr=new bd;this.ZX=!0;return}}if(k.z(dj.M4)&&!t){var F=new jB(N.E.L);
F.G=D.Jn;F.data={P:p.jL,aaK:!0};o.S(F)}}if(g.kD.length!=0){this.P=4;this.$Z=g.Tm[g.kD[0]].rect.clone();
this.ZX=!0;return}this.IT=g.Kq(b==null,b,null,!0);for(var m=0;m<this.IT.length;m++){var E=this.IT[m],f=g.d[E];
if(f.RA(2)||f.RA(31)||g.Ik(E)){alert(d9.get([6,57,0]));return}}if(g.add.artd&&d){var c=this.IT,M=!1;
for(var m=0;m<c.length;m++)if(g.d[c[m]].add.artb)M=!0;if(!M){this.VN=[g,g.d.slice(0),g.g.slice(0),-1];
this.IT.sort(function(K,i){return K-i})}}this.fK=D.Bt.aue(g,this.IT);this.P=0;if(g.J&&(!d||t)&&g.g.length==1&&g.q0(!1)){if(!g.ac5()){this.ZX=!1;
return}var n=g.d[g.g[0]],X=k.z(dj.M4);this.P=1;var u=g.history[g.mQ];if(u.G==this&&u.data.P==1&&u.data.i==g.g[0]&&n.W1==n.Dq.W1&&!X){this.OI=u}else{var I=n.Dq,r=!1,J;
if(!n.b8(g,g.J)||X){r=!0;n.i9(g,g.J,X)}if(n.Dq.W1<=0){J=_.Q(n.Dq.kU.length>>2);_.B4(n.Dq.kU,J,3)}else J=g.J.channel.slice(0);
var U={rect:n.Dq.Lq.clone(),channel:J};this.OI=new cc(X?[12,53]:[12,54],this);this.OI.data={P:1,i:g.g[0],Dq:n.Dq,P7:I,Rz:r,J2:g.J,A2:U,vP:new bJ(0,0)};
g.DU(this.OI);g.J=U;g.cP=!0}}this.ZX=!0;this.$Z=D.C8.B2(g)};D.Bt.prototype.ad4=function(g,o,k){var y=g.root.DQ(new bJ(Math.floor(o.x),Math.floor(o.y)));
if(y){if(y.i.add.vmsk)g.nM=!0;var d=g.d.indexOf(y.i);if(k.z(dj.d_)){var b=g.g.indexOf(d);if(b==-1)g.g.push(d);
else if(g.g.length>1)g.g.splice(b,1)}else if(g.g.indexOf(d)==-1){this.a1J(g,d)}}return y!=null};D.Bt.prototype.a1J=function(g,o){g.d[o].W1=0;
g.g=[o];g.wW=null;g.w4();g.Cn=!0;g.Qr=!0};D.Bt.ar6=function(g,o){var k=g.add.Anno;if(k==null||k.length==0)return-1;
var y=30/g.u.N;for(var m=0;m<k.length;m++)if(new bd(k[m][0],k[m][1],y,y).oo(o))return m;return-1};D.Bt.prototype.Sa=function(g,o,k,y,d){this.yR=d;
var b=g.u.mp(d.x,d.y),H,w;if(this.wX&&this.P<2)b=this.wX.Ke(b,y);if(!this.ZX){if(k.a5&&k.Nn.HR&&g&&!g.hr){var T=this.aev(g,b),a="default",t=D.Bt.xJ(g,d);
if(T!=null)a=["col-resize","row-resize"][g.HR[T][0]];else if(this.mb){var j=this.mb.XN(b,g.u.N,null,d);
if(j)a=j}else if(t!=-1||D.Bt.ar6(g,b)!=-1){a="pointer"}this.Xd(a,o)}this.JU(g,b);return}var e=this.ZH,v=Math.round(b.x-e.x)-this.mN.x,L=Math.round(b.y-e.y)-this.mN.y;
if(this.$Z){if(this.P==2){var P=[];if(g.J)P.push(g.J.rect);if(this.$Z)P.push(this.$Z);if(g.u.nQ)P.push(g.u.nQ);
b=D.Bt.Qw(g,b,k,[!1,P,!0])}else{w=this.$Z.clone();w.offset(this.mN.x+v,this.mN.y+L);H=D.Bt.c3(g,w,k);
var Q=this.wX.asE(y);if(Q==1){H[0]=0;H[2]=1e9}if(Q==2){H[1]=0;H[3]=1e9}v+=Math.round(H[0]);L+=Math.round(H[1])}}this.mN.x+=v;
this.mN.y+=L;var x=this.VN;if(x&&g==x[0]){g.x8(x[1]);g.g=x[2].slice(0);x[3]=-1}this.HP(g,v,L,b,null,y.z(dj.d_));
if(x&&g==x[0]){var F=this.$Z.clone();F.offset(this.mN.x,this.mN.y);var E=b,t=g.wI(),f=-1;for(var m=0;
m<g.d.length;m++){var c=g.d[m];if(!c.oa()||c.add.artb==null)continue;var M=c.xB();if(M.oo(E))f=m}if(f!=-1&&f!=t){var n=D.WX.z5(g,this.IT,f,!0,null,!1);
g.x8(n[0]);g.g=n[1];x[3]=f}}this.JU(g,b);if(H)D.Bt.CQ(g,w,H)};D.Bt.prototype.aev=function(g,o){var k=D.hC(g,this.yR);
o=[o.x,o.y];var y=g.Nz(),d=g.wI();for(var m=0;m<y[0].length;m++){var b=y[0][m],T=y[1][m];if(T!=-1&&T!=d)continue;
if(Math.abs(b[1]-o[b[0]])<k)return m}return null};D.Bt.prototype.HP=function(g,o,k,y,d,b){if(this.P==0){if(d)D.Bt.iO(g,this.IT,this.fK,d);
else D.Bt.W5(g,this.IT,this.fK,o,k)}else if(this.P==1){var T=this.OI.data;T.vP.offset(o,k);D.Bt.N8(g,T.i,o,k)}else if(this.P==2){var a=1e-5;
if(b)a=g.u.N<=1?10:1;else if(g.u.N<=1)a=1;var t=a*Math.round(y.x/a),j=a*Math.round(y.y/a),e=[t,j],v=g.HR[this.IT];
v[1]=e[v[0]]}else if(this.P==3){var L=this.ZH,H=_.p.KS([L.x,L.y,y.x,y.y]);this.Rr=H;var w=[];g.root.a6F(H,w);
if(JSON.stringify(g.g)!=JSON.stringify(w)){g.g=w;g.Qr=g.Z$=!0}}else if(this.P==4){for(var m=0;m<g.kD.length;
m++)g.Tm[g.kD[m]].rect.offset(o,k);g.nM=!0}};D.Bt.N8=function(g,o,k,y){var d=g.d[o];g.J.rect.offset(k,y);
d.pC(g,k,y,g.J);g.cP=!0;g.U()};D.Bt.prototype.b9=function(g,o,k,y,d,b){this.Gt(g,d,k);this.JU(g);if(Date.now()-this.Az<300&&!b){var T=D.vu.BD(g,g.u.mp(d.x,d.y));
if(D.Bt.E_(k,d,g.u,!0)){var a=new jB(N.E.s);if(d.y>g.u.dd.n-20){a.data={P:N.b.xp,Pv:"doczoom",Ad:g.u.N*100,PV:{W:N.E.L,G:D.aC,R:{P:"pzoom"}}}}else{a.data={P:N.b.xp,Pv:"preferences"}}o.S(a)}else if(T>=0){var t=new jB(N.E.L,!0);
t.G=D.uk;t.data={P:"editCurr",LP:T};o.S(t)}}this.Az=Date.now();D.Wz.Vf(g)};D.Bt.prototype.Gt=function(g,o,k,y,d){if(!this.ZX)return;
this.ZX=!1;if(this.P==0){if(y){this.afW(g,null,y,d)}else{if(this.mN.x==0&&this.mN.y==0)return;this.afW(g,this.mN.clone())}g.pP=!0}else if(this.P==2){var b=0;
o=[o.x,o.y];var T=this.IT,a=g.HR[T],fX=this.M6[0].length,t=g.HR.length;if(k.NV&&o[a[0]]<_.bt.P4){var j=g.Nz();
j[0].splice(T,1);j[1].splice(T,1);g.uZ(j);b=1;if(fX==t-1)return}if(fX<t)b=2;var e=new cc([[23,2],[23,3],[23,4]][b],this);
e.data={P:2,M6:this.M6,hB:g.Nz()};g.DU(e)}else if(this.P==4){var e=new cc([12,54],this);e.data={P:4,g:g.kD.slice(0),Y:this.mN.clone()};
g.DU(e)}this.mN.oU(0,0)};D.Bt.prototype.Zl=function(g,o,k,y){var d=y.Mj(g?g.u.ef:0);if(g!=null&&(d.x!=0||d.y!=0)){if(y.z(dj.M4)&&g.J==null){var b=new jB(N.E.L);
b.G=D.Jn;b.data={P:p.jL,aaK:!0};o.S(b)}this.mN.oU(d.x,d.y);this.nW(g,o,y,k,!1);if(!this.ZX)return;this.HP(g,d.x,d.y);
this.Gt(g,null,k);this.JU(g)}var T=y.z(dj.IQ);if(!this.yA&&this.aq0!=T){if(T){this.ant=this.lI.JC;this.lI.JC=!0}else{this.lI.JC=this.ant}this.aq0=T;
var a=new jB(N.E.s,!0);a.data={P:N.b.l3,G:this.id,Mq:this.lI};o.S(a)}};D.Bt.prototype.YZ=function(g,o){if(g.P==0){var k=g.ov;
if(k){o.x8(k.No);o.g=k.wL.slice(0);o.U();o.Qr=!0}D.Bt.iO(o,g.g,g.UE,g.UZ,!0);D.Wz.Vf(o)}else if(g.P=="fcmy"||g.P=="fvec"){if(g.Ad==0)delete o.add[g.P];
else o.add[g.P]=g.Ad;o.nM=!0}else if(g.P=="pview"){o.CG=!o.CG;o.U()}else if(g.P==2){o.uZ(g.M6);o.nM=!0}else if(g.P==4){for(var m=0;
m<g.g.length;m++)o.Tm[g.g[m]].rect.offset(-g.Y.x,-g.Y.y);o.nM=!0}else{var y=o.d[g.i];if(g.Rz){y.wq(o,g.P7);
o.J=g.J2;o.cP=!0;o.U();y.U()}else{D.Bt.N8(o,g.i,-g.vP.x,-g.vP.y)}}};D.Bt.prototype.qw=function(g,o){if(g.P==0){D.Bt.iO(o,g.g,g.UE,g.UZ);
var k=g.ov;if(k){o.x8(k.ze);o.g=k.Dj.slice(0);o.U();o.Qr=!0}D.Wz.Vf(o)}else if(g.P=="fcmy"||g.P=="fvec"){if(g.M$==0)delete o.add[g.P];
else o.add[g.P]=g.M$;o.nM=!0}else if(g.P=="pview"){o.CG=!o.CG;o.U()}else if(g.P==2){o.uZ(g.hB);o.nM=!0}else if(g.P==4){for(var m=0;
m<g.g.length;m++)o.Tm[g.g[m]].rect.offset(g.Y.x,g.Y.y);o.nM=!0}else{var y=o.d[g.i];if(g.Rz){y.Dq=g.Dq;
o.J=g.A2;D.Bt.N8(o,g.i,0,0);y.U()}else{D.Bt.N8(o,g.i,g.vP.x,g.vP.y)}}};D.Bt.prototype.afW=function(g,o,k,y){if(k){var d=!0;
for(var m=0;m<k.length;m++)if(k[m]!=0)d=!1;if(d)return}var b=g.history[g.mQ],T=this.VN,a=T!=null&&T[3]!=-1&&T[0]==g;
if(!a&&k==null&&b.data&&b.G==this&&b.data.P==0&&JSON.stringify(b.data.g)==JSON.stringify(this.IT)&&JSON.stringify(b.data.UE)==JSON.stringify(this.fK)){var t=b.data.UZ,j=b.data.a2E.fV.T.v;
j.Hrzn.v.val+=o.x;j.Vrtc.v.val+=o.y;for(var m=0;m<t.length;m+=2){t[m]+=o.x;t[m+1]+=o.y}}else{if(o==null)o=new bJ(k[0],k[1]);
var e={J5:"move",fV:{classID:"null",null:c_.lF("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:o.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:o.y}}}}}},v=null;
if(a)v={No:T[1],wL:T[2],ze:g.d.slice(0),Dj:g.g.slice(0)};this.VN=null;var L=new cc(y?y:[12,54],this);
if(k)L.data={P:0,g:this.IT,UE:this.fK,ov:v,UZ:k};else L.data={P:0,g:this.IT,UE:this.fK,ov:v,UZ:D.Bt.a03(this.IT,o.x,o.y)};
L.data.a2E=e;g.DU(L);this.track(e)}};D.Bt.a03=function(g,o,k){var y=[];for(var m=0;m<g.length;m++)y.push(o,k);
return y};D.Bt.W5=function(g,o,k,y,d){D.Bt.iO(g,o,k,D.Bt.a03(o,y,d))};D.Bt.iO=function(g,o,k,y,d){if(o.length==0)return;
if(k==null){k=[];for(var m=0;m<o.length;m++){k.push(g.d[o[m]]._q(g,!0))}}var b=new bd,T=new bd(0,0,g.m,g.n);
for(var m=0;m<o.length;m++){var a=y[2*m],t=y[2*m+1];if(d){a=-a;t=-t}var j=g.d[o[m]],e=k[m];if(j.add.fxrp&&(e.indexOf(0)!=-1||j.JW()))j.add.fxrp.offset(a,t);
for(var v=0;v<e.length;v++){var L=e[v];if(L==0){j.rect.offset(a,t);if(j.wg()&&j.lQ(g))j.lQ(g).rect.offset(a,t);
if(j.add.artb){var H=j.xB();H.offset(a,t);j.P2(H);var w=j.add.artb.guideIndeces;w=w?w.v:[];for(var P=0;
P<w.length;P++){var Q=g.HR[w[P].v];Q[1]+=Q[0]==0?a:t}}if(j.add.TySh){j.add.TySh.D.translate(a,t);if(j.add.TySh.add){j.add.TySh.add.vmsk.offset(a,t)}}if(j.add.SoLd){var x=new d3(1,0,0,1,a,t),F=j.add.SoLd,E=D.C8.bh(F.Trnf),f=D.C8.bh(F.nonAffineTransform);
_.p.D(E,x,E);_.p.D(f,x,f);F.Trnf=D.C8.sY(E);F.nonAffineTransform=D.C8.sY(f);D.C8.a91(F,x)}}if(L==1)j.Qp().rect.offset(a,t);
if(L==2){j.add.vmsk.offset(a,t);if(j.add.vogk)_.X.D(j.add.vogk,[1,0,a,0,1,t,0,0],[]);if(j.Of.LX){var c=j.Of.LX.gs.j;
_.p.D(c,new d3(1,0,0,1,a,t),c)}}if(L==3){j.lQ(g).v.rect.offset(a,t);if(e.length==1)j.U()}}if(e.length>0){var M=j.add.GdFl;
if(M==null)M=j.add.PtFl;if(j.JW()&&!j.QS()&&j.add.vmsk!=null&&_.w.oP(j.add.vmsk.a)&&j.add.vmsk.gW==255&&(M==null||M.Algn&&M.Algn.v)){j.rect.offset(a,t)}else j.bD(g);
var n=g.root.JY(j.Jc(g),g,o[m]);if(j.add.artb)n=n.gO(j.xB());b=b.gO(n);n.offset(-a,-t);b=b.gO(n);if(j.ZB()&&j.v&&j.v.color==255)b=b.gO(T);
j.aaV()}}g.U(_.p.Ze(b))};D.Bt.aue=function(g,o){var k=[];for(var m=0;m<o.length;m++){var y=g.d[o[m]];
k.push(y._q(g))}return k};D.Bt.CQ=function(g,o,k){var y={j:[],F:[]},d=o.x+k[0],b=o.y+k[1];if(k[2]!=1e9){y.F.push("M","L");
var T=b+o.n;if(k[4])y.j.push(k[2],Math.min(b,T,k[4][1]),k[2],Math.max(b,T,k[4][1]));else y.j.push(k[2],b,k[2],b+o.n)}if(k[3]!=1e9){y.F.push("M","L");
var a=d+o.m;if(k[5])y.j.push(Math.min(d,a,k[5][0]),k[3],Math.max(d,a,k[5][0]),k[3]);else y.j.push(d,k[3],a,k[3])}if(y.j.length!=0){g.I.JO=y;
g.nM=!0}};D.Bt.Qw=function(g,o,k,y){var d=D.Bt.ajK(g,[[o.x],[o.y]],k,y);return new bJ(o.x+d[0],o.y+d[1])};
D.Bt.c3=function(g,o,k,y,d){var b=d==!0?1:.5,T=D.Bt.ajK(g,[[o.x,o.x+Math.round(o.m*b),o.x+o.m],[o.y,o.y+Math.round(o.n*b),o.y+o.n]],k,y);
return T};D.Bt.ajK=function(g,o,k,y){if(y==null)y=[!0,null,!0];var d=[0,0,1e9,1e9,null,null];if(!k.$Y)return d;
var b=JSON.parse(JSON.stringify(o));for(var T=0;T<2;T++){var a=1e9,t=o[T],j=0,e=null;for(var v=0;v<t.length;
v++){var L=D.Bt.a7F(g,t[v],b[1-T][v],T,k,y),H=L[0];if(H!=1e9)b[T][v]=H;if(H!=1e9&&Math.abs(H-t[v])<Math.abs(a)){a=H-t[v];
j=H;e=L[1]}}if(a!=1e9){d[T]=a;d[T+2]=j;d[T+4]=e}}return d};D.Bt.a7F=function(g,o,k,y,d,b){var T=1e9,a=null,t=d.N$,j=d.Nn,e=[g.root];
while(e.length!=0&&t[2]){var v=e.pop(),L=v.i,H=L.rect;if(!L.oa())continue;if(v.children)for(var m=0;
m<v.children.length;m++)e.push(v.children[m]);if(g.g.indexOf(v.index)!=-1||H.on())continue;var w=H.m,P=w>>>1,Q=H.n,x=Q>>>1,F=T;
if(y==0){if(Math.abs(H.x-o)<Math.abs(T-o))T=H.x;if(Math.abs(H.x+P-o)<Math.abs(T-o))T=H.x+P;if(Math.abs(H.x+w-o)<Math.abs(T-o))T=H.x+w}else{if(Math.abs(H.y-o)<Math.abs(T-o))T=H.y;
if(Math.abs(H.y+x-o)<Math.abs(T-o))T=H.y+x;if(Math.abs(H.y+Q-o)<Math.abs(T-o))T=H.y+Q}if(F!=T){a=[H.x+P,H.y+x]}}var E=T;
T=1e9;if(b[0]&&t[0]&&j.HR&&d.a5){var f=g.Nz(),c=f[0],M=f[1],n=g.wI();for(var m=0;m<c.length;m++)if((M[m]==-1||M[m]==n)&&c[m][0]==y&&Math.abs(c[m][1]-o)<Math.abs(T-o))T=c[m][1]}if(t[1]&&j.l5&&d.a5){var X=Math.round(_.bt.yF(j.Cs,g.Qb,g.m,j.o9));
if(y==1&&j.zo==1){var u=k*.5*Math.sqrt(4/3),I;X*=Math.sqrt(4/3);I=Math.round((o-u)/X)*X+u;if(Math.abs(I-o)<Math.abs(T-o))T=I;
I=Math.round((o+u)/X)*X-u;if(Math.abs(I-o)<Math.abs(T-o))T=I}else{var I=Math.round(o/X)*X;if(Math.abs(I-o)<Math.abs(T-o))T=I}}var r=g.mZ;
if(t[3]&&j.mZ&&d.a5&&r.length!=0){for(var m=0;m<r.length;m++){if(!b[2]&&g.ke.indexOf(m)!=-1)continue;
var J=D.We.mr(r,m);for(var U=0;U<3;U+=2)if(J[U+y]!=o&&Math.abs(J[U+y]-o)<Math.abs(T-o))T=J[U+y]}}if(b[1])for(var K=0;
K<b[1].length;K++){var H=b[1][K],w=H.m,Q=H.n,i=[H.x,H.y,H.x+(w>>>1),H.y+(Q>>>1),H.x+w,H.y+Q];for(var m=0;
m<6;m+=2)if(Math.abs(i[m+y]-o)<Math.abs(T-o))T=i[m+y]}if(t[4]){var H=new bd(0,0,g.m,g.n),n=g.wI();if(n!=-1)H=g.d[n].xB();
var w=H.m,Q=H.n,i=[H.x,H.y,H.x+(w>>>1),H.y+(Q>>>1),H.x+w,H.y+Q];for(var m=0;m<6;m+=2)if(Math.abs(i[m+y]-o)<Math.abs(T-o))T=i[m+y]}if(Math.abs(T-o)<=Math.abs(E-o))a=null;
else T=E;var z=Math.abs(T-o)<=4*D.V()/g.u.N?T:1e9;return[z,a]};D.UN=function(){D.qT.call(this,[10,12],D.AC,"tools/mwand");
this.Gd=null};D.UN.prototype=new D.qT;D.UN.prototype.PT=D.qT.prototype.a90;D.UN.prototype.b4=D.qT.prototype.ay_;
D.UN.prototype.wt=function(g,o,k,y){this.Gd=y;this.arb=this.lI.wconf[0];this.finish(g,o,k,y)};D.UN.prototype.XQ=function(g,o,k,y,d){if(!y._J)return;
var b=new jB(N.E.L);b.G=D.C1;b.data={P:"h_stepbck"};d.S(b);var T=y.x-this.Gd.x,a=Math.max(0,Math.min(255,Math.round(this.arb+T/4)));
this.lI.wconf[0]=a;this.ie(d);this.finish(g,o,k,this.Gd)};D.UN.prototype.zf=function(g,o,k,y,d){this.lI.wconf[0]=this.arb;
this.ie(d)};D.UN.prototype.getSelection=function(g,o,k,y){var d=this.Se;d=g.u.mp(y.x,y.y);var b=D.qT.abU(new bJ(Math.floor(d.x),Math.floor(d.y)),this.lI.wconf,this.lI.sall);
return b};D.UN.alg=function(g,o,k,y,d){if(g.g.length!=1){alert("More than one layer selected.");return null}var b=g.d[g.g[0]],T=null,a;
if(d)T=b.W1<=0?null:b.W1==1?b.Qp():b.lQ(g).v;if(T==null&&b.add.lsct!=null&&b.add.lsct!=cK.C7){alert("No layer selected.");
return null}if(o.x<0||o.x>g.m||o.y<0||o.y>g.n)return null;var t=new bd(0,0,g.m,g.n);if(y){a=g.PJ()}else if(T==null&&t.ey(b.rect))a=b.buffer;
else{a=_.Q(t.O()*4);if(T==null)_.g1(b.buffer,b.rect,a,t);else D.Ak.Dh(T.channel,T.rect,T.color,a,t)}var j=D.UN.Ns(a,t,o,null,k),e=_.P8(j,t),v=_.Q(e.O());
_.sQ(j,t,v,e);return{rect:e,channel:v}};D.UN.yw=function(g,o,k){var y=o.m,d=o.n,T=0,a=0,t=0,j=0;g=new Uint32Array(g.buffer);
var b=[],e=k.length;for(var m=0;m<e;m++){var v=k[m],L=Math.round(v.x-.5-o.x),H=Math.round(v.y-.5-o.y);
L=Math.max(0,Math.min(y-1,L));H=Math.max(0,Math.min(d-1,H));var w=H*y+L,P=g[w];b.push([P&255,P>>8&255,P>>16&255,P>>>24])}return b};
D.UN.Ns=function(g,o,k,y,d){g=new Uint32Array(g.buffer);var b=o.m,T=o.n,a=b*T;if(y==null)y=D.UN.yw(g,o,[k]);
var t=Math.round(k.x-.5-o.x),j=Math.round(k.y-.5-o.y),e=j*b+t,v=Date.now(),L=_.Q(b*T),H=d[0],w=1/H,P=d[1]&&H>0?255:0;
if(d[2]){var Q=_.Q(L.length),x=new Uint32Array(a),F=1;x[0]=t<<16|j;Q[e]=1;while(F>0){var E=x[F-1];F--;
var f=E>>>16,c=E&65535,m=c*b+f,M=D.UN.GU(g[m],y);if(M>H){var n=P*(1-Math.max(0,Math.min(1,(M-H)*w)));
L[m]=~~n}else{L[m]=255;if(c!=T-1&&Q[m+b]==0){x[F++]=f<<16|c+1;Q[m+b]=1}if(c!=0&&Q[m-b]==0){x[F++]=f<<16|c-1;
Q[m-b]=1}if(f!=b-1&&Q[m+1]==0){x[F++]=f+1<<16|c;Q[m+1]=1}if(f!=0&&Q[m-1]==0){x[F++]=f-1<<16|c;Q[m-1]=1}}}}else{for(var m=0;
m<a;m++){var M=D.UN.GU(g[m],y);if(M<=H)L[m]=255}for(var c=0;c<T;c++)for(var f=0;f<b;f++){var m=c*b+f;
if(L[m]==0&&(f>0&&(L[m-1]==255||c>0&&L[m-b-1]==255||c<T-1&&L[m+b-1]==255)||f<b-1&&(L[m+1]==255||c>0&&L[m-b+1]==255||c<T-1&&L[m+b+1]==255)||c>0&&L[m-b]==255||c<T-1&&L[m+b]==255)){var M=D.UN.GU(g[m],y),n=P*(1-Math.max(0,Math.min(1,(M-H)*w)));
L[m]=~~n}}}return L};D.UN.GU=function(g,o){var k=o.length,y=D.UN.a41(g,o[0]),m=1;while(m!=k){y=Math.min(y,D.UN.a41(g,o[m]));
m++}return y};D.UN.a41=function(g,o){var k=g&255,y=g>>>8&255,d=g>>>16&255,b=g>>>24&255;if(o[3]==0)return b<5?0:255;
var T=Math.max(Math.abs(k-o[0]),Math.max(Math.abs(y-o[1]),Math.abs(d-o[2])));return b==0?255:T};D.td=function(g,o){if(o)D.Ak.call(this);
else if(g)D.Ak.call(this,[10,49],D._g,"tools/camove");else D.Ak.call(this,[10,26],D.DX,"tools/patch");
this.MZ=null;this.LX=null;this.Y=null;this.S4=null;this.iv=new bJ;this.Fc=null;this.q4=null};D.td.prototype=new D.Ak;
D.td.prototype.Hu=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y);if(g.J&&_.DQ(b,g.J.channel,g.J.rect)){var T=new bd(0,0,g.m,g.n),a=T.Nm(g.J.rect);
if(!g.q0()||a.on())return;if(!0){var t=_.Q(a.O());_.sQ(g.J.channel,g.J.rect,t,a);g.J={channel:t,rect:a}}this.XB(g);
this.nI(g);this.S4=b;this.iv=new bJ(b.x-g.J.rect.x,b.y-g.J.rect.y);this.q4=_.Q(g.J.rect.O()*4);this.q4.fill(255);
if(this.lI.patch==1){var j=g.d[g.g[0]];j.i9(g,g.J,!0);if(j.Dq==null)this.S4=null}this.Fc=g.J.rect.clone()}else{this.LX={j:[b.x,b.y],F:["M"]};
this.MZ=b}};D.td.prototype.Sa=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y);if(this.S4){if(this.lI.patch==1){if(g.kD.length==0){var T=g.d[g.g[0]].Dq,a=b.x-this.iv.x,t=b.y-this.iv.y;
D.Bt.N8(g,g.g[0],Math.round(a-T.Lq.x),Math.round(t-T.Lq.y))}}else this.anf(g,b,"clone")}if(this.MZ){this.LX.F.push("L");
this.LX.j.push(b.x,b.y);this.MZ=b;g.I.MI=this.LX;g.nM=!0}};D.td.prototype.b9=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y);
if(this.S4){var T=g.J.rect.clone();if(this.id==D._g){var a=g.d[g.g[0]];a.wq(g,a.Dq);g.J.rect=this.Fc.clone();
var t=_.Q(g.J.rect.O()*4);_.e_(g.J.channel,t,3);this.yX(g,"sheal",t,g.J.rect,g.J.rect);g.J.rect=T;T=T.gO(this.Fc)}this.anf(g,b,"heal");
this.finish(g,T,null,null,!0);g.U(T);this.S4=null}if(this.MZ){var j=D.qT.Yw(this.lI.setop,y.z(dj.d_),y.z(dj.M4)),e=new jB(N.E.gp,!0);
if(this.LX.j.length<=4)e.data=D.qT.ti();else e.data=D.qT.ob(this.LX.j,j);o.S(e);this.MZ=null;g.I.MI=null;
g.nM=!0}};D.td.prototype.W_=function(){return this.Y};D.td.prototype.mz=function(g,o,k,y,d){D.Ak.prototype.mz.call(this,g,o,k,y,d);
this.Xd(d,y)};D.td.prototype.Xd=function(g,o){var k="auto;";if(o!=null&&o.z(dj.d_)&&!o.z(dj.M4)||this.lI.setop=="union")k="copy";
var y=new jB(N.E.s,!0);y.data={P:N.b.ih,f8:k};if(this.caller)this.caller.S(y)};D.td.prototype.anf=function(g,o,k){var y=new bJ(Math.round(this.S4.x-o.x),Math.round(this.S4.y-o.y));
if(this.lI.patch==1)y.oU(-y.x,-y.y);this.Y=y;this.yX(g,k,this.q4,g.J.rect,g.J.rect);this.U(g,g.J.rect)};
D.a8i=function(){D.td.call(this,!0);this.lI.patch=1};D.a8i.prototype=new D.td(!0,!0);D.eL=function(){D.Ak.call(this,[10,13],D.aby,"tools/pbucket");
this.KF=!1};D.eL.prototype=new D.Ak;D.eL.prototype.enable=function(g,o,k,y){var d=new jB(N.E.s,!0);d.data={P:N.b.ih,f8:"default"};
o.S(d)};D.eL.prototype.mt=function(g,o){};D.eL.prototype.Hu=function(g,o,k,y,d){this.KF=!0};D.eL.prototype.b9=function(g,o,k,y,d,b){var T=this.KF;
this.KF=!1;if(!T||b)return;if(this.fc(y,o,d))return;if(!g.q0())return;var a=g.u.mp(d.x,d.y),t=D.UN.alg(g,a,this.lI.wconf,this.lI.sall,!0);
if(t==null)return;var j=_.Q(t.rect.O()*4);_.Sm(j,(k.p2&255)<<16|(k.p2>>8&255)<<8|(k.p2>>16&255)<<0);
_.e_(t.channel,j,3);this.XB(g);this.yX(g,"draw",j,t.rect,t.rect);this.U(g,t.rect);this.finish(g,t.rect)};
D.My=function(){D.qT.call(this,[10,14],D.a7U,"tools/plasso");this.rP="crosshair";this.kk=[];this.rY=null;
this.LX=null;this.avr=0};D.My.prototype=new D.qT;D.My.prototype.disable=function(g,o,k,y){this.zX(g)};
D.My.prototype.wt=function(g,o,k,y){this.kk=[dj.aS,dj.uo]};D.My.prototype.xg=function(g){return this.kk.indexOf(g)!=-1};
D.My.prototype.qd=function(g){return this.LX!=null};D.My.prototype.N2=function(){return this.LX!=null};
D.My.prototype.tt=function(){return this.LX!=null};D.My.prototype.XQ=function(g,o,k,y){if(this.LX==null)return;
var d=this.LX,b=d.j,T=b.length-2,a=this.Se;if(this.z2.T_(1)&&k.z(dj.M4)&&y._J){b.push(0,0);d.F.push("L");
T+=2}else if(k.z(dj.d_))a=D.Q2.mS(new bJ(b[T-2],b[T-1]),a);b[T]=a.x;b[T+1]=a.y;g.I.MI=d;g.nM=!0};D.My.prototype.zf=function(g,o,k,y){var d=Date.now();
if(this.LX==null)this.LX={j:[this.Se.x,this.Se.y,this.Se.x,this.Se.y],F:["M","L"]};else{this.XQ(g,o,k,y);
if(d-this.avr<250||bJ.YX(this.Se,new bJ(this.LX.j[0],this.LX.j[1]))<D.hC(g,y)){this.rY=this.LX;this.finish(g,o,k,y);
this.zX(g);return}this.LX.F.push("L");this.LX.j.push(this.Se.x,this.Se.y)}this.avr=d;g.I.MI=this.LX};
D.My.prototype.zX=function(g){this.LX=null;this.kk=[];if(g!=null){g.I.MI=null;g.nM=!0}};D.My.prototype.Zl=function(g,o,k,y){D.qT.prototype.Zl.call(this,g,o,k,y);
if(y.z(dj.bC)&&this.LX==null&&this.rY&&g.J!=null){var d=new jB(N.E.L);d.G=D.C1;d.data={P:"h_stepbck"};
o.S(d);this.wt(g,k,y,null);this.LX=this.rY;return}if(this.LX==null)return;if(y.z(dj.aS)||y.z(dj.uo)){this.LX.j.pop();
this.LX.j.pop();this.LX.F.pop();this.XQ(g,k,y)}if(y.z(dj.zu)){if(this.LX.j.length>4){this.rY=this.LX;
this.finish(g,k,y)}this.LX=null}if(y.z(dj.bC)){this.LX=null}g.I.MI=this.LX;g.nM=!0};D.My.prototype.getSelection=function(g,o,k,y){return D.qT.ob(this.LX.j,null,this.lI.anta)};
D.pG=function(){D.qT.call(this,[10,10],D.aoe,"tools/mlasso");this.rP="crosshair";this.kk=[];this.a=[];
this.lR=[];this.RJ=[];this.SJ=null;this.V0=null;this.Qk=null;this.Az=0;this.cD=0};D.pG.prototype=new D.qT;
D.pG.prototype.disable=function(g,o,k,y){this.clear(g)};D.pG.prototype.qd=function(g){return this.a.length!=0};
D.pG.prototype.tt=function(){return this.a.length!=0};D.pG.prototype.xg=function(g){return this.kk.indexOf(g)!=-1};
D.pG.prototype.wt=function(g,o,k,y){this.kk=[dj.aS,dj.uo];var d=this.HG(this.tR,g);if(this.a.length!=0&&(bJ.YX(d,this.a[0])<D.hC(g,y)||Date.now()-this.Az<300)){this.yb(g,this.a[0]);
this.finish(g,o,k);this.clear(g);return}this.Az=Date.now();if(this.a.length!=0)d=this.cx(d,g);else{var b=g.m,T=g.n,a=_.Q(b*T),t=g.PJ(),j=b*T*4;
for(var m=0;m<j;m+=4)a[m>>>2]=~~(.5+_.pM(t[m],t[m+1],t[m+2])*(t[m+3]*(1/255)));this.SJ=_.rV.axs(a,b,T);
this.Qk=new Uint16Array(a.length)}this.yb(g,d);this.cD=k.z(dj.M4)?1:0;this.yL(g)};D.pG.prototype.yb=function(g,o){var k=this.a;
this.lR[k.length]=this.RJ.length;if(k.length!=0){_.rV.dH(this.V0,o.y*g.m+o.x);var y=this._A(g,o);y.reverse();
var d=D.pG.ah4(g,y);this.RJ=this.RJ.concat(d)}k.push(o);this.a7B(g)};D.pG.prototype.a7B=function(g){var o=this.a[this.a.length-1],k=o.y*g.m+o.x;
this.V0=_.rV.aaO(this.SJ.LY,this.SJ.qK,k);this.Qk.fill(0)};D.pG.prototype.HG=function(g,o){return new bJ(Math.floor(Math.max(0,Math.min(o.m-1,g.x))),Math.floor(Math.max(0,Math.min(o.n-1,g.y))))};
D.pG.prototype.clear=function(g){this.RJ=[];this.a=[];this.lR=[];this.SJ=null;this.V0=null;this.Qk=null;
if(g!=null){g.I.MI=null;g.I.TN=[];g.nM=!0}this.kk=[]};D.pG.prototype.XQ=function(g,o,k,y){var d=this.a,b=d.length;
if(b==0)return;var T=this.cx(this.HG(this.Se,g),g),a=this._A(g,T);for(var m=0;m<a.length;m++){var t=a[m],j=new bJ(t%g.m,Math.floor(t/g.m));
if(this.Qk[t]>30&&bJ.YX(j,d[b-1])>20){this.yb(g,j);return}this.Qk[t]++}if(this.cD==1&&y._J)this.yb(g,T);
this.yL(g)};D.pG.prototype.yL=function(g){var o=this.a;if(o.length!=0){var k=this.cx(this.HG(this.Se,g),g),y=this._A(g,k);
y.reverse();var d=D.pG.ah4(g,y),b=this.RJ.concat(d),T=g.I.MI={j:b,F:["M"]};for(var m=2;m<b.length;m+=2)T.F.push("L")}g.I.TN=[];
for(var m=0;m<o.length;m++)g.I.TN.push(o[m].x+.5,o[m].y+.5);g.nM=!0};D.pG.prototype.zf=function(g,o,k,y){};
D.pG.prototype.Zl=function(g,o,k,y){if(this.a.length==0)return;if(y.z(dj.aS)||y.z(dj.uo)){this.a.pop();
this.RJ=this.RJ.slice(0,this.lR[this.a.length]);this.lR.pop();if(this.a.length==0)this.clear(g);else this.a7B(g);
this.yL(g)}if(y.z(dj.zu)){var d=this.HG(this.Se,g);this.yb(g,d);this.finish(g,k,y);this.clear(g)}if(y.z(dj.bC)){this.clear(g)}};
D.pG.prototype.getSelection=function(g,o,k,y){return D.qT.ob(this.RJ,null,this.lI.anta)};D.pG.prototype._A=function(g,o){var k=this.a[this.a.length-1],y=k.y*g.m+k.x,d=o.y*g.m+o.x;
if(this.cD==1)return[d,y];var b=[d];while(d!=y){d=this.V0.nJ[d];b.push(d);if(b.length>5e3){console.log(b);
throw"e"}}return b};D.pG.ah4=function(g,o){var k=[],y=g.m;for(var m=0;m<o.length;m++){var d=o[m];k.push(d%y+.5,Math.floor(d/y)+.5)}return k};
D.pG.prototype.cx=function(g,o){var k=o.m,y=o.n,d=g.clone(),T=3;_.rV.dH(this.V0,g.y*k+g.x);var b=this.V0.WS[g.y*k+g.x];
for(var a=-T+1;a<T;a++)for(var t=-T+1;t<T;t++){var j=g.x+t,e=g.y+a;if(j<0||j>=k||e<0||e>=y)continue;
_.rV.dH(this.V0,e*k+j);if(this.V0.WS[e*k+j]<b)d.oU(j,e)}return d};D.Ra=function(){D.L8.call(this,[10,36],D.w6,"tools/ruler");
this.zA=null;this.B$=null;this.SD=null;this.fQ=null;this.L3=null};D.Ra.prototype=new D.L8;D.Ra.prototype.qd=function(g){return g._J};
D.Ra.prototype.enable=function(g,o,k,y){D.L8.prototype.enable.call(this,g,o,y,k);if(g)this.JU(g)};D.Ra.prototype.disable=function(g,o,k,y){if(g)this.zX(g)};
D.Ra.prototype.Ae=function(g,o,k,y,d){this.zA=this.SD=null;this.JU(k)};D.Ra.prototype.Hu=function(g,o,k,y,d){var b=D.hC(g,d),T=g.u.mp(d.x,d.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var a=this.zA;this.B$=a?a.slice(0):null;var t=a&&bJ.YX(T,a[0])<b,j=a&&bJ.YX(T,a[1])<b,e=a&&a[2]&&bJ.YX(T,a[2])<b;
if(t||j||e){if(y.z(dj.M4)&&a.length==2){if(j){var v=a[0];a[0]=a[1];a[1]=v}a[2]=a[0].clone();this.SD=[2]}else this.SD=[t?0:j?1:2]}else if(a&&D.Ra.ay0(a[0],a[1],T)<b&&Math.min(a[0].x,a[1].x)-5<=T.x&&T.x<=Math.max(a[0].x,a[1].x)+5&&Math.min(a[0].y,a[1].y)-5<=T.y&&T.y<=Math.max(a[0].y,a[1].y)+5){this.SD=[];
this.L3=[];for(var m=0;m<a.length;m++){this.SD.push(m);this.L3.push(a[m].clone())}this.fQ=T}else{this.zA=[T.clone(),T.clone()];
this.SD=[1]}};D.Ra.prototype.Sa=function(g,o,k,y,d){if(this.SD==null)return;var b=this.zA,T=this.SD,a=g.u.mp(d.x,d.y);
a.x=Math.round(a.x);a.y=Math.round(a.y);if(T.length>1){var t=a.x-this.fQ.x,j=a.y-this.fQ.y;for(var m=0;
m<b.length;m++){b[m]=this.L3[m].clone();b[m].offset(t,j)}}else{b[T[0]].oU(a.x,a.y);if(y.z(dj.d_)){b[T[0]]=D.Q2.mS(b[1-T[0]],b[T[0]])}}this.JU(g);
this.x3(o,N.E.s,{P:N.b.l3,G:this.id,a8m:b[0],qR:b[1],HI:b[2],Qb:g.Qb,a4e:g.m});g.u.nQ=_.p.KS([b[0].x,b[0].y,b[1].x,b[1].y]);
console.log(g.u.nQ)};D.Ra.prototype.b9=function(g,o,k,y,d,b){this.SD=null;if(b){this.zA=this.B$.slice(0);
this.JU(g)}};D.Ra.prototype.x3=function(g,o,k){var y=new jB(o,!0);y.data=k;g.S(y)};D.Ra.prototype.JU=function(g){var o=this.zA;
if(o==null)this.zX(g);else{var k=[o[1].x,o[1].y,o[0].x,o[0].y],y=["M","L"];if(o.length>2){k.push(o[2].x,o[2].y);
y.push("L")}g.I.MI={F:y,j:k};g.I.TN=k}g.nM=!0};D.Ra.prototype.zX=function(g){g.I.MI=null;g.I.TN=[]};
D.Ra.ay0=function(g,o,k){var y=o.x-g.x,d=o.y-g.y,b=Math.abs(d*k.x-y*k.y+o.x*g.y-o.y*g.x),T=Math.sqrt(y*y+d*d);
return T==0?0:b/T};D.Xf=function(){D.Ak.call(this,[10,19],D.zv,"tools/sharpen");this.e4="copy"};D.Xf.prototype=new D.Ak;
D.Xf.prototype.Hu=function(g,o,k,y,d){var b=this.lI.pdetail?e9.j3:e9.zv;if(y.z(dj.M4))b=e9.NL;this.wA(g,k,y,d,this.lI.strn,b);
if(this.nd==null)return;this.Z7(g)};D.Xf.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.fl=function(){D.Ak.call(this,[10,24],D._Y,"tools/shbrush");
this.e4="draw";this.lI.opacity=.5};D.fl.prototype=new D.Ak;D.fl.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,1);
if(this.nd==null)return;this.nI(g);this.Z7(g)};D.fl.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.fl.prototype.b9=function(g,o,k,y,d){if(this.nd==null)return;
this.yX(g,"sheal",this.nd.lo(),this.nd.B2(),this.nd.Ut(),null);this.U(g,this.nd.Ut());D.Ak.prototype.b9.call(this,g,o,k,y,d)};
D.Ux=function(){D.Ak.call(this,[10,20],D.Ba,"tools/smudge");this.e4="copy"};D.Ux.prototype=new D.Ak;
D.Ux.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,this.lI.strn,e9.Ba);if(this.nd==null)return;this.Z7(g)};
D.Ux.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;
if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.n2=function(){D.Ak.call(this,[10,23],D.jI,"tools/sponge");
this.e4="sponge"};D.n2.prototype=new D.Ak;D.n2.prototype.Hu=function(g,o,k,y,d){this.wA(g,k,y,d,this.lI.flow);
if(this.nd==null)return;this.Z7(g)};D.n2.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);if(this.Lp)this.dE(g,k,d);
if(this.nd==null)return;if(!d._J)return;this.Aj(g,k,y,d);this.Z7(g)};D.LT=function(){D.L8.call(this,[10,17],D.aC,"tools/zoom");
this.TY=!1;this.ZS=!0;this.tr=!1;this.He=0;this.V3=null;this.a8=null;this.Gv=0;this.q_=null;this.amH=0;
this.L1=new iU([{name:[8,0],SW:"Ctrl + +"},{name:[8,1],SW:"Ctrl + -",_r:!0},{name:[20,3],SW:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],SW:"Ctrl + 1"}],[{W:N.E.L,G:D.aC,R:{P:"zoom",ZS:!0}},{W:N.E.L,G:D.aC,R:{P:"zoom",ZS:!1}},{W:N.E.L,G:D.aC,R:{P:"adapt",Z:"fitscr"}},{W:N.E.L,G:D.aC,R:{P:"adapt",Z:"pixel"}}])};
D.LT.prototype=new D.L8;D.LT.prototype.sF=function(g,o,k,y,d){var b=this.L1;b.f();b.parent=o;b.update(g,k);
var T=new jB(N.E.s,!0);T.data={P:N.b.q$,w9:b,x:d.qh+2,y:d.ko+1};o.S(T)};D.LT.prototype.enable=function(g,o,k,y){this.MN(o,y);
if(g&&Date.now()-this.He<300)this.Ae({P:"adapt",Z:"pixel"},o,g,y,k);this.He=Date.now()};D.LT.prototype.Hu=function(g,o,k,y,d){this.a8=new bJ(d.x,d.y);
this.Gv=g.u.N;this.q_=g.u.Y.clone()};D.LT.prototype.Sa=function(g,o,k,y,d){if(this.a8==null)return;var b=Math.exp(Math.log(this.Gv)+(d.x-this.a8.x)/64);
b=Math.max(.02,Math.min(D.LT._L[0],b));g.u.N=this.Gv;g.u.Y=this.q_.clone();this.Ae({P:"zoom",N:b,yR:this.a8,tr:this.tr},o,g,y,k)};
D.LT.prototype.b9=function(g,o,k,y,d){if(bJ.YX(this.a8,d)<4){var b=this.adK(y);this.Ae({P:"zoom",ZS:b,yR:d,tr:this.tr},o,g,y,k)}this.a8=null};
D.LT._L=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
D.LT.ayz=function(g,o,k,y){var d=1;while(g*d*1/2>k||o*d*1/2>y)d*=1/2;if(g*d*2/3>k||o*d*2/3>y)d*=1/2;
else if(g*d>k||o*d>y)d*=2/3;return d};D.LT.awO=function(g,o){var k=D.LT.a4h(g);if(o&&k==0)return g;if(!o&&k==D.LT._L.length-1)return g;
return D.LT._L[o?k-1:k+1]};D.LT.a4h=function(g){var o=0;while(D.LT._L[o]>g)o++;return o};D.LT.$F=function(g,o,k,y){var d=g.po;
if(y==0||y==null){y=D.LT.awO(g.N,k);if(y==g.N)return}var b=g.mp(o.x,o.y);b.x=Math.max(0,Math.min(d.m,b.x));
b.y=Math.max(0,Math.min(d.n,b.y));if(!1){}else{var T=g.dY(),a=g.N/y;T.translate(-b.x,-b.y);T.scale(a,a);
T.translate(b.x,b.y);g.a8G(T)}};D.LT.prototype.Ae=function(g,o,k,y,d){if(g.P=="pzoom"){if(typeof g.Z=="string")return;
g={P:"zoom",N:g.Z/100}}var b=0,T=!1,a=null;if(g.P=="adapt"){var t=0;if(g.Z=="pixel")t=1;if(g.Z=="fitscr"){var t=0,j=k.u.dd.m,e=k.u.dd.n,v=new bd(0,0,k.m,k.n),L=_.p.rN(v).j,H=new d3;
H.rotate(k.u.ef);_.p.D(L,H,L);var w=_.p.AU(L),P=d.NV?_.bt.P4+4:8;t=Math.min((j-P*2)/w.m,(e-P*2)/w.n);
k.u.Y.oU(0,0)}a=new bJ(Math.round(k.u.dd.m/2),Math.round(k.u.dd.n/2));b=t;D.LT.$F(k.u,a,T,b);k.pP=!0}if(g.P.startsWith("multi")){function Q(I){var i=I[0].x-I[1].x,z=I[0].y-I[1].y;
return Math.sqrt(i*i+z*z)}function x(I){return new bJ((I[0].x+I[1].x)/2,(I[0].y+I[1].y)/2)}var F=g.fN,E=x(F);
if(g.P=="multidown"){this.V3=[F,k.u.N,k.u.mp(E.x,E.y)]}else{var f=D.LT._L;b=this.V3[1]*Q(F)/Q(this.V3[0]);
b=Math.max(f[f.length-1],Math.min(f[0],b));if(b!=k.u.N)D.LT.$F(k.u,E,T,b);var c=this.V3[2],M=k.u.gk(c.x,c.y),n=k.u.Y;
n.x=Math.round(n.x+E.x-M.x);n.y=Math.round(n.y+E.y-M.y);k.pP=!0}}if(g.P=="scroll"){a=g.yR;var f=D.LT._L,X=g.gl.y,u=1+Math.abs(X)*8e-4*(g.a8E?10:1);
if(X>0)u=1/u;b=k.u.N*u;D.LT.$F(k.u,a,T,Math.min(f[0],Math.max(f[f.length-1],b)));k.pP=!0}if(g.P=="zoom"){var I=g.tr?o._f:[k];
for(var m=0;m<I.length;m++){var r=I[m],J=r.u;a=g.yR?g.yR:new bJ(Math.round(J.dd.m/2),Math.round(J.dd.n/2));
if(g.N!=null)b=g.N;else T=g.ZS;D.LT.$F(J,a,T,b);r.pP=!0}}if(g.P=="mskView"){var U=k.d[k.g[0]];if(U.W1<=0){U.W1=1;
k.Qr=!0}var K=U.W1==3?U.lQ(k).v:U.Qp();if(g.Z==0){k.u.sv=[1,1,1];K.ao=!1}if(g.Z==1){k.u.sv=[1,1,1];K.ao=!0}if(g.Z==2){k.u.sv=[0,0,0];
K.ao=!0}for(var m=0;m<k.Tm.length;m++)k.Tm[m].ao=!1;k.kD=[];k.nM=!0}};D.LT.prototype.Zl=function(g,o,k,y){if(this.TY!=y.z(dj.M4)){this.TY=y.z(dj.M4);
var d={P:N.b.l3,G:this.id,TY:this.TY},b=new jB(N.E.s,!0);b.data=d;o.S(b);this.MN(o,y)}};D.LT.prototype.MN=function(g,o){var k=new jB(N.E.s,!0),y=this.adK(o);
k.data={P:N.b.ih,f8:y?"zoom-in":"zoom-out"};g.S(k)};D.LT.prototype.mz=function(g,o,k,y){this.ZS=g.ZS;
this.tr=g.tr;this.MN(o,y)};D.LT.prototype.adK=function(g){var o=this.ZS;if(g.z(dj.zY)&&g.z(dj.IQ))o=!0;
if(this.TY)o=!o;return o};D.LT.a8h=function(g,o){if(g.z(dj.dk)||g.z(dj.ayG)){o.G=D.aC;o.data={P:"zoom",ZS:!0}}if(g.z(dj.Mt)){o.G=D.aC;
o.data={P:"zoom",ZS:!1}}if(g.z(dj.EJ)){o.G=D.aC;o.data={P:"adapt",Z:"fitscr"}}if(g.z(dj.Xs)){o.G=D.aC;
o.data={P:"adapt",Z:"pixel"}}};D.hz=function(g,o,k){D.L8.call(this,g,o,k);this.m1=null;this.eM=null;
this.mW=null;this.amW=0};D.hz.prototype=new D.L8;D.hz.TV=function(g){var o={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},k=g==0?{classID:"null",null:o,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:o,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{J5:g==0?"fill":"stroke",fV:k}};D.hz.prototype.enable=function(g,o,k,y,d){this.eM=k;var b=new jB(N.E.s,!0);
b.data={P:N.b.ih,f8:"default"};o.S(b)};D.hz.prototype.sF=function(g,o,k,y,d){var b=g.uM(),T=b[0],a=b[1];
if(a.length==0)return;var t=T[a[0]],j=t.add.vmsk,e=g.u.mp(d.x,d.y),v=4*D.V()/g.u.N,L=new bd(e.x-v,e.y-v,v*2,v*2),H=_.w.jh(j.a,L)[0];
if(H.length!=0){j.ZU=H;g.nM=!0}var w=_.w.DQ(j.a,e).Sp;if(w!=-1){j.g=[w];g.nM=!0}var P=new jB(N.E.s,!0);
P.data={P:N.b.l3,G:this.id,Jz:d,b5:g,Px:k};o.S(P)};D.hz.prototype.aeN=function(g,o){var k=new jB(N.E.s,!0);
k.data={P:N.b.pB,Q6:er.fg};if(!o.a5)g.S(k);k.data={P:N.b.pB,Q6:er.VA};if(!o.Nn.p8)g.S(k)};D.hz.prototype.jF=function(g,o,k,y){if(k.nE!=this.id)return;
if(g.g.length==0)return;var d=g.d[g.g[0]],b=d.add.vmsk,T=d.add.vstk,a=D.hz.$H(g,g.g[0]);this.m1=g;this.mW=o;
if(d.JW()&&b!=null&&(JSON.stringify(T)!=JSON.stringify(k.VX)||JSON.stringify(a)!=JSON.stringify(k.w1))){this.amW=Date.now();
var t=new jB(N.E.s,!0);t.data={P:N.b.pB,Q6:er.RX,Z:a};o.S(t);t.data={P:N.b.pB,Q6:er.AA,Z:T};o.S(t)}};
D.hz.prototype.mt=function(g,o){if(this.m1==null)return;if(o==er.a_||o==er.RX||o==er.AA){if(Date.now()-this.amW<50)return;
var k=o==er.RX,y=this.m1,d=k?g.w1:g.VX,b=[],T=y.g;for(var m=0;m<T.length;m++){var a=T[m],t=y.d[a];if(!t.JW()||t.add.vmsk==null)continue;
b.push(a)}var j=new jB(N.E.L,!0);j.G=D.Jn;j.data={P:p.jj,i0:b,LO:k,Z:d};if(b.length!=0)this.mW.S(j)}};
D.hz.prototype.ar1=function(g){if(typeof g=="number"){var o=new jB(N.E.gp,!0);o.data=D.Y7.t3(0);o.data.fV.Usng.v.Type.v.Clr.v=_.M.UF({o:g>>>16&255,C:g>>>8&255,k:g>>>0&255});
this.mW.S(o)}};D.hz.prototype.Ae=function(g,o,k,y,d){this.mW=o;if(g.P=="newfill"){if(g.Wj==0){var b=new jB(N.E.s,!0);
b.data={P:N.b.xp,Pv:"colorpicker",IZ:d.p2,Tr:this.ar1.bind(this)};o.S(b)}}else if(g.P=="pathedit"){var T=g.cL,a="",t=k.p8.slice(0),j=k.yI.slice(0),e=k.p8.slice(0),v=k.yI.slice(0);
if(T=="rnm"){var L=-1-g.Sp,H=t[L],w=dF.Jl(g.name,H.add);if(L!=0)e[L]=w;else{v=[e.length];e.push(w);e[0]=dF.Jl("Work Path")}a="Rename"}else if(T=="new"){var w=dF.Jl("Path "+t.length);
if(g.a0e){var P=k.uM(),Q=P[0],x=P[1],F=Q[x[0]];w.add.vmsk=F.add.vmsk.clone();w.add.vogk=JSON.parse(JSON.stringify(F.add.vogk));
if(F.Sp==-1){var f=e[v[0]]=dF.Jl("Path "+t.length);f.name=F.name;f.Sp=F.Sp}}e.push(w);v=[e.length-1];
a="New"}else if(T=="del"){if(v.length==0)return;v.sort(function(K,l){return K-l});if(v[0]==0){e[0]=dF.Jl(t[0].name);
v=v.slice(1)}var c=0;while(v.length!=0){e.splice(v[0]-c,1);v=v.slice(1);c++}a="Delete"}else if(T=="fromsel"){var M=e[0]=dF.Jl("Work Path");
v=[0];if(k.J==null)return;var n=k.J.channel.slice(0);for(var m=0;m<n.length;m++)n[m]=n[m]>128?2:1;var X=k.J.rect.clone();
X.pK(1,1);var u=_.Q(X.O());_.sQ(n,k.J.rect,u,X);var I=aO.RB(u,X.m,X.n,Math.round(X.O()*5e-4)),Q=aO.uM(I),r=new d3(1,0,0,1,-1+k.J.rect.x,-1+k.J.rect.y);
for(var m=0;m<Q.length;m++)_.p.D(Q[m].path.j,r,Q[m].path.j);for(var m=0;m<Q.length;m++){var J=Q[m];if(J.color==1&&J.parent==-1)continue;
var U=_.p.XP(Q[m].path,!1);M.add.vmsk.a=M.add.vmsk.a.concat(U.slice(2))}M.add.vogk=p.Ko(M.add.vmsk.a);
a="Selection to"}var K=new cc(a+" Path",this);K.data={B$:t,gB:j,a4z:e,vz:v};if(T=="fromsel"){K.data.J2=k.J;
K.data.A2=null}k.DU(K);this.qw(K.data,k)}else{var i=g.Y5,P=k.uM(g.P=="append"||g.P=="fromAction"),Q=P[0],x=P[1],M=Q[x[0]],z=M.add.vmsk,h=M.add.vogk,R=z.clone(),C=z.clone(),G=JSON.stringify(h);
if(g.P=="fromAction"){var W=g.A3,A=W.J5,$=W.fV,O=$.T;if(A=="set"){if(O){h.push(_.X.z3(O));C.a.push({type:0,dJ:1,length:0});
_.X.KI(h,C);i=[12,76,0]}else throw $}else if(A=="draw"){h=[_.X.z3($.Shp)];C.a.push({type:0,dJ:1,length:0});
_.X.KI(h,C);D.hz.agN(C.a,$.AntA.v,d.p2,o);return}else throw A}else if(g.P=="remove"){if(g.Cd&&C.ZU.length!=0){C.a=_.w.a3F(C.a,C.ZU,h,g.acR);
var Y=_.w.L7(C.a);for(var m=0;m<C.g.length;m++)if(C.g[m]>=Y){C.g.splice(m,1);m--}C.ZU=[];i="Delete Anchors"}else{if(C.g.length==0)return;
var c=0;for(var m=0;m<C.g.length;m++){h.splice(C.g[m]+c,1);c--}C.a=_.w.awR(C.a,C.g);C.g=[];C.ZU=[];if(i==null)i="Delete Paths"}}if(g.P=="append"){D.hz.ei(g.afD,C,h)}this.oS(k,M.Sp,C,h);
this.iM(k,i,M.Sp,R,C.clone(),null,G,JSON.stringify(h))}};D.hz.agN=function(g,o,k,y){var d=new p.Ew;d.a=d.a.concat(g.slice(2));
var b=d.Qp();if(!o)_.round(b.channel);var T=_.Q(b.rect.O()*4);_.Sm(T,(k&255)<<16|(k>>8&255)<<8|(k>>16&255)<<0);
_.e_(b.channel,T,3);var a=new jB(N.E.L,!0);a.G=D.Bj;a.data={P:"draw",gj:{buffer:T,rect:b.rect.clone()},Y5:this.name};
y.S(a)};D.hz.sh=function(g,o){var k=_.w.as6(g.a,g.g),y=[];for(var m=0;m<g.g.length;m++)y.push(JSON.parse(JSON.stringify(o[g.g[m]])));
return[k,y]};D.hz.ei=function(g,o,k){var y=_.w.L7(o.a),d=_.w.L7(g[0]);o.a=o.a.concat(g[0].slice(2));
o.g=[];for(var m=0;m<d;m++)o.g.push(y+m);for(var m=0;m<d;m++)k.push(JSON.parse(JSON.stringify(g[1][m])))};
D.hz.prototype.xg=function(g,o){if(o==null)return!1;var k=o.uM(),y=k[0],d=k[1];if(d.length==0)return!1;
var b=y[d[0]],T=b.add.vmsk;if(T&&T.g.length+T.ZU.length!=0)return[dj.aS,dj.uo].indexOf(g)!=-1};D.hz.prototype.Zl=function(g,o,k,y){if(g==null)return;
var d=g.uM(),b=d[0],T=d[1];if(T.length==0)return;var a=b[T[0]],t=a.add.vmsk;if(y.z(dj.bC)||y.z(dj.zu)||this.id==D.Wh&&y.z(dj.Sr)){t.ZU=[];
g.nM=!0}if(t.g.length!=0){var j=y.Mj();if(j.x!=0||j.y!=0){var e=t.clone(),v=t.clone(),L=new d3(1,0,0,1,j.x,j.y),H=a.add.vogk,w=JSON.stringify(H);
if(y.z(dj.M4)){var P=D.hz.sh(v,H);D.hz.ei(P,v,H)}_.w.cs(v.a,L,v.g);_.X.D(H,_.K.bn(L),v.g);this.oS(g,a.Sp,v,H);
this.iM(g,"Move Paths",a.Sp,e,v.clone(),!0,w,JSON.stringify(H))}if(y.z(dj.aS)||y.z(dj.uo))this.Ae({P:"remove",Cd:this.id==D.Wh},o,g,y,k)}};
D.hz.prototype.iM=function(g,o,k,y,d,b,T,a){var t=new cc(o,this);t.data={Fe:k,sq:y,Zq:d,a6g:b,ajd:T,yU:a};
g.DU(t)};D.hz.prototype.qw=function(g,o){if(g.Fe!=null)this.oS(o,g.Fe,g.Zq.clone(),JSON.parse(g.yU));
else{o.p8=g.a4z.slice(0);o.yI=g.vz.slice(0);o.nM=o.Qr=!0}if(g.J2||g.A2){o.J=g.A2;o.cP=!0}};D.hz.prototype.YZ=function(g,o){if(g.Fe!=null)this.oS(o,g.Fe,g.sq.clone(),JSON.parse(g.ajd));
else{o.p8=g.B$.slice(0);o.yI=g.gB.slice(0);o.nM=o.Qr=!0}if(g.J2||g.A2){o.J=g.J2;o.cP=!0}};D.hz.prototype.oS=function(g,o,k,y){var d=o<0?g.p8[-1-o]:o<1e6?g.d[o]:g.d[o-1e6].add.TySh,b=d.add.vmsk;
b.channel=null;b.WP=!0;if(b.v7){b.v7.channel=null;b.v7.WP=!0}d.add.vmsk=k;d.add.vogk=y;if(1e6<=o){bw.iD(d);
var T=g.d[o-1e6],a=d,t=this.eM;il.Ov(T,t.At);g.U()}else if(0<=o){k.WP=!0;d.bD(g);g.U()}g.nM=g.Qr=!0};
D.hz.$H=function(g,o){var k=g.d[o],y=k.add.vstk,d=null;if(y&&!y.fillEnabled.v)d={uF:0};else if(k.add.SoCo)d={uF:1,si:k.add.SoCo};
else if(k.add.GdFl)d={uF:2,si:k.add.GdFl};else if(k.add.PtFl)d={uF:3,si:k.add.PtFl};return d};D.hz.G_=function(g,o){var k=g.add.vmsk,y=g.add.vstk,d=o.uF;
if(y)y.fillEnabled.v=d!=0;if(d>0){var b=["SoCo","GdFl","PtFl"][d-1];for(var m=0;m<3;m++)delete g.add[["SoCo","GdFl","PtFl"][m]];
g.add[b]=o.si}};D.Y7=function(g,o,k,y){D.hz.call(this,g,o,k);this.lI={shape:gM.J0(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{la:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ad2=y;this._l=null;this.pJ=null;this.iB=null;this.z2=new hL};D.Y7.prototype=new D.hz;D.Y7.prototype.qd=function(g){return g._J&&this.id!=D.B7};
D.Y7.prototype.enable=function(g,o,k,y,d){this.eM=k;var b=new jB(N.E.s,!0);b.data={P:N.b.ih,f8:"crosshair"};
o.S(b)};D.Y7.prototype.Zl=function(g,o,k,y){D.hz.prototype.Zl.call(this,g,o,k,y);this.z2.Zl(y);this.bc(o,k)};
D.Y7.prototype.bc=function(g,o){var k=new jB(N.E.s,!0);k.data={P:N.b.l3,G:this.id,uK:this.Ev(o)};g.S(k)};
D.Y7.prototype.Ev=function(g){var o=this.z2.uU(0),k=this.z2.T_(0),y=D.qT.Yw(this.lI.binop,o,k);if(g.qW==1&&y==0)y=1;
return y};D.Y7.prototype.p5=function(g,o,k,y){};D.Y7.prototype.Hu=function(g,o,k,y,d){var b=k.qW;if(b!=2)this.aeN(o,k);
if(b==2&&!g.q0())return;var T=g.u.mp(d.x,d.y);T=D.Bt.Qw(g,T,k);this.iB=[T.x,T.y];this._l=T;this.pJ=new bJ(0,0);
this.z2.Hu(y)};D.Y7.prototype.a6s=function(g,o,k,y){var d=[this._l.clone(),o.clone()];k=this.z2.uU(1)||k.z(dj.d_)||this.z2.T_(1)?k:null;
if(this.ad2)d=D.Y7.ZJ(d[0],d[1],k,!0,this.lI.cstr);if(g)g.u.nQ=new bd(d[0].x,d[0].y,d[1].x-d[0].x,d[1].y-d[0].y);
return this.p5(d[0],d[1],this.z2.uU(1)&&k.z(dj.d_),this.iB,g.u,y)};D.Y7.prototype.amL=function(g,o,k){var y=g.u.mp(o.x,o.y);
if(this.id==D.B7)return y;var d=this.lI.cstr;if(d.la==2){var b=new bd(y.x-d.x,y.y-d.y,d.x,d.y),T=D.Bt.c3(g,b,k);
y.x+=T[0];y.y+=T[1];D.Bt.CQ(g,b,T)}else y=D.Bt.Qw(g,y,k);return y};D.Y7.prototype.Sa=function(g,o,k,y,d){if(this._l==null)return;
var b=this.iB,T=b.length,a=d?this.amL(g,d,k):new bJ(b[T-2],b[T-1]);if(y.z(dj.zY))this._l=a.Eu(this.pJ);
else this.pJ=a.Eu(this._l);b.push(a.x,a.y);if(this.lI.shape==null)this.lI.shape=k.y6[0];var t=this.a6s(g,a,y,!0)[0],j=_.p.rR(t);
g.I.MI=j;if(this.id!=D.B7&&this.id!=D.QJ&&this.id!=D.qD)D.L8.eU(d,g.u.nQ,g,k);g.nM=!0;this.z2.Sa()};
D.Y7.prototype.amq=function(g,o,k,y){var d=g[4].clone();if(y){d.x-=o/2;d.y-=k/2}if(this.id==D.QJ){o/=2;
k/=2;d.x+=o;d.y+=k;k=-k;o=0}var b=this.p5(d,new bJ(d.x+o,d.y+k),!1,this.iB);this.a2y(g[0],g[1],g[2],b)};
D.Y7.prototype.a2y=function(g,o,k,y){var d=k.qW,b=new jB(N.E.gp,!0);if(d==0)b.data=D.Y7.aj1(y[1],k);
else if(d==1){var T={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:y[1]};
b.data={J5:"set",fV:T}}else{var T={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:y[1]};b.data={J5:"draw",fV:T}}o.S(b);
if(y[1].v.classID=="customShape"&&y[1].v.Nm.v.startsWith("--")){var a=g.uM(),t=a[0],j=a[1],e=t[j.pop()],v=e.add.vmsk,L=e.add.vogk;
_.X.rM(L);var H=v.clone();H.a=y[0];this.oS(g,e.Sp,H,L)}};D.Y7.prototype.b9=function(g,o,k,y,d,b){if(this._l==null)return;
var T=this.amL(g,d,k),a=this.Ev(k),t=k.qW,j=this.iB,e=j.length;if(this.id==D.B7&&e<=4){}else if(e<=4){T.x=Math.round(T.x);
T.y=Math.round(T.y);var v=new jB(N.E.s);v.data={P:N.b.xp,Pv:"createshape",axc:this.amq.bind(this),afZ:this.name,axv:[g,o,k,y,T]};
if(!b)o.S(v)}else if(e!=2){var L=this.a6s(g,T,y),H=L[0],w=g.uM(!0),P=w[0],Q=w[1],x=Q.length-1;if(t==1&&H.length>2||t==0&&a!=0&&x!=-1&&P[Q[x]].Sp>=0){H[2].dJ=[1,2,3,0][a-1];
var F=P[Q.pop()],E=F.add.vmsk,f=F.add.vogk,c=E.clone(),M=E.clone(),n=JSON.stringify(f);M.a=M.a.concat(H.slice(2));
M.g=[_.w.L7(M.a)-1];var X=_.X.z3(L[1]);f.push(X?X:_.X.o7());this.oS(g,F.Sp,M,f);this.iM(g,this.name,F.Sp,c,M,null,n,JSON.stringify(f))}else if(t==0){this.a2y(g,o,k,L)}else if(t==2){D.hz.agN(H,this.lI.anta,k.p2,o)}}this._l=null;
g.I.MI=null;g.I.JO=null;g.I.Cq=[];g.u.nQ=null;g.nM=!0;this.z2.b9();this.bc(o,k)};D.Y7.prototype.mz=function(g,o,k,y,d){for(var k in g)this.lI[k]=g[k]};
D.Y7.ZJ=function(g,o,k,y,d){var b=g.x,T=g.y,a=o.x,t=o.y;if(d&&d.la==2){if(y){a=Math.round(a);t=Math.round(t)}b=a-d.x;
T=t-d.y}else{var j=0;if(d&&d.la==1)j=d.y/d.x;else if(k&&k.z(dj.d_))j=1;if(j!=0){if(y){if(b<a)b=Math.floor(b);
else b=Math.ceil(b);if(T<t)T=Math.floor(T);else T=Math.ceil(T)}var e=Math.abs(a-b),v=Math.abs(t-T),L=e;
if(v/e<j)L*=v/e/j;a=a>b?b+L:b-L;t=t>T?T+L*j:T-L*j}if(k&&k.z(dj.M4)){b-=a-b;T-=t-T}}var g=new bJ(b,T),o=new bJ(a,t);
if(y)D.Y7.avn(g,o);return[g,o]};D.Y7.avn=function(g,o){if(g.x>o.x){var k=g.x;g.x=o.x;o.x=k}if(g.y>o.y){var k=g.y;
g.y=o.y;o.y=k}g.x=Math.floor(g.x);g.y=Math.floor(g.y);o.x=Math.ceil(o.x);o.y=Math.ceil(o.y)};D.Y7.a7J=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
D.Y7.t3=function(g,o){var k=D.Y7.a7J(),y=k.Usng.v.Type;if(o==null){y.v=JSON.parse(JSON.stringify(iZ.IS[g]));
y.v.classID=["solidColorLayer","gradientLayer","patternLayer"][g]}else D.WX._S(o,y.v,g);return{J5:"make",fV:k}};
D.Y7.aj1=function(g,o){var k=o.w1,y=JSON.parse(JSON.stringify(o.VX));y.fillEnabled.v=k.uF!=0;var d=D.Y7.t3(Math.max(0,k.uF-1),k.si);
d.fV.Usng.v.Shp=g;d.fV.Usng.v.strokeStyle={t:"Objc",v:y};return d};D.Lo=function(g){D.hz.call(this,g==0?[10,29]:[10,51],g==0?D.Wh:D.acw,g==0?"tools/pen":"tools/cpen");
this.cD=g;this.wv=null;this.z_=null;this.op=null;this.aii=0;this.GX=null;this.cT=!1;this._x=!1;this.HH=!1;
this.xD=!1;this.He=0};D.Lo.prototype=new D.hz;D.Lo.prototype.qd=function(g){return this.z_!=null};D.Lo.prototype.Zl=function(g,o,k,y){if(!y.z(dj.M4))this.HH=!1;
if(this.cD==1&&(y.z(dj.aS)||y.z(dj.uo))&&this.xg(dj.aS,g)){this.Ae({P:"remove",Cd:!0},o,g,y,k);return}D.hz.prototype.Zl.call(this,g,o,k,y)};
D.Lo.prototype.Hu=function(g,o,k,y,d){this.wv=d;this.aeN(o,k);var b=g.u.mp(d.x,d.y),P,Q;b.x=Math.round(b.x);
b.y=Math.round(b.y);var T=D.Bt.Qw(g,b,k),a=k.qW,t=this.aii;if(a==2)a=0;var j=g.uM(a==1),e=j[0],v=j[1],L=e[v.pop()],H=L?L.add.vmsk:null;
if(a==0&&t!=0&&L&&L.Sp>=0)a=1;var w=D.hC(g,d);if(H)P=_.w.DQ(H.a,b,!0,w);var x=y.z(dj.M4);if(a==0&&(H==null||H.ZU.length==0&&P.Sp==-1)){var F=new jB(N.E.gp,!0),f=_.X.Bk("customShape",[0,0,1,1],null,null,null,"--");
F.data=D.Y7.aj1(f,k);o.S(F);this.xD=!0;j=g.uM(!0);e=j[0];v=j[1];L=e[v.pop()];H=L.add.vmsk;H.a=H.a.slice(0,2)}var c=L.add.vogk;
this.z_=H.clone();this.op=JSON.stringify(c);var M=H.a,n=_.w.L7(M);Q=_.w.jh(H.a,new bd(b.x-w,b.y-w,w*2,w*2),H.ZU);
P=_.w.DQ(H.a,b,!0,w);var X=Q[0].length+Q[1].length+Q[2].length;if(P.Sp!=-1&&Q[0].length==0){var u=_.w.SO(M,P.Sp),I=M[u].length;
while(I<=P.QL){P.QL-=I;u+=I+1}var r={type:4,Tp:T.clone(),H:T.clone(),dt:T.clone()},J=u+2+P.QL,U=u+1+(1+P.QL)%I,K=M[J-1],i=M[U];
if(!K.H.ey(K.dt)||!i.Tp.ey(i.H)){var z=_.p.aaf(K.H,K.dt,i.Tp,i.H,P.Kl);K.dt=z[0];r.Tp=z[1];r.H=z[2];
r.dt=z[3];i.Tp=z[4]}M.splice(J,0,r);M[u].length++;H.ZU=[J];if(this.cD==1){r.Tp.x+=2;this.I7(H)}}else if(X!=0&&x){var h=0;
for(var m=0;m<3;m++)if(Q[m].length!=0){h=Q[m][0];this._x=m==1;break}if(Q[0].length!=0){var R=H.a.length-1,C=H.a[h];
C.dt=C.H.clone();var G=C.type>=3?3:0;if(h!=R){C.Tp=C.H.clone();C.type=G+1;this.HH=!0}else C.type=G+2}H.ZU=[h]}else if(Q[0].length==1&&M[Q[0][0]-1]&&(M[Q[0][0]-1].H!=null||M[Q[0][0]-1].type==0||M[Q[0][0]-1].length==1)){var h=Q[0][0];
if(this.cD==1){var W=M[h],A=W.H,$=Math.abs(_.p.aw9(W.Tp.x,W.Tp.y,A.x,A.y,W.dt.x,W.dt.y));if($>.01){W.Tp=A.clone();
W.dt=A.clone()}if(Date.now()-this.He<300){var O=W.Tp.ey(A)&&W.dt.ey(A);if(O)W.dt.offset(2,2);else{W.Tp=A.clone();
W.dt=A.clone()}this.He=0}else this.He=Date.now();H.ZU=[h];this.I7(H)}else{var u=_.w.SO(M,_.w.sd(M,h)),f=M[u],Y=u+f.length;
if(h!=Y||f.type==0){M[u].length--;M.splice(h,1);Y--;if(f.length==0){M.splice(u,1);Y=-1}}if(Y!=-1)H.ZU=[Y];
else H.ZU=[]}}else{var l=0;if(H.ZU.length!=1){H.g=[n];M.push({type:3,length:1,dJ:[1,2,3,0][Math.max(0,t-1)],Pj:0,nB:0,tH:0});
l=M.length;c.push(_.X.o7())}else{var W=H.ZU[0],B=_.w.sd(M,W),u=_.w.SO(M,B);W=u+M[u].length;if(bJ.YX(b,M[u+1].H)<w){M[u].type=0;
H.ZU=[u+1];this.GX=T;this.cT=!0;this.oS(g,L.Sp,H,c);g.nM=!0;return}M[u].length++;l=W+1;if(W==u+1&&M[u].length!=2)l=u+1}if(y.z(dj.d_)&&M[l-1]&&M[l-1].H)T=D.Q2.mS(M[l-1].H,T);
var r={type:4,Tp:T.clone(),H:T.clone(),dt:T.clone()};M.splice(l,0,r);H.ZU=[l];this.GX=T;if(this.cD==1){r.Tp.x+=2;
this.I7(H)}this.He=Date.now()}this.oS(g,L.Sp,H,c);g.nM=!0};D.Lo.prototype.I7=function(g){var o=g.a,k=g.ZU[0],y=_.w.SO(o,_.w.sd(o,k))+1,d=o[y-1].length;
if(d<3)return;var b=[],T=[];for(var m=0;m<5;m++){var a=y+(k-y-2+m+5*d)%d;T.push(a);var t=o[a].H;b.push(t.x,t.y)}var j=_.p.aim(b);
for(var m=1;m<4;m++){var e=m*4,v=o[T[m]],t=v.H,L=v.Tp.ey(t)&&v.dt.ey(t);if(!L){v.Tp.oU(j[e],j[e+1]);
v.dt.oU(j[e+2],j[e+3])}else{v.Tp=t.clone();v.dt=t.clone()}}};D.Lo.prototype.Sa=function(g,o,k,y,d){if(this.z_==null)return;
var b=this.wv;if(b&&bJ.YX(b,d)<D.hC({u:{N:1}},d))return;this.wv=null;var T=g.u.mp(d.x,d.y),a=D.Bt.Qw(g,T,k),t=g.uM(k.qW==1),j=t[0],e=t[1],v=j[e.pop()],L=v.add.vmsk,H=L.a,w=H[L.ZU[0]];
if(this.cD==1){var P=w.H.ey(w.Tp)&&w.H.ey(w.dt);w.H=T.clone();w.Tp=T.clone();w.dt=T.clone();if(!P)w.Tp.x+=2;
this.I7(L)}else if(y.z(dj.zY)){if(y.z(dj.d_))a=D.Q2.mS(this.GX,a);var Q=w.H.Eu(w.dt),x=w.Tp.Eu(w.H);
w.dt=a;w.H=a.add(Q);w.Tp=w.H.add(x)}else{if(y.z(dj.d_))a=D.Q2.mS(w.H,a);if(this._x){var F=w.Tp;w.Tp=w.dt;
w.dt=F}if(this.cT){var E=bJ.YX(w.H,a),f=E==0?0:bJ.YX(w.H,w.dt)/E;w.dt.x=w.H.x+f*(a.x-w.H.x);w.dt.y=w.H.y+f*(a.y-w.H.y)}else w.dt=a;
if(y.z(dj.M4)&&!this.HH)w.type=5;else{w.type=4;w.Tp=w.H.add(w.H.Eu(a))}this.GX=a;if(this._x){var F=w.Tp;
w.Tp=w.dt;w.dt=F}}this.oS(g,v.Sp,L,v.add.vogk);g.nM=!0};D.Lo.prototype.b9=function(g,o,k,y,d){if(this.z_==null)return;
var b=g.uM(k.qW==1),T=b[0],a=b[1],t=T[a.pop()],j=t.add.vmsk,e=t.add.vogk;if(this.cT){j.ZU=[];this.oS(g,t.Sp,j,t.add.vogk)}var v=this.z_.a.length,L=j.a.length;
if(!this.xD)this.iM(g,this.cT?"Close Path":(v==L?"Move":v<L?"Add":"Delete")+" Anchor Point",t.Sp,this.z_,j.clone(),null,this.op,JSON.stringify(e));
this.xD=!1;this.cT=!1;this._x=!1;this.HH=!1;this.z_=null};D.Lo.prototype.mz=function(g,o,k,y,d){this.aii=g.binop};
D.MC=function(){D.Y7.call(this,[10,30],D.B7,"tools/fpen",!1)};D.MC.prototype=new D.Y7;D.MC.prototype.p5=function(g,o,k,y,d,b){var T=y.length-1,a=Math.sqrt((y[T-1]-y[0])*(y[T-1]-y[0])+(y[T]-y[1])*(y[T]-y[1]))<6/d.N;
return[_.w.So(y,a,b),_.X.Bk("customShape",[0,0,1,1],null,null,null,"--")]};D.h7=function(){D.hz.call(this,[10,27],D.WH,"tools/pselect");
this.LU=null;this.mx=!1;this.LX=null;this.z_=null;this.Pe=null;this.op=null;this.ic=null;this.$Z=null;
this.NT=null;this.wX=null};D.h7.prototype=new D.hz;D.h7.prototype.qd=function(g){return g._J};D.h7.prototype.Hu=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=g.uM(),a=T[0],t=T[1],j,e;
for(var m=0;m<t.length;m++){var v=a[t[m]],L=v.add.vmsk,H=_.w.DQ(L.a,b).Sp;if(H!=-1){this.LX=j=v;e=H}for(var w=0;
w<L.zA.length;w++){var P=_.w.aF(L.a,L.zA[w]);if(P==null)continue;var Q=bJ.YX(P,b);if(Q<4*D.V()/g.u.N){var x=g.d[v.Sp-1e6].add.TySh,F=x.O7.Curve,E=x.D,f=F.Reversed;
F.Reversed=!1;var F=dR.AK(x.O7.Curve);F.Reversed=f;_.p.D(F[0],E,F[0]);this.NT=[F,w,E.Ng*E.vP-E.k*E._I];
this.LX=j=v;e=0}}if(this.NT)break}if(j!=null){var L=j.add.vmsk;L.ZU=[];var c=L.g.indexOf(e);if(y.z(dj.d_)){if(c==-1){L.g.push(e);
this.mx=!0}else L.g.splice(c,1)}else{if(c==-1)L.g=[e];this.mx=!0}this.$Z=_.w.HM(L.a,L.g)}this.LU=b;this.wX=new iN(b);
g.Qr=!0;g.nM=!0};D.h7.prototype.Sa=function(g,o,k,y,d){if(this.LU==null)return;var b=g.u.mp(d.x,d.y);
if(this.mx){b=this.wX.Ke(b,y);var T=this.LX;if(this.z_==null){this.z_=this.Pe=T.add.vmsk.clone();this.op=this.ic=JSON.stringify(T.add.vogk);
if(y.z(dj.M4)){var a=this.z_.clone(),t=JSON.parse(this.op),j=D.hz.sh(a,t);D.hz.ei(j,a,t);this.Pe=a;this.ic=JSON.stringify(t)}}var a=this.Pe.clone(),t=JSON.parse(this.ic);
if(this.NT){var e=this.NT,v=e[0][0],L=_.p.IN(v,b.x,b.y);a.zA[e[1]]=e[0][1][L];var H=v[L*2],w=v[L*2+1],P=(v[L*2+2]-H)*(b.y-w)-(v[L*2+3]-w)*(b.x-H);
if(e[2]<0)P=-P;a.TU=P>0}else{var Q=this.$Z.clone(),x=Q.x,F=Q.y;Q.offset(b.x-this.LU.x,b.y-this.LU.y);
Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);var E=D.Bt.c3(g,Q,k),f=new d3(1,0,0,1,Q.x-x+E[0],Q.y-F+E[1]);
_.w.cs(a.a,f,a.g);_.X.D(t,_.K.bn(f),a.g);D.Bt.CQ(g,Q,E)}this.oS(g,T.Sp,a,t)}else{var c=this.LU;g.I.MI=_.p.rN(new bd(c.x,c.y,b.x-c.x,b.y-c.y));
g.nM=!0}};D.h7.prototype.b9=function(g,o,k,y,d){if(this.LU==null)return;var b=g.u.mp(d.x,d.y),T=this.LX,a=T?T.add.vmsk:null;
if(this.mx){var t=JSON.stringify(T.add.vogk);if(!this.LU.ey(b))this.iM(g,"Move Paths",T.Sp,this.z_,a,null,this.op,t);
if(g!=null&&g.I.JO){g.I.JO=null;g.nM=!0}}else{if(a){var j=this.LU,e=new bd(j.x,j.y,b.x-j.x,b.y-j.y),v=_.w.ada(a.a,e);
if(y.z(dj.d_)){for(var m=0;m<v.length;m++)if(a.g.indexOf(v[m])==-1)a.g.push(v[m])}else a.g=v}g.I.MI=null;
g.nM=!0}this.LU=null;this.z_=null;this.NT=null;this.mx=!1;this.wX=null};D.h7.prototype.jF=function(g,o,k,y){D.hz.prototype.jF.call(this,g,o,k,y);
if(k.nE!=this.id)return;if(g.g.length==0)return;var d=g.uM(),b=d[0],T=d[1];if(T.length==0)return;var a=b[T[0]],t=a.add.vmsk,j=a.add.vstk,e=a.add.vogk,v=new jB(N.E.s,!0);
v.data={P:N.b.l3,G:this.id,AB:"main",ye:t?t:null,X:e};o.S(v)};D.h7.prototype.mz=function(g,o,k,y,d){var b=g.Q9;
if(b.ye){var T=k.uM(),a=T[0],t=T[1];if(t.length==0)return;var j=a[t[0]],e=j.add.vmsk.clone(),v=JSON.stringify(j.add.vogk),L=b.ye;
this.oS(k,j.Sp,L,b.X);var H=[18,5];if(e.a.length==L.a.length)H=e.g[0]==L.g[0]?"Fill Rule":"Path Order";
this.iM(k,H,j.Sp,e,L,null,v,JSON.stringify(b.X))}};D.j5=function(){D.hz.call(this,[10,28],D.lz,"tools/dselect");
this.aX=-1;this.s3=-1;this.HB=null;this.LU=null;this.LX=null;this.z_=null;this.op=null;this.m1=null;
this.Az=0;this.d$={psnap:!1};this.wX=null};D.j5.prototype=new D.hz;D.j5.prototype.qd=function(g){return g._J};
D.j5.prototype.mz=function(g){this.d$=g};D.j5.prototype.Ae=function(g,o,k,y,d){if(g.P=="crnr"){if(k==null)return;
var b=k.uM(),T=b[0],a=b[1];if(a.length==0){alert("No paths selected");return}var t=T[a[0]],j=t.add.vmsk;
if(j.ZU.length==0){alert("No corners selected");return}for(var m=0;m<j.ZU.length;m++){var e=j.a[j.ZU[m]];
if(!e.H.ey(e.dt)||!e.H.ey(e.Tp)){alert("Only sharp corners can be rounded");return}}if(this.z_==null){this.z_=t.add.vmsk.clone();
this.op=JSON.stringify(t.add.vogk);this.LX=t;this.m1=k}var v=new jB(N.E.s,!0);v.data={P:N.b.xp,Pv:"cornerradius",Ad:5,H_:this.a3h.bind(this)};
o.S(v)}else D.hz.prototype.Ae.call(this,g,o,k,y,d)};D.j5.prototype.a3h=function(g){if(g=="confirm"){var o=this.m1,k=this.LX,y=k.add.vmsk,d=k.add.vogk;
this.iM(o,[12,94,0],k.Sp,this.z_,y,null,this.op,JSON.stringify(d));this.zX();return}var y=this.z_.clone(),d=JSON.parse(this.op),b=y.ZU;
if(g=="cancel"){}else{var T=[];for(var m=0;m<b.length;m++){var a=b[m],t=_.w.sd(y.a,a,!0),v=0;if(T.indexOf(t)!=-1)continue;
T.push(t);var j=_.w.SO(y.a,t,!0),e=y.a[j].length,L=[];for(var H=0;H<e;H++){var w=y.ZU.indexOf(j+H+1)==-1?0:g;
L.push(w);if(w!=0)v++}_.w.FC(y.a,j,L);for(var H=0;H<b.length;H++)if(b[H]>j+e)b[H]+=v}this.Tn(y,d);y.ZU=[]}this.oS(this.m1,this.LX.Sp,y,d);
if(g=="cancel")this.zX()};D.j5.prototype.disable=function(g,o,k,y){this.ba(g)};D.j5.prototype.Hu=function(g,o,k,y,d){this.ba(g);
var b=g.u.mp(d.x,d.y),v,L,H;this.HB=b.clone();var T=g.uM(),a=T[0],t=T[1];if(t.length==0)return;var j=D.hC(g,d),e=new bd(b.x-j,b.y-j,j*2,j*2);
for(var w=0;w<t.length;w++){v=this.LX=a[t[w]];L=v.add.vmsk;H=_.w.jh(L.a,e);if(H[0].length+H[1].length+H[2].length!=0)break}var P=[!1,!1,!1];
for(var m=0;m<3;m++){for(var Q=0;Q<H[m].length;Q++){var x=H[m][Q],F=L.a[x];if(L.ZU.indexOf(x)!=-1||m==1&&L.ZU.indexOf(x-1)!=-1&&!F.H.ey(F.Tp)||m==2&&L.ZU.indexOf(x+1)!=-1&&!F.H.ey(F.dt)){H[m]=[x];
P[m]=!0;break}}}if(H[0].length!=0&&(P[0]||!P[1]&&!P[2])){var E=H[0][0],f=L.ZU.indexOf(E);if(y.z(dj.d_)){if(f==-1)L.ZU.push(E);
else{L.ZU.splice(f,1);g.nM=!0;return}}else if(f==-1)L.ZU=[E];this.aX=E;this.s3=0}else if(H[1].length!=0&&P[1]){this.aX=H[1][0];
this.s3=1}else if(H[2].length!=0&&P[2]){this.aX=H[2][0];this.s3=2}else{var c=_.w.DQ(L.a,b,!0,j);if(c.Sp==-1)this.LU=b;
else{L.g=[c.Sp];L.ZU=[]}}if(this.z_==null){this.z_=v.add.vmsk.clone();this.op=JSON.stringify(v.add.vogk)}this.wX=new iN(b);
g.nM=!0};D.j5.prototype.Sa=function(g,o,k,y,d){if(g==null)return;var b=g.u.mp(d.x,d.y),T=this.LX;if(this.aX!=-1){var a=this.z_.clone(),t=T.add.vogk,j=a.a[this.aX];
j=[j.H,j.Tp,j.dt][this.s3];if(y.z(dj.d_)){if(this.s3==0){b=this.wX.Ke(b,y);b.x+=j.x-this.HB.x;b.y+=j.y-this.HB.y}else b=D.Q2.mS(a.a[this.aX].H,b)}else{if(this.d$.psnap){b.x=Math.round(b.x);
b.y=Math.round(b.y)}b=D.Bt.Qw(g,b,k)}if(this.s3==0){var e=new d3(1,0,0,1,b.x-j.x,b.y-j.y);_.w.cs(a.a,e,null,a.ZU)}else{var v=a.a[this.aX],L=v.Tp,H=v.dt;
if(this.s3==2){L=v.dt;H=v.Tp}if(y.z(dj.M4)&&(v.type==1||v.type==4))v.type++;L.oU(b.x,b.y);if(v.type==1||v.type==4){var w=bJ.YX(L,v.H),P=bJ.YX(H,v.H);
if(P!=0){H.x=v.H.x-(L.x-v.H.x)*(P/w);H.y=v.H.y-(L.y-v.H.y)*(P/w)}}}this.Tn(a,t);this.oS(g,T.Sp,a,t)}else if(this.LU!=null){var Q=this.LU;
g.I.MI=_.p.rN(new bd(Q.x,Q.y,b.x-Q.x,b.y-Q.y));g.nM=!0}else{var x=g.uM(),F=x[0],E=x[1],T,a,M;if(E.length==0)return;
var f=D.hC(g,d),c=new bd(b.x-f,b.y-f,f*2,f*2);for(var n=0;n<E.length;n++){T=F[E[n]];a=T.add.vmsk;M=_.w.jh(a.a,c);
if(M[0].length+M[1].length+M[2].length!=0)break}this.ba(g);for(var m=0;m<3;m++){for(var X=0;X<M[m].length;
X++){var u=M[m][X],I=a.a[u];I=m==0?I.H:m==1?I.Tp:I.dt;g.I.Zm.push(g.I.gt.length>>>1);g.I.gt.push(I.x,I.y);
g.nM=!0}}}};D.j5.prototype.ba=function(g){if(g&&g.I.gt.length!=0){g.I.gt=[];g.I.Zm=[];g.nM=!0}};D.j5.prototype.b9=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=this.LX,a=T?T.add.vmsk:null,t=T?T.add.vogk:null;
if(this.aX!=-1){if(Date.now()-this.Az<300){var j=a.a[this.aX],e=this.s3,v=null;if(e==0){var L=j.Tp.ey(j.H),H=j.dt.ey(j.H);
if(!L&&!H){v="Anchor Type";if(j.type==1||j.type==4)j.type++;else{j.type--;j.dt=j.H.add(j.H.Eu(j.Tp))}}else{v="Add Handles";
if(L&&H){j.Tp.x-=30;j.dt.x+=30}else if(L)j.Tp=j.H.add(j.H.Eu(j.dt));else if(H)j.dt=j.H.add(j.H.Eu(j.Tp))}}else{v="Remove Handle";
if(e==1)j.Tp.qx(j.H);else j.dt.qx(j.H)}this.Tn(a,t);this.oS(g,T.Sp,a,t);this.iM(g,v,T.Sp,this.z_,a,null,this.op,JSON.stringify(t))}else if(!this.HB.ey(b)){this.iM(g,"Drag Anchors",T.Sp,this.z_,a,null,this.op,JSON.stringify(t))}this.Az=Date.now()}else if(this.LU!=null){var w=this.LU,P=new bd(w.x,w.y,b.x-w.x,b.y-w.y);
if(P.m<0)P.x+=P.m;if(P.n<0)P.y+=P.n;P.m=Math.abs(P.m);P.n=Math.abs(P.n);var Q=_.w.jh(a.a,P);a.ZU=Q[0].concat(y.z(dj.d_)?a.ZU:[]);
g.I.MI=null}this.zX();g.nM=!0};D.j5.prototype.zX=function(){this.LX=null;this.z_=null;this.LU=null;this.aX=this.s3=-1;
this.wX=null};D.j5.prototype.Tn=function(g,o){for(var m=0;m<g.ZU.length;m++){var k=_.w.sd(g.a,g.ZU[m]);
_.X.YU(o,k)}};D.j5.prototype.Zl=function(g,o,k,y){if(g==null)return;var d=g.uM(),b=d[0],T=d[1];if(T.length==0)return;
var a=b[T[0]],t=a.add.vmsk;if(t==null||t.ZU.length==0)return;var j=a.add.vogk,e=JSON.stringify(j),v=y.Mj();
if(v.x!=0||v.y!=0){var L=t.clone(),H=t.clone(),w=new d3(1,0,0,1,v.x,v.y);_.w.cs(H.a,w,null,H.ZU);this.Tn(H,j);
this.oS(g,a.Sp,H,j);this.iM(g,"Move Anchors",g.g[0],L,H.clone(),!0,e,JSON.stringify(j))}if(y.z(dj.aS)||y.z(dj.uo))this.Ae({P:"remove",Cd:!0,acR:!0},o,g,y,k)};
D.j5.prototype.iM=function(g,o,k,y,d,b,T,a){var t=g.Zt();if(b&&t!=null&&t.G==this&&t.data.a6g&&t.data.Fe==k&&JSON.stringify(t.data.sq.ZU)==JSON.stringify(y.ZU)){t.data.Zq=d;
t.data.yU=a}else{var t=new cc(o,this);t.data={Fe:k,sq:y,Zq:d,a6g:b,ajd:T,yU:a};g.DU(t)}};D.Rect=function(){D.Y7.call(this,[10,32],D.XV,"tools/rect",!0)};
D.Rect.prototype=new D.Y7;D.Rect.prototype.p5=function(g,o,k){var y=this.lI.crad,d=o.x-g.x,b=o.y-g.y;
return[_.w.qA.Rect(g.x,g.y,d,b,y),_.X.Bk("Rctn",[g.x,g.y,o.x,o.y],[y,y,y,y])]};D.rj=function(){D.Y7.call(this,[10,33],D.Xb,"tools/ellipse",!0)};
D.rj.prototype=new D.Y7;D.rj.prototype.p5=function(g,o,k){var y=o.x-g.x,d=o.y-g.y;return[_.w.qA.rj(g.x,g.y,y,d),_.X.Bk("Elps",[g.x,g.y,o.x,o.y])]};
D.sH=function(){D.Y7.call(this,[10,34],D.QJ,"tools/pshape",!1);this.lI.aopts=[!1,!0,50,100,0]};D.sH.prototype=new D.Y7;
D.sH.prototype.p5=function(g,o,k){var y=this.lI.pshape,d=this.lI.crad,b=this.lI.irad/100,T=this.lI.sides,a=this.lI.width,t=this.lI.aopts,j=this.lI.length,Q;
o=o.clone();var e=g.x,v=g.y,L=o.x,H=o.y,w=Math.sqrt((L-e)*(L-e)+(H-v)*(H-v)),P=Math.atan2(-H+v,L-e);
if(k)P=Math.round(P*180/Math.PI/15)*15*Math.PI/180;if(y==0)Q=_.w.qA.L6(e,v,w,P,T,d);if(y==1)Q=_.w.qA.OO(e,v,w,P,T,d,b);
if(y==2)Q=_.w.qA.$V(g.x,g.y,o.x,o.y,a,t);if(y==3)Q=_.w.qA.a2U(e,v,w,P,j);return[Q,_.X.Bk("customShape",[g.x,g.y,o.x,o.y],null,null,null,"--")]};
D.sH.prototype.Zl=function(g,o,k,y){D.Y7.prototype.Zl.call(this,g,o,k,y);var d=y.Mj(),b=this.lI,T,a;
if(d.y!=0){var t=-d.y,j=b.pshape;if(j<2){T="sides";a=Math.max(3,Math.min(100,b.sides+t))}else if(j==2){T="width";
a=Math.max(1,Math.min(100,b.width+t))}else if(j==3){T="length";a=Math.max(4,Math.min(40,b.length+t))}}if(d.x!=0){T="pshape";
a=Math.max(0,Math.min(3,b.pshape+d.x))}if(T){var e=new jB(N.E.s,!0),v={};v[T]=a;b[T]=a;e.data={P:N.b.l3,G:this.id,cL:"vals",aph:v};
o.S(e);this.Sa(g,o,k,y)}};D.Ee=function(){D.Y7.call(this,[10,35],D.qD,"tools/line",!1)};D.Ee.prototype=new D.Y7;
D.Ee.prototype.p5=function(g,o,k){var y=this.lI.width,d=this.lI.aopts;o=o.clone();if(k){o=D.Q2.mS(g,o)}return[_.w.qA.$V(g.x,g.y,o.x,o.y,y,d),_.X.Bk("Ln",null,null,[g.x,g.y,o.x,o.y],y,null,d)]};
D.K0=function(){D.Y7.call(this,[10,31],D.CL,"tools/cshape",!0)};D.K0.prototype=new D.Y7;D.K0.prototype.p5=function(g,o,k){var y=this.lI.shape,d=y.rC.m/y.rC.n,b=p.Ew.q7(y.a);
o=o.clone();if(k){o.y=g.y+(o.x-g.x)/d}var T=o.x-g.x,a=o.y-g.y;_.w.cs(b,new d3(T,0,0,a,g.x,g.y));return[b,_.X.Bk("customShape",[g.x,g.y,o.x,o.y],null,null,null,y.xX)]};
D.C8=function(g,o,k){D.L8.call(this,g,o,k);this.bS=0;this.d=null;this.JM=null;this.Px=null;this.W$=1;
this.J1=!0;this.KK=!1;this.cursor=null;this.P7=null;this.J2=null;this.Rz=!1;this.wQ=null;this.a7K=0;
this.cc=null;this.cD=0;this.WB=null;this.mb=null;this.O4=null;this.Vo=null;this.azq=null;this.xs=null};
D.C8.prototype=new D.L8;D.C8.ql=function(g,o,k){var y={classID:"null",null:c_.lF(k?"Lyr":"Dcmn",!0)};
if(g)y.Angl={t:"UntF",v:{type:"#Ang",val:o}};else y.Axis={t:"enum",v:{Ornt:o}};return{J5:g?"rotateEventEnum":"flip",fV:y}};
D.C8.prototype.sF=function(g,o,k,y,d){var b=new jB(N.E.s,!0);b.data={P:N.b.l3,G:this.id,Jz:d,b5:g,Px:k};
o.S(b);this.bO=!1};D.C8.prototype.qd=function(g){return this.mb&&this.mb.a1w()};D.C8.prototype.Ae=function(g,o,k,y,d){this.Px=d;
if(g.P=="again"&&this.cc==null)return;if(!this.ns(k,d))return;if(this.mb){this.anl(g,this.mb.ub(),o,k,y,d);
this.M3(k,d,0,!0);this.Fr(k);return}this.axE(k,g.i==null,g.i);this.a0C(k);this.anl(g,null,o,k,y,d);this.mK(k,o,g.Y5,!1)};
D.C8.prototype.anl=function(g,o,k,y,d,b){var T=this.WB;if(o==null){var a=g.Yf!=null?g.Yf:4;o=this.mb.ar2()[a]}var t=o.x,j=o.y;
if(g.P=="rot"&&g.Z!=Math.PI&&(T.m+T.n&1)==1){t=Math.floor(t);j=Math.floor(j)}var e=new d3;e.translate(-t,-j);
if(g.P=="rot")e.rotate(g.Z);if(g.P=="scl")e.scale(g.Z.x,g.Z.y);if(g.P=="mat")e.concat(g.Z);e.translate(t,j);
if(g.P=="again")e=this.cc;var v=_.K.bn(e);if(g.P=="dtr"){var L=_.K;v=L.x7(g.Z,L.Q(-t,-j));v=L.x7(L.Q(t,j),v)}var H=this.mb.em();
_.K.D(v,H);this.mb.ES(H);if(g.aT){var w=g.aT.v;this.mz({AB:"switchWarp"},k,y,d);this.mz({AB:"wrp",aT:w},k,y,d)}};
D.C8.prototype.tt=function(){return!0};D.C8.prototype.ns=function(g,o){if(g==null)return!1;if(this.id==D.pi)return g.J!=null;
var k=g.Kq(!0,null,null,!0);if(this.id==D.Lv&&g.d[k[0]].rect.on()){alert("Layer is empty.");return!1}for(var m=0;
m<k.length;m++){var y=g.d[k[m]];if(y.RA(2)||y.RA(31)){alert(d9.get([6,57,0]));return!1}if(y.add.artb){alert("You can not transform the whole artboard");
return!1}if(y.add.TySh)if(!il.iW(y.add.TySh,o.At))return!1;if(y.add.SoLd){if(k.length==1&&!_.uR.VV(y.add.SoLd.warp.v)&&(y.Qp()&&y.Qp().zi||y.add.vmsk&&y.add.vmsk.zi)){alert("Unlink masks before transforming Smart Object");
return!1}if(!g.a6n(y.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+g.m9(y.add.SoLd.Idnt.v).iV+")");
return!1}}}if(g.J==null)return!0;if(!g.q0())return!1;return g.ac5()};D.C8.prototype.Hu=function(g,o,k,y,d){var b=this.a6b(d,g),T=b[0],a=b[1],t=this.cD==0?this.mb:this.O4;
g.u.N*=a;this.KK=t.Hu(g,k,y,T,null,null,d);g.u.N/=a;if(this.KK&&t.ds(T)){if(Date.now()-this.a7K<250)this.mK(g,o,null,!0);
this.a7K=Date.now()}};D.C8.prototype.Xd=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.ih,f8:this.cursor};
g.S(o)};D.C8.prototype.a6b=function(g,o){var k=1;g=o.u.mp(g.x,g.y);if(this.cD==1){var y=_.K.VH(this.mb.em(),this.WB);
k=_.K.Ka(y).Va();var d=_.K.TY(y);g=_.K.awD(d,g)}return[g,k]};D.C8.prototype.Sa=function(g,o,k,y,d){var b=this.a6b(d,g),T=b[0],a=b[1],t=this.cD==0?this.mb:this.O4;
if(!d._J){var j="default";if(t){var e=t.XN(T,g.u.N*a,null,d);if(e)j=e}if(j!=this.cursor){this.cursor=j;
this.Xd(o)}}if(!this.KK)return;g.u.N*=a;t.Sa(g,k,y,T,this.J1);g.u.N/=a;this.M3(g,k,0,!0);this.Fr(g);
this.vQ(o)};D.C8.prototype.b9=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y);this.mb.b9(g,k,y,b);this.KK=!1};
D.C8.prototype.Zl=function(g,o,k,y){if(y.z(dj.zu))this.mK(g,o,null,!0);else if(y.z(dj.bC))this.GK(g,o);
else{var d=this.mb.Zl(g,k,y);if(d){this.M3(g,k,0,!0);this.vQ(o)}}};D.C8.prototype.mz=function(g,o,k,y){if(g.AB=="commit")this.mK(k,o,null,!0);
else if(g.AB=="cancel")this.GK(k,o);else if(g.AB=="switchWarp"){this.cD=1-this.cD;this.a8v();this.Fr(k);
this.vQ(o)}else if(g.AB=="wrp"){this.O4.aqz(g.aT);this.Fr(k);this.M3(k,this.Px,0,!0)}else if(g.AB=="ctyp"){this.mb.a87(g.sj);
this.Fr(k);this.vQ(o)}else if(g.AB=="cen"){this.mb.amK(g.aV);this.Fr(k);this.M3(k,this.Px,0,!0)}else if(g.AB=="trn"){var d=_.K.bn(g.jy),b=this.WB,T=_.K.VH(this.mb.em(),this.WB);
d[6]=T[6],d[7]=T[7];var a=[b.x,b.y,b.x+b.m,b.y,b.x+b.m,b.y+b.n,b.x,b.y+b.n];_.K.D(d,a);this.W$=g.W$;
this.J1=g.J1;this.mb.ES(a);this.Fr(k);this.M3(k,this.Px,0,!0)}};D.C8.prototype.Fr=function(g){if(this.cD==0)this.mb.M_(g,this.Px);
else{this.O4.M_(g);var o=_.K.VH(this.mb.em(),this.WB);_.K.D(o,g.I.MI.j);_.K.D(o,g.I.TN)}};D.C8.prototype.mK=function(g,o,k,y){this.M3(g,this.Px,this.W$);
var d=new cc(k?k:this.name,this);if(this.bS==0)d.data={type:this.bS,d:this.d,wQ:this.JM,Yn:D.C8.Cf(g,this.d)};
else if(this.bS==1){var b=g.d[this.d[0]],T;if(b.Dq.W1<=0){T=_.Q(b.Dq.Lq.O());_.B4(b.Dq.kU,T,3)}else T=g.J.channel;
var a={rect:b.Dq.Lq.clone(),channel:T};d.data={type:this.bS,i:this.d[0],J2:this.J2,A2:a,P7:this.P7,Rz:this.Rz,Dq:b.Dq,wQ:this.wQ,Yn:{KU:b.Dq.Lq,sP:b.Dq.kU}}}else if(this.bS==2){d.data={type:this.bS,J2:this.J2,A2:{rect:g.J.rect.clone(),channel:g.J.channel.slice(0)}}}g.DU(d);
var t=this.WB,j=new bJ(t.x+t.m/2,t.y+t.n/2),e=_.K.VH(this.mb.em(),t),v=_.K.Ka(e),L=new d3;L.translate(j.x,j.y);
L.concat(v);L.translate(-j.x,-j.y);v=L.clone();var H=-Math.atan2(-v.k,v.Ng),w=new d3;w.rotate(H);v.concat(w);
function P(c,M){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][M],val:c}}}var Q=c_.lF("Lyr",!0);if(this.id==D.pi)Q.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var x=e,F=_.K;x=F.x7(x,F.Q(j.x,j.y));x=F.x7(F.Q(-j.x,-j.y),x);x=F.Q();var E={classID:"null",null:Q,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:P(L.ii,0),Vrtc:P(L.xF,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:P(Math.atan(v._I/v.vP)*180/Math.PI,2),Vrtc:P(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:P(100*x[6],1),Vrtc:P(100*x[7],1)}},Wdth:P(v.Ng*100,1),Hght:P(v.vP*100,1),Angl:P(H*180/Math.PI,2)},f=this.O4?this.O4.DL():null;
if(f&&!_.uR.VV(f)){E.warp={t:"Objc",v:f}}this.mW=o;this.track({J5:"transform",fV:E});this.escape(g,o,y)};
D.C8.prototype.GK=function(g,o){if(this.bS==0)D.C8.xU(g,this.d,this.JM);else if(this.bS==1){var k=g.d[this.d[0]];
g.J=this.J2;if(!this.Rz){k.Dq.Lq=this.wQ.KU;k.Dq.kU=this.wQ.sP;k.pC(g,0,0,g.J)}else{k.wq(g,this.P7)}g.U();
g.cP=!0}else if(this.bS==2){g.J=this.J2;g.cP=!0}this.escape(g,o,!0)};D.C8.prototype.escape=function(g,o,k){this.mb.clear(g);
this.mb=null;this.O4=null;this.xs=null;this.cD=0;if(k)this.x3(o,N.E.s,{P:N.b.l0})};D.C8.prototype.qw=function(g,o){if(g.type==0)D.C8.xU(o,g.d,g.Yn);
else{if(g.type==1){var k=o.d[g.i];if(g.Rz){k.Dq=g.Dq}else{k.Dq.Lq=g.Yn.KU;k.Dq.kU=g.Yn.sP}k.pC(o,0,0,o.J);
o.U()}o.J={rect:g.A2.rect.clone(),channel:g.A2.channel.slice(0)};o.cP=!0}};D.C8.prototype.YZ=function(g,o){if(g.type==0)D.C8.xU(o,g.d,g.wQ);
else{if(g.type==1){var k=o.d[g.i];if(g.Rz){k.wq(o,g.P7)}else{k.Dq.Lq=g.wQ.KU;k.Dq.kU=g.wQ.sP;k.pC(o,0,0,o.J)}o.U()}o.J=g.J2;
o.cP=!0}};D.C8.prototype.axE=function(g,o,k){g.uM();var y=[];if(k==null)for(var m=0;m<g.yI.length;m++)if(g.p8[g.yI[m]].add.vmsk.a.length>2)y.push(-1-g.yI[m]);
var d=[],b=g.u.sv;if(b[0]+b[1]+b[2]==3)if(k!=null||y.length==0||g.wW!=null&&g.wW.length!=0){if(g.g.length==1){var T=g.d[g.g[0]];
if(T.gT()&&T.j6)d=[g.g[0]]}if(d.length==0)d=g.Kq(o,k,null,!0)}d=d.concat(y);for(var m=0;m<g.kD.length;
m++)d.push(-1e3-g.kD[m]);this.d=d};D.C8.prototype.enable=function(g,o,k,y,d,b){if(this.cursor==null)this.cursor="default";
this.Xd(o);if(this.mb)return;this.Px=k;this.axE(g,!0);this.a0C(g,b&&b.fE!=null&&b.fE!=-1?b.fE:null);
this.vQ(o);this.Fr(g);if(b&&b.fE==-1)this.mz({AB:"switchWarp"},o,g,y)};D.C8.prototype.PT=function(){return[this.J1?1:0]};
D.C8.prototype.b4=function(g,o,k){if(g&&g[0]!=null)this.J1=g[0]==1};D.C8.prototype.vQ=function(g){var o={P:N.b.l3,G:this.id};
if(this.cD==0){var k=_.K.VH(this.mb.em(),this.WB),y=_.K.Ka(k);o.jy={DA:y,sj:this.mb.ae7(),aV:this.mb.ub(),KU:this.WB.clone(),J1:this.J1}}else{o.aT=this.O4.DL()}o.a7L=this.O4!=null;
this.x3(g,N.E.s,o)};D.C8.prototype.a0C=function(g,o){var k=this.id==D.pi,y=!0,d=this.d[0],b=g.d[d],a=null,t=null;
if(k){this.bS=2;this.J2=g.J}else if(g.J&&this.d.length==1&&d>=0&&!b.rect.on()){this.bS=1;this.J2=g.J;
this.P7=b.Dq;this.Rz=!1;if(!b.b8(g,g.J)){this.Rz=!0;b.i9(g,g.J,!1)}this.wQ={sP:b.Dq.kU,KU:b.Dq.Lq}}else{this.bS=0;
this.JM=D.C8.Cf(g,this.d,null);for(var m=0;m<this.JM.length;m++)if(this.JM[m][3]!=null)y=!1}var T=this.bS==1;
if(this.JM&&this.JM.length==1){var j=this.JM[0];if(j[2]!=null&&j[2].X){var e=j[2].ye.g;if(e.length<2){t=j[2].X[e.length==0?0:e[0]].v;
if(!_.X.xz(t))t=null}}if(j[3]==null)T=!0;if(j[4]!=null){a=g.d[this.d[0]].add.SoLd;if(j[1]||j[2])T=!1}}var v=k?g.J.rect.clone():D.C8.B2(g,this.d);
this.WB=v;if(!k&&a){var L=D.C8.bh(a.nonAffineTransform);this.WB=_.p.AU(_.uR.$p(a.warp.v));if(T)this.O4=new ed(a.warp.v);
this.Vo=_.K.VH(L,this.WB);this.mb=new ax(L,!0,!0,y,!1,!1,o)}else{if(T||k)this.O4=new ed(_.uR.Q(this.WB));
this.Vo=[1,0,0,0,1,0,0,0];if(this.id==D.Lv)o=3;this.mb=new ax([v.x,v.y,v.x+v.m,v.y,v.x+v.m,v.y+v.n,v.x,v.y+v.n],!0,!0,y,!1,!1,o)}this.azq=[1,0,0,0,1,0,0,0];
if(this.id==D.Lv){var H,w;if(this.JM){var P=this.JM[0][0],Q=P.mj;H=Q[0];w=Q[1]}else if(this.wQ){H=this.wQ.sP;
w=this.wQ.KU}this.xs=_.EM.atB(H,w.m,w.n)}};D.C8.B2=function(g,o){if(o==null)o=g.Kq(!0,null,null,!0);
var k=new bd,y=new bd;if(g.J&&o.length==1&&o[0]>=0)k=g.J.rect.clone();else for(var m=0;m<o.length;m++){var d=o[m],b=0<=d?g.d[d]:-1e3<d?g.p8[-1-d]:g.Tm[-1e3-d],T=b.add?b.add.vmsk:null,a=0<=d?b.Jc(g,o.length==1,!1,!0):-1e3<d?_.w.HM(T.a,o.length==1&&T.g.length!=0?T.g:null):b.rect.clone();
k=k.gO(a);if(d>0&&b.add.artb)y=y.gO(b.xB())}return!y.on()?y:k};D.C8.prototype.x3=function(g,o,k,y){var d=new jB(o,!0);
d.data=k;if(y)d.G=y;g.S(d)};D.C8.Cf=function(g,o,k){var y=[];for(var m=0;m<o.length;m++){var d=o[m],b,T;
if(d>=0){b=g.d[d];T=b._q(g,k,!0)}else if(d>-1e3){b=g.p8[-1-d];T=[2]}else{y.push([null,null,null,null,null,null,null,g.Tm[-1e3-d].clone()]);
continue}var a=[],t=T.indexOf(0)!=-1;if(t){var j={mj:b.add.SoLd?null:[b.buffer.slice(0),b.rect.clone()]};
a.push(j);if(b.wg()){var e=b.lQ(g);j.a13=e.buffer.slice(0);j.ajq=e.rect.clone()}}else a.push(null);if(T.indexOf(1)!=-1)a.push(b.Qp().clone());
else a.push(null);if(T.indexOf(2)!=-1)a.push({ye:b.add.vmsk.clone(),X9:b.add.vstk?JSON.parse(JSON.stringify(b.add.vstk)):null,si:b.add.vstk?D.hz.$H(g,d):null,X:b.add.vogk?JSON.parse(JSON.stringify(b.add.vogk)):null});
else a.push(null);if(b.add.TySh&&t){bw.iD(b.add.TySh);a.push(b.add.TySh.D.clone())}else a.push(null);
if(b.add.SoLd&&t)a.push(JSON.parse(JSON.stringify(b.add.SoLd)));else a.push(null);if(T.indexOf(3)!=-1)a.push(b.lQ(g).v.clone());
else a.push(null);if(b.add.lmfx)a.push(JSON.stringify(b.add.lmfx));else a.push(null);y.push(a)}return y};
D.C8.xU=function(g,o,k){for(var m=0;m<o.length;m++){var y=o[m],d=0<=y?g.d[y]:-1e3<y?g.p8[-1-y]:g.Tm[-1e3-y],b=k[m];
if(b[0]){if(b[0].mj){d.rect=b[0].mj[1].clone();d.buffer=b[0].mj[0].slice(0)}if(d.wg()){var T=d.lQ(g);
T.buffer=b[0].a13.slice(0);T.rect=b[0].ajq.clone()}}if(b[1]){d.Qp().channel=b[1].channel.slice(0);d.Qp().rect=b[1].rect.clone();
d.Qp().WP=!0}if(b[2]){d.add.vmsk=b[2].ye.clone();if(b[2].si)D.hz.G_(d,b[2].si);if(b[2].X9)d.add.vstk=JSON.parse(JSON.stringify(b[2].X9));
if(b[2].X)d.add.vogk=JSON.parse(JSON.stringify(b[2].X))}if(b[3]){d.add.TySh.D=b[3].clone();bw.MQ(d.add.TySh)}if(b[4]){d.add.SoLd=JSON.parse(JSON.stringify(b[4]))}if(b[5]){var a=d.lQ(g).v;
a.channel=b[5].channel.slice(0);a.rect=b[5].rect.clone()}if(b[6]){d.add.lmfx=JSON.parse(b[6])}if(b[7]){d.channel=b[7].channel.slice(0);
d.rect=b[7].rect.clone();d.WP=!0}if(0<=y){d.bD(g);d.U();if(b[4])d.tq(g,!1)}}g.U()};D.C8.JP=function(g,o,k,y,d,b,T,a,t,j){if(typeof b[0]=="number"){var e=[];
for(var m=0;m<k.length;m++)e[m]=b;b=e}for(var m=0;m<k.length;m++){var v=b[m],L=_.K.Ka(v),H=L.Va(),w=k[m],P=0<=w?g.d[w]:-1e3<w?g.p8[-1-w]:g.Tm[-1e3-w],Q=y[m];
if(P.add&&P.add.lmfx&&a)bs.UQ(P.add.lmfx,H);if(Q[0]&&!Q[3]&&!Q[4]&&!Q[5]){var x=Q[0].mj;if(t){var F=t.clone(),E=_.Q(F.O()*4);
_.g1(x[0],x[1],E,F);x=[E,F]}var f=D.C8.SE(x,d,v,T,d==0?P.buffer.buffer:null,null,null,j);if(f){P.rect=f.rect;
P.buffer=f.buffer}}if(Q[1]){var c=P.Qp();D.C8.RO(g,Q[1],c,d,v,T,c.zi&&T&&!_.uR.VV(T)&&Q[0]?Q[0].mj[1]:null);
if(t){var F=P.rect.Nm(t),M=_.Q(F.O());_.sQ(c.channel,c.rect,M,F);c.channel=M;c.rect=F}}if(Q[2]){var n=T&&!_.uR.VV(T),X=Q[2].ye.clone(),u=k.length==1&&X.g.length!=0,I=k.length==1&&X.ZU.length>1;
if(I)u=!1;var r=u?X.g:null,J=I?X.ZU:null;if(n){var U=_.uR.$p(T);_.K.D(v,U);_.w.apf(X.a,U,r,J)}else _.w.arw(X.a,v,r,J);
if(P.add.vstk&&a){P.add.vstk.strokeStyleLineWidth.v.val=Q[2].X9.strokeStyleLineWidth.v.val*H;var K=Q[2].si;
if(K&&K.uF==3){K=JSON.parse(JSON.stringify(K));var i=K.si.phase.v;K.si.Scl.v.val=Math.round(K.si.Scl.v.val*H);
i.Hrzn.v=Math.round(i.Hrzn.v*H);i.Vrtc.v=Math.round(i.Vrtc.v*H);D.hz.G_(P,K)}}if(P.add.vogk){P.add.vogk=JSON.parse(JSON.stringify(Q[2].X));
if(n||I)_.X.rM(P.add.vogk);else _.X.D(P.add.vogk,v,k.length>1?[]:X.g,a)}X.uH*=H;P.add.vmsk=X;if(P.add.vogk)_.X.KI(P.add.vogk,P.add.vmsk)}if(Q[3]){var z=Q[3].clone();
z.concat(L);P.add.TySh.D=z;bw.MQ(P.add.TySh);il.Ov(P,o.At)}if(Q[4]){var h=P.add.SoLd,R=D.C8.bh(Q[4].nonAffineTransform);
_.K.D(v,R);var C=_.p.KS(R);if(ax.bA(R)){if(T){var G=_.p.AU(_.uR.$p(Q[4].warp.v)),M=_.K.VH(R,G),W=_.p.AU(_.uR.$p(T));
R=[W.x,W.y,W.x+W.m,W.y,W.x+W.m,W.y+W.n,W.x,W.y+W.n];_.K.D(M,R);h.warp.v=T}var A=_.K.VH(R),$=R;if(!_.K.tM(A)){A[6]=A[7]=0;
$=[0,0,1,0,1,1,0,1];_.K.D(A,$)}h.Trnf=D.C8.sY($);h.nonAffineTransform=D.C8.sY(R);if(h.filterFX)h.filterFX=JSON.parse(JSON.stringify(Q[4].filterFX));
D.C8.a91(h,L);P.tq(g,d==0,o.At)}}if(Q[5])D.C8.RO(g,Q[5],P.lQ(g).v,d,v,T);if(Q[7])D.C8.RO(g,Q[7],P,d,v,T);
if(0<=w){if(d!=0)P.xO();P.bD(g);P.U()}}g.U()};D.C8.ae3=function(g,o){var k=o.Va(),y=0;_.ZM(g);while(k<.45&&y<g.length-4){y+=2;
k*=2;var d=new d3;d.scale(2,2);d.concat(o);o=d}var b=g[y],T=g[y+1],a=T.m,t=T.n,j=_.p.rN(T).j;_.p.D(j,o,j);
var e=_.p.KS(j),v=_.Q(e.O()),L=e.x,H=e.y,w=e.m,P=e.n,Q=o.clone();Q.TY();var x=Q.iG(new bJ(0,0)),F=Q.iG(new bJ(1,0)),E=F.x-x.x,f=F.y-x.y,c=a-.51,M=t-.51;
for(var n=0;n<P;n++){var X=Q.Ng*(L+.5)+Q._I*(n+H+.5)+Q.ii,u=Q.k*(L+.5)+Q.vP*(n+H+.5)+Q.xF;for(var I=0;
I<w;I++){if(X<.5||X>c||u<.5||u>M){}else v[n*w+I]=Math.floor(.5+_.K.ab0(X,u,b,a,t));X+=E;u+=f}}return{rect:e,channel:v}};
D.C8.Zb=function(g,o,k,y,d,b){if(k==null)k=!1;return D.C8.SE(g,k?0:1,_.K.bn(o),null,y,d,b,k)};D.C8.SE=function(g,o,k,y,d,b,T,a){if(a==null)a=!1;
if(a&&T)throw"e";var t={},L=0,H=.3;if(y&&!_.uR.VV(y)){var j=_.uR.$p(y);_.K.D(k,j);t.rect=_.p.KS(j);t.buffer=_.Q(t.rect.O()*4);
_.RS.drawImage(j,g[0],g[1].m,g[1].n,t.buffer,t.rect,o==0);return t}_._h(g);var e=g[0],v=g[1],w=v.O()*_.K.Ka(k).Va();
if(a&&w>4e6)H=w>8e6?2.2:1.2;while(L+3<g.length&&g[L+3].O()>16&&_.K.tM(k)&&_.K.Ka(k).Va()<H){L+=2;var P=g[L],Q=g[L+1],x=v.m/Q.m,F=v.n/Q.n;
k=_.K.x7(k,[1,0,v.x,0,1,v.y,0,0]);k=_.K.x7(k,[x,0,0,0,F,0,0,0]);k=_.K.x7(k,[1,0,-v.x,0,1,-v.y,0,0]);
v=Q;e=P}var E=_.K.x7(k,_.K.bn(new d3(v.m,0,0,v.n,v.x,v.y))),f=[0,0,1,0,1,1,0,1];_.K.D(E,f);t.rect=_.p.KS(f);
if(T)t.rect=t.rect.Nm(T);if(a){while((t.rect.m&3)!=0)t.rect.m++;while((t.rect.n&3)!=0)t.rect.n++}if(!ax.bA(f)||t.rect.m>1e5||t.rect.n>1e5||t.rect.O()>3e4*3e4)return null;
var c=t.rect.O()*4;if(d&&d.byteLength>=c&&c>=d.byteLength>>2){t.buffer=new Uint8Array(d)}else{t.buffer=_.Q(c)}_.K.drawImage(E,e,v.m,v.n,t.buffer,t.rect,o==0,b,a);
if(o==2&&t.buffer){var M=t.rect.m,n=t.rect.n,X;X=[0,-1,0,-1,16,-1,0,-1,0];X=_.DH.Tb(X);var u=t.buffer.slice(0);
_.DH.lN(u,t.buffer,M,n,X,255,!1,!0)}if(t.buffer)return t};D.C8.RO=function(g,o,k,y,d,b,T){var a=o.rect,t=o.channel;
if(T){a=T;t=o.aq(a)}if(o.color==255)_.TY(t);var j=_.Q(a.O()*4);_.e_(t,j,3);var e=D.C8.SE([j,a],y,d,b);
if(e){k.rect=e.rect;k.channel=_.Q(e.rect.O());_.B4(e.buffer,k.channel,3);k.WP=!0}if(o.color==255){_.TY(t);
if(e)_.TY(k.channel)}};D.C8.a91=function(g,o){var k=g.filterFX;if(k)k=k.v.filterFXList;if(k)k=k.v;if(k)for(var y=0;
y<k.length;y++){var d=k[y].v.Fltr;if(d==null||d.v.classID!="rigidTransform")continue;d=d.v;console.log(d);
var b=[];for(var T=0;T<4;T++)b.push(d["PuX"+T].v,d["PuY"+T].v);_.p.D(b,o,b);for(var T=0;T<4;T++){d["PuX"+T].v=b[T*2];
d["PuY"+T].v=b[T*2+1]}var a=["PinP","posFinalPins"],t=["originalVertexArray","deformedVertexArray"],j=d.puppetShapeList.v;
for(var e=0;e<j.length;e++){var v=j[e].v;for(var L=0;L<a.length;L++){var H=D.C8.bh(v[a[L]]);_.p.D(H,o,H);
v[a[L]]=D.C8.sY(H);var w=new Uint8Array(v[t[L]].v),P=new Float32Array(w.buffer);_.p.D(P,o,P);var Q=[];
for(var x=0;x<w.length;x++)Q[x]=w[x];v[t[L]].v=Q}}}};D.C8.bh=function(g){var o=[],k=g.v.length;for(var m=0;
m<k;m++)o.push(g.v[m].v);return o};D.C8.sY=function(g){var o={t:"VlLs",v:[]},k=g.length;for(var m=0;
m<k;m++)o.v.push({t:"doub",v:g[m]});return o};D.C8.prototype.a8v=function(){var g=_.p.AU(_.uR.$p(this.O4.DL())),o=_.K.VH(this.mb.em(),this.WB),k=[g.x,g.y,g.x+g.m,g.y,g.x+g.m,g.y+g.n,g.x,g.y+g.n];
_.K.D(o,k);this.mb.ES(k);this.WB=g};D.C8.prototype.M3=function(g,o,k,y){var d=_.K.VH(this.mb.em(),this.WB);
d=_.K.x7(d,_.K.TY(this.Vo));var b=this.O4?this.O4.DL():null;if(this.bS==0){var T=this.cc=_.K.Ka(d);if(this.id==D.Lv){var a=this.JM[0][0],t=a.mj,j=t[1],e=~~(j.m*Math.max(0,T.Ng)),v=~~(j.n*Math.max(0,T.vP)),L=new bd(Math.round(T.Ng*j.x+T.ii),Math.round(T.vP*j.y+T.xF),e,v),H=_.EM.D(this.xs,L),w=g.d[this.d[0]];
w.buffer=H;w.rect=L;w.U();g.U()}else D.C8.JP(g,o,this.d,this.JM,k,d,b,null,null,y)}else if(this.bS==1){var P=g.d[this.d[0]],j=this.wQ.KU;
if(P.W1<=0){var Q=this.wQ.sP,x=this.J2,F=null;if(b&&!_.uR.VV(b)&&!x.rect.ey(j)){var H=_.Q(x.rect.O()*4);
_.g1(Q,j,H,x.rect);Q=H;j=x.rect}if(this.id==D.Lv){var T=this.cc=_.K.Ka(d),e=~~(j.m*Math.max(0,T.Ng)),v=~~(j.n*Math.max(0,T.vP)),L=new bd(Math.round(T.Ng*j.x+T.ii),Math.round(T.vP*j.y+T.xF),e,v),H=_.EM.D(this.xs,L);
F={buffer:H,rect:L}}else F=D.C8.SE([Q,j],k,d,b);if(F){P.Dq.kU=F.buffer;P.Dq.Lq=F.rect;var E=_.Q(F.rect.O());
_.B4(P.Dq.kU,E,3);g.J={channel:E,rect:P.Dq.Lq.clone()}}}else{var f=_.Q(j.O()*4);_.e_(this.wQ.sP,f,3);
var F=D.C8.SE([f,j],k,d,b);if(F){P.Dq.kU=_.Q(F.rect.O());_.B4(F.buffer,P.Dq.kU,3);P.Dq.Lq=F.rect}this.ayd(g,k,d,b)}P.pC(g,0,0,g.J);
if(k!=0){P.xO();_.xO(g.J)}g.cP=!0;g.U()}else if(this.bS==2)this.ayd(g,k,d,b)};D.C8.prototype.ayd=function(g,o,k,y){var d=this.J2.rect,b=_.Q(d.O()*4);
_.e_(this.J2.channel,b,3);var T=D.C8.SE([b,d],o,k,y),a=_.Q(T.rect.O());_.B4(T.buffer,a,3);g.J={channel:a,rect:T.rect};
g.cP=!0};D.C8.prototype.disable=function(g,o,k,y){if(this.mb)this.mK(g,o,null,!0)};D.a0v=function(){D.C8.call(this,[10,16],D.nK,"tools/transform")};
D.a0v.prototype=new D.C8;D.atQ=function(){D.C8.call(this,[7,10],D.pi,"tools/transform")};D.atQ.prototype=new D.C8;
D.ax3=function(){D.C8.call(this,[10,48],D.Lv,"tools/transform")};D.ax3.prototype=new D.C8;D.k0=function(g,o,k){D.L8.call(this,[10,46],D.gX,"tools/transform");
this.dG=[1,1,2,!0];this.oj="rigidTransform";this.yt=null;this.avG=null;this.gY=null;this.l1=null;this.go=null;
this.Ej=null;this.Wa=[]};D.k0.prototype=new D.L8;D.k0.prototype.tt=function(){return!0};D.k0.ajL=function(g){if(g==null)return!1;
if(g.g.length!=1)return!1;var o=g.d[g.g[0]];return o.add.SoLd||g.q0(!1)};D.k0.prototype.ns=function(g,o){return D.k0.ajL(g)};
D.k0.prototype.enable=function(g,o,k,y,d,b,T){this.avG=b.qa;var a=b.qa,t,P=null;if(a){var j=g.d[a.i];
if(j.add.SoLd.filterFX!=null){var e=j.add.SoLd.filterFX.v.filterFXList.v;if(e[a.index])t=JSON.parse(JSON.stringify(e[a.index].v.Fltr.v))}}var v=t==null,j=g.d[g.g[0]],L=j.buffer,H=j.rect,w=j.add.SoLd;
if(w){var Q=w.nonAffineTransform.v;P=[];for(var m=0;m<4;m++)P.push(Q[m*2].v,Q[m*2+1].v);if(v)this.iQ("edit",o);
var x=j.lQ(g);L=x.buffer;H=x.rect}this.yt={buffer:L.slice(0),rect:H.clone(),a9t:P};if(v)t=D.k0.Ed(this.yt,this.dG);
this.gY=t;this.l1=D.k0.dZ(this.gY,this.dG);this.tD();this.JU(g);if(v)this.Y3(o);var F=new jB(N.E.s,!0);
F.data={P:N.b.l3,G:this.id,Q6:this.dG};o.S(F);F.data={P:N.b.ih,f8:"default"};o.S(F)};D.k0.prototype.disable=function(g,o,k,y){if(this.l1)this.mK(g,o,!0)};
D.k0.prototype.tD=function(g){var o=this.l1;this.Wa=[];for(var m=0;m<o.length;m++){var k=o[m];for(var y=0;
y<k.g.length;y++)this.Wa.push([m,k.g[m]]);k.mo=_.iE.SY(k);if(g)_.iE.ya(k)}};D.k0.prototype.mz=function(g,o,k,y){if(g.AB=="commit")this.mK(k,o,!0);
else if(g.AB=="cancel")this.GK(k,o,!0);else if(g.AB=="prm"){var d=!1;for(var m=0;m<3;m++)if(this.dG[m]!=g.Q6[m])d=!0;
this.dG=g.Q6;if(d){this.gY=D.k0.Ed(this.yt,this.dG,this.gY);this.l1=D.k0.dZ(this.gY,this.dG);this.tD(!0);
this.Y3(o)}this.JU(k)}else if(g.AB=="moveDepth"){var b=this.l1;for(var T=0;T<b.length;T++){var a=b[T];
for(var m=0;m<a.g.length;m++){var t=a.g[m];a.wN[t]+=g.aqO?1:-1}}this.Y3(o)}};D.k0.prototype.xg=function(g,o){return g==dj.aS||g==dj.uo};
D.k0.prototype.Zl=function(g,o,k,y){var d=y.Mj();if(y.z(dj.zu))this.mK(g,o,!0);else if(y.z(dj.bC))this.GK(g,o,!0);
else if(y.z(dj.aS)||y.z(dj.uo)){var b=this.l1;for(var T=0;T<b.length;T++){var a=b[T];a.g.sort(function(e,v){return v-e});
for(var m=0;m<a.g.length;m++){var t=a.g[m],j=t*2;a.wN.splice(t,1);a.dw.splice(t,1);a.LJ.splice(t,1);
a.hc.splice(t,1);a.kT.splice(j,2);a.s6.splice(j,2)}a.g=[];if(a.hc.length==0){a.ig=a.Nh.slice(0);a.jn=a.Nh.slice(0)}}this.tD(!0);
this.Y3(o);this.JU(g)}else if(d.x!=0||d.y!=0){this.a3s(g,d.x,d.y,o);this.Hg=null}};D.k0.prototype.mK=function(g,o,k){this.iQ("confirm",o);
this.escape(g,o,k)};D.k0.prototype.GK=function(g,o,k){this.iQ("cancel",o);this.escape(g,o,k)};D.k0.prototype.escape=function(g,o,k){g.I.MI=null;
g.I.gt=[];g.nM=!0;this.l1=null;var y=new jB(N.E.s,!0);y.data={P:N.b.l0};if(k)o.S(y)};D.k0.prototype.Hu=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=b.x,a=b.y,t=this.l1,j=null,e=[0,2,4,1.2,1.2,1.2],v=-1,L=D.hC(g,d);
for(var m=0;m<t.length;m++){var H=t[m],w=_.p.IN(H.s6,T,a,L);if(w!=-1)j=[m,w];if(v==-1&&_.iE.zx.a1Y(H.jn,H.pQ,T,a))v=m}if(j==null&&v!=-1){var H=t[v];
D.k0.afc(H,T,a,T,a,0);j=[v,H.hc.length-1];H.mo=_.iE.SY(H)}this.go=b;if(j){var P=t[j[0]].g.indexOf(j[1])!=-1;
if(y.z(dj.d_)&&!P){t[j[0]].g.push(j[1]);this.Wa.push(j)}else if(!P){t[j[0]].g=[j[1]];this.Wa=[j]}}this.JU(g)};
D.k0.afc=function(g,o,k,y,d,b){var T=_.p.IN(g.jn,o,k);g.hc.push(T);g.s6.push(y,d);g.kT.push(g.jn[T*2]-o,g.jn[T*2+1]-k);
g.LJ.push(0);g.dw.push(!1);g.wN.push(b)};D.k0.prototype.Sa=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=this.go;
if(T)this.a3s(g,b.x-T.x,b.y-T.y,o)};D.k0.prototype.a3s=function(g,o,k,y){var d={},b=this.Wa,T=this.l1;
if(this.Hg==null){this.Hg=[];for(var m=0;m<T.length;m++)this.Hg.push(T[m].s6.slice(0))}for(var m=0;m<b.length;
m++){var a=this.Wa[m],t=a[0],j=T[a[0]],e=a[1]*2;j.s6[e+0]=this.Hg[t][e+0]+o;j.s6[e+1]=this.Hg[t][e+1]+k;
d[t]=t}for(var t in d)_.iE.ya(this.l1[d[t]]);this.JU(g);this.Y3(y)};D.k0.prototype.iQ=function(g,o){var k=new jB(N.E.L,!0);
k.G=D.Gc;k.data={P:g,qa:this.avG,oj:this.oj,_Q:this.gY};o.S(k)};D.k0.prototype.b9=function(g,o,k,y,d){this.go=null;
this.Hg=null};D.k0.prototype.Y3=function(g){D.k0.ag_(this.l1,this.dG,this.gY);this.iQ("edit",g)};D.k0.prototype.JU=function(g){var o=this.l1,k=this.gY;
g.I.MI={j:[],F:[]};g.I.gt=[];g.I.Zm=[];for(var m=0;m<o.length;m++){var y=o[m];for(var d=0;d<y.g.length;
d++)g.I.Zm.push((g.I.gt.length>>>1)+y.g[d]);g.I.gt=g.I.gt.concat(y.s6);if(this.dG[3])_.p.concat(g.I.MI,_.p.aiH(y.jn,y.pQ))}g.nM=!0};
D.k0.Ed=function(g,o,k){var y=g.buffer,d=g.rect,b=g.a9t,T=jf.J0("rigidTransform");if(b)for(var m=0;m<4;
m++){T["PuX"+m].v=b[m*2];T["PuY"+m].v=b[m*2+1]}var a=T.puppetShapeList.v,t=_.iE.apd(y,d.m,d.n,o[1],o[2]),j=[];
for(var e=0;e<t.length;e++){var v={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
v.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var L=t[e];a.push({t:"Objc",v:v});var H=L.Nh.slice(0);_.p.D(H,new d3(1,0,0,1,d.x,d.y),H);var w=L.pQ;
for(var m=0;m<w.length;m+=3){var P=w[m+1];w[m+1]=w[m+2];w[m+2]=P}j.push({pQ:w,Nh:H,ig:H,jn:H,hc:[],kT:[],s6:[],mo:null,g:[],LJ:[],dw:[],wN:[]})}if(k){var Q=D.k0.dZ(k,[]),x=j[0];
for(var m=0;m<Q.length;m++){var F=Q[m];for(var E=0;E<F.g.length;E++)x.g.push((x.s6.length>>>1)+F.g[E]);
for(var E=0;E<F.hc.length;E++){var f=F.hc[E]*2,c=F.Nh[f]-F.kT[E*2],M=F.Nh[f+1]-F.kT[E*2+1];D.k0.afc(x,c,M,F.s6[E*2],F.s6[E*2+1],F.wN[E])}}}D.k0.ag_(j,o,T);
return T};D.k0.dZ=function(g,o){var k=D.C8.bh,y=g.puppetShapeList.v,d=[];for(var b=0;b<y.length;b++){var T=y[b].v;
o[0]=T.meshRigidity.v-1;o[1]=T.meshQuality.v-1;o[2]=T.meshExpansion.v;var a=T.pinVertexIndices.v.length,t=T.meshBoundaryPath.v.pathComponents.v;
if(t.length!=0){var j=t[0].v.SbpL.v[0].v.Pts;j.v=[]}var e=new Uint32Array(new Uint8Array(T.indexArray.v).buffer),v=new Float32Array(new Uint8Array(T.originalVertexArray.v).buffer),L=new Float32Array(new Uint8Array(T.deformedVertexArray.v).buffer),H=[],w=[],P=[];
for(var m=0;m<e.length;m++)H.push(e[m]);for(var m=0;m<v.length;m++){w.push(v[m]);P.push(L[m])}var Q=k(T.pinVertexIndices),x=k(T.pinOffsets),F=k(T.posFinalPins),E=k(T.PnRt),f=k(T.PnOv),c=k(T.PnDp),M=k(T.selectedPin);
d.push({pQ:H,Nh:w,ig:P.slice(0),jn:P,hc:Q,kT:x,s6:F,mo:null,LJ:E,dw:f,wN:c,g:M})}return d};D.k0.ag_=function(g,o,k){function y(L,H){var w=[];
for(var m=0;m<L.length;m++)w.push({t:H,v:L[m]});return w}function d(L,H,w){var P=new(w?Uint32Array:Float32Array)(L),Q=new Uint8Array(P.buffer);
for(var m=0;m<Q.length;m++)H[m]=Q[m]}var b=k.puppetShapeList.v;for(var T=0;T<b.length;T++){var a=g[T],t=b[T].v;
t.meshRigidity.v=o[0]+1;t.meshQuality.v=o[1]+1;t.meshExpansion.v=o[2];d(a.pQ,t.indexArray.v,!0);d(a.Nh,t.originalVertexArray.v);
d(a.jn,t.deformedVertexArray.v);var j=[];for(var m=0;m<a.hc.length;m++){var e=a.hc[m]*2,v=m*2;j[v]=a.Nh[e]-a.kT[v];
j[v+1]=a.Nh[e+1]-a.kT[v+1]}t.PinP.v=y(j,"doub");t.pinVertexIndices.v=y(a.hc,"long");t.pinOffsets.v=y(a.kT,"doub");
t.posFinalPins.v=y(a.s6,"doub");t.PnRt.v=y(a.LJ,"long");t.PnOv.v=y(a.dw,"bool");t.PnDp.v=y(a.wN,"doub");
t.selectedPin.v=y(a.g,"long")}};D.We=function(g,o,k){D.L8.call(this,g?g:[10,40],o?o:D.UO,k?k:"tools/slice");
this.i5=null;this.mW=null;this.ax=null;this.az6=null;this.Ct=null;this.L1=null};D.We.prototype=new D.L8;
D.We.DQ=function(g,o){var k=-1;for(var m=0;m<g.length;m++){var y=D.We.mr(g,m);if(y[0]<=o.x&&o.x<=y[2]&&y[1]<=o.y&&o.y<=y[3]){k=m;
break}}return k};D.We.prototype.Ae=function(g,o,k,y,d){if(k==null)return;this.u0(k);if(g.P=="fromAction"){var b=g.A3,T=b.J5,a=b.fV,t=k.Nz(),j=k.wI(),e=j==-1?new bd(0,0,k.m,k.n):k.d[j].xB();
if(T=="divide"){if(k.ke.length!=0){var v=k.ke[0],L=D.We.mr(k.mZ,v);e=new bd(L[0],L[1],L[2]-L[0],L[3]-L[1]);
k.mZ.splice(v,1);k.ke=[]}t=[[],[]];for(var H=0;H<2;H++){var w=["Across","Down"][H],P=a["pixels"+w]?0:1,Q=a[["pixels","slices"][P]+w];
if(Q==null)continue;Q=Q.v;var x=H==0?e.x:e.y,F=H==0?e.m:e.n;if(P==0)for(var m=1;m*Q<F;m++){t[0].push([H,x+m*Q]);
t[1].push(j)}else{var E=Math.floor(F/Q);for(var m=1;m<Q;m++){t[0].push([H,x+m*E]);t[1].push(j)}}}}var f=[e.x,e.x+e.m],c=[e.y,e.y+e.n];
for(var m=0;m<t[0].length;m++){var M=t[0][m],n=Math.round(M[1]),X=t[1][m];if(X!=-1&&X!=j)continue;if(M[0]==0&&f.indexOf(n)==-1)f.push(n);
if(M[0]==1&&c.indexOf(n)==-1)c.push(n)}f.sort(function(R,C){return R-C});c.sort(function(R,C){return R-C});
for(var u=1;u<c.length;u++)for(var I=1;I<f.length;I++){k.mZ.push(D.We.tX());D.We.RK(k.mZ,k.mZ.length-1,[f[I-1],c[u-1],f[I],c[u]]);
k.nM=!0}}else if(g.P=="reorder"){if(k.ke.length==0)return;var r=k.mZ,J=k.ke;J.sort(function(R,C){return R-C});
console.log(J);var U=r.slice(0),K=[],i=[];for(var m=0;m<J.length;m++){var v=J[m],z=r[v];i.push(z);U.splice(U.indexOf(z),1)}var h=Math.max(0,Math.min(U.length,J[0]-g.dir));
for(var m=0;m<i.length;m++){U.splice(h+m,0,i[m]);K.push(h+m)}k.mZ=U;k.ke=K}else if(g.P=="delete"){var r=k.mZ.slice(0);
for(var m=0;m<k.ke.length;m++)k.mZ.splice(k.mZ.indexOf(r[k.ke[m]]),1);k.ke=[]}else if(g.P=="deleteAll"){k.mZ=[];
k.ke=[]}else{k.mZ[k.ke[0]].v=g;k.nM=!0}this.X5(k)};D.We.prototype.enable=function(g,o,k,y,d,b){D.L8.prototype.enable.call(this,g,o,k,y,d,b);
if(!k.Nn.mZ){var T=new jB(N.E.s,!0);T.data={P:N.b.pB,Q6:er.FS};o.S(T)}};D.We.prototype.disable=function(){this.i5=null;
this.mW=null};D.We.prototype.sF=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=D.We.DQ(g.mZ,b);if(T==-1)return;
this.i5=g;this.mW=o;g.ke=[T];g.nM=!0;if(this.L1==null){this.L1=new iU([{name:[5,4]},{name:[8,11,1],Hk:!0}]);
this.L1.h("select",this.lB,this)}var a=this.L1;a.parent=o;a.f();a.update(g,k);var t=new jB(N.E.s,!0);
t.data={P:N.b.q$,w9:a,x:d.qh+2,y:d.ko+1};o.S(t)};D.We.prototype.lB=function(g){var o=this.L1.Ny()[0],k=this.i5;
if(o==0){this.u0(k);k.mZ.splice(k.ke[0],1);k.ke=[];k.nM=!0;this.X5(k)}if(o==1){var y=new jB(N.E.s,!0);
y.data={P:N.b.xp,Pv:"soptions",Z:k.mZ[k.ke[0]].v};this.mW.S(y)}};D.We.prototype.Hu=function(g,o,k,y,d){if(g==null)return;
this.u0(g);var b=g.u.mp(d.x,d.y);b=D.Bt.Qw(g,b,k,[!0,null,!1]);b.x=Math.round(b.x);b.y=Math.round(b.y);
this.Ct=b;g.mZ.unshift(D.We.tX());g.ke=[0];D.We.RK(g.mZ,0,[b.x,b.y,b.x+20,b.y+20]);g.nM=!0};D.We.prototype.Sa=function(g,o,k,y,d){if(this.ax==null)return;
var b=g.u.mp(d.x,d.y),T=this.Ct;b=D.Bt.Qw(g,b,k,[!0,null,!1]);b.x=Math.round(b.x);b.y=Math.round(b.y);
var a=[T.x,T.y,b.x,b.y];D.We.adr(a);D.We.RK(g.mZ,0,a);g.nM=!0};D.We.prototype.b9=function(g,o,k,y,d){this.X5(g);
this.Ct=null};D.We.prototype.u0=function(g){this.ax=JSON.stringify(g.mZ);this.az6=JSON.stringify(g.ke)};
D.We.prototype.X5=function(g){var o=JSON.stringify(g.mZ);if(o!=this.ax){var k=new cc(this.name,this);
k.data={wQ:this.ax,Yn:o,alN:this.az6,acQ:JSON.stringify(g.ke)};g.DU(k)}this.ax=null};D.We.prototype.YZ=function(g,o){o.mZ=JSON.parse(g.wQ);
o.ke=JSON.parse(g.alN);o.nM=!0};D.We.prototype.qw=function(g,o){o.mZ=JSON.parse(g.Yn);o.ke=JSON.parse(g.acQ);
o.nM=!0};D.We.prototype.xg=function(g,o){return o!=null&&o.ke.length!=0&&(g==dj.aS||g==dj.uo)};D.We.prototype.Zl=function(g,o,k,y){if(g==null)return;
if(y.z(dj.aS)||y.z(dj.uo))this.Ae({P:"delete"},o,g,y,k);var d=y.Mj();if(d.x!=0||d.y!=0){this.u0(g);D.We.ft(g,d);
this.X5(g)}};D.We.prototype.mz=function(g,o,k,y,d){};D.We.alx=function(g,o,k,y){var d=new bJ(-o.x,-o.y),b=o.m/k.m,T=o.n/k.n,a=[0,0,o.m,o.n];
for(var m=0;m<g.length;m++){var t=D.We.mr(g,m);if(y){t[0]=Math.round(t[0]*b);t[1]=Math.round(t[1]*T);
t[2]=Math.round(t[2]*b);t[3]=Math.round(t[3]*T)}else{D.We.Wl(t,d);D.We.ad1(t,a)}if(t[0]>=t[2]||t[1]>=t[3]){g.splice(m,1);
m--;continue}D.We.RK(g,m,t)}};D.We.ft=function(g,o){var k=g.mZ;for(var m=0;m<g.ke.length;m++){var y=D.We.mr(k,g.ke[m]);
D.We.Wl(y,o);D.We.RK(k,g.ke[m],y)}};D.We.ad1=function(g,o){if(g[0]<o[0])g[0]=o[0];if(g[1]<o[1])g[1]=o[1];
if(o[2]<g[2])g[2]=o[2];if(o[3]<g[3])g[3]=o[3]};D.We.Wl=function(g,o){g[0]=Math.round(g[0]+o.x);g[2]=Math.round(g[2]+o.x);
g[1]=Math.round(g[1]+o.y);g[3]=Math.round(g[3]+o.y)};D.We.RK=function(g,m,o){var k=g[m].v.bounds.v;k.Left.v=o[0];
k.Top.v=o[1];k.Rght.v=o[2];k.Btom.v=o[3]};D.We.mr=function(g,m){var o=g[m].v.bounds.v;return[o.Left.v,o.Top.v,o.Rght.v,o.Btom.v,m]};
D.We.adr=function(g){if(g[2]<g[0]){var o=g[0];g[0]=g[2];g[2]=o}if(g[2]==g[0])g[2]++;if(g[3]<g[1]){var o=g[1];
g[1]=g[3];g[3]=o}if(g[3]==g[1])g[3]++};D.We.AU=function(g,o){var k=1e9,y=-1e9,d=1e9,b=-1e9;for(var m=0;
m<o.length;m++){var T=D.We.mr(g,o[m]);k=Math.min(k,T[0]);d=Math.min(d,T[1]);y=Math.max(y,T[2]);b=Math.max(b,T[3])}return[k,d,y,b]};
D.We.tX=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
D.Hl=function(){D.We.call(this,[10,41],D.Ms,"tools/sselect");this.Ct=null;this.YK=null;this.y1=null;
this.Ej=null;this.x6=!1};D.Hl.prototype=new D.We;D.Hl.prototype.Hu=function(g,o,k,y,d){if(g==null)return;
var b=g.u.mp(d.x,d.y),T=D.Hl.apE(b,4/g.u.N,g.mZ,g.ke);T.pop();if(T.length!=0){this.Ct=b;this.y1=T;this.u0(g);
return}var a=g.mZ,t=D.We.DQ(a,b);if(t==-1)g.ke=[];else{var j=g.ke.indexOf(t);if(y.z(dj.d_)){if(j==-1)g.ke.push(t);
else g.ke.splice(j,1)}else{g.ke.sort(function(P,Q){return P-Q});if(j==-1)g.ke=[t];this.Ct=b;this.u0(g);
this.YK=D.We.AU(a,g.ke);this.Ej=[];for(var m=0;m<g.ke.length;m++)this.Ej.push(D.We.mr(a,g.ke[m]));if(y.z(dj.M4)){var e=a.slice(0),v=g.ke,L=[];
for(var m=0;m<v.length;m++){var t=v[m],H=e[t],w=a.indexOf(H);L.push(w);a.splice(w,0,JSON.parse(JSON.stringify(H)))}g.ke=L}}}g.nM=!0};
D.Hl.prototype.Sa=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y);if(this.Ct==null){var T=D.Hl.apE(b,4/g.u.N,g.mZ,g.ke),a=T.pop(),t=T.length==0?"default":["ew","nwse","ns","nesw"][a]+"-resize",j=new jB(N.E.s,!0);
j.data={P:N.b.ih,f8:t};o.S(j);return}if(!this.x6&&b.ey(this.Ct))return;this.x6=!0;var e=g.mZ,T=this.y1;
if(T){b=D.Bt.Qw(g,b,k,[!0,null,!1]);var v=Math.round(b.x),L=Math.round(b.y);for(var m=0;m<T.length;m+=2){var H=D.We.mr(e,T[m]),w=T[m+1];
H[w]=(w&1)==0?v:L;D.We.adr(H);D.We.RK(e,T[m],H)}}else{var P=b.Eu(this.Ct),Q=this.YK.slice(0);D.We.Wl(Q,P);
var x=new bd(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1]),F=D.Bt.c3(g,x,k,[!0,null,!1],!0);D.Bt.CQ(g,x,F);P.x+=F[0];
P.y+=F[1];for(var m=0;m<g.ke.length;m++)D.We.RK(e,g.ke[m],this.Ej[m]);D.We.ft(g,P)}g.nM=!0};D.Hl.prototype.b9=function(g,o,k,y,d){if(this.Ct==null)return;
this.X5(g);g.I.JO=null;g.nM=!0;this.Ct=null;this.y1=null;this.Ej=null;this.x6=!1};D.Hl.apE=function(g,o,k,y){var d=g.x,b=g.y,T=[],a=-1,t=[];
for(var m=0;m<y.length;m++){var j=y[m],e=D.We.mr(k,j),v=e[0],L=e[1],H=e[2],w=e[3];if(d<v-o||H+o<d||b<L-o||w+o<b)continue;
var P=[d<v+o,b<L+o,H-o<d,w-o<b],Q=-1;for(var x=0;x<4;x++){if(P[x]&&P[x+1&3])Q=1+2*(x&1);if(P[x])T.push(j,x)}if(Q==-1){if(P[0]||P[2])Q=0;
if(P[1]||P[3])Q=2}if(Q!=-1){a=Q;t.push(j)}}var F=T.length;for(var m=0;m<F;m+=2){var j=T[m],E=T[m+1],f=D.We.mr(k,j)[E];
for(var x=0;x<y.length;x++){var c=y[x];if(t.indexOf(c)!=-1)continue;var e=D.We.mr(k,c);if(e[E&1]==f)T.push(c,E&1);
if(e[2+(E&1)]==f)T.push(c,2+(E&1))}}T.push(a);return T};D.Ya=function(){D.qT.call(this,[10,44],D.aqq,"tools/oselect");
this.rP="crosshair";this.aoj=0};D.Ya.prototype=new D.qT;D.Ya.prototype.wt=function(g,o,k,y){if(Math.random()<1/(1+this.aoj)){alert("The cross should be fully inside the object.",3500);
this.aoj++}};D.Ya.prototype.XQ=function(g,o,k,y){D.Vt.S2(g,D.qT.FX,this.mW);if(!y._J||!this.fI)return;
var d=this.B2(g,k,!1),b=d.m,T=d.n,a=d.x,t=d.y,j=d.x+b,e=d.y+T,v=a+b/2,L=t+T/2,H=D.Ya.asZ;g.I.MI={j:[a,t,j,t,j,e,a,e,v-b*H,L,v+b*H,L,v,L-T*H,v,L+T*H],F:"M L L L Z M L M L".split(" ")};
g.nM=!0};D.Ya.asZ=.12;D.Ya.prototype.zf=function(g,o,k,y){g.I.MI=null;g.nM=!0;this.finish(g,o,k,y)};
D.Ya.prototype.getSelection=function(g,o,k,y){if(this.tR.ey(this.Se)||!this.fI)return null;var d=this.B2(g,k,!1),b=g.d[g.g[0]];
if(d.on()||!d.AM(b.rect))return null;return D.qT.OY("ObSl",d)};D.Vt=function(){D.Ak.call(this,[10,37],D.Q5,"tools/qselect");
this.e4="qselect"};D.Vt.prototype=new D.Ak;D.Vt.prototype.Hu=function(g,o,k,y,d){D.Vt.S2(g,D.qT.FX,o,!0);
this.wA(g,k,y,d,1);if(this.nd==null)return;this.Z7(g)};D.Vt.prototype.Sa=function(g,o,k,y,d){this.Oi(g,o,k);
D.Vt.S2(g,D.qT.FX,o);if(this.Lp)this.dE(g,k,d);if(this.nd==null)return;if(!d._J)return;var b=this.Aj(g,k,y,d);
if(b!=1)this.Z7(g)};D.Vt.S2=function(g,o,k,y){if(g&&o.key!=D.Vt.aQ(g)){o.key=D.Vt.aQ(g);var d=g.d[g.g[0]].rect.O(),T="Image Analysis ...";
if(d==0)return;var b=d>1e6&&y!=!0,a=new jB(N.E.s,!0);a.data={P:N.b.lu,Q4:T};if(b)k.S(a);var t=function(){var j=D.Vt.aax(g);
for(var e in j)o[e]=j[e];var a=new jB(N.E.s,!0);a.data={P:N.b.xa,Q4:T};if(b)k.S(a)};if(y)t();else setTimeout(t,30)}};
D.Vt.aQ=function(g){var o=g.g[0],k=g.d[o],y=k.rect,d=y.m,b=y.n,T=d*b,a=k.buffer;return[o,y.x,y.y,d,b,a[0],a[1],a[2],a[3]].join(",")};
D.Vt.aax=function(g){var o=g.g[0],k=g.d[o],y=k.rect,d=y.m,b=y.n,T=d*b,a=k.buffer,t=Date.now(),j=_.Q(T);
j.fill(128);var e=_.r7.$O(a,d,b);console.log(Date.now()-t);var v={key:D.Vt.aQ(g),zz:a,rect:y.clone(),bW:d,GP:b,zI:12,alc:!1,Pr:j,Qz:e,J:_.Q(T),P1:null,sw:null,Ri:null};
D.Vt.Cl(v);return v};D.Vt.Cl=function(g,o){var k=g.bW,y=g.GP,d=0,b=0,T=Date.now(),a=g.P1!=null&&_.r7.ajm(g.Qz.pQ,g.P1.pQ,g.P1.Oz,g.Pr);
d=Date.now()-T;T=Date.now();if(!a&&!g.alc){g.P1=_.r7.So(g.Qz,k,y,g.Pr,g.zI);if(!_.r7.ajm(g.Qz.pQ,g.P1.pQ,g.P1.Oz,g.Pr)){g.alc=!0;
console.log("conflict")}g.sw=_.r7.alW(g.zz,k,y,g.P1.pQ,g.P1.Oz);g.Ri=[g.sw[0].slice(0),[]];b=Date.now()-T;
T=Date.now()}var T=Date.now();if(o){g.Ri[0].set(g.sw[0]);var t=g.sw[1],j=g.Ri[1];for(var e=0;e<t.length;
e++)j[e]=t[e].slice(0);_.r7.a9z(g.P1.pQ,k,y,g.P1.Oz,g.Pr,g.J,g.Ri)}};D.gy=function(){D.L8.call(this,[10,50],D.IC,"tools/artb");
this.HU=null;this.Rd=!1;this.mb=null;this.LF=!1;this.adP=null;this.C4=100;this.Uo=null;this.Az=0};D.gy.prototype=new D.L8;
D.gy.prototype.Ae=function(g,o,k,y,d){this.GQ(k,g.aeB,o,g.fE)};D.gy.a5H=function(g,o){var k=g[0],y=0,d=0;
if(k==0)d=-1;else if(k==1)y=1;else if(k==2)d=1;else y=-1;return[20/o.Tx,g[1]+y*60/o.Tx,g[2]+d*60/o.Tx]};
D.gy.prototype.mz=function(g,o,k,y,d){this.HU=g.Q6;this.Az=Date.now()};D.gy.prototype.jF=function(g,o,k,y){if(k.nE!=this.id)return;
if(g==null||g.g.length!=1){this.zX(g);return}var d=g.g[0],b=g.d[d],T=b.add.artb;if(T==null){this.zX(g);
return}if(this.LF)return;if(Date.now()-this.Az>50){this.HU={};var a=["artboardBackgroundType","Clr"];
for(var m=0;m<a.length;m++)if(T[a[m]])this.HU[a[m]]=JSON.parse(JSON.stringify(T[a[m]]));var t=new jB(N.E.s,!0);
t.data={P:N.b.l3,G:this.id,Mq:this.HU};o.S(t)}var j=b.xB(),e=_.p.rN(j).j,v=this.mb=new ax(e,!0,!1,!1,!0,!1,3,!1);
v.M_(g,k,!1);var L={j:[1,0],F:["M"]};for(var m=1;m<30;m++){var H=Math.PI*2*m/30;L.j.push(Math.cos(H),Math.sin(H));
L.F.push("L")}L.F.push("Z","M","L","M","L");L.j.push(-.5,0,.5,0,0,-.5,0,.5);var w=j.x+j.m/2,P=j.y+j.n/2,Q=this.C4*1.1,x=this.adP=[w,j.y,j.x+j.m,P,w,j.y+j.n,j.x,P],F=[0,-Q,Q,0,0,Q,-Q,0],f=g.root.children;
g.I.N_=[];for(var m=0;m<4;m++){var c=new bJ(x[m*2]+F[m*2],x[m*2+1]+F[m*2+1]),M=!1;for(var n=0;n<f.length;
n++){var b=f[n].i;if(b.add.artb==null)continue;var j=b.xB();if(j.oo(c))M=!0}if(M){x[m*2]=1e9;continue}g.I.N_.push([m,x[m*2],x[m*2+1]])}};
D.gy.prototype.disable=function(g,o,k,y,d){this.zX(g)};D.gy.prototype.zX=function(g){if(this.mb){this.mb.clear(g);
this.mb=null;g.I.N_=null}};D.gy.prototype.Hu=function(g,o,k,y,d){this.Az=Date.now();var b=g.u.mp(d.x,d.y),T=this.mb;
if(T){var a=new jB(N.E.L),t=T.abK(null,b,g,d);if(t<9){this.LF=T.Hu(g,k,y,b,null,!0,d);return}else if(T.ds(b)){a.G=D.fL;
a.data={P:"disabAuto"};o.S(a);var j=new jB(N.E.s);j.data={P:N.b.v1,G:D.fL,axO:!0};o.S(j);return}else{var e=-1,v=g.I.N_;
for(var m=0;m<v.length;m++){var L=D.gy.a5H(v[m],g.u);if(bJ.YX(b,new bJ(L[1],L[2]))<L[0])e=v[m][0]}if(e!=-1){var H=g.d[g.g[0]].xB(),w=H.clone(),P=(e==0||e==2?H.n:H.m)+this.C4;
if(e==0||e==3)P=-P;if(e==0||e==2)H.y+=P;else H.x+=P;if(y.z(dj.M4)){var Q=new bd(0,0,g.m,g.n);a.G=D.Jn;
a.data={P:p.jL};o.S(a);D.Bt.W5(g,g.Kq(null,g.g[0],null,!0),null,H.x-w.x,H.y-w.y);g.g=g.g.slice(g.g.length-1);
var x=D.Wz.Vf(g);if(x){var F=g.Zt();F.data.WB=Q;F.data.U7=x;F.data.Dj=g.g}}else this.GQ(g,H,o);return}}}this.Uo=D.Bt.Qw(g,b,k)};
D.gy.prototype.GQ=function(g,o,k,y){if(y==null)y=0;var d=g.d.slice(0),b=[g.d.length+1],T=g.Qf();T.mP(d9.get([1,16,0])+" "+(g.add.artd==null?1:g.root.children.length+1));
T.add.lsct=cK.TD;T.P2(o);if(this.HU){var a=T.add.artb,t=this.HU;for(var j in t)a[j]=t[j]}T.HW="pass";
T.b_=24;if(y==0){if(g.add.artd||o.Nm(new bd(0,0,g.m,g.n)).on())d.push(g.L0());else d.unshift(g.L0())}else{var e=g.Kq();
e.sort(function(P,Q){return P-Q});var v=D.WX.z5(g,e,d.length-1,!1,null,!1),L=v.pop(),H=v.pop();d=v.pop();
d.splice(g.d.length-e.length,0,g.L0())}d.push(T);var w=new jB(N.E.L);w.G=D.Jn;w.data={P:p.cI,ze:d,A2:b,Y5:[1,16,2]};
k.S(w)};D.gy.prototype.Sa=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=this.mb,a=this.Uo;if(T){if(this.LF){T.Sa(g,k,y,b)}else{var t=T.XN(b,g.u.N,null,d);
if(t==null)t="default";var j=new jB(N.E.s,!0);j.data={P:N.b.ih,f8:t};o.S(j)}}if(a){var e=this.mr(g,b,y,k);
g.I.MI=_.p.rN(e);g.nM=!0;D.L8.eU(d,e,g,k)}};D.gy.prototype.b9=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y),T=this.Uo;
if(this.LF){this.mb.b9(g,k,y,b);this.LF=!1;var a=_.p.KS(this.mb.em()),t=p._i(a),j=g.d[g.g[0]],e=JSON.parse(JSON.stringify(j.add.artb));
e.artboardRect.v=t;var v=new jB(N.E.L,!0);v.G=D.Jn;v.data={P:p._F,zD:e};o.S(v)}if(T){var L=this.mr(g,b,y,k);
if(L.O()>20)this.GQ(g,L,o);g.I.MI=null;g.nM=!0;this.Uo=null;g.I.Cq=[]}};D.gy.prototype.mr=function(g,o,k,y){var d=this.Uo,b=D.Bt.Qw(g,o,y),T=D.Y7.ZJ(d,b,k,!0);
d=T[0];b=T[1];return _.p.KS([d.x,d.y,b.x,b.y])};function ax(g,o,k,y,d,b,T,a){this.B$=null;this.zA=g?g.slice(0):null;
this.sR=4;this.Se=null;this.T7=null;this.gG=null;this.IY=-1;this.Vk=null;this.arK=!1;this.aq6=[];for(var m=0;
m<8;m++)this.aq6.push(cp.ah_(0,PIMG.rotate,-.5,-.5,-45-m*45));this.auU=o;this.ayE=k;this.arT=y;this.av0=d;
this.nw=b;this.fE=T;this.aui=a==null?1:a}ax.prototype.a1w=function(){return this.IY!=-1};ax.prototype.em=function(){return this.zA.slice(0)};
ax.prototype.ES=function(g){this.zA=g};ax.prototype.ar2=function(){return this.P_(this.zA)};ax.prototype.ae7=function(){return this.sR};
ax.prototype.a87=function(g){this.sR=g};ax.prototype.ub=function(g){if(g==null)g=this.zA;if(this.sR==9)return this.Se;
else return this.P_(g)[this.sR]};ax.prototype.amK=function(g){if(this.sR==9)this.Se=g.clone();else{var o=this.ub(),k=new d3(1,0,0,1,g.x-o.x,g.y-o.y);
_.p.D(this.zA,k,this.zA)}};ax.prototype.XN=function(g,o,k,y){var d=this.vn(null,g,o,y),b;if(d==9)return"default";
if(d==10){if(k)return null;return!this.auU?"move":null}if(d==-1||d==4)return null;if(d==11){var T=this.ub().Eu(g);
b=90-Math.atan2(T.y,T.x)*180/Math.PI;var a=Math.round(8*(b/360));a=(a+8)%8;return this.aq6[a]}else{var t=this.KT(g,this.zA);
b=[135,90,45,180,0,0,225,270,315][d];var j=_.K.VH(this.zA);b+=Math.atan2(-j[3],j[0])*180/Math.PI;var e="ew nesw ns nwse ew nesw ns nwse".split(" "),a=Math.round(8*(b/360));
a=(a+8)%8;return e[a]+"-resize"}};ax.prototype.KT=function(g,o){var k=_.K.TY(_.K.VH(o)),y=new Float64Array(2);
_.K.WU(g.x,g.y,k,y);return new bJ(y[0],y[1])};ax.prototype.ds=function(g){var o=this.KT(g,this.zA);return 0<=o.x&&o.x<=1&&0<=o.y&&o.y<=1};
ax.prototype.Hu=function(g,o,k,y,d,b,T,a){this.arK=b;this.Vk=y;var t=g.u.N,j;if(this.zA==null)y=D.Bt.Qw(g,y,o);
this.gG=y.clone();if(this.zA==null){if(a==null)a=0;var e=new d3;e.rotate(a);var v=e.iG(new bJ(1,1));
this.gG.offset(v.x,v.y);var L=d==null?1:1/d,H=this.zA=[0,0,1,0,1,L,0,L];e.translate(y.x,y.y);_.p.D(this.zA,e,this.zA);
j=8}else{j=this.vn(k,y,t,T);if(0<=j&&j<=8)this.gG=this.P_(this.zA)[j];if(j==9){this.sR=9;this.Se=y.clone()}}this.B$=this.zA.slice(0);
this.IY=j;this.M_(g,o);this.T7=this.ub();return j!=-1};ax.prototype.abK=function(g,o,k,y){return this.vn(g,o,k.u.N,y)};
ax.prototype.vn=function(g,o,k,y){var d=-1,b=this.P_(),T=[0,2,6,8,1,3,5,7],a=y?D.hC({u:{N:k}},y):8*D.V()/k,t=bJ.YX(b[0],b[2]),j=bJ.YX(b[0],b[6]),e=this.KT(o,this.zA);
e.x*=t;e.y*=j;var v=new bd(0,0,t,j);v.pK(a,a);if(d==-1)if(bJ.YX(this.ub(),o)<a)d=9;if(d==-1)for(var m=0;
m<T.length;m++)if(bJ.YX(b[T[m]],o)<a)d=T[m];if(d==-1&&v.oo(e)){if(Math.abs(e.y-0)<a)d=1;if(Math.abs(e.x-0)<a)d=3;
if(Math.abs(e.y-j)<a)d=7;if(Math.abs(e.x-t)<a)d=5}if(d==-1&&g&&g.z(dj.M4))d=9;if(d==-1||this.fE==4){if(this.ds(o)){if(this.auU)d=10}else{v.pK(3*a,3*a);
d=v.oo(e)&&this.fE!=3?11:10}}return d};ax.prototype.Sa=function(g,o,k,y,d){if(this.IY==-1)return;this.Vk=y;
var b=k.z(dj.d_),T=k.z(dj.M4),a=k.z(dj.IQ),t=g.u.N,j=this.gG,e=this.IY,v=this.P_(),L=D.Bt.Qw(g,j,o),H=D.Bt.Qw(g,y,o),w,P;
if(e==9){var v=this.P_(),Q=-1;for(var m=0;m<v.length;m++)if(bJ.YX(v[m],H)*t<10)Q=m;this.sR=Q==-1?9:Q;
this.Se=b?D.Q2.mS(L,H):H.clone()}else if(e==10){P=_.p.AU(this.B$);var x=P.x,F=P.y;P.offset(y.x-j.x,y.y-j.y);
if(this.abE()){P.x=Math.round(P.x);P.y=Math.round(P.y)}w=D.Bt.c3(g,P,o);var E=new d3(1,0,0,1,P.x-x+w[0],P.y-F+w[1]);
_.p.D(this.B$,E,this.zA)}else if(e==11){var f=this.ub(this.B$),c=f.Eu(y),M=f.Eu(j),n=Math.atan2(c.y,c.x),X=Math.atan2(M.y,M.x),E=new d3(1,0,0,1,-f.x,-f.y),u=Math.PI/12;
if(b)E.rotate(Math.round((X-n)/u)*u);else E.rotate(X-n);E.translate(f.x,f.y);_.p.D(this.B$,E,this.zA)}else{if(d&&!a)b=!b;
var I,r=this.B$,J=e==0||e==2||e==6||e==8;if(this.fE==1){if(J)b=T=a=!0}else if(this.fE==2&&J&&this.arK!=!0)a=!0;
if(this.fE==3)a=!1;if(this.arT&&J&&a){var m=[0,0,2,0,0,0,6,0,4,0][e],U=-1,K=H.x,i=H.y;if(b){var z=m+6&7,h=m+10&7,R=ax.aeb(r[m],r[m+1],r[z],r[z+1],H.x,H.y),C=ax.aeb(r[m],r[m+1],r[h],r[h+1],H.x,H.y),G=R[2]<C[2]?R:C;
K=G[0];i=G[1];if(T)U=R[2]<C[2]?z:h}else if(T)U=m+4&7;I=r.slice(0);if(U!=-1){var W=r[U],A=r[U+1],$=(r[m]+W)/2,O=(r[m+1]+A)/2;
I[U]=$-(K-$);I[U+1]=O-(i-O)}I[m]=K;I[m+1]=i}else if(J&&T){var f=this.T7,Y=f.x,l=f.y,B=L.x-Y,f4=L.y-l,V=1,q=1;
if(Math.abs(B)>=1)V=(H.x-Y)/B;if(Math.abs(f4)>=1)q=(H.y-l)/f4;if(b||this.nw)V=q=(V+q)/2;var E=new d3;
E.translate(-Y,-l);E.scale(V,q);E.translate(Y,l);I=r.slice(0);_.p.D(I,E,I)}else{if(this.abE()){H.x=Math.round(H.x);
H.y=Math.round(H.y)}var s=[0,1,2,5,8,7,6,3],cW=s[(s.indexOf(e)+4)%8],dk=[];for(var m=0;m<3;m++)for(var U=0;
U<3;U++)dk.push(new bJ(U/2,m/2));var f=this.T7,kr=this.KT(H,r),j9=this.KT(j,r),bh=T&&(this.sR==4||this.sR==9)?this.KT(f,r):dk[cW],fe=new d3,gg=new d3,V=(kr.x-bh.x)/(j9.x-bh.x);
if(V==0)V=1e-4;var q=(kr.y-bh.y)/(j9.y-bh.y);if(q==0)q=1e-4;if(this.av0){V=Math.max(V,0);q=Math.max(q,0)}if(e==0||e==2||e==6||e==8){if(b||this.nw)fe.scale(V,V);
else fe.scale(V,q)}if(e==1||e==3||e==5||e==7){var a$=this.nw||b,dg=a&&b;if(e==1||e==7)fe.scale(a$?q:1,dg?1:q);
else fe.scale(dg?1:V,a$?V:1);if(this.ayE&&a){if(e==1||e==7)gg._I=(kr.x-bh.x)/(kr.y-bh.y);else gg.k=(kr.y-bh.y)/(kr.x-bh.x)}}var E=new d3;
E.translate(-bh.x,-bh.y);E.concat(fe);E.concat(gg);E.translate(bh.x,bh.y);I=[0,0,1,0,1,1,0,1];_.p.D(I,E,I);
var G=_.K.VH(r);_.K.D(G,I)}if(ax.bA(I))this.zA=I}this.M_(g,o);if(w)D.Bt.CQ(g,P,w)};ax.aeb=function(g,o,k,y,d,b){var T=k-g,a=y-o,t=d-g,j=b-o,e=T*T+a*a,v=t*T+j*a,L=v/e,H=g+L*T,w=o+L*a,P=d-H,Q=b-w;
return[H,w,Math.sqrt(P*P+Q*Q)]};ax.prototype.abE=function(){var g=this.zA;return Math.abs(g[1]-g[3])<1e-6&&Math.abs(g[2]-g[4])<1e-6||Math.abs(g[0]-g[2])<1e-6&&Math.abs(g[3]-g[5])<1e-6};
ax.bA=function(g){return _.p.r4(g)||_.p.r4([g[6],g[7],g[4],g[5],g[2],g[3],g[0],g[1]])};ax.prototype.b9=function(g,o,k,y){this.IY=-1;
this.Vk=null;g.I.JO=null;g.I.Cq=[];g.nM=!0};ax.prototype.Zl=function(g,o,k){var y=k.Mj();if(y.x||y.y){var d=new d3(1,0,0,1,y.x,y.y);
_.p.D(this.zA,d,this.zA);this.M_(g,o);return!0}return!1};ax.prototype.P_=function(g){if(g==null)g=this.zA;
var o=g[6]-g[0],k=g[7]-g[1],y=g[4]-g[2],d=g[5]-g[3],b=[g[0],g[1],g[2],g[3],g[0]+o/2,g[1]+k/2,g[2]+y/2,g[3]+d/2,g[6],g[7],g[4],g[5]],T=[];
for(var m=0;m<3;m++){var a=m*4,t=b[a+0],j=b[a+1],e=b[a+2],v=b[a+3];T.push(new bJ(t,j));T.push(new bJ(t+(e-t)/2,j+(v-j)/2));
T.push(new bJ(e,v))}return T};ax.prototype.M_=function(g,o,k){if(k==null)k=!1;var y=this.P_(),d=y[0],b=y[2],T=y[6],a=y[8];
g.I.MI={F:[],j:[]};g.I.MI.F.push("M","L","L","L","Z");g.I.MI.j.push(d.x,d.y,b.x,b.y,a.x,a.y,T.x,T.y);
var t=this.aui;if(t>1){g.I.nF=JSON.parse(JSON.stringify(g.I.MI));var j=b.Eu(d),e=T.Eu(d),v=a.Eu(b),L=a.Eu(T);
for(var m=1;m<t;m++){g.I.MI.F.push("M","L","M","L");var H=m/t;g.I.MI.j.push(d.x+j.x*H,d.y+j.y*H,T.x+L.x*H,T.y+L.y*H);
g.I.MI.j.push(d.x+e.x*H,d.y+e.y*H,b.x+v.x*H,b.y+v.y*H)}}g.u.nQ=new bd(0,0,bJ.YX(y[0],y[2]),bJ.YX(y[0],y[6]));
if(this.IY!=-1&&this.IY<9&&this.Vk){var w=g.u.gk(this.Vk.x,this.Vk.y);D.L8.eU(w,g.u.nQ,g,o)}if(!k){g.I.TN=[];
for(var m=0;m<y.length;m++)if(m!=4)g.I.TN.push(y[m].x,y[m].y);var P=this.ub();g.I.TN.push(P.x,P.y)}g.nM=!0};
ax.prototype.clear=function(g){g.u.nQ=null;g.I.JO=null;g.I.MI=null;g.I.nF=null;g.I.TN=[];g.nM=!0};function ed(g,o){this.uR=null;
this.IY=-1;this.aqz(g)}ed.prototype.DL=function(){return JSON.parse(JSON.stringify(this.uR))};ed.prototype.aqz=function(g){this.uR=JSON.parse(JSON.stringify(g))};
ed.prototype.ds=function(g){return!0};ed.prototype.XN=function(g,o,k,y){var d=this.vn(g,o,y);if(d==-1)return"default";
return"pointer"};ed.prototype.Hu=function(g,o,k,y,d,b,T){this.IY=this.vn(y,g.u.N,T);return this.IY!=-1};
ed.prototype.vn=function(g,o,k){var y=this.anF(),d=-1,b=1e6;for(var m=0;m<y.length;m++){var T=bJ.YX(y[m],g);
if(T<b){d=m;b=T}}return b<(k?D.hC({u:{N:o}},k)*2:20*D.V()/o)?d:-1};ed.prototype.Sa=function(g,o,k,y){if(this.IY==-1)return;
var d=g.u.N,b=this.IY,T=_.uR.$p(this.uR);T[b*2]=y.x;T[b*2+1]=y.y;_.uR.HQ(T,this.uR)};ed.prototype.b9=function(g,o,k,y){this.IY=-1;
g.nM=!0};ed.prototype.Zl=function(g,o,k){var y=k.Mj();if(y.x||y.y){var d=new d3(1,0,0,1,y.x,y.y);_.p.D(this.zA,d,this.zA);
this.M_(g)}};ed.prototype.anF=function(g){var o=_.uR.$p(this.uR),k=[];for(var m=0;m<o.length;m+=2)k.push(new bJ(o[m],o[m+1]));
return k};ed.prototype.M_=function(g){var o=this.anF();g.I.MI={F:[],j:[]};g.I.MI.F.push("M","C","C","C","C");
var k=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var m=0;m<k.length;m++)g.I.MI.j.push(o[k[m]].x,o[k[m]].y);
g.I.MI.F.push("M","L","L","M","L","L","M","L","L","M","L","L");k=[4,0,1,2,3,7,11,15,14,13,12,8];for(var m=0;
m<k.length;m++)g.I.MI.j.push(o[k[m]].x,o[k[m]].y);g.I.TN=[];for(var m=0;m<o.length;m++)g.I.TN.push(o[m].x,o[m].y);
g.nM=!0};ed.prototype.clear=function(g){g.I.MI=null;g.I.TN=[];g.nM=!0};function hL(){this.$_=!1;this.qV=!1;
this.a7m=!1;this.asV=!1;this.aj=!1;this.tg=!1;this.NG=0;this.gu=0}hL.prototype.Hu=function(g){this.$_=!0;
this.qV=!1;this.aj=g.z(dj.d_);this.tg=g.z(dj.M4);this.NG=this.aj?0:1;this.gu=this.tg?0:1};hL.prototype.Zl=function(g){var o=this.asV=g.z(dj.d_),k=this.a7m=g.z(dj.M4);
if(this.qV){if(this.NG==0&&!o)this.NG++;if(this.NG==1&&o)this.NG++;if(this.gu==0&&!k)this.gu++;if(this.gu==1&&k)this.gu++}};
hL.prototype.Sa=function(){this.qV=!0};hL.prototype.b9=function(){this.$_=!1};hL.prototype.T_=function(m){if(m==0)return this.$_?this.tg:this.a7m;
if(m==1)return this.qV?this.gu==2:!1};hL.prototype.uU=function(m){if(m==0)return this.$_?this.aj:this.asV;
if(m==1)return this.qV?this.NG==2:!1};D.History=function(){D.L8.call(this,"History",D.C1);this.E6=!0;
this.ajI=0};D.History.prototype=new D.L8;D.History.prototype.Ae=function(g,o,k,y){k.pP=!0;if(g.P=="h_itemchange"){if(g.index<k.mQ)for(var m=k.mQ;
m>g.index;m--)this.Ty(k);if(g.index>k.mQ)for(var m=k.mQ;m<g.index;m++)this.Tu(k)}if(g.P=="h_stepfwd")this.Tu(k);
if(g.P=="h_stepbck")this.Ty(k);if(g.P=="h_undoredo"){var d=this.E6||this.ajI!=k.mQ;if(d){this.Ty(k);
d=!1}else{this.Tu(k);d=!0}this.E6=d;this.ajI=k.mQ}if(g.P=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
k.history=[new cc([1,0],null)];k.mQ=0}else this.E6=!0};D.History.prototype.Ty=function(g){if(g.mQ==0)return;
var o=g.history[g.mQ];o.G.YZ(o.data,g);g.mQ--};D.History.prototype.Tu=function(g){if(g.mQ==g.history.length-1)return;
var o=g.history[g.mQ+1];o.G.qw(o.data,g);g.mQ++};D.WX=function(){D.L8.call(this,"Layers",D.Jn);this.mW=null};
D.WX.prototype=new D.L8;D.WX.prototype.Ae=function(g,o,k,y,d){this.mW=o;var b=g.P,T=g.i!=null?g.i:k.g.length!=0?k.g[0]:k.d.length-1,a=k.d[T];
k.Qr=!0;var t=y.z(dj.M4),j=y.z(dj.d_),e=y.z(dj.IQ);if(b==p.d8&&k.J==null&&(k.g.length>1||!k.q0(!1)))b=p.jL;
if(b==p.FV){var v=new cc([6,33],this),L=a.gT()?["pass"].concat(h8.re):h8.re,H=L[g.M$],w=g.i!=null?[g.i]:k.g,P=JSON.stringify(w),Q=[];
for(var m=0;m<w.length;m++)Q.push(k.d[w[m]].HW);v.data={P:b,i0:P,dQ:Q,M$:H};k.DU(v);this.qw(v.data,k);
this.track(c_._6("Md",{t:"enum",v:{BlnM:h8.w3(H)}}))}if(b==p._z){var v,x=k.Zt(),w=g.i!=null?[g.i]:k.g,P=JSON.stringify(w);
if(x&&x.data&&x.data.P==b&&x.data.i0==P)v=x;else{var F=c_._6("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(F);var Q=[];for(var m=0;m<w.length;m++)Q.push(k.d[w[m]].opacity);v=new cc([6,32],this);v.data={P:b,i0:P,dQ:Q,M$:g.M$,kX:F.fV};
k.DU(v)}v.data.M$=g.M$;v.data.kX.T.v.Opct.v.val=Math.round(g.M$*100/255);this.qw(v.data,k)}if(b==p.t0){if(a.add.iOpa==null)a.add.iOpa=255;
var v,x=k.Zt();if(x&&x.data&&x.data.P==b&&x.data.i==T)v=x;else{v=new cc("Fill Opacity Change",this);
v.data={P:b,i:T,dQ:a.add.iOpa,M$:g.M$};k.DU(v)}v.data.M$=g.M$;this.qw(v.data,k)}if(b==p.hw){var E=g.M$,f=g.i!=null?[g.i]:k.g.slice(0),c=[],M=[],v;
for(var n=0;n<f.length;n++){var X=k.d[f[n]];if(X.add.lspf==null)X.add.lspf=0;var Q=X.add.lspf,H=Q;for(var m=0;
m<E[0].length;m++){var u=E[1][m],I=1<<u;if((H&I)==0&&E[0][m])H^=I;else if((H&I)!=0&&!E[0][m])H^=I}c.push(Q);
M.push(H)}var x=k.Zt(),w=JSON.stringify(f);if(x&&x.data&&x.data.P==b&&JSON.stringify(x.data.i0)==w){v=x;
v.data.M$=M}else{var v=new cc([6,57,1],this);v.data={P:b,i0:w,dQ:c,M$:M};k.DU(v)}this.qw(v.data,k)}if(b==p.f1){var r="----",J=g.eH,H=null;
for(var m=0;m<iA.j0.lq.length;m++)if(a.add[iA.j0.lq[m]])r=iA.j0.lq[m];var U=a.add[r];if(J=="TySh")H=bw.j_(50,50,d.u1);
var v=new cc("Layer Type",this);v.data={P:b,i:T,a9a:[r,U],eH:[J,H]};k.DU(v);this.qw(v.data,k)}if(b==p.HF){var f=[];
if(t){var K=k.Zt(),i=K?K.data:null;if(K!=null&&K.G==this&&i.P==p.HF&&i.i0.length!=1){var z=new jB(N.E.L);
z.G=D.C1;z.data={P:"h_stepbck"};o.S(z);if(i.i==T)return}var h=k.root.St(T),R=h,C=[g.i];while(R.parent!=k.root){C.push(R.parent.index);
R=R.parent}for(var m=0;m<k.d.length;m++){var G=k.d[m],R=k.root.St(m),W=C.indexOf(m)!=-1?!0:G.oa()&&h.depth<R.depth;
if(W!=G.oa())f.push(m)}}else if(g.i0)f=g.i0;else{f.push(T);var A=k.d[T].oa(),F={J5:A?"hide":"show",fV:{classID:A?"Hd":"Shw",null:{t:"VlLs",v:[c_.lF("Lyr",!0)]}}};
this.track(F)}var v=new cc("Layer visibility",this,!0);v.data={P:b,i0:f,i:T};k.DU(v);this.qw(v.data,k)}if(b==p.dl){if(d.nE==D.IC){var $=new jB(N.E.s);
$.data={P:N.b.v1,G:D.fL};o.S($)}var O=g.aws,Y=g.j1,f4,escape=!1,V=!1;if(g.vr){if(e&&(Y==0||Y==1||Y==2)){var l=0;
if(j)l++;if(t)l+=2;var B=new jB(N.E.L,!0);B.G=D.ng;B.data={P:"fromlayer",Q9:[g.i,Y,l]};o.S(B);return}}var F={J5:"select",fV:{classID:"null",MkVs:{t:"bool",v:!1}}};
k.ar$();if(y.z(dj.IQ)||g.j9==0){var q=k.g.indexOf(T);if(q==-1)k.g.push(T);else if(k.g.length>1){if(g.j9!=0)k.g.splice(q,1)}k.g.sort(function(v,kp){return v-kp});
F.fV.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};f4=T}else if(j&&!t&&Y>0){b=Y==1?p.Dy:Y==2?p.AW:p.$$;
escape=!0}else if((j||g.j9==1)&&k.g.length>0){var s=Math.min(T,k.g[0]),cW=Math.max(T,k.g[k.g.length-1]);
k.g=[];for(var m=s;m<=cW;m++)if(k.d[m].add.lsct!=cK.ZG)k.g.push(m);F.fV.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
f4=T}else{f4=T;if(T>=k.d.length)return;var G=k.d[T];if(G&&G.gT()&&g.a1z)G.add.lsct=cK.TD;else if(k.g.length==1&&k.g[0]==T&&Math.max(0,Y)==G.W1){V=!0;
k.Qr=!1}if(!V){k.g=[T];k.w4()}}if(!V){if(f4!=null&&f4<k.d.length){F.fV.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:k.d[f4].getName()}}]},this.track(F)}if(!escape){console.log("no escape");
if(k.g.length==1){var dk=k.g[0];for(var m=0;m<k.d.length;m++){if(m==dk)continue;var X=k.d[m];X.W1=0;
X.j6=!1}var a=k.d[dk];if(Y==2){a.j6=!a.j6;k.yI=[]}else if(a){a.W1=Y<=0?0:Y}}else for(var m=0;m<k.d.length;
m++){var X=k.d[m];X.W1=0;X.j6=!1}k.wW=null;k.pP=!0}}if(g.vr&&t){if((Y==1||Y==3)&&O!=null){var B=new jB(N.E.L,!0);
B.G=D.aC;B.data={P:"mskView",Z:O!=0?0:j?1:2};o.S(B)}else{this.Ae({P:p.Uq,i:g.i},o,k,y,d)}}}if(b==p.Dy||b==p.$$){var kr=b==p.Dy,j9=kr?a.Qp():a.lQ(k).v;
if(j9==null)return;var v=new cc(j9.isEnabled?kr?[6,15]:[6,42]:kr?[6,14]:[6,41],this);v.data={P:b,i:T};
k.DU(v);this.qw(v.data,k)}if(b==p.AW){var j9=a.add.vmsk;if(j9==null)return;var v=new cc(j9.isEnabled?[6,17]:[6,16],this);
v.data={P:b,i:T};k.DU(v);this.qw(v.data,k)}if(b==p.a0m){var bh=a.add.lsct==cK.TD?cK.E5:cK.TD,R=k.root.St(k.d.indexOf(a)),a$=!1;
if(y.z(dj.IQ)){var fe=R.parent;for(var m=0;m<fe.children.length;m++){var gg=fe.children[m].i;if(gg.gT())gg.add.lsct=bh}}else a.add.lsct=bh;
for(var m=0;m<k.g.length;m++){var dg=k.g[m];if(R.Fy<dg&&dg<R.index)a$=!0}if(a$)k.g=[R.index];k.pP=!0}if(b==p.Uq){if(!k.WN(T))return;
var v=new cc(a.Le?[6,19]:[6,18],this);v.data={P:b,i:T};k.DU(v);if(g.M$==null||g.M$!=a.Le)this.qw(v.data,k)}if(b==p.a4C){if(a.Ac())a.b_-=32;
else a.b_+=32;k.pP=!0}if(b==p.yv||b==p.wM){var v;if(b==p.yv)v=new cc(a.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(b==p.wM)v=new cc(a.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);v.data={P:b,i:T};k.DU(v);this.qw(v.data,k)}if(b==p.zn||b==p.BV){var dk=g.index,v;
if(b==p.zn)v=new cc(a.add.lmfx[iZ.pW[dk[0]]].v[dk[1]].v.enab.v?[6,30]:[6,29],this);if(b==p.BV)v=new cc(a.add.SoLd.filterFX.v.filterFXList.v[dk].v.enab.v?[6,44]:[6,43],this);
v.data={P:b,i:T,index:g.index};k.DU(v);this.qw(v.data,k)}if(b==p.jM){if(g.src==g.qN)return;var iv=k.d[g.src],aQ=k.d[g.qN],dt=iv.add.lmfx?JSON.stringify(iv.add.lmfx):"",hY=aQ.add.lmfx?JSON.stringify(aQ.add.lmfx):"";
if(aQ.add.lmfx==null){aQ.add.lmfx=JSON.parse(iZ.default);for(var m=0;m<iZ.order.length;m++)aQ.add.lmfx[iZ.pW[m]]={t:"VlLs",v:[]}}if(g.qp==null){aQ.add.lmfx=JSON.parse(dt);
if(!t)delete iv.add.lmfx}else{var b9=g.qp[0],i0=iZ.pW[b9];if(iZ.a2O.indexOf(iZ.order[b9])==-1)aQ.add.lmfx[i0].v=[];
aQ.add.lmfx[i0].v.push(iv.add.lmfx[i0].v[g.qp[1]]);if(!t)iv.add.lmfx[i0].v.splice(g.qp[1],1)}var gD=iv.add.lmfx?JSON.stringify(iv.add.lmfx):"",hU=aQ.add.lmfx?JSON.stringify(aQ.add.lmfx):"";
if(!aQ.Ac())aQ.b_+=32;var v=new cc("Move Layer Styles",this);v.data={P:b,ou:g.src,hM:g.qN,a7r:dt,a5w:hY,a4y:gD,a0K:hU};
k.DU(v);this.qw(v.data,k)}if(b==p.IP){if(g.src!=null)T=g.src;var X=k.d[T],aW=JSON.stringify(X.add.SoLd),be=JSON.parse(aW),hv=be.filterFX.v.filterFXList.v;
hv.splice(g.qp,1);var v=new cc([6,53],this);v.data={P:p.LB,UE:[{Fe:T,p_:[aW,JSON.stringify(be)]}]};k.DU(v);
this.qw(v.data,k)}if(b==p.ajW){var b3=t,iv=k.d[g.src],aQ=k.d[g.qN],gT=[];if(iv!=aQ&&aQ.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(iv==aQ&&!b3&&g.qp==g.G1)return;if(iv==aQ&&g.qp==-1)return;var aB=iv.lQ(k),aW=JSON.stringify(iv.add.SoLd),be=JSON.parse(aW),hv=be.filterFX.v.filterFXList.v;
if(iv==aQ){hv.splice(g.G1,0,hv[g.qp]);if(!b3)hv.splice(g.qp+(g.qp<g.G1?0:1),1);gT.push({Fe:g.src,p_:[aW,JSON.stringify(be)]})}else if(g.qp==-1){var bO=be.filterFX;
if(!b3){delete be.filterFX;gT.push({Fe:g.src,p_:[aW,JSON.stringify(be)],eE:[aB,null]})}var kf=aQ.wg()?aQ.lQ(k):null,iY=dF.ahu(aB),gs=JSON.stringify(aQ.add.SoLd),c1=JSON.parse(gs);
c1.placed.v=iY.id;c1.filterFX=bO;gT.push({Fe:g.qN,p_:[gs,JSON.stringify(c1)],eE:[kf,iY]})}else{var gK=hv[g.qp];
if(!b3){hv.splice(g.qp,1);gT.push({Fe:g.src,p_:[aW,JSON.stringify(be)]})}var gs=JSON.stringify(aQ.add.SoLd),c1=JSON.parse(gs);
if(c1.filterFX==null)c1.filterFX=jf.nC();var c4=c1.filterFX.v.filterFXList.v;c4.splice(g.G1,0,gK);var k6={Fe:g.qN,p_:[gs,JSON.stringify(c1)]};
if(!aQ.wg()){var iY=dF.aiM(aQ.add.SoLd.placed.v);k6.eE=[null,iY]}gT.push(k6)}var v=new cc([6,52],this);
v.data={P:p.LB,UE:gT};k.DU(v);this.qw(v.data,k)}if(b==p.n4){var j9=a.Qp(),v=new cc(j9.zi?[6,26]:[6,25],this);
v.data={P:b,i:T};k.DU(v);this.qw(v.data,k);this.track({J5:"set",fV:{classID:"setd",null:{t:"obj ",v:[c_.lF("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:j9.zi}}}}})}if(b==p.tC){var j9=a.add.vmsk,v=new cc(j9.zi?[6,28]:[6,27],this);
v.data={P:b,i:T};k.DU(v);this.qw(v.data,k)}if(b==p.Jw){var v=new cc("Variables / Datasets",this),jk=JSON.stringify([k.t_,k.S0]);
if(jk==g.Z)return;v.data={P:b,azb:jk,afq:g.Z};k.DU(v);this.qw(v.data,k)}if(b==p.i$){var jt=[],v;for(var m=0;
m<k.g.length;m++){var n=k.g[m],G=k.d[n];if(G.add.vogk)jt.push(n,JSON.stringify(G.add.vogk))}for(var m=0;
m<k.yI.length;m++){var n=k.yI[m],G=k.p8[n];if(G.add.vogk)jt.push(-1-n,JSON.stringify(G.add.vogk))}_.X.as9(k,g.Z,g.adm);
var j_=[];for(var m=0;m<k.g.length;m++){var n=k.g[m],G=k.d[n];if(G.add.vogk)j_.push(n,JSON.stringify(G.add.vogk))}for(var m=0;
m<k.yI.length;m++){var n=k.yI[m],G=k.p8[n];if(G.add.vogk)j_.push(-1-n,JSON.stringify(G.add.vogk))}var x=k.Zt();
if(x&&x.data&&x.data.P==b){var kw=!0;for(var m=0;m<jt.length;m+=2)if(jt[m]!=x.data.Dm[m])kw=!1;if(kw){v=x;
v.data.Ap=j_}}if(v==null){var v=new cc([12,91,1],this);v.data={P:b,Dm:jt,Ap:j_};k.DU(v)}this.qw(v.data,k)}if(b==p._F){var eu=JSON.stringify(a.add.artb),ak=JSON.stringify(g.zD),v;
k.d[T].add.artb=JSON.parse(ak);var cY=new bd(0,0,k.m,k.n),bG=D.Wz.sD(k),x=k.Zt();if(x&&x.data&&x.data.P==b&&x.data.i==T){v=x;
v.data.zD=ak}if(v==null){var v=new cc("Editing Artboard",this);v.data={P:b,i:T,aov:eu,zD:ak,WB:cY};k.DU(v)}v.data.U7=bG;
this.qw(v.data,k)}if(b==p.UU){var j_=k.Tm.slice(0),j5=k.kD.slice(0),hI=k.J,jJ=k.J;if(g.cL=="fromAction"){var ca=g.Z.J5,gI=g.Z.fV;
if(ca=="make"||ca=="duplicate"){var c3=j_.length,eS=!1,bf=!1;if(k.xA())c3--;var fs=new p.GE;fs.name="Alpha "+(c3+1);
if(ca=="make"){var ef=gI.Nw.v;fs.color=0;j5=[c3];fs.ao=!0;fs.ea=ef.Opct.v;if(ef.Nm)fs.name=ef.Nm.v;if(ef.classID=="SCch"){eS=!0;
jJ=null;fs.Wj=1}}else{var hh=gI.null.v[0].v;if(hh.keyID=="fsel")eS=!0;else{var fA=D.qT.a4m(k);jJ=D.qT.arF(k,fA);
fs.color=0;fs.rect=jJ.rect;fs.channel=jJ.channel}}if(eS){fs.color=0;if(k.J){fs.rect=k.J.rect.clone();
fs.channel=k.J.channel.slice(0)}if(bf){fs.color=255-fs.color;_.TY(fs.channel)}}for(var m=0;m<k.Tm.length;
m++)k.Tm[m].ao=!1;k.u.sv=[0,0,0];j_.splice(c3,0,fs)}else if(ca=="delete"){if(a&&a.Qp()&&a.W1==1){this.Ae({P:p.K7},o,k,y,d);
return}var jS=k.kD;jS.sort(function(v,kp){return kp-v});if(jS.length==0)return;for(var m=0;m<jS.length;
m++)j_.splice(jS[m],1);j5=[];k.u.sv=[1,1,1]}else if(ca=="hide"){j_[j5[0]]=j_[j5[0]].clone();j_[j5[0]].ao=!1}}if(g.cL=="rnm"){j_[g.Sp]=j_[g.Sp].clone();
j_[g.Sp].name=g.name}var v=new cc("Channel Edit",this);v.data={P:b,Dm:k.Tm.slice(0),gB:k.kD.slice(0),Ap:j_,vz:j5,J2:hI,A2:jJ};
this.qw(v.data,k);k.DU(v)}if(b==p.cI){var dn=new bd(0,0,k.m,k.n),v=new cc(g.Y5,this);v.data={P:p.cI,No:k.d.slice(0),ze:g.ze,wL:k.g.slice(0),Dj:g.A2};
k.DU(v);this.qw(v.data,k);var id=D.Wz.Vf(k);if(id){v.data.WB=dn;v.data.U7=id}}if(b==p.kP){var jy=k.Kq(null,g.i),cw=1e10;
if(jy.length==0)return;if(k.d.length==jy.length){alert("Project must have at least 1 layer");return}var dG=[];
for(var m=0;m<k.d.length;m++)if(jy.indexOf(m)==-1)dG.push(k.d[m]);for(var m=0;m<jy.length;m++)cw=Math.min(cw,jy[m]);
cw=Math.max(cw-1,0);while(dG[cw].name=="</Layer group>")cw++;this.track({J5:"delete",fV:{classID:"Dlt",null:c_.lF("Lyr",!0)}});
var cY=new bd(0,0,k.m,k.n),v=new cc([6,31],this);v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:[cw]};
k.DU(v);this.qw(v.data,k);var bG=D.Wz.sD(k);if(bG){v.data.U7=bG;v.data.WB=cY;D.Wz.Vf(k)}}if(b==p.kH){if(!y.z(dj.d_))return;
var v=new cc("Switch Layer Link",this);v.data={P:b,i:g.i};k.DU(v);this.qw(v.data,k)}if(b==p.Fj){var jS=g.abA?g.abA:k.g,d2=0,gE=!1;
if(jS.length==0)return;if(jS.length==1&&k.d[jS[0]].Pu==0){alert(d9.get([15,7,5]));return}var fj=[];for(var m=0;
m<k.d.length;m++){var aH=k.d[m].Pu;fj.push(aH);d2=Math.max(d2,aH)}var iQ=-1,a_=-1;for(var m=0;m<jS.length;
m++){var aH=k.d[jS[m]].Pu;if(aH==0)gE=!0;else if(iQ==-1||iQ==aH)iQ=aH;else a_=aH}if(!gE)for(var m=0;
m<jS.length;m++)k.d[jS[m]].Pu=0;else if(iQ!=-1&&a_==-1)for(var m=0;m<jS.length;m++)k.d[jS[m]].Pu=iQ;
else for(var m=0;m<jS.length;m++)k.d[jS[m]].Pu=d2+1;var iP=[];for(var m=0;m<k.d.length;m++){var aH=k.d[m].Pu;
if(iP[aH]==null)iP[aH]=0;iP[aH]++}for(var m=0;m<k.d.length;m++){var aH=k.d[m].Pu;if(iP[aH]==1)k.d[m].Pu=0}var jY=fj;
fj=[];for(var m=0;m<k.d.length;m++){var aH=k.d[m].Pu;fj.push(aH);d2=Math.max(d2,aH)}var v=new cc(gE?[6,54,0]:[6,54,1],this);
v.data={P:p.Fj,anq:jY,a3o:fj};k.DU(v);this.qw(v.data,k)}if(b==p.jL&&(g.i!=null||k.g.length!=0)||b==p.II){var iX=k.E2(b==p.jL?g.i:T,null,g.aaK),cM;
if(b==p.II){var X=iX[0],ca=X.add.SoLd.Idnt.v,gr=k.m9(ca).clone();X.add.SoLd.Idnt.v=gr.UK=dF.li()+ca.slice(8);
k.add.lnk2.push(gr)}if(b==p.jL){var gL={J5:"duplicate",fV:{classID:"null",null:c_.lF("Lyr",!0)}};if(g.R3){iX[iX.length-1].mP(g.R3);
gL.Nm={t:"TEXT",v:g.R3}}this.track(gL);g.a3I=g.i}b=p.Y6;g.d=iX;g.UD=k;g.zH=k}if(b==p.Y6){var j3,fd,cS=g.UD,eY=g.zH,ad=0,gu=0,es=!1,hS,jK=0,bW=0;
if(cS!=eY){console.log("ADDLAYERS different projs");var j3=new bd(0,0,cS.m,cS.n),fd=new bd(0,0,eY.m,eY.n),dy=[],dP=[];
for(var m=0;m<g.d.length;m++){var X=g.d[m];if(X.add.SoLd==null)continue;var ca=X.add.SoLd.Idnt.v;if(dy.indexOf(ca)==-1){dy.push(ca);
dP.push(dF.li()+ca.slice(8))}X.add.SoLd.Idnt.v=dP[dy.indexOf(ca)];var aB=X.lQ(cS);if(aB){cS.Am(aB);eY.YY(aB)}}if(dy.length>0){if(eY.add.lnk2==null)eY.add.lnk2=[];
for(var m=0;m<dy.length;m++){var bt=cS.m9(dy[m]),gr=bt.clone();gr.UK=dP[m];eY.add.lnk2.push(gr)}}}var hI=eY.g.slice(0);
hI.sort(function(v,kp){return v-kp});var dG=eY.d.slice(0),jJ=[],cB=-1;for(var m=0;m<hI.length;m++)cB=Math.max(cB,hI[m]);
if(g.a3I!=null)cB=g.a3I;var ab=cS.wI();if(g.tK){cB=g.tK-1;var dW=eY.d[g.tK].xB();ad+=dW.x;gu+=dW.y}if(ab!=-1&&(cS!=eY||g.tK)){var ck=cS.d[ab].xB();
ad-=ck.x;gu-=ck.y}var eb=eY.Nz();for(var m=0;m<eb[0].length;m++){var di=eb[1][m];if(di!=-1)eb[1][m]=dG[di]}cB++;
for(var m=0;m<g.d.length;m++){var G=g.d[m],dM=G.add.artb;dG.splice(cB,0,G);jJ.push(cB);cB++;if(dM){hS=!0;
var iy=dM.guideIndeces;if(iy){iy=iy.v;for(var dZ=0;dZ<iy.length;dZ++){eb[0].push(cS.HR[iy[dZ].v].slice(0));
eb[1].push(G);es=!0}}}}for(var m=0;m<eb[0].length;m++){var di=eb[1][m];if(di!=-1)eb[1][m]=dG.indexOf(di)}for(var m=0;
m<g.d.length;m++){var G=g.d[m];if(G.add.lsct==cK.ZG){if(jK==0)bW++;jK++}else if(G.gT())jK--}if(bW==1)jJ=[cB-1];
var v=new cc([6,0],this);v.data={P:p.cI,No:eY.d.slice(0),ze:dG,wL:hI,Dj:jJ};if(es){v.data.Dl=[eY.Nz(),eb]}eY.DU(v);
this.qw(v.data,eY);if(ad!=0||gu!=0)D.Bt.W5(eY,eY.Kq(),null,ad,gu);if(hS){v.data.WB=new bd(0,0,eY.m,eY.n);
v.data.U7=D.Wz.sD(eY);D.Wz.Vf(eY)}}if(b==p.agX){var c0=g.i!=null?[g.i]:k.Kq(),dG=k.d.slice(0);for(var m=0;
m<c0.length;m++){var G=k.d[c0[m]].clone();G.at(k);dG.splice(c0[m],1,G)}var v=new cc([6,8],this);v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:k.g.slice(0)};
k.DU(v);this.qw(v.data,k)}if(b==p.a4i){var dG=k.d.slice(0),G=dG[k.g[0]]=dG[k.g[0]].clone(),dK=G.add.lmfx,ks,dW;
delete G.add.lmfx;var fF=k.g[0],e4=fF+1;if(G.gT()){var gZ=k.d[k.g[0]].Of;dW=gZ.auH;ks=gZ.pb;var R=k.root.St(fF);
fF=R.Fy}else{dW=G.rect;ks=_.Q(dW.O());_.B4(G.buffer,ks,3)}var io=bs.W0(dK,G.add.fxrp,ks,dW,k,dW).type;
for(var m=0;m<iZ.order.length;m++){var cs=iZ.order[m],aI=io[cs];aI.reverse();for(var dZ=0;dZ<aI.length;
dZ++){var bU=aI[dZ],w=k.Qf(),a8=m>7;if(cs=="ebbl"){if(bU.v8||bU._K){var g5=bU.v8?bU.v8:bU._K;if(bU.v8)delete bU.v8;
else delete bU._K;if(bU._K||bU.MM)dZ--}else if(bU.MM||bU.Xv){var g5=bU.Xv?bU.Xv:bU.MM;if(bU.Xv){delete bU.Xv;
if(bU.MM)dZ--}a8=!0}bU=g5}w.HW=bU.nG;w.opacity=Math.round(255*bU.uK);w.buffer=bU.rg;w.rect=bU.pk.clone();
w.rect.offset(dW.x,dW.y);if(cs=="FrFX"){w.buffer=w.buffer.slice(0);_.e_(bU.ri?bU.ri:bU.r5,w.buffer,3);
if(bU.ri){a8=!0;delete bU.ri;if(bU.r5)dZ--}}w.Le=!a8;w.mP(G.getName()+"'s "+d9.get(iZ.names[m]));dG.splice(a8?fF:e4,0,w);
if(a8)e4++}}var v=new cc("Styles to Layers",this);v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:[e4-1]};
k.DU(v);this.qw(v.data,k)}if(b==p.zh){var c0=k.Kq(),dG=k.d.slice(0),dO=new bd(0,0,k.m,k.n);for(var m=0;
m<c0.length;m++){var et=k.d[c0[m]],co=et.oa();et.qj(!0);var aX=k.root.St(c0[m]);if(et.gT())continue;
if(aX==null)continue;var G=et.clone();G.at(k);var dw=aX.B2(k,!0),bQ=k.d;k.x8([et]);k.U();k.m5();G.buffer=_.Q(dw.O()*4);
_.g1(k.PJ(),dO,G.buffer,dw);G.rect=dw;G.opacity=255;G.add.iOpa=255;G.HW="norm";G.U();G.Of.B3=!0;k.x8(bQ);
if(G.add.lmfx)delete G.add.lmfx;G.v=G.v7=null;dG.splice(c0[m],1,G);G.qj(co);et.qj(co)}var v=new cc([6,34],this);
v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:k.g.slice(0)};k.DU(v);this.qw(v.data,k)}if(b==p.auk){var c0=k.Kq(),dG=k.d.slice(0);
for(var m=0;m<c0.length;m++){var G=k.d[c0[m]],eh=G.add.TySh;if(eh==null)continue;var X=new dR(eh.O7,d.At),cQ=_.p.Yy(il.h$(X,eh));
for(var g0 in cQ){var cF=cQ[g0],gg=G.clone();delete gg.add.TySh;gg.b_=gg.b_|1<<4;gg.add.SoCo=JSON.parse(JSON.stringify(iZ.IS[0]));
var ho=gg.add.SoCo.Clr.v;ho.Rd.v=parseInt(g0.slice(1,3),16);ho.Grn.v=parseInt(g0.slice(3,5),16);ho.Bl.v=parseInt(g0.slice(5,7),16);
var e$=new p.Ew;e$.a=_.p.XP(cF,!1);if(gg.add.vmsk!=null){gg.add.vmsk.a2r();e$.concat(gg.add.vmsk)}gg.add.vmsk=e$;
gg.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));gg.Ko();gg.bD(k);dG.splice(dG.indexOf(G),0,gg)}dG.splice(dG.indexOf(G),1)}var jJ=k.g.slice(0);
for(var m=jJ.length-1;m>=0;m--)if(jJ[m]>=dG.length)jJ.splice(m,1);var v=new cc([6,40],this);v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:jJ};
k.DU(v);this.qw(v.data,k)}if(b==p.vd){var fv=k.g.length,hP,ih;if(fv<2){alert("Select two or more layers.");
return}for(var m=0;m<fv;m++){var ck=k.d[k.g[m]].rect;hP=m==0?ck:hP.Nm(ck);ih=m==0?ck:ih.gO(ck)}if(hP.O()*1.2>ih.O()){alert("stacking images");
var aw=[],aY=[];for(var m=0;m<fv;m++){var G=k.d[k.g[m]];aw.push(G.buffer);aY.push(G.rect)}var de=_.auM.lS(aw,aY),aR=de[0],bB=de[1],g4=[];
for(var m=0;m<fv;m++){var j9=new p.GE;j9.color=255;j9.rect=bB;j9.channel=aR[m];g4.push(k.g[m],null,j9)}var v=new cc("Focus-Stack",this);
v.data={P:p.ne,fb:g4};k.DU(v);this.qw(v.data,k);return}if(!k.uV())return;var gg=k.d[k.g[0]].clone(),dG=[];
for(var m=0;m<k.d.length;m++)if(k.g.indexOf(m)==-1)dG.push(k.d[m]);dG.splice(k.g[0],0,gg);for(var m=1;
m<fv;m++)if(k.d[k.g[m]].rect.O()>2e6){alert("Blended areas are too large.");return}for(var m=1;m<fv;
m++){var G=k.d[k.g[m]],bB=G.rect.clone();bB.pK(1,1);var kp=_.Q(bB.O()*4);_.g1(G.buffer,G.rect,kp,bB);
gg.extend(bB);var hH=_.Q(bB.O()*4);_.g1(gg.buffer,gg.rect,hH,bB);var v=_.Q(bB.O());_.B4(kp,v,3);_.round(v,200);
_.e_(v,kp,3);_.l.I3("norm",kp,bB,hH,bB,bB,1);_.X_.Ve(hH,v,bB);_.g1(hH,bB,gg.buffer,gg.rect)}var v=new cc([2,10,0],this);
v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:[k.g[0]]};k.DU(v);this.qw(v.data,k)}if(b==p.Sb){var dG=k.d.slice(0),j5=k.g.slice(0);
for(var m=0;m<dG.length;m++){var G=dG[m],jF=G.add.vmsk;if(G.JW()&&jF&&G.add.vstk.strokeEnabled.v&&!G.add.vstk.fillEnabled.v){var cq=jF.a,gc=0,kt=-1;
for(var dZ=0;dZ<cq.length;dZ++){if((cq[dZ].type==0||cq[dZ].type==3)&&cq[dZ].dJ!=-1){gc++;if(cq[dZ].type==3&&kt==-1){cq[dZ].Pj=cq[dZ].dJ=1;
kt=dZ}}}if(gc>1&&kt!=-1&&gc<10){console.log("separating an open path into a new layer");G=G.clone();
jF=G.add.vmsk;cq=jF.a;var w=cq[kt].length,gz=G.clone();gz.add.lyid=k.Rh();jF.a=cq.slice(0,2).concat(cq.slice(kt,kt+w+1));
jF.g=[];G.bD(k);G.U();var aT=gz.add.vmsk.a;gz.add.vmsk.a=aT.slice(0,kt).concat(aT.slice(kt+w+1,aT.length));
gz.add.vmsk.g=[];gz.bD(k);dG[m]=G;dG.splice(m+1,0,gz);for(var dZ=0;dZ<j5.length;dZ++)if(j5[dZ]>m)j5[dZ]++;
var fc=j5.indexOf(m);if(fc!=-1){j5.splice(fc+1,0,m+1)}}}}if(dG.length!=k.d.length){var v=new cc("Splitting open paths",this);
v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:j5};k.DU(v);this.qw(v.data,k)}}if(b==p.Jq){this.Ae({P:p.Sb},o,k,y,d);
var hI=k.g.slice(0),bQ=k.d.slice(0),c0=k.Kq();if(c0.length==0)return;k.adO(c0,!1,g.dv);var v=new cc([6,36,0],this);
v.data={P:p.cI,No:bQ,ze:k.d.slice(),wL:hI,Dj:k.g.slice(0)};k.DU(v);this.qw(v.data,k)}if(b==p.a8J){var aW=a.add.SoLd;
if(aW==null)return;var ca=aW.Idnt.v,bn=k.m9(ca);bn.PJ(!1);var ex=bn.IG[0],bB=bn.IG[1];if(_.Yj(ex)){alert("The smart object contains transparency.");
return}var hk=cp.rJ("jpg").p0([[ex.buffer]],bB.m,bB.n,[90]);this.Ae({P:p.ER,data:new Uint8Array(hk),iV:"image.jpg"},o,k,y,d);
console.log(k.add);return}if(b==p.ER){var dO=g.po,ca=g.id;if(dO==null)dO=k;if(ca==null)ca=a.add.SoLd.Idnt.v;
var bt=dO.m9(ca),gr=bt.clone();gr.raw=g.data;gr.iV=g.iV;var bD=cp.tW(g.data.buffer);if(bD=="psd"){gr.Il="8BIM";
gr.uF="8BPB"}else{gr.Il="    ";gr.uF="    "}gr.PJ(!1);bt.PJ(!1);var v=new cc([6,36,1],this);v.data={P:p.ER,id:ca,Lg:bt,By:gr};
dO.DU(v);this.qw(v.data,dO)}if(b==p.Wd){var v=new cc([6,36,4],this);v.data={P:b,i:T,Ad:a.add.SoLd.Impr.v.classID,M$:g.M$};
k.DU(v);this.qw(v.data,k)}if(b==p.a7s){var ay,bY;if(g.Vw){ay=g.po;bY=g.Vw}else{g.po.Tf();g.po.Kd();g.po.U();
g.po.m5();g.po.PJ();ay=cp.rJ("PSD").p0(g.po,0,0,[!0,!0]);bY=g.po.name}if(!(ay instanceof ArrayBuffer))throw"e";
ay=new Uint8Array(ay);var q=g.LP;if(q==null){if(k.g.length==0)q=k.g.length;else{var dg=k.g[k.g.length-1],w=k.d[dg];
q=w.gT()?dg:dg+1}}var ew=new bd(0,0,k.m,k.n),f9=k.wI();if(f9!=-1)ew=k.d[f9].xB();var f0=k.Es(ay,bY,0,0,ew,d.At,o),dG=k.d.slice(0);
dG.splice(q,0,f0);var v=new cc([6,36,2],this);v.data={P:p.cI,No:k.d.slice(),ze:dG,wL:k.g.slice(0),Dj:[dG.indexOf(f0)]};
k.DU(v);this.qw(v.data,k)}if(b==p.Ne&&g.cL=="merge"){var e5=[],fT=k.root.children,bL=0;for(var m=0;m<fT.length;
m++){var R=fT[m],G=R.i,hw=R.children,gf=!0;if(!G.gT()||hw.length==0)continue;for(var dZ=0;dZ<hw.length;
dZ++)if(!hw[dZ].i.getName().startsWith("_a_")){gf=!1;break}if(gf)e5.push(k.d.indexOf(G))}var ji=[];for(var m=0;
m<e5.length;m++)if(k.g.indexOf(e5[m])!=-1)ji.push(e5[m]);if(ji.length>=2)e5=ji;if(e5.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var f3=[];for(var m=0;m<e5.length;m++)f3.push(k.d[e5[m]].getName());var aI=[];for(var bj=0;bj<e5.length;
bj++){var R=k.root.St(e5[bj]),k6=[[],[],0,bj];aI.push(k6);for(var m=0;m<R.children.length;m++){var n=R.children[m].index,G=R.children[m].i,fs=G.getName(),hC=20,aV=fs.split(",");
if(aV.length>1){var dE=parseInt(aV.pop());if(!isNaN(dE)&&dE!=0)hC=dE}k6[0].push(G);k6[1].push(hC);k6[2]+=hC}}aI.sort(function(v,kp){return kp[2]-v[2]});
var jG=aI[0],el=jG[2];for(var di=1;di<aI.length;di++){var k6=aI[di],bV=1,ju=k6[1].slice(0),gX=0;while((bV+1)*k6[2]<=jG[2]){bV++;
ju=ju.concat(k6[1])}k6[1]=ju;k6[2]*=bV;var cD=jG[2]/k6[2];for(var m=0;m<k6[1].length;m++){var aK=Math.floor(k6[1][m]*cD);
k6[1][m]=aK;gX+=aK}while(gX<el){gX++;k6[1][k6[1].length-1]++}k6[2]=gX}var ir=[],gA=[],aK=[];for(var m=0;
m<aI.length;m++){ir.push(0);gA.push(0)}while(bL<el){var b0=1e9,c3=-1;for(var m=0;m<aI.length;m++){var fP=aI[m][1],fF=ir[m];
if(fF!=fP.length&&gA[m]+fP[fF]<bL+b0){c3=m;b0=gA[m]+fP[fF]-bL}}gA[c3]+=aI[c3][1][ir[c3]];ir[c3]++;if(b0!=0){aK.push(b0);
bL+=b0}}for(var m=1;m<aK.length;m++){var iT=aK[m];if(iT<16&&(aK[m-1]<16||m<aK.length-1&&16<=aK[m+1])){aK[m-1]+=iT;
aK.splice(m,1);m--}}var co=[],dO=new bd(0,0,k.m,k.n);for(var m=0;m<k.d.length;m++){co[m]=k.d[m].oa();
k.d[m].qj(!1)}var gp=k.g.slice(0);k.g=e5;var jy=k.Kq();jy.sort(function(v,kp){return v-kp});var dG=[];
for(var m=0;m<k.d.length;m++){if(jy.indexOf(m)==-1)dG.push(k.d[m])}aI.sort(function(v,kp){return v[3]-kp[3]});
function d$(fP,eZ){var m=0,dm=0;while(dm+fP[m]<=eZ){dm+=fP[m];m++}return m}bL=0;dG.splice(jy[0],0,k.L0());
for(var hs=0;hs<aK.length;hs++){var f=[];for(var m=0;m<aI.length;m++){var fF=d$(aI[m][1],bL)%aI[m][0].length,G=aI[m][0][fF];
f.push(G)}var G=k.Qf();for(var m=0;m<aI.length;m++){var bi=f[m],fe=k.d[e5[m]];bi.qj(!0);fe.qj(!0)}k.U();
k.m5();var ex=k.PJ();G.rect=_.AO(ex,dO,2);G.buffer=_.Q(G.rect.O()*4);_.g1(ex,dO,G.buffer,G.rect);for(var m=0;
m<aI.length;m++){var bi=f[m],fe=k.d[e5[m]];bi.qj(!1);fe.qj(!1)}G.qj(hs==0);G.mP("_a_frm"+hs+","+aK[hs]);
dG.splice(jy[0]+1+hs,0,G);bL+=aK[hs]}var G=k.Qf();G.mP(f3.join(" + "));G.HW="pass";G.add.lsct=cK.E5;
G.b_=24;dG.splice(jy[0]+1+aK.length,0,G);for(var m=0;m<k.d.length;m++)k.d[m].qj(co[m]);var v=new cc([6,12,0],this);
v.data={P:p.cI,No:k.d,ze:dG,wL:gp,Dj:[jy[0]+1+aK.length]};k.DU(v);this.qw(v.data,k)}if(b==p.C5||b==p.oW){var ia=k.g.length==1,bo=!0,f0=null,jJ;
if(ia&&k.g[0]==0)return;var bQ=k.d.slice(0),hI=k.g.slice(0);if(ia)k.g=[T,T-1];if(b==p.oW){k.g=[];for(var m=0;
m<k.d.length;m++)if(k.d[m].oa())k.g.push(m)}var c0=k.Kq();c0.sort(function(v,kp){return v-kp});var kh=new bd,dO=new bd(0,0,k.m,k.n);
for(var m=0;m<c0.length;m++){var n=c0[m],G=k.d[n];if(G.gT()||G.getName()=="</Layer group>")continue;
bo=bo&&G.JW()&&G.add.vmsk!=null;kh=kh.gO(k.root.St(n).B2(k,!0))}if(bo){var jF=null;for(var m=0;m<c0.length;
m++){var w=k.d[c0[m]];if(w.rect.O()==0)continue;if(f0==null){f0=w.clone();jF=f0.add.vmsk}else{var w=k.d[c0[m]],aT=p.Ew.q7(w.add.vmsk.a);
jF.a=jF.a.concat(aT.slice(2));f0.add.vogk=f0.add.vogk.concat(JSON.parse(JSON.stringify(w.add.vogk)))}}f0.add.vmsk.WP=!0;
f0.bD(k)}else if(dO.IK(kh)){f0=k.Qf();f0.mP(k.d[c0[c0.length-1]].getName());f0.rect=kh;f0.buffer=_.Q(kh.O()*4);
var fh=k.add.artd;delete k.add.artd;var eg=k.PJ(c0);if(fh)k.add.artd=fh;_.g1(eg,dO,f0.buffer,kh);f0.xO();
f0.U()}else{k.adO(c0,!0);f0=k.d[k.g[0]];k.d.splice(k.g[0],1);var is=k.m9(f0.add.SoLd.Idnt.v);k.add.lnk2.splice(k.add.lnk2.indexOf(is),1);
delete f0.add.SoLd}var hx=t,fD=-1;if(g.fV&&g.fV.Dplc&&g.fV.Dplc.v)hx=!0;if(hx&&b==p.oW&&k.d[hI[0]].eT()&&k.d[hI[0]].rect.on()){fD=hI[0]}if(fD!=-1||ia){var cg=k.d[fD!=-1?fD:T-1];
f0.mP(cg.getName());f0.add.lclr=cg.add.lclr}var dG=[];for(var m=0;m<k.d.length;m++)if(hx||c0.indexOf(m)==-1)if(m!=fD)dG.push(k.d[m]);
var cI=c0[c0.length-1],gV=cI==k.d.length-1?null:k.d[cI+1],jH=gV?dG.indexOf(gV):dG.length;dG.splice(jH,0,f0);
jJ=[jH];var v=new cc([6,12,0],this);v.data={P:p.cI,No:bQ,ze:dG,wL:hI,Dj:jJ};k.DU(v);this.qw(v.data,k)}if(b==p.aik){var gg=k.Qf();
gg.rect=new bd(0,0,k.m,k.n);gg.buffer=_.Q(gg.rect.O()*4);_.Sm(gg.buffer,4294967295);_.l.I3("norm",k.PJ(),gg.rect,gg.buffer,gg.rect,gg.rect,1);
gg.mP("Background");gg.add.lspf=1<<2;var v=new cc([6,12,1],this);v.data={P:p.cI,No:k.d.slice(),ze:[gg],wL:k.g.slice(0),Dj:[0]};
k.DU(v);this.qw(v.data,k)}var f$=b==p.d8||b==p.Za;if(b==p.IX||b==p.pY||b==p.LQ||b==p.Fx||f$){var G=f$?k.E2()[0]:k.Qf(),je=d9.get([0,3]),a9=g.R3,gq=!1,hT,hp;
if(b==p.LQ)je=d9.get([12,76,1]);if(f$){if(k.J){var et=k.d[k.g[0]],f2=et.Tl(k,k.J);if(f2==null){alert("Copied area is empty");
return}G.rect=f2.rect;G.buffer=f2.sP;G.at(k);G.qj(!0)}else a9=G.getName();G.add.lspf=0;G.Le=!1;if((G.b_&1)!=0)G.b_--}if(b==p.Fx){G.rect=D.WX.a15(g.gj,k);
G.buffer=g.gj.buffer.slice(0);if(g.bs&&k.J){G.v=new p.GE;G.v.rect=k.J.rect;G.v.color=0;G.v.channel=k.J.channel.slice(0)}}if(b==p.IX){this.track({J5:"make",fV:{classID:"Mk",null:c_.lF("Lyr")}})}if(b==p.pY){G.b_|=16;
var at=g.fV.Usng.v,jW=at.Type.v,g3=aj.$z[jW.classID];je=d9.get(aj.names[g3]);if(at.Nm)a9=at.Nm.v;G.add[g3]=jf.J0(g3);
if(G.add[g3]==null)G.add[g3]={};for(var cv in jW)G.add[g3][cv]=JSON.parse(JSON.stringify(jW[cv]));G.v=D.WX.akR(k);
G.W1=1}if(b==p.LQ){G.b_|=16;var gI=g.fV,at=gI.Usng.v,iu=at.Type.v,j2=at.Shp;if(at.Nm)a9=at.Nm.v;if(j2==null){var fH=k.uM(),cQ=fH[0],fE=fH[1];
if(fE.length!=0&&cQ[fE[0]].Sp<0){var cj=cQ[fE[0]].add;G.add.vmsk=cj.vmsk.clone();G.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));
G.add.vogk=JSON.parse(JSON.stringify(cj.vogk));k.yI=[]}else G.v=D.WX.akR(k)}else{G.add.vmsk=new p.Ew;
G.add.vstk=JSON.parse(JSON.stringify(at.strokeStyle?at.strokeStyle.v:iZ.X9.default));G.add.vogk=[];if(j2){var gH=_.X.z3(j2);
if(gH){G.add.vogk=[gH];G.add.vmsk.a.push({type:0,dJ:1,length:0});_.X.KI(G.add.vogk,G.add.vmsk)}else{j2=j2.v;
var ar=j2.classID;if(ar=="Plgn"){var en=j2.Cntr.v,ck=j2.corner.v;en=new bJ(en.Hrzn.v.val,en.Vrtc.v.val);
ck=new bJ(ck.Hrzn.v.val,ck.Vrtc.v.val);G.add.vmsk.a=_.w.qA.L6(en.x,en.y,Math.sqrt(ck.x*ck.x+ck.y*ck.y),Math.atan2(ck.y,ck.x),j2.sides.v,0)}else if(ar=="customShape"){var fk=_.X.qZ(j2),iz=fk[2]-fk[0],a5=fk[3]-fk[1],av=d.y6,jL,jR;
for(var m=0;m<av.length;m++)if(av[m].xX==j2.Nm.v)jL=av[m];if(jL){jR=p.Ew.q7(jL.a);_.w.cs(jR,new d3(iz,0,0,a5,fk[0],fk[1]))}else jR=_.w.qA.Rect(fk[0],fk[1],iz,a5,0);
G.add.vmsk.a=jR}G.Ko()}}}var eM={solidColorLayer:0,gradientLayer:1,patternLayer:2}[iu.classID],j6=["SoCo","GdFl","PtFl"][eM];
G.add[j6]=JSON.parse(JSON.stringify(iZ.IS[eM]));if(eM==0)G.add[j6].Clr.v=_.M.UF(_.cq(d.p2));D.WX._S(iu,G.add[j6],eM);
if(j2==null)je=d9.get([6,48,0,eM]);if(j6=="PtFl"){var eB=G.add[j6].Ptrn.v,aV=bs.Mi(eB,d.A6);if(aV==null)aV=bs.Mi(eB,k.add.Patt);
eB.Idnt.v=aV.id;k.Lj(aV)}G.bD(k)}var fv=D.WX.sa(k,je+" ");G.mP(je+" "+(fv+1));if(a9)G.mP(a9);var hJ=k.g.length==0?k.d.length-1:k.g[k.g.length-1],eV=k.d[hJ];
if(b==p.LQ&&eV.eT()&&eV.rect.on()){gq=!0;G.mP(eV.getName());hT=hJ}else{hT=hJ+(b==p.IX&&e&&!j?0:1);if(eV&&eV.add.lsct==cK.TD)hT--}if(g.aeZ)hT=Math.max(0,hT-1);
var dG=k.d.slice(0);if(b==p.Za){var bS=dG[k.g[0]]=dG[k.g[0]].clone(),h4=k.J.channel.slice(0);_.TY(h4);
_.Wy(h4,k.J.rect,bS.buffer,bS.rect)}dG.splice(hT,gq?1:0,G);var aP=[5,2];if(b==p.IX)aP=[6,13];if(b==p.pY)aP=[6,1];
if(b==p.LQ){aP=[6,48,1];var j2=g.fV.Usng.v.Shp;if(j2){var eQ={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[j2.v.classID];
if(eQ)aP=eQ}}if(f$){aP=[6,49,b==p.d8?0:1]}if(f$||b==p.LQ||b==p.Fx||b==p.pY)if(k.J)hp=[k.J,null];var v=new cc(aP,this);
v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:[hT],u5:hp};k.DU(v);this.qw(v.data,k);if(b==p.LQ&&j2==null&&eM!=0||b==p.pY){var $=new jB(N.E.s);
$.data={P:N.b.jz,Pv:dv.PD.R9};o.S($)}}if(b==p.hX){var G=k.Qf(),je=d9.get([0,4]),fv=D.WX.sa(k,je+" ");
G.mP(je+" "+(fv+1));G.HW="pass";G.add.lsct=cK.TD;G.b_=24;if(g.R3)G.mP(g.R3);if(g.EW!=null)G.add.lclr=g.EW;
var fC=k.L0(),hJ=T,hT=hJ+(e?0:1),dG=k.d.slice(0);dG.splice(hT,0,fC,G);var v=new cc([6,20],this);v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:[hT+1]};
k.DU(v);this.qw(v.data,k)}if(b==p.KG||b==p.m7){var he=b==p.KG?g.source:k.g[0],i$,ib,b_=k.g.indexOf(he)!=-1,g6=t|g.ahr,jx,b0=null;
if(b_)jx=k.Kq();else jx=k.a4(he);jx.sort(function(v,kp){return v-kp});if(b==p.KG){i$=g.target;ib=g.oG>.5}else if(g.target!=null){i$=Math.min(g.target,k.d.length-1);
ib=g.target<k.d.length;k.Cn=!0}else{var bP=g.cL;ib=bP>1;if(bP==0){i$=k.d.length-1}if(bP==1){i$=jx[jx.length-1]+1;
var w=k.a4(i$);if(w.indexOf(he)==-1)i$+=w.length-1}if(bP==2){i$=jx[0]-1;var w=k.a4(i$);if(w.indexOf(he)==-1)i$-=w.length-1}if(bP==3){i$=0;
if(k.d[0].add.lnsr=="bgnd")i$++}if(i$<0||i$>k.d.length-1)return;k.Cn=!0}if(jx.indexOf(i$)!=-1&&!g6)return;
var b5=D.WX.z5(k,jx,i$,ib,g6?k.E2(b_?null:he):null,b==p.KG&&g.oG>.8),dI=b5.pop(),j5=b5.pop(),dG=b5.pop(),eK=k.g;
k.g=[he];var ab=k.wI();k.g=[i$];var ba=k.wI();if(ba==i$&&!ib)ba=-1;k.g=eK;if(he==ab){}else if(ab!=ba){var b0=new bJ(0,0);
if(ab!=-1){var bB=k.d[ab].xB();b0.x-=bB.x;b0.y-=bB.y}if(ba!=-1){var bB=k.d[ba].xB();b0.x+=bB.x;b0.y+=bB.y}}var v=new cc(g6?[6,0]:[6,35],this);
v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:j5,y3:b0};k.DU(v);this.qw(v.data,k);var gI={classID:"move",null:c_.lF("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:dI+(ib?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:g6}};
this.track({J5:"move",fV:gI})}if(b==p.Pw){if(g.CI){if(a==null||!a.gT())return;var R=k.root.St(T),g$=k.d.indexOf(R.awN),dG=k.d.slice(0);
dG.splice(T,1);dG.splice(g$,1);var j5=[];for(var m=g$;m<T-1;m++)j5.push(m);var v=new cc("Ungroup Layers",this);
v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:j5};k.DU(v);this.qw(v.data,k)}else{var G=k.Qf(),jn=d9.get([0,4])+" ";
G.mP(jn+(D.WX.sa(k,jn)+1));G.HW="pass";if(g.R3)G.mP(g.R3);if(g.EW!=null)G.add.lclr=g.EW;G.add.lsct=k.g.length==1?cK.TD:cK.E5;
G.b_=24;var fC=k.L0(),jx=k.Kq();if(jx.length==0)return;jx.sort(function(v,kp){return v-kp});var dG=[];
for(var m=0;m<k.d.length;m++)if(jx.indexOf(m)==-1)dG.push(k.d[m]);var hJ=k.g[k.g.length-1]-jx.length;
dG.splice(hJ+1,0,fC);for(var m=0;m<jx.length;m++)dG.splice(hJ+2+m,0,k.d[jx[m]]);dG.splice(hJ+2+jx.length,0,G);
var v=new cc([6,9],this);v.data={P:p.cI,No:k.d.slice(0),ze:dG,wL:k.g.slice(0),Dj:[dG.indexOf(G)]};k.DU(v);
this.qw(v.data,k);var F={J5:"make",Qa:!0};F.fV={classID:"Mk",null:c_.lF("layerSection"),From:c_.lF("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:G.getName()}}}};
this.track(F)}}if(b==p.aru){if(k.g.length!=1)return;var q=k.g[0],c8=t;if(k.d[q].Qp()==null&&!y.z(dj.IQ)){b=p.vL;
g.fE=k.J?!c8?"RvlS":"HdSl":!c8?"RvlA":"HdAl"}else{b=p.sk;g.agb=!0}}if(b==p.vL){if(k.g.length!=1)return;
var q=k.g[0],G=k.d[q];if(G.add.vmsk&&G.v==null)G.bD(k);var ha=G.Qp();if(ha==null||g.agE){var v=new cc([6,21],this),j1=new p.GE,bE=g.fE,iq=bE=="RvlS"||bE=="HdSl";
if(bE=="RvlS"||bE=="HdAl"||bE=="Trns")j1.color=0;if(iq){j1.channel=k.J.channel.slice(0);j1.rect=k.J.rect.clone();
if(bE=="HdSl")_.TY(j1.channel)}if(bE=="Trns"){j1.rect=G.rect.clone();j1.channel=_.Q(G.rect.O());_.B4(G.buffer,j1.channel,3)}v.data={P:p.ne,fb:[q,ha,j1],u5:iq?[k.J,null]:null};
k.DU(v);this.qw(v.data,k);k.d[q].W1=1;this.track({J5:"make",fV:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:bE}}}})}}else if(b==p.amJ){var iv=k.d[g.src],aQ=k.d[g.qN],v=new cc([6,21],this),h$=iv.Qp(),jN=aQ.Qp(),j9=[g.src,h$,null,g.qN,jN,h$];
if(t||j){var fs=h$.clone();if(t)j9=[g.qN,jN,fs];else j9[5]=fs;if(j){_.TY(fs.channel);fs.color=255-fs.color}}v.data={P:p.ne,fb:j9};
k.DU(v);this.qw(v.data,k)}if(b==p.K7){if(k.g.length!=1)return;var q=T,cf=k.d[q].Qp();if(cf!=null){var v=new cc([6,22],this);
v.data={P:p.ne,fb:[T,cf,null]};k.DU(v);this.qw(v.data,k)}}if(b==p.le){var bQ=k.d.slice(0),gg=a.clone(),i4=gg.Qp();
_.Wy(i4.aq(gg.rect),gg.rect,gg.buffer,gg.rect);D.WX.vo(k,gg);gg.xO();k.d[k.g[0]]=gg;var v=new cc([5,8],this);
v.data={P:p.cI,No:bQ,ze:k.d.slice(),wL:k.g.slice(0),Dj:k.g.slice(0)};k.DU(v);this.qw(v.data,k)}if(b==p.qE){if(k.g.length!=1)return;
var q=k.g[0];if(k.d[q].lQ(k).v==null){var v=new cc([6,45],this);v.data={P:b,i:q,v:new p.GE};k.DU(v);
this.qw(v.data,k)}}if(b==p.eI){if(k.g.length!=1)return;var q=k.g[0];if(k.d[q].lQ(k).v!=null){var v=new cc([6,46],this);
v.data={P:b,i:q,v:k.d[q].lQ(k).v};k.DU(v);this.qw(v.data,k)}}if(b==p.OB){if(g.src==null&&k.g.length!=1)return;
if(g.src!=null)T=g.src;if(k.d[T].wg()){var v=new cc([6,47],this),aW=JSON.stringify(k.d[T].add.SoLd),be=JSON.parse(aW);
delete be.filterFX;v.data={P:p.LB,UE:[{Fe:T,p_:[aW,JSON.stringify(be)],eE:[k.d[T].lQ(k),null]}]};k.DU(v);
this.qw(v.data,k)}}if(b==p.sk){if(k.g.length!=1)return;if(a.add.vmsk==null){var v=new cc([6,23],this),cq=k.uM(),jS=cq[1],cq=cq[0],j1,gH;
if(g.agb&&jS.length!=0){var cj=cq[jS[0]].add;j1=cj.vmsk.clone();gH=cj.vogk}else{j1=new p.Ew;gH=[];j1.a[1].all=g.aie?0:1}v.data={P:b,i:T,IA:!0,v:j1,X:JSON.stringify(gH),X9:null};
if(a.JW()){v.data.X9=JSON.stringify(iZ.X9.default)}k.DU(v);this.qw(v.data,k)}}if(b==p.U8){var iv=k.d[g.src],aQ=k.d[g.qN];
if(aQ.add.vmsk)return;var v=new cc([6,23],this),jF=iv.add.vmsk;v.data={i:g.qN,IA:iv.j6,v:jF.clone(),X:JSON.stringify(iv.add.vogk),X9:iv.add.vstk?JSON.stringify(iv.add.vstk):null};
if(t){v.data.P=p.sk}else{v.data.P=b;v.data.src=g.src;v.data.qN=g.qN}k.DU(v);this.qw(v.data,k)}if(b==p.vc||b==p.Rg){if(k.g.length!=1)return;
var G=k.d[T],jF=G.add.vmsk;if(jF!=null){var fK=b==p.Rg,v=new cc(fK?[6,8]:[6,24],this);v.data={P:p.vc,i:T,IA:G.j6,v:jF,X:JSON.stringify(G.add.vogk),X9:G.add.vstk?JSON.stringify(G.add.vstk):null};
if(fK){v.data.v7=jF.Qp(G.add.vstk)}k.DU(v);this.qw(v.data,k)}}if(b==p.mM){var v=new cc("Metadata",this);
v.data={P:b,wQ:JSON.stringify(k.Vq),Yn:JSON.stringify(g.Yn)};k.DU(v);this.qw(v.data,k)}if(b==p.n1){var dJ=g.qN?g.qN:k,hu=dJ.name,a9=g.Z+".psd";
if(hu==a9)return;var v=new cc([6,37],this);v.data={P:b,at0:hu,R3:a9};if(g.ah1!=!0)dJ.DU(v);this.qw(v.data,dJ)}if(b==p.Ne&&g.cL.endsWith("makeframes")){var iD=[],d7=g.cL.startsWith("make");
for(var m=0;m<k.g.length;m++){var n=k.g[m],G=k.d[n],hj=G.getName(),h6=hj.startsWith("_a_");if(d7==h6||G.add.lsct==cK.ZG)continue;
var js=d7?"_a_"+hj:hj.slice(3);iD.push([n,hj,js,G.add.lnsr,null])}var v=new cc([6,37],this);v.data={P:p.$S,Q6:iD};
k.DU(v);this.qw(v.data,k)}if(b==p.$S){var hu=a.getName(),a9=g.name.substring(0,255);if(hu==a9)return;
var v=new cc([6,37],this);v.data={P:b,Q6:[[T,hu,a9,a.add.lnsr,null]]};k.DU(v);this.qw(v.data,k);this.track(c_._6("Nm",{t:"TEXT",v:a9}))}if(b==p.g0){var dA=k.Kq(),jr=[],fW=[];
for(var m=0;m<dA.length;m++){jr.push(k.d[dA[m]].add.lclr);fW.push(g.adk)}var v=new cc([6,38],this);v.data={P:b,d:dA,a84:jr,EW:fW};
k.DU(v);this.qw(v.data,k)}if(b==p.TE){var v=k.history[k.mQ];if(v!=null&&v.G==this&&v.data.P==b&&v.data.i==g.ls&&v.data.M$.TO==g.KV.TO)v.data.M$=g.KV;
else{v=new cc("Mask Density / Feather",this);v.data={P:b,i:g.ls,Ad:k.d[g.ls].gS(g.KV.TO),M$:g.KV};k.DU(v)}this.qw(v.data,k)}if(b==p.jj){var cU=JSON.stringify(g.Z),aZ=JSON.parse(cU),v=k.history[k.mQ];
if(v!=null&&v.G==this&&v.data.P==b&&v.data.LO==g.LO&&v.data.i0.join(",")==g.i0.join(",")){for(var m=0;
m<g.i0.length;m++)v.data.Hx[m]=aZ;if(v.data.fV&&aZ.uF!=0)D.WX._S(aZ.si,v.data.fV.T.v,aZ.uF-1)}else{v=new cc([11,6],this);
v.data={P:b,i0:g.i0,LO:g.LO,a2M:[],Hx:[]};var f5=!1;for(var m=0;m<g.i0.length;m++){var n=g.i0[m],G=k.d[n],fx=g.LO?D.hz.$H(k,n):JSON.parse(JSON.stringify(G.add.vstk));
v.data.a2M.push(fx);v.data.Hx.push(aZ);if(JSON.stringify(fx)!=cU)f5=!0}if(!f5)return;k.DU(v);if(g.LO&&aZ.uF>0){var gI=v.data.fV={classID:"setd",null:c_.lF("contentLayer",!0),T:{t:"Objc",v:{}}};
D.WX._S(aZ.si,gI.T.v,aZ.uF-1);this.track({J5:"set",fV:gI})}}if(g.LO&&aZ.uF==3)k.Lj(bs.Mi(aZ.si.Ptrn.v,d.A6));
if(!g.LO){var e6=aZ.strokeStyleContent.v;if(e6.classID==iZ.X9.V8[2])k.Lj(bs.Mi(e6.Ptrn.v,d.A6))}this.qw(v.data,k)}};
D.WX.z5=function(g,o,k,y,d,b){var T=g.d[k],a=[];if(d)a=g.d.slice(0);else for(var m=0;m<g.d.length;m++)if(o.indexOf(m)==-1)a.push(g.d[m]);
var t=a.indexOf(T);if(b&&T.gT()&&T.add.lsct==cK.E5)t-=g.a4(k).length-1;var j=[];for(var m=0;m<o.length;
m++){var e=t+(y?0:1)+m,v=d?d[m]:g.d[o[m]];a.splice(e,0,v);j.push(e)}return[a,j,t]};D.WX._S=function(g,o,k){var y=[iZ.ho,iZ.GY,iZ.eQ][k];
if(o.classID==null)o.classID=["solidColorLayer","gradientLayer","patternLayer"][k];for(var m=0;m<y.length;
m++)if(g[y[m]])o[y[m]]=JSON.parse(JSON.stringify(g[y[m]]))};D.WX.akR=function(g){var o=new p.GE;if(g.J!=null){o.color=0;
o.channel=g.J.channel.slice(0);o.rect=g.J.rect.clone()}return o};D.WX.gD=function(g,o,k,y,d){var b=y.m/k.m,T=y.n/k.n,a=y.m/2,t=y.n/2,j=_.p.rN(y).j;
for(var m=0;m<g.d.length;m++){var e=g.d[m],v=e.add.SoLd;if(v==null||v.Idnt.v!=o)continue;if(b!=1||T!=1){var L=D.C8.bh(v.nonAffineTransform),H=_.K.VH(L,y),w=new d3;
w.translate(-a,-t);w.scale(b,T);w.translate(a,t);var P=_.K.x7(H,_.K.bn(w)),Q=j.slice(0);_.K.D(P,Q);v.Trnf=D.C8.sY(Q);
v.nonAffineTransform=D.C8.sY(Q);if(_.uR.VV(v.warp.v)){var x=v.warp.v.bounds.v;x.Rght.v.val=y.m;x.Btom.v.val=y.n}}e.tq(g,null,d)}g.U()};
D.WX.ad5=function(g,o,k){o.color=255-o.color;_.TY(o.channel);o.WP=!0;g.bD(k);k.U()};D.WX.prototype.YZ=function(g,o){var k=g.P,y=o.d[g.i];
o.Qr=!0;if(k==p.ER){o.add.lnk2.splice(o.add.lnk2.indexOf(g.By),1,g.Lg);D.WX.gD(o,g.id,g.By.IG[1],g.Lg.IG[1])}if(k==p.Wd){y.add.SoLd.Impr.v.classID=g.Ad;
y.tq(o)}if(k==p.FV){var d=JSON.parse(g.i0);for(var m=0;m<d.length;m++)o.d[d[m]].HW=g.dQ[m];o.U()}if(k==p._z){var d=JSON.parse(g.i0);
for(var m=0;m<d.length;m++)o.d[d[m]].opacity=g.dQ[m];o.U()}if(k==p.hw){var d=JSON.parse(g.i0);for(var m=0;
m<d.length;m++)if(o.d[d[m]].add.lsct!=cK.ZG)o.d[d[m]].add.lspf=g.dQ[m]}if(k==p.f1){var b=g.eH,T=g.a9a;
delete y.add[b[0]];if(T[0]!="----")y.add[T[0]]=T[1]}if(k==p.t0){y.add.iOpa=g.dQ;o.U()}if(k==p.HF){for(var m=0;
m<g.i0.length;m++){var a=o.d[g.i0[m]];a.qj(!a.oa())}o.U()}if(k==p.Dy){var t=y.Qp();t.isEnabled=!t.isEnabled;
y.bD(o);o.U()}if(k==p.$$){var t=y.lQ(o).v;t.isEnabled=!t.isEnabled;y.U();o.U()}if(k==p.AW){var t=y.add.vmsk;
t.isEnabled=!t.isEnabled;if(!t.isEnabled){if(y.v7){y.v=y.v7;y.v7=null}else y.v=null}else if(y.v){y.v7=y.v;
y.v=null}y.bD(o);o.U()}if(k==p.Uq){y.Le=!y.Le;o.U()}if(k==p.yv){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.Of.B3=!0;o.U()}if(k==p.wM){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.jo(o);o.U()}if(k==p.zn){var j=g.index,e=y.add.lmfx[iZ.pW[j[0]]].v[j[1]].v;
e.enab.v=!e.enab.v;y.Of.B3=!0;o.U()}if(k==p.jM){var v=o.d[g.ou],L=o.d[g.hM],H=g.a7r,w=g.a5w;if(H=="")delete v.add.lmfx;
else v.add.lmfx=JSON.parse(H);if(w=="")delete L.add.lmfx;else L.add.lmfx=JSON.parse(w);v.Of.B3=!0;L.Of.B3=!0;
o.U()}if(k==p.BV){var P=y.add.SoLd.filterFX.v.filterFXList.v[g.index].v;P.enab.v=!P.enab.v;y.jo(o);o.U()}if(k==p.anS){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(g.aju));
y.jo(o);o.U()}if(k==p.n4){var t=y.Qp();t.zi=!t.zi}if(k==p.tC){var t=y.add.vmsk;t.zi=!t.zi}if(k==p.Jw){var Q=JSON.parse(g.azb);
o.t_=Q[0];o.S0=Q[1]}if(k==p.i$){var Q=g.Dm;for(var m=0;m<Q.length;m+=2){var x=Q[m],a=x>=0?o.d[x]:o.p8[-1-x];
a.add.vogk=JSON.parse(Q[m+1]);_.X.KI(a.add.vogk,a.add.vmsk);if(x>=0)a.bD(o)}o.U()}if(k==p._F){y.add.artb=JSON.parse(g.aov);
o.U();D.Wz.Wp(o,g)}if(k==p.UU){o.J=g.J2;o.Tm=g.Dm.slice(0);o.kD=g.gB.slice(0);o.nM=o.pP=!0}if(k==p.kH){y.o4=!y.o4}if(k==p.Fj){var F=g.anq;
for(var m=0;m<F.length;m++)o.d[m].Pu=F[m]}if(k==p.cI){if(g.y3)D.Bt.W5(o,o.g,null,-g.y3.x,-g.y3.y);if(g.wL)o.g=g.wL;
if(g.u5)o.J=g.u5[0];o.wW=null;o.U();o.x8(g.No);D.Wz.Wp(o,g);if(g.Dl)o.uZ(g.Dl[0])}if(k==p.ne){for(var m=0;
m<g.fb.length;m+=3)D.WX.vo(o,o.d[g.fb[m]],g.fb[m+1]);if(g.u5){var E=g.u5[0];if(E==null)delete o.J;else o.J=E}}if(k==p.qE){y.lQ(o).v=null;
y.U();o.U()}if(k==p.eI){y.lQ(o).v=g.v;y.U();o.U()}if(k==p.LB){D.WX.acp(o,g.UE,0)}if(k==p.sk){D.WX.ez(o,y,!0)}if(k==p.U8){D.WX.ez(o,o.d[g.qN],g.v.isEnabled);
D.WX.eK(o,o.d[g.src],g)}if(k==p.vc){if(g.v7)D.WX.vo(o,y,null);D.WX.eK(o,y,g)}if(k==p.mM){o.Vq=JSON.parse(g.wQ)}if(k==p.n1){o.name=g.at0}if(k==p.$S){for(var m=0;
m<g.Q6.length;m++){var f=g.Q6[m],a=o.d[f[0]];a.mP(f[1]);if(f[3])a.add.lnsr=f[3];else delete a.add.lnsr}}if(k==p.g0){for(var m=0;
m<g.d.length;m++)o.d[g.d[m]].add.lclr=g.a84[m]}if(k==p.jj){var c=g.a2M;for(var m=0;m<g.i0.length;m++){var a=o.d[g.i0[m]],M=c[m];
if(!g.LO)a.add.vstk=JSON.parse(JSON.stringify(M));else D.hz.G_(a,JSON.parse(JSON.stringify(M)));a.vJ(o)}o.U()}if(k==p.TE){y.aeJ(g.Ad);
y.bD(o);o.U()}o.pP=!0};D.WX.prototype.qw=function(g,o){var k=g.P,y=o.d[g.i];o.Qr=!0;if(k==p.ER){o.add.lnk2.splice(o.add.lnk2.indexOf(g.Lg),1,g.By);
D.WX.gD(o,g.id,g.Lg.IG[1],g.By.IG[1])}if(k==p.Wd){y.add.SoLd.Impr.v.classID=g.M$;y.tq(o)}if(k==p.FV){var d=JSON.parse(g.i0);
for(var m=0;m<d.length;m++)o.d[d[m]].HW=g.M$;o.U()}if(k==p._z){var d=JSON.parse(g.i0);for(var m=0;m<d.length;
m++)o.d[d[m]].opacity=g.M$;o.U()}if(k==p.hw){var d=JSON.parse(g.i0);for(var m=0;m<d.length;m++)if(o.d[d[m]].add.lsct!=cK.ZG)o.d[d[m]].add.lspf=g.M$[m]}if(k==p.f1){var b=g.a9a,T=g.eH;
delete y.add[b[0]];if(T[0]!="----")y.add[T[0]]=T[1]}if(k==p.t0){y.add.iOpa=g.M$;o.U()}if(k==p.HF){for(var m=0;
m<g.i0.length;m++){var a=o.d[g.i0[m]];a.qj(!a.oa())}o.U()}if(k==p.Dy){var t=y.Qp();t.isEnabled=!t.isEnabled;
y.bD(o);o.U()}if(k==p.$$){var t=y.lQ(o).v;t.isEnabled=!t.isEnabled;y.U();o.U()}if(k==p.AW){var t=y.add.vmsk;
t.isEnabled=!t.isEnabled;if(!t.isEnabled){if(y.v7){y.v=y.v7;y.v7=null}else y.v=null}else if(y.v){y.v7=y.v;
y.v=null}y.bD(o);o.U()}if(k==p.Uq){y.Le=!y.Le;o.U()}if(k==p.yv){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.Of.B3=!0;o.U()}if(k==p.wM){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.jo(o);o.U()}if(k==p.zn){var j=g.index,e=y.add.lmfx[iZ.pW[j[0]]].v[j[1]].v;
e.enab.v=!e.enab.v;y.Of.B3=!0;o.U()}if(k==p.jM){var v=o.d[g.ou],L=o.d[g.hM],H=g.a4y,w=g.a0K;if(H=="")delete v.add.lmfx;
else v.add.lmfx=JSON.parse(H);if(w=="")delete L.add.lmfx;else L.add.lmfx=JSON.parse(w);v.Of.B3=!0;L.Of.B3=!0;
o.U()}if(k==p.BV){var P=y.add.SoLd.filterFX.v.filterFXList.v[g.index].v;P.enab.v=!P.enab.v;y.jo(o);o.U()}if(k==p.anS){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(g.afQ));
y.jo(o);o.U()}if(k==p.n4){var t=y.Qp();t.zi=!t.zi}if(k==p.tC){var t=y.add.vmsk;t.zi=!t.zi}if(k==p.Jw){var Q=JSON.parse(g.afq);
o.t_=Q[0];o.S0=Q[1]}if(k==p.i$){var Q=g.Ap;for(var m=0;m<Q.length;m+=2){var x=Q[m],a=x>=0?o.d[x]:o.p8[-1-x];
a.add.vogk=JSON.parse(Q[m+1]);_.X.KI(a.add.vogk,a.add.vmsk);if(x>=0)a.bD(o)}o.U()}if(k==p._F){y.add.artb=JSON.parse(g.zD);
o.U();D.Wz.aI(o,g)}if(k==p.UU){o.J=g.A2;o.Tm=g.Ap.slice(0);o.kD=g.vz.slice(0);o.nM=o.pP=!0}if(k==p.kH){y.o4=!y.o4}if(k==p.Fj){var F=g.a3o;
for(var m=0;m<F.length;m++)o.d[m].Pu=F[m]}if(k==p.cI){o.ar$();var E=g.ze,f=0,c;for(var m=0;m<E.length;
m++){var a=E[m],M=a.add.lsct;if(M==cK.ZG)f++;else if(M==cK.TD||M==cK.E5)f--;if(a.add.artb&&f!=0)c="Artboards can not be inside folders."}if(c){o.history.pop();
o.mQ--;alert(c);return}D.Wz.aI(o,g);if(g.Dj)o.g=g.Dj;if(g.u5)o.J=g.u5[1];o.wW=null;o.U();o.x8(g.ze);
if(g.y3)D.Bt.W5(o,o.g,null,g.y3.x,g.y3.y);if(g.Dl)o.uZ(g.Dl[1])}if(k==p.ne){for(var m=0;m<g.fb.length;
m+=3)D.WX.vo(o,o.d[g.fb[m]],g.fb[m+2]);if(g.u5){var n=g.u5[1];if(n==null)delete o.J;else o.J=n}}if(k==p.qE){y.lQ(o).v=g.v;
y.W1=0;y.U();o.U()}if(k==p.eI){y.lQ(o).v=null;y.W1=0;y.U();o.U()}if(k==p.LB){D.WX.acp(o,g.UE,1)}if(k==p.sk){D.WX.eK(o,y,g)}if(k==p.U8){D.WX.ez(o,o.d[g.src],g.v.isEnabled);
D.WX.eK(o,o.d[g.qN],g)}if(k==p.vc){D.WX.ez(o,y,g.v.isEnabled);if(g.v7)D.WX.vo(o,y,g.v7)}if(k==p.mM){o.Vq=JSON.parse(g.Yn)}if(k==p.n1){o.name=g.R3}if(k==p.$S){for(var m=0;
m<g.Q6.length;m++){var X=g.Q6[m],a=o.d[X[0]];a.mP(X[2]);if(X[4])a.add.lnsr=X[4];else delete a.add.lnsr}}if(k==p.g0){for(var m=0;
m<g.d.length;m++)o.d[g.d[m]].add.lclr=g.EW[m]}if(k==p.jj){var u=g.Hx;for(var m=0;m<g.i0.length;m++){var a=o.d[g.i0[m]],I=u[m];
if(!g.LO)a.add.vstk=JSON.parse(JSON.stringify(I));else D.hz.G_(a,JSON.parse(JSON.stringify(I)));a.vJ(o)}o.U()}if(k==p.TE){y.aeJ(g.M$);
y.bD(o);o.U()}o.pP=!0};D.WX.sa=function(g,o){var k=0;for(var m=0;m<g.d.length;m++){var y=g.d[m].getName();
if(y.startsWith(o)){var d=y.slice(o.length).trim(),b=parseInt(d);if(!isNaN(b)&&b+""==d&&b>k)k=b}}return k};
D.WX.acp=function(g,o,k){for(var m=0;m<o.length;m++){var y=o[m],d=g.d[y.Fe];if(y.p_){d.add.SoLd=JSON.parse(y.p_[k])}if(y.eE){if(y.eE[1-k]!=null)g.Am(y.eE[1-k]);
if(y.eE[k]!=null)g.YY(y.eE[k]);else d.W1=0}d.tq(g)}};D.WX.a15=function(g,o){var k=g.QT,y=g.rect.clone();
if(k!=null&&(k.x!=o.m||k.y!=o.n)){y.x=Math.floor((o.m-y.m)/2);y.y=Math.floor((o.n-y.n)/2)}else if(k==null){var d=new bd(0,0,o.m,o.n),b=o.wI();
if(b!=-1)d=o.d[b].xB();y.x+=d.x;y.y+=d.y}return y};D.WX.axk=function(g,o){if(o.v7)o.v7=null;else o.v=null;
o.bD(g);g.U();o.W1=0};D.WX.vo=function(g,o,k){var y=o.Qp();if(y==null&&k==null)return;if(y)D.WX.axk(g,o);
if(k==null)return;if(o.v)o.v7=k;else o.v=k;o.bD(g);g.U()};D.WX.ez=function(g,o,k){if(o.v7&&k){o.v=o.v7;
o.v7=null}else if(o.v&&k){o.v=null}delete o.add.vogk;delete o.add.vstk;delete o.add.vmsk;o.bD(g);o.j6=!1;
g.wW=[];g.U()};D.WX.eK=function(g,o,k){o.add.vogk=JSON.parse(k.X);if(k.X9)o.add.vstk=JSON.parse(k.X9);
else delete o.add.vstk;o.add.vmsk=k.v.clone();if(o.v&&o.add.vmsk.isEnabled)o.v7=o.v;o.bD(g);o.j6=k.IA;
g.wW=[g.d.indexOf(o)];g.yI=[];g.U()};D.Wn=function(){D.L8.call(this,"Layer Styles",D.sp);this.Dw=null;
this.yH=null;this.TW=null;this.GZ=[];this.iT=null};D.Wn.prototype=new D.L8;D.Wn.prototype.Ae=function(g,o,k,y,d){var b=g.i;
if(b==null)b=k.g[0];var T=k.d[b],a=g.Sp;if(this.Dw==null){this.TW=D.Wn.aO(k,T);this.Dw=JSON.stringify(this.TW);
if(T.add.lmfx)this.yH=JSON.stringify(T.add.lmfx)}if(T.add.lmfx==null){T.add.lmfx=JSON.parse(iZ.default);
for(var m=0;m<iZ.order.length;m++)T.add.lmfx[iZ.pW[m]]={t:"VlLs",v:[]}}if(g.P=="scaleeffects"){if(g.Z=="confirm"||g.Z=="cancel"){this.Ae({P:g.Z},o,k,y,d);
return}T.add.lmfx=JSON.parse(this.yH);bs.UQ(T.add.lmfx,g.Z/100)}else if(g.P=="changeprop"){var t=null;
if(a!=0){var j=this.GZ[a[0]];if(j==null)j=iZ.GZ[a[0]];j=JSON.parse(j);var e=T.add.lmfx[iZ.pW[a[0]]].v;
if(e[a[1]]==null)e[a[1]]={t:"Objc",v:j};t=e[a[1]].v;for(var v in j)if(t[v]==null)t[v]=j[v]}if(g.P=="changeprop"){if(a==0){this.TW[g.P5].v=g.Z;
D.Wn.j8(k,T,this.TW)}else if(g.P5=="lagl"){if(t.uglg&&t.uglg.v){k.pm(g.Z.val);this.TW.gagl.v.val=k.rl()}else t[g.P5].v=g.Z}else if(g.P5=="Lald"){if(t.uglg.v){k.hj(g.Z.val);
this.TW.aiw=k.if()}else t[g.P5].v=g.Z}else if((a[0]==3||a[0]==8)&&(g.P5=="Clr"||g.P5=="Grad")){if(g.P5=="Clr"){t.Clr={t:"Objc",v:g.Z};
delete t.Grad}if(g.P5=="Grad"){t.Grad={t:"Objc",v:g.Z};delete t.Clr}}else{t[g.P5].v=g.Z}if(a!=0)this.GZ[a[0]]=JSON.stringify(t)}if(a!=0)if(t.Ptrn)k.Lj(bs.Mi(t.Ptrn.v,d.A6))}else if(g.P=="setstl"){var L=g.Z.Lefx;
if(L)bs.ake(L,k,d.A6);bs.adG(g.Z,T,null,k);this.TW=D.Wn.aO(k,T)}else if(g.P=="st_dupsingle"){var H=T.add.lmfx[iZ.pW[g.bi[0]]].v;
if(H[g.bi[1]]==null)return;var w=JSON.parse(JSON.stringify(H[g.bi[1]]));H.splice(g.bi[1],0,w)}else if(g.P=="st_movsingle"){var P=g.bi[1],H=T.add.lmfx[iZ.pW[g.bi[0]]].v;
if(H[g.bi[1]]==null)return;var Q=Math.max(0,Math.min(H.length-1,P+g.axL)),x=H[Q];H[Q]=H[P];H[P]=x}else if(g.P=="cancel"){if(this.yH==null)delete T.add.lmfx;
else T.add.lmfx=JSON.parse(this.yH);D.Wn.j8(k,T,JSON.parse(this.Dw));this.Dw=null;this.yH=null}else if(g.P=="confirm"){var F=JSON.stringify(T.add.lmfx),E=new cc([11,6],this);
E.data={d:[b],JT:[this.yH],o6:[F],Oc:[this.Dw],GW:[JSON.stringify(this.TW)]};k.DU(E);this.Dw=null;this.yH=null;
if(F!=null){var f=JSON.parse(F);i_.dB(f);f.classID="Lefx";delete f.masterFXSwitch;var c=new jB(N.E.gp);
c.Yi=!0;c.data={J5:"set",Qa:!0};var M=c_.lF("Lyr",!0);M.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
c.data.fV={__name:"Set",classID:"setd",null:M,T:{t:"Objc",v:f}};o.S(c)}}else if(g.P=="st_copy"){this.iT=[this.Dw,this.yH];
this.Dw=null;this.yH=null}else if(g.P=="st_paste"||g.P=="st_clear"){if(g.P=="st_paste"&&this.iT==null)return;
var n=g.i!=null?[g.i]:k.g.slice(0),X=[],u=[],I=[],r=[];for(var m=0;m<n.length;m++){var T=k.d[n[m]],J=D.Wn.aO(k,T);
X.push(T.add.lmfx?JSON.stringify(T.add.lmfx):null);I.push(JSON.stringify(J));if(g.P=="st_paste"){u.push(this.iT[1]);
r.push(this.iT[0])}else{u.push(null);J.lrMd.v=0;J.Opct.v.val=100;J.iOpa.v.val=100;J.blIf={v:[]};for(var U=0;
U<10;U++)J.blIf.v.push(0,0,255,255);r.push(JSON.stringify(J))}}var E=new cc([11,6],this);E.data={d:n,JT:X,o6:u,Oc:I,GW:r};
this.qw(E.data,k);k.DU(E);this.Dw=null;this.yH=null}else{var K=this.TW,f=null;if(g.P=="st_delsingle"){f=JSON.parse(this.yH);
f[iZ.pW[g.bi[0]]].v.splice(g.bi[1],1);f=JSON.stringify(f)}if(f==null)delete T.add.lmfx;else T.add.lmfx=JSON.parse(f);
if(K!=null)D.Wn.j8(k,T,K);var E=new cc([11,6],this);E.data={d:[g.i],JT:[this.yH],o6:[f],Oc:[this.Dw],GW:[JSON.stringify(K)]};
k.DU(E);this.Dw=null;this.yH=null}T.Of.B3=!0;k.Qr=!0;k.U()};D.Wn.aO=function(g,o){if(o.add.iOpa==null)o.add.iOpa=255;
if(o.add.brst==null)o.add.brst=[1,1,1];var k=o.gT()?["pass"].concat(h8.re):h8.re;return{lrMd:{v:k.indexOf(o.HW)},Opct:{v:{type:"#Prc",val:Math.round(o.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(o.add.iOpa*100/255)},t:"UntF"},blIf:{v:o.kC.slice(0)},brst:{v:o.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:g.rl()}},aiw:g.if(),gT:o.gT()}};
D.Wn.j8=function(g,o,k){var y=o.gT()?["pass"].concat(h8.re):h8.re;o.HW=y[k.lrMd.v];o.opacity=Math.round(k.Opct.v.val*255/100);
o.add.iOpa=Math.round(k.iOpa.v.val*255/100);o.kC=k.blIf.v.slice(0);o.add.brst=k.brst.v.slice(0);g.pm(k.gagl.v.val);
g.hj(k.aiw)};D.Wn.prototype.YZ=function(g,o){for(var m=0;m<g.d.length;m++){var k=o.d[g.d[m]],y=g.JT[m];
if(y==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(y);D.Wn.j8(o,k,JSON.parse(g.Oc[m]));k.Of.B3=!0}o.Qr=!0;
o.U()};D.Wn.prototype.qw=function(g,o){for(var m=0;m<g.d.length;m++){var k=o.d[g.d[m]],y=g.o6[m];if(y==null)delete k.add.lmfx;
else k.add.lmfx=JSON.parse(y);D.Wn.j8(o,k,JSON.parse(g.GW[m]));k.Of.B3=!0}o.Qr=!0;o.U()};D.h8=function(){D.L8.call(this,"Layer Comps",D.ka)};
D.h8.prototype=new D.L8;D.h8.prototype.Ae=function(g,o,k,y){var d=JSON.parse(JSON.stringify(k.M9)),b=JSON.parse(JSON.stringify(k.M9)),T=null,a=null,t=null,j=-1,e=!1;
if(g.P=="delLC"){var v=D.h8.R2(k.M9,g.Sp),L=k.M9.lastAppliedComp?k.M9.lastAppliedComp.v:0;b.list.v.splice(v,1);
if(L==g.Sp)delete b.lastAppliedComp;T="Delete Layer Comp"}if(g.P=="editLC"){var v=D.h8.R2(k.M9,g.Sp),H=b.list.v[v].v;
if(g.R3!=null)H.Nm.v=g.R3;if(g.a3q!=null){var w=g.a3q,P=H.capturedInfo.v,Q=P&(1<<w)-1;P=P>>w;if((P&1)==1)P--;
else P++;H.capturedInfo.v=(P<<w)+Q}T="Layer Comp properties"}if(g.P=="setLC"){D.h8.U4(k);if(g.Sp==0)delete b.lastAppliedComp;
else b.lastAppliedComp={t:"long",v:g.Sp};T="Switch Layer Comp";e=!0}if(g.P=="updLC"){D.h8.U4(k);a=D.h8.aj8(k,g.Sp);
t=D.h8.mc(k,g.Sp);b.lastAppliedComp={t:"long",v:g.Sp};T="Update Layer Comp";j=g.Sp;e=!0}if(g.P=="addLC"){D.h8.U4(k);
var x=1;for(var m=0;m<b.list.v.length;m++)x=Math.max(x,b.list.v[m].v.compID.v)+1;x+=Math.floor(Math.random()*1e4);
var F={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(b.list.v.length+1)},compID:{t:"long",v:x},capturedInfo:{t:"long",v:7}}};
b.list.v.push(F);b.lastAppliedComp={t:"long",v:x};T="New Layer Comp";var E=D.h8.mc(k,x);D.h8.oB(k,E,x)}var f=new cc(T,this);
f.data={aqp:d,a6c:b,aoB:a,asQ:t,Sp:j,yL:e};this.qw(f.data,k);k.DU(f)};D.h8.prototype.qw=function(g,o){o.M9=g.a6c;
o.Qr=!0;if(g.asQ)D.h8.oB(o,g.asQ,g.Sp);if(g.yL){var k=o.M9.lastAppliedComp?o.M9.lastAppliedComp.v:0,y=D.h8.R2(o.M9,k),d=y==-1?null:o.M9.list.v[y].v,b=d?d.capturedInfo.v:7;
D.h8.Yx(o,k,b);o.U()}};D.h8.prototype.YZ=function(g,o){o.M9=g.aqp;o.Qr=!0;if(g.aoB)D.h8.oB(o,g.aoB,g.Sp);
if(g.yL){var k=o.M9.lastAppliedComp?o.M9.lastAppliedComp.v:0,y=D.h8.R2(o.M9,k),d=y==-1?null:o.M9.list.v[y].v,b=d?d.capturedInfo.v:7;
D.h8.Yx(o,k,b);o.U()}};D.h8.U4=function(g){if(g.M9.lastAppliedComp!=null||!g.mi)return;var o=D.h8.mc(g,0);
D.h8.oB(g,o,0);g.mi=!1};D.h8.YP=function(g,o,k){g.v.Hrzn.v+=o;g.v.Vrtc.v+=k};D.h8.R2=function(g,o){var k=g.list.v;
for(var m=0;m<k.length;m++)if(k[m].v.compID.v==o)return m;return-1};D.h8.aj$=function(g){var o=g.layerSettings.v,d=null;
if(o.length==0)return;var k="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),y=o[0].v;
if(y.enab==null)y.enab={t:"bool",v:!0};if(y.Ofst==null)y.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var m=0;m<o.length;m++){var b=o[m].v;if(d==null)d=JSON.parse(JSON.stringify(b));else for(var T=0;
T<k.length;T++){var a=k[T];if(b[a])d[a]=JSON.parse(JSON.stringify(b[a]))}o[m].v=JSON.parse(JSON.stringify(d))}};
D.h8.a4s=function(g,o){var k=g.add.shmd.cmls,y=k.layerSettings.v;for(var d=0;d<y.length;d++){var b=y[d].v,T=b.compList.v[0].v;
if(T==o)return d}return-1};D.h8.aiY=function(g,o){var k=D.h8.a4s(g,o);return k==-1?null:g.add.shmd.cmls.layerSettings.v[k].v};
D.h8.Yx=function(g,o,k){for(var m=0;m<g.d.length;m++){var y=g.d[m],d=y.add.shmd.cmls;if(d==null)continue;
var b=d.layerSettings.v,T=D.h8.aiY(y,o);if(T==null){y.qj(!1);continue}if((k&1)!=0){if(T.enab)y.qj(T.enab.v);
else y.qj(!0)}if((k&2)!=0){if(T.Ofst){var a=T.Ofst.v,t=y.Jc(g),j=Math.round(a.Hrzn.v-t.x),e=Math.round(a.Vrtc.v-t.y);
if(j!=0||e!=0)D.Bt.W5(g,[m],null,j,e)}}if((k&4)!=0){if(T.Lefx){var v=JSON.parse(JSON.stringify(T.Lefx.v));
i_.Yc(v);if(JSON.stringify(v)!=JSON.stringify(y.add.lmfx)){y.add.lmfx=v;y.Of.B3=!0}}else delete y.add.lmfx;
if(T.blendOptions){var L=T.blendOptions.v;if(L.Opct)y.opacity=Math.round(255*L.Opct.v.val/100);if(L.fillOpacity)y.add.iOpa=Math.round(255*L.fillOpacity.v.val/100);
if(L.Md)y.HW=y.add.lsct==cK.ZG?"norm":h8.O8(L.Md.v.BlnM)}else{y.opacity=255;y.HW=y.gT()?"pass":"norm";
y.add.iOpa=255}}}};D.h8.aj8=function(g,o){var k={};for(var m=0;m<g.d.length;m++){var y=g.d[m];if(y.add.shmd==null||y.add.shmd.cmls==null)continue;
k["l"+y.add.lyid]=JSON.parse(JSON.stringify(D.h8.aiY(y,o)))}return k};D.h8.mc=function(g,o){var k={};
for(var m=0;m<g.d.length;m++){var y=g.d[m],d=y.add.lyid;k["l"+d]=D.h8.a8p(g,y,o)}return k};D.h8.a8p=function(g,o,k){var y=o.add.shmd?o.add.shmd.cmls:null,d={classID:"null"},b=o.Jc(g),T={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:b.x},Vrtc:{t:"long",v:b.y}}};
d.compList={t:"VlLs",v:[{t:"long",v:k}]};d.enab={t:"bool",v:o.oa()};d.Ofst=JSON.parse(JSON.stringify(T));
d.FXRefPoint=JSON.parse(JSON.stringify(y&&y.origFXRefPoint?y.origFXRefPoint:T));d.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:h8.w3(o.HW)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*o.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:o.add.iOpa!=null?100*o.add.iOpa/255:100}}}};
if(o.add.vmsk){d.vectorMask={t:"Objc",v:{classID:"null"}};d.vectorMask.v.Ofst=JSON.parse(JSON.stringify(T))}if(o.add.lmfx){d.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(o.add.lmfx))};
i_.dB(d.Lefx.v)}return d};D.h8.ak8=function(g,o){var k=o.add.lyid;if(o.add.shmd==null)o.add.shmd={};
if(o.add.shmd.cmls==null){o.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:k},layerSettings:{t:"VlLs",v:[{t:"Objc",v:D.h8.a8p(g,o,0)}]}}}};
D.h8.oB=function(g,o,k){for(var m=0;m<g.d.length;m++){var y=g.d[m],d=y.add.lyid;D.h8.ak8(g,y);var b=y.add.shmd.cmls,T=b.layerSettings.v,a=o["l"+d];
if(a!=null)a={t:"Objc",v:JSON.parse(JSON.stringify(a))};var t=D.h8.a4s(y,k);if(t==-1){if(a==null)continue;
else T.push(a)}else{if(a==null)T.splice(t,1);else T[t]=a}}};D.h8.S9=function(g,o){for(var m=0;m<g.d.length;
m++){var k=g.d[m],y=k.add.lyid;if(k.add.shmd==null||k.add.shmd.cmls==null)continue;var d=k.Jc(g),b=Math.round(d.x),T=Math.round(d.y);
if(!o){b=-b;T=-T}var a=k.add.shmd.cmls,t=a.layerSettings.v;if(a.origFXRefPoint)D.h8.YP(a.origFXRefPoint,-b,-T);
for(var j=0;j<t.length;j++){var e=t[j].v;D.h8.YP(e.Ofst,b,T);var v=e.imageMask,L=e.vectorMask;if(v&&v.v.Ofst)D.h8.YP(v.v.Ofst,b,T);
if(L&&L.v.Ofst)D.h8.YP(L.v.Ofst,b,T)}}};D.zL=function(){D.L8.call(this,"Adjust Edit",D.p4);this.Yn=null;
this.Pt=null};D.zL.prototype=new D.L8;D.zL.FY=function(g,o,k,y){if(y)o/=4;var d=0,b=0,T=255,a=0,t=0,j=255;
while(b+g[d]<o){b+=g[d];d++}while(a+g[T]<o){a+=g[T];T--}if(y){d-=Math.round(g[d]/(k/32));T+=Math.round(g[T]/(k/32));
if(d<0)t=Math.round(-d*255/(T-d));if(T>255)j=255-Math.round((T-255)*255/(T-d))}return[Math.max(d,0),Math.min(T,255),t,j,100]};
D.zL.prototype.Ae=function(g,o,k,y,d){var b=g.P;if(b=="auto"){var T=g.FN,a=D.zL.getData(k);for(var m=0;
m<a.length;m++){var t=a[m],j;if(T<3){}else{var e=jf.J0("hue2");c2.SG(e,0,[0,-100,0]);j=aj.f_("hue2",e)}aj.mn(j,t.sP,t.H8,t.KU)}D.zL.EL(k,a);
D.zL.PR(k,a,T<3?[4,16,T]:[19,7,0],this);k.U()}if(b=="edit_layer")this.ag5(g,o,k,y);if(b=="edit"||b=="confirm"||b=="cancel")this.Ey(g,o,k,d,!0);
if(b=="start"){if(k.g.length==0)return;var v=k.d[k.g[0]];if(v.add.SoLd&&v.W1<=0&&k.kD.length==0){var L=new jB(N.E.L,!0);
L.G=D.Gc;L.data={P:"start",oj:g.JX,_Q:g._Q};o.S(L);return}if(!k.uV(o,null,!0))return;if(eJ[g.JX]&&g._Q==null){if(k.g.length!=1)alert("Will be applied to "+k.g.length+" layers.");
var L=new jB(N.E.s,!0);L.data={P:N.b.xp,Pv:"afw_"+g.JX};o.S(L)}else{this.Ey({P:"edit",_Q:g._Q,oj:g.JX},o,k,d);
this.Ey({P:"confirm",oj:g.JX},o,k,d)}}};D.zL.prototype.ag5=function(g,o,k,y){var d=g.P,b=k.g[0],T=k.d[b],a=aj.get(T.add),t=JSON.parse(JSON.stringify(T.add[a])),L;
for(var j in g.Z)t[j]=g.Z[j];var e=JSON.parse(JSON.stringify(t));for(var j in aj.$z)if(aj.$z[j]==a)e.classID=j;
var v=k.history[k.mQ];if(v&&v.G==this&&v.data.Ad!=null&&v.data.i==b)L=v;else{var H=new jB(N.E.gp,!0),w={classID:"setd",null:c_.lF("AdjL",!0),T:{t:"Objc",v:e}};
H.data={Qa:!0,J5:"set",fV:w};o.S(H);var L=new cc([6,39],this);L.data={i:b,Ad:T.add[a],M$:t,kX:w};k.DU(L)}L.data.M$=t;
L.data.kX.T.v=e;this.qw(L.data,k)};D.zL.getData=function(g,o,k){var y=[],d=new bd(0,0,g.m,g.n),b=g.kD.length!=0?[-1-g.kD[0]]:g.g;
for(var m=0;m<b.length;m++){var T=b[m],a=T<0?null:g.d[T],t={i:T,jc:T<0?1:a.W1};y.push(t);var j=g.Tm[-1-T];
if(0<=T)j=a.W1<=0?null:a.W1==1?a.Qp():a.lQ(g).v;var e=j?j.rect:a.rect;if(g.J){t.KU=g.J.rect.Nm(o||j!=null?d:e)}else t.KU=o||j!=null?e.gO(d):e.clone();
if(k)t.KU=k[m].KU.clone();var v=t.KU.O();t.sP=_.Q(v*4);if(j)D.Ak.Dh(j.channel,j.rect,j.color,t.sP,t.KU);
else _.g1(a.buffer,e,t.sP,t.KU);t.H8=t.sP.slice(0);if(g.J){t.fb=_.Q(v);_.sQ(g.J.channel,g.J.rect,t.fb,t.KU)}}return y};
D.zL.ayK=function(g,o,k){if(o==null)return o;var y=aj.r$(g,o),b;if(y==-1)return o;var d=k.length>>>2,T=_.kO(k),a=.001*d;
if(y==0||y==2)b=[[0,255,0,255,100],D.zL.FY(T[1],a,d,y==2),D.zL.FY(T[2],a,d,y==2),D.zL.FY(T[3],a,d,y==2)];
if(y==1)b=[D.zL.FY(T[0],a*.33,d,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var t=jf.J0("levl");
for(var m=0;m<4;m++)hA.SG(t,m,b[m]);return t};D.zL.aiK=function(g,o,k,y){var d,b;if(k.t=="name"){var T=0;
for(var a=0;a<g.d.length;a++)if(g.d[a].getName()==k.v.val)T=a;if(g==o&&T==y.i){d=y.sP;b=y.KU}else{var t=g.d[T];
d=t.buffer;b=t.rect}}else{b=new bd(0,0,g.m,g.n);d=g==o?y.Tq:g.PJ()}return[d,b]};D.zL.prototype.Ey=function(g,o,k,y){if(this.Yn==null){if(g.oj=="aply")k.d[k.g[0]].extend(new bd(0,0,k.m,k.n));
this.Yn=D.zL.getData(k,null,g.oj=="fade"?k.Zt().data:null);if(g.oj=="aply"||g.oj=="matc")this.Yn[0].Tq=k.PJ()}if(g.P=="edit"){this.Pt=[g.oj,g._Q];
var d=this.Yn[0],b=D.zL.ayK(g.oj,g._Q,d.sP),T=aj.f_(g.oj,b);if(g.oj=="fade"||g.oj=="matc"||g.oj=="aply")T=g._Q;
if(T!=null){for(var a=0;a<this.Yn.length;a++){var t=this.Yn[a];if(g.o5)_.QF(t.sP,t.H8);else if(g.oj=="fade"){var j=h8.O8(g._Q.Md.v.BlnM),e=g._Q.Opct.v.val/100,v=k.Zt().data[a];
_.QF(v.sP,t.H8);if(j=="norm")_.l.tx(t.sP,t.KU,t.H8,t.KU,null,null,null,t.KU,e);else{var L=bs.Rl();L.qG=!0;
for(var m=0;m<v.sP.length;m+=4)if(v.sP[m+3]!=t.sP[m+3]){L=null;break}_.l.I3(j,t.sP,t.KU,t.H8,t.KU,t.KU,e,L)}}else if(g.oj=="matc"){var H;
if(T.noReference&&T.noReference.v)H=t.sP;else{var w=T.Srce.v,P=w[1].v.val,Q=o._f,x=k;for(var m=0;m<Q.length;
m++)if(Q[m].name==P)x=Q[m];var F=D.zL.aiK(x,k,w[0],t);H=F[0]}dH(t.sP,t.KU.m,t.KU.n,H,t.H8,[T.Lght.v,T.ClrR.v,T.Fade.v,T.neutralizeColor?T.neutralizeColor.v:!1])}else if(g.oj=="aply"){T=T.With.v;
var E=T.T.v,F=D.zL.aiK(k,k,E[1],t),H=F[0],f=F[1],c=T.Clcl?T.Clcl.v.Clcn:null,j=c?h8.O8(c):"norm",e=T.Opct?T.Opct.v.val/100:1,M=["RGB","Rd","Grn","Bl","Trsp"].indexOf(E[0].v.enum),b=T.Invr&&T.Invr.v;
if(b||M!=0){H=H.slice(0);if(b)_.a48(H);if(M!=0){var n=_.Q(f.O());_.B4(H,n,M-1);if(M==4)_.TY(n);for(var X=0;
X<3;X++)_.e_(n,H,X)}}if(c=="Add"||c=="Sbtr"){var u=1/T.Scl.v,I=T.Ofst.v,r=c=="Add"?1:-1,J=new Uint8ClampedArray(t.H8.buffer);
for(var m=0;m<H.length;m+=4){J[m]=(t.sP[m]+r*H[m])*u+I;J[m+1]=(t.sP[m+1]+r*H[m+1])*u+I;J[m+2]=(t.sP[m+2]+r*H[m+2])*u+I}}else{var L=bs.Rl();
L.qG=T.PrsT&&T.PrsT.v;t.H8.fill(0);t.H8.set(t.sP);_.l.I3(j,H,f,t.H8,t.KU,t.KU,e,L)}}else aj.mn(T,t.sP,t.H8,t.KU)}D.zL.EL(k,this.Yn)}}if(g.P=="cancel"){D.zL.aiZ(k,this.Yn);
this.Yn=null}if(g.P=="confirm"){var U={fade:[2,11],aply:[2,12],matc:[4,18]},K=U[g.oj];if(K==null)K=aj.names[g.oj];
var i=aj.r$(g.oj,this.Pt[1]);if(i!=-1)K=[4,16,i];D.zL.PR(k,this.Yn,K,this);this.Yn=null;if(i==-1)D.zL.JA(o,this.Pt)}k.U()};
D.zL.JA=function(g,o){var k=o[0],y=o[1],d,b;if(aj.tb[k]){d=aj.tb[k];if(eJ[k])b=y}if(jf.tb[k]){d=jf.tb[k];
if(eJ[k])b=y}if(k=="fade"){d="fade";b=y}if(k=="matc"){d="matchColor";b=y}if(k=="aply"){d="applyImageEvent";
b=y}if(d==null)return;var T=new jB(N.E.gp,!0);T.data={Qa:!0,J5:d};if(b){b=JSON.parse(JSON.stringify(b));
b.classID="null";delete b.__name;T.data.fV=b}g.S(T)};D.zL.aiZ=function(g,o){D.zL.Ao(g,o)};D.zL.PR=function(g,o,k,y){for(var m=0;
m<o.length;m++){var d=o[m],b=g.d[d.i],T=d.i<0?g.Tm[-1-d.i]:d.jc<=0?null:d.jc==1?b.Qp():b.lQ(g).v;if(T){T.xO();
T.WP=!0;if(b)b.bD(g)}else{b.xO();b.U()}delete d.H8;delete d.fb}var a=new cc(k,y);a.data=o;g.DU(a);g.Qr=!0};
D.zL.EL=function(g,o,k){for(var m=0;m<o.length;m++){var y=o[m],d=g.d[y.i],b=k?y.sP:y.H8,T=y.KU;if(y.jc==0){d.extend(T);
if(y.fb){_.g1(y.sP,T,d.buffer,d.rect);_.l.tx(b,T,d.buffer,d.rect,y.fb,T,0,T,1)}else _.g1(b,T,d.buffer,d.rect)}else{var a=y.i<0?g.Tm[-1-y.i]:y.jc==1?d.Qp():d.lQ(g).v;
a.extend(T);if(y.fb){var t=_.Q(T.O()*4);_.QF(y.sP,t);_.l.tx(b,T,t,T,y.fb,T,0,T,1);D.Ak.ox(t,T,a)}else D.Ak.ox(b,T,a);
a.WP=!0;if(d)d.bD(g)}if(d)d.U()}if(!k)D.zL.arX(g,o)};D.zL.Ao=function(g,o){for(var m=0;m<o.length;m++){var k=o[m],y=g.d[k.i],d=k.KU,b=_.Q(d.O()*4);
if(k.jc==0){_.g1(y.buffer,y.rect,b,d);y.extend(d);_.g1(k.sP,d,y.buffer,y.rect);y.xO()}else{var T=k.i<0?g.Tm[-1-k.i]:k.jc==1?y.Qp():y.lQ(g).v;
D.Ak.Dh(T.channel,T.rect,T.color,b,d);T.extend(d);D.Ak.ox(k.sP,d,T);T.xO();T.WP=!0;if(y)y.bD(g)}k.sP=b;
if(y)y.U()}g.Qr=!0};D.zL.arX=function(g,o){var k=D.zL.afC(g),y=~k;if(k==16777215)return;for(var m=0;
m<o.length;m++){var d=o[m],b=g.d[d.i],T=d.KU;if(d.jc!=0)continue;b.extend(T);var a=T.x-b.rect.x,t=T.y-b.rect.y,j=b.rect.m,e=new Uint32Array(d.sP.buffer),v=new Uint32Array(b.buffer.buffer);
for(var L=0;L<T.n;L++)for(var H=0;H<T.m;H++){var w=L*T.m+H,P=(L+t)*j+(H+a);v[P]=v[P]&k|e[w]&y}b.xO();
b.U()}g.U()};D.zL.afC=function(g){var o=g.u.sv;return o[2]*16711680|o[1]*65280|o[0]*255};D.zL.prototype.YZ=function(g,o){var k=o.d[g.i];
if(g.Ad!=null)k.add[aj.get(k.add)]=g.Ad;else D.zL.Ao(o,g);o.U()};D.zL.prototype.qw=function(g,o){var k=o.d[g.i];
if(g.Ad!=null)k.add[aj.get(k.add)]=g.M$;else D.zL.Ao(o,g);o.U()};D.AF=function(){D.L8.call(this,"Filter Edit",D.Gc);
this.Yn=null;this._4=null;this.P=null;this.Pt=null};D.AF.prototype=new D.L8;D.AF.prototype.Ae=function(g,o,k,y,d){if(g.P=="start"){if(k.g.length==0)return;
var b=k.d[k.g[0]];if(b.add.SoLd&&b.W1<=0&&k.kD.length==0){}else if(!k.uV(o,null,!0))return;var T=g.oj;
if((eJ[T]||jf._[T])&&g._Q==null){if(k.g.length!=1)alert("Will be applied to "+k.g.length+" layers.");
var a=new jB(N.E.s,!0);a.data=D.AF.a3M(T,this.VO(k,T));o.S(a)}else{var t={P:"edit",oj:T,_Q:g._Q,qa:this.VO(k)};
this.Ae(t,o,k,y,d);t.P="confirm";delete t._Q;this.Ae(t,o,k,y,d)}}if(g.P=="edit"||g.P=="cancel"||g.P=="confirm"){if(g.P=="edit")this.Pt=[g.oj,g._Q];
if(g.qa)this.adU(g,o,k,d);else this.a7G(g,o,k,d)}if(g.P=="applylast"&&this.Pt!=null){var t={P:"edit",oj:this.Pt[0],_Q:this.Pt[1],qa:this.VO(k)};
this.Ae(t,o,k,y,d);t.P="confirm";delete t._Q;this.Ae(t,o,k,y,d)}};D.AF.a3M=function(g,o){var k=jf._[g];
if(k)return{P:N.b.v1,G:k,Mq:{qa:o}};else return{P:N.b.xp,Pv:"afw_"+g,qa:o}};D.AF.prototype.VO=function(g,o){var k=g.d[g.g[0]],y;
if(k.add.SoLd&&k.W1<=0&&g.kD.length==0){y={i:g.g[0],index:0};if(k.add.SoLd.filterFX!=null){var d=k.add.SoLd.filterFX.v.filterFXList.v;
y.index=d.length;for(var m=0;m<d.length;m++)if(jf.yB(d[m].v)==o&&jf._[o])y.index=m}}return y};D.AF.prototype.adU=function(g,o,k,y){var d=k.d[g.qa.i],b=g.oj;
if(g.P=="edit"){if(this.P==null){var T=jf.names[b];if(T==null)T=aj.names[b];if(b=="blendOptions")T=[14,10];
this.P=new cc(T,this);this.P.data={qa:g.qa,afN:JSON.parse(JSON.stringify(d.add.SoLd))}}if(!d.wg()){d.add.SoLd.filterFX=jf.nC();
this.P.data.eE=dF.aiM(d.add.SoLd.placed.v);k.YY(this.P.data.eE);d.tq(k)}var a=d.add.SoLd.filterFX.v.filterFXList.v;
if(a[g.qa.index]==null){a.push(jf.gb(b,y))}if(g._Q){a[g.qa.index].v.enab.v=g.o5!=!0;if(b=="blendOptions")a[g.qa.index].v.blendOptions.v=g._Q;
else a[g.qa.index].v.Fltr.v=g._Q}this.P.data.arR=JSON.parse(JSON.stringify(d.add.SoLd));this.qw(this.P.data,k)}if(g.P=="cancel"){if(this.P)this.YZ(this.P.data,k);
this.P=null}if(g.P=="confirm"){if(this.P)k.DU(this.P);D.zL.JA(o,this.Pt);this.P=null}};D.AF.prototype.qb=function(g){return{o:g>>>16,C:g>>>8&255,k:g&255}};
D.AF.prototype.a7G=function(g,o,k,y){if(this.Yn==null){var d=jf._8(g.oj,g._Q);this.Yn=D.zL.getData(k,d.x!=0||d.y!=0)}if(g.P=="edit"){var b=JSON.stringify(g._Q);
if((g._Q==null||b!=this._4)&&g.o5!=!0)for(var m=0;m<this.Yn.length;m++){var T=this.Yn[m],a={rect:T.KU,buffer:T.sP},t={rect:T.KU,buffer:T.H8};
if(g.oj=="Avrg"&&T.fb){a.buffer=T.sP.slice(0);_.i1(T.fb,a.buffer)}jf.mn(g.oj,a,g._Q,this.qb(y.p2),this.qb(y.Pp),t,[k.add.lnk2?k.add.lnk2:[],k.d[k.g[0]].Qp(),k.Tm,k.uM()]);
if(g.oj=="Avrg"&&T.fb){var j=T.sP.length;for(var m=0;m<j;m+=4)T.H8[m+3]=T.sP[m+3]}this._4=b}D.zL.EL(k,this.Yn,g.o5)}if(g.P=="cancel"){D.zL.aiZ(k,this.Yn);
this.Yn=null;this._4=null}if(g.P=="confirm"){D.zL.PR(k,this.Yn,jf.names[g.oj],this);this.Yn=null;this._4=null;
D.zL.JA(o,this.Pt)}k.U();k.Qr=!0};D.AF.prototype.YZ=function(g,o){if(g.qa){var k=o.d[g.qa.i];if(g.eE)o.Am(g.eE);
k.add.SoLd=JSON.parse(JSON.stringify(g.afN));if(k.wg())k.jo(o);else{k.tq(o);k.W1=0}}else D.zL.Ao(o,g);
o.U();o.Qr=!0};D.AF.prototype.qw=function(g,o){if(g.qa){var k=o.d[g.qa.i];if(g.eE)o.YY(g.eE);k.add.SoLd=JSON.parse(JSON.stringify(g.arR));
if(k.wg())k.jo(o);else k.tq(o);if(!k.Ac())k.b_+=32}else D.zL.Ao(o,g);o.U();o.Qr=!0};var er={a_:"0",Bj:"1",aB:"2",L5:"3",JE:"3.5",fB:"4",EB:"5",Yh:"6",DC:"7",L:"8",zC:"8.5",hW:"8.8",Jt:"9",tV:"10",cw:"11",RX:"12",AA:"13",Un:"14",om:"15",YM:"16",N5:"17",wp:"21",$j:"22",fg:"23",iu:"23.0",jE:"23.1",q1:"23.2",VA:"23.3",tS:"23.4",FS:"23.5",zO:"23.6",arp:"30",WT:"31",Xg:"40",EV:"41",BG:"42"};
er.p7={};er.p7[er.Bj]=["abr","brushes",a6,[9,3],3];er.p7[er.aB]=["grd","gradients",eR,[12,37],4];er.p7[er.L5]=["shc","contours",ke,[12,21],0];
er.p7[er.JE]=["acv","curves",cx,[4,2],0];er.p7[er.fB]=["asl","styles",kc,[12,22],5];er.p7[er.EB]=["pat","patterns",cd,[12,62],6];
er.p7[er.Yh]=["csh","shapes",gM,[12,77],7];er.p7[er.DC]=["aco","swatches",gB,[9,8],0];er.p7[er.L]=["atn","actions",bN,[9,9],2];
er.p7[er.zC]=["tpl","tpresets",dr,[9,12],0];er.p7[er.hW]=["icc","profiles",fG,"ICCs",8];function cc(g,o,k){if(k==null)k=!1;
this.name=g;this.G=o;this.SH=k;this.data=null;this.afS=Date.now()}var c_={};c_.lF=function(g,o){var k={t:"Clss",v:{classID:g}};
if(o)k={t:"Enmr",v:{classID:g,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[k]}};c_._6=function(g,o){var k={classID:"Lyr"};
k[g]=o;return{J5:"set",fV:{classID:"null",null:c_.lF("Lyr",!0),T:{t:"Objc",v:k}}}};c_.asg=function(g,o,k,y,d){var b=new jB(N.E.gp,!0),T=[],m=0,a=c_.AP(o,k,y,T);
while(T.length!=0){var t=T.pop();m++;if(!t.r)continue;console.log(m-1);if(t.J5=="conditional"){var j=g.d[g.g[0]],e=t.fV.null.v.Cndt,v=!1;
if(e=="Bckg")v=!1;else if(e=="Pxel"&&g.q0(!1))v=!0;else if(e=="Adjs"&&aj.get(j.add))v=!0;else if(e=="Shp"&&j.add.vogk)v=!0;
else if(e=="Grup"&&j.gT())v=!0;else if(e=="Opn"&&g!=null)v=!0;else if(e=="32Bt")v=!1;else if(e=="RGB")v=!0;
var L=t.fV.then,H=t.fV.else;if(v&&L)c_.AP(o,L.v[0].v.val,L.v[1].v.val,T);if(!v&&H)c_.AP(o,H.v[0].v.val,H.v[1].v.val,T)}else if(t.J5=="stop"){if(t.fV.Cntn&&t.fV.Cntn.v==!0)window.confirm(t.fV.Msge.v);
else{alert(t.fV.Msge.v);break}}else if(t.J5=="play"){var w=t.fV.null.v,P=new jB(N.E.s,!0);P.data={P:N.b.P9,Q9:[w[0].v.val,w[1].v.val]};
d.S(P)}else{b.data={J5:t.J5,fV:t.fV};d.S(b)}}};c_.AP=function(g,o,k,y){var d;for(var m=0;m<g.length;
m++){if(g[m].Y5!=k)continue;var b=g[m].dd;for(var T=0;T<b.length;T++){if(b[T].Y5!=o)continue;d=b[T].dd}}var a=d.length;
for(var m=0;m<a;m++)y.push(d[a-1-m])};c_.aoM=function(g){var o=g.J5,k=g.fV,y,T,a,t,j;if(k&&k.null)y=k.null.v[0];
if(k&&y==null&&k.At)y=k.At.v[0];if(y&&y.t=="obj ")y=y.v[0];var d=y&&y.v?y.v.classID:null,b=["purge"];
if(b.indexOf(o)!=-1)return o[0].toUpperCase()+o.slice(1);if(o=="GEfc"||o=="paintDaubs")return iO.names[k.GEfk.v.GEft][1];
j=aj.tb;for(T in j)if(j[T]==o)a=T;j=jf.tb;for(T in j)if(j[T]==o)t=T;if(a){var e=aj.r$(a,k);if(e!=-1)return[4,16,e];
return aj.names[a]}if(t)return jf.names[t];var v=c_.aiF;if(o=="make"){if(y){if(d=="AdjL")return[6,1];
else if(d=="layerSection")return k.From?[6,9]:[6,20];else if(d=="Lyr")return[6,13];else if(d=="Chnl"&&y.v.enum=="Msk")return[6,2];
else if(d=="contentLayer")return[6,48,1];else if(d=="BckL")return"Make Background Layer";else if(d=="Path")return"Make Path";
else if(d=="TxLr")return"Make Text Layer";else if(d=="slice")return"Make Slices";else if(d=="Dcmn")return[11,7];
else if(d=="Gd")return[23,4]}if(k.Nw){d=k.Nw.v.classID;if(d=="Dcmn")return[11,7];else if(d=="Chnl"||d=="SCch")return"New Channel"}}else if(o=="deselect"){if(d=="Path")return"Deselect current path";
else throw d}else if(o=="draw"){return"Draw"}else if(o=="select"){if(d=="Chnl")return"Select "+(y.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(d=="Mn")return"Select Panel \""+y.v.enum+"\"";else if(d=="Lyr"){if(y.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[y.v.enum]+" Layer";
return"Select Layer \""+y.v.val+"\""}else if(d=="Path")return"Select Path";else if(d=="Brsh")return"Select Brush";
else if(d=="Dcmn")return"Select Document"}else if(v[o]&&d=="Chnl"){var L=y.v.keyID=="fsel";return v[o]+" "+(L?"Selection":"Channel")}else if(o=="set"){if(d=="Lyr")return"Set Current Layer";
else if(d=="AdjL")return[6,39];else if(d=="contentLayer")return[6,48,2];else if(d=="Prpr"){var H=y.v.keyID;
if(H=="TxtS")return"Set Text Style";else if(H=="paragraphStyle")return"Set Paragraph Style";else if(H=="Lefx")return[11,6];
else console.log(H)}else if(d=="Clr")return"Set "+(y.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(d=="Brsh")return"Set Brush";else if(d=="Path")return"Set Work Path";else console.log(d)}else if(o=="move"){if(d=="Lyr")return"Move Layer";
else if(d=="Chnl"&&y.v.keyID=="fsel")return[7,7];else console.log(d)}else if(o=="show"||o=="hide"){var w="";
if(d=="Lyr")+"Layer";if(d=="Chnl")+"Channel";return(o=="show"?"Show":"Hide")+" "+w}else if(o=="reset"){if(d=="Clr")return"Reset Colors"}else if(o=="exchange"){if(d=="Clr")return[22,7,0]}else if(o=="rotateEventEnum")return[2,5];
else if(o=="flip"){var P=k.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,P?2:3]]}if(d=="Chnl"){if(o=="duplicate"){if(y.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(o=="delete")return"Delete Channel"}if(o=="transform")return y&&y.v.keyID=="fsel"?[7,10]:[10,16];
var Q={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:k?d=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},x=Q[o];
if(x==null)x=c_.a93[o];if(x)return x;return o};c_.a93={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
c_.aiF={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
c_.aiz=function(g,o,k,y){var d=g.J5,b=g.fV,T=!1,a=new jB(N.E.L,!0),e,v,L,H;a.G=D.Jn;var t=new jB(N.E.s,!0),j=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(j.indexOf(d)!=-1)return;H=aj.tb;for(e in H)if(H[e]==d)v=e;H=jf.tb;for(e in H)if(H[e]==d)L=e;if(d=="fade")v=d;
if(d=="matchColor")v="matc";if(d=="applyImageEvent")v="aply";if(v){a.G=D.p4;a.data={P:"start",JX:v,_Q:b}}else if(L){a.G=D.Gc;
a.data={P:"start",oj:L,_Q:b}}else if(d=="GEfc"||d=="paintDaubs"){a.G=D.Gc;a.data={P:"start",oj:"GEfc",_Q:b}}else if(d=="imageSize"||d=="canvasSize"||d=="revealAll"||d=="trim"||d=="crop"){a.G=D.Aq;
a.data={P:"fromAction",A3:g}}else if(d=="fill"||d=="stroke"||d=="delete"&&b==null){var w=null;if(y.g.length!=0)w=y.d[y.g[0]];
var P=_.cq(k.p2);if(w!=null&&d=="fill"&&w.add.TySh){var Q="var c = new SolidColor();  c.rgb.red="+P.o+";  c.rgb.green="+P.C+";  c.rgb.blue="+P.k+";  app.activeDocument.activeLayer.textItem.color = c;";
t.data={P:N.b.Fz,cg:Q}}else if(w!=null&&d=="fill"&&w.JW()){var a=new jB(N.E.gp,!0),b={classID:"setd",null:c_.lF("contentLayer",!0),T:{t:"Objc",v:{}}};
D.WX._S({Clr:{v:_.M.UF(_.cq(k.p2))}},b.T.v,0);a.data={J5:"set",fV:b};o.S(a);return}else{a.G=k.nE==D.UW?D.UW:D.Bj;
a.data={P:"fromAction",A3:g}}}else if(d=="colorRange"||d=="grow"||d=="similar"){a.G=D.AC;a.data={P:"fromAction",A3:g}}else if(c_.a93[d]||c_.aiF[d]&&(!1||b.With&&b.With.v[0].v.keyID=="fsel"||b.From&&b.From.v[0].v.keyID=="fsel"||b.null&&b.null.v[0].v.keyID=="fsel"||b.T.v[0]&&b.T.v[0].v.keyID=="fsel")){a.G=D.ng;
a.data={P:"fromAction",A3:g}}var x={copyToLayer:p.d8,cutToLayer:p.Za,mergeLayersNew:p.C5,rasterizeLayer:p.agX,mergeVisible:p.oW,flattenImage:p.aik,newPlacedLayer:p.Jq};
if(x[d])a.data={P:x[d],fV:b};if(a.data){o.S(a);return}if(d=="collapseAllGroupsEvent"){for(var m=0;m<y.d.length;
m++){var w=y.d[m];if(w.gT())w.add.lsct=cK.E5}y.pP=!0;return}if(d=="desaturate"){a.G=D.p4;a.data={P:"auto",FN:3};
if(y&&y.d[y.g[0]].add.SoLd==null)o.S(a);return}if(d=="close"){if(b&&b.Svng.v.YsN=="Ys"){t.data={P:N.b.kG};
o.S(t)}t.data={P:N.b.jl,zW:y};o.S(t);return}if(d=="save"){t.data={P:N.b.kG};o.S(t);return}if(d=="copyMerged"){t.data={P:N.b.cb,BU:!0,yq:!0};
o.S(t);return}if(d=="placedLayerReplaceContents")t.data={P:N.b.RL,_D:!0};var x={placedLayerEditContents:N.b.aur,placedLayerExportContents:N.b.anI,copyEvent:N.b.cb,paste:N.b.qP};
if(x[d])t.data={P:x[d],yq:!0};if(t.data){o.S(t);return}var F=b.null?b.null.v:null,f=F?F[0].v.classID:"";
if(d=="make"){if(b.null==null&&b.Nw)f=b.Nw.v.classID;if(f=="AdjL"){a.data={P:p.pY,fV:b}}else if(f=="layerSection"){a.data=b.From?{P:p.Pw}:{P:p.hX};
if(b.Usng){var c=b.Usng.v;if(c.Nm)a.data.R3=c.Nm.v;if(c.Clr)a.data.EW=c_.hT(c)}}else if(f=="Lyr"){if(b.Usng&&b.Usng.v.length==2)a.data={P:p.a4i};
else{a.data={P:p.IX};if(b.Usng)a.data.R3=b.Usng.v.Nm.v;if(b.below&&b.below.v)a.data.aeZ=!0}}else if(f=="Chnl"&&b.At&&b.At.v[0].v.enum=="Msk"){a.data={P:p.vL,fE:b.Usng.v.UsrM}}else if(f=="Chnl"||f=="SCch"){a.data={P:p.UU,cL:"fromAction",Z:g}}else if(f=="contentLayer"){a.data={P:p.LQ,fV:b}}else if(f=="BckL"){y.d[y.g[0]].a59();
return}else if(f=="Dcmn"){if(b.Nw==null)return;var M=b.Nw.v;t.data={P:N.b.I8,po:dF.afy(M,k)}}else if(f=="Ptrn")t.data={P:N.b.mV,Q6:0};
else if(f=="Path"){a.G=D.WH;a.data={P:"pathedit",cL:"fromsel"}}else if(f=="TxLr"){a.G=D.uk;a.data={P:"fromAction",A3:g}}else if(f=="slice"){a.G=D.UO;
a.data={P:"fromAction",A3:g}}else if(f=="Gd"){var n=[[],[]],M=b.Nw.v;n[M.Ornt.v.Ornt=="Vrtc"?0:1].push(M.Pstn.v.val);
var X=hM.n7(n);D.Bt._v(X,y.Nz());a.G=D.fL;a.data={P:"gids",hB:X}}else{console.log(d,f,b);throw"e"}}else if(d=="divide"){a.G=D.UO;
a.data={P:"fromAction",A3:g}}else if(d=="deselect"){if(f=="Path"){y.yI=[];y.wW=[];y.pP=y.nM=!0;return}else throw f}else if(d=="selectNoLayers"){y.g=[];
y.Qr=!0}else if(d=="select"){var u={PcTl:D.UW,PbTl:D.Bj,moveTool:D.fL,cloneStampTool:D.Cj,typeCreateOrEditTool:D.uk,artboardTool:D.IC,marqueeRectTool:D.ng,typeVerticalCreateOrEditTool:D.RC,perspectiveCropTool:D.GN,marqueeEllipTool:D.ayT,eyedropperTool:D.Z1,eraserTool:D.gI,pathComponentSelectTool:D.WH,lassoTool:D.mv,backgroundEraserTool:D.agz,directSelectTool:D.lz,polySelTool:D.a7U,rectangleTool:D.XV,magneticLassoTool:D.aoe,gradientTool:D.Jr,quickSelectTool:D.Q5,bucketTool:D.aby,ellipseTool:D.Xb,magicWandTool:D.AC,blurTool:D.NL,polygonTool:D.QJ,cropTool:D.Aq,sharpenTool:D.zv,lineTool:D.qD,sliceTool:D.UO,smudgeTool:D.Ba,customShapeTool:D.CL,sliceSelectTool:D.Ms,dodgeTool:D.Io,spotHealingBrushTool:D._Y,burnInTool:D.f3,saturationTool:D.jI,penTool:D.Wh,redEyeTool:D.vi,freeformPenTool:D.B7,rulerTool:D.w6,paintbrushTool:D.Bj,handTool:D.vA,pencilTool:D.UW,zoomTool:D.aC,objectSelectTool:D.aqq,healingBrushTool:D.lj,patchTool:D.DX,contentAwareMoveTool:D._g,colorReplacementBrushTool:D.Jj,curvaturePenTool:D.acw,rotareViewTool:D.rp};
if(f=="Lyr"){var I=b.selectionModifier,r=I?I.v.selectionModifierType:null,J=c_.U2(y,F[0]),U=0;if(J==-1){alert("Layer "+F[0].v.val+" does not exist.");
return}var w=y.d[J];if(w.gT()&&w.Qp()&&I==null)U=1;a.data={P:p.dl,i:J,j9:r?["addToSelection","addToSelectionContinuous"].indexOf(r):null,j1:U}}else if(f=="Path"){if(F[0].v.keyID=="WrPt"){y.yI=[0];
y.pP=y.nM=!0;return}else throw F[0]}else if(f=="Chnl"){a.data={P:p.dl,i:J,j1:F&&F[0].v.enum=="RGB"?0:1}}else if(f=="Dcmn"){if(o._f.length<2)return;
t.data={P:N.b.ahq,dir:b.null.v[0].v.val}}else if(f=="Brsh"){var K=k.uq.list,i;for(var m=0;m<K.length;
m++){if(K[m].v.Nm.v==F[0].v.val)i=K[m].v}t.data={P:N.b.pB,Q6:er.Un,Bm:i}}else if(f=="Mn"){if(F[0].v.enum=="Scl")t.data={P:N.b.v1,G:D.nK,Mq:{fE:3}};
if(F[0].v.enum=="Plce")t.data={P:N.b.RL,afR:!0};if(F[0].v.enum=="ZmIn"){a.G=D.aC;a.data={P:"zoom",ZS:!0}}if(F[0].v.enum=="ZmOt"){a.G=D.aC;
a.data={P:"zoom",ZS:!1}}if(F[0].v.enum=="FtOn"){a.G=D.aC;a.data={P:"adapt",Z:"fitscr"}}}else if(u[f]){t.data={P:N.b.v1,G:u[f]}}else throw f}else if(d=="draw"){a.G=D.WH;
a.data={P:"fromAction",A3:g}}else if(d=="gradientClassEvent"){a.G=D.Jr;a.data={P:"fromAction",A3:g}}else if((d=="set"||d=="reset"||d=="exchange")&&f=="Clr"){t.data={P:N.b.pB,Q6:er.wp,cL:d=="reset"?3:2};
if(d=="set"){t.data.cL=F[0].v.keyID=="FrgC"?0:1;var z=_.M.sL(b.T.v);t.data.Z=z.o<<16|z.C<<8|z.k}}else if(d=="set"){if(f=="AdjL"){var h=b.T.v.classID;
h=aj.$z[h];a.G=D.p4;if(h)a.data={P:"edit_layer",Z:b.T.v}}else if(f=="Lyr"){var R=b.T.v,J=c_.U2(y,F[0]);
for(var C in R){if(C=="classID")continue;a.G=D.Jn;if(C=="Nm")a.data={P:p.$S,name:R.Nm.v};else if(C=="Opct")a.data={P:p._z,M$:Math.round(R.Opct.v.val*255/100)};
else if(C=="fillOpacity")a.data={P:p.t0,M$:Math.round(R.fillOpacity.v.val*255/100)};else if(C=="Md")a.data={P:p.FV,M$:h8.Kt.indexOf(R.Md.v.BlnM)+(y.d[J].gT()?1:0)};
else if(C=="Usrs")a.data={P:p.n4,i:J};else if(C=="Blnd"){a.G=D.sp;a.data={P:"setstl",i:J,Z:{blendOptions:{t:"objc",v:R}}};
o.S(a);a.data={P:"confirm",i:J}}else if(C=="userMaskFeather"||C=="userMaskDensity"){var G=R.userMaskFeather,W=R.userMaskDensity,J=y.g[0],A=y.d[J].gS(0);
if(G)A._B=G.v.val;if(W)A._R=W.v.val;a.data={P:p.TE,ls:J,KV:A}}else if(C=="Clr"){var P=c_.hT(R);a.data={P:p.g0,adk:P}}else if(C=="Lefx")c_.a2b(o,J,R.Lefx.v,k);
else{console.log(b);throw C}if(a.data){o.S(a);delete a.data}}a.data={};var w=y.d[J];w.a1$()}else if(f=="Prpr"){var R=JSON.parse(JSON.stringify(b.T.v)),J=c_.U2(y,b.null.v[1]),w=y.d[J],$=F[0].v.keyID;
if($=="TxtS"||$=="paragraphStyle"){var O=w.add.TySh,Y=JSON.parse(JSON.stringify(O.O7)),l=bw.fY(Y),B=bw.DE(Y,0,l.length-2);
if($=="TxtS")bw.ack(R,B);else bw.ax9(R,B);bw.SX(Y,0,l.length-1,B);a.G=D.uk;a.data={P:"newED",Fa:J,hJ:Y}}else if($=="Lefx"){for(var f4 in R)if(R[f4].v){if(f4=="Scl")R[f4].v.val=100}c_.a2b(o,J,R,k);
a.data={}}else throw $}else if(f=="contentLayer"){var J=c_.U2(y,F[0]),R=b.T.v;if(R.classID=="shapeStyle")R=R.FlCn.v;
var V={solidColorLayer:0,gradientLayer:1,patternLayer:2}[R.classID],q=D.hz.$H(y,J),L=q.uF==V+1?q.si:iZ.IS[V];
L=JSON.parse(JSON.stringify(L));D.WX._S(R,L,V);a.data={P:p.jj,i0:[J],LO:!0,Z:{uF:V+1,si:L}}}else if(f=="Brsh"){var i=JSON.parse(JSON.stringify(k.uq.Uc)),s=b.T.v;
if(s.masterDiameter)i.Brsh.v.Dmtr.v.val=s.masterDiameter.v.val;else console.log("unknown brush parameters");
t.data={P:N.b.pB,Q6:er.Un,Bm:i}}else if(f=="Path"){a.G=D.WH;a.data={P:"fromAction",A3:g}}else{console.log(F[0],b);
throw f}}else if(d=="move"){if(f=="Lyr"){var R=b.T.v;if(R.classID=="Ofst"){a.data={P:"trsl",lJ:R.Hrzn.v.val,hE:R.Vrtc.v.val};
a.G=D.fL}else{var cW,dk;if(R[0].t=="Enmr"){if(R[0].v.enum=="Frnt")dk=0;else if(R[0].v.enum=="Nxt")dk=1;
else if(R[0].v.enum=="Prvs")dk=2;else if(R[0].v.enum=="Back")dk=3;else throw"e"}else cW=R[0].v.val;a.data={P:p.m7,target:cW,cL:dk,ahr:b.Dplc?b.Dplc.v:!1}}}else if(f=="Chnl"&&F[0].v.keyID=="fsel"){a.G=D.ng;
a.data={P:"fromAction",A3:g}}}else if(d=="groupEvent"||d=="ungroup")a.data={P:p.Uq};else if(d=="show"||d=="hide"){var kr=F[0].v;
for(var m=0;m<kr.length;m++){var j9=kr[m],f=j9.v.classID;if(f=="Lyr"){if(a.data==null)a.data={P:p.HF,i0:[]};
var J=c_.U2(y,j9);if(J==-1)continue;var bh=y.d[J].oa();if(d=="show"&&bh||d=="hide"&&!bh)continue;a.data.i0.push(J)}else if(f=="Chnl"){a.data={P:p.UU,cL:"fromAction",Z:g}}else if(f=="filterFX"){if(j9.v.val!=null)a.data={P:p.BV,index:j9.v.val-1};
a.data={P:p.wM}}}}else if(d=="rotateEventEnum"){a.G=f=="Lyr"?D.nK:D.Aq;var fe=b.Angl.v.val;a.data={P:"rot",Y5:[2,5],Z:-fe*Math.PI/180}}else if(d=="flip"){a.G=f=="Lyr"?D.nK:D.Aq;
var gg=b.Axis.v.Ornt=="Hrzn",a$=gg?new bJ(-1,1):new bJ(1,-1);a.data={P:"scl",Y5:[[2,6],[22,4,gg?2:3]],Z:a$}}else if(d=="transform"){var dg=1,iv=1,aQ=0,dt=0,hY=0,b9=0,i0=0;
if(b.Wdth)dg=b.Wdth.v.val/100;if(b.Hght)iv=b.Hght.v.val/100;if(b.Skew){var gD=b.Skew.v;aQ=gD.Hrzn.v.val;
dt=gD.Vrtc.v.val}if(b.Ofst){var hU=b.Ofst.v;b9=hU.Hrzn.v.val;i0=hU.Vrtc.v.val}if(b.Angl)hY=b.Angl.v.val;
var aW=new d3;aW.concat(new d3(dg,dg*Math.tan(dt*Math.PI/180),iv*Math.tan(aQ*Math.PI/180),iv,0,0));aW.rotate(-hY*Math.PI/180);
aW.translate(b9,i0);var hv=_.K.bn(aW);if(b.Usng){var hU=b.Usng.v;hv[6]=hU.Hrzn.v.val/100;hv[7]=hU.Vrtc.v.val/100}var b3={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[b.FTcs.v.QCSt];
if(b3==null)throw b.FTcs.v.QCSt;var F=b.null;if(F&&F.v instanceof Array)F=F.v[0];var J=F?c_.U2(y,F):null;
if(J==-1)J=null;a.G=F&&F.v.keyID=="fsel"?D.pi:D.nK;a.data={P:"dtr",Yf:b3,Z:hv,aT:b.warp}}else if(d=="duplicate"){if(f=="Chnl")a.data={P:p.UU,cL:"fromAction",Z:g};
else a.data={P:p.jL,R3:b.Nm?b.Nm.v:null}}else if(d=="delete"){if(f=="filterFX"){if(F[0].v.val!=null)a.data={P:p.IP,qp:F[0].v.val-1};
else a.data={P:p.OB}}else if(f=="Path"){a.G=D.WH;a.data={P:"pathedit",cL:"del"}}else if(f=="Lyr")a.data={P:p.kP};
else if(f=="Chnl"&&F[0].v.enum=="Msk")a.data={P:p.K7};else if(f=="Chnl")a.data={P:p.UU,cL:"fromAction",Z:g};
else throw f}else if(d=="align"){if(b.Aply&&b.Aply.v.projection=="Auto"){a.G=D.Aq;a.data={P:"auto-align"}}else{a.G=D.fL;
var gT=b.Usng.v.ADSt,v={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[gT];if(v==null)throw gT;a.data={P:"algn",Z:v}}}else if(d=="applyLocking"){var aB=b.layerLocking.v,bO;
if(aB.protectTransparency)bO=[[aB.protectTransparency.v],[0]];else if(aB.protectNone)bO=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(aB);throw"e"}a.data={P:p.hw,M$:bO}}if(a.data)o.S(a);else if(t.data)o.S(t);else{console.log(g);
alert("Unknown action \""+d+"\"");throw"e"}};c_.a2b=function(g,o,k,y){k=JSON.parse(JSON.stringify(k));
i_.Yc(k);if(k.masterFXSwitch==null)k.masterFXSwitch={t:"bool",v:!0};console.log(k);var d=iZ.pW;for(var b=0;
b<d.length;b++)if(k[d[b]]){for(var m=0;m<k[d[b]].v.length;m++){var T=k[d[b]].v[m].v,a=T.TrnS;if(a==null)a=T.MpgS;
if(a&&a.v.Crv==null){var t=a.v,j=t.Nm.v.split("=").pop(),e=y.I6;for(var v=0;v<e.length;v++){var L=e[v].Nm.v.split("=").pop();
if(L==j)t.Crv=JSON.parse(JSON.stringify(e[v].Crv))}if(a.v.Crv==null){console.log(a);throw"e"}}}}var H=new jB(N.E.L,!0);
H.G=D.sp;H.data={P:"setstl",i:o,Z:{Lefx:{t:"objc",v:k}}};g.S(H);H.data={P:"confirm",i:o};g.S(H)};c_.hT=function(g){var o={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[g.Clr.v.Clr];
if(o==null)throw g.Clr.v.Clr;return o};c_.U2=function(g,o){var k=1e6,y=0,d=g.d.length;for(var m=0;m<g.g.length;
m++){k=Math.min(k,g.g[m]);y=Math.max(y,g.g[m])}var b=o.t,T=-1;if(b=="name"){var a=o.v.val,T=-1;for(var m=0;
m<d;m++)if(g.d[m].getName()==a){T=m;break}}else if(b=="Enmr"){if(g.g.length!=0)T=g.g[0];if(o.v.enum=="Frwr")T=y+1;
if(o.v.enum=="Bckw")T=k-1;if(o.v.enum=="Back")T=0;if(o.v.enum=="Frnt")T=d-1;T=(T+d)%d}else if(b=="prop"){if(o.v.keyID=="Bckg")T=0}return T};
var aj={};aj.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
aj.amj=["expA","clrL","selc"];aj.LA=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];aj.a4Q=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
aj.rH=[[13,1,1],[13,1,4],[13,1,5]];aj.wf={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
aj.$z=function(){var g=JSON.parse(JSON.stringify(aj.wf));delete g.GrMp;g.GdMp="grdm";return g}();aj.tb={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
aj.keys={levl:[dj.IQ,dj.hb],curv:[dj.IQ,dj.xw],hue2:[dj.IQ,dj.Df],nvrt:[dj.IQ,dj.QV],blnc:[dj.IQ,dj.rD]};
aj.afi=function(g){var o=jf.J0("mixr");o.Mnch={t:"bool",v:g.uY};function k(y,m){var d={classID:"ChMx"},b={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var T in b)d[T]={t:"UntF",v:{type:"#Prc",val:y[m+b[T]]}};return{t:"Objc",v:d}}if(g.uY)o.Gry=k(g.Z,0);
else{o.Rd=k(g.Z,0);o.Grn=k(g.Z,5);o.Bl=k(g.Z,10)}return o};aj.G8=function(g){function o(y,d,m){var b={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var T in b)if(y[T])d[m+b[T]]=y[T].v.val}var k={uY:!1,Z:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(g.Mnch&&g.Mnch.v)k.uY=!0;if(k.uY)o(g.Gry.v,k.Z,0);else{o(g.Rd.v,k.Z,0);o(g.Grn.v,k.Z,5);o(g.Bl.v,k.Z,10)}return k};
aj.get=function(g){for(var o in aj.names)if(g[o]!=null)return o;return null};aj.f_=function(g,o){var k=aj.dM,y;
if(g=="brit"){var d=o.Brgh?o.Brgh.v:0,b=o.Cntr?o.Cntr.v:0,T=o.useLegacy?o.useLegacy.v:!1;if(T){var a=d/255,t=1+b/100;
if(t>1)t=1+Math.tan(Math.PI/2*b/101);var j=(1-t)/2,e=_.x1.H1(a,a,a),v=[t,0,0,j,0,t,0,j,0,0,t,j,0,0,0,1],L=_.x1.multiply(e,v),H=new _.up(256);
for(var m=0;m<256;m++)H.o[m]=m;_.x1.transform(H,H,L);y={type:k.eC,cN:H.o,ab:H.o,nG:H.o,QM:!1,ji:!1}}else{var w=1024,P=-30+60*(b+100)/200,Q=[];
for(var m=0;m<4;m++)Q.push(_.wb.cC(m/3*255,m/3*255,!0));Q[1].v.Hrzn.v=64;Q[1].v.Vrtc.v=64-P;Q[2].v.Hrzn.v=128+64;
Q[2].v.Vrtc.v=128+64+P;Q.sort(function(ad,gu){return ad.v.Hrzn.v-gu.v.Hrzn.v});var x=_.wb.aU(Q,w);function F(ad,w){var Q=[],cy=3;
for(var m=0;m<cy+1;m++)Q.push(_.wb.cC(m/cy*255,m/cy*255,!0));Q[1].v.Hrzn.v=130-ad*26;Q[1].v.Vrtc.v=130+ad*51;
Q[2].v.Hrzn.v=233-ad*48;Q[2].v.Vrtc.v=233+ad*10;return _.wb.aU(Q,w)}var E=F(Math.abs(d)/100,w);if(d<0){var f=[],c=1/w;
for(var m=0;m<w;m++){var M=m*c,n=m;while(E[n]>M&&n>1)n--;f[m]=n*c}E=f}var X=new Uint8Array(w);for(var m=0;
m<w;m++){var u=Math.round((w-1)*E[m]);X[m]=Math.round(255*x[u])}y={type:k.eC,cN:X,ab:X,nG:X,QM:!1,ji:!1}}}if(g=="levl"){var I=[],r,J,e,U,K,i;
for(var m=0;m<4;m++)I.push(hA.fo(o,m));r=-I[0][0]/255;J=1/(I[0][1]/255-I[0][0]/255);e=_.x1.multiply(_.x1.xc(J,J,J),_.x1.H1(r,r,r));
U=_.x1.xc(1/(I[1][1]/255-I[1][0]/255),1/(I[2][1]/255-I[2][0]/255),1/(I[3][1]/255-I[3][0]/255));K=_.x1.H1(-I[1][0]/255,-I[2][0]/255,-I[3][0]/255);
i=_.x1.multiply(U,K);var X=new _.up(256);for(var m=0;m<256;m++)X.o[m]=X.C[m]=X.k[m]=m;var z=1/(I[0][4]/100),h=1/(I[1][4]/100),R=1/(I[2][4]/100),C=1/(I[3][4]/100);
_.x1.transform(X,X,i);for(var m=0;m<256;m++){X.o[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.o[m]/255,h))));
X.C[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.C[m]/255,R))));X.k[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.k[m]/255,C))))}_.x1.transform(X,X,e);
for(var m=0;m<256;m++){X.o[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.o[m]/255,z))));X.C[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.C[m]/255,z))));
X.k[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.k[m]/255,z))))}r=I[0][2]/255;J=I[0][3]/255-I[0][2]/255;
e=_.x1.multiply(_.x1.H1(r,r,r),_.x1.xc(J,J,J));U=_.x1.xc(I[1][3]/255-I[1][2]/255,I[2][3]/255-I[2][2]/255,I[3][3]/255-I[3][2]/255);
K=_.x1.H1(I[1][2]/255,I[2][2]/255,I[3][2]/255);i=_.x1.multiply(K,U);_.x1.transform(X,X,_.x1.multiply(e,i));
y={type:k.eC,cN:X.o,ab:X.C,nG:X.k,QM:!1,ji:!1}}if(g=="curv"){var G=cx.fo(o,0).length==256?1:0,W=[];if(G==0){var A=_.wb.SV(cx.fo(o,0),256);
for(var m=1;m<4;m++){var $=_.wb.SV(cx.fo(o,m),256);W.push(_.wb.U$($,A))}}else{var O=[];for(var m=0;m<4;
m++){var Y=new Uint8Array(256);O.push(Y);var l=cx.fo(o,m);for(var n=0;n<256;n++)Y[n]=l[n]}for(var m=1;
m<4;m++)W.push(_.wb.U$(O[m],O[0]))}y={type:k.eC,cN:W[0],ab:W[1],nG:W[2],QM:!1,ji:!1}}if(g=="expA"){var B=o.Exps,f4=o.Ofst,V=o.gammaCorrection,q=B?B.v:0,s=f4?f4.v:0,cW=V?V.v:1,X=new Uint8Array(256);
for(var m=0;m<256;m++){var o=m/255,dk=Math.pow(Math.abs(s),1/(Math.PI/2));if(s>0){o=Math.max(s/Math.E,o);
o=o*Math.exp(s/1.75+q/Math.PI);o=(1-dk)*o+dk*1}else{o=o*Math.exp(-s*1.75+q/Math.PI);o=o+-dk*1.14}o=Math.pow(o,1/cW);
o=Math.max(0,Math.min(1,o));X[m]=Math.round(o*255)}y={type:k.eC,cN:X,ab:X,nG:X,QM:!1,ji:!1}}if(g=="vibA"){var kr=(o.vibrance?o.vibrance.v:0)/100,j9=(o.Strt?o.Strt.v:0)/100,dk=1+kr*(kr>0?.25:.5),bh=.8+.2/dk;
y={type:k.RT,Q6:[kr,j9,bh,dk]}}if(g=="hue2"){var fe=[],gg=[],a$=[],dg=o.Clrz?o.Clrz.v:!1;for(var m=0;
m<256;m++){fe[m]=m/255;gg[m]=0;a$[m]=0}var iv=c2.fo(o,0),aQ=aj.fH(iv[1]/100);if(dg){var dt=iv[0]/360;
for(var m=0;m<256;m++){fe[m]=dt;gg[m]=aQ}}else{for(var m=0;m<256;m++){var hY=fe[m],b9=gg[m];fe[m]+=iv[0]/360;
for(var n=0;n<6;n++){var i0=c2.fo(o,n+1),gD=i0.jU,hU=i0.Nv,dk=0;for(var aW=1;aW<4;aW++)if(hU[aW]<hU[0])hU[aW]+=360;
var be=hU[0],hv=hU[1],b3=hU[2],gT=hU[3],aB=hY*360;if(aB<hU[0])aB+=360;var bO=(aB-be)/(hv-be),kf=(aB-b3)/(gT-b3);
if(bO<0)dk=0;else if(bO<1)dk=bO;else if(kf<0)dk=1;else if(kf<1)dk=1-kf;else dk=0;var t=aj.fH(gD[1]/100);
fe[m]+=dk*gD[0]/360;gg[m]+=dk*t;a$[m]+=dk*gD[2]/100}}for(var m=0;m<256;m++){gg[m]=(1+gg[m])*(1+aQ)-1;
a$[m]=Math.max(-1,Math.min(1,a$[m]))}}var iY=new Uint8Array(256),gs=new Uint8Array(256),c1=new Uint8Array(256);
for(var m=0;m<256;m++){var gK=fe[m],j9=gg[m],c4=a$[m];if(gK>1)gK--;if(gK<0)gK++;j9=aj.atR(j9);j9=(1+j9)*.5;
c4=(1+c4)*.5;iY[m]=Math.round(255*gK);gs[m]=Math.round(255*j9);c1[m]=Math.round(255*c4)}var k6=iv[2]/100,jk=k6<0?-k6:k6,jt=k6<0?0:1;
y={type:k.fC,avb:iY,Ym:gs,aqn:c1,ai_:jk*jt,v2:1-jk,adX:iv[2]/100,ayv:dg?1:0}}if(g=="nvrt"){var X=new Uint8Array(256);
for(var m=0;m<256;m++)X[m]=255-m;y={type:k.eC,cN:X,ab:X,nG:X,QM:!1,ji:!1}}if(g=="post"){var j_=o.Lvls.v,X=new Uint8Array(256),dk=j_/255.001,kw=255/(j_-1);
for(var m=0;m<256;m++)X[m]=Math.floor(m*dk)*kw;y={type:k.eC,cN:X,ab:X,nG:X,QM:!1,ji:!1}}if(g=="grdm"){var eu=o.Grad.v,ak=o.Rvrs,w=1024,cY;
if(eu.Clrs){var bG=_.M._T(eu,0,0);cY=_.M.Mx(eu,bG,w,ak?ak.v:!1)}else{cY=_.M.ul(eu,w,ak?ak.v:!1)}var j5=_.Q(w),hI=_.Q(w),jJ=_.Q(w);
_.B4(cY,j5,0);_.B4(cY,hI,1);_.B4(cY,jJ,2);y={type:k.eC,cN:j5,ab:hI,nG:jJ,QM:!0,ji:!1}}if(g=="selc"){var ca=new Float32Array(9*3*2),gI=o.Js,c3=o.Mthd?o.Mthd.v.CrcM=="Absl":!1;
for(var n=0;n<9;n++){var fs=n*6,eS=az.fo(o,n),bf=eS[0]/100,ef=eS[1]/100,hh=eS[2]/100,fA=eS[3]/100;if(c3){ca[fs]=ca[fs+1]=ca[fs+2]=1;
ca[fs+3]=bf*(1+fA)+fA;ca[fs+4]=ef*(1+fA)+fA;ca[fs+5]=hh*(1+fA)+fA}else{ca[fs+0]=(1+bf)*(1+fA);ca[fs+1]=(1+ef)*(1+fA);
ca[fs+2]=(1+hh)*(1+fA)}}y={type:k.wr,aa8:ca}}if(g=="blwh"){var jS="Rd Yllw Grn Cyn Bl Mgnt".split(" "),y=[],cw=0,d2=0;
for(var m=0;m<6;m++)y.push(o[jS[m]].v);y.push(o.useTint.v,o.tintColor.v);var dn=[];for(var m=0;m<6;m++)dn.push((y[m]-50)/50);
var id=_.M.sL(y[7]);id.o/=255;id.C/=255;id.k/=255;var jy=_.RM(id.o,id.C,id.k),c4=_.bN(_.bI(jy.GP,1,.5)),dG=jy.ci*jy._Q;
if(c4==.5)cw=d2=.5;else{cw=dG*(.5-c4)/(.5/c4-1);d2=1-dG*(.5-c4)-1/(2*(1-c4));d2/=1-1/(2*(1-c4))}y={type:k.X3,a1l:dn,xd:y[6]?1:0,ahY:jy.GP,bN:c4,axQ:dG,sI:cw,auy:d2}}if(g=="blnc"){var I=[],fj=["ShdL","MdtL","HghL"];
for(var m=0;m<3;m++){if(o[fj[m]]==null){I[m]=[0,0,0];continue}var j_=o[fj[m]].v,aH=j_[0].v/100,gE=j_[1].v/100,iQ=j_[2].v/100,a_=o.PrsL==null||o.PrsL.v?(Math.min(aH,gE,iQ)+Math.max(aH,gE,iQ))/2:0;
I[m]=[aH-a_,gE-a_,iQ-a_]}var W=[_.Q(256),_.Q(256),_.Q(256)];for(var n=0;n<3;n++)for(var m=0;m<256;m++){var M=m*(1/255),iP=0,P=0,jY=0;
P=I[2][n];jY=Math.abs(P);if(P<0)iP=Math.pow(M,Math.SQRT2);else iP=1.63*(Math.pow(M+.04,.5)-.2);M=jY*iP+(1-jY)*M;
P=I[1][n];jY=Math.abs(P);if(P<0)iP=Math.pow(M,2);else iP=Math.min(2.35*(Math.pow(M+.09,.5)-.3),Math.pow(M,1/2));
M=jY*iP+(1-jY)*M;P=I[0][n];jY=Math.abs(P);if(P<0)iP=M<.4?0:Math.pow((M-.4)/.6,Math.SQRT2);else iP=Math.pow(M,Math.SQRT2/2);
M=jY*iP+(1-jY)*M;M=Math.max(0,Math.min(1,M));W[n][m]=Math.round(M*255)}y={type:k.eC,cN:W[0],ab:W[1],nG:W[2],QM:!1,ji:!1}}if(g=="phfl"){var iX=_.M.sL(o.Clr.v),cM=[iX.o/255,iX.C/255,iX.k/255],gr=o.Dnst.v/100,W=[_.Q(256),_.Q(256),_.Q(256)];
for(var n=0;n<3;n++)for(var m=0;m<256;m++){var M=m*(1/255),gL=M*cM[n];gL=Math.max(0,Math.min(1,gL));
M=gr*gL+(1-gr)*M;W[n][m]=Math.round(M*255)}y={type:k.eC,cN:W[0],ab:W[1],nG:W[2],QM:!1,ji:o.PrsL.v}}if(g=="thrs"){var X=_.Q(256);
for(var m=o.Lvl.v;m<256;m++)X[m]=255;y={type:k.eC,cN:X,ab:X,nG:X,QM:!0,ji:!1}}if(g=="mixr"){var j3=aj.G8(o),L=[];
for(var m=0;m<j3.Z.length;m++)if(m%5!=3)L.push(j3.Z[m]/100);if(j3.uY){for(var fd=1;fd<3;fd++)for(var M=0;
M<4;M++)L[fd*4+M]=L[M]}y={type:k.c_,DA:L}}if(g=="rplc"){var cS=o.Mnm.v,eY=o.Mxm.v;y={type:k.Pg,qv:[cS.Lmnc.v,cS.A.v,cS.B.v],CX:[eY.Lmnc.v,eY.A.v,eY.B.v],shift:[o.H.v/360,o.Strt.v/100,o.Lght.v/100],zI:o.Fzns.v/150}}if(g=="clrL"&&o.profile){var dy=new Uint8Array(o.profile.v),dP=ICC.R(dy.buffer),bt=[],cB=17,bt=ICC.U.sampleLUT(dP,cB);
y={type:k.pS,sP:ICC.U.lutToRGBA8(bt,cB),adI:bt,LY:cB}}return y};aj.r$=function(g,o){var k=-1;if(g!="levl"||o==null)k=-1;
else if(o.Auto)k=0;else if(o.AuCo)k=1;else if(o.autoBlackWhite)k=2;return k};aj.dM={eC:0,fC:1,RT:2,wr:3,X3:4,c_:5,Pg:6,pS:7};
aj.fH=function(g){if(g<0)return g;return Math.pow(Math.tan(Math.PI/2*g),1.3)};aj.atR=function(g){if(g<0)return g;
g=Math.pow(g,1/1.3);return Math.atan2(g,1)/(Math.PI/2)};aj.mn=function(g,o,k,y){var d=aj.dM,b=Date.now();
if(gl.yu&&y.O()>300*300&&g.type!=d.eC&&g.type!=d.pS){y=y.clone();y.x=y.y=0;var T=gl.IJ(0,y.m,y.n);T.set(o);
gl.z9(T,y);T.fv(y);aj.TK(g,T.zF,y);T.get(k);return}if(g.type==d.pS){var a=g.adI,t=g.LY;ICC.U.applyLUT(a,t,o,k);
var j=o.length;for(var m=0;m<j;m+=4)k[m+3]=o[m+3]}if(g.type==d.c_)_.x1.TA(o,k,g.DA);if(g.type==d.X3){var e=g.axQ,v=g.bN,L=g.sI,H=g.auy,j=o.length;
for(var m=0;m<j;m+=4){var y=o[m]*(1/255),w=o[m+1]*(1/255),P=o[m+2]*(1/255),Q=_.g4(y,w,P),x=0;for(var F=0;
F<6;F++)x+=Math.min(1,1.7*(1-Q.qK))*Q.ci*g.a1l[F]*aj.aif(Q.GP,F*(1/6));var E=Math.max(0,Math.min(1,Q.qK*(1+x)));
if(g.xd==1){var f=0;if(E<L)f=E*(.5/v);else if(E<H)f=E+e*(.5-v);else f=1-(1-E)*.5/(1-v);Q.GP=g.ahY;Q.ci=Math.min(1,e+3*e*Math.abs(E-.5*(L+H)));
Q.qK=f}else{Q.GP=0;Q.ci=0;Q.qK=E}var c=_.bI(Q.GP,Q.ci,Q.qK);k[m]=Math.round(c.o*255);k[m+1]=Math.round(c.C*255);
k[m+2]=Math.round(c.k*255)}}if(g.type==d.wr){var M=g.aa8,j=o.length,n=1/255;for(var m=0;m<j;m+=4){var y=o[m]*n,w=o[m+1]*n,P=o[m+2]*n,Q=_.g4(y,w,P),X=Math.max(y,Math.max(w,P)),u=Math.min(y,Math.min(w,P)),I=1-y,r=1-w,J=1-P,U=0,K=0,i=0;
for(var F=0;F<9;F++){var z=F*6,G=0;if(M[z]==1&&M[z+1]==1&&M[z+2]==1&&M[z+3]==0&&M[z+4]==0&&M[z+5]==0)continue;
var h=I*M[z]+M[z+3],R=r*M[z+1]+M[z+4],C=J*M[z+2]+M[z+5];if(F<6)G=aj.aif(Q.GP,F*(1/6))*Q.ci*2*Math.min(Q.qK,1-Q.qK);
else if(F==6)G=Math.max(0,u-.5)*2;else if(F==7)G=1-(Math.abs(X-.5)+Math.abs(u-.5));else G=Math.max(0,.5-X)*2;
U+=(Math.max(0,Math.min(1,h))-I)*G;K+=(Math.max(0,Math.min(1,R))-r)*G;i+=(Math.max(0,Math.min(1,C))-J)*G}I=Math.max(0,Math.min(1,I+U));
r=Math.max(0,Math.min(1,r+K));J=Math.max(0,Math.min(1,J+i));y=1-I;w=1-r;P=1-J;k[m]=Math.round(y*255);
k[m+1]=Math.round(w*255);k[m+2]=Math.round(P*255)}}if(g.type==d.eC){_.agJ(o,k,g.cN,g.ab,g.nG,g.QM,g.ji)}if(g.type==d.fC){var W=new Uint32Array(o.buffer),A=new Uint32Array(k.buffer),j=W.length;
if(aj.W7==null){aj.W7=new Float64Array(256);for(var m=0;m<256;m++)aj.W7[m]=aj.fH(-1+2*m/255)}var $=aj.W7;
for(var m=0;m<j;m++){var O=W[m],y=(O&255)*(1/255),w=(O>>>8&255)*(1/255),P=(O>>>16&255)*(1/255),Y=O>>>24,l=Math.min(y,w,P),B=Math.max(y,w,P),f4=0,V=0,q=0;
f4=_.g4(y,w,P).GP;var s=~~(f4*255+.5),cW=g.avb[s]*(1/255),dk=g.Ym[s]*(1/255)*2-1,kr=g.aqn[s]*(1/255)*2-1,x=-kr,j9=l;
if(0<kr){x=kr;j9=B}var bh=g.ai_+g.v2*x*j9,fe=g.v2*(1-x);y=bh+fe*y;w=bh+fe*w;P=bh+fe*P;B=Math.max(y,w,P);
l=Math.min(y,w,P);q=(B+l)*.5;if(B!=l){var gg=B-l;V=q>.5?gg/(2-(B+l)):gg/(B+l)}var a$=dk;if(g.ayv==0){dk=$[Math.floor((1+dk)*127.5)];
a$=Math.min(V*(1+dk),1)}var c=_.bI(cW,a$,q);y=c.o;w=c.C;P=c.k;A[m]=Y<<24|P*255<<16|w*255<<8|y*255}}if(g.type==d.Pg){_.QF(o,k);
var W=new Uint32Array(o.buffer),A=new Uint32Array(k.buffer),j=W.length,dg=g.zI,iv=1/dg,aQ={hb:g.qv[0],Ng:g.qv[1],k:g.qv[2]},dt={hb:g.CX[0],Ng:g.CX[1],k:g.CX[2]};
for(var m=0;m<j;m++){var O=W[m],hY=O&255,b9=O>>>8&255,i0=O>>>16&255,y=hY*(1/255),w=b9*(1/255),P=i0*(1/255),Y=O>>>24,gD=_.cr(hY,b9,i0),hU=_.hD(gD,aQ,dt,dg,iv);
if(hU==0)continue;var Q=_.g4(y,w,P),cW=2+Q.GP+g.shift[0];Q.GP=cW-~~cW;Q.ci=Math.max(0,Math.min(1,Q.ci+g.shift[1]));
Q.qK=Math.max(0,Math.min(1,Q.qK+g.shift[2]));var c=_.bI(Q.GP,Q.ci,Q.qK);y=(1-hU)*y+hU*c.o;w=(1-hU)*w+hU*c.C;
P=(1-hU)*P+hU*c.k;A[m]=Y<<24|P*255<<16|w*255<<8|y*255}}if(g.type==d.RT){var W=new Uint32Array(o.buffer),A=new Uint32Array(k.buffer),j=W.length,aW=g.Q6[0],be=g.Q6[1],hv=g.Q6[2],x=g.Q6[3],b3=_.x1.Q8([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),gT=_.x1.TY(b3),aB=2.4;
function t(c1){return Math.max(0,Math.min(1,c1))}function bO(c1){return Math.pow(c1,aB)}function kf(c1){return Math.pow(c1,1/aB)}function iY(y,w,P,c1){y=bO(y);
w=bO(w);P=bO(P);var gK=_.x1.hi(b3,[y,w,P,1]);gK[0]*=hv;gK[1]*=x;gK[2]*=x;var c=_.x1.hi(gT,gK);c[0]=kf(t(c[0]));
c[1]=kf(t(c[1]));c[2]=kf(t(c[2]));return c}for(var m=0;m<j;m++){var O=W[m],y=(O&255)*(1/255),w=(O>>>8&255)*(1/255),P=(O>>>16&255)*(1/255),Y=O>>>24,c=iY(y,w,P,aW);
y=c[0];w=c[1];P=c[2];var gs=_.g4(y,w,P);gs.ci=Math.max(0,Math.min(1,gs.ci*(1+be)));c=_.bI(gs.GP,gs.ci,gs.qK);
y=c.o;w=c.C;P=c.k;A[m]=Y<<24|P*255<<16|w*255<<8|y*255}}};aj.TK=function(g,o,k){gl.JX.TK(g,o)};aj.aif=function(g,o){var k=_.SR(o,g)*6;
return Math.max(0,Math.min(1,k<0?1+k:1-k))};var jf={};jf.yB=function(g){var o=g.filterID.v;return o>16777215?S.agl(o):g.Fltr.v.classID};
jf.kF=[{si:"GEfc"},{si:"LnCr"},{si:"Adobe Camera Raw Filter"},{si:"LqFy",_r:!0},{IE:"3D",Ki:["lightFilterGradient","Dila"]},{IE:[24,2],Ki:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{IE:[24,4],Ki:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{IE:[24,6],Ki:["AdNs","Dspc","DstS","Mdn ","denoise"]},{IE:[24,8],Ki:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{IE:[24,10],Ki:["Flam","Clds","DfrC","Fbrs","LnsF"]},{IE:[24,12],Ki:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{IE:[24,14],Ki:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{IE:[24,16],Ki:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{IE:"Fourier",Ki:["dDFT","iDFT"]}];
jf.tb={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
jf.y0={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
jf._={rigidTransform:D.gX};jf.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
jf.J0=function(g){var o=null;if(g=="GEfc")o={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:iO.J0("GlwE")}]}};
if(g=="LqFy"){var k={bW:5,GP:5,map:new Float32Array(5*5*2)},y=new Uint8Array(by.Z4(k)),d=[];for(var m=0;
m<y.length;m++)d.push(y[m]);o={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:d}}}if(g=="rigidTransform"){o={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(g=="LnCr")o={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(g=="adaptCorrect")o={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(g=="Dfs ")o={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(g=="Fbrs")o={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(g=="Embs")o={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(g=="oilPaint")o={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(g=="TrcC")o={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(g=="Wnd ")o={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(g=="lightFilterGradient")o={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(g=="boxblur")o={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(g=="GsnB")o={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(g=="Bokh")o={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(g=="MtnB")o={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(g=="RdlB")o={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(g=="surfaceBlur")o={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(g=="denoise")o={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(g=="Dspl")o={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(g=="Pnch")o={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(g=="Plr ")o={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(g=="Rple")o={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(g=="Shr ")o={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(g=="Sphr")o={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(g=="Twrl")o={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(g=="Wave")o={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(g=="ZgZg")o={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(g=="AdNs")o={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(g=="DstS")o={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(g=="Mdn ")o={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(g=="ClrH")o={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(g=="Crst")o={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(g=="Mztn")o={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(g=="Msc ")o={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(g=="Pntl")o={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(g=="LnsF")o={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(g=="Dthr")o={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(g=="Part")o={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(g=="Adobe Camera Raw Filter")o={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(g=="smartSharpen")o={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(g=="UnsM")o={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(g=="HghP")o={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(g=="HsbP")o={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(g=="Mxm ")o={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(g=="Mnm ")o={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(g=="Ofst")o={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(g=="Kale")o={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(g=="Rept")o={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(g=="Flam")o={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(g=="Ctoa")o={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(g=="brit")o={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(g=="levl")o={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(g=="curv")o={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(g=="expA")o={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(g=="vibA")o={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(g=="hue2")o={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(g=="blnc")o={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(g=="blwh")o={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(g=="phfl")o={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(g=="grdm")o={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(iZ.GZ[6]).Grad};
if(g=="selc")o={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(g=="thrs")o={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(g=="mixr")o={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(g=="clrL")o={__name:"Color Lookup",classID:"colorLookup"};if(g=="post")o={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(g=="rplc")o={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(g=="fade")o={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(g=="aply")o={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(g=="matc"){o={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(g=="Dila")o={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(g=="blendOptions")o={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return o};jf.p9={sFlam:function(g,o){o[0]=g.Type.v;o[1]=g.Leng.v;o[2]=g.RndL.v;o[3]=g.Widt.v;o[4]=g.Angl.v;
o[5]=g.Intr.v;o[6]=g.Adpt.v;o[7]=g.Clr.v;o[8]=g.Qual.v;o[9]=g.Turb.v;o[10]=g.Jag.v;o[11]=g.Opct.v.val;
o[12]=g.Lins.v;o[13]=g.Botm.v;o[14]=g.Styl.v;o[15]=g.Shap.v;o[16]=g.RnSh.v;o[17]=g.Arng.v},gFlam:function(g,o){g.Type.v=o[0];
g.Leng.v=o[1];g.RndL.v=o[2];g.Widt.v=o[3];g.Angl.v=o[4];g.Intr.v=o[5];g.Adpt.v=o[6];g.Clr.v=o[7];g.Qual.v=o[8];
g.Turb.v=o[9];g.Jag.v=o[10];g.Opct.v.val=o[11];g.Lins.v=o[12];g.Botm.v=o[13];g.Styl.v=o[14];g.Shap.v=o[15];
g.RnSh.v=o[16];g.Arng.v=o[17]},sAdNs:function(g,o){o[0]=g.Nose.v.val;o[1]=["Gsn","Unfr"].indexOf(g.Dstr.v.Dstr);
o[2]=g.Mnch.v},gAdNs:function(g,o){g.Nose.v.val=o[0];g.Dstr.v.Dstr=["Gsn","Unfr"][o[1]];g.Mnch.v=o[2]},sDstS:function(g,o){o[0]=g.Rds.v;
o[1]=g.Thsh.v},gDstS:function(g,o){g.Rds.v=o[0];g.Thsh.v=o[1]},sGsnB:function(g,o){o[0]=g.Rds.v.val},gGsnB:function(g,o){g.Rds.v.val=o[0]},sDila:function(g,o){o[0]=g.Crop.v.val;
o[1]=g.Rds.v.val},gDila:function(g,o){g.Crop.v.val=o[0];g.Rds.v.val=o[1]},sHghP:function(g,o){o[0]=g.Rds.v.val},gHghP:function(g,o){g.Rds.v.val=o[0]},sHsbP:function(g,o){var k=["RGBC","HSBl","HSLC"];
o[0]=k.indexOf(g.Inpt.v.ClrS);o[1]=k.indexOf(g.Otpt.v.ClrS)},gHsbP:function(g,o){var k=["RGBC","HSBl","HSLC"];
g.Inpt.v.ClrS=k[o[0]];g.Otpt.v.ClrS=k[o[1]]},"sMxm ":function(g,o){var k="preserveShape";o[0]=g.Rds.v.val;
o[1]=g[k]?["squareness","Rndn"].indexOf(g[k].v[k]):0},"gMxm ":function(g,o){var k="preserveShape";g.Rds.v.val=o[0];
g[k]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},"sMnm ":function(g,o){var k="preserveShape";
o[0]=g.Rds.v.val;o[1]=g[k]?["squareness","Rndn"].indexOf(g[k].v[k]):0},"gMnm ":function(g,o){var k="preserveShape";
g.Rds.v.val=o[0];g[k]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},sMtnB:function(g,o){o[0]=[g.Angl.v];
o[1]=g.Dstn.v.val;console.log(o)},gMtnB:function(g,o){g.Angl.v=typeof o[0]=="number"?o[0]:o[0][0];g.Dstn.v.val=o[1]},sOfst:function(g,o){o[0]=g.Hrzn.v;
o[1]=g.Vrtc.v;o[2]=["Rpt","Bckg","Wrp"].indexOf(g.Fl.v.FlMd)},gOfst:function(g,o){g.Hrzn.v=o[0];g.Vrtc.v=o[1];
g.Fl.v.FlMd=["Rpt","Bckg","Wrp"][o[2]]},sPnch:function(g,o){o[0]=g.Amnt.v},gPnch:function(g,o){g.Amnt.v=o[0]},"sPlr ":function(g,o){o[0]=["RctP","PlrR"].indexOf(g.Cnvr.v.Cnvr)},"gPlr ":function(g,o){g.Cnvr.v.Cnvr=["RctP","PlrR"][o[0]]},sRple:function(g,o){o[0]=g.Amnt.v;
o[1]=["Sml","Mdm","Lrg"].indexOf(g.RplS.v.RplS)},gRple:function(g,o){g.Amnt.v=o[0];g.RplS.v.RplS=["Sml","Mdm","Lrg"][o[1]]},sTwrl:function(g,o){o[0]=g.Angl.v},gTwrl:function(g,o){g.Angl.v=o[0]},sZgZg:function(g,o){o[0]=g.Amnt.v;
o[1]=g.NmbR.v;o[2]=["ArnC","OtFr","PndR"].indexOf(g.ZZTy.v.ZZTy)},gZgZg:function(g,o){g.Amnt.v=o[0];
g.NmbR.v=o[1];g.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][o[2]]},sUnsM:function(g,o){o[0]=g.Amnt.v.val;o[1]=g.Rds.v.val;
o[2]=g.Thsh.v},gUnsM:function(g,o){g.Amnt.v.val=o[0];g.Rds.v.val=o[1];g.Thsh.v=o[2]},sWave:function(g,o){o[0]=g.NmbG.v;
o[1]=g.WLMn.v;o[2]=g.WLMx.v;o[3]=g.AmMn.v;o[4]=g.AmMx.v;o[5]=g.SclH.v;o[6]=g.SclV.v;o[7]=["WvSn","WvTr","WvSq"].indexOf(g.Wvtp.v.Wvtp);
o[8]=["WrpA","RptE"].indexOf(g.UndA.v.UndA);o[9]=g.RndS.v},gWave:function(g,o){g.NmbG.v=o[0];g.WLMn.v=o[1];
g.WLMx.v=o[2];g.AmMn.v=o[3];g.AmMx.v=o[4];g.SclH.v=o[5];g.SclV.v=o[6];g.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][o[7]];
g.UndA.v.UndA=["WrpA","RptE"][o[8]];if(o[9]!=null){var k=parseInt(o[9]);if(isNaN(k))k=248325464;k=Math.max(0,Math.min(268435455,k));
g.RndS.v=k}},sbrit:function(g,o){o[0]=g.Brgh?g.Brgh.v:0;o[1]=g.Cntr?g.Cntr.v:0;o[2]=g.useLegacy?g.useLegacy.v:!1},gbrit:function(g,o){g.Brgh.v=o[0];
g.Cntr.v=o[1];if(o[2]!=null)g.useLegacy.v=o[2]}};jf.a5Z=function(g){var o=new bJ(0,0);if(g.enab.v==!1)return o;
var k=g.filterFXList.v;for(var m=0;m<k.length;m++){var y=k[m].v;if(y.enab.v==!1)continue;var d=jf.yB(y),b=jf._8(d,y.Fltr?y.Fltr.v:null);
if(b.x>o.x)o.x=b.x;if(b.y>o.y)o.y=b.y}return o};jf._8=function(g,o){var k=0,y=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(g)!=-1){var d=o.Rds?o.Rds.v.val:1;
k=y=d*2.57}if(g=="MtnB")k=y=o.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(g)!=-1){k=y=1e4}if(g=="GEfc")return iO._8(o);
return new bJ(Math.ceil(k),Math.ceil(y))};jf.nC=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
jf.gb=function(g,o){var k={o:o.p2>>16,C:o.p2>>8&255,k:o.p2&255},y={o:o.Pp>>16,C:o.Pp>>8&255,k:o.Pp&255},d=jf.names[g];
if(d==null)d=aj.names[g];var b=g;for(var T in aj.wf)if(aj.wf[T]==g)b=T;var a={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:d9.get(d)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:_.M.UF(k)},BckC:{t:"Objc",v:_.M.UF(y)},filterID:{t:"long",v:b.length==4?S.awn(b):777}}},t=jf.J0(g);
if(t)a.v.Fltr={t:"Objc",v:t};return a};jf.uh=function(g,o,k,y){var d=Date.now(),b=gl.yu&&Math.max(y.m,y.n)<=gl.iS.getParameter(gl.iS.MAX_TEXTURE_SIZE);
if(g<1){var T=Math.round(g*5),a=[1,2,1,2,[40,26,13,6,4,2][T],2,1,2,1];a=_.DH.Tb(a);if(!b){_.Td(k);var t=k.slice(0);
_.DH.lN(t,k,y.m,y.n,a,255);_.PF(k)}else{var j=y.m,e=y.n,v=gl.IJ(0,j,e);v.set(k);var L=gl.IJ(1,j,e),H=new Float32Array([1/j,1/e]);
gl.z9(L);gl.filter.TK({type:gl.filter.afH,mf:H,awE:new Float32Array(a)},v.fn);L.get(k)}}else{var w=o==_.tI.Tt?0:o==_.tI.tB?1:2,P=[];
while(w!=2&&g*[1,2.4][w]>20&&P.length<4){var Q=_.pL(k,y);P.push(k,y);k=Q.rg;y=Q.rect;g/=2}var j=y.m,e=y.n;
if(!b||w==2&&g>15){_.Td(k);o(k,y,g);_.PF(k)}else{var v=gl.IJ(0,j,e);v.set(k);var L=gl.IJ(1,j,e),H=new Float32Array([1/j,1/e]);
if(w==0){var x=1;while(x<g)x<<=1;gl.z9(L);gl.filter.TK({type:gl.filter.NL,mf:H,eA:g,Mq:[0,0,x]},v.fn);
gl.z9(v);gl.filter.TK({type:gl.filter.NL,mf:H,eA:g,Mq:[0,1,x]},L.fn);v.get(k)}else if(w==1){var F=3,E=_.tI.D1(g,F);
for(var m=0;m<F;m++){var f=E[m]>>>1,c=1;while(c<f)c<<=1;if(f==0)continue;gl.z9(L);gl.filter.TK({type:gl.filter.NL,mf:H,eA:f,Mq:[0,0,c]},v.fn);
gl.z9(v);gl.filter.TK({type:gl.filter.NL,mf:H,eA:f,Mq:[0,1,c]},L.fn)}v.get(k)}else{var x=1;while(x<g)x<<=1;
gl.z9(L);gl.filter.TK({type:gl.filter.NL,mf:H,eA:g,Mq:[0,0,x]},v.fn);L.get(k)}}var M=Date.now();while(P.length!=0){var n=P.pop(),X=P.pop();
_.scale.ag1(k,y.m,y.n,X,n.m,n.n);k=X;y=n}}};jf.arh=function(g,o,k,y){for(var m=0;m<g.length;m++){k[m]=g[m]*(1/255);
y[m]=0}FFT.fft2d(k,y);var d=o>>>1,b=16384,T=128,t=100;while(T<o){T<<=1;b<<=2}var a=255/Math.log(b),j=-100;
for(var e=0;e<o;e++)for(var v=0;v<d;v++){var L=o+d+e&o-1,H=k[L*o+v],w=y[L*o+v],P=Math.sqrt(H*H+w*w),Q=Math.atan2(w,H);
g[e*o+v]=Math.round(a*Math.log(P+1));g[e*o+d+v]=Math.round((Math.PI+Q)*(255*.5/Math.PI))}};jf.aaW=function(g,o,k,y){k.fill(0);
y.fill(0);var d=o>>>1,b=16384,T=128;while(T<o){T<<=1;b<<=2}var a=255/Math.log(b),t=[],j=[],e=[];for(var m=0;
m<256;m++){t[m]=Math.exp(m/a)-1;var v=m*(2*Math.PI/255)-Math.PI;j[m]=Math.sin(v);e[m]=Math.cos(v)}for(var L=0;
L<o;L++)for(var H=0;H<d;H++){var w=o+d+L&o-1,P=t[g[L*o+H]],v=g[L*o+d+H],Q=P*e[v],x=P*j[v];k[w*o+H]=Q;
y[w*o+H]=x;if(H!=0){var F=w==0?w*o+o-H:(o-w)*o+(o-H);k[F]=Q;y[F]=-x}}FFT.ifft2d(k,y);for(var m=0;m<g.length;
m++){g[m]=Math.max(0,Math.min(255,~~(.5+255*k[m])))}};jf.afr=new ArrayBuffer(512);jf.agv=function(g){var o=jf.afr,k=g.length;
if(o.byteLength<k)jf.afr=o=new ArrayBuffer(k);var y=new Uint8Array(o);for(var m=0;m<k;m+=4){y[m]=g[m];
y[m+1]=g[m+1];y[m+2]=g[m+2];y[m+3]=g[m+3]}return o};jf.mn=function(g,o,k,y,d,b,T){if(b==null)b={buffer:_.Q(o.buffer.length),rect:o.rect.clone()};
b.buffer.set(o.buffer);var a=k&&k.RndS?k.RndS.v>>>1:0;if(g=="GEfc"){var t=[];if(k.GEfs){var j=k.GEfs.v;
for(var m=0;m<j.length;m++){var e=j[m].v;if(e.GELv&&e.GELv.v==!1)continue;t.push(e)}}else t=[k];for(var m=0;
m<t.length;m++){var v;if(m==0)iO.mn(g,o,t[m],y,d,b,T);else{if(v==null)v={buffer:_.Q(o.buffer.length),rect:o.rect.clone()};
_.QF(b.buffer,v.buffer);iO.mn(g,v,t[m],y,d,b,T)}}}if(g=="Dila"){var L=k.Crop.v.val,H=k.Rds.v.val+L;H=H*H;
if(H==0)return;var w=o.rect,P=w.m,Q=w.n,x=P*Q,F=o.buffer,v=b.buffer,E=_.Q(x);_.B4(F,E,3);if(L!=0){var f=w.clone();
f.pK(1,1);var c=_.Q(f.O());_.sQ(E,w,c,f);_.TY(c);_.style.stroke(c,c,f,L);_.TY(c);_.sQ(c,f,E,w)}var M=_.style.IM(E,P,Q);
v.fill(0);for(var n=0;n<Q;n++)for(var X=0;X<P;X++){var m=n*P+X,u=m<<1,I=m<<2,r=M[u],J=M[u+1];if(r*r+J*J<H){var U=(n+J)*P+(X+r)<<2;
v[I]=F[U];v[I+1]=F[U+1];v[I+2]=F[U+2];v[I+3]=255}}}if(g=="Adobe Camera Raw Filter"){var w=o.rect,P=w.m,Q=w.n,x=P*Q,K=x*4,i=x*3,z=new Float32Array(P*Q*3),h=o.buffer;
for(var m=0;m<x;m++){var R=m*3,I=m*4;z[R]=h[I]*(1/255);z[R+1]=h[I+1]*(1/255);z[R+2]=h[I+2]*(1/255)}var C=JSON.parse(JSON.stringify(k));
delete C.Upri;delete C.GuUr;var G=z.slice(0);dD(z,P,Q,G,C);z=G;h=b.buffer;for(var m=0;m<x;m++){var R=m*3,I=m*4;
h[I]=255*Math.max(0,Math.min(1,z[R]));h[I+1]=255*Math.max(0,Math.min(1,z[R+1]));h[I+2]=255*Math.max(0,Math.min(1,z[R+2]))}}if(g=="Fct "){var w=o.rect,P=w.m,Q=w.n,x=P*Q,K=x*4;
function W(hJ){var gT=hJ.slice(0);for(var n=0;n<3;n++)for(var X=0;X<3;X++)gT[n*3+X]=hJ[(2-X)*3+n];return gT}function A(gV,ff,jx,bP){var cq=0;
for(var n=0;n<3;n++)for(var X=0;X<3;X++)cq+=ff[n*3+X]*gV[(bP-1+n)*P+jx-1+X];return cq}var $=[8,5,2,5,2,-1,2,-1,-4],O=[5,5,5,2,2,2,-1,-1,-1],Y=[2,2,2,2,2,2,2,2,2],l=[];
l.push($);for(var m=0;m<3;m++)l.push(W(l[l.length-1]));l.push(O);for(var m=0;m<3;m++)l.push(W(l[l.length-1]));
l.push(Y);for(var m=0;m<9;m++)l[m]=_.DH.Tb(l[m]);var B=[-P-1,-P,-P+1,-1,0,1,P-1,P,P+1],f4=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],V=_.Q(x),q=new Float32Array(x),G=_.Q(x);
for(var s=0;s<3;s++){_.B4(o.buffer,V,s);for(var cW=0;cW<1;cW++){for(var n=1;n<Q-1;n++)for(var X=1;X<P-1;
X++){var dk=n*P+X,kr=V[dk];q[dk]=1e9;for(var m=0;m<9;m++){var j9=A(V,l[m],X,n),bh=(j9-kr)*(j9-kr);if(bh<q[dk])q[dk]=bh}}for(var n=1;
n<Q-1;n++)for(var X=1;X<P-1;X++){var fe=0,gg=1e9;for(var m=0;m<9;m++){var a$=n*P+X+B[m],bh=q[a$];if(bh<gg){gg=bh;
fe=V[a$]}}G[n*P+X]=fe}V.set(G)}_.e_(G,b.buffer,s)}}if(g=="adaptCorrect"){var w=o.rect,P=w.m,Q=w.n,x=P*Q,K=x*4,dg=k.sdwM.v,iv=dg.Amnt.v.val/100,aQ=dg.Wdth.v.val/100,dt=dg.Rds.v,hY=k.hglM.v,b9=hY.Amnt.v.val/100,i0=hY.Wdth.v.val/100,gD=hY.Rds.v;
_.xK.lS(o.buffer,b.buffer,P,Q,iv,aQ,dt,b9,i0,gD,k.ClrC.v/100,k.Cntr.v/100)}if(g=="denoise"){var w=o.rect,P=w.m,Q=w.n,aW=k.channelDenoise.v[0].v;
_.f0.ar_(o.buffer,P,Q,b.buffer,aW.Amnt.v/10,aW.EdgF.v/100)}if(g=="HsbP"){var be=k.Inpt.v.ClrS,hv=k.Otpt.v.ClrS,w=o.rect,P=w.m,Q=w.n,x=P*Q;
for(var m=0;m<x;m++){var I=m*4,cW=o.buffer[I]*(1/255),b3=o.buffer[I+1]*(1/255),gT=o.buffer[I+2]*(1/255);
if(be=="RGBC"){}else if(be=="HSLC"){var G=_.bI(cW,b3,gT);cW=G.o;b3=G.C;gT=G.k}else if(be=="HSBl"){var G=_.atD(cW,b3,gT);
cW=G.o;b3=G.C;gT=G.k}var aB=cW,bO=b3,kf=gT;if(hv=="RGBC"){}else if(hv=="HSLC"){var G=_.g4(cW,b3,gT);
aB=G.GP;bO=G.ci;kf=G.qK}else if(hv=="HSBl"){var G=_.u_(cW,b3,gT);aB=G.GP;bO=G.ci;kf=G.k}b.buffer[I]=~~(255*aB);
b.buffer[I+1]=~~(255*bO);b.buffer[I+2]=~~(255*kf)}}if(g=="Fbrs"){var w=o.rect,P=w.m,Q=w.n;_.B.IB(o.buffer,P,Q,b.buffer,[k.Vrnc.v,k.Strg.v,a]);
var iY=_.Q(P*Q);_.B4(b.buffer,iY,0);_.TY(iY);iO.xH(iY,b.buffer,y,d)}if(g=="Frgm"){var w=o.rect,P=w.m,Q=w.n,gs=o.buffer.slice(0);
_.Td(gs);_.B.atM(gs,P,Q,b.buffer);_.PF(b.buffer)}if(g=="Flam"){var w=o.rect,P=w.m,Q=w.n,c1=k.Clr.v,gK={type:k.Type.v+1,length:k.Leng.v,ago:k.RndL.v,kQ:k.Widt.v,apB:k.Angl.v,aeF:k.Intr.v,akT:k.Adpt.v,color:{o:c1.Rd.v,C:c1.Grn.v,k:c1.Bl.v},XE:k.Qual.v+1,n$:k.Turb.v,fi:k.Jag.v,opacity:k.Opct.v.val,os:k.Lins.v,abH:k.Botm.v,style:k.Styl.v+1,shape:k.Shap.v+1,abk:k.RnSh.v,apx:k.Arng.v,a2L:!1},c4=T[3],k6=c4[0],jk=c4[1],jt=k6[jk.length!=0?jk[0]:0];
if(jt==null){alert("Make a path first");return}var j_=jt.add.vmsk.a,kw=_.w.L7(j_),eu=[];for(var U=0;
U<kw;U++){var ak=_.w.SO(j_,U),cY=j_[ak];if(cY.length<2)continue;var bG=[];eu.push(bG);var j5=cY.length-(cY.type==3?1:0);
for(var dk=0;dk<j5;dk++){var hI=j_[ak+1+dk],jJ=dk==cY.length-1?j_[ak+1]:j_[ak+1+dk+1],ca=hI.H,gI=hI.dt,$=jJ.Tp,c3=jJ.H,fs=Math.round(bJ.YX(ca,c3)/5);
for(var eS=0;eS<fs;eS++){var bf=eS/fs,ef=1-bf,X=ef*ef*ef*ca.x+3*ef*ef*bf*gI.x+3*ef*bf*bf*$.x+bf*bf*bf*c3.x,n=ef*ef*ef*ca.y+3*ef*ef*bf*gI.y+3*ef*bf*bf*$.y+bf*bf*bf*c3.y;
bG.push(X,n)}}}var hh=[eu,gK],fA=Date.now(),jS=fO(hh);dC(o.buffer,P,Q,b.buffer,jS,hh)}if(g=="Dfs "){var w=o.rect,P=w.m,Q=w.n,dn=["Nrml","DrkO","LghO","anisotropic"].indexOf(k.Md.v.DfsM);
if(dn<3)_.B.acS(o.buffer,P,Q,b.buffer,[dn]);else{var hh=[1.4,1.6,1,4,!1,2,[0,0,.001]],w=o.rect.clone();
w.x=w.y=0;_.w8.filter(o.buffer,w,b.buffer,hh)}}if(g=="TrcC"){var w=o.rect,P=w.m,id=P<<2,Q=w.n,jy=k.Lvl.v,dG=k.Edg.v.CntE=="Lwr",cw=o.buffer,d2=b.buffer;
_.Sm(d2,16777215,4278190080);function fj(dU,ka){gE(dU,ka);gE(dU+1,ka+1);gE(dU+2,ka+2)}function aH(dU,ka){iQ(dU,ka);
iQ(dU+1,ka+1);iQ(dU+2,ka+2)}function gE(dU,ka){var aB=cw[dU],bO=cw[ka];if(aB>=jy&&bO<jy)d2[dU]=0;if(aB<jy&&bO>=jy)d2[ka]=0}function iQ(dU,ka){var aB=cw[dU],bO=cw[ka];
if(aB>jy&&bO<=jy)d2[ka]=0;if(aB<=jy&&bO>jy)d2[dU]=0}if(dG)for(var n=1;n<Q;n++)for(var X=1;X<P;X++){var I=n*P+X<<2;
fj(I,I-4);fj(I,I-id)}else for(var n=1;n<Q;n++)for(var X=1;X<P;X++){var I=n*P+X<<2;aH(I,I-4);aH(I,I-id)}}if(g=="Embs"){var w=o.rect,P=w.m,Q=w.n,a_=-k.Angl.v*Math.PI/180,iP=k.Hght.v,jY=k.Amnt.v/100;
iP/=2;var r=Math.cos(a_)*iP,J=Math.sin(a_)*iP,cw=o.buffer,d2=b.buffer;d2.fill(0);var iX=new Uint32Array(cw.buffer),G=new Uint8Array(4),cM=new Uint32Array(G.buffer);
for(var n=0;n<Q;n++)for(var X=0;X<P;X++){var gr=0,gL=0,j3=0;if(0<=X+r&&X+r<P&&0<=n+J&&n+J<Q){_.K.VG(X+r+.5,n+J+.5,iX,P,Q,cM,0,0);
gr+=G[0]-128;gL+=G[1]-128;j3+=G[2]-128}if(0<=X-r&&X-r<P&&0<=n-J&&n-J<Q){_.K.VG(X-r+.5,n-J+.5,iX,P,Q,cM,0,0);
gr-=G[0]-128;gL-=G[1]-128;j3-=G[2]-128}var I=n*P+X<<2;d2[I]=Math.max(0,Math.min(255,gr*jY+128));d2[I+1]=Math.max(0,Math.min(255,gL*jY+128));
d2[I+2]=Math.max(0,Math.min(255,j3*jY+128));d2[I+3]=cw[I+3]}}if(g=="ShrE"){var w=o.rect,P=w.m,Q=w.n;
_.B.a8z(o.buffer,P,Q,b.buffer)}if(g=="Dspc"){var w=o.rect,P=w.m,Q=w.n;_.B.a2I(o.buffer,P,Q,b.buffer)}if(g=="Slrz"){var fd=b.buffer,cS=128;
for(var m=0;m<fd.length;m+=4){if(fd[m]>cS)fd[m]=255-fd[m];if(fd[m+1]>cS)fd[m+1]=255-fd[m+1];if(fd[m+2]>cS)fd[m+2]=255-fd[m+2]}}if(g=="Wnd "){var w=o.rect,P=w.m,Q=w.n,eY=["Wnd","Blst","Stgr"],dy=k.WndM.v.WndM;
_.B.Pv(o.buffer,P,Q,b.buffer,[eY.indexOf(dy),k.Drct.v.Drct!="Left"])}if(g=="Bokh"){var w=o.rect,P=w.m,Q=w.n,x=P*Q,K=x*4,dP=o.buffer.slice(0),bt=k.BkDi.v.BtDi,cB=k.BkDc,ad=k.BkDs.v,gu=k.BkDp.v/255;
if(bt=="BeIn")gu=0;var ab=57*(.3+.7*((P+Q)/2)/1750)*(k.BkIb.v/100)*(1+.2*Math.pow(gu,.1)),cy=parseInt(k.BkIs.v.BtIs.slice(3)),dW=-k.BkIr.v*Math.PI/180,ck=[];
for(var m=0;m<8;m++){var eb=dW+m*(Math.PI*2/cy),es=dW+(m+1)*(Math.PI*2/cy),hS=Math.cos(eb),di=Math.sin(eb),dM=Math.cos(es),iy=Math.sin(es),dZ=[0,0,0];
_.DA.Ag([[hS,di,1,0],[dM,iy,1,0],[1,1,1,1]],dZ);if(dZ[2]>0){dZ[0]*=-1;dZ[1]*=-1;dZ[2]*=-1}ck.push(dZ[0],dZ[1],dZ[2],0)}if(bt=="BeIn"){_.Sm(dP,0,16777215);
gu=1}else if(bt=="BeIt"&&cB.v.BtDc=="BeCt"){}else{var jK;if(bt=="BeIt"&&cB.v.BtDc=="BeCm")jK=T[1];else if(bt=="BeIa")jK=T[2][cB.v];
if(jK==null){_.Sm(dP,0,16777215)}else{var V;if(jK.rect.ey(w))V=jK.channel;else V=jK.aq(w);_.e_(V,dP,3)}}if(ad)for(var m=0;
m<K;m+=4)dP[m+3]=255-dP[m+3];if(gl.yu){var bW=dP,c0=P,dK=Q,ks=1,fF=(k.BkSb.v==0||k.BkSt.v==255)&&bt=="BeIn";
if(!fF){var ei=0;for(var m=0;m<K;m+=4)ei+=Math.abs(gu-dP[m+3]*(1/255));ei=ei/x*ab;var e4=3.14*ei*ei*P*Q/3e6;
if(e4>2e3){alert("too large radius");return}}while(fF&&3*(ab/ks)*(ab/ks)*P*Q>500*2e3*2e3){var gZ=_.D2(dP,new bd(0,0,c0,dK));
dP=gZ.rg;c0=gZ.rect.m;dK=gZ.rect.n;ks*=2}var fA=Date.now(),F=gl.IJ(0,c0,dK);F.set(dP);var io=gl.IJ(1,P,Q);
gl.z9(io);gl.filter.TK({type:gl.filter.ahG,mf:new Float32Array([1/c0,1/dK]),a6i:gu,hv:ab/ks,aqS:new Float32Array([k.BkSb.v/100,k.BkSt.v/255]),a0P:new Float32Array([k.BkNa.v/100,k.BkNt.v.BtNt=="BeNu"?0:1,k.BkNm.v?1:0]),alj:new Float32Array(ck.slice(0,16)),aq4:new Float32Array(ck.slice(16))},F.fn);
io.get(b.buffer);var cs=b.buffer;for(var m=0;m<K;m+=4)cs[m+3]=o.buffer[m+3]}}if(g=="rigidTransform"){var fA=Date.now(),aI=jf.agv,F=o.buffer.slice(0),co=0,aX=0;
_.Td(F);_.Sm(b.buffer,0);var P=o.rect.m,Q=o.rect.n,bU=k.puppetShapeList.v,a8=[],g5=[],dO=[],et=[];for(var dk=0;
dk<bU.length;dk++){var dw=bU[dk].v,u=co*2,R=aX*3,bQ=dw.originalVertexArray.v.length>>>2,eh=dw.indexArray.v.length>>>2,cQ=new Float32Array(aI(dw.originalVertexArray.v));
for(var m=0;m<bQ;m++)a8[u+m]=cQ[m];var g0=new Float32Array(aI(dw.deformedVertexArray.v));for(var m=0;
m<bQ;m++)g5[u+m]=g0[m];var cF=new Uint32Array(aI(dw.indexArray.v));for(var m=0;m<eh;m++)dO[R+m]=co+cF[m];
var ho=[],e$=[],fv=dw.PnDp.v;for(var m=0;m<fv.length;m++){ho.push(dw.pinVertexIndices.v[m].v);e$.push(fv[m].v)}var hP=_.iE.alw(cQ,cF,ho,e$);
for(var m=0;m<hP.length;m++)et[co+m]=hP[m];co+=bQ>>>1;aX+=~~(eh/3)}var cW=o.rect,P=cW.m,Q=cW.n;_.iE.YR(F,P,Q,b.buffer,P,Q,a8,g5,et,dO);
_.PF(b.buffer)}if(g=="lightFilterGradient"){function ih(ca){var ff=1/Math.sqrt(ca[0]*ca[0]+ca[1]*ca[1]+ca[2]*ca[2]);
ca[0]*=ff;ca[1]*=ff;ca[2]*=ff}var P=o.rect.m,Q=o.rect.n,x=P*Q,fA=Date.now(),aw=_.Q(x),bO=.3,kf=.7;_.h4(b.buffer,aw);
var aY=_.Q(x);_.tI.BM(aw,aY,b.rect,16);var de=_.Q(x);_.tI.BM(aw,de,b.rect,8);var aR=aw,bB=new Float32Array(x),g4=k.Dtl.v,kp=g4[2].v,hH=g4[1].v,jF=g4[0].v,cq=k.Scl.v*40*k.textureScale.v/(kp+hH+jF);
kp*=cq;hH*=cq;jF*=cq;for(var m=0;m<x;m++){var gc=aY[m]*(1/255),kt=de[m]*(1/255),gz=aR[m]*(1/255);gz=gz*gz;
bB[m]=kp*gc+hH*kt+jF*gz}var aT=k.blur.v;if(aT!=0){var fc=bB.slice(0);_.tI.Qv(fc,bB,b.rect,aT)}var bn=P-1,ex=Q-1;
for(var n=0;n<Q;n++)for(var X=0;X<P;X++){var m=n*P+X,I=m*4,hk=bB[m],r=bO*(bB[m+(X==bn?0:1)]-hk)+kf*(hk-bB[m-(X==0?0:1)]),J=bO*(bB[m+(n==ex?0:P)]-hk)+kf*(hk-bB[m-(n==0?0:P)]),ca=[1,0,r],gI=[0,1,J];
ih(ca);ih(gI);var es=ca[0],bD=ca[2],ay=gI[1],bY=gI[2],ew=-bD*ay,f9=-es*bY,f0=es*ay;b.buffer[I]=~~(127.5+ew*127.5);
b.buffer[I+1]=~~(127.5+f9*127.5);b.buffer[I+2]=~~(127.5+f0*127.5)}}if(g=="defr"){var P=o.rect.m,Q=o.rect.n;
dz(o.buffer,P,Q,b.buffer)}if(g=="dDFT"||g=="iDFT"){function e5(cy){if(cy==0)return 1;cy--;cy|=cy>>1;
cy|=cy>>2;cy|=cy>>4;cy|=cy>>8;cy|=cy>>16;return cy+1}var P=o.rect.m,Q=o.rect.n,fT=e5(Math.max(P,Q)),hw=fT>>>1,gf=new bd(0,0,fT,fT),ji=new bd(0,0,P,Q);
ji.y=fT-Q>>>1;var f3=P>>>1,hC=new bd(0,ji.y,f3,Q),aV=new _.up(P*Q);_.oX(o.buffer,aV);var dE=new Float64Array(fT*fT),jG=new Float64Array(fT*fT),V=_.Q(fT*fT);
FFT.init(fT);var el=[aV.o,aV.C,aV.k];for(var m=0;m<3;m++){var bV=el[m];V.fill(0);if(g=="dDFT"){_.sQ(bV,ji,V,gf);
jf.arh(V,fT,dE,jG);_.sQ(V,gf,bV,ji,hC);hC.x+=f3;gf.x-=hw-f3;_.sQ(V,gf,bV,ji,hC);hC.x-=f3;gf.x+=hw-f3}else{_.sQ(bV,ji,V,gf,hC);
hC.x+=hw;ji.x+=hw-f3;_.sQ(bV,ji,V,gf,hC);hC.x-=hw;ji.x-=hw-f3;jf.aaW(V,fT,dE,jG);_.sQ(V,gf,bV,ji)}}_.Mh(aV,b.buffer)}if(g=="Avrg"){var ju=0,cD=0,gX=0,aK=0,ir=1;
for(var m=0;m<o.buffer.length;m+=4){var E=o.buffer[m+3];gX+=o.buffer[m]*E;cD+=o.buffer[m+1]*E;ju+=o.buffer[m+2]*E;
aK+=E}var gA=1/aK;ju=Math.round(ir*(ju*gA)+(1-ir)*255);cD=Math.round(ir*(cD*gA)+(1-ir)*255);gX=Math.round(ir*(gX*gA)+(1-ir)*255);
_.Sm(b.buffer,ju<<16|cD<<8|gX,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(g)!=-1){var b0=k.Rds?k.Rds.v.val:1,fP=g=="boxblur"?_.tI.Tt:_.tI.tB;
jf.uh(b0,fP,b.buffer,b.rect);if(g=="UnsM"||g=="smartSharpen"){var jY=(k.Amnt?k.Amnt.v.val:200)/100,iT=0;
if(g=="UnsM")iT=k.Thsh.v;else jY*=.75;for(var m=0;m<o.buffer.length;m++){if((m&3)==3){b.buffer[m]=o.buffer[m];
continue}var kr=o.buffer[m],j9=b.buffer[m],gp=jY*(kr-j9);if(gp>0)gp=Math.max(0,gp-iT);else gp=Math.min(0,gp+iT);
b.buffer[m]=Math.max(0,Math.min(255,kr+gp))}}if(g=="HghP")for(var m=0;m<o.buffer.length;m++){if((m&3)==3){b.buffer[m]=o.buffer[m];
continue}var kr=o.buffer[m],j9=b.buffer[m];b.buffer[m]=Math.max(0,Math.min(255,128+kr-j9))}}if(g=="AdNs"){var d$=new Uint8ClampedArray(b.buffer.buffer),hs=255*k.Nose.v.val/100,bi;
if(k.Dstr.v.Dstr=="Gsn")bi=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else bi=function(){return Math.random()*2-1};for(var m=0;m<d$.length;m+=4){var cW=d$[m],b3=d$[m+1],gT=d$[m+2],ia,bo,kh;
if(k.Mnch.v){ia=bo=kh=bi()}else{ia=bi();bo=bi();kh=bi()}cW+=hs*ia;b3+=hs*bo;gT+=hs*kh;d$[m]=cW;d$[m+1]=b3;
d$[m+2]=gT}}var fA=Date.now();if(g=="Mdn "||g=="DstS"||g=="Mxm "||g=="Mnm "||g=="surfaceBlur"){var cW=0,fh=k.Thsh,dw=0;
if(fh)fh=fh.v;else fh=0;if(g=="Mdn "||g=="Mxm "||g=="Mnm "||g=="surfaceBlur")cW=k.Rds.v.val;else cW=k.Rds.v;
var eg=k.preserveShape;if(eg&&eg.v.preserveShape=="Rndn")dw=1;var P=o.rect.m,Q=o.rect.n,is=["Mnm ","Mxm ","surfaceBlur"].indexOf(g),hx=(dw==0?1:.75)*[.73,.73,1][is]*(P*Q*cW*cW)/1722387,fD=[.73,.9,1.4][is]*(P*Q*Math.sqrt(cW))/6500;
if(gl.yu&&is!=-1&&(hx<fD||dw==1)&&hx<1500){var F=gl.IJ(0,P,Q);F.set(o.buffer);var v=gl.IJ(1,P,Q);gl.z9(v);
gl.filter.TK({type:gl.filter.atm,mf:new Float32Array([1/P,1/Q]),hv:cW,ajX:fh/255,Mq:[dw,is,10*Math.ceil(cW/10)]},F.fn);
v.get(b.buffer)}else{cW=Math.round(cW);_.Cc.g_=.5;var fP=_.Cc.YV;if(g=="Mxm ")fP=_.Cc.V5;if(g=="Mnm ")fP=_.Cc.eO;
if(g=="surfaceBlur")fP=_.Cc.Ir;_.Cc.bm(o.buffer,b.buffer,P,Q,cW,fP,[fh]);if(g=="DstS")for(var m=0;m<P*Q*4;
m++){var cg=Math.abs(o.buffer[m]-b.buffer[m]);if(cg<=fh)b.buffer[m]=o.buffer[m]}}}if(g=="ClrH"){var hC=o.rect.clone();
hC.x=hC.y=0;var cW=k.Rds.v;cW=Math.round(cW*Math.sqrt(2));var P=hC.m,Q=hC.n,aV=new _.up(P*Q);_.oX(o.buffer,aV);
_.TY(aV.o);_.TY(aV.C);_.TY(aV.k);var cI=_.r8(P,Q),cs=_.Q(P*Q*4);for(var gV=0;gV<3;gV++){var V=gV==0?aV.o:gV==1?aV.C:aV.k,a_=Math.PI*k["Ang"+(gV+1)].v/180,jH=new d3(1/cW,0,0,1/cW,0,0);
jH.rotate(a_);_.e_(V,cs,3);var G=D.C8.Zb([cs,hC],jH,!0),ji=G.rect;cI.clearRect(0,0,P,Q);var f$=Math.sin(a_),je=Math.cos(a_);
for(var m=0;m<ji.n;m++)for(var eS=0;eS<ji.m;eS++){var X=(eS+ji.x+.5)*cW,n=(m+ji.y+.5)*cW,a9=X,at=n;X=je*a9-f$*at;
n=f$*a9+je*at;var x=G.buffer[(m*ji.m+eS<<2)+3]*(1/255),b0=cW*Math.sqrt(x*(1/Math.PI));cI.beginPath();
cI.arc(X,n,b0,0,2*Math.PI);cI.fill()}var g3=cI.getImageData(0,0,P,Q);_.B4(g3.data,V,3)}_.TY(aV.o);_.TY(aV.C);
_.TY(aV.k);_.Mh(aV,b.buffer)}if(g=="Crst"||g=="Pntl"){var P=o.rect.m,Q=o.rect.n,fP=g=="Crst"?_.gU.a6k:_.gU.aiv;
fP(o.buffer,P,Q,b.buffer,k.ClSz.v,[Math.round(d.o),Math.round(d.C),Math.round(d.k)])}if(g=="Mztn"){var P=o.rect.m,Q=o.rect.n,x=P*Q,aV=new _.up(x),cv=[aV.o,aV.C,aV.k];
_.oX(o.buffer,aV);var dy=k.MztT.v.MztT,iu={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[dy],fA=Date.now(),j2=[];
for(var m=0;m<x;m++){j2[m]=Math.random()}var x=P*Q,fH=Math.round(x*iu[0]),fE=x-P-1;for(var m=0;m<fH;
m++){var cj=Math.random(),gH=1;if(cj<.5){gH=P;cj*=2}else cj=2*(cj-.5);var dU=Math.floor(cj*fE),ka=dU+gH;
j2[dU]=j2[ka]}var ar=Math.round(P*iu[1]);for(var n=0;n<Q;n++)for(var m=0;m<ar;m++){var cj=_.l.rZ(n*x+m),dU=n*P+Math.floor(cj*(P-1));
j2[dU]=j2[dU+1]}var en=new Float64Array(256);for(var m=0;m<256;m++){var fk=m/255,iz=2*(fk<.5?fk:1-fk);
iz=iu[2]+Math.pow(iz,iu[3])*(1-iu[2]);fk=fk<.5?iz*.5:1-iz*.5;en[m]=fk}for(var s=0;s<3;s++){var V=cv[s];
for(var n=0;n<Q;n++){for(var X=0;X<P;X++){var m=n*P+X,a5=V[m],fk=en[a5],cj=j2[m];V[m]=cj>fk?0:255}}}_.Mh(aV,b.buffer)}if(g=="Msc "){var kw=k.ClSz.v.val,P=o.rect.m,Q=o.rect.n,av=Math.ceil(P/kw),jL=Math.ceil(Q/kw),jR=_.Q(av*jL*4);
_.scale.pX(o.buffer,P,Q,jR,av,jL,1/kw);_.scale.pX(jR,av,jL,b.buffer,P,Q,kw)}if(g=="Clds"||g=="DfrC"){var P=b.rect.m,Q=b.rect.n,x=P*Q,eB=_.Q(x);
if(g=="Clds")_.Sm(b.buffer,4278190080);var gy=_.Q(256*4);for(var m=0;m<256;m++){var I=m<<2,hJ=m/255,cF=1-hJ;
gy[I]=Math.round(hJ*y.o+cF*d.o);gy[I+1]=Math.round(hJ*y.C+cF*d.C);gy[I+2]=Math.round(hJ*y.k+cF*d.k)}_.B.amP(o.buffer,P,Q,eB);
var eV=b.buffer;for(var m=0;m<x;m++){var I=m<<2,s=eB[m]<<2,cW=gy[s],b3=gy[s+1],gT=gy[s+2];if(g=="Clds"){eV[I]=cW;
eV[I+1]=b3;eV[I+2]=gT}else{eV[I]=Math.abs(eV[4*m]-cW);eV[I+1]=Math.abs(eV[4*m+1]-b3);eV[I+2]=Math.abs(eV[4*m+2]-gT)}}}if(g=="LnsF"){var P=o.rect.m,Q=o.rect.n,dy=["Zm","Nkn","Nkn1","PnVs"].indexOf(k.Lns.v.Lns),gq=k.FlrC.v,hT=[Math.min(dy,2),k.Brgh.v/100,gq.Hrzn.v,gq.Vrtc.v],fA=Date.now();
_.a3c(o.buffer,P,Q,b.buffer,hT)}var bS=["Blr ","BlrM","Shrp","ShrM"].indexOf(g);if(bS!=-1){var h4=bS>1,P=o.rect.m,Q=o.rect.n,aP=_.DH.FG[bS],eQ=o.buffer.slice(0);
if(!h4)_.Td(eQ);_.DH.lN(eQ,b.buffer,P,Q,aP,255,!1,h4);if(!h4)_.PF(b.buffer)}if(g=="MtnB"){var fC=-k.Angl.v*Math.PI/180,he=k.Dstn.v.val/2,fA=Date.now(),P=o.rect.m,Q=o.rect.n,w=o.rect.clone();
w.x=w.y=0;if(gl.yu){var fA=Date.now(),bl=b.buffer;bl.set(o.buffer);_.Td(bl);var df=gl.IJ(0,P,Q);df.set(bl);
var cw=_.Q(4);cw[0]=Math.round(128+127*Math.cos(fC));cw[1]=Math.round(128+127*Math.sin(fC));new Uint32Array(bl.buffer).fill(new Uint32Array(cw.buffer)[0]);
var ib=gl.IJ(1,P,Q);ib.set(bl);gl.z9(df,w);df.fv(w);gl.filter.TK({type:gl.filter.Km,DD:ib.fn,mf:new Float32Array([1/P,1/Q]),alB:he/2,akw:1},df.zF);
df.get(bl);_.PF(bl)}else{var jH=new d3;jH.rotate(fC);var G=D.C8.Zb([o.buffer,o.rect],jH,!1,null,!0);
jf.uh(he,_.tI.Aw,G.buffer,G.rect);jH.TY();G=D.C8.Zb([G.buffer,G.rect],jH,!1,b.buffer.buffer,!0,b.rect)}console.log(Date.now()-fA)}if(g=="RdlB"){var P=o.rect.m,Q=o.rect.n,jY=k.Amnt.v,g6=k.BlrM.v.BlrM=="Zm",gV=k.Cntr.v,jx=gV.Hrzn.v,bP=gV.Vrtc.v,r=Math.max(jx,1-jx)*P,J=Math.max(bP,1-bP)*Q,b0=Math.sqrt(r*r+J*J),b5=2*Math.PI*b0*1.5,dI=Math.round(b5),eK=Math.round(b0),hC=new bd(0,0,dI,eK),ba=_.Q(dI*eK*4),g$=g6?4:1,jn=g6?.6:8*((P+Q)/2)/1400,c8=.1,ks=1,ha=1;
_.K.wi(o.buffer,P,Q,ba,dI,eK,jx,bP,g$,c8,ks,ha);var j1=g6?_.Q(dI*eK*4):null;if(g6){_.K.gH(ba,j1,dI,eK);
var bf=j1;j1=ba;ba=bf;hC.m=eK;hC.n=dI}jf.uh(jn*jY,_.tI.Aw,ba,hC);if(g6){_.K.gH(ba,j1,eK,dI);var bf=j1;
j1=ba;ba=bf;hC.m=dI;hC.n=eK}_.K.Gi(ba,dI,eK,b.buffer,P,Q,jx,bP,g$,c8,ks,ha)}if(g=="Plr "){var P=o.rect.m,Q=o.rect.n;
if(k.Cnvr.v.Cnvr=="RctP")_.K.Gi(o.buffer,P,Q,b.buffer,P,Q,.5,.5,1,0,2,P/Q);else _.K.wi(o.buffer,P,Q,b.buffer,P,Q,.5,.5,1,0,2,P/Q)}if(g=="FndE"){var P=o.rect.m,Q=o.rect.n;
_.DH.Zf(o.buffer,b.buffer,P,Q)}if(g=="oilPaint"){var a_=k.LghD.v*Math.PI/180,bE=[Math.cos(a_),Math.sin(a_),.001],hh=[k.stylization.v,k.cleanliness.v,k.brushScale.v,k.microBrush.v,k.lightingOn.v,k.specularity.v,bE],w=o.rect.clone();
w.x=w.y=0;_.w8.filter(o.buffer,w,b.buffer,hh)}if(g=="Ofst"){var P=o.rect.m,Q=o.rect.n,iq=new Uint32Array(o.buffer.buffer),h$=new Uint32Array(b.buffer.buffer),a9=k.Hrzn.v,at=k.Vrtc.v,jN=k.Fl.v.FlMd;
_.Sm(h$,0);if(jN=="Bckg"||jN=="Rpt"){var hC=o.rect.clone();hC.offset(a9,at);_.g1(iq,hC,h$,b.rect)}if(jN=="Rpt"){var hS,di,dM,iy,cf;
a9=Math.max(-P,Math.min(P,a9));at=Math.max(-Q,Math.min(Q,at));hS=a9>0?a9:0;dM=a9>0?P:P+a9;di=at>0?0:at+Q;
iy=at>0?at:Q;cf=at>0?0:P*(Q-1);for(var n=di;n<iy;n++)for(var X=hS;X<dM;X++)h$[n*P+X]=iq[cf+X-a9];hS=a9>0?0:P+a9;
dM=a9>0?a9:P;di=at>0?at:0;iy=at>0?Q:Q+at;cf=a9>0?0:P-1;for(var n=di;n<iy;n++)for(var X=hS;X<dM;X++)h$[n*P+X]=iq[cf+P*(n-at)];
if(a9>=0&&at>=0){hS=0;dM=a9;di=0;iy=at;cf=0}if(a9>=0&&at<0){hS=0;dM=a9;di=Q+at;iy=Q;cf=P*(Q-1)}if(a9<0&&at>=0){hS=P+a9;
dM=P;di=0;iy=at;cf=P-1}if(a9<0&&at<0){hS=P+a9;dM=P;di=Q+at;iy=Q;cf=P*Q-1}for(var n=di;n<iy;n++)for(var X=hS;
X<dM;X++)h$[n*P+X]=iq[cf]}if(jN=="Wrp"){a9=(a9+100*P)%P;at=(at+100*Q)%Q;var hC=new bd(a9-P,at-Q,P,Q);
_.g1(iq,hC,h$,b.rect);hC.offset(P,0);_.g1(iq,hC,h$,b.rect);hC.offset(0,Q);_.g1(iq,hC,h$,b.rect);hC.offset(-P,0);
_.g1(iq,hC,h$,b.rect)}}if(g=="Rept"){var i4=k.Rsft.v.val/100,fK=k.SpcX.v.val/100;fK=Math.max(fK,-.99);
var dJ=k.SpcY.v.val/100;dJ=Math.max(dJ,-.99);var ks=k.Scl.v.val/100,jH=new d3;jH.rotate(k.Angl.v*Math.PI/180);
jH.scale(ks,ks);var hu={buffer:o.buffer,rect:o.rect};_._7(hu);if(hu.rect.on()){hu.buffer=o.buffer;hu.rect=o.rect}var eV=hu.buffer,hC=hu.rect,iD=_.AO(eV,hC,0),d7=new Uint32Array(eV.buffer)[0];
if(!iD.on()&&!iD.ey(hC)){var hj=_.Q(iD.O()*4);_.g1(eV,hC,hj,iD);eV=hj;hC=iD}hC.x=hC.y=0;d7=fK==0&&dJ==0||k.SpcC.v?d7:0;
function h6(X){return X<0?Math.ceil(X):Math.floor(X)}var js=jH.iG(new bJ(hC.m,0));js.x=h6(js.x);js.y=h6(js.y);
var dA=jH.iG(new bJ(0,hC.n));dA.x=h6(dA.x);dA.y=h6(dA.y);var G=D.C8.Zb([eV,hC],jH,!1),ji=G.rect,d2=G.buffer,jr=Math.round(ji.x),fW=Math.round(ji.y),cU=Math.max(b.rect.m,b.rect.n)/Math.min(hC.m*ks*(1+fK),hC.n*ks*(1+dJ));
cU=Math.ceil(cU*1.7);_.Sm(b.buffer,d7);for(var n=-cU;n<cU;n++){for(var X=-cU;X<cU;X++){var aZ=(X+n*i4)*(1+fK),f5=n*(1+dJ);
ji.x=jr+Math.round(aZ*js.x+f5*dA.x);ji.y=fW+Math.round(aZ*js.y+f5*dA.y);if(ji.AM(b.rect))_.l.I3("norm",d2,ji,b.buffer,b.rect,ji,1)}}}if(g=="Ctoa"){var d=_.M.sL(k.Clr.v),fh=k.Trsp.v.val/100,fx=k.Opct.v.val/100;
fh=fx==0?0:fh/fx;var P=o.rect.m,Q=o.rect.n,e6=~~d.o,eZ=~~d.C,dm=~~d.k,cf=o.buffer,a$=b.buffer;for(var n=0;
n<Q;n++)for(var X=0;X<P;X++){var m=n*P+X,I=m<<2,hC=cf[I],b1=cf[I+1],eV=cf[I+2],ce=Math.abs(e6-hC),f6=Math.abs(eZ-b1),iH=Math.abs(dm-eV),aC=Math.max(ce,f6,iH)*(1/255);
aC=Math.max(0,Math.min(1,aC/fx));var gb=aC==0?0:1/aC,aD=fh==1?1:Math.max(0,Math.min(1,(aC-fh)/(1-fh)));
a$[I]=Math.max(0,Math.min(255,(hC-e6*(1-aC))*gb));a$[I+1]=Math.max(0,Math.min(255,(b1-eZ*(1-aC))*gb));
a$[I+2]=Math.max(0,Math.min(255,(eV-dm*(1-aC))*gb));a$[I+3]=~~(.5+aD*255)}}if(g=="Dthr"){function cJ(X){return~~(.5+255*_.$k(X/255))}var dk=k.Plte.v,d1;
if(dk==0)d1=[4278190080,4294967295];else{var ix=[[1,1,1],[2,2,2],[3,3,2]][dk-1],cr=[1<<ix[0],1<<ix[1],1<<ix[2]],ga=[~~(255/(cr[0]-1)),~~(255/(cr[1]-1)),~~(255/(cr[2]-1))];
d1=[];for(var cW=0;cW<cr[0];cW++)for(var b3=0;b3<cr[1];b3++)for(var gT=0;gT<cr[2];gT++)d1.push(255<<24|cJ(gT*ga[2])<<16|cJ(b3*ga[1])<<8|cJ(cW*ga[0]))}var P=o.rect.m,Q=o.rect.n,x=P*Q,fm=x*4,j3=o.buffer.slice(0),fw=b.buffer;
for(var m=0;m<fm;m++)j3[m]=~~(.5+255*_.$k(j3[m]/255));var i8=_.Q(P*Q);UPNG.encode.dither(j3,P,Q,d1,fw,i8,k.Mthd?k.Mthd.v:1);
for(var m=0;m<fm;m++)fw[m]=~~(.5+255*_.WW(fw[m]/255))}if(g=="Part"){var jp=[k.RndS.v,k.Cont.v/100,k.Size.v,k.Dpth.v/100,k.Brgh.v/100,_.M.sL(k.Clr.v),k.Time.v,k.Blnk.v,k.Fall.v,k.Turb.v/100];
_.mO._$(b.buffer,o.rect.m,o.rect.n,jp)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(g)!=-1){var eo=T[0],P=o.rect.m,Q=o.rect.n,en,cH=0;
if(g=="LqFy")en=by.Qt(new Uint8Array(k.LqMe.v).buffer);else{var h0=3;en={bW:Math.floor(P/h0),GP:Math.floor(Q/h0)};
en.map=new Float32Array(en.bW*en.GP*2);if(g=="LnCr"){var jx=.5*(en.bW-1),bP=.5*(en.GP-1),fn=Math.max(Math.abs(0-jx),Math.abs(1-jx)),g2=Math.max(Math.abs(0-bP),Math.abs(1-bP)),jP=Math.sqrt(fn*fn+g2*g2),eI=0,fa=0,dl=-1,a7=2,ks=k.LnSi.v/100,g6=1/ks,ii=k.LnIa.v/100,e3=ii==0?1e-6:ii*4.6,ds=g6/jP;
for(var n=0;n<en.GP;n++){for(var X=0;X<en.bW;X++){var r=(X-jx)*ds,J=(n-bP)*ds,cW=Math.sqrt(r*r+J*J)*e3,b$=Math.atan(cW),hm=ii>0?b$/cW:cW/b$,ha=jx+jP*hm*r,cG=bP+jP*hm*J,m=n*en.bW+X<<1;
en.map[m]=ha-X;en.map[m+1]=cG-n}}}else if(g=="Kale"){var av=en.bW,jL=en.GP,as=(av-1)*.5,ex=(jL-1)*.5,j7=k.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,al=k.Mirr.v,hg=Math.PI*2/al,eP=.5*hg;
for(var n=0;n<jL;n++)for(var X=0;X<av;X++){var r=X-as,J=n-ex,ee=Math.sqrt(r*r+J*J),a_=Math.atan2(J,r)+j7;
a_=a_%hg;if(a_>eP)a_=hg-a_;var ha=as+Math.cos(a_-j7)*ee,cG=ex+Math.sin(a_-j7)*ee,m=(n*av+X)*2;en.map[m]=ha-X;
en.map[m+1]=cG-n}}else if(g=="Dspl"&&eo.length!=0){cH=k.UndA.v.UndA=="WrpA"?2:1;var eW=k.DspF.v.pth,jM;
for(var m=0;m<eo.length;m++)if(eo[m].UK==eW)jM=eo[m];if(jM==null)jM=eo[0];jM.PJ();var ce=jM.IG[1],ie=_.Q(ce.O());
_.h4(jM.IG[0],ie);var dq=ce.m,cX=ce.n;en={bW:dq,GP:cX};en.map=new Float32Array(en.bW*en.GP*2);var eF=2.54*k.HrzS.v*dq/P,ig=2.54*k.VrtS.v*cX/Q;
for(var n=0;n<en.GP;n++){for(var X=0;X<en.bW;X++){var cg=-.5+ie[n*dq+X]*(1/255),m=n*en.bW+X<<1;en.map[m]=cg*eF;
en.map[m+1]=cg*ig}}}else if(g=="Pnch"||g=="Twrl"||g=="Sphr"||g=="ZgZg"){var jY=1,fC=Math.PI,bv=0,go=1,ft=0,gV=3,kw=1.53,hm=1;
if(g=="Pnch"||g=="Sphr"||g=="ZgZg")jY=k.Amnt.v/100;if(g=="ZgZg"){go=k.NmbR.v;ft=["ArnC","OtFr","PndR"].indexOf(k.ZZTy.v.ZZTy)}if(g=="Twrl")fC=k.Angl.v*Math.PI/180;
if(g=="Sphr")bv=["Nrml","HrzO","VrtO"].indexOf(k.SphM.v.SphM);function fP(X){X=Math.pow(X,1-X*.3-X*X*(X*X)*.5);
return-.225*Math.sin(X*Math.PI)}function fJ(Q,ff,cW,hS,di,dM,iy,hm){var r=dM-hS,J=iy-di,c$=hS-Q,f8=di-ff,hJ=r*r+J*J,gT=2*(r*c$+J*f8),gV=c$*c$+f8*f8-cW*cW,hG=Math.sqrt(gT*gT-4*hJ*gV),cL=hm/(2*hJ),ej=(-gT+hG)*cL,dN=(-gT-hG)*cL;
return hm*Math.min(ej,dN)}var av=en.bW,jL=en.GP,as=en.bW/2,ex=en.GP/2,kv=1/as,cW=Math.sqrt(gV*gV+1)/gV,bV=gV+Math.sqrt(1/(gV*gV));
if(jY<0){gV=1.72;cW=1;bV=gV;kw=-1;hm=-1}for(var n=0;n<jL;n++){var J=(n-ex)/ex;for(var X=0;X<av;X++){var r=(X-as)*kv;
if(bv==1)J=0;else if(bv==2)r=0;var aL=Math.sqrt(r*r+J*J);if(aL<1&&aL!=0){var m=n*en.bW+X<<1;if(g=="Pnch"){var gh=-jY*fP(aL)/aL;
en.map[m]=r*gh*as;en.map[m+1]=J*gh*ex}else if(g=="Sphr"){var bf=fJ(0,bV,cW,0,0,aL,gV,hm),j0=kw*jY*(bf-1);
en.map[m]=r*j0*as;en.map[m+1]=J*j0*ex}else if(g=="Twrl"){var a_=Math.atan2(J,r)-fC*(1-aL)*(1-aL),jm=Math.cos(a_),jw=Math.sin(a_);
en.map[m]=(aL*jm-r)*as;en.map[m+1]=(aL*jw-J)*ex}else if(g=="ZgZg"){var jm=0,jw=0,iS=jY*(.5-.5*Math.cos(aL*go*2*Math.PI))*(1-aL);
if(ft==0){var a_=Math.atan2(J,r)-3.5*iS;jm=aL*Math.cos(a_);jw=aL*Math.sin(a_)}if(ft==1){iS=100/P*iS/aL;
jm=(1-iS)*r;jw=(1-iS)*J}if(ft==2){var Y=512/P*iS*Math.PI/4;jm=Y+r;jw=Y+J}en.map[m]=(jm-r)*as;en.map[m+1]=(jw-J)*ex}}}}}else if(g=="Shr "){var j_=JSON.parse(JSON.stringify(k.ShrP.v));
_.wb.D(j_,new d3(0,255/127,255/127,0,-2,0));var a0=_.wb.aU(j_,en.GP,!0);cH=k.UndA.v.UndA=="WrpA"?2:1;
for(var n=0;n<en.GP;n++){var r=-a0[n]*en.bW;for(var X=0;X<en.bW;X++){var m=n*en.bW+X<<1;en.map[m]=r}}}else if(g=="Wave"){var jb=k.NmbG.v,gj=k.WLMn.v,kd=k.WLMx.v,h2=k.AmMn.v*(Math.PI/4),fy=k.AmMx.v*(Math.PI/4),fS=k.SclH.v/100,b7=k.SclV.v/100,dy=k.Wvtp.v.Wvtp,iS=Math.sin;
if(dy=="WvTr")iS=function(X){X*=2/Math.PI;return-.5+Math.abs(X%2-1)};if(dy=="WvSq")iS=function(X){X*=2/Math.PI;
return 1+2*Math.floor(X%2-1)};var d0=[],j8=new _.l.du(k.RndS.v);for(var m=0;m<jb;m++){d0.push(j8.get()*10);
d0.push(Math.PI*h0/(gj+j8.get()*(kd-gj)));d0.push(fS*(h2+j8.get()*(fy-h2))/h0);d0.push(j8.get()*10);
d0.push(Math.PI*h0/(gj+j8.get()*(kd-gj)));d0.push(b7*(h2+j8.get()*(fy-h2))/h0)}var g8=[],em=[],j$=Math.max(en.bW,en.GP);
for(var m=0;m<j$;m++){var r=0,J=0;for(var eS=0;eS<jb;eS++){var g_=eS*6;r+=d0[g_+2]*iS(d0[g_]+m*d0[g_+1]);
J+=d0[g_+5]*iS(d0[g_+3]+m*d0[g_+4])}g8[m]=J;em[m]=r}for(var n=0;n<en.GP;n++){for(var X=0;X<en.bW;X++){var m=n*en.bW+X<<1;
en.map[m]=em[n];en.map[m+1]=g8[X]}}cH=k.UndA.v.UndA=="WrpA"?2:1}else if(g=="Rple"){cH=1;var jY=k.Amnt.v/100,gC=4,eL=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],e7=1,aq=1,c$=0,fB=["Sml","Mdm","Lrg"].indexOf(k.RplS.v.RplS);
if(fB==0){e7=1;aq=.2;c$=3}if(fB==2){e7=1;aq=2;c$=-1;eL=eL.reverse()}var cm=function(X,n){var gV=Math.cos,cq=0;
for(var m=0;m<gC;m++)for(var eS=0;eS<gC;eS++)cq+=eL[m*gC+eS]*gV(X*(m+c$)-n*(eS+c$));return cq},bx=Math.floor(50/h0),fg=new Float32Array(bx*bx*2),jV=aq*jY*.5/h0;
for(var n=0;n<bx;n++)for(var X=0;X<bx;X++){var jx=e7*X*2*Math.PI/bx,bP=e7*n*2*Math.PI/bx,aM=cm(jx,bP),r=(cm(jx+.01,bP)-aM)*100,J=(cm(jx,bP+.01)-aM)*100,m=(n*bx+X)*2;
fg[m]=r*jV;fg[m+1]=J*jV}for(var n=0;n<en.GP;n++)for(var X=0;X<en.bW;X++){var jw=n%bx,jm=X%bx,m=n*en.bW+X<<1,i9=jw*bx+jm<<1;
en.map[m]=fg[i9];en.map[m+1]=fg[i9+1]}}}_.cW.yV(o.buffer,b.buffer,P,Q,null,en.map,en.bW,en.GP,cH)}return b};
var iO={};iO.a96="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");iO.zd="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
iO.lA=["ScrC","ScrD","ScrL"];iO.SA=["SDRD","SDHz","SDLD","SDVt"];iO.Ga="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
iO.iI="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");iO.XW="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
iO.kF=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];iO.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
iO.J0=function(g){var o;if(g=="ClrP")o={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(g=="Ct")o={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(g=="DryB")o={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(g=="FlmG")o={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(g=="Frsc")o={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(g=="NGlw")o={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(g=="PntD")o={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(g=="PltK")o={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(g=="PlsW")o={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(g=="PstE")o={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(g=="RghP")o={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(g=="SmdS")o={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(g=="Spng")o={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(g=="Undr")o={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(g=="Wtrc")o={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(g=="AccE")o={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(g=="AngS")o={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(g=="Crsh")o={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(g=="DrkS")o={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(g=="InkO")o={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(g=="Smie")o={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(g=="Spt")o={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(g=="SprS")o={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(g=="DfsG")o={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(g=="Gls")o={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(g=="OcnR")o={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(g=="BsRl")o={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(g=="ChlC")o={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(g=="Chrc")o={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(g=="Chrm")o={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(g=="CntC")o={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(g=="GraP")o={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(g=="HlfS")o={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(g=="NtPr")o={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(g=="Phtc")o={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(g=="Plst")o={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(g=="Rtcl")o={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(g=="Stmp")o={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(g=="TrnE")o={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(g=="WtrP")o={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(g=="GlwE")o={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(g=="Crql")o={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(g=="Grn")o={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(g=="MscT")o={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(g=="Ptch")o={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(g=="StnG")o={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(g=="Txtz")o={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
o.__name="Filter Gallery";o.classID="GEfc";o.GEfk={t:"enum",v:{GEft:g}};o.GELv={t:"bool",v:!0};return o};
iO.QM=function(g,o){for(var m=0;m<o.length;m++)~~(o[m]=(g[4*m]+g[4*m+1]+g[4*m+2])*(1/3))};iO.av6=function(g,o,k,y){var d=UPNG.quantize(g,o);
d={pQ:d.inds,P1:d.plte};var b=Math.floor((k+y)*.015);if(b!=0)_.r7.a9x(d.pQ,k,y,b);return d};iO.mn=function(g,o,k,y,d,b,T){g=k.GEfk.v.GEft;
var a=o.rect,t=a.m,j=a.n,e=t*j,v=k.FlRs?k.FlRs.v>>>1:0;function L(c){return c.o<<24|c.C<<16|c.k<<8|255}if(g=="ClrP")_.B.ams(o.buffer,t,j,b.buffer,[k.Pncl.v,k.StrP.v,k.PprB.v]);
if(g=="Ct"){var H=k.NmbL.v,w=k.EdgS.v,P=iO.av6(o.buffer.buffer,H*2,t,j);for(var m=0;m<P.pQ.length;m++)P.pQ[m]++;
var Q=new Uint8Array((t+2)*(j+2));_.sQ(P.pQ,new bd(1,1,t,j),Q,new bd(0,0,t+2,j+2));var x=_.p.Ur(Q,t+2,j+2,w,!1),F=new d3(1,0,0,1,-1,-1);
for(var m=0;m<x.length;m++)_.p.D(x[m].path.j,F,x[m].path.j);var E=[],f=P.P1;for(var m=0;m<f.length;m++){var c=f[m].est.q;
E.push({o:Math.round(255*c[0]),C:Math.round(255*c[1]),k:Math.round(255*c[2]),Ng:Math.round(255*c[3])})}var M=_.r8(t,j);
for(var m=0;m<x.length;m++){var n=x[m],c=E[n.color-1];if(c.Ng==0)continue;M.fillStyle="rgba("+c.o+","+c.C+","+c.k+","+c.Ng/255+")";
M.beginPath();Typr.U.pathToContext({crds:n.path.j,cmds:n.path.F},M);M.fill()}if(!a.on()){var X=M.getImageData(0,0,t,j);
_.QF(X.data,b.buffer)}}if(g=="DryB")_.B.aoC(o.buffer,t,j,b.buffer,[k.BrsS.v,k.BrsD.v,k.Txtr.v]);if(g=="FlmG")_.B.ayq(o.buffer,t,j,b.buffer,[k.Grn.v,k.HghA.v,k.Intn.v,v]);
if(g=="Frsc")_.B.a2W(o.buffer,t,j,b.buffer,[k.BrsS.v,k.BrsD.v,k.Txtr.v]);if(g=="NGlw")_.B.a5m(o.buffer,t,j,b.buffer,[k.Sz.v,k.Brgh.v,L(_.M.sL(k.Clr.v)),L(y),L(d)]);
if(g=="PltK")_.B.ag4(o.buffer,t,j,b.buffer,[k.StrS.v,k.StDt.v,k.Sftn.v]);if(g=="PstE")_.B.ahC(o.buffer,t,j,b.buffer,[k.EdgT.v,k.EdgI.v,k.Pstr.v]);
if(g=="RghP")_.B.apk(o.buffer,t,j,b.buffer,[k.StrL.v,k.StDt.v,iO.Ga.indexOf(k.TxtT.v.TxtT),k.Scln.v,k.Rlf.v,iO.zd.indexOf(k.LghD.v.LghD),k.InvT.v]);
if(g=="SmdS")_.B.a4Z(o.buffer,t,j,b.buffer,[k.StrL.v,k.HghA.v,k.Intn.v,k.FlRs.v,v]);if(g=="Spng")_.B.at_(o.buffer,t,j,b.buffer,[k.BrsS.v,k.Dfnt.v,k.Smth.v,k.FlRs.v,v]);
if(g=="Undr")_.B.a5y(o.buffer,t,j,b.buffer,[k.BrsS.v,k.TxtC.v,iO.Ga.indexOf(k.TxtT.v.TxtT),k.Scln.v,k.Rlf.v,iO.zd.indexOf(k.LghD.v.LghD),k.InvT.v]);
if(g=="Wtrc")_.B.a2P(o.buffer,t,j,b.buffer,[k.BrsD.v,k.ShdI.v,k.Txtr.v]);if(g=="AccE")_.B.auz(o.buffer,t,j,b.buffer,[k.EdgW.v,k.EdgB.v,k.Smth.v]);
if(g=="AngS")_.B.amE(o.buffer,t,j,b.buffer,[k.DrcB.v,k.StrL.v,k.Shrp.v]);if(g=="Crsh")_.B.aqU(o.buffer,t,j,b.buffer,[k.StrL.v,k.Shrp.v,k.Strg.v]);
if(g=="DrkS")_.B.avV(o.buffer,t,j,b.buffer,[k.Blnc.v,k.BlcI.v,k.WhtI.v]);if(g=="InkO")_.B.alO(o.buffer,t,j,b.buffer,[k.StrL.v,k.DrkI.v,k.LghI.v]);
if(g=="Smie")_.B.akr(o.buffer,t,j,b.buffer,[k.StrW.v,k.StrP.v,k.Cntr.v]);if(g=="DfsG")_.B.a0I(o.buffer,t,j,b.buffer,[k.Grns.v,k.GlwA.v,k.ClrA.v,L(d),v]);
if(g=="CntC")_.B.a68(o.buffer,t,j,b.buffer,[k.FrgL.v,k.BckL.v,iO.Ga.indexOf(k.TxtT.v.TxtT),k.Scln.v,k.Rlf.v,iO.zd.indexOf(k.LghD.v.LghD),k.InvT.v,L(d),L(y)]);
if(g=="ChlC")_.B.a60(o.buffer,t,j,b.buffer,[k.ChrA.v,k.ChlA.v,k.StrP.v,v,L(d),L(y)]);var u=g=="GraP"||g=="Chrc"||g=="Plst"||g=="Rtcl"||g=="Stmp"||g=="TrnE";
if(u){var I=_.Q(t*j);if(g=="GraP")_.B.a7M(o.buffer,t,j,b.buffer,[k.StrL.v,k.LgDr.v,iO.SA.indexOf(k.SDir.v.StrD),v]);
if(g=="Chrc")_.B.acL(o.buffer,t,j,b.buffer,[k.ChAm.v,k.Dtl.v,k.LgDr.v]);if(g=="Plst")_.B.atK(o.buffer,t,j,b.buffer,[k.ImgB.v,iO.iI.indexOf(k.LghP.v.LghP),k.Smth.v]);
if(g=="Rtcl")_.B.aw_(o.buffer,t,j,b.buffer,[k.Dnst.v,k.BlcL.v,k.WhtL.v,v]);if(g=="Stmp")_.B.a3t(o.buffer,t,j,b.buffer,[k.LgDr.v,k.Smth.v]);
if(g=="TrnE")_.B.a7c(o.buffer,t,j,b.buffer,[k.ImgB.v,k.Smth.v,k.Cntr.v,v]);_.B4(b.buffer,I,0);iO.xH(I,b.buffer,y,d)}if(g=="NtPr")_.B.ak9(o.buffer,t,j,b.buffer,[k.ImgB.v,k.Grns.v,k.Rlf.v,L(y),L(d),v]);
if(g=="WtrP")_.B.asG(o.buffer,t,j,b.buffer,[k.FbrL.v,k.Brgh.v,k.Cntr.v,v>>>1]);if(g=="Crql")_.B.a5x(o.buffer,t,j,b.buffer,[k.CrcS.v,k.CrcD.v,k.CrcB.v,v]);
if(g=="Grn")_.B.ays(o.buffer,t,j,b.buffer,[k.Intn.v,iO.XW.indexOf(k.Grnt.v.Grnt),k.Cntr.v,L(y),L(d),v]);
if(g=="MscT")_.B.ajT(o.buffer,t,j,b.buffer,[k.TlSz.v,k.GrtW.v,k.LghG.v,v]);if(g=="Ptch")_.B.alm(o.buffer,t,j,b.buffer,[k.SqrS.v,k.Rlf.v,v]);
if(g=="Phtc"){function r(j_,kw,a,a_){_.tI.fw(j_,kw,a,a_);for(var m=0;m<e;m++)kw[m]=Math.max(0,Math.min(255,128+j_[m]-kw[m]))}var J=k.Dtl.v,U=k.Drkn.v,K=_.Q(e);
_.h4(o.buffer,K);var i=_.Q(e);r(K,i,a,1);if(J==1){J=2;U=Math.round(U/4)}var z=_.Q(e);r(K,z,a,J);for(var m=0;
m<e;m++)K[m]=Math.max(0,Math.min(255,255-(i[m]-z[m])*U));iO.xH(K,b.buffer,y,d)}if(g=="Spt"||g=="SprS"){var h,R=1,C=1;
h={bW:Math.floor(t/C),GP:Math.floor(j/C)};h.map=new Float32Array(h.bW*h.GP*2);var G=new _.l.du(k.FlRs.v),W=new Float32Array(8192),A=k.SprR.v,$=A<20?.018*A:.36+(A-20)*.128;
if(g=="SprS"){$=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][A]}for(var m=0;
m<8192;m++)W[m]=(-1+2*G.get())*$*70;for(var O=0;O<j;O++)for(var Y=0;Y<t;Y++){var l=O*t+Y<<1;h.map[l]=W[l%7919];
h.map[l+1]=W[(l+1)%7919]}var B=h.map.slice(0),f4=g=="Spt"?k.Smth.v-1:1;if(g=="Spt"&&f4!=0){iO.a6v(h.map,B,t,j,f4);
iO.a6W(B,h.map,t,j,f4)}if(g=="SprS"){var V=k.StrL.v>>>1,q=V==0?2:1;iO.a6v(h.map,B,t,j,q);iO.a6W(B,h.map,t,j,q);
if(V!=0){var s=iO.SA.indexOf(k.SDir.v.StrD),cW=[1,1,1,0][s],dk=[-1,0,1,1][s],kr=2*V+1,j9=1/kr;for(var O=0;
O<j;O++)for(var Y=0;Y<t;Y++){var l=O*t+Y<<1,bh=0,fe=0;for(var m=0;m<kr;m++){var gg=Math.max(0,Math.min(t-1,Y-(V+m)*cW)),a$=Math.max(0,Math.min(j-1,O-(V+m)*dk)),dg=a$*t+gg<<1;
bh+=h.map[dg];fe+=h.map[dg+1]}B[l]=bh*j9;B[l+1]=fe*j9}h.map=B}}_.cW.yV(o.buffer,b.buffer,t,j,null,h.map,h.bW,h.GP,R)}if(g=="BsRl"||g=="PlsW"||g=="Chrm"){var iv=Date.now(),aQ=_.Q(e),dt=aQ.slice(0);
_.h4(o.buffer,aQ);var J=k.Dtl.v,hY=k.Smth.v;if(J!=15){_.tI.BM(aQ,dt,a,Math.round((15-J)*.5));_.QF(dt,aQ)}var b9=1.4/t,i0=1.4/j,gD=new Float32Array(e),aW=new Float32Array(e),be=new Float32Array(b.buffer.buffer);
for(var O=0;O<j;O++)for(var Y=0;Y<t;Y++){var m=O*t+Y,cW=Y==t-1?aQ[m]-aQ[m-1]:aQ[m+1]-aQ[m],dk=O==j-1?aQ[m]-aQ[m-t]:aQ[m+t]-aQ[m],hv=Y*b9-.7,b3=O*i0-.7;
gD[m]=cW==0?hv:cW*.4;aW[m]=dk==0?b3:dk*.4}if(g=="BsRl"){var gT=(2+iO.zd.indexOf(k.LghD.v.LghD))*Math.PI*.25,bh=Math.cos(gT);
if(Math.abs(bh)<.1)bh=0;bh=Math.sign(bh);var fe=Math.sin(gT);if(Math.abs(fe)<.1)fe=0;fe=Math.sign(fe);
var aB=1/(bh*bh+fe*fe);for(var O=0;O<j;O++)for(var Y=0;Y<t;Y++){var m=O*t+Y,bO=Math.max(-1,Math.min(1,bh*gD[m])),kf=Math.max(-1,Math.min(1,fe*aW[m]));
dt[m]=128+127*(bO+kf)*aB}if(hY!=1){_.tI.BM(dt,aQ,a,Math.round((hY-1)*.5));_.QF(aQ,dt)}iO.xH(dt,b.buffer,y,d)}else{if(g=="Chrm")hY=5+hY;
if(hY>1)iO.uh(gD,aW,be,a,hY-1);if(g=="PlsW"){var iY=new Uint8Array(gD.buffer);for(var m=0;m<e;m++){var gs=m<<2,cW=gD[m],dk=aW[m],c1=1/(Math.sqrt(1+cW*cW)*Math.sqrt(1+dk*dk)),gK=c1*c1,c4=gK*gK,c=~~(255*(c4*c4*gK));
iY[gs+0]=c;iY[gs+1]=c;iY[gs+2]=c;iY[gs+3]=c}b.buffer.set(o.buffer);_.l.I3("norm",iY,a,b.buffer,a,a,k.HghS.v/20)}else if(g=="Chrm"){var k6=b.buffer,jk=t>>>1,jt=j>>>1;
for(var m=0;m<e;m++){var gs=m<<2,cW=gD[m],dk=aW[m],j_={x:1,y:0,MG:cW};bs.XF(j_);var kw={x:0,y:1,MG:dk};
bs.XF(kw);var eu=bs.avQ(j_,kw),ak=1/eu.MG,cY=~~Math.max(0,Math.min(t-1,jk-eu.x*ak*jk)),bG=~~Math.max(0,Math.min(j-1,jt-eu.y*ak*jt)),c=aQ[bG*t+cY];
k6[gs+0]=c;k6[gs+1]=c;k6[gs+2]=c}}}}if(g=="Gls"||g=="OcnR"||g=="Txtz"){var j5=g=="OcnR"?2:iO.Ga.indexOf(k.TxtT.v.TxtT),hI=iO.oh(j5),jJ=hI[0],aQ=hI[1],ca=jJ.m,gI=jJ.n,kr=24,dn=0,id,jy;
function c3(jK,bW,c0){return~~(fs*(jK+bW)+8192)&127}var gD=new Float32Array(e),aW=new Float32Array(e),be=new Float32Array(b.buffer.buffer),fs=g=="OcnR"?1/(1+(k.RplS.v-1)*.1):100/k.Scln.v;
if(j5==3)fs*=32/22.2;var iv=Date.now(),eS=fs,b9=1.4/t,i0=1.4/j;if(g=="Txtz"){eS*=1/255;kr=256}for(var O=0;
O<j;O++){var bf=c3(O,a.y,gI),a$=bf+1&127;for(var Y=0;Y<t;Y++){var m=O*t+Y,ef=c3(Y,a.x,ca),gg=ef+1&127,hh=0,fA=0,jS=0;
if(g=="Txtz"){hh=_.K.i3(fs*Y,fs*O,aQ,128,128);fA=_.K.i3(fs*Y,fs*O+1,aQ,128,128);jS=_.K.i3(fs*Y+1,fs*O,aQ,128,128)}else{hh=aQ[bf*ca+ef];
fA=aQ[a$*ca+ef];jS=aQ[bf*ca+gg]}gD[m]=Math.max(-kr,Math.min((jS-hh)*eS,kr));aW[m]=Math.max(-kr,Math.min((fA-hh)*eS,kr))}}if(g=="Txtz")iO.awh(gD,aW,be,a,6);
else iO.uh(gD,aW,be,a,g=="Txtz"?1:g=="OcnR"?3.5/fs:k.Smth.v);if(g=="Txtz")dn=k.InvT.v?-1:1;else if(g=="Gls"){dn=[1,.4,.5,.5][j5]*(Math.exp(k.Dstr.v*.155)-1);
if(k.InvT.v)dn=-dn}else{dn=.5*(Math.exp(k.RplM.v*.155)-1)}var k6=b.buffer;if(g=="Txtz"){var gT=(2+iO.zd.indexOf(k.LghD.v.LghD))*Math.PI*.25,bh=Math.cos(gT),fe=Math.sin(gT);
id={x:bh,y:fe,MG:0};bs.XF(id);jy=k.Rlf.v;jy=jy/4+Math.max(0,(jy-35)*2)}function dG(j_,kw,d2){var j3=_.l.overF(kw,j_,1),jK=(1-d2)*j_+d2*(d2*kw+(1-d2)*j3);
return jK*255}for(var O=0;O<j;O++)for(var Y=0;Y<t;Y++){var m=O*t+Y,gs=m<<2,cW=gD[m],dk=aW[m],j_={x:1,y:0,MG:cW};
bs.XF(j_);var kw={x:0,y:1,MG:dk};bs.XF(kw);var eu=bs.avQ(j_,kw);if(g=="Txtz"){var cw=bs.am1(eu,id)*dn,d2=1,c=1;
if(cw<0){c=0;cw=-cw}d2=Math.min(1,cw*jy);k6[gs+0]=~~dG(o.buffer[gs]*(1/255),c,d2);k6[gs+1]=~~dG(o.buffer[gs+1]*(1/255),c,d2);
k6[gs+2]=~~dG(o.buffer[gs+2]*(1/255),c,d2)}else{var ak=dn/eu.MG,cY=~~Math.max(0,Math.min(t-1,Y-eu.x*ak)),bG=~~Math.max(0,Math.min(j-1,O-eu.y*ak)),fj=bG*t+cY<<2;
k6[gs+0]=o.buffer[fj];k6[gs+1]=o.buffer[fj+1];k6[gs+2]=o.buffer[fj+2]}}}if(g=="PntD"){var aH=k.Shrp.v*.4,gE=k.BrsT.v.BrsT,iQ={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[gE],a_=Math.round(k.Sz.v*.5);
_.Cc.g_=iQ[0];var iP=_.Cc.YV;_.Cc.bm(o.buffer,b.buffer,t,j,a_,iP,[]);var jY=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
jY=_.DH.Tb(jY);var iX=b.buffer.slice(0);_.DH.lN(iX,b.buffer,t,j,jY,0);for(var m=0;m<o.buffer.length;
m++){var cM=b.buffer[m]-iX[m];b.buffer[m]=Math.max(0,Math.min(255,iX[m]+aH*cM))}}if(g=="GlwE"){var gr=b.buffer.slice(0);
_.Cc.g_=.5;var iP=_.Cc.YV;_.Cc.bm(o.buffer,gr,t,j,k.Smth.v>>>1,iP,[]);_.DH.Zf(gr,b.buffer,t,j);_.QF(b.buffer,gr);
_.TY(gr);_.Sm(gr,4278190080,16777215);_.Cc.bm(gr,b.buffer,t,j,k.EdgW.v>>>1,_.Cc.V5,[]);var gL=k.EdgB.v/10;
for(var m=0;m<gr.length;m++){if((m&3)==3)continue;var j3=b.buffer[m];b.buffer[m]=Math.max(0,Math.min(255,j3*gL))}}if(g=="StnG"){_.gU.aqr(o.buffer,t,j,b.buffer,k.ClSz.v,[Math.round(y.o),Math.round(y.C),Math.round(y.k)],k.BrdT.v)}if(g=="HlfS"){var fd=k.HlSz.v,cS=fd*2+1,eY=k.Cntr.v,dy=iO.lA.indexOf(k.ScrT.v.ScrT),e=t*j,dP=e*4,bt=_.Q(e),cB=o.buffer,ck=0,eb=0;
iO.QM(cB,bt);var ad=bt.slice(0);_.tI.zG(ad,bt,a,fd);var gu=Math.PI/cS,ab=new Float64Array(t),bh=new Float64Array(t),dW=new Float64Array(2*t);
for(var Y=0;Y<t;Y++){var ef=(Y-(t>>>1))*gu;ab[Y]=ef*ef;bh[Y]=Math.cos(ef);var cW=Y<<1;dW[cW]=Math.sin(cW*(1/4.5));
dW[cW+1]=Math.sin((cW+1)*(1/4.5))}for(var O=0;O<j;O++){var bf=(O-(j>>>1))*gu,fe=Math.cos(bf),es=bf*bf;
for(var Y=0;Y<t;Y++){var c=fe;if(dy==0){var hS=.5+Math.sqrt(ab[Y]+es)*4.5;c=dW[~~hS]}else if(dy==1){c=bh[Y]*fe}var m=O*t+Y,di=bt[m]*(.75+.25*c),d2=cB[(m<<2)+3]*(1/255),dM=Math.max(0,Math.min(255,~~di));
ck+=dM*d2,eb+=d2;bt[m]=dM}}ck/=eb;var iy=128+1.26*(ck-128),gL=.08+.25*Math.abs((128-ck)/128),dZ=1+gL*eY;
for(var m=0;m<e;m++){var di=iy+(bt[m]-iy)*dZ;bt[m]=Math.max(0,Math.min(255,~~di))}if(eY>46)_.round(bt);
iO.xH(bt,b.buffer,y,d)}for(var m=0;m<o.buffer.length;m+=4)b.buffer[m+3]=o.buffer[m+3]};iO.xH=function(g,o,k,y){var d=g.length,b=k.o,T=k.C,a=k.k,t=y.o,j=y.C,e=y.k;
for(var m=0;m<d;m++){var v=g[m]*(1/255),L=1-v,H=m<<2;o[H]=~~(b*L+t*v);o[H+1]=~~(T*L+j*v);o[H+2]=~~(a*L+e*v)}};
iO.oh=function(g){if(g==6)g=2;var o="blocks canvas frosted tinylens brick burlap".split(" ")[g];if(iO.Mz==null)iO.Mz=[];
if(iO.Mz[g]==null){var k,y;if(g==2){y=new bd(0,0,128,128);var d=jf.J0("AdNs");d.Mnch.v=!0;d.Dstr.v.Dstr="Gsn";
d.Nose.v.val=50;var k=_.Q(y.O()*4),b=k.slice(0);new Uint32Array(b.buffer).fill(4286611584);jf.mn("AdNs",{buffer:b,rect:y},d,0,0,{buffer:k,rect:y})}else{var T=cp.WL.get("tex/"+o,!0)[0];
y=T.MR;k=new Uint8Array(T.data)}var a=_.Q(y.O());_.B4(k,a,0);iO.Mz[g]=[y,a]}return iO.Mz[g]};iO.uh=function(g,o,k,y,d){if(d<=1){d=Math.round(d);
iO.awh(g,o,k,y,[1,16,4][d]);return}var b=d*.42;if(g){_.tI.Qv(g,k,y,b,3);g.set(k)}if(o){_.tI.Qv(o,k,y,b,3);
o.set(k)}};iO.awh=function(g,o,k,y,d){var b=_.DH.Tb([1,2,1,2,d,2,1,2,1]);if(g){k.set(g);_.DH.H7(g,k,y.m,y.n,b);
g.set(k)}if(o){k.set(o);_.DH.H7(o,k,y.m,y.n,b);o.set(k)}};iO._8=function(g){if(g==null)return new bJ(0,0);
var o=0,k=g.GEfs?g.GEfs.v:[{v:g}];for(var m=0;m<k.length;m++){var y=k[m].v,b=1e4;if(y.GELv&&!y.GELv.v)continue;
var d=y.GEfk.v.GEft;if(d=="GlwE"||d=="Phtc"||d=="BsRl"||d=="PlsW"||d=="Chrm"||d=="Gls"||d=="OcnR")b=0;
o=Math.max(o,b)}return new bJ(o,o)};iO.axK=function(g){var o=[0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][g];
for(var m=0;m<13;m++){var y=m-6;o[m]=1/(k*Math.sqrt(2*Math.PI))*Math.exp(-.5*(y/k)*(y/k))}return o};
iO.a6v=function(g,o,k,y,d){var b=iO.axK(d),T=6,a=13;for(var t=0;t<y;t++)for(var j=0;j<k;j++){var e=t*k+j<<1,v=0,L=0;
for(var m=0;m<a;m++){var H=j+m-T,w=H<0?0:H>=k?k-1:H,P=(t*k+w)*2,Q=b[m];v+=Q*g[P];L+=Q*g[P+1]}o[e]=v;
o[e+1]=L}};iO.a6W=function(g,o,k,y,d){var b=iO.axK(d),T=6,a=13;for(var t=0;t<y;t++)for(var j=0;j<k;j++){var e=t*k+j<<1,v=0,L=0;
for(var m=0;m<a;m++){var H=t+m-T,w=H<0?0:H>=y?y-1:H,P=(w*k+j)*2,Q=b[m];v+=Q*g[P];L+=Q*g[P+1]}o[e]=v;
o[e+1]=L}};function h8(){}h8.o0=[2,5,5,7,4,4];h8.re="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
h8.Kt="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
h8.q5=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
h8.yn=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
h8.O8=function(g){if(g=="passThrough")return"pass";return h8.re[h8.Kt.indexOf(g)]};h8.w3=function(g){if(g=="pass")return"passThrough";
return h8.Kt[h8.re.indexOf(g)]};h8.getName=function(g){return h8.q5[h8.re.indexOf(g)]};function p(){this.rect=null;
this.buffer=null;this.HW="norm";this.opacity=255;this.Le=!1;this.b_=0;this.Pu=0;this.o4=!0;this.kC=[];
for(var m=0;m<10;m++)this.kC.push(0,0,255,255);this.name=null;this.add={};this.sM=null;this.Uz=null;
this.v=null;this.v7=null;this.a4b=30;this.Im=null;this.DI=null;this.Cb=null;this.WI=null;this.W1=0;this.j6=!1;
this.Dq=null;this.Of=new p.p$}p.p$=function(){this.zk=!0;this.B3=!0;this.pb=_.Q(0);this.abQ=_.Q(0);this.yz=null;
this.oz={};this.asC=null;this.kr=null;this.Jh=null;this.Me=null;this.DZ=null;this.dq=null;this.nb=null;
this.c7=null;this.YB=null;this.FH=null;this.GV=null;this.rr=null;this.Z3=!1};p.p$.prototype.agf=function(){this.zk=null;
this.B3=!1;this.yz=null;this.Z3=gl.yu};p.p$.prototype.arP=function(){bs.aad(this.oz);this.pb=_.Q(0);
this.abQ=_.Q(0);if(this.Me)this.Me.delete();if(this.DZ)this.DZ.delete();this.Me=null;this.DZ=null;var g=[this.dq,this.nb,this.c7,this.YB,this.FH,this.GV];
for(var m=0;m<6;m++)if(g[m]!=null&&g[m]instanceof gl.up)g[m].delete();this.dq=null;this.nb=null;this.c7=null;
this.YB=null;this.FH=null;this.GV=null};p.prototype.U=function(g){if(g==null)g=this.rect.clone();if(this.Of.yz==null)this.Of.yz=g;
else this.Of.yz=this.Of.yz.gO(g)};p.prototype.gT=function(){return this.add.lsct==cK.TD||this.add.lsct==cK.E5};
p.prototype.JW=function(){var g=this.add;return g.SoCo!=null||g.GdFl!=null||g.PtFl!=null};p.prototype.aaV=function(){var g=this.add.lmfx;
if(g==null)return;var o=["GrFl","patternFill"];for(var m=0;m<o.length;m++){var k=iZ.pW[iZ.order.indexOf(o[m])],y=g[k].v;
if(y.length==0)continue;for(var d=0;d<y.length;d++){var b=y[d].v;if(b.enab.v&&(b.Algn==null||!b.Algn.v))this.Of.B3=!0}}};
p.prototype.a6P=function(){var g=this.v,o=this.Of.zk;if(this.JW())g=this.Qp();if(!gl.yu)return g.c6();
if(this.Of.DZ==null||o||gl.yu!=this.Of.Z3){var k=g.B2(),y=this.Of.DZ,d=null;if(o!=!0&&o!=null){d=o.clone();
d.offset(-k.x,-k.y)}if(y==null||y.m!=k.m||y.n!=k.n){y=this.Of.DZ=new gl.IW(k.m,k.n);d=null}y.set(g.c6(),d)}return this.Of.DZ};
p.prototype.a95=function(g){var o=this.rect,k=this.buffer;if(!gl.yu){var y=this.Gz(g,k,o);if(y){k=y.rg;
o=y.rect}return k}if(this.Of.yz!=null||gl.yu!=this.Of.Z3){var y=this.Gz(g,k,o);if(y){k=y.rg;o=y.rect}var d=o;
if(gl.yu!=this.Of.Z3||this.Of.Me==null||this.Of.Me.m!=d.m||this.Of.Me.n!=d.n){if(this.Of.Me)this.Of.Me.delete();
this.Of.Me=new gl.up(d.m,d.n);this.Of.Me.set(k)}else{var b=this.Of.yz.clone();b.offset(-o.x,-o.y);this.Of.Me.set(k,b)}}return this.Of.Me};
p.prototype.QS=function(){var g=this.v;if(this.JW())g=this.Qp();return g!=null&&g.isEnabled&&(!g.rect.on()||g.sL()!=255)};
p.prototype.Gz=function(g,o,k){if(this.wg()){var y=this.lQ(g);if(y.v&&y.v.isEnabled&&(!y.v.rect.on()||y.v.color==0)){var d=this.add.SoLd.filterFX.v;
y.v.gW=d.filterMaskDensity?d.filterMaskDensity.v:255;y.v.uH=d.filterMaskFeather?d.filterMaskFeather.v:0;
var b=y.buffer,T=y.rect;if(T.O()<k.O()){T=k;b=_.Q(T.O()*4);_.g1(y.buffer,y.rect,b,T)}var a=y.v.aq(k);
_.TY(a);o=o.slice(0);_.l.tx(b,T,o,k,a,k,0,k,1);return{rg:o,rect:k}}}};p.prototype.agP=function(){var g={ry:!1,t9:!1,aY:0,xf:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)g.t9=!0;if(this.Qp()&&this.Qp().isEnabled)g.ry=!0;if(g.ry&&g.t9){g.aY=this.Qp().rect.x-this.add.vmsk.Qp().rect.x;
g.xf=this.Qp().rect.y-this.add.vmsk.Qp().rect.y}return g};p.prototype.bD=function(g,o){this.Of.LX=null;
if(o&&this.Qp().uH!=0){o=o.clone();var k=Math.round(this.Qp().uH*2.4);o.pK(k,k)}var y=!1;if(this.add.lsct==cK.ZG)return;
var d=this,b=this.Qp()!=null&&this.Qp().WP,T=this.add.vmsk!=null&&this.add.vmsk.WP,a=this.agP(),t=JSON.stringify(a)!=this.Of.asC||a.ry&&b||a.t9&&T;
if(t){if(a.t9){var j=this.add.vmsk.Qp();if(a.ry){this.v=this.Qp().x7(j);this.Of.kr=new bJ(this.v.rect.x-this.Qp().rect.x,this.v.rect.y-this.Qp().rect.y)}else this.v=j}if(this.v)y=!0;
if(this.v)this.Of.Jh=new bJ(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if(a.ry)this.Qp().WP=!1;
if(a.t9)this.add.vmsk.WP=!1;this.U(o)}else{if(a.ry&&a.t9){this.v.rect.x=this.Qp().rect.x+this.Of.kr.x;
this.v.rect.y=this.Qp().rect.y+this.Of.kr.y}}if(d.JW()){this.vJ(g)}if(d.eT()){var e;if(this.v)e=new bJ(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.Of.Jh==null||!e.ey(this.Of.Jh))){this.Of.Jh=e;this.U(o);y=!0}}if(aj.get(d.add)!=null)y=!0;
if(y){var v=this.Of.zk;if(o&&v&&v!=!0)v=v.gO(o);else v=o?o:!0;this.Of.zk=v}this.Of.asC=JSON.stringify(a)};
p.prototype.vJ=function(g){var o=this,k=o.add.vstk,y=new bd(0,0,g.m,g.n),d,b=o.add.vmsk?this.add.vmsk.Qp():null,t=!0,v;
if(b&&b.isEnabled&&b.sL()==0)d=b.B2().clone();else d=y;var T=o.Qp();if(T&&T.isEnabled&&T.sL()==0)d=d.Nm(o.v.B2());
var a=b&&k;if(k&&(!k.strokeEnabled.v||k.strokeStyleLineWidth.v.val==0))a=!1;if(k&&!k.fillEnabled.v&&a)t=!1;
var j=_.Q(d.O()*4);if(t){if(o.add.SoCo)bs.gv(j,o.add.SoCo.Clr.v);if(o.add.GdFl){var e=b&&b.color==0?_.w.HM(o.add.vmsk.a,null,!0):null;
bs.pc(o.add.GdFl,j,d,g,null,e)}if(o.add.PtFl)bs.A8(o.add.PtFl,j,d,g.add.Patt,o.add.fxrp)}if(a)v=iZ.X9.Yo.indexOf(k.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(b){var L=b.gW;if(a)b.gW=255;var H=_.Q(d.O());if(b.sL()!=0)H.fill(Math.round(b.sL()));if(b&&b.isEnabled){var w=b.B2(),P=b.c6();
if(w.ey(d))_.QF(P,H);else _.sQ(P,w,H,d)}if(a&&v==2){}else{if(o.add.SoCo&&t){_.e_(H,j,3)}else _.Wy(H,d,j,d)}if(a)b.gW=L}o.buffer=j;
o.rect=d;if(a){var Q=k.strokeStyleContent.v,x=iZ.X9.V8.indexOf(Q.classID),F=this.add.vmsk.Qp(k);if(v!=0&&!o.rect.ey(y))o.extend(o.rect.gO(F.B2()));
var L=F.gW;F.gW=255;var E=F.aq(o.rect);F.gW=L;if(F.color==255)_.TY(E);var f=_.Q(o.rect.O()*4);if(x==0)bs.gv(f,Q.Clr.v);
if(x==1)bs.pc(Q,f,o.rect,g,null,b.color==0?b.rect:null);if(x==2)bs.A8(Q,f,o.rect,g.add.Patt,o.add.fxrp);
var c=k.strokeStyleOpacity.v.val/100;if(c!=1)_.nD(E,c);if(F.color==255)v=2-v;if(v<2){_.l.tx(f,o.rect,o.buffer,o.rect,E,o.rect,255,o.rect,1,!1);
if(v==0)_.i1(H,o.buffer)}if(v==2){_.i1(E,f);_.TY(H);_.l.tx(f,o.rect,o.buffer,o.rect,H,d,255,o.rect,1,!1);
_.TY(H)}if(F.gW!=255){var M=f.slice(0);_.Sm(M,4278190080,16777215);_.l.I3("norm",M,o.rect,o.buffer,o.rect,o.rect,1-F.gW/255)}L=b.gW;
b.gW=255;this.abQ=b.aq(o.rect);b.gW=L}this.U()};p.prototype.tq=function(g,o,k){var y=this,d=y.add.SoLd.Idnt.v,b=y.add.SoLd,T=_.p.AU(D.C8.bh(b.nonAffineTransform)),a=g.PU(d,b.Crop?b.Crop.v:null,[T.m,T.n],b.Impr.v.classID,k),H=1;
if(a==null)return;var t=a.IG;b.Sz.v.Wdth.v=t[1].m;b.Sz.v.Hght.v=t[1].n;var j=a.Qb==null?b.Rslt.v.val:a.Qb,e=b.warp.v,v=D.C8.bh(b.nonAffineTransform),L=t[1].clone();
L.m*=H;L.n*=H;L.x=(t[1].m-L.m)/2;L.y=(t[1].n-L.n)/2;var w=_.K.VH(v,L);if(e&&!_.uR.VV(e)){var T=_.p.AU(_.uR.$p(e)),P=T.x,Q=T.y,x=1/T.m,F=1/T.n;
w=_.K.VH(v);w=_.K.x7(w,[x,0,-P*x,0,F,-Q*F,0,0])}var E=D.C8.SE(t,o?0:1,w,e,null,null,null,o);if(E==null){y.buffer=_.Q();
y.rect=new bd}else if(y.wg()){var f=y.lQ(g);f.buffer=E.buffer;f.rect=E.rect.clone();this.jo(g,o)}else{y.buffer=E.buffer;
y.rect=E.rect}y.bD(g);y.U();g.U()};p.prototype.jo=function(g,o){if(o==null)o=!1;var k=this.lQ(g),y=this.add.SoLd.filterFX.v,d=jf.a5Z(y),b=new bd(0,0,g.m,g.n),T=k.rect.gO(b),a=k.rect.clone();
a.pK(d.x,d.y);var t={buffer:null,rect:T.Nm(a)};t.buffer=_.Q(t.rect.O()*4);_.g1(k.buffer,k.rect,t.buffer,t.rect);
if(y.enab.v&&o==!1){var j=y.filterFXList.v;for(var m=0;m<j.length;m++){var e=j[m].v;if(e.enab.v==!1)continue;
var v=e.blendOptions.v,L=h8.O8(v.Md.v.BlnM),H=v.Opct.v.val/100,w=_.M.sL(e.FrgC.v),P=_.M.sL(e.BckC.v),Q=jf.yB(e),x={buffer:_.Q(t.buffer.length),rect:t.rect.clone()},F=e.Fltr?e.Fltr.v:null;
if(aj.wf[Q]!=null){var E=aj.wf[Q],f=aj.f_(E,F);if(f)aj.mn(f,t.buffer,x.buffer,t.rect)}else jf.mn(Q,t,F,w,P,x,[g.add.lnk2?g.add.lnk2:[],this.Qp(),g.Tm]);
if(L=="norm"&&H==1)t=x;else if(L=="norm"){_.l.tx(x.buffer,x.rect,t.buffer,t.rect,null,null,null,t.rect,H)}else{_.l.I3(L,x.buffer,x.rect,t.buffer,t.rect,t.rect,H)}}}this.rect=t.rect;
this.buffer=t.buffer;this.xO();this.U();g.U()};p.prototype.i9=function(g,o,k){this.Dq=this.a1d(g,o,k)};
p.prototype.Tl=function(g,o){var k=this.a1d(g,o,!0);if(k==null)return null;var y={j1:k.W1,sP:k.kU,rect:k.Lq};
if(y.j1==1||y.j1==3){var d=y.rect,b=_.Q(d.m*d.n*4);_.e_(y.sP,b,0);_.e_(y.sP,b,1);_.e_(y.sP,b,2);_.zM(g.J.channel,g.J.rect,b,d);
y.sP=b}return y};p.prototype.a1d=function(g,o,k){var y,d,b,T,a,t,j;if(this.W1<=0){var e=_.Q(this.rect.O());
_.B4(this.buffer,e,3);y=_.dC.xM(o,{channel:e,rect:this.rect},3);if(y==null)return null;var v=_.P8(y.channel,y.rect);
T=y.rect.clone();a=this.rect.clone();d=_.Q(T.O()*4);_.g1(this.buffer,a,d,T);_.e_(y.channel,d,3);b=this.buffer.slice(0);
if(!k){var L=o.channel.slice(0);_.TY(L);_.Wy(L,o.rect,b,a)}t=this.buffer.slice(0);j=this.rect.clone()}if(this.W1==1||this.W1==3){var H=this.W1==1?this.Qp():this.lQ(g).v;
T=o.rect.clone();a=H.rect.clone();d=H.Wg(T);var b=H.channel.slice(0);if(!k)_.l.F_(H.color==255?_.Fw(T.O()):_.o7(T.O()),T,b,a,o.channel,T,1);
t=H.channel.slice(0);j=H.rect.clone()}return{W1:this.W1,kU:d,Lq:T,rC:b,YF:a,hh:t,wu:j}};p.prototype.wq=function(g,o){var k=this.Dq;
if(k.W1==0){this.rect=k.wu;this.buffer=k.hh;this.U()}if(k.W1==1||k.W1==3){var y=k.W1==1?this.Qp():this.lQ(g).v;
y.channel=k.hh;y.rect=k.wu;if(this.W1==1){y.WP=!0;this.bD(g)}if(this.W1==3)this.U()}this.Dq=o};p.prototype.b8=function(g,o){if(this.W1<=0&&o.rect.ey(this.rect)){var k=_.Q(this.rect.O());
_.B4(this.buffer,k,3);if(_.ey(g.J.channel,k)){var y=this.rect,d=this.buffer;this.Dq={W1:this.W1,kU:d.slice(0),Lq:y.clone(),rC:_.Q(0),YF:new bd,hh:_.Q(0),wu:new bd};
return!0}}var b=this.Dq;if(b==null)return!1;if(b.W1!=this.W1)return!1;if(!o.rect.ey(b.Lq))return!1;var T=b.YF.gO(b.Lq);
if(b.W1<=0){if(!T.ey(this.rect))return!1;var a=_.Q(b.kU.length>>2);_.B4(b.kU,a,3);if(!_.ey(o.channel,a))return!1;
var t=_.Q(T.m*T.n*4);_.g1(b.rC,b.YF,t,T);_.l.I3("norm",b.kU,b.Lq,t,T,T,1);return _.ey(t,this.buffer)}if(b.W1==1||b.W1==3){var j=b.W1==1?this.Qp():this.lQ(g).v;
if(!T.ey(j.rect))return!1;var e=_.Q(T.O());e.fill(j.color);_.sQ(b.rC,b.YF,e,T);_.l.F_(b.kU,b.Lq,e,T,o.channel,T,1);
return _.ey(e,j.channel)}};p.prototype.pC=function(g,o,k,y){var d=this.Dq;d.Lq.offset(o,k);var b=d.YF.gO(d.Lq);
if(d.W1<=0){var T=_.Q(b.O()*4);_.g1(d.rC,d.YF,T,b);_.l.I3("norm",d.kU,d.Lq,T,b,b,1);this.buffer=T;this.rect=b;
this.U()}else{var a=this.W1==1?this.Qp():this.lQ(g).v,t=_.Q(b.O());t.fill(a.color);_.sQ(d.rC,d.YF,t,b);
_.l.F_(d.kU,d.Lq,t,b,y.channel,b,1);a.channel=t;a.rect=b.clone();if(this.W1==1){a.WP=!0;this.bD(g)}if(this.W1==3)this.U()}};
p.prototype.aae=function(){var g=[-1,0,1,2];if(this.v)g.push(-2);if(this.v7)g.push(-3);return g};p.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
p.prototype.mP=function(cy){this.add.luni=this.name=cy};p.prototype.u8=function(g){var o=this.add.lnsr,k=this.add.TySh;
if(o=="rend"&&k){var y=bw.fY(k.O7);this.mP(y.slice(0,y.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
p.prototype.oa=function(){return(this.b_&1<<1)==0};p.prototype.eT=function(){return(this.b_&1<<4)==0};
p.prototype.Ac=function(){return(this.b_&1<<5)!=0};p.prototype.a59=function(){var g=this;if(g.add.lnsr!="bgnd"){g.add.lnsr="bgnd";
g.mP("Background");g.add.lspf=1<<2}};p.prototype.a1$=function(){var g=this;if(g.add.lnsr=="bgnd"){delete g.add.lnsr;
g.mP("Layer 0");g.add.lspf=0}};p.prototype.RA=function(g){var o=this.add.lspf;return o==null?!1:(o>>g&1)!=0};
p.prototype.qj=function(g){if(g&&!this.oa())this.b_-=2;if(!g&&this.oa())this.b_+=2};p.prototype.Ff=function(){var g=this.add.lmfx;
if(g==null)return!1;for(var o in g){if(o=="masterFXSwitch")continue;if(o=="Scl")continue;if(o=="classID")continue;
if(g[o].v.length>0)return!0}return!1};p.prototype.wg=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
p.prototype.ZB=function(){var g=this.add.lmfx;if(g==null)return!1;if(!g.masterFXSwitch.v)return!1;for(var o in g){if(o=="masterFXSwitch")continue;
if(o=="Scl")continue;if(o=="classID")continue;var k=g[o].v;for(var m=0;m<k.length;m++)if(k[m].v.enab.v)return!0}return!1};
p.prototype.Jc=function(g,o,k,y){var d=new bd,b=this._q(g,k,y);if(b.indexOf(0)!=-1)d=d.gO(this.rect);
if(b.indexOf(1)!=-1){var T=this.Qp(),a=T.B2();d=k&&T.sL()==0?d.on()?a:d.Nm(a):d.gO(a)}if(b.indexOf(2)!=-1){var t=this.add.vmsk,j=this.add.vstk,e;
if(o){e=_.w.HM(t.a,t.g.length!=0?t.g:null)}else e=_.w.HM(t.a);if(!y&&j&&j.strokeEnabled.v){var v=j.strokeStyleLineAlignment.v.strokeStyleLineAlignment,L=j.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(v!="strokeStyleAlignInside"){var H=j.strokeStyleLineWidth.v.val;if(L=="strokeStyleMiterJoin")e=new bd(0,0,g.m,g.n);
else e.pK(H,H)}}d=d.gO(e)}if(b.indexOf(3)!=-1)d=d.gO(this.lQ(g).v.B2());if(b.length==0&&this.JW())d=y?new bd(0,0,0,0):new bd(0,0,g.m,g.n);
return d};p.prototype.y5=function(){var g=this.add.artb,o=g.artboardBackgroundType.v,k=0;if(o==1)k=4294967295;
else if(o==2)k=4278190080;else if(o==3)k=0;else if(o==4){k=g.Clr.v;k=255<<24|k.Bl.v<<16|k.Grn.v<<8|k.Rd.v}else throw o;
return k};p.prototype.xB=function(){var g=this.add.artb.artboardRect.v,o=g.Btom.v,k=g.Left.v,y=g.Rght.v,top=g.Top.v;
return new bd(k,top,y-k,o-top)};p.prototype.P2=function(g){var o=p._i(g);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=o};p._i=function(g){var o={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
o.Btom.v=g.y+g.n;o.Left.v=g.x;o.Rght.v=g.x+g.m;o.Top.v=g.y;return o};p.prototype._q=function(g,o,k){var y=[],d=this;
if(!o&&d.j6&&k){y.push(2)}else if(d.W1<=0||o){if(d.eT())if(!this.rect.on())y.push(0);if(d.Qp()&&!d.Qp().rect.on())if(d.Qp().zi||o)y.push(1);
if(d.add.vmsk)if(d.add.vmsk.zi||o)y.push(2);if(d.wg()&&d.lQ(g).v&&!d.lQ(g).v.rect.on())y.push(3)}else if(d.W1==1){y.push(1);
if(d.Qp().zi&&!d.Qp().rect.on()){if(d.eT())if(!this.rect.on())y.push(0);if(d.add.vmsk)if(d.add.vmsk.zi)y.push(2)}}else if(d.W1==3&&!d.lQ(g).v.rect.on())y.push(3);
if(d.add.artb&&y.indexOf(0)==-1)y.push(0);y.sort();return y};p.prototype.Qp=function(){var g=this;return g.v7?g.v7:g.add.vmsk&&g.add.vmsk.isEnabled?null:g.v};
p.prototype.lQ=function(g){var o=this.add.SoLd.placed.v,k=g.add.FEid;if(k==null)return null;for(var m=0;
m<k.length;m++)if(k[m].id==o)return k[m];return null};p.prototype.extend=function(g){_.awk(this,g)};
p.prototype.aqo=function(g,o,k){var y=g.clone();if(this.ZB()){var d=this.add.lmfx,b=o.root.St(o.d.indexOf(this)),T=d.gradientFillMulti.v,a=!1;
for(var m=0;m<T.length;m++)if(T[m].v.enab.v&&T[m].v.Algn.v)a=!0;if(a)y=y.gO(b.B2(o,!1));var t=bs.adY(this.add.lmfx,o,k);
y.offset(t.x,t.y);y.m+=t.m;y.n+=t.n}return y};p.prototype.xO=function(){if(this.eT())_._7(this);var g=this.Qp();
if(g)g.xO()};p.prototype.clone=function(){var g=new p;g.rect=this.rect.clone();g.buffer=this.buffer.slice(0);
g.HW=this.HW;g.opacity=this.opacity;g.Le=this.Le;g.b_=this.b_;g.name=this.name;g.kC=this.kC.slice(0);
if(this.v)g.v=this.v.clone();if(this.v7)g.v7=this.v7.clone();for(var o in this.add)g.add[o]=i_.clone(o,this.add[o]);
return g};p.prototype.at=function(g){var o=this;if(o.add.TySh)delete o.add.TySh;if(o.add.SoLd){var k=this.Gz(g,this.buffer,this.rect);
if(k){this.buffer=k.rg;this.rect=k.rect;this.U()}delete o.add.SoLd}if(o.add.SoCo||o.add.GdFl||o.add.PtFl){if(o.add.vogk)delete o.add.vogk;
if(o.add.SoCo)delete o.add.SoCo;if(o.add.GdFl)delete o.add.GdFl;if(o.add.PtFl)delete o.add.PtFl;if(o.add.vmsk){console.log(o.v7,o.v);
delete o.add.vmsk;if(o.v7==null&&o.v)delete o.v;else if(o.v7!=null&&o.v!=null){o.v=o.v7;delete o.v7}}}if(!o.gT()&&aj.get(o.add)==null&&!this.eT())this.b_-=16};
p.prototype.gS=function(g){var o=255,k=0;if(g==2){var y=this.add.SoLd.filterFX.v;if(y.filterMaskDensity)o=y.filterMaskDensity.v;
if(y.filterMaskFeather)k=y.filterMaskFeather.v}else{var d=g==0?this.Qp():this.add.vmsk;o=d.gW;k=d.uH}return{TO:g,_R:o,_B:k}};
p.prototype.aeJ=function(g){if(g.TO==2){var o=this.add.SoLd.filterFX.v;if(g._R==255)delete o.filterMaskDensity;
else o.filterMaskDensity={t:"long",v:g._R};if(g._B==0)delete o.filterMaskFeather;else o.filterMaskFeather={t:"doub",v:g._B};
this.U()}else{var k=g.TO==0?this.Qp():this.add.vmsk;k.gW=g._R;k.uH=g._B;k.WP=!0}};p.prototype.Ko=function(){var g=this,o=g.add.vmsk;
if(o==null)return;g.add.vogk=_.X.a4E(o.a)};p.Ko=function(g){var o=[],k=_.w.L7(g);for(var y=0;y<k;y++)o.push(_.X.o7());
return o};var cK={C7:0,TD:1,E5:2,ZG:3};p.GE=function(){this.name="Mask";this.ao=!1;this.IZ={o:255,C:0,k:0};
this.ea=50;this.Wj=0;this.color=255;this.zi=!0;this.isEnabled=!0;this.Rw=!1;this.gW=255;this.uH=0;this.rect=new bd;
this.channel=_.Q(0);this.H0=null;this.a4j=null;this.WP=!0};p.GE.prototype.x7=function(g){if(!this.isEnabled)return g;
var o=new p.GE;o.color=Math.round(this.sL()*g.sL()/255);if(this.sL()==0&&g.sL()==0)o.rect=this.B2().Nm(g.B2());
else if(g.sL()==0)o.rect=g.B2().clone();else if(this.sL()==0)o.rect=this.B2().clone();else o.rect=this.B2().gO(g.B2());
o.channel=this.aq(o.rect);o.gW=255;o.uH=0;var k=g.aq(o.rect);_.agh(k,o.rect,o.channel,o.rect);return o};
p.GE.prototype.B2=function(){if(this.uH==0)return this.rect;var g=Math.ceil(this.uH*2.2),o=this.rect.clone();
if(o.y==0){if(o.x==0)o.m+=g;else o.pK(g,0);o.n+=g}else o.pK(g,g);return o};p.GE.prototype.c6=function(){if(this.uH==0&&this.gW==255)return this.channel;
if(this.uH==0){var g=this.channel.slice(0);_.TY(g);_.nD(g,this.gW/255);_.TY(g);return g}var o=this.B2(),k=this.Wg(o),g=_.Q(o.O());
_.tI.BM(k,g,o,this.uH);if(this.gW!=255){_.TY(g);_.nD(g,this.gW/255);_.TY(g)}return g};p.GE.prototype.sL=function(){return Math.round(255-(255-this.color)*(this.gW/255))};
p.GE.prototype.extend=function(g){_.extend(this,g,this.color)};p.GE.prototype.xO=function(){if(this.color==255)_.TY(this.channel);
_.xO(this);if(this.color==255)_.TY(this.channel)};p.GE.prototype.clone=function(){var g=new p.GE;g.name=this.name;
g.ao=this.ao;g.IZ=this.IZ;g.ea=this.ea;g.Wj=this.Wj;g.color=this.color;g.zi=this.zi;g.isEnabled=this.isEnabled;
g.Rw=this.Rw;g.gW=this.gW;g.uH=this.uH;g.rect=this.rect.clone();g.channel=this.channel.slice(0);return g};
p.GE.prototype.Wg=function(g,o){if(o==null)o=_.Q(g.O());o.fill(this.color);_.sQ(this.channel,this.rect,o,g);
return o};p.GE.prototype.aq=function(g,o){var k=this.B2(),y=this.c6();if(o==null)o=_.Q(g.O());o.fill(this.sL());
_.sQ(y,k,o,g);return o};p.Ew=function(){this.zi=!0;this.isEnabled=!0;this.gW=255;this.uH=0;this.a=[{type:6},{type:8,all:0}];
this.zA=[-3,-3];this.TU=!1;this.v7=null;this.WP=!0;this.g=[];this.ZU=[]};p.Ew.prototype.offset=function(g,o){this.v7=this.Qp();
_.w.cs(this.a,new d3(1,0,0,1,g,o));this.v7.rect.offset(g,o)};p.Ew.prototype.Qp=function(g){if(!this.WP&&this.v7&&g==null){this.v7.isEnabled=this.isEnabled;
return this.v7}var o=_.w.HM(this.a),k="strokeStyleLineAlignment",y="strokeStyleLineJoinType";if(o.O()>2e4*2e4)o=new bd(0,0,100,100);
if(g&&g[k].v[k]!="strokeStyleAlignInside"){var d=1;if(g[y].v[y]=="strokeStyleMiterJoin"){var b=_.w.anz(this.a),T=b/2,a=Math.sin(T),t=Math.cos(T);
t/=a;a=1;var d=Math.sqrt(t*t+a*a);if(isNaN(d)||d<1)d=1}d*=g[k].v[k]=="strokeStyleAlignOutside"?1:.5;
var j=Math.ceil(g.strokeStyleLineWidth.v.val*d);j=Math.min(j,600);o.pK(j,j)}o=_.p.Ze(o);var e=new p.GE;
e.color=_.w.oP(this.a)?0:255;e.zi=this.zi;e.isEnabled=this.isEnabled;e.Rw=!0;e.rect=o;e.gW=this.gW;e.uH=this.uH;
e.channel=_.Q(e.rect.O());if(!o.on())_.w.a58(this.a,e.channel,e.rect,g);if(g==null){this.v7=e;this.WP=!1}return e};
p.Ew.prototype.clone=function(){var g=new p.Ew;g.zi=this.zi;g.isEnabled=this.isEnabled;g.gW=this.gW;
g.uH=this.uH;g.a=p.Ew.q7(this.a);g.zA=this.zA.slice(0);g.TU=this.TU;g.g=this.g.slice(0);g.ZU=this.ZU.slice(0);
return g};p.Ew.prototype.concat=function(g){var o=g.a.slice(2);if(o.length==0)return;o[0].dJ=3;this.a=this.a.concat(o)};
p.Ew.q7=function(g){var o=[];for(var m=0;m<g.length;m++){var k=g[m];if(k.type>5||k.type==0||k.type==3)o.push(JSON.parse(JSON.stringify(k)));
else o.push({type:k.type,Tp:k.Tp.clone(),H:k.H.clone(),dt:k.dt.clone()})}return o};p.Ew.aeO=function(g,o,k){if(g.length!=o.length)return!1;
for(var m=2;m<g.length;m++){var y=g[m],d=o[m];if(y.type!=d.type)return!1;if(y.type==0||y.type==3){if(y.length!=d.length||!k&&y.dJ!=d.dJ)return!1}else if(!y.Tp.ey(d.Tp)||!y.H.ey(d.H)||!y.dt.ey(d.dt))return!1}return!0};
p.Ew.prototype.a2r=function(){var g=this.a;for(var m=3;m<g.length;m++)if(g[m].type==0||g[m].type==3)g[m].dJ=-1};
p.Mm=function(){this.type=null;this.fr=2;this.UK=null;this.iV="";this.uF="";this.Il="";this.open=0;this.raw=null;
this.IG=null;this.acI="";this.Hi=!1};p.Mm.prototype.clone=function(){var g=new p.Mm;g.type=this.type;
g.fr=this.fr;g.UK=this.UK;g.iV=this.iV;g.uF=this.uF;g.Il=this.Il;g.open=this.open;g.raw=new Uint8Array(this.raw.buffer.slice(0));
return g};p.Mm.prototype.PJ=function(g,o,k,y,d){if(k==null)k="none";var b=this,T=cp.tW(b.raw.buffer),a=T=="svg"||T=="pdf"||T=="ai";
if(b.IG){var t=o&&a&&Math.max(b.IG[1].m,b.IG[1].n)<Math.max(o[0],o[1]);if(!t&&k==this.acI&&!b.Hi)return}this.acI=k;
if(!a)g=0;if(T==null){alert("Unsupported format: "+S.lp(b.raw,0,4));return null}var j=cp.rJ(T);if(j.nY){var e=new dF(name+(T=="psd"?"":"-"+T)+".psd"),v;
j.pO(b.raw.buffer,e,o);var L=new bd(0,0,e.m,e.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(k)!=-1){var H=[];
for(var m=0;m<e.d.length;m++){var w=e.d[m],P=w.buffer;if(!w.rect.ey(L)){P=_.Q(L.O()*4);_.g1(w.buffer,w.rect,P,L);
console.log("resizing")}H.push(P)}v=_.Q(L.O()*4);_.stack.stack(H,v,k)}else{for(var m=0;m<e.d.length;
m++)if(e.d[m].JW())e.d[m].bD(e);if(y&&e.Hi){var Q=il.WV(e,y,d);b.Hi=!Q;if(Q)il.a4R(e,y,d)}e.Tf();e.U();
e.m5();v=e.PJ()}b.IG=[v,L];b.Qb=e.Qb!=null&&e.Qb!=0?e.Qb:72}else if(j){var x=j.pO(b.raw.buffer)[0];b.IG=[new Uint8Array(x.data),x.MR];
b.Qb=x.Qb!=null&&x.Qb!=0?x.Qb:72}if(b.IG){if(g==1){var P=b.IG[0],F=b.IG[1],E=_.Q(F.O());_.B4(P,E,3);
var f=_.P8(E,F),c=_.Q(f.O()*4);_.g1(P,F,c,f);f.x=f.y=0;b.IG=[c,f]}_._h(b.IG)}};p.jL="0";p.kP="2";p.Fj="2.5";
p.kH="2.6";p.Jq="3";p.ER="4";p.Wd="4.5";p.a8J="4.6";p.a7s="5";p.II="5.5";p.agX="6";p.zh="7";p.a4i="8";
p.C5="9";p.oW="9.3";p.aik="9.5";p.Ne="9.6";p.Dy="10";p.AW="11";p.$$="12";p.vL="13";p.K7="13.1";p.amJ="13.2";
p.le="13.3";p.ne="13.4";p.sk="14";p.vc="14.1";p.U8="14.2";p.Rg="14.3";p.n4="17";p.tC="18";p.aru="19";
p.i$="19.5";p.UU="19.6";p._F="19.7";p.Jw="19.8";p.FV="20";p._z="21";p.hw="21.5";p.t0="22";p.f1="22.5";
p.HF="23";p.aq2="24";p.dl="25";p.a0m="26";p.a4C="27";p.yv="28";p.zn="29";p.Y6="30";p.Uq="31";p.IX="32";
p.hX="33";p.pY="34";p.Fx="35";p.KG="36";p.jM="36.5";p.Pw="37";p.m7="37.5";p.a4n="37.6";p.$S="38";p.n1="38.5";
p.mM="38.6";p.cI="39";p.g0="40";p.auk="41";p.vd="42";p.wM="50";p.BV="51";p.qE="52";p.eI="53";p.OB="54";
p.ajW="54.5";p.IP="54.6";p.anS="54.7";p.LB="54.8";p.jj="55";p.LQ="56";p.d8="57";p.Za="58";p.TE="59";
p.Sb="60";function hi(){this.depth=0;this.index=-1;this.i=null;this.awN=null;this.Fy=-1;this.children=null;
this.parent=null;this.Su=null}hi.prototype.ahW=function(g,o){if(this.depth!=0)g.push(this.i.getName());
if(this.children)for(var m=0;m<this.children.length;m++)this.children[m].ahW(g,o);if(g.length>o._Q.length)o._Q=g.slice(0);
if(this.depth!=0)g.pop()};hi.prototype.an7=function(){var g=0;if(this.i.gT()){for(var m=0;m<this.children.length;
m++)g+=this.children[m].an7()}else if(this.i.buffer)g+=this.i.buffer.length;return g};hi.prototype.St=function(g){var o=this.Su[g];
return this.Su[g]};hi.prototype.a6F=function(g,o){var k=this.i;if(!k.oa()||k.RA(2)||k.RA(31))return null;
if(k.QS()){var y=k.v.rect.AM(g);if(!y&&k.v.color==0)return}if(k.gT()){for(var m=0;m<this.children.length;
m++){var cy=this.children[m];cy.a6F(g,o)}}else if(k.rect.AM(g))o.push(this.index)};hi.prototype.DQ=function(g,o){var k=this.i;
if(!k.oa()||k.RA(2)||k.RA(31))return null;if(k.QS()){if(k.v.rect.oo(g)){if(!_.DQ(g,k.v.channel,k.v.rect))return null}else if(k.v.color==0)return null}if(k.gT()){if(k.add.artb&&!k.xB().oo(g))return null;
for(var m=this.children.length-1;m>=0;m--){var cy=this.children[m],y=cy.DQ(g,o);if(y&&o==null)return y}return null}else if(k.add.TySh&&k.rect.oo(g)||_.ame(g,k.buffer,k.rect)){if(o==null)return this;
else o.push(this.index)}return null};hi.prototype.aon=function(g){var o=this.i;if(!o.oa()||o.RA(2)||o.RA(31))return null;
var k=o.add.vmsk;if(k&&k.isEnabled){var y=_.w.DQ(k.a,g).Sp;if(y!=-1)return{auL:this,a3b:y}}if(o.gT()){if(o.add.artb&&!o.xB().oo(g))return null;
for(var m=this.children.length-1;m>=0;m--){var cy=this.children[m],d=cy.aon(g);if(d)return d}return null}return null};
hi.prototype.kM=function(g,o){g.push(this.index);if(this.i.gT()){g.push(this.Fy);if(o)if(this.i.W1==1&&this.i.Qp().zi==!1)return;
for(var m=0;m<this.children.length;m++)this.children[m].kM(g)}};hi.N9=function(){var g=document.createElement("canvas");
return g.getContext("2d")};hi.abv=function(g,o){var k,y;if(g.m>g.n){k=o;y=Math.floor(o*(g.n/g.m))}else{k=Math.floor(o*(g.m/g.n));
y=o}return new bJ(k,y)};hi.Br=32;hi.De=1;hi.prototype.OJ=function(g,o,k){var y=hi.De,d=this.i;if(d.gT()&&d.add.artb!=null)o=d.xB();
var b=y==0?d.rect:o;if(b.on()||d.add.TySh)b=o;var T=hi.Br*D.V(),a=hi.abv(b,T),t=a.x,j=a.y,e=hi.abv(o,T);
if(d.JW()&&d.add.vmsk==null||d.add.TySh)t=j=Math.max(j,16);else if(d.gT()){t=j=16}else{t=Math.max(t,6);
j=Math.max(j,6)}if(k&&d.Im==null){d.Im=hi.N9();d.DI=hi.N9();d.Cb=hi.N9();d.WI=hi.N9()}var v=d.JW()&&d.add.vmsk;
if(v){if(k&&d.add.vstk)_.vl.qU(d.Im,t,j,b,d.buffer,d.rect,!1,null,!d.add.vstk.fillEnabled.v&&!d.add.vstk.strokeEnabled.v);
if(k)_.vl.aq3(d.Im,t,j)}else if(d.add.TySh){if(k)_.vl.a1M(d.Im,j,j,d.add.TySh)}else if(d.add.SoCo){if(k)_.vl.a8b(d.Im,j,j,d.add.SoCo)}else if(d.add.GdFl){if(k)_.vl.aaN(d.Im,j,j,d.add.GdFl)}else if(d.add.PtFl){if(k)_.vl.ao5(d.Im,j,j,d.add.PtFl,g)}else if(aj.get(d.add)!=null){if(k)_.vl.aia(d.Im,j,j,d.add)}else if(d.add.SoLd){if(k)_.vl.qU(d.Im,t,j,b,d.buffer,d.rect,!1);
if(k)_.vl.ard(d.Im,t,j,d.add.SoLd)}else if(d.gT()){}else{if(k){if(d.eT())_.vl.qU(d.Im,t,j,b,d.buffer,d.rect,!1);
else{_.vl.a5A(d.Im,j,j)}}}var L=d.Qp();if(k){if(L)_.vl.E3(d.DI,e.x,e.y,o,L);if(d.wg()&&d.lQ(g)&&d.lQ(g).v){var H=d.lQ(g).v;
_.vl.E3(d.WI,e.x,e.y,o,H)}if(!v&&d.add.vmsk){_.vl.E3(d.Cb,e.x,e.y,o,d.add.vmsk.Qp(),!0)}}if(L||d.add.vmsk)j=Math.max(j,e.y);
d.a4b=Math.max(j,16);if(k!=!0&&d.gT()&&(d.add.lsct==cK.TD||g.d.length<4e3))for(var m=0;m<this.children.length;
m++)this.children[m].OJ(g,o)};hi.prototype.akW=function(g,o,k,y){this.depth=k;var d=g[o];if(y==null)y=[];
this.Su=y;if(d.add.lsct==cK.ZG){this.awN=d;this.Fy=o-1;this.children=[];var m=o+1;while(!0){var b=g[m];
if(b==null)console.log(m,g.length);if(b.add.lsct==cK.TD||b.add.lsct==cK.E5){if(d.add.lyid==b.add.lyid)d.add.lyid+=16777215;
this.i=b;this.index=m-1;y[this.index]=this;y[o-1]=this;break}var T=new hi;T.parent=this;m=T.akW(g,m,k+1,y);
this.children.push(T)}return m+1}else{this.i=d;this.index=o-1;y[this.index]=this;return o+1}};hi.prototype.JY=function(g,o,k,y){var d=this.St(k),b=g;
while(d.parent!=null){b=d.i.aqo(b,o,y);d=d.parent}return b};hi.prototype.B2=function(g,o){var k=this.i,y=new bd;
if(!k.oa())return y;var d=k.Qp();if(k.gT())for(var m=0;m<this.children.length;m++){var b=this.children[m].B2(g,!0);
y=y.gO(b)}else if(aj.get(k.add)!=null)y=k.QS()&&k.v.color==0?k.v.B2().clone():new bd(0,0,g.m,g.n);else if(k.JW()&&k.add.vmsk&&k.add.vmsk.isEnabled&&k.add.vstk){y=k.rect.clone()}else if(k.JW()&&d&&d.isEnabled&&d.sL()!=0)y=new bd(0,0,g.m,g.n);
else{y=k.Jc(g,!1,!0);if(k.add.vmsk)y=_.p.Ze(y)}return o?k.aqo(y,g):y};hi.Df={delete:function(g){if(g&&g.m)g.delete()},Q:function(g,o){return gl.yu?new gl.up(g,o):_.Q(g*o*4)},K9:function(g,o,k){if(gl.yu){if(g==null||g.m!=o||g.n!=k){hi.Df.delete(g);
return new gl.up(o,k)}}else{if(g==null||!(g instanceof Uint8Array)||g.length!=o*k*4){hi.Df.delete(g);
return _.Q(o*k*4)}}return g},sQ:function(g,o,k,y,d){(gl.yu?gl.eS:_.g1)(g,o,k,y,d)},tx:function(g,o,k,y,d,b,T,a,m,t,j){(gl.yu?gl.l.ud:_.l.tx)(g,o,k,y,d,b,T,a,m,t,j)},aoD:function(g,o,k,y,d,b,T,a){var t=k.clone(),j=d.m,e=d.n,v=t.x,L=t.y,H=t.x+t.m>j?-1:0,w=t.x<0?2:1,P=t.y+t.n>e?-1:0,Q=t.y<0?2:1;
for(var x=P;x<Q;x++)for(var F=H;F<w;F++){t.x=v+F*j;t.y=L+x*e;hi.Df.I3(g,o,t,y,d,b,T,a)}},I3:function(g,o,k,y,d,b,T,a){if(gl.yu)gl.l._M(g,o,k,y,d,b,T,a);
else _.l.I3(g,o,k,y,d,b,T,a)},Sm:function(g,o,k){if(gl.yu){gl.z9(g);gl.J_(o,k)}else _.Sm(g,o,k)},awv:function(g,o,k,y,d){if(gl.yu){gl.l.ud(null,null,y,d,g,o,k,d,1,!1)}else{if(k==255)_.Wy(g,o,y,d);
else{var b=_.Q(o.O());_.HD(y,d,b,o);_.I9(g,b);_.Sm(y,0,16777215);_.zM(b,o,y,d)}}},Q0:function(g,o,k,y){if(gl.yu)gl.l.ud(null,null,k,y,g,o,0,y,1,!1);
else _.Q0(g,o,k,y)}};hi.prototype.yZ=function(g,o,k,y,d,b){var T=typeof b=="number";if(!this.i.gT()&&(T&&this.index>b||!T&&b.indexOf(this.index)==-1)){return}var a=this.i,t=bs.aO(a),j=hi.Df,e=a.JW()?a.Qp():a.v;
if(!a.oa())return;if(a.QS()&&e.rect.on()&&e.sL()==0){return}if(a.add.vstk==null&&this.B2(y,!1).on()){return}var v=this.B2(y,!0).Nm(k);
if(!o.ey(k)&&!k.AM(v))return;if(a.gT()&&a.add.artb){var L=a.xB();k=k.Nm(L)}var H=hi.a9c(a,d,t);if(!H){this.a4V(g,o,k,y,d,b);
return}a.Of.dq=j.K9(a.Of.dq,v.m,v.n);j.sQ(g,o,a.Of.dq,v,k);this.a4V(a.Of.dq,v,k,y,d,b);j.tx(a.Of.dq,v,g,o,null,null,0,k,a.opacity/255,a.HW=="diss",t.XO)};
hi.a9c=function(g,o,k){if(k.XO[0]*k.XO[1]*k.XO[2]==0)return!0;return g.opacity!=255&&(o.length!=0||g.gT()||g.ZB())};
hi.a23={Of:{}};hi.prototype.a4V=function(g,o,k,y,d,b){var T=this.i,a=bs.aO(T),t=aj.get(T.add)!=null,j=hi.Df,e=hi.a9c(T,d,a),v=e?1:T.opacity/255,L=T.JW()?T.Qp():T.v,H=T.gT()&&a.zK==null&&(T.HW=="pass"||T.add.artb)&&!(d.length>0||a.fill!=1||T.ZB()),w=!T.gT()&&!t&&!T.ZB()&&d.length==0,P=t&&!T.ZB()&&d.length==0,c=null,M=null,n=null,J;
if(H||w||P){var Q=g,x=o;if(T.QS()){x=this.B2(y,!1);Q=T.Of.YB=j.K9(T.Of.YB,x.m,x.n);j.sQ(g,o,T.Of.YB,x)}if(H)this.pH(Q,x,k,y,b);
if(w)j.I3(T.HW,T.a95(y),T.rect,Q,x,k,v,a);if(P){var F=T.QS()&&L.sL()==0?L.B2().clone():x.clone(),E=T.Of;
if(F.ey(new bd(0,0,y.m,y.n)))E=hi.a23;E.c7=this.ahZ(Q,x,E.c7,F,T.add);a.qG=!0;j.I3(T.HW,E.c7,F,Q,x,k,v,a)}if(T.QS())j.tx(Q,x,g,o,T.a6P(),L.B2(),L.sL(),k,1,T.HW=="diss");
T.Of.agf();return}var f=T.gT()&&T.HW=="pass"&&(d.length>0||a.fill!=1||T.ZB()),F=T.rect;if(T.gT()){F=this.B2(y,!1);
n=T.Of.c7=j.K9(T.Of.c7,F.m,F.n);j.Sm(n,0);this.pH(n,F,F,y,b);M=j.K9(T.Of.nb,F.m,F.n);j.sQ(n,F,M,F)}else if(t){F=T.QS()&&L.sL()==0?L.B2().clone():o.clone();
M=j.K9(T.Of.nb,F.m,F.n);j.Sm(M,4294967295)}else{F=T.rect;c=T.a95(y);M=j.K9(T.Of.nb,F.m,F.n);j.sQ(c,F,M,F)}T.Of.nb=M;
if(T.QS())j.awv(T.a6P(),L.B2(),L.sL(),M,F);if(T.ZB())if(T.Of.yz||T.Of.B3||T.Of.Z3!=gl.yu||T.Of.zk||T.gT()){var X=T.add.vmsk,u=_.Q(F.O());
if(bs.asB(T.add.lmfx)){if(gl.yu){if(!T.gT()&&T.Qp()==null&&T.rect.ey(F)&&X==null)_.B4(T.buffer,u,3);
else{var I=_.Q(F.O()*4);M.get(I);_.B4(I,u,3)}}else _.B4(M,u,3)}if(T.Of.B3||T.Of.Z3!=gl.yu||!_.ey(u,T.Of.pb)){var r=null;
if(T.JW()&&X&&X.isEnabled&&X.Qp().color==0)r=X.Qp().rect;bs.aad(T.Of.oz);T.Of.oz=bs.ahy(u,F,T.add.lmfx,T.add.fxrp,y,r);
T.Of.pb=u;T.Of.auH=F}}if(T.ZB())bs.aah(T.add.lmfx,T.Of.oz,F,g,o,k);if(T.gT()){c=j.K9(T.Of.YB,F.m,F.n);
j.Sm(c,0);if(T.HW=="pass")j.sQ(g,o,c,F);if(f)j.Q0(n,F,c,F);this.pH(c,F,k,y,b);T.Of.YB=c}if(t){c=T.Of.YB=this.ahZ(g,o,T.Of.YB,F,T.add)}if(T.gT()||t)J=c;
else{J=j.K9(T.Of.YB,F.m,F.n);j.sQ(c,F,J,F,k);T.Of.YB=J}j.Sm(J,4278190080,16777215);for(var m=0;m<d.length;
m++)d[m].yZ(J,F,k,y,[],b);var U=T.Of.FH=j.K9(T.Of.FH,F.m,F.n);j.sQ(g,o,U,F,k);if(t)a.qG=!0;j.I3(T.HW=="pass"?"norm":T.HW,J,F,U,F,k,1,a);
if(T.ZB()){var K=T.Of.oz.type.FrFX,i=null;if(K.length!=0){i=K[0];for(var m=0;m<K.length;m++)if(K[m].IR.m>i.IR.m)i=K[m];
T.Of.GV=j.K9(T.Of.GV,i.IR.m,i.IR.n);j.sQ(g,o,T.Of.GV,i.IR,k);T.Of.rr=j.K9(T.Of.rr,i.IR.m,i.IR.n)}bs.a8R(T.add.lmfx,T.Of.oz,F,g,o,k,U,T.Of.GV,T.Of.rr,i?i.IR:null)}if(!gl.yu){var z=_.Q(F.O());
_.B4(M,z,3);M=z}j.tx(U,F,g,o,M,F,0,k,1,T.HW=="diss");T.Of.agf()};hi.prototype.a3d=function(g,o,k,y){var d=this.i,b=d.add.lmfx,T=d.add.TySh,a=d.add.SoLd,w=!1,Q=null;
if(!d.oa())return;if(!d.rect.on()&&!d.rect.AM(y))return;o.save();if(d.add.artb){var t=d.xB();o.beginPath();
o.rect(t.x,t.y,t.m,t.n);o.clip();y=y.Nm(t);var j=d.y5();if(j!=0){var t=j>>>16&255,e=j>>>8&255,v=j&255;
o.fillStyle="#"+_.Mb(v<<16|e<<8|t);o.fillRect(y.x,y.y,y.m,y.n)}}var L=d.opacity/255*(d.add.iOpa?d.add.iOpa/255:1);
o.globalAlpha*=L;o.globalCompositeOperation=h8.yn[h8.re.indexOf(d.HW)];var H=CSS.afx(g,b);for(var m=0;
m<H.length;m++){var P=H[m];if(P.startsWith("drop-shadow")){P=P.slice(12,-1).split(" ");o.shadowOffsetX=parseFloat(P[0])*g.u.N;
o.shadowOffsetY=parseFloat(P[1])*g.u.N;o.shadowBlur=parseFloat(P[2])*g.u.N*2.4;o.shadowColor=P[3];w=!0}}var x=bs.ab7(d,w);
if(x){Q=o;var F=document.createElement("canvas");F.width=o.canvas.width;F.height=o.canvas.height;var E=o.getTransform();
o=F.getContext("2d");o.setTransform(E.a,E.b,E.c,E.d,E.e,E.f)}function f(Y,l){var c=Y.Of.LX;if(c==null)c=Y.Of.LX=_.p.$Q(Y.add.vmsk.a,l);
return c}if(d.add.vmsk&&!d.JW()){var c=f(d,!1),M=c.gs;o.beginPath();Typr.U.pathToContext({cmds:M.F,crds:M.j},o);
o.clip()}function n(Y,l){return CSS.pT({o:Y[0]*255,C:Y[1]*255,k:Y[2]*255},l)}function X(i,Y,l,B){if(i.Ptrn){var f4=bs.A8(i,null,new bd(0,0,1,1),Y,l);
B.save();B.translate(f4[2],f4[3]);B.scale(f4[1],f4[1]);B.rotate(-f4[4]);return f4}var V=gx.cS(i,new d3,d.rect);
if(V.length==3)return[n(V),1];else{var q,s=V.crds,cW=V.grad;if(V.typ=="lin")q=o.createLinearGradient(s[0],s[1],s[2],s[3]);
else q=o.createRadialGradient(s[0],s[1],s[2],s[3],s[4],s[5]);for(var m=0;m<cW.length;m++)q.addColorStop(cW[m][0],n(cW[m][1],cW[m][2]));
return[q,1]}}if(d.gT()){for(var m=0;m<this.children.length;m++)this.children[m].a3d(g,o,k,y)}else if(T){var u=!0;
if(d.Of.path==null){u=il.iW(T,k.At);if(u)il.Ov(d,k.At,!1)}if(u){if(g.u.N<1)hi.a8u(g,d,o,new d3(1,0,0,1,d.rect.x,d.rect.y),d.Of.pR);
else if(d.Of.path){o.save();o.translate(d.rect.x-d.Of.wu.x,d.rect.y-d.Of.wu.y);il.aqk(d.Of.path,o);o.restore()}}}else if(d.JW()&&d.add.vmsk){var I=d.add.vmsk,r=d.add.vstk,b=d.add.lmfx,J=r.fillEnabled.v;
if(!r.strokeEnabled.v)r=bs.Py(b);var U=r?iZ.X9.Yo.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,c=f(d,U!=-1),M=c.gs;
if(I.uH!=0)o.filter="blur("+I.uH*g.u.N+"px)";o.beginPath();Typr.U.pathToContext({cmds:M.F,crds:M.j},o);
var K=U==2?[1,0]:[0,1];for(var m=0;m<2;m++){if(K[m]==0&&J){var i=bs.uO(b,d.add),z=i[0],h=i[1];i=d.add.PtFl;
i=i?i:z?z:h;i=X(i,g.add.Patt,d.add.fxrp,o);o.fillStyle=i[0];o.fill(["nonzero","evenodd"][d.Of.LX.Lq]);
if(i.length>2)o.restore();if(U==0)o.clip()}if(K[m]==1&&r){var R=X(r.strokeStyleContent.v,g.add.Patt,d.add.fxrp,o);
o.strokeStyle=R[0];_.w.e7(r,o,1/R[1]);o.stroke();if(R.length>2)o.restore()}}}else if(!d.rect.on()){var C=null,G=null;
if(a){var W=a.filterFX;if(W){var i=W.v.filterFXList.v;for(var m=0;m<i.length;m++){var P=i[m].v;if(!P.enab.v)continue;
var A=jf.yB(P);if(A=="GsnB"){o.filter="blur("+P.Fltr.v.Rds.v.val*g.u.N+"px)"}}}var $=a.Idnt.v,O=g.PU($,a.Crop?a.Crop.v:null);
C=_.K.wa(a);G=O.IG}hi.a8u(g,d,o,C,G)}if(x){Q.save();Q.setTransform(1,0,0,1,0,0);Q.drawImage(o.canvas,0,0);
Q.restore();o=Q}o.globalAlpha/=L;o.globalCompositeOperation="source-over";o.restore()};hi.a8u=function(g,o,k,y,d){if(y==null)y=new d3;
var b=o.buffer,T=o.rect;if(d){var a=y.Va()*g.u.N,t=0;while(1<<t/2<.5/a&&t+2<d.length)t+=2;b=d[t];T=d[t+1];
T=T.clone();T.x=T.y=0;var a=1<<t/2,j=new d3;j.scale(a,a);j.concat(y);y=j}if(T.on())return;var e=document.createElement("canvas");
e.width=T.m;e.height=T.n;var v=e.getContext("2d");v.putImageData(new ImageData(new Uint8ClampedArray(b.buffer),T.m,T.n),0,0);
k.transform(y.Ng,y.k,y._I,y.vP,y.ii,y.xF);k.drawImage(e,T.x,T.y);y.TY();k.transform(y.Ng,y.k,y._I,y.vP,y.ii,y.xF)};
hi.prototype.ahZ=function(g,o,k,y,d){var b=aj.get(d),T;if(b)T=aj.f_(b,d[b]);var a=hi.Df;k=a.K9(k,y.m,y.n);
if(!(gl.yu&&o.ey(y)))a.sQ(g,o,k,y);if(T){if(gl.yu){var t=y.clone();t.x=t.y=0;if(o.ey(y)){gl.z9(k,t);
aj.TK(T,g.fn,t)}else{gl.z9(k,y);k.fv(y);aj.TK(T,k.zF,t)}}else aj.mn(T,k,k,y)}return k};hi.prototype.pH=function(g,o,k,y,d){var b=o,T=b.m,a=b.n,t=b.x,j=b.y,cy=k,e=cy.x,v=cy.y,L=-1,H=-1,w=2,P=2;
if(!y.CG){L=H=0;w=P=1}var Q=this.children;for(var m=0;m<Q.length;m++){var x=[];for(var F=m+1;F<Q.length;
F++)if(Q[F].i.Le)x.push(Q[F]);else break;for(var E=H;E<P;E++)for(var f=L;f<w;f++){b.x=t+f*T;b.y=j+E*a;
cy.x=e+f*T;cy.y=v+E*a;Q[m].yZ(g,b,cy,y,x,d)}m+=x.length}b.x=t;b.y=j;cy.x=e;cy.y=v};function dF(g){this.i7="psd";
this.ge=!1;this.name=g;this.ju=-1;this.CG=!1;this.Fd=null;this.YA=null;this.xj=null;this.mF=null;this.m=0;
this.n=0;this.buffer=null;this.d=[];this.oZ={};this.add={};this.jg=4;this._s=null;this.Qb=72;this.Vq={};
this.g=[];this.HR=[];this.hr=!1;this.mZ=[];this.ke=[];this.p8=[dF.Jl("Work Path")];this.yI=[];this.wW=null;
this.M9={classID:"CompList",list:{t:"VlLs",v:[]}};this.t_=[];this.S0=[];this.root=null;this.uw=null;
this.Hi=!1;this.am2=!1;this.avZ=!1;this.mi=!1;this.cP=!1;this.nM=!1;this.pP=!1;this.Qr=!1;this.Z$=!1;
this.Cn=!1;this.yz=null;this.I1=null;this.J=null;this.Tm=[];this.kD=[];this.I={a3:{},TN:[],gt:[],Zm:[],MI:null,Mp:null,JO:null,nF:null,iq:null,Vn:[],Cq:[],N_:null};
this.history=[new cc([1,0],null)];this.mQ=0;this.rK=0;this.f$=0;this.u=new g1(this);this.EX=null;this.Zg=null}dF.Zd=function(){var g=8,o=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
o=fG.Lk(g,o);return[g,o]}();dF.prototype.Z8=function(g){if(g){if(g.length==30240){this.Z8(null);return}this.oZ.r1039=g;
var o=ICC.R(g.buffer),d=null,b=17,t,j;if(o==null){this.Z8(null);return}var k=o.header.spaceIn.toLowerCase(),y=JSON.stringify(o.tags.desc).toLowerCase();
try{d=ICC.U.profileName(o)}catch(d9){}if(k!="rgb "||d==null||y.indexOf("srgb")!=-1){this.Z8(null);return}console.log("We got an ICC profile!",o,d);
try{var T=ICC.U.sampleLUT(o,b)}catch(d9){this.Z8(null);return}var a=T.slice(0),e=_.Q(4),v=dF.Zd[0],L=dF.Zd[1];
for(var m=0;m<T.length;m+=3){e[0]=T[m]*255;e[1]=T[m+1]*255;e[2]=T[m+2]*255;ICC.U.applyLUT(L,v,e,e);a[m]=e[0]/255;
a[m+1]=e[1]/255;a[m+2]=e[2]/255}if(gl.yu){t=new gl.up(b,b*b);t.set(ICC.U.lutToRGBA8(T,b));j=new gl.up(b,b*b);
j.set(ICC.U.lutToRGBA8(a,b))}this.EX=[g,o,b,T,t,a,j]}else{delete this.oZ.r1039;this.EX=null}};dF.prototype.Q$=function(){return this.EX};
dF.prototype.Ic=function(){if(this.EX)return this.EX;if(this.add.fcmy==1){if(this.Zg==null){var g=dF.Zd[0],o=dF.Zd[1],k;
if(gl.yu){k=new gl.up(g,g*g);k.set(ICC.U.lutToRGBA8(o,g))}this.Zg=[null,null,g,null,null,o,k]}return this.Zg}};
dF.prototype.ar$=function(){var g=this;if(g.u.sv.join("")!="111"){g.u.sv=[1,1,1];g.nM=!0}for(var m=0;
m<g.d.length;m++){var o=g.d[m],k=o.add.vmsk;if(o.wg()){var y=o.lQ(g);if(y&&y.v&&y.v.ao){y.v.ao=!1;g.nM=!0}}var d=o.Qp();
if(d&&d.ao){d.ao=!1;g.nM=!0}if(k){if(k.g.length!=0)k.g=[];if(k.ZU.length!=0)k.ZU=[]}}};dF.prototype.qo=function(){var g=this;
return g.J!=null||g.uM()[1].length!=0||g.g.length>1};dF.prototype.Nz=function(){var g=this.HR,o=[];for(var m=0;
m<g.length;m++)o[m]=-1;var k=this.root.children;for(var m=0;m<k.length;m++){var y=k[m],d=y.i.add.artb;
if(d==null)continue;var b=d.guideIndeces;b=b?b.v:[];for(var T=0;T<b.length;T++)o[b[T].v]=y.index}return[JSON.parse(JSON.stringify(g)),o]};
dF.prototype.uZ=function(g){this.HR=JSON.parse(JSON.stringify(g[0]));var o=g[1],k=this.root.children;
for(var m=0;m<k.length;m++){var y=k[m],d=y.i.add.artb;if(d==null)continue;d.guideIndeces={t:"VlLs",v:[]}}for(var m=0;
m<o.length;m++)if(o[m]!=-1)this.d[o[m]].add.artb.guideIndeces.v.push({t:"long",v:m})};dF.prototype.a5Q=function(g){var o=this;
if(g[0])o.add.lnk2=g[0];else delete o.add.lnk2;if(g[1])o.add.FEid=g[1];else delete o.add.FEid;if(g[2])o.add.Patt=g[2];
else delete o.add.Patt};dF.prototype.aa5=function(g){var o=this,k=[],y=[],d=[],w=null,P=null,Q=null;
for(var m=0;m<g.length;m++){var b=g[m];if(b.add.SoLd){k.push(b.add.SoLd.Idnt.v);y.push(b.add.SoLd.placed.v)}if(b.add.PtFl)d.push(b.add.PtFl.Ptrn.v.Idnt.v);
if(b.add.lmfx){for(var T=0;T<iZ.pW.length;T++){var a=b.add.lmfx[iZ.pW[T]].v;for(var t=0;t<a.length;t++)if(a[t].v.Ptrn){var j=a[t].v;
if(j.classID=="FrFX"&&j.PntT.v.FrFl!="Ptrn")continue;d.push(j.Ptrn.v.Idnt.v)}}}var e=b.add.vstk;if(e&&e.strokeStyleContent.v.classID=="patternLayer"){d.push(e.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var v=o.add.lnk2,L=o.add.FEid,H=o.add.Patt;
if(v){w=[];for(var m=0;m<v.length;m++)if(k.indexOf(v[m].UK)!=-1)w.push(v[m]);if(w.length==0)w=null}if(L){P=[];
for(var m=0;m<L.length;m++)if(y.indexOf(L[m].id)!=-1)P.push(L[m]);if(P.length==0)P=null}if(H){Q=[];for(var m=0;
m<H.length;m++)if(d.indexOf(H[m].id)!=-1)Q.push(H[m]);if(Q.length==0)Q=null}return[w,P,Q]};dF.prototype.Ik=function(g){var o=this,k=o.root.St(g==null?o.g[0]:g),y=!1;
while(k.parent!=null){y=y||k.i.RA(31);k=k.parent}return y};dF.prototype.xA=function(){var g=this.Tm,o=this.Tm.length;
if(o!=0&&g[o-1].name=="Quick Mask")return g[o-1]};dF.prototype.dV=function(){return this.i7==hf.oI("% |/!)")||this.i7==hf.Np("gP")};
dF.prototype.Bu=function(g){var o=this.add.artd;if(g!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:g},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};dF.prototype.YY=function(g){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(g)==-1)this.add.FEid.push(g)};
dF.prototype.Am=function(g){var o=this.add.FEid.indexOf(g);this.add.FEid.splice(o,1);if(this.add.FEid.length==0)delete this.add.FEid};
dF.prototype.U=function(g){if(g==null)g=new bd(0,0,this.m,this.n);if(this.yz==null)this.yz=g;else this.yz=this.yz.gO(g)};
dF.prototype.asM=function(g){return this.yz!=null};dF.prototype.WN=function(g){var o=this.d[g],k=this.root.St(g);
if(k==null)return!1;if(o.gT()||k.parent.children.indexOf(k)==0)return!1;return!0};dF.a6p=function(g){if(g.add.lnk2)for(var m=0;
m<g.add.lnk2.length;m++){var o=g.add.lnk2[m].UK;g.add.lnk2[m].UK=dF.li()+o.slice(8);for(var k=0;k<g.d.length;
k++){var y=g.d[k].add.SoLd;if(y&&y.Idnt.v==o)y.Idnt.v=g.add.lnk2[m].UK}}};dF.prototype.px=function(g,o,k){g.sort(function(v,L){return v-L});
var top=g[g.length-1],y=this.d.slice(0),d=this.g.slice(0),b=[],T=[];for(var m=0;m<this.d.length;m++){if(g.indexOf(m)!=-1)T.push(this.d[m]);
else b.push(this.d[m])}this.x8(T);this.g=[];var a=this.root.B2(this,!0);if(o)a=a.Nm(o);if(k)a=a.gO(k);
if(a.on())a=new bd(0,0,100,100);var t=new bd(-a.x,-a.y,this.m,this.n),j=new Uint8Array(cp.rJ("PSD").p0(this,0,0,[!0,!1]));
this.x8(y);this.g=d;var e=new dF(this.d[top].getName());cp.rJ("PSD").pO(j.buffer,e);delete e.add.artd;
e.mZ=[];e.x8(e.d);e.uZ([[],[]]);dF.a6p(e);D.Wz.$x(e,a);e.U();e.m5();e.PJ();return[e,a,b,top]};dF.prototype.adO=function(g,o,k){var y=this.px(g),d=y[0],b=y[1],T=y[2],top=y[3],a;
if(k=="jpg")a=new Uint8Array(cp.rJ("JPG").p0([[d.PJ().buffer]],d.m,d.n,[80]));else a=new Uint8Array(cp.rJ("PSD").p0(d,null,null,[!0,!1]));
if(o)T=this.d.slice(0);var t=this.Es(a,d.name,b.x,b.y);if(top==this.d.length-1)T.push(t);else T.splice(o?top+1:top-g.length+1,0,t);
this.x8(T);this.g=[T.indexOf(t)]};dF.li=function(g){if(g==null)g="";var o="";while(o==""||o==g){o="";
for(var m=0;m<8;m++)o+=Math.floor(Math.random()*16).toString(16)}return o};dF.prototype.Lj=function(g){if(g==null)return;
if(this.add.Patt==null)this.add.Patt=[];var o=this.add.Patt;for(var m=0;m<o.length;m++)if(o[m].id==g.id)return;
o.push(g)};dF.prototype.Es=function(g,o,k,y,d,b,T){if(this.add.lnk2==null)this.add.lnk2=[];var a=null,H=!1;
for(var m=0;m<this.add.lnk2.length;m++)if(_.ey(g,this.add.lnk2[m].raw)){a=this.add.lnk2[m].UK;break}if(a==null){var t=cp.tW(g.buffer);
a=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f";var j=new p.Mm;j.UK=a;j.Il=t=="psd"?"8BIM":"    ";j.iV=o+"."+t;
j.uF=t=="psd"?"8BPB":"    ";j.open=0;j.raw=g;j.type="liFD";j.fr=2;this.add.lnk2.push(j)}var e=this.PU(a,null,null,null,b,T),v=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f",L=this.Qf();
L.mP(o);if(e!=null){var w=0,P=0,Q=this.m,x=this.n;if(d){w=d.x;P=d.y;Q=d.m;x=d.n}var F=L.rect=e.IG[1].clone();
F.offset(w+k,P+y);var E=Math.max(F.m/Q,F.n/x),H=d!=null&&E>1.0001;if(H){F.m=Math.round(F.m/E);F.n=Math.round(F.n/E);
F.x=Math.round(w+(Q-F.m)/2);F.y=Math.round(P+(x-F.n)/2)}else if(d!=null&&cp.tW(g.buffer)=="pdf"&&this.Qb!=144){var E=144/this.Qb;
F.m=Math.round(F.m/E);F.n=Math.round(F.n/E);H=!0}L.buffer=_.Q(F.O()*4);if(!H)_.QF(e.IG[0],L.buffer)}L.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:a},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:v},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:_.uR.Q(e?e.IG[1]:L.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:L.rect.m},Hght:{t:"doub",v:L.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:e?e.Qb:72}}};
var f=_.p.rN(L.rect).j;L.add.SoLd.Trnf=D.C8.sY(f);L.add.SoLd.nonAffineTransform=D.C8.sY(f);if(H)L.tq(this,!1);
return L};dF.prototype.PJ=function(g){if(g!=null){this.U();this.m5(g);var o=this.buffer;if(gl.yu)this.uw.get(o);
else o=o.slice(0);this.U();this.m5();return o}if(this.yz){this.m5();this.yz=null}if(gl.yu&&this.I1){this.uw.get(this.buffer);
this.I1=null;this.pP=!0}return this.buffer};dF.prototype.apq=function(){for(var m=0;m<this.d.length;
m++)this.d[m].aaV();this.U()};dF.prototype.a8O=function(){for(var m=0;m<this.d.length;m++)if(this.d[m].add.lmfx)this.d[m].Of.B3=!0};
dF.prototype.Rh=function(){var g=this.oZ.r1044;if(g==null){g=this.oZ.r1044=new Uint8Array(4);var o=0;
for(var m=0;m<this.d.length;m++)o=Math.max(o,this.d[m].add.lyid);S.V_(g,0,o)}var k=S.q(g,0);S.V_(g,0,k+1);
return k+1};dF.prototype.q0=function(g,o,k){if(g==null)g=!0;var y=this;if(y.kD.length!=0)return!0;if(y.g.length!=1){if(g)alert(y.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.uV(g,o,k)};dF.prototype.uV=function(g,o,k){if(g==null)g=!0;if(o==null)o=!1;var y=this;
if(y.kD.length!=0)return!0;for(var m=0;m<y.g.length;m++){var d=y.d[y.g[m]],b=o||d.W1<=0;if(d.add.lsct!=null&&d.add.lsct!=cK.C7&&d.W1!=1){if(g)alert(d9.get([15,7,2]));
return!1}if(b&&!d.eT()){if(g)alert(d9.get([15,7,2]));return!1}if(b&&d.add.TySh){return this.awo(g,[15,7,3],k)}if(b&&d.add.SoLd){return this.awo(g,[15,7,4],k)}if(d.RA(1)||y.Ik(y.g[m])){if(g)alert(d9.get([6,57,0]));
return!1}}return!0};dF.prototype.awo=function(g,o,k){if(g&&typeof g=="object"){var y=new jB(N.E.s);y.data={P:N.b.xp,Pv:"confirm"};
y.data.Z=d9.get(o)+". "+d9.get([6,8])+"?";var d=g;y.data.H_=function(){var b=new jB(N.E.gp,!0);b.data={J5:"rasterizeLayer",fV:{classID:"rasterizeLayer",null:c_.lF("Lyr",!0)}};
d.S(b)};g.S(y);return!1}if(g)alert(d9.get(o));return!1};dF.prototype.a9W=function(g){var o=this.root.St(g);
if(o.parent)return o.i.oa()&&this.a9W(o.parent.index);else return o.i.oa()};dF.prototype.wI=function(g){var o=this;
if(g){var k=0;for(var m=0;m<o.g.length;m++)if(o.d[o.g[m]].add.artb)k++;if(k>1)return-1}if(o.add.artd&&o.g.length!=0){var y=o.root.St(o.g[0]);
while(y.parent.parent)y=y.parent;if(y.i.add.artb)return y.index}return-1};dF.prototype.ac5=function(){var g=this.d[this.g[0]];
if(g.W1<=0&&!g.rect.AM(this.J.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.J){var o=_.Q(this.J.channel.length);
_.HD(g.buffer,g.rect,o,this.J.rect);_.I9(this.J.channel,o);if(_.lc(o,0)){alert("Selected area is empty.");
return!1}}return!0};dF.prototype.rl=function(){if(this.oZ["r"+1037]==null)this.pm(30);return S.jd(this.oZ["r"+1037],0)};
dF.prototype.pm=function(g){if(this.oZ["r"+1037]==null)this.oZ["r"+1037]=new Uint8Array(4);if(S.jd(this.oZ["r"+1037],0)==g)return;
S.Jp(this.oZ["r"+1037],0,g);this.a8O()};dF.prototype.if=function(){if(this.oZ["r"+1049]==null)this.hj(30);
return S.jd(this.oZ["r"+1049],0)};dF.prototype.hj=function(g){if(this.oZ["r"+1049]==null)this.oZ["r"+1049]=new Uint8Array(4);
if(S.jd(this.oZ["r"+1049],0)==g)return;S.Jp(this.oZ["r"+1049],0,g);this.a8O()};dF.prototype.m9=function(g){if(this.add.lnk2==null)return null;
for(var m=0;m<this.add.lnk2.length;m++)if(this.add.lnk2[m].UK==g)return this.add.lnk2[m];return null};
dF.prototype.a6n=function(g){var o=this.m9(g);if(o==null)return!1;var k=cp.tW(o.raw.buffer);if(k==null)return!1;
if(cp.rJ(k)!=null||k=="psd")return!0;return!1};dF.prototype.PU=function(g,o,k,y,d,b){var T=this.m9(g);
if(T==null)return null;T.PJ(o,k,y,d,b);if(T.IG)return T};dF.prototype.a5o=function(){var g=this.m,o=this.n;
if(gl.yu&&this.uw==null)this.uw=new gl.up(g,o,!0);if(this.buffer==null||this.buffer.length!=g*o*4||gl.yu&&(this.uw.m!=g||this.uw.n!=o)){this.buffer=_.Q(g*o*4);
if(this.uw)this.uw.delete();if(gl.yu)this.uw=new gl.up(g,o,!0)}};dF.prototype.arl=function(){this.a5o();
if(gl.yu){this.uw.set(this.buffer)}};dF.prototype.m5=function(g){var o=this.m,k=this.n,y=new bd(0,0,o,k),d=this.CG?y:y.Nm(this.yz);
this.a5o();if(d.on())return;if(!d.ey(y)){if(!gl.yu){var b=_.o7(d.O()*4);_.g1(b,d,this.buffer,y)}if(gl.yu){gl.z9(this.uw,d);
gl.J_(0)}}else{if(gl.yu){this.uw.set(null)}else{this.buffer.fill(0)}}var T=Date.now(),a=gl.yu?this.uw:this.buffer;
if(g==null)g=1e9;var t=this.root.children;for(var m=0;m<t.length;m++){var j=t[m].i;if(j.oa()&&j.add.artb&&this.add.artd){var e=j.xB(),v=d.Nm(e),L=j.y5();
if(L!=0){if(gl.yu){gl.z9(a,v);gl.J_(L);gl.J_(L)}else _.ao6(a,y,v,L)}}}this.root.yZ(a,y,d,this,[],g);
this.I1=this.yz.clone()};dF.prototype.Qf=function(g){var o=new p;o.rect=new bd(0,0,0,0);o.buffer=_.Q(1);
o.add.luni=new bJ(0,0);if(g!=!0)o.add.lyid=this.Rh();o.add.lsct=cK.C7;o.add.lclr=0;o.add.fxrp=new bJ(0,0);
return o};dF.prototype.L0=function(g){var o=this.Qf(g);o.mP("</Layer group>");o.add.lsct=cK.ZG;o.b_=24;
return o};dF.prototype.kR=function(){return this.mQ!=this.rK};dF.prototype.DU=function(g){while(this.history.length>this.mQ+1)this.history.pop();
if(this.rK>this.mQ)this.rK=-1;if(g.G.id!=D.ka){this.mi=!0;if(this.M9.lastAppliedComp){delete this.M9.lastAppliedComp;
this.pP=!0}}this.history.push(g);this.mQ++;this.pP=!0;var o=fV.Ld()?60:30,k=0;for(var m=this.history.length-1;
m>=0;m--){var y=this.history[m];if(y.SH)continue;k++;if(k==o){this.mQ-=m;this.history=this.history.slice(m);
break}}};dF.prototype.Zt=function(){if(this.mQ!=this.history.length-1)return null;return this.history[this.history.length-1]};
dF.prototype.Kq=function(g,o,k,y){if(g==null)g=!1;var d=o!=null?[o]:this.g.slice(0);if(y){var b=[];for(var m=0;
m<d.length;m++){var T=this.d[d[m]],a=T.Pu;if(T.o4&&a!=0&&b.indexOf(a)==-1)b.push(a)}if(b.length!=0)for(var m=0;
m<this.d.length;m++){var T=this.d[m],a=T.Pu;if(T.o4&&a!=0&&b.indexOf(a)!=-1&&d.indexOf(m)==-1)d.push(m)}}var t=[];
for(var m=0;m<d.length;m++){var j=this.a4(d[m],g);for(var e=0;e<j.length;e++)if(t.indexOf(j[e])==-1)t.push(j[e]);
if(k){var cy=this.root.St(d[m]);while(cy.parent!=null&&cy.parent.parent!=null){cy=cy.parent;if(t.indexOf(cy.index)==-1){t.push(cy.index,cy.Fy)}}}}return t};
dF.prototype.E2=function(g,o,k){var y=this,d=y.Kq(!1,g,null,k);d.sort(function(E,f){return E-f});var b={};
for(var T=0;T<y.d.length;T++){var a=y.d[T].getName();b[a]=!0}var t=[];for(var m=0;m<d.length;m++){var j=y.d[d[m]].clone(),Q,x;
j.add.lyid=y.Rh();j.add.lspf=0;if(j.wg()){var e=j.lQ(y),v=dF.ahu(e);y.YY(v);j.add.SoLd.placed.v=v.id}else if(j.add.SoLd){var L=j.add.SoLd.placed.v;
j.add.SoLd.placed.v=dF.li(L.slice(0,8))+L.slice(8)}j.bD(y);var H=j.getName(),w=H.length;while(48<=H.charCodeAt(w-1)&&H.charCodeAt(w-1)<=57)w--;
var P=parseInt(H.slice(w));if(isNaN(P)){if(H.endsWith(" copy")){P=1;Q=H.slice(0,H.length-5)}else{P=0;
Q=H}}else if(H.slice(0,w).endsWith(" copy ")){P=P;Q=H.slice(0,w-6)}else{P=0;Q=H}P++;while(!0){x=Q+" copy"+(P==1?"":" "+P);
if(b[x]==null)break;P++}var F=d.indexOf(this.root.St(d[m]).parent.index)!=-1;if(H=="Background"&&y.d.length==1)x="Layer 1";
if(o!=!0&&!F)j.mP(x);b[x]=!0;t.push(j)}return t};dF.ahu=function(g){return{id:dF.li(g.id.slice(0,8))+g.id.slice(8),buffer:g.buffer.slice(0),rect:g.rect.clone(),v:g.v?g.v.clone():null}};
dF.aiM=function(g){return{id:g,rect:new bd,buffer:_.Q(1),v:new p.GE}};dF.Jl=function(g,o){if(o==null)o={vmsk:new p.Ew};
if(o.vogk==null){o.vogk=[];var k=_.w.L7(o.vmsk.a);for(var y=0;y<k;y++)o.vogk.push(_.X.o7())}return{name:g,Sp:0,add:o}};
dF.prototype.uM=function(g){var o=[],k=[],y=this,b=0;for(var m=1;m<y.p8.length;m++){var d=y.p8[m];d.Sp=-1-m;
o.push(d);if(y.yI.indexOf(m)!=-1)k.push(o.length-1)}if(y.p8[0].add.vmsk.a.length>2){var d=y.p8[0];d.Sp=-1;
o.push(d);if(y.yI.indexOf(0)!=-1)k.push(o.length-1)}var T=y.wW==null;if(T)y.wW=[];for(var m=y.g.length-1;
m>=0;m--){var a=y.d[y.g[m]],t=a.add.TySh;if(a.add.vmsk!=null&&(a.j6||a.JW())){var d=dF.Jl("\""+a.getName()+"\" Shape Path",a.add);
d.Sp=y.g[m];o.push(d);if(T)y.wW.push(b);if(y.wW.indexOf(b)!=-1)k.push(o.length-1);b++}if(g!=!0&&t&&t.add&&_.uR.VV(t.IV)){var d=dF.Jl("\""+a.getName().slice(0,10)+"..\" Text Path",t.add);
d.Sp=1e6+y.g[m];o.push(d);k.push(o.length-1);b++}}if(k.length==0&&g){y.p8[0].Sp=-1;y.yI=[0];k.push(o.length);
o.push(y.p8[0])}return[o,k]};dF.prototype.a4=function(m,g){var o=[],cy=this.root.St(m);if(cy)cy.kM(o,g);
return o};dF.prototype.Kd=function(){this.root.OJ(this,new bd(0,0,this.m,this.n))};dF.prototype.x8=function(g){for(var m=0;
m<this.d.length;m++){var o=this.d[m];if(g.indexOf(o)==-1){o.Of.arP();o.U()}}var k=0;for(var m=0;m<g.length;
m++)if(g[m].add.artb)k++;this.Bu(k);this.d=g.slice(0);this.Tf()};dF.prototype.Tf=function(){var g=this.d,o=g.length;
this.root=new hi;var k=this.Qf(!0);k.HW="pass";k.add.lsct=cK.TD;k.mP("");var y=this.L0(!0),d=[y];for(var m=0;
m<o;m++)d.push(g[m]);d.push(k);this.root.akW(d,0,0);if(this.g.length==0)this.g=[o-1]};dF.prototype.w4=function(){if(this.g.length!=1)return;
var g=this.root.St(this.g[0]);while(g.parent!=null){var o=g.parent.i;o.add.lsct=cK.TD;g=g.parent}this.nM=this.adZ=!0};
dF.prototype.a9y=function(){this.Tf();var g=[this.root],fX=0;while(g.length!=0){var top=g.pop();fX++;
if(top.i.add.lsct==cK.TD)for(var m=0;m<top.children.length;m++)g.push(top.children[m])}if(fX>1e3){var o=this.root.children;
for(var m=0;m<o.length;m++)if(o[m].i.add.lsct==cK.TD)o[m].i.add.lsct=cK.E5}};dF.ht=function(g,o,k,y,d,b,T,a){if(a==null)a="sRGB IEC61966-2.1";
var t={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:y},artboard:{t:"bool",v:b},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:g*72/k}},Hght:{t:"UntF",v:{type:"#Rlt",val:o*72/k}},Rslt:{t:"UntF",v:{type:"#Rsl",val:k}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:d}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:a}}}};
if(d=="Clr")t.Nw.v.FlCl={t:"Objc",v:T};return{J5:"make",fV:t}};dF.afy=function(g,o){var k=0,y=0,d=72,b=o.a6G,T=g.preset&&g.preset.v=="Clipboard";
if(T){k=b.m;y=b.n}else{k=g.Wdth.v.val;y=g.Hght.v.val;d=g.Rslt.v.val;k=Math.round(k*d/72);y=Math.round(y*d/72)}var a=new dF((g.Nm?g.Nm.v:d9.get([11,7]))+".psd");
a.m=k;a.n=y;a.Qb=d;var t=g.Fl?g.Fl.v.Fl:"Wht";if(g.artboard&&g.artboard.v){var j=a.Qf();j.mP(d9.get([1,16,0])+" 1");
j.add.lsct=cK.TD;j.P2(new bd(0,0,k,y));j.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[t]};
if(t=="Clr")j.add.artb.Clr={t:"Objc",v:_.M.UF(_.M.sL(g.FlCl.v))};j.HW="pass";j.b_=24;var e=a.Qf();e.mP("Layer 1");
a.x8([a.L0(),e,j]);a.Bu(1);a.g=[1]}else{var v=a.Qf(),L=0;v.mP("Background");a.x8([v]);v.add.lspf=1<<2;
if(t=="Clr"){L=_.M.sL(g.FlCl.v);L=255<<24|Math.round(L.k)<<16|Math.round(L.C)<<8|Math.round(L.o)}else{var H=o.Pp;
H=(H&255)<<16|(H>>>8&255)<<8|H>>>16;L={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|H}[t]}v.rect=new bd(0,0,k,y);
v.buffer=_.Q(k*y*4);_.Sm(v.buffer,L)}a.buffer=_.Q(k*y*4);var w=g.profile;if(w){var P={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[w.v];
if(P)a.Z8(cp.WL.get(P))}return a};function g1(g){this.po=g;this.N=0;this.Tx=1;this.Y=new bJ(0,0);this.Ql=new bJ(0,0);
this.ef=0;this.sv=[1,1,1];this.vp=0;this.dd=new bd(0,0,1,1);this.agQ=new bd(0,0,g.m,g.n);this.nQ=null;
this.QG=null;this.BZ=new Uint32Array(0);this.RQ=null;this.w_=null;this._b=_.Q(0);this.lP=null;this.RR=null}g1.prototype.dY=function(g){var o=new d3,k=this.dd,y=this.po,d=g?this.Tx:this.N,b=g?this.Ql:this.Y,T=Math.round((k.m-y.m*d)/2+b.x),a=Math.round((k.n-y.n*d)/2+b.y);
o.translate(-T,-a);o.scale(1/d,1/d);var t=y.m/2,j=y.n/2;o.translate(-t,-j);o.rotate(this.ef);o.translate(t,j);
return o};g1.prototype.a8G=function(g){var o=this.dd,k=this.po,y=Math.atan2(-g.k,g.Ng),d=k.m/2,b=k.n/2;
g.translate(-d,-b);g.rotate(-y);g.translate(d,b);var T=1/g.Va();g.scale(T,T);var a=-g.ii,t=-g.xF,j=Math.round(a-(o.m-k.m*T)/2),e=Math.round(t-(o.n-k.n*T)/2);
if(Math.abs(T-Math.round(T))<1e-6)T=Math.round(T);this.ef=y;this.N=T;this.Y=new bJ(j,e)};g1.prototype.mp=function(g,o){var k=this.dY();
return k.iG(new bJ(g,o))};g1.prototype.gk=function(g,o){var k=this.dY();k.TY();return k.iG(new bJ(g,o))};
function iZ(){}iZ.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");iZ.pW="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
iZ.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];iZ.a2O=["DrSh","IrSh","SoFi","GrFl","FrFX"];
iZ.ho=["Clr"];iZ.GY="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");iZ.eQ=["Ptrn","Angl","Scl","Algn","phase"];
iZ.R_={hg:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",afE:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aex:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aqd:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Fk:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
iZ.R_.hg="\"Clr\": "+iZ.R_.hg;iZ.R_.M="\"Grad\":"+iZ.R_.afE+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
iZ.R_.Fk="\"Ptrn\":"+iZ.R_.Fk+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
iZ.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
iZ.GZ=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+iZ.R_.hg+","+iZ.R_.M+","+iZ.R_.Fk+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iZ.R_.hg+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iZ.R_.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iZ.R_.Fk+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
iZ.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
iZ.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],B5:["SClr","GrFl","Ptrn"],asO:[[13,0],[12,37],[12,62]]};
iZ.cE={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],amY:["SrcC","SrcE"],aom:[[19,5,1],[12,69]]};iZ.PN={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],adH:["SfBL","PrBL","Slmt"],afo:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
iZ.X9={ia:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Yo:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],V8:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+iZ.R_.hg+"}")},strokeStyleResolution:{t:"doub",v:72}}};
iZ.IS=[{classID:"null",Clr:JSON.parse(iZ.GZ[5]).Clr},{classID:"null",Grad:JSON.parse(iZ.GZ[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(iZ.GZ[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var bs={};bs.uO=function(g,o){function k(g,L){if(g==null||!g.masterFXSwitch.v)return null;var H=g[L].v,w;
if(H.length!=0){w=H[0].v;if(!w.enab.v)w=null}return w}var y=o.SoCo,d=o.GdFl,b=k(g,"solidFillMulti"),T=k(g,"gradientFillMulti");
if(b==null&&T==null)return[y,d];var a=bs.adS;if(y&&b&&T==null){var t=JSON.parse(JSON.stringify(y));t.Clr.v=a(b.Clr.v,y.Clr.v,b);
return[t,null]}if(d&&b&&T==null){var j=JSON.parse(JSON.stringify(d)),e=j.Grad.v.Clrs.v;for(var m=0;m<e.length;
m++){var v=e[m].v.Clr;v.v=a(b.Clr.v,v.v,b)}return[null,j]}if(y&&T){var j=JSON.parse(JSON.stringify(T)),e=j.Grad.v.Clrs.v;
for(var m=0;m<e.length;m++){var v=e[m].v.Clr;v.v=a(v.v,y.Clr.v,T)}return[null,j]}return[b,T]};bs.acF={dr:_.Q(4),Nr:_.Q(4),o:new bd(0,0,1,1)};
bs.adS=function(g,o,k){var y=h8.O8(k.Md.v.BlnM),d=k.Opct.v.val/100,b=bs.acF;g=_.M.sL(g);o=_.M.sL(o);
b.dr[0]=g.o;b.dr[1]=g.C;b.dr[2]=g.k;b.dr[3]=255;b.Nr[0]=o.o;b.Nr[1]=o.C;b.Nr[2]=o.k;b.Nr[3]=255;_.l.I3(y,b.dr,b.o,b.Nr,b.o,b.o,d);
return{classID:"RGBC",Rd:{t:"doub",v:b.Nr[0]},Grn:{t:"doub",v:b.Nr[1]},Bl:{t:"doub",v:b.Nr[2]}}};bs.acz=function(g,o,k){var y=g;
g=g.slice(0);var d=h8.re[h8.Kt.indexOf(o.Md.v.BlnM)],b=_.M.sL(o.Clr.v),T=4278190080|Math.round(b.k)<<16|Math.round(b.C)<<8|Math.round(b.o),a=_.Q(k.O()*4);
_.Sm(a,T);_.l.I3(d,a,k,g,k,k,o.Opct.v.val/100);for(var m=0;m<g.length;m+=4)g[m+3]=y[m+3];return g};bs.UQ=function(g,o){var k=["Sz","blur","Sftn","Dstn"];
for(var m=0;m<iZ.order.length;m++){var y=iZ.order[m],d=g[iZ.pW[m]].v;for(var b=0;b<d.length;b++){var T=d[b].v;
for(var a=0;a<k.length;a++){var t=T[k[a]];if(t){var j=t.v.val,e=j;e=Math.max(j==0?0:1,e*o);if(y=="ChFX")e=Math.min(e,250);
if(y=="ebbl"){if(k[a]=="blur")e=Math.min(e,250);if(k[a]=="Sftn")e=Math.min(e,16)}t.v.val=Math.round(e)}}if(y=="ebbl"||y=="patternFill"||y=="FrFX")if(T.Ptrn&&T.Scl)T.Scl.v.val=Math.max(1,Math.min(1e3,T.Scl.v.val*o))}}};
bs.adY=function(g,o,k){var y=new bd(-.5,-.5,1,1);for(var m=0;m<iZ.order.length;m++){var d=iZ.order[m],b=g[iZ.pW[m]].v;
for(var T=0;T<b.length;T++){var a=b[T].v,v;if(!a.enab.v)continue;var t=a.blur?a.blur.v.val+1:0,j=a.Ckmt?a.Ckmt.v.val/100:0,e=Math.round(t*j);
if(d=="DrSh"||d=="IrSh"&&k){v=new bd(-.5,-.5,1,1);v.pK(t,t);bs.v9(v,a,o,0)}if(d=="OrGl"||d=="IrGl"&&k){v=new bd(-.5,-.5,1,1);
v.pK(t,t)}if(d=="FrFX"){var L=bs.LN(a),H=L[1];if(k)H=Math.max(L[0],H);v=new bd(-.5,-.5,1,1);v.pK(Math.ceil(H),Math.ceil(H))}if(d=="ebbl"){var t=a.blur.v.val,w=a.bvlS.v.BESl;
if(w=="Embs"||w=="PlEb")t/=2;var P=["OtrB","InrB","Embs","PlEb","strokeEmboss"],Q=["SfBL","PrBL","Slmt"],x=["In","Out"],F=a.bvlT.v.bvlT!="SfBL"?t:t*.43,E=Math.round(t);
v=new bd(-E-1,-E-1,2*E+2,2*E+2)}if(k&&d=="ChFX"){v=new bd(-.5,-.5,1,1);v.pK(t,t);var f=v.clone();bs.v9(v,a,o,0);
bs.v9(f,a,o,Math.PI);v=v.gO(f)}if(v)y=y.gO(v)}}if(y.x!=Math.ceil(y.x)){y.x=Math.ceil(y.x);y.m-=1}if(y.y!=Math.ceil(y.y)){y.y=Math.ceil(y.y);
y.n-=1}y.m=Math.floor(y.m);y.n=Math.floor(y.n);return y};bs.LN=function(g){var o=0,k=0,y=g.Styl.v.FStl,d=g.Sz.v.val;
if(y=="OutF")k=d;if(y=="InsF")o=d;if(y=="CtrF")o=k=d/2;return[o,k]};bs.a1i=function(g){if(gl.yu&&g.xr==null){g.xr=new gl.up(g.pk.m,g.pk.n);
g.xr.set(g.rg);delete g.rg;if(g.r5){g.Fo=new gl.IW(g.pk.m,g.pk.n);g.Fo.set(g.r5);delete g.r5}if(g.ri){g.yi=new gl.IW(g.pk.m,g.pk.n);
g.yi.set(g.ri);delete g.ri}}};bs.avj=function(g){if(g.xr)g.xr.delete();if(g.Fo)g.Fo.delete();if(g.yi)g.yi.delete()};
bs.aad=function(g){if(g.all==null)return;for(var m=0;m<g.all.length;m++){bs.avj(g.all[m])}};bs.ahy=function(g,o,k,y,d,b){var T=bs.W0(k,y,g,o,d,b);
for(var m=0;m<T.all.length;m++)bs.a1i(T.all[m]);return T};bs.asB=function(g){for(var m=0;m<iZ.order.length;
m++){var o=iZ.order[m],k=iZ.pW[m],y=g[k].v;for(var d=0;d<y.length;d++){var b=y[d].v;if(b.enab.v&&["patternFill","GrFl","SoFi"].indexOf(o)==-1)return!0}}return!1};
bs.W0=function(g,o,k,y,d,b){if(b==null)b=y;var T=0,a=0;for(var m=0;m<iZ.order.length;m++){var t=iZ.order[m],j=iZ.pW[m],e=g[j].v;
for(var v=0;v<e.length;v++){var L=e[v].v;if(t=="DrSh"&&L.enab.v&&L.Ckmt.v.val>0&&L.blur.v.val>0)T=Math.max(T,Math.ceil(L.Ckmt.v.val*L.blur.v.val/100));
if(t=="OrGl"&&L.enab.v&&L.Ckmt.v.val>0&&L.blur.v.val>0&&L.GlwT.v.BETE=="SfBL")T=Math.max(T,Math.ceil(L.Ckmt.v.val*L.blur.v.val/100));
if(t=="OrGl"&&L.enab.v&&L.blur.v.val>0&&L.GlwT.v.BETE=="PrBL")T=Math.max(T,L.blur.v.val);if(t=="FrFX"&&L.enab.v&&L.Sz.v.val>0){if(L.Styl.v.FStl=="OutF")T=Math.max(T,L.Sz.v.val);
if(L.Styl.v.FStl=="CtrF")T=Math.max(T,Math.ceil(L.Sz.v.val/2));a=Math.max(a,bs.LN(L)[1])}}}var H=new bs.H6(k,y,T,bs.asB(g)),w=-y.x,P=-y.y,Q={type:{},all:[]};
for(var x=0;x<iZ.order.length;x++){var t=iZ.order[x],j=iZ.pW[x];Q.type[t]=[];for(var F=g[j].v.length-1;
F>=0;F--){var E=g[j].v[F].v,n;if(!E.enab.v)continue;var f=E.blur?E.blur.v.val:0,c=E.Ckmt?E.Ckmt.v.val/100:0,M=f*c;
if(t=="DrSh"){var X=H.J7(M,f-M,!0),u=X.Au,I=X.KU;I.offset(w,P);bs.wD(u,E,!1);bs.v9(I,E,d,0);var r=_.Q(I.O()*4);
bs.gv(r,E.Clr.v);_.e_(u,r,3);n={rg:r,pk:I,axT:E.layerConceals.v}}else if(t=="IrSh"){var X=H.J7(M,f-M,!1);
bs.v9(X.KU,E,d,0);var I=H.rect().clone(),u=_.Q(I.O());u.fill(255);_.sQ(X.Au,X.KU,u,I);bs.wD(u,E,!0,!0);
var r=_.Q(I.O()*4);bs.gv(r,E.Clr.v);_.e_(u,r,3);I.offset(w,P);n={rg:r,pk:I}}else if(t=="GrFl"){var r=_.Q(H.rect().O()*4);
bs.pc(E,r,H.rect(),d,null,b);var I=H.rect().clone();I.offset(w,P);n={rg:r,pk:I}}else if(t=="SoFi"){var r=_.Q(H.Au().length*4);
bs.gv(r,E.Clr.v);var I=H.rect().clone();I.offset(w,P);n={rg:r,pk:I}}else if(t=="ebbl"){var J=!1;if(J)console.log(E);
var U=Date.now(),K=E.bvlS.v.BESl;if(K=="strokeEmboss"){var i=g.frameFXMulti.v;if(i.length==0)continue;
i=i[0].v;if(!i.enab.v)continue;var z=i.Styl.v.FStl;if(z=="OutF")K="OtrB";if(z=="CtrF")K="Embs";if(z=="InsF")K="InrB"}var f=E.blur.v.val;
if(f==0)f=.7;if(K=="Embs"||K=="PlEb")f/=2;var h=["OtrB","InrB","Embs","PlEb","strokeEmboss"],R=["SfBL","PrBL","Slmt"],C=["In","Out"],G=E.bvlT.v.bvlT!="SfBL"?f:f*.45,W=Math.round(f),A=H.rect().clone(),$=A.clone();
$.pK(W,W);var O=$.m,Y=$.n,l=O*Y,B=_.Q(l);_.sQ(H.Au(),A,B,$);var f4=new Float64Array(l),V=new Float64Array(l);
_.style.ec(B,f4,O,Y);_.TY(B);_.style.ec(B,V,O,Y);if(J)console.log("distTransform computed",Date.now()-U);
for(var m=0;m<l;m++)V[m]=V[m]-f4[m];for(var m=0;m<l;m++){var q=V[m];if(q<-G)V[m]=-G;else if(q>G)V[m]=G}if(J)console.log("summing + cropping",Date.now()-U);
if(E.bvlT.v.bvlT=="SfBL"){var s=Math.pow(f*.21,1.22);if(!0)s=Math.max(s,2);var cW=_.tI.D1(s,2);_.tI.Nj(V,f4,$,cW[0]>>>1);
_.tI.Nj(f4,V,$,cW[1]>>>1)}if(J)console.log("blurring",Date.now()-U);var dk=V,kr=dk.slice(0);if(E.useShape.v){var j9=Math.min(100,E.Inpr.v.val+1)/100;
if(K!="OtrB"&&K!="InrB")j9=1;var bh=_.wb.aU(E.MpgS.v.Crv.v,2e3),fe=Math.round(2e3/j9);bh=_.wb.asm(bh,fe,K=="InrB");
var gg=.5/G;for(var m=0;m<l;m++){var a$=dk[m],dg=.99999*(a$+G)*gg;dk[m]=-G+2*G*bh[~~(dg*(fe-1))]}if(J)console.log("applying shape",Date.now()-U)}if(E.useTexture.v){var iv=_.Q(O*Y*4);
bs.A8(E,iv,$,d.add.Patt,o);var aQ=_.Q(O*Y);_.h4(iv,aQ);var dt=_.Q(O*Y);_.tI.zG(aQ,dt,$,1);aQ=dt;var hY=f*E.textureDepth.v.val*(1/100)*(1/255);
if(E.InvT.v)hY=-hY;for(var m=0;m<l;m++)dk[m]+=-hY*aQ[m];if(J)console.log("applying texture",Date.now()-U)}var b9=(E.bvlT.v.bvlT=="SfBL"?1:.5)*(E.bvlD.v.BESs=="In"?1:-1)*E.srgR.v.val/100;
for(var m=0;m<l;m++)dk[m]*=b9;if(J)console.log("scaling",Date.now()-U);var i0=E.uglg&&E.uglg.v?d.rl():E.lagl.v.val;
i0=i0*(Math.PI/180);var gD=E.uglg&&E.uglg.v?d.if():E.Lald.v.val;gD=gD*(Math.PI/180);var hU=Math.cos(i0)*Math.cos(gD),aW=-Math.sin(i0)*Math.cos(gD),be=Math.sin(gD),hv=new Float64Array(l),b3=new Float64Array(l),gT=K=="PlEb";
for(var aB=0;aB<Y;aB++)for(var bO=0;bO<O;bO++){var m=aB*O+bO,kf=0,iY=0,gs=1;if(aB!=0&&aB!=Y-1&&bO!=0&&bO!=O-1){var c1=dk[m-O-1],gK=dk[m-O+1],c4=dk[m+O-1],k6=dk[m+O+1];
kf=-.125*(gK+2*dk[m+1]+k6-(c1+2*dk[m-1]+c4));iY=-.125*(c4+2*dk[m+O]+k6-(c1+2*dk[m-O]+gK))}else{var jk=dk[m];
iY=-(aB==0?dk[m+O]-jk:aB==Y-1?jk-dk[m-O]:.5*(dk[m+O]-dk[m-O]));kf=-(bO==0?dk[m+1]-jk:bO==O-1?jk-dk[m-1]:.5*(dk[m+1]-dk[m-1]))}var jt=1/Math.sqrt(kf*kf+iY*iY+1);
kf*=jt;iY*=jt;gs*=jt;var j_=kf*hU+iY*aW+gs*be,kw=j_;if(gT)kw=-kf*hU-iY*aW+gs*be;if(j_>0)hv[m]=j_;if(kw>0)b3[m]=kw}if(J)console.log("raycasting",Date.now()-U);
if(E.Sftn.v.val!=0){_.tI.Qv(hv,f4,$,E.Sftn.v.val*.43);var eu=f4,f4=hv,hv=eu;if(gT){_.tI.Qv(b3,f4,$,E.Sftn.v.val*.43);
var eu=f4,f4=b3,b3=eu}else _.QF(hv,b3)}if(J)console.log("softening",Date.now()-U);var bh=_.wb.aU(E.TrnS.v.Crv.v,1024);
for(var m=0;m<l;m++){hv[m]=bh[~~(hv[m]*1024)];b3[m]=bh[~~(b3[m]*1024)]}if(J)console.log("contour remap",Date.now()-U);
O=Math.round(O);Y=Math.round(Y);var ak=_.Q(O*Y*4);bs.gv(ak,E.hglC.v);var cY=_.Q(O*Y*4);bs.gv(cY,E.sdwC.v);
var bG=_.Q(O*Y*4);bs.gv(bG,E.hglC.v);var j5=_.Q(O*Y*4);bs.gv(j5,E.sdwC.v);var hI=1/be,jJ=1/(1-be),gg=1/G,ca=new Float64Array(1e3);
for(var m=0;m<1e3;m++)ca[m]=Math.pow(m*.001,.2);for(var aB=0;aB<Y;aB++)for(var bO=0;bO<O;bO++){var m=aB*O+bO,gI=4*m+3,c3=0,fs=0;
c3=hv[m];fs=b3[m];var eS=Math.max(0,Math.min(.9999,(kr[m]+G*.993)*gg));eS=ca[Math.floor(eS*1e3)];var bf=eS*(1-Math.min(1,c3*hI)),ef=eS*(1-Math.min(1,(1-c3)*jJ)),hh=eS*(1-Math.min(1,fs*hI)),fA=eS*(1-Math.min(1,(1-fs)*jJ));
cY[gI]=Math.round(255*bf);ak[gI]=Math.round(255*ef);j5[gI]=Math.round(255*hh);bG[gI]=Math.round(255*fA)}if(J)console.log("baking textures",Date.now()-U);
$=H.rect().clone();$.pK(W,W);$.offset(w,P);n={a6D:E.bvlS.v.BESl=="strokeEmboss"};var jS=h8.O8(E.hglM.v.BlnM),dn=E.hglO.v.val/100,id=h8.O8(E.sdwM.v.BlnM),jy=E.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(K)!=-1){n._K={rg:ak,pk:$,nG:jS,uK:dn};n.v8={rg:cY,pk:$,nG:id,uK:jy}}if(["OtrB","Embs","PlEb"].indexOf(K)!=-1){n.MM={rg:bG,pk:$,nG:jS,uK:dn};
n.Xv={rg:j5,pk:$,nG:id,uK:jy}}if(J)console.log(Date.now()-U)}else if(t=="patternFill"){var dG=H.rect(),r=_.Q(dG.O()*4);
bs.A8(E,r,dG,d.add.Patt,o);var I=dG.clone();I.offset(w,P);n={rg:r,pk:I}}else if(t=="ChFX"){var r=_.Q(H.Au().length*4);
bs.gv(r,E.Clr.v);var f=E.blur.v.val,cw=H.rect().clone();cw.pK(f,f);var d2=_.Q(cw.O()),fj=_.Q(cw.O());
_.sQ(H.Au(),H.rect(),fj,cw);_.tI.BM(fj,d2,cw,f*.43);var aH=_.wb.SV(E.MpgS.v.Crv.v,256,!0);_.KR(d2,aH);
var gE=_.Q(H.Au().length),iQ=_.Q(H.Au().length),a_=H.rect().clone();bs.v9(a_,E,d,0);_.sQ(d2,cw,gE,a_);
a_=H.rect().clone();bs.v9(a_,E,d,Math.PI);_.sQ(d2,cw,iQ,a_);var iP=gE.length;for(var m=0;m<iP;m++)r[4*m+3]=Math.abs(gE[m]-iQ[m]);
if(E.Invr.v)for(var m=0;m<iP;m++)r[4*m+3]=255-r[4*m+3];var I=H.rect().clone();I.offset(w,P);n={rg:r,pk:I}}else if(t=="OrGl"){var X;
if(E.GlwT.v.BETE=="SfBL")X=H.J7(M,f-M,!0);else X=H.ak$(f,c,!0);var u=X.Au,I=X.KU,jY=u.slice(0);bs.a54(u,E);
var r=_.Q(I.O()*4);if(E.Grad==null){bs.gv(r,E.Clr.v);bs.wD(u,E,!1)}else{bs.wD(u,E,null);var iX={C4:u,et:255,Oy:0,Uy:I};
bs.pc(E,r,I,d,iX);var cM=E.Nose.v.val/100,gr=I.m;for(var m=0;m<jY.length;m++){var gL=255,j3=jY[m];if(j3<32){var fd=(j3+jY[m-1]+jY[m+1]+jY[m-gr]+jY[m+gr])*.2-1;
gL=Math.min(255,Math.round(Math.max(0,fd)*8))}u[m]=gL}bs.ajO(u,E)}_.e_(u,r,3);I.offset(w,P);n={rg:r,pk:I}}else if(t=="IrGl"){var X;
if(E.GlwT.v.BETE=="SfBL")X=H.J7(M,f-M,!1);else X=H.ak$(f,c,!1);var u=X.Au,I=X.KU;bs.a54(u,E);if(E.glwS.v.IGSr=="SrcC")_.TY(u);
var r=_.Q(I.O()*4);if(E.Grad==null){bs.gv(r,E.Clr.v);bs.wD(u,E,!0)}else{bs.wD(u,E,null);var iX={C4:u,et:255,Oy:0,Uy:I};
bs.pc(E,r,I,d,iX);u.fill(255);bs.ajO(u,E)}_.e_(u,r,3);I.offset(w,P);n={rg:r,pk:I}}else if(t=="FrFX"){var cS=bs.LN(E),eY=cS[0],dy=cS[1],I=H.rect().clone(),dP=null,bt=null;
I.pK(Math.ceil(a),Math.ceil(a));if(dy>0){var X=H.J7(dy,0,!0);bt=X.Au;if(bt.length<I.O()){bt=_.Q(I.O());
_.sQ(X.Au,X.KU,bt,I)}}if(eY>0){var X=H.J7(eY,0,!1);dP=_.Q(I.O());dP.fill(255);_.sQ(X.Au,X.KU,dP,I)}I.offset(w,P);
var r=_.Q(I.O()*4),cB=E.PntT.v.FrFl;if(cB=="SClr")bs.gv(r,E.Clr.v);if(cB=="GrFl")bs.pc(E,r,I,d,H.amC(eY,dy));
if(cB=="Ptrn")bs.A8(E,r,I,d.add.Patt,o);n={rg:r,pk:I,ri:bt,r5:dP}}Q.type[t].push(n);if(t=="ebbl"){if(n._K)Q.all.push(n._K,n.v8);
if(n.MM)Q.all.push(n.MM,n.Xv)}else{n.nG=h8.O8(E.Md.v.BlnM);n.uK=E.Opct.v.val/100,Q.all.push(n)}}}return Q};
bs.XF=function(g){var o=1/Math.sqrt(g.x*g.x+g.y*g.y+g.MG*g.MG);g.x*=o;g.y*=o;g.MG*=o};bs.avQ=function(g,o){return{x:g.y*o.MG-g.MG*o.y,y:g.MG*o.x-g.x*o.MG,MG:g.x*o.y-g.y*o.x}};
bs.am1=function(g,o){return g.x*o.x+g.y*o.y+g.MG*o.MG};bs.ajO=function(g,o){var k=o.Nose.v.val/100;if(k>0)for(var m=0;
m<g.length;m++){var y=g[m];y=Math.min(510-(1+k)*_.style.rZ(m),y);g[m]=y}};bs.aO=function(g){var o=bs.Rl(),k=g.kC,y=!1;
for(var m=0;m<32;m+=8)if(k[m]+k[m+1]+k[m+4]+k[m+5]!=0||k[m+2]+k[m+3]+k[m+6]+k[m+7]!=1020)y=!0;if(y){k=k.slice(0);
for(var m=0;m<40;m+=4){var d=k[m]/255,b=k[m+1]/255,T=k[m+2]/255,a=k[m+3]/255;k[m]=d-.001;k[m+1]=d==b?1e6:1/(b-d);
k[m+2]=T==a?-1e6:1/(T-a);k[m+3]=a+.001}}var t=g.add.iOpa!=null?g.add.iOpa/255:o.fill,j=g.add.vstk;if(j&&!j.fillEnabled.v&&(!j.strokeEnabled.v||j.strokeStyleLineWidth.v.val==0))t=0;
return{fill:t,zK:y?k:null,XO:g.add.brst!=null?g.add.brst:o.XO,a8D:g.add.knko!=null?g.add.knko:o.a8D,style:!1,qG:!1}};
bs.Rl=function(){return{fill:1,zK:null,XO:[1,1,1],a8D:0,style:!1,qG:!1}};bs.a7f=function(g,o,k,y,d,b,T,a){if(a==null)a=1;
if(T==null)T=new d3;var t=g.pR[1].m,j=g.pR[1].n,e=new d3,v=d<2;if(v)e.translate(-t/2,-j/2);if(d==0){a*=Math.max(k/t,y/j)}else if(d==1){a*=Math.min(k/t,y/j)}else if(d==2){e.scale(1/t,1/j);
e.concat(T);e.scale(k,y)}else if(d==3){a=a}e.scale(a,a);if(v)e.translate(k/2,y/2);e.concat(b);o.Ptrn.v.Idnt.v=g.id;
o.Scl.v.val=Math.round(100*e.Va());o.Angl.v.val=Math.round(180*Math.atan2(-e.k,e.Ng)/Math.PI);o.Algn.v=!0;
var L=o.phase.v;L.Hrzn.v=Math.round(e.ii);L.Vrtc.v=Math.round(e.xF)};bs.Mi=function(g,o){if(o==null)return null;
var k=g.Idnt.v,y=g.Nm.v;for(var m=0;m<o.length;m++)if(o[m].id==k)return o[m];for(var m=0;m<o.length;
m++)if(o[m].name==y)return o[m];return null};bs.ake=function(g,o,k){var y=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var m=0;m<y.length;m++){var d=g.v[y[m]].v;for(var b=0;b<d.length;b++)if(d[b].v.Ptrn)o.Lj(bs.Mi(d[b].v.Ptrn.v,k))}};
bs.a0t=function(g,o,k){var y=["patternFillMulti","ebblMulti","frameFXMulti"];for(var m=0;m<y.length;
m++){var d=g.v[y[m]].v;for(var b=0;b<d.length;b++)if(d[b].v.Ptrn){var T=d[b].v.Ptrn.v,a=bs.Mi(T,k),t=bs.Mi(T,o.add.Patt);
if(a==null&&t)k.push(t)}}};bs.A8=function(g,o,k,y,d){var b=bs.Mi(g.Ptrn.v,y);if(b!=null&&!k.on()){var T=b.pR,a=T[0],t=T[1],j=0;
_._h(T);var e=(g.Scl?g.Scl.v.val:100)/100;while((e<.3||e==.5)&&T[j+2]){e*=t.m/T[j+3].m;j+=2;a=T[j];t=T[j+1]}var v=_.scale.A8(a,t.m,t.n),L=g.phase?g.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},H=g.Angl?g.Angl.v.val:0,w=-k.x+L.Hrzn.v-1,P=-k.y+L.Vrtc.v-1;
if(g.Algn!=null&&!g.Algn.v){}else{w+=d.x;P+=d.y}if(o)_.scale.LM(v,o,k.m,k.n,e,e,w+1,P+1,H*Math.PI/180);
else return[v,e,w+1,P+1,H*Math.PI/180]}};bs.pc=function(g,o,k,y,d,b){if(b==null)b=k;var T=g.Type?g.Type.v.GrdT:"shapeburst",a=g.Algn&&g.Algn.v?b:new bd(0,0,y.m,y.n),t=g.Angl?_.M.eF(g,a):[new bJ(0,0),new bJ(100,0)],j=t[0].x,e=t[0].y,v=t[1].x-j,L=t[1].y-e,H=Math.sqrt(v*v+L*L);
H=1/(2*H*H);var w=[v*H,L*H,-L*H,v*H],P=g.Rvrs?g.Rvrs.v:!1,Q=g.Dthr?g.Dthr.v:!1;_.M.AE(g.Grad.v,o,k,w,j,e,P,iZ.M.types.indexOf(T),0,0,d,Q)};
bs.axV=function(g,o,k){for(var m=0;m<g.all.length;m++){var y=g.all[m];y.IR=y.pk.clone();y.IR.offset(o,k)}};
bs.aah=function(g,o,k,y,d,b){var T=gl.yu?bs.anA:bs.asH;bs.axV(o,k.x,k.y);var a=o.type.DrSh;for(var m=0;
m<a.length;m++)if(!a[m].axT)T(a[m],y,d,b)};bs.a8R=function(g,o,k,y,d,b,T,a,t,j){var e=k,v=gl.yu?bs.anA:bs.asH,L=gl.yu?gl.l.ud:_.l.tx,H;
H=o.type.DrSh;for(var m=0;m<H.length;m++)if(H[m].axT)v(H[m],y,d,b);H=o.type.OrGl;for(var m=0;m<H.length;
m++)v(H[m],y,d,b);var w="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var P=0;P<w.length;P++){var H=o.type[w[P]];
for(var m=0;m<H.length;m++)v(H[m],T,e,b)}var Q=o.type.ebbl[0],x=Q!=null&&Q.a6D;H=o.type.FrFX;for(var m=0;
m<H.length;m++){var F=H[m];hi.Df.sQ(a,j,t,j,b);v(F,t,j,b);if(x&&m==H.length-1){if(Q.Xv)v(Q.Xv,t,j,b);
if(Q.MM)v(Q.MM,t,j,b);if(Q.v8)v(Q.v8,t,j,b);if(Q._K)v(Q._K,t,j,b)}if(F.r5||F.Fo)L(t,j,T,e,gl.yu?F.Fo:F.r5,F.IR,0,b,1);
if(F.ri||F.yi)L(t,j,y,d,gl.yu?F.yi:F.ri,F.IR,0,b,1)}if(!x&&Q!=null){if(Q.Xv)v(Q.Xv,y,d,b);if(Q.MM)v(Q.MM,y,d,b);
if(Q.v8)v(Q.v8,T,e,b);if(Q._K)v(Q._K,T,e,b)}};bs.asH=function(g,o,k,y){var d=bs.Rl();d.fill=g.uK;d.style=!0;
_.l.I3(g.nG,g.rg,g.IR,o,k,y,1,d)};bs.anA=function(g,o,k,y){var d=bs.Rl();d.fill=g.uK;d.style=!0;gl.l._M(g.nG,g.xr,g.IR,o,k,y,1,d)};
bs.a54=function(g,o){var k=1-o.Inpr.v.val/100,y=1+Math.tan(k*(Math.PI/2)),d=g.length;for(var m=0;m<d;
m++)g[m]=Math.min(255,Math.round(g[m]*y))};bs.wD=function(g,o,k,y){var d=o.blur.v.val,b=Math.round(d*(o.Ckmt.v.val/100));
if(d>b){var T=_.wb.SV(o.TrnS.v.Crv.v,256,y!=!0);_.KR(g,T)}if(k!=null&&o.Nose.v.val>0)_.style.tf(g,o.Nose.v.val/100,k)};
bs.gv=function(g,o,k){if(k==null)k=255;var y=_.M.sL(o),d=k<<24|y.k<<16|y.C<<8|y.o,b=new Uint32Array(g.buffer);
b.fill(d)};bs.v9=function(g,o,k,y){var d=o.uglg&&o.uglg.v?k.rl():o.lagl.v.val;d=d*Math.PI/180+y;var b=Math.cos(d)*o.Dstn.v.val,T=Math.sin(d)*o.Dstn.v.val;
g.x-=Math.round(b);g.y+=Math.round(T)};bs.Py=function(g){if(g==null)return null;var o=g.frameFXMulti.v;
if(o.length==0)return null;o=o[0].v;var k=JSON.parse(JSON.stringify(iZ.X9.default));bs.a8K(o,k);return k};
bs.a8K=function(g,o){var k=iZ.stroke.B5.indexOf(g.PntT.v.FrFl),y=[iZ.ho,iZ.GY,iZ.eQ][k],d=o.strokeStyleContent.v={classID:iZ.X9.V8[k]};
for(var m=0;m<y.length;m++)d[y[m]]=g[y[m]];o.strokeEnabled=g.enab;o.strokeStyleLineWidth=g.Sz;o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iZ.X9.Yo[iZ.stroke.types.indexOf(g.Styl.v.FStl)];
o.strokeStyleOpacity=g.Opct;o.strokeStyleBlendMode=g.Md;o.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
bs.rn=function(g,o){var k=[];for(var m=0;m<g.length;m++)k.push({t:"UntF",v:{type:"#Nne",val:Math.round(g[m]*o)}});
return k};bs.ab7=function(g,o){var k=g.opacity/255*(g.add.iOpa?g.add.iOpa/255:1),y=g.add.TySh,d=g.gT()||g.JW()&&g.add.vmsk&&g.add.vstk.fillEnabled.v&&g.add.vstk.strokeEnabled.v;
if(y){var b=y.O7.EngineDict.StyleRun.RunArray,T=b[0].StyleSheet.StyleSheetData,a=0;if(T.FillFlag)a++;
if(T.StrokeFlag)a++;if(T._FillBackgroundFlag)a++;if(a>1)d=!0}return d&&(o||k!=1||g.HW!="pass"&&g.HW!="norm")};
bs.H6=function(g,o,k,y){this.xN=o.clone();this.as8=o.clone();this.as8.pK(k,k);if(y){this.xN.pK(1,1);
this.Kk=_.Q(this.xN.O());_.sQ(g,o,this.Kk,this.xN)}else this.Kk=g;this.nh=null;this.WD=null;this.VZ=null};
bs.H6.prototype.Au=function(){return this.Kk};bs.H6.prototype.rect=function(){return this.xN};bs.H6.prototype.$B=function(){return this.as8};
bs.H6.prototype.CI=function(){if(this.nh)return this.nh;this.nh=this.Au().slice(0);_.TY(this.nh);return this.nh};
bs.H6.prototype.NP=function(){if(this.WD)return this.WD;this.WD=new Float64Array(this.rect().O());_.style.ec(this.CI(),this.WD,this.rect().m,this.rect().n);
return this.WD};bs.H6.prototype.K$=function(){if(this.VZ)return this.VZ;var g=this.$B(),o=_.Q(g.O());
_.sQ(this.Au(),this.rect(),o,g);this.VZ=new Float64Array(g.O());_.style.ec(o,this.VZ,g.m,g.n);return this.VZ};
bs.H6.prototype.amC=function(g,o){var k={et:-o,Oy:g,Uy:null,C4:null};if(o==0){k.Uy=this.rect();k.C4=this.NP();
return k}var y=this.K$().slice(0),d=this.$B();k.Uy=d;k.C4=y;for(var m=0;m<y.length;m++)y[m]=-y[m];if(g==0)return k;
var b=this.NP(),T=this.rect();for(var a=0;a<T.n;a++)for(var t=0;t<T.m;t++){var j=a*T.m+t,e=(a+T.y-d.y)*d.m+t+T.x-d.x;
y[e]+=b[j]}return k};bs.H6.prototype.J7=function(g,o,k){var y=Math.ceil(g+o),d={KU:this.rect().clone(),Au:null};
d.KU.pK(y,y);d.Au=_.Q(d.KU.O());if(g==0&&o==0)_.QF(k?this.Au():this.CI(),d.Au);else{var b=_.Q(d.KU.O());
_.sQ(this.Au(),this.rect(),b,d.KU);if(!k)_.TY(b);if(g!=0){if(k)_.style.X4(b,d.KU,this.K$(),this.$B(),g);
else _.style.X4(b,d.KU,this.NP(),this.rect(),g)}if(o!=0)_.tI.BM(b,d.Au,d.KU,Math.max(1,o*.43));else d.Au=b}return d};
bs.H6.prototype.ak$=function(g,o,k){var y=g*(o-.5),d={KU:this.rect().clone(),Au:null};if(k)d.KU.pK(g,g);
d.Au=_.Q(d.KU.O());var b=d.KU.m,T=d.KU.n,a=k?this.K$():this.NP(),t=k?this.$B():this.rect(),j=d.KU,e=j.Nm(t),b=e.m,T=e.n,v=e.x-j.x,L=e.y-j.y,H=e.x-t.x,w=e.y-t.y,P=1-o*2;
for(var Q=0;Q<T;Q++)for(var x=0;x<b;x++){var F=a[(Q+w)*t.m+x+H],E=F/g;d.Au[(Q+L)*j.m+x+v]=Math.max(0,Math.min(255,255-255*((E+P)/(1+P))))}return d};
bs.adG=function(g,o,k,y){var d=g.Lefx,b=g.blendOptions;if(d){var T=o.add.lmfx;if(k==null)k=T?T.Scl.v.val:100;
o.add.lmfx=JSON.parse(JSON.stringify(d.v));if(o.add.lmfx.Scl==null)o.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
bs.UQ(o.add.lmfx,k/o.add.lmfx.Scl.v.val);if(T)o.add.lmfx.Scl.v.val=T.Scl.v.val;var a=d.v.gagl;if(a&&y)y.pm(a.v.val)}else delete o.add.lmfx;
if(b){b=b.v;if(b.Md)o.HW=h8.O8(b.Md.v.BlnM);if(b.Opct)o.opacity=Math.round(b.Opct.v.val*255/100);if(b.fillOpacity)o.add.iOpa=Math.round(b.fillOpacity.v.val*255/100);
if(b.Blnd){var t=[];for(var m=0;m<10;m++)t.push(0,0,255,255);var j=b.Blnd.v,e="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var m=0;m<j.length;m++){var v=j[m].v,L=8*["Gry","Rd","Grn","Bl"].indexOf(v.Chnl.v[0].v.enum);for(var H=0;
H<8;H++){t[L+H]=v[e[H]].v}}o.kC=t}}};bs.awy=function(g){var o="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),k=[],y=g.kC;
for(var m=0;m<4;m++){var d=m*8;if(y[d]+y[d+1]+y[d+4]+y[d+5]==0&&y[d+2]+y[d+3]+y[d+6]+y[d+7]==4*255)continue;
var b={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][m]}}]}}};
k.push(b);for(var T=0;T<8;T++)b.v[o[T]]={t:"long",v:y[m*8+T]}}var a={classID:"blendOptions"};if(g.HW!="norm")a.Md={t:"enum",v:{BlnM:h8.w3(g.HW)}};
if(g.opacity!=255)a.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(g.opacity*100/255)}};if(g.add.iOpa!=null)a.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(g.add.iOpa*100/255)}};
if(k.length!=0)a.Blnd={t:"VlLs",v:k};var t={i8:{classID:"null",Idnt:{t:"TEXT",v:dF.li()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},GO:{classID:"Styl",blendOptions:{t:"Objc",v:a}}},j=g.add.lmfx;
if(j)t.GO.Lefx={t:"Objc",v:j};return t};function jl(){}jl.Ig=function(g){return JSON.parse(JSON.stringify(g))};
jl.bZ=function(g){var o=jl.Ig(jl.ac_),k=o.Brsh.v;if(g!=null){delete k.Hrdn;k.classID="sampledBrush";
k.Nm={t:"TEXT",v:"layer.png"},k.sampledData={t:"TEXT",v:g}}return o};jl.ac_={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
jl.XF={};jl.XF.check=function(g){var o=jl.XF.AD;for(var m=0;m<o.length;m++)if(g[o[m]]==null)g[o[m]]=JSON.parse(jl.XF.ui[o[m]]);
var k=[];for(var m=0;m<o.length;m++)k.push(o[m]);var y=jl.XF.afL;for(var m=0;m<y.length;m++){var d=y[m][0],b=y[m][1],T=!0;
for(var a=0;a<d.length;a++)T=T&&g[d[a]].v==!0;if(T)for(var a=0;a<b.length;a++){if(g[b[a]]==null)console.log("Missing conditional parameter "+b[a]);
else k.push(b[a])}}for(var t in g)if(k.indexOf(t)==-1)console.log("Extra parameter "+t);g=g.Brsh.v;o=jl.XF.Bm.AD;
for(var m=0;m<o.length;m++)if(g[o[m]]==null)g[o[m]]=JSON.parse(jl.XF.Bm.ui[o[m]]);k=[];for(var m=0;m<o.length;
m++)if(g[o[m]])k.push(o[m]);else console.log("Missing default parameter "+o[m]);y=jl.XF.Bm.a2m[g.classID];
for(var m=0;m<y.length;m++)if(g[y[m]]==null&&y[m]!="dtipsGridSize"&&y[m]!="dtipsErodibleTipHeightMap"&&g.anL!=1)console.log("Missing conditional parameter "+y[m]);
else k.push(y[m]);for(var t in g)if(k.indexOf(t)==-1)console.log("Extra parameter "+t)};jl.XF.ahp=function(g){var o=jl.XF.afL;
for(var m=0;m<o.length;m++){var k=o[m][0],y=o[m][1],d=!0;for(var b=0;b<k.length;b++)d=d&&g[k[b]]&&g[k[b]].v==!0;
if(d){for(var b=0;b<y.length;b++)if(g[y[b]]==null){g[y[b]]=JSON.parse(jl.XF.ui[y[b]])}}else for(var b=0;
b<y.length;b++)if(g[y[b]]!=null){delete g[y[b]]}}};jl.XF.Bm={};jl.XF.Bm.AD="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
jl.XF.Bm.ui={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};jl.XF.Bm.a2m={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
jl.XF.afL=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
jl.XF.AD="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
jl.XF.ui={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function iN(g,o){this.aaz=g;this.ef=o==null?0:o;this.dir=0}iN.prototype.Ke=function(g,o){var k=this.aaz,y=new bJ(g.x-k.x,g.y-k.y),d=new d3;
d.rotate(-this.ef);y=d.iG(y);if(this.dir==0&&!k.ey(g))this.dir=Math.abs(y.x)<Math.abs(y.y)?1:2;if(o.z(dj.d_)){if(this.dir==1)y.x=0;
if(this.dir==2)y.y=0}d.TY();y=d.iG(y);var b=new bJ(k.x+y.x,k.y+y.y);return b};iN.prototype.asE=function(g){if(g.z(dj.d_))return this.dir;
return 0};var eO=function(){function g(){this.agr={}}g.a2X=function(o,k){var y=o.clone();y.ii-=Math.floor(y.ii);
y.xF-=Math.floor(y.xF);var d=new bJ(k,0),b=new bJ(0,k),T=y.iG(d),a=y.iG(b),t=new bJ(y.ii,y.xF);return[T,a,t]};
g.aw$=function(o,k){var y=bJ.YX;return y(o[0],k[0])+y(o[1],k[1])+y(o[2],k[2]);return dsum};g.prototype.aj0=function(o){var k=this.agr,y=k[o];
if(y==null)y=k[o]={gP:[],bF:0,O:0,a3k:0,a14:0};y.bF=Date.now();while(Object.keys(k).length>3){var d="",b=Date.now();
for(var T in k){var a=k[T].bF;if(a<b){b=a;d=T}}delete k[d]}return y};g.prototype.ajN=function(o,k){var y=o.gP,d,b=1e6;
for(var m=0;m<y.length;m++){var T=y[m],a=g.aw$(T.uH,k);if(a<b){d=T;b=a}}return d};g.prototype.a8H=function(o,k){var y=o.gP;
y.push(k);o.O+=k.rect.O();if(y.length>1e3||o.O>100*100*1600){console.log("pruning",o.O,y.length);y.sort(function(b,T){return T.bF-b.bF});
while(y.length>500||o.O>100*100*800){var d=y.pop();o.O-=d.rect.O()}}};return g}();function e9(g,o,k,y,d,b,T,a,t){this.sc=o;
this.Uu=k;this.Pp=b;this.Q9=y;this.KC=null;this.Sk=null;this.VC=0;this.akI=0;this.av$=0;this.Um=0;this.K3=0;
this.KW=t==null?Math.floor(Math.random()*16777215):t;this.CE=t==null?Math.floor(Math.random()*16777215):t;
this.MR=new bd;this.rB=new bd;if(a!=null){this.rg=a}else{var j=e9.a6E;if(j.length!=T.O()*4)j=_.Q(T.O()*4);
else j.fill(0);this.rg=e9.a6E=j}this.rect=T.clone();this.PH=[];this.WG=[];this.Se=null;this.p2=0;this.k=null;
this.a80="";this.kW=null;this.a8w(g,d)}e9.a6E=_.Q(16);e9.prototype.a8w=function(g,o){this.p2=o;this.k=g;
this.a80=JSON.stringify(g)+JSON.stringify(this.Q9.xt);this.kW=e9.anY(this.k,this.sc,this.Uu)};e9.prototype.moveTo=function(g,o,k){k=this.at8(k);
this.VC=k;var y=new bJ(g,o),d=this.k.Brsh.v.Dmtr.v.val;this.KC=y.clone();this.Sk=y.clone();this.Se=y.clone();
this.PH=[g,o];this.WG=[k];if(this.Q9.a6!=e9.Ba){var b=this.k.angleDynamics,T=b?b.v.bVTy.v==6:!1;this.so(T?new bd:this.ayD(y,this.ae8(k),k,new bJ(0,0)))}this.Um=y.clone()};
e9.prototype.lineTo=function(g,o,k){k=this.at8(k);var y=this.PH,d=y.length,b=y[d-2],T=y[d-1];if(g==b&&o==T)return;
var a=this.k.Brsh.v.Dmtr.v.val,t=Math.ceil(a)+1,j=new bd(Math.round(b),Math.round(T),0,0);j.pK(t,t);
var e=new bd(Math.round(g),Math.round(o),0,0);e.pK(t,t);this.PH.push(g,o);this.WG.push(k);d+=2;if(d>=6)this.so(this.a4D(d))};
e9.prototype.at8=function(g){if(g==null)g=1;g=Math.max(.05,Math.min(5,g));if(isNaN(g)){alert("Pressure is not a number");
throw"e"}return g};e9.prototype.so=function(g){this.MR=g;this.rB=this.rB.gO(g)};e9.prototype.finish=function(){var g=this.PH,o=g.length,k;
if(o==4)k=this.a3U(g[o-2],g[o-1],this.WG[(o>>1)-1],!0);if(o>4)k=this.a4D(o+2);if(k)this.so(k)};e9.prototype.B2=function(){return this.rect.clone()};
e9.prototype.JI=function(){return this.MR.Nm(this.rect)};e9.prototype.Ut=function(){return this.rB.Nm(this.rect)};
e9.prototype.lo=function(){return this.rg};e9.prototype.a4D=function(g){var o=this.PH,k=this.WG,y=o[g-6],d=o[g-5],b=o[g-4],T=o[g-3],a=k[(g>>1)-3],t=k[(g>>1)-2],j=new bJ(0,0),e=new bJ(0,0);
if(8<=g)j=e9.ac9(o[g-8],o[g-7],y,d,b,T);if(g<=o.length)e=e9.ac9(o[g-2],o[g-1],b,T,y,d);var v=y+j.x,L=d+j.y,H=b+e.x,w=T+e.y,P=new bd,Q=this.apY()?1:10;
for(var m=0;m<Q;m++){var x=(m+1)/Q,F=1-x,E=F*F*F*y+3*x*F*F*v+3*x*x*F*H+x*x*x*b,f=F*F*F*d+3*x*F*F*L+3*x*x*F*w+x*x*x*T,c=this.a3U(E,f,a+x*(t-a));
P=P.gO(c)}return P};e9.ac9=function(g,o,k,y,d,b){var T=g-k,a=o-y,t=d-k,j=b-y,e=Math.sqrt(T*T+a*a),v=Math.sqrt(t*t+j*j),L=Math.acos((T*t+a*j)/(e*v))/Math.PI,H=.35,w=.1;
L=w+L*(H-w);var P=d-g,Q=b-o,x=Math.sqrt(P*P+Q*Q),F=L*v/x;return new bJ(P*F,Q*F)};e9.prototype.a3U=function(g,o,k,y){var d=new bd,b=this.Q9.at2;
if(b==null)b=0;if(b==0||y){d=this.asI(g,o,k);return d}var T=this.Se,a=g-T.x,t=o-T.y,j=Math.sqrt(a*a+t*t);
a/=j;t/=j;if(j>b){var e=T.x+a*(j-b),v=T.y+t*(j-b);d=this.asI(e,v,k);this.Se.oU(e,v)}return d};e9.prototype.apY=function(){var g=this.k,o=g.Brsh.v.Dmtr.v.val;
return this.Q9.xt&&o==1};e9.prototype.asI=function(g,o,k){var y=new bd,d=new bJ(g,o),b=this.Q9.a6,T=d.Eu(this.Sk);
T.normalize(1);var a=bJ.YX(this.Sk,d),t=-this.akI,j=this.Sk.clone();if(this.apY()){if(a>.99){var e=this.Sk;
e9.ayX(e,d,this.rg,this.rect,this.hT(this.k));y=_.p.KS([e.x,e.y,d.x,d.y]);t=a}else d=this.Sk}else while(!0){var v=this.VC+(k-this.VC)*(Math.max(0,t)/a),L=this.ae8(v),H=this.adT()*(L+this.av$)/2*this.kW.am$;
if(b==e9.Ba)H=1;H=Math.max(H,.5);if(t+H<a){t+=H;this.K3+=H;var w=new bJ(this.Sk.x+T.x*t,this.Sk.y+T.y*t),x=1;
if(b==e9.Ba){var P=j.clone();P.x+=T.x>0?1:-1;var Q=j.clone();Q.y+=T.y>0?1:-1;if(bJ.YX(P,w)<bJ.YX(Q,w))w=P;
else w=Q;t=bJ.YX(w,this.Sk)}if(this.k.useScatter.v==!0){x=this.k.Cnt.v;var F=this.k.countDynamics.v.jitter.v.val/100,E=F*(-1+2*this.aN());
x+=Math.round(x*E)}for(var m=0;m<x;m++){var f=this.ayD(w,L,k,T);y=y.gO(f)}j=w}else break}this.akI=a-t;
this.Sk=d;this.VC=k;return y};e9.prototype.adT=function(){var g=this.k.Brsh.v,o=g.Spcn.v.val,k=Math.max(5,g.Rndn.v.val);
return k/100*(o/100)};e9.prototype.ae8=function(g){var o=this.k,k=o.Brsh.v.Dmtr.v.val;if(o.useTipDynamics.v){var y=k*(o.minimumDiameter.v.val/100);
k=y+(k-y)*(1-this.aN(this.CE)*(o.szVr.v.jitter.v.val/100));k*=e9.M7(o,"szVr",g,this.K3)}return k};e9.M7=function(g,o,k,y){var d=1,b=g[o].v,T=b.bVTy.v,a=b.fStp.v;
if(T==1)d*=Math.max(0,(a-y)/a);if(T==2)d*=k;return d};e9.prototype.ayD=function(g,o,k,y){var d=this.Q9.$C,P=0;
d=Math.min(1,d);var b=this.k,T=this.k.Brsh.v,a=T.Dmtr.v.val,t=this.Q9,j=t.a6,e=t.atS,v=this.kW.pR[1],L=new d3;
L.translate(-v.m/2,-v.n/2);L.scale(1/this.kW.abI,1/this.kW.abI);L.scale(o/a,o/a);L.scale(1,Math.max(5,T.Rndn.v.val)/100);
if(b.usePaintDynamics&&b.usePaintDynamics.v){var H=b.opVr.v.jitter.v.val/100,w=b.prVr.v.jitter.v.val/100;
d*=1-this.aN()*H;d*=1-this.aN()*w;d*=e9.M7(b,"opVr",k,this.K3)*e9.M7(b,"prVr",k,this.K3)}if(b.useTipDynamics.v){var Q=b.angleDynamics.v,x=b.minimumRoundness.v.val/100;
L.scale(1,x+(1-x)*Math.round(100-this.aN()*b.roundnessDynamics.v.jitter.v.val)/100);P+=(-.5+this.aN())*4*Math.PI*(Q.jitter.v.val/100);
P+=e9.M7(b,"angleDynamics",k,this.K3)*2*Math.PI;if(Q.bVTy.v==6)P+=Math.atan2(-y.y,y.x)}P+=T.Angl.v.val*(Math.PI/180);
L.rotate(P);if(b.useScatter.v){var F=(-1+2*this.aN())*b.scatterDynamics.v.jitter.v.val/100;L.translate(-F*o*y.y,F*o*y.x)}L.translate(g.x,g.y);
var E=this.ayp(L,g,o),f=E.rect.clone();if(j==null){var c=this.hT(b);_.Sm(E.RG,Math.round(c.k*255)<<16|Math.round(c.C*255)<<8|Math.round(c.o*255)<<0,4278190080);
if(this.rB.on()&&this.rect.ey(E.rect)&&d==1)this.rg=E.RG.slice(0);else{var M=-1,n=2,X=-1,u=2;if(!t.CG){M=X=0;
n=u=1}for(var I=X;I<u;I++)for(var r=M;r<n;r++){var J=E.rect.clone();J.x+=r*this.rect.m;J.y+=I*this.rect.n;
if(J.AM(this.rect)){f=f.gO(J);_.l.au9(E.RG,J,this.rg,this.rect,J,d)}}}}if(j==e9.Ba){var U=new bJ(E.rect.x+E.rect.m/2,E.rect.y+E.rect.n/2),K=Math.round(U.x-this.Um.x),i=Math.round(U.y-this.Um.y),z=E.rect.clone();
z.offset(-K,-i);var h=z.Nm(this.rect);h.offset(K,i);_.g1(this.rg,this.rect,E.RG,z);_.l.bY(E.RG,E.rect,this.rg,this.rect,E.Pr,E.rect,d)}if(j==e9.NL||j==e9.zv||j==e9.j3){var R=E.rect.Nm(this.rect),C;
if(R.ey(E.rect))C=E.Pr;else{C=_.Q(R.O());_.sQ(E.Pr,E.rect,C,R)}var G=_.Q(R.O()*4);_.g1(this.rg,this.rect,G,R);
if(j==e9.zv){var W=G.slice(0),A=_.DH.Tb([-1,-1,-1,-1,25,-1,-1,-1,-1]);_.DH.lN(G,W,R.m,R.n,A,0);_.QF(W,G)}else if(j==e9.j3){var $=jf.J0("UnsM");
$.Amnt.v.val=15;$.Thsh.v=0;$.Rds.v.val=5;var W=_.Q(G.length);jf.mn("UnsM",{buffer:G,rect:R},$,0,0,{buffer:W,rect:R});
_.QF(W,G)}else{jf.uh(1,_.tI.Tt,G,R)}_.l.bY(G,R,this.rg,this.rect,C,R,d)}this.av$=o;this.Um=U;this.CE++;
return f};e9.prototype.hT=function(g){var o=e9.a2o(this.p2);if(g.useColorDynamics&&g.useColorDynamics.v){var k=1-this.aN()*g.clVr.v.jitter.v.val/100,y=e9.a2o(this.Pp);
o.o=k*o.o+(1-k)*y.o;o.C=k*o.C+(1-k)*y.C;o.k=k*o.k+(1-k)*y.k;var d=(-.5+this.aN())*g.H.v.val/100,b=(-1+2*this.aN())*g.Strt.v.val/100,T=(-1+2*this.aN())*g.Brgh.v.val/100,a=_.RM(o.o,o.C,o.k);
a.GP=(a.GP+d+1)%1;a.ci=a.ci+b;if(a.ci<0)a.ci=-a.ci;if(a.ci>1)a.ci=1-(a.ci-1);a._Q=a._Q+T;if(a._Q<0)a._Q=-a._Q;
if(a._Q>1)a._Q=1-(a._Q-1);o=_.YN(a.GP,a.ci,a._Q)}return o};e9.prototype.XF=function(g){return Math.max(0,Math.min(1,g))};
e9.prototype.aN=function(g){if(g==null){g=this.KW++}return e9.hash(g)};e9.a2o=function(g){return{o:(g>>16&255)/255,C:(g>>8&255)/255,k:(g>>0&255)/255}};
e9.hash=function(g){g=g^61^g>>16;g=g+(g<<3);g=g^g>>4;g=g*668265261;g=g^g>>15;return(g&16777215)/16777215};
e9.atg=new eO;e9.prototype.ayp=function(g,o,k){var y=Math.sqrt(this.kW.pR[1].O()),d=y*g.Va(),b=d<10?1:d<50?1.5:d<200?3:8;
if(d<30)b=0;var T=e9.atg,a=T.aj0(this.a80),t=this.Q9.xt;if(t){g=g.clone();g.ii=Math.floor(g.ii);g.xF=Math.floor(g.xF)}var j=eO.a2X(g,y),e=T.ajN(a,j);
if(e&&eO.aw$(e.uH,j)>b)e=null;if(e){e.rect.x=Math.round(e.axb.x+g.ii);e.rect.y=Math.round(e.axb.y+g.xF);
if(t){e.rect.x=Math.round(o.x-e.rect.m/2);e.rect.y=Math.round(o.y-e.rect.n/2)}e.bF=Date.now()}else{var v=Math.round(this.k.Brsh.v.Dmtr.v.val),L;
if(t&&v<=3){L={channel:_.Q(v*v),rect:new bd(Math.round(o.x-v/2),Math.round(o.y-v/2),v,v)};L.channel.fill(255)}else if(g.Ng==1&&g.k==0&&g._I==0&&g.vP==1){L={channel:this.kW.pR[0],rect:this.kW.pR[1].clone()};
L.rect.x=Math.round(g.ii);L.rect.y=Math.round(g.xF)}else{L=D.C8.ae3(this.kW.pR,g)}if(t){for(var m=0;
m<L.channel.length;m++)L.channel[m]=L.channel[m]>127?255:0}if(L==null)L={channel:_.Q(0),rect:new bd};
e={RG:_.Q(L.rect.O()*4),Pr:L.channel,rect:L.rect,axb:new bJ(L.rect.x-g.ii,L.rect.y-g.xF),uH:j,bF:Date.now()};
_.e_(e.Pr,e.RG,3);if(a)T.a8H(a,e)}return e};e9.anY=function(g,o,k){var y,d,b,T=g.Brsh.v.Dmtr.v.val,a=g.Brsh.v.classID;
if(a=="computedBrush"){var t=g.Brsh.v.Hrdn.v.val/100;d=T<100?1.4:1;b=1;y=_.am9.ai0(T,t,d)}if(a=="sampledBrush"){var j;
for(var m=0;m<o.length;m++)if(o[m].id==g.Brsh.v.sampledData.v)j=o[m];y=j.pR;var e=y[1];d=Math.max(e.m,e.n)/T;
b=Math.min(e.m,e.n)/Math.max(e.m,e.n)}return{abI:d,am$:b,pR:y}};e9.T=null;e9.iS=null;e9.OJ=function(g,o,k,y,d,b){var T=e9.T,a=e9.iS;
if(T==null){e9.T=T=document.createElement("canvas");e9.iS=a=T.getContext("2d")}if(b==null)b=y;if(T.width!=b||T.height!=d){T.width=b;
T.height=d}else a.clearRect(0,0,b,d);a.fillStyle="#000000";a.font=Math.floor(10*D.V())+"px sans-serif";
var t=g.Brsh.v.Dmtr.v.val,j=""+t,e=g.useBrushSize;if(e&&e.v)j="---";var v=a.measureText(j);a.fillText(j,(y-v.width)/2,d-2);
var L=y,H=d-10*D.V(),w=Math.min(L,H),P=g.Brsh.v.classID;if(P=="computedBrush"){a.translate(L/2,H/2);
a.rotate(-g.Brsh.v.Angl.v.val*Math.PI/180);a.scale(1,.1+.9*g.Brsh.v.Rndn.v.val/100);var Q=Math.min(.95*w/2,t/2)+.5,x=.9*g.Brsh.v.Hrdn.v.val/100,F=a.createRadialGradient(0,0,0,0,0,Q);
F.addColorStop(x,"rgba(0,0,0,1)");F.addColorStop((.5+x)/1.5,"rgba(0,0,0,.5)");F.addColorStop(1,"rgba(0,0,0,0)");
a.fillStyle=F;a.fillRect(-Q,-Q,2*Q,2*Q);a.setTransform(1,0,0,1,0,0)}else if(P=="sampledBrush"){var E,u=0;
for(var m=0;m<o.length;m++)if(o[m].id==g.Brsh.v.sampledData.v)E=o[m];var c=E.pR;_.ZM(c);var M=c[0],n=c[1].m,X=c[1].n;
while((n>L||X>H)&&c[u+2]){u+=2;M=c[u];n=c[u+1].m;X=c[u+1].n}if(n*X!=0){var I=_.Q(n*X*4);_.e_(M,I,3);
var r=new ImageData(new Uint8ClampedArray(I.buffer),n,X);a.putImageData(r,Math.round((L-n)/2),Math.round((H-X)/2))}}else{}return T.toDataURL()};
e9.YI=function(g,o,k,y){if(k==0)k=1;var d=g.Brsh.v,b=d.Dmtr.v.val,T=d.Dmtr.v.val=Math.min(y!=null?Math.round(y*2.6):3e3,b*k),a=d.Hrdn?d.Hrdn.v.val/100:1,t=y!=null?y:Math.round(T*(1+.55*(1-a)))+4,v;
t=Math.max(15,Math.min(t,3e3));var j=new bd(0,0,t,t),e=new e9(g,o,null,{$C:1},16711712,0,j);d.Dmtr.v.val=b;
e.moveTo(j.m/2,j.n/2);var L=e.lo(),H=e.B2();if(j.ey(H))v=L;else{v=_.Q(j.O()*4);_.g1(L,H,v,j)}return[v,j,T]};
e9.ah3=function(g,o,k,y){var d=o.m,b=d>>>1;for(var m=0;m<4;m++){var T=6-m;g[d*(b-T)+b-1]=y;g[d*(b-T)+b]=k;
g[d*(b-T)+b+1]=y;g[d*(b+T)+b-1]=y;g[d*(b+T)+b]=k;g[d*(b+T)+b+1]=y;g[d*(b-1)+b-T]=y;g[d*b+b-T]=k;g[d*(b+1)+b-T]=y;
g[d*(b-1)+b+T]=y;g[d*b+b+T]=k;g[d*(b+1)+b+T]=y}};e9.JV=function(g,o,k,y){var d=e9.YI(g,o,k),b=d[0].slice(0),T=d[1],a=d[2],t=T.O(),j=_.Q(t);
_.B4(b,j,3);var e=_.Q(t);_.J.aaG(j,e,T,D.V()>1.9);if(a<3||_.lc(e,0)||y&&a>12){e9.ah3(e,T,255,0)}var v=[3,5,3,4,8,4,3,5,3];
v=_.DH.Tb(v);_.DH.vt(e,j,T.m,T.n,v);_.Sm(b,4294967295);_.e_(j,b,3);for(var m=0;m<t;m++)if(e[m]==255){b[m<<2]=b[(m<<2)+1]=b[(m<<2)+2]=0;
b[(m<<2)+3]=255}return{Tq:b,KU:T,aV:new bJ(T.m/2,T.n/2)}};e9.ayX=function(g,o,k,y,d){var b=4278190080|Math.round(d.k*255)<<16|Math.round(d.C*255)<<8|Math.round(d.o*255)<<0;
k=new Uint32Array(k.buffer);var T=Math.floor(g.x),a=Math.floor(g.y),t=Math.floor(o.x),j=Math.floor(o.y),e=Math.abs(t-T),v=Math.abs(j-a),L=T<t?1:-1,H=a<j?1:-1,w=e-v;
while(!0){k[a*y.m+T]=b;if(T==t&&a==j)break;var P=2*w;if(P>-v){w-=v;T+=L}if(P<e){w+=e;a+=H}}};e9.Ba="0";
e9.NL="1";e9.zv="2";e9.j3="3";var il={};il.Ov=function(g,o,k){if(k==null)k=!0;var y=g.add.TySh,d=new dR(y.O7,o),b=il.YR(d,y);
g.Of.path=b.path;g.Of.pR=[b.rg,b.KU];_._h(g.Of.pR);g.Of.wu=b.KU.clone();if(k){g.rect=b.KU;g.buffer=b.rg;
g.U()}return[d,b]};il.YR=function(g,o){var k=g.b$(),T=0,j;if(k.x==Infinity||k.on())return{rg:_.Q(0),KU:new bd,Rt:new bd};
var y=g.b$(),d=il.h$(g,o),b=_.p.KS(d.j);for(var m=0;m<g.RY.length;m++){var a=g.RY[m].mB;if(a.StrokeFlag&&a._LineWidth)T=Math.max(T,Math.ceil(o.D.Va()*a._LineWidth/2))}b.pK(T,T);
if(b.on())return{rg:_.Q(0),KU:new bd,Rt:new bd};var t=_.r8(b.m,b.n);t.translate(-b.x,-b.y);il.aqk(d,t);
if(g.RY.length!=0){var e=bw.Vx(o),v=t.getImageData(0,0,b.m,b.n);j=new Uint8Array(v.data.buffer);if(e==0)for(var m=0;
m<j.length;m+=4)j[m+3]=j[m+3]>80?255:0;if(e==3)for(var m=0;m<j.length;m+=4)j[m+3]=Math.min(255,j[m+3]*1.5)}else j=_.Q(b.O()*4);
t.resetTransform();t.beginPath();return{rg:j,KU:b,Rt:y,path:d}};il.h$=function(g,o){var k=o.D,y=o.O7;
il.Jb=k.Va();var d=bw.Vx(o),b=Math.max(k.k*k.k,k._I*k._I)<1e-9?k:null;if(d==3||d==4)b=null;var T={F:[],j:[]};
il.a8U(g,T,b,!0);il.a8U(g,T,b,!1);T=il.e9(T,o,g);return T};il.Jb=1;il.e9=function(g,o,k){if(g==null)return g;
if(k&&k.cN)_.p.D(g.j,k.cN,g.j);if(k&&!_.uR.VV(o.IV)){var y=bw.B2(o,k);if(!y.on()){if(g.F){g=_.p.Uh(g);
var d=Math.min(y.m,y.n)/8;if(d<1)d=1;g=_.p.ki(g,d)}var b=_.uR.$p(o.IV,y);_.RS.D(b,g.j,y)}}var T=o.D;
_.p.D(g.j,T,g.j);return g};il.aqk=function(g,o){o.save();o.miterLimit=2;Typr.U.pathToContext({crds:g.j,cmds:g.F},o);
o.restore()};il.iW=function(g,o,k){var y=dR.a0M(k),d=g.O7,b=d.ResourceDict.FontSet,T=d.ResourceDict.StyleSheetSet[0].StyleSheetData,a=d.EngineDict.StyleRun.RunLengthArray,t=d.EngineDict.StyleRun.RunArray,j=bw.fY(d),e=!0,v={},L=0;
for(var m=0;m<t.length;m++){var H=t[m].StyleSheet.StyleSheetData.Font;if(H==null)H=T.Font;for(var w=0;
w<a[m];w++){var P=j.charCodeAt(L+w),Q=H+","+(P>128?P:-1);if(v[Q]==null){v[Q]=1;if(o.xT(b[H].Name,P)==null)e=!1}}L+=a[m]}return e&&y};
il.WV=function(g,o,k){var y=!0;for(var d=0;d<g.d.length;d++){var b=g.d[d],T=b.add.TySh;if(T!=null&&!il.iW(T,o,k))y=!1}return y};
il.a4R=function(g,o,k){for(var y=0;y<g.d.length;y++){var d=g.d[y],b=d.add.TySh;if(b!=null&&il.iW(b,o,k)){il.Ov(d,o);
g.U()}}};il.a8U=function(g,o,k,y){var d=new d3;for(var m=0;m<g.by.length;m++)il.amo(g.RY,g.by[m],o,d,k,y)};
il.amo=function(g,o,k,y,d,b){y.translate(o.S4.x,o.S4.y);for(var m=0;m<o.RJ.length;m++){var T={},a=o.RJ[m];
if(!a.Sv)break;var t=y.clone();t.translate(a.S4.x,a.S4.y);if(d){var j=d.xF+t.xF*d.vP;t.xF=(Math.round(j)-d.xF)/d.vP}for(var e=a.start;
e<a.end;e++)il.ath(g,o.p3[e],o,T,k,t,b)}y.translate(-o.S4.x,-o.S4.y)};il.a8s="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
il.ath=function(g,o,k,y,d,b,T){b.translate(o.S4.x,o.S4.y);for(var a=o.N7;a<=o.jq;a++){var t=k.Ja[a],j=t.KU.m,e=g[k.adR+t.Qq],v=e.mB._FillBackgroundFlag;
if(e.C$=="\n"||T&&!v)continue;var L=e.mB.FontSize/e.Or.head.unitsPerEm,H=b.clone();H.translate(t.S4.x+t.aY*L,t.S4.y-t.xf*L);
var w=new d3;w.scale(L,-L);if(e.W4==1&&il.a8s.indexOf(e.C$)!=-1)w.concat(new d3(-1,0,0,1,j,0));if(e.mB.FauxItalic)w.concat(new d3(1,0,-Math.tan(.18),1,0,0));
w.translate(0,e.KH);w.scale(e.scale.x,e.scale.y);if(e.mB.BaselineShift!=null)w.translate(0,-e.mB.BaselineShift);
if(t.ef!=0){w.rotate(-t.ef)}w.concat(H);var P=(e.mB._LineWidth?e.mB._LineWidth:1)*il.Jb;if(T){d.F.push(il.hT(e.mB._FillBackgroundColor));
var Q=1.005*t.KU.n/L,x=new bd(-t.aY,-Q*.27,1.03*t.KU.m/(L*e.scale.x),Q);if(e.mB.StrokeFlag)x.pK(P/L,P/L);
_.p.concat(d,_.p.rN(x),w);d.F.push("X");continue}if(e.mB.FillFlag)d.F.push(il.hT(e.mB.FillColor));if(e.mB.StrokeFlag)d.F.push("O-"+il.hT(e.mB.StrokeColor)+"-"+P);
if(t.path.F.length!=0&&e.C$!="\t"){if(e.mB.FauxBold){var F=e.mB.FontSize/2048*27*e.scale.x;w.ii+=F;_.p.concat(d,t.path,w);
w.ii-=F+F;_.p.concat(d,t.path,w)}else _.p.concat(d,t.path,w)}if(e.C$!="\n"){if(e.mB.Underline){if(y.In==null)y.In=e.Or.post.underlineThickness;
if(y.ae6==null)y.ae6=e.Or.post.underlinePosition;var E=0,f=y.ae6-y.In/2,c=t.qh*1.05,M=-y.In;_.p.concat(d,{F:["M","L","L","L","Z"],j:[E,f,E+c,f,E+c,f+M,E,f+M]},w)}if(e.mB.Strikethrough){var n=e.Or["OS/2"].yStrikeoutSize,X=e.Or["OS/2"].yStrikeoutPosition,E=0,f=X+n/2,c=t.qh*1.05,M=-n;
_.p.concat(d,{F:["M","L","L","L","Z"],j:[E,f,E+c,f,E+c,f+M,E,f+M]},w)}}if(e.mB.FillFlag)d.F.push("X");
if(e.mB.StrokeFlag)d.F.push("OX")}b.translate(-o.S4.x,-o.S4.y)};il.hT=function(g){var o=bw.sL(g),k=(Math.round(o.o)<<16)+(Math.round(o.C)<<8)+Math.round(o.k);
return"#"+_.Mb(k)};function dR(g,k){var y=bw.sZ(g),d,b,T=bw.cO(g),a=g._LineOrientation==2?new d3:null,v,H;
if(g.Curve)b=dR.AK(g.Curve);if(y!=0){d=new bd(T[0],T[1],T[2],T[3]);if(a){var t=d.m;d.m=d.n;d.n=t;a.translate(0,-T[2])}if(y==2){d.m=b[5]-b[4];
d.n=9999}}this.by=[];this.RY=[];this.Wj=y;this.cN=a;var j=this.asF=bw.fY(g),e=-1,L=-1;for(var m=0;m<j.length;
m++){var w=v,P=bw.aav(g,m);if(P!=e){e=P;w=v=bw.a0T(g,P)}var Q=H,P=bw.ajy(g,m);if(P!=L){L=P;Q=H=bw.anQ(g,P)}var x={C$:j.charAt(m),mB:w,Or:null,VK:-1,wc:bw.abp(g,m),KH:0,scale:new bJ(0,0),Yg:0,lineHeight:0,W4:0},F=g.ResourceDict.FontSet[w.Font].Name,E=x.Or=k.xT(F,j.charCodeAt(m));
x.scale.x=w.HorizontalScale==null?1:w.HorizontalScale;x.scale.y=w.VerticalScale==null?1:w.VerticalScale;
var f=E["OS/2"],c=E.hhea;if(w.FontCaps==1&&x.C$!=x.C$.toUpperCase()){var M=f.sxHeight?f.sxHeight/f.sTypoAscender:.76;
x.scale.x*=M;x.scale.y*=M}var n=1/E.head.unitsPerEm*w.FontSize;if(w.FontBaseline==1){var M=g.ResourceDict.SuperscriptSize;
x.scale.x*=M;x.scale.y*=M;x.KH-=g.ResourceDict.SuperscriptPosition*w.FontSize}if(w.FontBaseline==2){var M=g.ResourceDict.SubscriptSize;
x.scale.x*=M;x.scale.y*=M;x.KH+=g.ResourceDict.SubscriptPosition*w.FontSize}x.Yg=dR.Yg(E)*w.FontSize;
var X=Q.AutoLeading;x.lineHeight=w.FontSize*(X==null?1.2:X);if(w.AutoLeading==!1)x.lineHeight=w.Leading;
if(x.lineHeight==0)x.lineHeight=.01;this.RY.push(x)}var u=this.by,I=[0];for(var m=0;m<g.EngineDict.ParagraphRun.RunLengthArray.length;
m++){var r=new dR.HA(g,k,this.RY,m,d,I,y==1?b:null);u.push(r)}if(a){if(y==0)a.translate(0,u[0].p3[0].Yg/2);
a.rotate(-Math.PI/2)}if(y==2){var J=g.Curve.Points,U=b[0],K=b[1],i=b[2],z=b[3],h=b[4],R=b[5];for(var m=0;
m<u.length;m++)for(var C=0;C<u[m].RJ.length;C++)if(!(m==0&&C==0))u[m].RJ[C].Sv=!1;var r=u[0],G=r.RJ[0];
r.S4.oU(0,0);G.S4.oU(0,0);for(var C=G.start;C<G.end;C++){var W=r.p3[C],A=W.S4.x;W.S4.x=0;for(var $=W.N7;
$<=W.jq;$++){var O=r.Ja[$],Y=O.KU.m/2;O.S4.x+=A;var l=dR.abd(U,(h+O.S4.x+Y)%z);O.S4.x=l[0]-Y*l[2];O.S4.y=l[1]-Y*l[3];
O.ef=Math.atan2(l[3],l[2])}}}}dR.Yg=function(g){var o=g._hh;if(o==null){var k=Typr.U,y=k.codeToGlyph(g,104),d=_.p.AU(Typr.U.glyphToPath(g,y).crds).n;
o=g._hh=d*(1/g.head.unitsPerEm)}return o};dR.prototype.akg=function(){return!this.a8A(0)};dR.prototype.aab=function(){return this.a8A(1)};
dR.prototype.a8A=function(g){var o=this.by,k=!0,y=0;for(var m=0;m<o.length;m++){var d=o[m].RJ,b=d.length;
y+=b;for(var T=0;T<b;T++)k&=d[T].Sv}return[k,y][g]};dR.AK=function(g,o,k){if(o==null)o=.25;var y=g.Points,d=y.length,b=d>>>3,T=g.TextOnPathTRange,a=g.Reversed,L=0,H=0;
if(a){var t=y.slice(0);for(var m=0;m<d;m+=2){t[m]=y[d-2-m];t[m+1]=y[d-1-m]}y=t;T=[b-T[1]%b,b-T[0]%b]}var j=[],e=[0],v=[0];
for(var m=0;m<d;m+=8){var w=y[m+6]-y[m+0],P=y[m+7]-y[m+1],Q=Math.round(Math.sqrt(w*w+P*P)/o),x=k&&m==d-8?Q+1:Q;
for(var F=0;F<x;F++){var E=F/Q,f=1-E,c=f*f*f*y[m+0]+3*f*f*E*y[m+2]+3*f*E*E*y[m+4]+E*E*E*y[m+6],M=f*f*f*y[m+1]+3*f*f*E*y[m+3]+3*f*E*E*y[m+5]+E*E*E*y[m+7];
j.push(c,M);if(m+F!=0){var w=c-L,P=M-H;v.push(v[v.length-1]+Math.sqrt(w*w+P*P));e.push((m>>>3)+E)}L=c;
H=M}}var o=v.length,n=v[o-1],X=dR.NM(T[0]%b,e),u=dR.NM(T[1]%b,e),I=v[X%o],r=v[u%o];if(I>=r)r+=n;return[j,e,v,n,I,r]};
dR.NM=function(g,o){var m=0;while(o[m]<g)m++;return m};dR.abd=function(g,o){var k=0,m=0,y,d,b;while(k<o){y=g[m+2]-g[m];
d=g[m+3]-g[m+1];b=Math.sqrt(y*y+d*d);k+=b;m+=2}return[g[m],g[m+1],y/b,d/b]};dR.prototype.anc=function(g){return this.RY[g]};
dR.prototype.aqt=function(g){for(var o=0;o<this.by.length;o++){var k=this.by[o];for(var y=0;y<k.RJ.length;
y++){var d=k.RJ[y],b=k.p3[d.start].start,T=k.p3[d.end-1].end;if(b<g&&g<T)return[b,T-1]}}return[0,1]};
dR.prototype.akj=function(g,o){var k=-1,y=this.by;if(this.Wj==2){var d=1e9,b=0,T=y[0],a=T.RJ[0];for(var t=a.start;
t<a.end;t++){var j=T.p3[t];for(var e=j.N7;e<=j.jq;e++){var v=T.Ja[e],L=v.KU.m,H=g.x-v.S4.x,w=g.y-v.S4.y,P=H*H+w*w;
if(P<d){d=P;b=v.Qq}}}if(b!=0&&this.asF.codePointAt(b-1)>65535)b--;return b}for(var Q=0;Q<y.length;Q++){var T=y[Q];
for(var x=0;x<T.RJ.length;x++){k++;var a=T.RJ[x],F=T.RJ[x+1];if(F==null&&Q<y.length-1)F=y[Q+1].RJ[0];
if(o!=null){if(k!=o)continue}else{if(F!=null&&T.S4.y+a.S4.y<g.y)continue}for(var t=a.start;t<a.end;t++){var j=T.p3[t];
for(var e=j.N7;e<=j.jq;e++){var v=T.Ja[e],L=v.KU.m,E=T.S4.x+a.S4.x+j.S4.x,f=E+v.S4.x,c=E+(e<j.jq?T.Ja[e+1].S4.x:v.S4.x+L);
if(g.x<=c||t+1==a.end&&e==j.jq){var M=T.adR+v.Qq,n=this.RY[M],X=n.W4&1;if(n.C$!="\n"&&(X==0&&g.x>f+L/2||X==1&&g.x<f+L/2))M+=this.asF.codePointAt(M)>65535?2:1;
return M}}}}}};dR.prototype.TJ=function(g){var o={KU:new bd,wU:0},k=0;for(var y=0;y<this.by.length;y++){var d=this.by[y];
for(var b=0;b<d.RJ.length;b++){var T=d.RJ[b];o.wU=k;k++;for(var a=T.start;a<T.end;a++){var t=d.p3[a];
for(var j=t.start;j<t.end;j++){if(j==g){var e=this.RY[j],v=e.VK,L=d.Ja[v].Qq,H=1;while(d.Ja[v]!=null&&d.Ja[v].Qq==L){var w=d.Ja[v],P=d.S4.x+T.S4.x+t.S4.x+w.S4.x,Q=d.S4.y+T.S4.y+t.S4.y+w.S4.y;
o.KU=o.KU.gO(new bd(P,Q-e.lineHeight,w.KU.m,e.lineHeight));o.ef=w.ef;v+=H}return o}}}}}};dR.prototype.b$=function(){var g=Infinity,o=Infinity,k=-Infinity,y=-Infinity;
for(var m=0;m<this.by.length;m++){var d=this.by[m];for(var b=0;b<d.RJ.length;b++){var T=d.RJ[b];if(!T.Sv)break;
for(var a=T.start;a<T.end;a++){var t=d.p3[a];for(var j=t.N7;j<=t.jq;j++){var e=d.Ja[j],v=e.KU,L=d.S4.x+T.S4.x+t.S4.x+e.S4.x,H=d.S4.y+T.S4.y+t.S4.y+e.S4.y;
g=Math.min(g,L+v.x);o=Math.min(o,H+v.y);k=Math.max(k,L+v.x+v.m);y=Math.max(y,H+v.y+v.n)}}}}return new bd(g,o,k-g,y-o)};
dR.VM=function(g){return 19968<=g&&g<=40959||12288<=g&&g<=12543};dR.att=function(g,k,y,d,b,T,a){var t=[T],j=0;
for(var m=T;m<a;m++){if(y[m]==null)console.log(m,T,a,y);var e=y[m].C$,v=e.charCodeAt(0);if(v==32||v==9){t.push(j,m,1,m+1);
j=0}else if(v==3851){t.push(j+1,m+1);j=0}else if(dR.VM(v)){t.push(j,m);j=1}else if(m!=T&&y[m].W4!=y[m-1].W4){t.push(j,m);
j=1}else j++}t.push(j);var L=[];for(var m=0;m<t.length;m+=2){var H=t[m],w=t[m+1];if(w==0)continue;L.push(new dR.anb(g,k,y,d,b,H,w))}return L};
dR.adl=function(g,o,k,y,d,b,T){var a=[0,o?o.m:1e9],t=[];if(y){var j=g[b].Yg,e=d+(d==0?j:g[b].lineHeight),v=e-j*.9,L=_.p.nT(y[0],v),H=L.length,w=_.p.nT(y[0],e),P=w.length;
if(H!=0&&P!=0){var Q=0,x=0,F=[];while(Q<H&&x<P){var E=Math.max(L[Q],w[x]),f=L[Q+1],c=w[x+1],M=Math.min(f,c);
if(E<M)F.push(E,M);if(f<c)Q+=2;else x+=2}if(F.length!=0)a=F}}for(var n=0;n<a.length;n+=2){var X=0,u=b,I=o?a[n+1]-a[n]-k.StartIndent-k.EndIndent-(b==0?k.FirstLineIndent:0):Infinity;
while(b!=g.length){var r=g[b],J=X==0||(r.Rv||r.Gk)||X+r.KU.m<I;if(!J)break;X+=r.KU.m;b++}t.push(b-u)}T[0]=t;
T[1]=a;T[2]=b};dR.as$=function(g,o){var k=g.length,y=new Uint32Array(k),d=new Uint8Array(k),b=0;for(var m=0;
m<k;m++){d[m]=0;var T=g.charCodeAt(m);y[m]=T;if(T>b)b=T}if(b>1424)d=dR.akt(y,o);return d};dR.a0V=function(g){return g=="\xDF"?g:g.toUpperCase()};
dR.HA=function(g,k,y,d,b,T,a){this.p3=[];this.RJ=[];this.S4=new bJ(0,0);this.Ja=null;this.p3=null;this.mB=bw.anQ(g,d);
var t=this.mB,L=0,P="",f=0,c=1,O=0;if(d!=0){var j=t.SpaceBefore;if(j!=null)T[0]+=j}var e=g.EngineDict.ParagraphRun.RunLengthArray,v=e[d];
for(var m=0;m<d;m++)L+=e[m];var H=t._Direction?t._Direction:0;this.adR=L;var w=bw.fY(g).slice(L,L+v);
for(var Q=0;Q<w.length;Q++){var x=w.charAt(Q);P+=y[L+Q].mB.FontCaps==0?x:dR.a0V(x)}w=P;var F=dR.as$(w,H),E=[],M=F[m]&1,n=y[L].Or;
y[L].W4=F[0];for(var m=1;m<w.length;m++){var x=y[L+m],X=F[m];x.W4=X;if(X!=M||x.Or!=n){E.push(f,c);f=m;
c=1;M=X;n=x.Or}else c++}E.push(f,c);var u=this.Ja=[];for(var m=0;m<E.length;m+=2){var I=E[m],r=E[m+1],J=(y[L+I].W4&1)==0,U=w.slice(I,I+r),K=Typr.U.shapeHB(y[L+I].Or,U,J),i=[],R=0;
for(var Q=0;Q<K.length;Q++){var z=K[Q];i.push({C:z.g,Qq:z.cl,qh:z.ax,ko:z.ay,aY:z.dx,xf:z.dy})}K=i;var h=K.slice(0);
if(!J)h.reverse();for(var Q=0;Q<U.length;Q++){while(R+1<h.length&&h[R+1].Qq<=Q){R++}while(R>0&&h[R-1].Qq==Q)R--;
y[L+I+Q].VK=u.length+(J?R:h.length-R-1)}for(var Q=0;Q<K.length;Q++){u.push(K[Q]);K[Q].Qq+=I;var x=y[L+K[Q].Qq];
if(x.wc!=-1&&x.wc<x.Or.maxp.numGlyphs){K[Q].C=x.wc;var C=x.Or.hmtx;if(C){var G=Object.keys(C)[0];K[Q].qh=C[G][x.wc]}}if(x.C$=="\n")K[Q].qh=0;
if(x.C$=="\t")K[Q].qh=x.Or.head.unitsPerEm*36/x.mB.FontSize}}var W=bw.aP(t),A=this.p3=dR.att(g,k,y,L,u,L,L+v),$=this.RJ,Y=-1,P=[null,null,0];
while(O<A.length){dR.adl(A,b,t,a,T[0],O,P);Y++;var l={start:O,end:0,KU:new bd,S4:new bJ(0,0),Sv:!0},aQ=0,dt=0;
$.push(l);l.end=P[2];if(l.start==l.end)throw"e";var B=l.end==A.length;function f4(h,I,i0){var gD=i0-I>>>1;
for(var m=0;m<gD;m++){var hU=h[I+m];h[I+m]=h[i0-1-m];h[i0-1-m]=hU}}for(var V=1;V<5;V++){var q=-1;for(var m=l.start;
m<l.end;m++){var X=y[A[m].start].W4;if(q==-1&&X>=V)q=m;else if(q!=-1&&X<V){f4(A,q,m);q=-1}}var s=l.end;
if(H==0&&A[s-1].Rv)s--;if(q!=-1)f4(A,q,s)}var cW=P[0],dk=P[1],q=O,kr=O;for(var j9=0;j9<dk.length;j9+=2){var bh=b?dk[j9+1]-dk[j9]-t.StartIndent-t.EndIndent-(O==0?t.FirstLineIndent:0):Infinity,fe=0;
q=kr;kr+=cW[j9>>>1];var gg=this.acD(q,kr,A,H,b!=null);if(b){if(W==1||B&&W==4)fe=gg[1]+(bh-gg[0]);if(W==2||B&&W==5)fe=gg[1]+(bh-gg[0])/2;
if(kr-q==1&&A[q].KU.m>bh)fe=0;if(Y==0)fe+=t.FirstLineIndent;fe+=t.StartIndent}else{if(W==0)fe=t.StartIndent+t.FirstLineIndent;
if(W==1)fe=-gg[0]-t.EndIndent;if(W==2)fe=-gg[0]/2}fe+=dk[j9];if(b&&W>2&&(W==6||!B))this.axB(q,kr,A,bh,H,fe);
else{var a$=fe;for(var m=q;m<kr;m++){var dg=A[m],iv=dg.KU.m;dg.S4.x=a$;if(dg.oJ=="\t")iv=Math.ceil((a$+4)/36)*36-a$;
a$+=iv}}}O=l.end;for(var m=l.start;m<l.end;m++){var hY=A[m].KU.clone();hY.x4(A[m].S4);l.KU=l.KU.gO(hY);
aQ=Math.max(aQ,A[m].Yg);dt=Math.max(dt,A[m].lineHeight)}l.S4.y=Y==0?0:$[Y-1].S4.y+dt;if(Y==0){if(d==0&&b)T[0]+=aQ;
if(d!=0)T[0]+=dt;this.S4.y=T[0]}else T[0]+=dt;if(b)l.Sv=this.S4.y+l.S4.y<b.y+b.n||d==0&&Y==0}var b9=t.SpaceAfter;
if(b9!=null)T[0]+=b9};dR.HA.prototype.acD=function(g,o,k,y,d){var b=0,T=0;for(var m=g;m<o;m++)b+=k[m].KU.m;
if(d){if(y==0)for(var m=o-1;m>=g;m--)if(k[m].Rv||k[m].Gk)b-=k[m].KU.m;else break;if(y==1)for(var m=g;
m<o;m++)if(k[m].Rv||k[m].Gk){var a=k[m].KU.m;b-=a;T-=a}else break}return[b,T]};dR.HA.prototype.axB=function(g,o,k,y,d,b){var T=0,a=0,t=0,j=0;
for(var m=g;m<o;m++)if(k[m].Rv)t++;else{T+=k[m].KU.m;a++}if(d==0)for(var m=o-1;m>=g;m--)if(k[m].Rv||k[m].Gk){if(k[m].Rv){t--}}else break;
if(d==1)for(var m=g;m<o;m++)if(k[m].Rv||k[m].Gk){if(k[m].Rv){t--;j++}}else break;if(a<=1||t==0){if(a==1)k[g].S4.x=b;
return}var e=(y-T)/t,v=-j*e;for(var m=g;m<o;m++){if(k[m].Rv)this.Ja[k[m].N7].KU.m=k[m].KU.m=e;k[m].S4.x=b+v;
v+=k[m].KU.m}};dR.anb=function(g,k,y,d,b,T,a){this.oJ="";for(var m=0;m<a;m++)this.oJ+=y[T+m].C$;this.Rv=a==1&&(y[T].C$==" "||y[T].C$=="\t");
this.Gk=a==1&&y[T].C$=="\n";this.start=T;this.end=T+a;this.KU=new bd;this.S4=new bJ(0,0);this.Yg=0;this.lineHeight=0;
var t=0,j=0;if(a==0){this.lineHeight=y[T].lineHeight;this.Yg=y[T].Yg;this.KU=new bd(0,-y[T].lineHeight,0,y[T].lineHeight)}var e=y[T].VK,v=y[T+a-1].VK;
if(v<e){var L=e;e=v;v=L}while(v+1<b.length&&b[v].Qq==b[v+1].Qq){v++}this.N7=e;this.jq=v;for(var H=e;
H<=v;H++){var w=b[H],P=y[d+w.Qq],Q=g._LineOrientation==2&&(P.mB.BaselineDirection!=2||dR.VM(P.C$.charCodeAt(0))),x=Typr.U.glyphToPath(P.Or,w.C),M=0;
w.path={F:x.cmds,j:x.crds};var F=P.mB.FontSize,E=1/P.Or.head.unitsPerEm*F;if(!P.mB.AutoKerning)t+=P.mB.Kerning*2*E*P.scale.x;
w.S4=new bJ(t,0);w.ef=0;if(Q&&w.path.j.length>0){w.ef=-Math.PI/2;w.S4.x+=F*.83;w.S4.y=-F*.3+w.qh*E/2;
w.qh=F/E}var f=w.qh*E*P.scale.x;w.KU=new bd(0,-P.lineHeight,f,P.lineHeight);var c=w.KU.clone();c.x4(w.S4);
if(P.mB.Tracking!=null)M=P.mB.Tracking*.001*F;if(P.mB.FauxBold==!0)M+=.027*F;t+=f+M;if(a==1&&P.C$==" ")c.m+=2*M;
else if(a==1&&P.C$!=null&&dR.VM(P.C$.charCodeAt(0)))c.m+=M;this.KU=this.KU.gO(c);this.Yg=Math.max(this.Yg,P.Yg);
this.lineHeight=Math.max(this.lineHeight,P.lineHeight)}};dR.aE=0;dR.a0M=function(g){if(dR.aE==2)return!0;
if(dR.aE==1)return!1;dR.aE=1;function o(){fetch("code/ext/fribidi.wasm").then(function(k){return k.arrayBuffer()}).then(function(k){return WebAssembly.instantiate(k)}).then(function(k){var y=k.instance.exports,d=y.memory,b=16,T=256,a=1,t=b|T,j=b|T|a;
dR.akt=function(v,L){var H=v.length,w=H*4+4+H*4+H*4+H;cp.Al(y,w+H+1e7);var P=new Uint8Array(d.buffer),Q=new Uint32Array(d.buffer),x=y.calloc(w,1),F=x+H*4,f=F+4,c=f+H*4,M=c+H*4;
Q.set(v,x>>>2);Q[F>>>2]=L==0?t:j;y.fribidi_get_bidi_types(x,H,f);y.fribidi_get_bracket_types(x,H,f,c);
y.fribidi_get_par_embedding_levels_ex(f,c,H,F,M);var n=P.slice(M,M+H);y.free(x);return n};dR.aE=2;var e=new jB(N.E.s,!0);
e.data={P:N.b.pB,Fd:"add",Q6:er.tV,BH:null};g.S(e)})}Typr.U.initHB("code/ext/hb.wasm",o);return!1};function bw(){}bw.Ig=function(g){return JSON.parse(JSON.stringify(g))};
bw.zp=function(g,o){for(var k in o)g[k]=o[k]};bw.j_=function(g,o,k,y){var d=bw.a8N();if(k)bw.SX(d,0,0,k);
var b=new d3;if(y!=null)b.rotate(y);b.translate(Math.round(g),Math.round(o));var T={D:b,O7:d};T.f4=bw.a7Q();
T.IV=_.uR.Q();T.Rt=new bd;return T};bw.aeY=function(g){var o=["CharacterDirection",0];for(var m=0;m<o.length;
m+=2){if(g[o[m]]!=null&&g[o[m]]!=o[m+1]){throw"e";console.log(o[m],g[o[m]])}}if(g instanceof Array)for(var m=0;
m<g.length;m++)bw.aeY(g[m]);else if(g instanceof Object)for(var k in g)bw.aeY(g[k])};bw.aP=function(g,o){if(o==null)o=g.Justification;
var k=g._Direction?g._Direction:0;if(k==1){if(o==0||o==3)o++;else if(o==1||o==4)o--}return o};bw.iD=function(g){if(g.add==null)return;
var o=g.O7,k=o.Curve,y=g.add.vmsk,d=y.a,b=_.p.rR(d,!0).j,T=g.D.clone();T.TY();_.p.D(b,T,b);var a=b.slice(0,8);
for(var t=8;t<b.length;t+=6)a.push(b[t-2],b[t-1],b[t],b[t+1],b[t+2],b[t+3],b[t+4],b[t+5]);k.Points=a;
k.TextOnPathTRange=y.zA.slice(0);k.Reversed=y.TU;if(bw.sZ(o)==1){var k=dR.AK(o.Curve),j=_.p.AU(k[0]);
bw.Y$(o,[0,0,j.m,j.n].map(Math.round));for(var m=0;m<a.length;m+=2){a[m]-=j.x;a[m+1]-=j.y}var e=new d3(1,0,0,1,j.x,j.y);
e.concat(g.D);g.D=e}};bw.MQ=function(g){if(g.add==null)return;var o=g.add.vmsk,k=g.O7.Curve,y=k.Points,d={F:["M"],j:[y[0],y[1]]};
for(var m=0;m<y.length;m+=8){d.F.push("C");d.j.push(y[m+2],y[m+3],y[m+4],y[m+5],y[m+6],y[m+7])}_.p.D(d.j,g.D,d.j);
var b=_.p.XP(d,!0);o.a=b;o.TU=k.Reversed;o.zA=k.TextOnPathTRange.slice(0);g.add.vogk=p.Ko(b)};bw.sL=function(g){var o={o:0,C:0,k:0};
if(g){var k=g.Values;if(g.Type==1)o={o:k[1]*255,C:k[2]*255,k:k[3]*255};else if(g.Type==2){var y={classID:"CMYC",Cyn:{t:"doub",v:k[1]*100},Mgnt:{t:"doub",v:k[2]*100},Ylw:{t:"doub",v:k[3]*100},Blck:{t:"doub",v:k[4]*100}};
o=_.M.sL(y)}else console.log("Unknown color type")}return o};bw.ayB=function(g){for(var m=0;m<g.length;
m++){var o=g[m].StyleSheet.StyleSheetData,k=o.FillColor;if(k&&k.Type==2){var y=bw.sL(k);k.Type=1;k.Values=[1,y.o/255,y.C/255,y.k/255]}}};
bw.B2=function(g,o){var k;if(bw.sZ(g.O7)==1){var y=bw.cO(g.O7);k=new bd(0,0,y[2]-y[0],y[3]-y[1])}else{k=o.b$();
if(o.cN){var d=o.cN.clone(),b=_.p.rN(k);_.p.D(b.j,d,b.j);k=_.p.AU(b.j)}}return k};bw.x7=function(g){var o=g[0];
for(var m=0;m<g.length;m++)o=bw.a9i(o,g[m]);return o};bw.a9i=function(g,o){var k={};for(var y in g)if(JSON.stringify(g[y])==JSON.stringify(o[y]))k[y]=g[y];
return k};bw.nx=function(g,o){var k=g.n9,y=-1;for(var m=0;m<k.length;m++)if(k[m].Name==o)y=m;if(y==-1){y=k.length;
k.push({FontType:1,Name:o,Script:0,Synthetic:0})}g.RY.Font=y};bw.fY=function(g){return g.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
bw.hG=function(g,k){g.EngineDict.Editor.Text=k.replace(/\n/g,"\r")};bw.sZ=function(g){return g.Curve&&g.Curve.TextOnPathTRange[0]>=0?2:g.EngineDict.Rendered.Shapes.Children[0].ShapeType};
bw.ms=function(g,k){var y=g.EngineDict.Rendered.Shapes.Children[0];y.ShapeType=k;var d=y.Cookie.Photoshop;
d.ShapeType=k;d.Base.ShapeType=k;if(k==0){delete d.BoxBounds;d.PointBase=[0,0]}if(k==1){delete d.PointBase;
d.BoxBounds=[0,0,1,1]}};bw.cO=function(g){return g.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
bw.Y$=function(g,k){g.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=k};bw.abp=function(g,k){var y=g.EngineDict.AlternateGlyphRun;
if(y==null)return-1;var d=bw.wn(y.RunLengthArray,k).yO;if(y.RunArray[d]==null)return-1;var b=y.RunArray[d].Glyph;
return b==null?-1:b};bw.ahd=function(g,k,y){var d=g.EngineDict.AlternateGlyphRun;if(d==null){d=g.EngineDict.AlternateGlyphRun=bw.awd();
d.RunArray.push({});d.RunLengthArray.push(bw.fY(g).length)}var b=bw.wn(d.RunLengthArray,k),T=b.yO,a=k-b.a2,t=d.RunArray[T],j=JSON.stringify(t),e=d.RunLengthArray[T];
if(a!=0){d.RunArray.splice(T,0,JSON.parse(j));d.RunLengthArray.splice(T,0,a);d.RunLengthArray[T+1]-=a;
T++;e-=a;a=0}if(e!=1){d.RunArray.splice(T+1,0,JSON.parse(j));d.RunLengthArray.splice(T+1,0,e-1);d.RunLengthArray[T]=1;
e=1}t.Glyph=y};bw.aav=function(g,k){var y=g.EngineDict.StyleRun.RunLengthArray;return bw.wn(y,k).yO};
bw.a0T=function(g,k){var y=g.ResourceDict.StyleSheetSet[0].StyleSheetData,d={};for(var b in y)d[b]=y[b];
var T=g.EngineDict.StyleRun.RunArray[k].StyleSheet.StyleSheetData;bw.zp(d,T);return d};bw.ajy=function(g,k){var y=g.EngineDict.ParagraphRun.RunLengthArray;
return bw.wn(y,k).yO};bw.anQ=function(g,k){var y=g.ResourceDict.ParagraphSheetSet[0].Properties,d={};
for(var b in y)d[b]=y[b];var T=g.EngineDict.ParagraphRun.RunArray[k].ParagraphSheet.Properties;bw.zp(d,T);
var a=["StartIndent","EndIndent","FirstLineIndent"];for(var m=0;m<3;m++)if(d[a[m]]==null)d[a[m]]=0;return d};
bw.pj=function(g,k,y){if(y=="")return;var d=bw.fY(g);bw.hG(g,d.substring(0,k)+y+d.substring(k,d.length));
var b=g.EngineDict.StyleRun,T=b.RunLengthArray,a=bw.wn(T,k-1);T[a.yO]+=y.length;var t=g.EngineDict.AlternateGlyphRun;
if(t){var T=t.RunLengthArray,a=bw.wn(T,k-1);T[a.yO]+=y.length}var j=g.EngineDict.ParagraphRun,T=j.RunLengthArray,e=bw.wn(T,k),v=y.split("\n");
if(v.length==1){T[e.yO]+=y.length;return}T.splice(e.yO+1,0,T[e.yO]-(k-e.a2));j.RunArray.splice(e.yO+1,0,bw.Ig(j.RunArray[e.yO]));
T[e.yO]-=T[e.yO+1];T[e.yO]+=v[0].length+1;for(var m=1;m<v.length-1;m++){j.RunArray.splice(e.yO+m,0,bw.Ig(j.RunArray[e.yO+m-1]));
j.RunLengthArray.splice(e.yO+m,0,v[m].length+1)}T[e.yO+v.length-1]+=v[v.length-1].length};bw.uW=function(g,k,y){var d=bw.fY(g);
bw.hG(g,d.substring(0,k)+d.substring(y,d.length));bw.qQ(g.EngineDict.ParagraphRun,k,y,!0);bw.qQ(g.EngineDict.StyleRun,k,y,!1);
var b=g.EngineDict.AlternateGlyphRun;if(b)bw.qQ(b,k,y,!1)};bw.qQ=function(g,o,k,y){var d=g.RunLengthArray,b=bw.wn(d,o),T=bw.wn(d,k),a=[];
for(var m=0;m<d.length;m++)for(var t=0;t<d[m];t++)a.push(m);a.splice(o,k-o);var j=[];for(var m=0;m<d.length;
m++)j.push(0);for(var m=0;m<a.length;m++)j[a[m]]++;for(var m=0;m<d.length;m++){if(j[m]==0){j.splice(m,1);
d.splice(m,1);g.RunArray.splice(m,1);m--}else if(j[m]<d[m])d[m]=j[m]}if(y&&b.yO!=T.yO&&b.a2!=o){d[b.yO]+=d[b.yO+1];
d.splice(b.yO+1,1);g.RunArray.splice(b.yO+1,1)}};bw.SX=function(g,k,y,d){var b=g.EngineDict.Editor.Text.length;
if(y==b-2)y++;if(d.RY.Font!=null)g.ResourceDict.FontSet=d.n9.slice(0);if(k<=y)bw.awu(g.EngineDict.StyleRun,d.RY,k,y,!0);
bw.awu(g.EngineDict.ParagraphRun,d.by,k,y,!1)};bw.DE=function(g,k,y){var d={n9:g.ResourceDict.FontSet.slice(0),RY:[],by:[]},b=g.EngineDict.StyleRun.RunLengthArray,T=bw.wn(b,k).yO,a=bw.wn(b,y).yO;
for(var m=T;m<=a;m++){var t=bw.Ig(g.ResourceDict.StyleSheetSet[0].StyleSheetData),j=g.EngineDict.StyleRun.RunArray;
if(j.length==0)continue;var e=j[m].StyleSheet.StyleSheetData;bw.zp(t,e);d.RY.push(t)}var v=g.EngineDict.ParagraphRun.RunLengthArray,L=bw.wn(v,k).yO,H=bw.wn(v,y).yO;
for(var m=L;m<=H;m++){var w=g.EngineDict.ParagraphRun.RunArray;if(w.length==0)continue;d.by.push(bw.Ig(w[m].ParagraphSheet.Properties))}d.RY=d.RY.length==0?{}:bw.x7(d.RY);
d.by=d.by.length==0?{}:bw.x7(d.by);return d};bw.awu=function(g,o,k,y,d){var b=g.RunLengthArray;if(d){var T=bw.wn(b,k);
if(T.a2!=k){var a=b[T.yO];b.splice(T.yO,0,k-T.a2);b[T.yO+1]=a-b[T.yO];g.RunArray.splice(T.yO+1,0,bw.Ig(g.RunArray[T.yO]))}var t=bw.wn(b,y);
if(t.a2+b[t.yO]-1!=y){var a=b[t.yO];b.splice(t.yO,0,y-t.a2+1);b[t.yO+1]=a-b[t.yO];g.RunArray.splice(t.yO+1,0,bw.Ig(g.RunArray[t.yO]))}}var T=bw.wn(b,k),t=bw.wn(b,y);
if(d)for(var m=T.yO;m<=t.yO;m++)bw.zp(g.RunArray[m].StyleSheet.StyleSheetData,o);else for(var m=T.yO;
m<=t.yO;m++)bw.zp(g.RunArray[m].ParagraphSheet.Properties,o)};bw.aua=function(g,k,y){var d=g.EngineDict.StyleRun.RunLengthArray,b=[],T=0;
for(var m=0;m<d.length;m++){var a=d[m];for(var t=0;t<a;t++)if(k<=T+t&&T+t<y)b.push(m);T+=a}var j=b[0],e=[];
for(var m=0;m<b.length;m++){var v=b[m]-j;if(v==e.length)e.push(0);e[v]++}return e};bw.ahi=function(g){var k=g.EngineDict.StyleRun,y=k.RunArray,d=k.RunLengthArray;
for(var m=0;m<d.length-1;m++){var b=y[m].StyleSheet.StyleSheetData,T=y[m+1].StyleSheet.StyleSheetData;
if(JSON.stringify(b)==JSON.stringify(T)){y.splice(m+1,1);d[m]+=d[m+1];d.splice(m+1,1);m--}}};bw.Vx=function(g){var o=g.f4.AntA.v.Annt;
o=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(o);if(o==-1)o=1;return o};bw.Cr=function(g,o){g.f4.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][o]};
bw._m=function(g,o){var k,y;k=["FontSize","Leading","BaselineShift","_LineWidth"];y=g.RY;for(var m=0;
m<k.length;m++)if(y[k[m]]!=null)y[k[m]]*=o;k=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
y=g.by;for(var m=0;m<k.length;m++)if(y[k[m]]!=null)y[k[m]]*=o};bw.arg=function(){return bw.DE(bw.ab9,0,0)};
bw.a7Q=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
bw.wn=function(g,o){var k=0,m=0;while(k+g[m]<=o){k+=g[m];m++}return{yO:m,a2:k}};bw.a8N=function(){var g=bw.Ig(this.ab9);
return g};bw.ax9=function(g,o){var k=o.by};bw.ack=function(g,o){var k=o.RY,y;y=g.Undl;if(y&&y.v.Undl=="underlineOnLeftInVertical")k.Underline=!0;
y=g.syntheticItalic;if(y)k.FauxItalic=y.v};bw.ayM={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
bw.abj={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
bw.awd=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};bw.ab9={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bw.ayM))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bw.ayM))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(bw.abj))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var iK={};iK.a9M=function(g){var o=iK.afz(g._0,g._1);iK.ai6(o,g._0);return o};iK.atp=function(g,o,k){var y={};
y._98={_0:"i7"};y._0=iK.ah8(g,o,k?k._0:null);y._1=iK.arj(g,o,y._0,k?k._1:null);return y};iK.ah8=function(g,o,k){var y={};
y._1=iK.au5(g,k?k._1:null);y._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};y._3=JSON.parse(JSON.stringify(iK.alq));
y._4=JSON.parse(JSON.stringify(iK.aci));y._5=iK.abC(g,y._1._0,k?k._5:null);y._6=iK.a7t(g,k?k._6:null);
y._8=iK.age(g,o,k?k._8:null);y._9=iK.amR;return y};iK.ai6=function(g,o){iK.az8(g,o._5,o._1._0)};iK.au5=function(g,o){var k=[],y=[];
for(var m=0;m<g.length;m++){var d=g[m].ResourceDict.FontSet;for(var b=0;b<d.length;b++){var T=d[b];if(y.indexOf(T.Name)!=-1)continue;
k.push(T);y.push(T.Name)}}var a={_0:[]};for(var m=0;m<k.length;m++){var t=k[m],j={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+t.Name,_1:"i"+t.Script,_2:"i"+t.FontType}}};
if(t.Script==0)delete j._0._0._1;a._0.push(j)}return a};iK.abC=function(g,o,k){var y={_0:[],_1:[]},d={_0:JSON.parse(JSON.stringify(iK.a7g))};
iK.afU(d._0,g[0].ResourceDict.StyleSheetSet[0],o,g[0].ResourceDict.FontSet);y._0.push(d);y._1.push({_0:"i0"});
y._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});y._1.push({_0:"i1"});return y};iK.az8=function(g,o,k){var y=o._0[0];
for(var m=0;m<g.length;m++)iK.ayi(y._0,g[m].ResourceDict.StyleSheetSet[0],k,g[m].ResourceDict.FontSet)};
iK.a7t=function(g,o){var k={_0:[],_1:[]},y={_0:JSON.parse(JSON.stringify(iK.Ml))};iK.Kf(y._0,g[0].ResourceDict.ParagraphSheetSet[0]);
k._0.push(y);k._1.push({_0:"i0"});y={_0:JSON.parse(JSON.stringify(iK.Ml))};iK.Kf(y._0,g[0].ResourceDict.ParagraphSheetSet[0]);
y._0._0="sBasic Paragraph";y._0._6="i0";k._0.push(y);k._1.push({_0:"i1"});return k};iK.age=function(g,o,k){var y={_0:[]};
for(var m=0;m<g.length;m++){var d=g[m].Curve,b={};y._0.push({_0:b});var T=bw.sZ(g[m]);b._2={};b._2._0="i"+T;
if(g[m]._LineOrientation==2)b._2._1="i2";if(T==0){b._2._6=["f-1","f-1"];b._2._11={_4:"i-1",_7:!1}}else if(T==1&&d==null){var a=bw.cO(g[m]),t=a[2],j=a[3];
b._1={_0:iK.zr("f",[0,0,0,0,t,0,t,0,t,0,t,0,t,j,t,j,t,j,t,j,0,j,0,j,0,j,0,j,0,0,0,0])};b._2._6=["f-2","f-2"];
b._2._11={_4:"i-2",_7:!1}}else if(T==1){var a=bw.cO(g[m]),t=a[2],j=a[3];b._1={_0:iK.zr("f",d.Points)};
b._2._6=["f-3","f-3"];b._2._11={_4:"i-3",_7:!1}}else if(T==2){b._1={_0:iK.zr("f",d.Points)};b._2._6=iK.zr("f",d.TextOnPathTRange);
b._2._11={_0:d.Reversed,_3:"i0",_5:"f0",_7:!1}}}return y};iK.arj=function(g,o,k,y){var d={};d._0=JSON.parse(JSON.stringify(iK.agu));
d._1=iK.amA(g,o,k,y?y._1:null);d._2=JSON.parse(JSON.stringify(iK.a7g._6));d._3=JSON.parse(JSON.stringify(iK.Ml._5));
return d};iK.afz=function(g,o){return iK.ade(g,o._1)};iK.amA=function(g,o,k,y){var d=[],b=k._1._0;for(var m=0;
m<g.length;m++){var T=g[m],a={_0:{}};d.push(a);a._0._0="s"+T.EngineDict.Editor.Text;a._0._0=a._0._0;
var t=a._0._5={_0:[]},j=T.EngineDict.ParagraphRun;for(var e=0;e<j.RunArray.length;e++){var v={_0:{}};
t._0.push(v);v._0._0={_0:"s",_5:{},_6:"i1"};iK.Kf(v._0._0,j.RunArray[e].ParagraphSheet);v._1="i"+j.RunLengthArray[e]}var L=a._0._6={_0:[]};
j=T.EngineDict.StyleRun;for(var e=0;e<j.RunArray.length;e++){var H={_0:{}};L._0.push(H);H._0._0={_0:"s",_5:"i1",_6:{}};
iK.afU(H._0._0,j.RunArray[e].StyleSheet,b,T.ResourceDict.FontSet);H._1="i"+j.RunLengthArray[e]}j=T.EngineDict.AlternateGlyphRun;
if(j){var w=a._0._9={_0:[]};for(var e=0;e<j.RunArray.length;e++){var P={_0:{}};w._0.push(P);var Q=j.RunArray[e];
if(Q.Glyph!=null){P._0._0={_0:"i"+Q.Glyph,_1:"e"}}P._1="i"+j.RunLengthArray[e]}}a._0._10={_0:"i4",_2:!0};
a._1=iK.view.ate(T,null,m,null)}return d};iK.ade=function(g,o){var k=[],y=g._1._0;for(var m=0;m<o.length;
m++){var d=bw.a8N();k.push(d);var b=o[m];d.EngineDict.Editor.Text=b._0._0.slice(1);var T=d.EngineDict.ParagraphRun.RunArray[0],a=d.EngineDict.ParagraphRun,t=b._0._5;
if(t)for(var j=0;j<t._0.length;j++){var e=t._0[j];a.RunLengthArray[j]=parseInt(e._1.slice(1));a.RunArray[j]=JSON.parse(JSON.stringify(T));
iK.ads(e._0._0,a.RunArray[j].ParagraphSheet)}else{a.RunLengthArray[0]=bw.fY(d).length}var v=b._0._6;
a=d.EngineDict.StyleRun;if(v)for(var j=0;j<v._0.length;j++){var L=v._0[j];a.RunLengthArray[j]=parseInt(L._1.slice(1));
a.RunArray[j]={StyleSheet:{StyleSheetData:{}}};iK.ayi(L._0._0,a.RunArray[j].StyleSheet,y,d.ResourceDict.FontSet)}else{a.RunLengthArray[0]=bw.fY(d).length;
a.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return k};iK.afU=function(g,o,k,y,d){g._0="s"+(o.Name?o.Name:"");
var b=g._6,T=d?d._6:null,a=o.StyleSheetData;if(a.Font==null)return;var t=y[a.Font].Name,j=-1;for(var m=0;
m<k.length;m++)if("s"+t==k[m]._0._0._0){j=m;break}b._0="i"+j;if(a.FontSize!=null)b._1="f"+a.FontSize;
if(a.FauxBold!=null)b._2=a.FauxBold;if(a.FauxItalic!=null)b._3=a.FauxItalic;if(a.AutoLeading!=null)b._4=a.AutoLeading;
if(a.Leading!=null)b._5="f"+a.Leading;if(a.HorizontalScale!=null)b._6="f"+a.HorizontalScale;if(a.VerticalScale!=null)b._7="f"+a.VerticalScale;
if(a.Tracking!=null)b._8="i"+a.Tracking;if(a.BaselineShift!=null)b._9="f"+a.BaselineShift;if(a.AutoKerning!=null)b._11="i"+(a.AutoKerning?1:0);
if(a.FontCaps!=null)b._12="i"+a.FontCaps;if(a.FontBaseline!=null)b._13="i"+a.FontBaseline;if(a.Strikethrough!=null)b._15="i"+(a.Strikethrough?1:0);
if(a.Underline!=null)b._16="i"+(a.Underline?2:0);if(a.Ligatures!=null)b._18=a.Ligatures;if(a.DLigatures!=null)b._19=a.DLigatures;
if(a.BaselineDirection!=null)b._35="i"+a.BaselineDirection;if(a.Language!=null)b._38="i"+a.Language;
if(a.FillColor!=null)b._53=iK.hT(a.FillColor);if(a.StrokeColor!=null)b._54=iK.hT(a.StrokeColor);if(a.FillFlag!=null)b._56=a.FillFlag;
if(a.StrokeFlag!=null)b._57=a.StrokeFlag;if(a._LineWidth!=null)b._63="f"+a._LineWidth;if(a._FillBackgroundColor!=null)b._79=iK.hT(a._FillBackgroundColor);
if(a._FillBackgroundFlag!=null)b._80=a._FillBackgroundFlag};iK.hT=function(g){return{_99:"/SimplePaint",_0:{_0:"i1",_1:iK.zr("f",g.Values)}}};
iK.ayi=function(g,o,k,y){var d=g._6;if(d==null)return;var b=o.StyleSheetData;if(d._0){var T=parseInt(d._0.slice(1)),a=k[T]._0._0._0.slice(1);
bw.nx({RY:b,n9:y},a)}if(d._1!=null)b.FontSize=parseFloat(d._1.slice(1));if(d._2!=null)b.FauxBold=d._2;
if(d._3!=null)b.FauxItalic=d._3;if(d._4!=null)b.AutoLeading=d._4;if(d._5!=null)b.Leading=parseFloat(d._5.slice(1));
if(d._6!=null)b.HorizontalScale=parseFloat(d._6.slice(1));if(d._7!=null)b.VerticalScale=parseFloat(d._7.slice(1));
if(d._8!=null)b.Tracking=parseFloat(d._8.slice(1));if(d._9!=null)b.BaselineShift=parseFloat(d._9.slice(1));
if(d._11!=null)b.AutoKerning=parseFloat(d._11.slice(1))==1;if(d._12!=null)b.FontCaps=parseFloat(d._12.slice(1));
if(d._13!=null)b.FontBaseline=parseFloat(d._13.slice(1));if(d._15!=null)b.Strikethrough=parseFloat(d._15.slice(1))==1;
if(d._16!=null)b.Underline=parseFloat(d._16.slice(1))==1;if(d._18!=null)b.Ligatures=d._18;if(d._19!=null)b.DLigatures=d._19;
if(d._35!=null)b.BaselineDirection=parseFloat(d._35.slice(1));if(d._38!=null)b.Language=parseFloat(d._38.slice(1));
if(d._53!=null)b.FillColor=iK.Y_(d._53);if(d._54!=null)b.StrokeColor=iK.Y_(d._54);if(d._56!=null)b.FillFlag=d._56;
if(d._57!=null)b.StrokeFlag=d._57;if(d._63!=null)b._LineWidth=parseFloat(d._63.slice(1));if(d._79!=null)b._FillBackgroundColor=iK.Y_(d._79);
if(d._80!=null)b._FillBackgroundFlag=d._80};iK.Y_=function(g){var o=g._0._0,k=g._0._1,y=[1,0,0,0],d=[];
for(var m=0;m<k.length;m++)d[m]=parseFloat(k[m].slice(1));if(o=="i0")y[1]=y[2]=y[3]=d[1];else if(o=="i1")y=d;
else if(o=="i2")y=[1].concat(UDOC.C.cmykToRgb(d.slice(1)));else console.log("unknown color type",o,d);
return{Type:1,Values:y}};iK.Kf=function(g,o){g._0="s"+(o.Name?o.Name:"");var k=g._5,y=o.Properties;if(y.Justification!=null)k._0="i"+y.Justification;
if(y.FirstLineIndent!=null)k._1="f"+y.FirstLineIndent;if(y.StartIndent!=null)k._2="f"+y.StartIndent;
if(y.EndIndent!=null)k._3="f"+y.EndIndent;if(y.SpaceBefore!=null)k._4="f"+y.SpaceBefore;if(y.SpaceAfter!=null)k._5="f"+y.SpaceAfter;
if(y.AutoLeading!=null)k._7="f"+y.AutoLeading;if(y.AutoHyphenate!=null)k._9=y.AutoHyphenate;if(y._Direction!=null)k._33="i"+y._Direction;
if(y._ComposerEngine!=null)k._35="i"+y._ComposerEngine};iK.ads=function(g,o){var k=g._5;if(k==null)return;
var y=o.Properties;if(k._0)y.Justification=parseInt(k._0.slice(1))};iK.zr=function(g,o){var k=[];for(var m=0;
m<o.length;m++)k.push(g+o[m]);return k};iK.alq={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
iK.aci={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
iK.a7g={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
iK.Ml={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
iK.amR={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
iK.agu={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var gF={};gF.ajk=function(g){return gF.V1(g,gF.dj,0)};gF.ac6=function(g){return gF.$h(g,gF.dj)};gF.V1=function(g,o,k){var y;
if(typeof g=="string")return g;if(g instanceof Array){y=[];for(var m=0;m<g.length;m++)y[m]=gF.V1(g[m],o,k+1)}else{y={};
var d={};for(var b in o){var T=o[b],a="_"+T[0];if(g[a]!=null){y[b]=T[1]?gF.V1(g[a],T[1],k+1):g[a];d[a]=!0}}for(var b in g){if(d[b]==null){if(b.length>3)continue;
console.log(o,d);console.log(b,g);throw"e"}}}return y};gF.$h=function(g,o){var k;if(typeof g=="string")return g;
else if(g instanceof Array){k=[];for(var m=0;m<g.length;m++)k[m]=gF.$h(g[m],o)}else{k={};var y={};for(var d in o){var b=o[d],T="_"+b[0];
if(g[d]!=null){k[T]=b[1]?gF.$h(g[d],b[1]):g[d];y[d]=!0}}for(var d in g){if(y[d]==null){console.log(o,y);
console.log(d,g);throw"e"}}}return k};gF.di={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
gF.Kt={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,gF.di],_StrokeColor:[54,gF.di],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,gF.di],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
gF.a1_={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,gF.Kt],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
gF.aud={_Name:[0],_Features:[5,gF.a1_],_Parent:[6],_UUID:[97]};gF.apH={_Name:[0],_Parent:[5],_Features:[6,gF.Kt],_UUID:[97]};
gF.dj={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,gF.apH]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,gF.aud]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_2:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_7:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,gF.aud]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,gF.apH]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,gF.Kt],_OriginalNormalParagraphFeatures:[3,gF.a1_]}]};
iK.view={};iK.view.ate=function(g,k,y,d){var b={},T=bw.sZ(g);b._0=[{_0:"i"+y}];return b};function CSS(){}CSS.ao2=function(g,o){var k=g.add,y=k.vmsk,d=k.vstk,b=k.lmfx,T=k.TySh,a=[],t=CSS.a43(b,k);
if(g.JW()&&y){var j=_.w.HM(y.a);if(!j.on()){a.push("width: "+Math.round(j.m)+"px");a.push("height: "+Math.round(j.n)+"px")}var e=_.w.aos(y.a);
if(e>0)a.push("border-radius: "+Math.round(e)+"px")}else if(T){var v=T.O7;if(bw.sZ(v)==1){var j=bw.cO(v);
a.push("width: "+Math.round(j[2])+"px");a.push("height: "+Math.round(j[3])+"px")}CSS.a20(a,bw.DE(v,0,0),T.D,!1,!1,t[0])}var L=CSS.afx(o,b);
if(L.length!=0)a.push("filter: "+L.join(" "));if(T==null)CSS.axz(t,a);if(d==null||!d.strokeEnabled.v)d=bs.Py(b);
if(d&&d.strokeEnabled.v){var H=d.strokeStyleContent.v,w=H.classID,P=iZ.X9.ia.indexOf(d.strokeStyleLineCapType.v.strokeStyleLineCapType),Q=iZ.X9.join.indexOf(d.strokeStyleLineJoinType.v.strokeStyleLineJoinType),x=d.strokeStyleOpacity.v.val/100,F=d.strokeStyleLineWidth.v.val,E="";
if(w=="solidColorLayer")E=CSS.sl(H.Clr.v,x);a.push("border: "+F+"px solid "+E)}return a};CSS.afx=function(g,o){var k=[];
if(o==null||!o.masterFXSwitch.v)return[];var y=o?o.dropShadowMulti.v:[];for(var m=0;m<y.length;m++){var d=y[m].v;
if(d.enab.v){var b=d.Dstn.v.val,T=d.lagl.v.val*Math.PI/180;if(d.uglg&&d.uglg.v)T=g.rl()*Math.PI/180;
var a=b*Math.cos(T),t=b*Math.sin(T);k.push("drop-shadow("+(a==0?"0 ":CSS.a11(-a)+"px ")+(t==0?"0 ":CSS.a11(t)+"px ")+d.blur.v.val/2+"px "+CSS.sl(d.Clr.v,d.Opct.v.val/100)+")")}}return k};
CSS.a43=function(g,o){var k=bs.uO(g,o),y=k[0],d=k[1],b,T;if(y){b=CSS.sl(y.Clr.v,o.iOpa!=null?o.iOpa/255:1)}else if(d){T=CSS.apn(d)}return[b,T]};
CSS.axz=function(g,o){if(g[0])o.push("background-color: "+g[0]);if(g[1])o.push("background-image: "+g[1])};
CSS.vY={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.a11=function(cy){return""+parseFloat(cy.toFixed(3))};CSS.QK=function(g){if(g==null)return{o:0,C:0,k:0};
var o=g.indexOf("(");if(o!=-1){var k=g.slice(o+1,g.length-1).split(",");for(var m=0;m<k.length;m++){var y=k[m].trim();
k[m]=parseFloat(y)*(y.endsWith("%")?255/100:1)}return{o:k[0],C:k[1],k:k[2]}}if(g.charAt(0)!="#"){var d=CSS.vY;
if(d[g])g=d[g];else console.log("unknown color "+g)}g=g.slice(1);if(g.length==4)g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]+g[3]+g[3];
if(g.length==3)g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2];var b=-1;if(g.length==8){b=parseInt(g.slice(6),16);g=g.slice(0,6)}g=parseInt(g,16);
var T={o:g>>16&255,C:g>>8&255,k:g&255};if(b!=-1)T.Ng=b;return T};CSS.sl=function(g,o){return CSS.pT(_.M.sL(g),o)};
CSS.pT=function(g,o){if(o==null)o=1;var k=Math.round(g.o),y=Math.round(g.C),d=Math.round(g.k),b=k<<16|y<<8|d;
return o==1?"#"+_.Mb(b):"rgba("+k+","+y+","+d+","+o+")"};CSS.apn=function(g){var o=g.Grad.v;if(o.Clrs==null)return"";
var k=o.Clrs.v.slice(0),y=o.Trns.v.slice(0),d=g.Ofst.v,b=g.Type.v.GrdT=="Rdl"?1:0,T=(b==1?"radial":"linear")+"-gradient",a=b==0?Math.round(-g.Angl.v.val+90)+"deg":"circle at center",t=g.Rvrs.v,j=_.M.sK(o,t);
for(var m=0;m<j.length;m++){var e=j[m],v=e[1];a+=", "+CSS.pT({o:v[0]*255,C:v[1]*255,k:v[2]*255},e[2])+" "+Math.round(e[0]*100)+"%"}return T+"("+a+")"};
CSS.a20=function(g,o,k,y,d,b){var T=o.RY,a=y?1:k.Va(),t=Math.round(T.FontSize*a);g.push("font-size: "+t+"px");
var j=T.Tracking;if(!y&&j!=null&&j!=0)g.push("letter-spacing: "+Math.round(j*t/1e3)+"px");if(!T.AutoLeading)g.push("line-height: "+Math.round(T.Leading*a)+"px");
if(T.Strikethrough)g.push("text-decoration: line-through");if(T.Underline)g.push("text-decoration: underline");
var e=bw.sL(T.FillColor);e=[e.o,e.C,e.k].map(Math.round);g.push((y?"fill: ":"color: ")+(b?b:"#"+_.Mb(e[0]<<16|e[1]<<8|e[2])));
var v=o.n9[T.Font].Name;if(v){var L=d_.jT.xT(v),H="",w=null,P=null;if(L!=null&&v!=d_.hY(L))L=null;if(d&&L)H+="\""+v+"\", ";
var Q=v.toLowerCase();if(L){w=d_.W3(L)[0];if(L["OS/2"])P=L["OS/2"].usWeightClass}else{w=CSS.aks(v);if(Q.indexOf("light")!=-1)P=300;
else if(Q.indexOf("medium")!=-1)P=500;else if(Q.indexOf("black")!=-1||Q.indexOf("extrabold")!=-1)P=800;
else if(Q.indexOf("bold")!=-1)P="bold"}if(w!=null)H+="\""+w+"\"";if(P!=null)g.push("font-weight: "+P);
if(Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1)g.push("font-style: italic");if(H)g.push("font-family: "+H)}var x=o.by.Justification;
if(x!=null&&x!=0)if(y){}else g.push("text-align: "+["left","right","center"][x%3])};CSS.aks=function(g){g=g.split("-")[0];
while(g.endsWith("MT")||g.endsWith("PS"))g=g.slice(0,g.length-2);var o=!0;for(var m=0;m<g.length;m++){var k=g.charAt(m);
if(!o&&k.toLowerCase()!=k){g=g.slice(0,m)+" "+g.slice(m);m++;o=!0}else o=!1}return g};function iA(){}iA.IU={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
iA.dO=function(g,o){var k=Date.now(),y=g.split("\n"),d;for(var m=0;m<y.length;m++)if(y[m].trim()[0]=="#"){y[m]=""}g=y.join("\n");
try{d=acorn.parse(g)}catch(d9){console.log(d9);return}var b=JSON.parse(JSON.stringify(iA.j0.yK));b.__return=!1;
b.__continue=!1;b.__break=!1;b.__throw=!1;b.__fs={};b.__window={};iA.eval(d,o,b);var T=b.__fs;if(Object.keys(T).length!=0){var a=UZIP.encode(T);
ap.save(a,"output.zip")}};iA.eval=function(g,o,k){var y=g.type;if(!1){}else if(y=="Program"||y=="BlockStatement"){var d=g.body;
for(var m=0;m<d.length;m++){var b=d[m].type;if(b=="FunctionDeclaration")k[d[m].id.name]=d[m]}for(var m=0;
m<d.length;m++){var b=d[m].type,T=iA.eval(d[m],o,k);if(k.__continue){k.__continue=!1;return T}if(k.__return||k.__break||k.__throw)return T}}else if(y=="ReturnStatement"){k.__return=!0;
return g.argument?iA.Xu(g.argument,o,k):null}else if(y=="BreakStatement"){k.__break=!0}else if(y=="ContinueStatement"){k.__continue=!0}else if(y=="VariableDeclaration"){var a=g.declarations;
for(var m=0;m<a.length;m++)iA.eval(a[m],o,k)}else if(y=="VariableDeclarator"){k[g.id.name]=g.init?iA.Xu(g.init,o,k):null}else if(y=="FunctionDeclaration"){k[g.id.name]=g}else if(y=="MemberExpression"){var t=iA.Xu(g.object,o,k),j=g.computed?iA.Xu(g.property,o,k):iA.eval(g.property,o,k),T;
if(t.sv!=null)T=iA.j0.P5(t,j,o,k);else if(t==window&&iA.IU[j]){}else T=t[j];return T}else if(y=="ArrayExpression"){var e=[],v=g.elements;
for(var m=0;m<v.length;m++)e.push(iA.Xu(v[m],o,k));return e}else if(y=="ObjectExpression"){var e={},v=g.properties;
for(var m=0;m<v.length;m++){var L=v[m],H=v[m].key.name?v[m].key.name:v[m].key.value;e[H]=iA.Xu(v[m].value,o,k)}return e}else if(y=="ExpressionStatement"){return iA.eval(g.expression,o,k)}else if(y=="NewExpression"){var w=g.arguments,P=g.callee,Q=P.type,x=P.name,F=[],e=null;
for(var m=0;m<w.length;m++)F.push(iA.Xu(w[m],o,k));if(x=="Array")e=new window[x];else if(Q=="Identifier")e=iA.j0.a6f(x,F,o,k);
else throw"e";if(e==null)throw"new "+x;return e}else if(y=="CallExpression"){var w=g.arguments,P=g.callee,Q=P.type,E={};
for(var f in k)E[f]=k[f];var F=[];for(var m=0;m<w.length;m++)F.push(iA.Xu(w[m],o,k));if(Q=="Identifier"){var c=P.name,M=k[c];
if(M){if(M.params){var n=M.params;for(var m=0;m<n.length;m++)E[n[m].name]=F[m];return iA.eval(M.body,o,E)}else{return M.apply(null,F)}}else if(iA.j0.ark.indexOf(c)!=-1)return iA.j0.S1({sv:"Application"},c,F,o,k);
else if(window[c]==null)console.log("Unknown function "+c);else if(iA.IU[c])alert(c+"() not available");
else{var X=window[c].apply(window,F);return X}}else if(Q=="MemberExpression"){var t=iA.Xu(P.object,o,k),j=P.computed?iA.Xu(P.property,o,k):iA.eval(P.property,o,k);
if(t==window&&iA.IU[j])return;if(t.sv!=null)return iA.j0.S1(t,j,F,o,k);else if(j=="sort"&&t[0]&&t[0].sv=="Layer"){return t.sort(function(Y,l){return Y.Z.getName()>l.Z.getName()?1:-1})}else return t[j].apply(t,F)}else if(Q=="FunctionExpression"){return iA.eval(P.body,o,k)}else console.log(g)}else if(y=="AssignmentExpression"){var u=g.operator,I=g.left,r=I.type,J=iA.Xu(I,o,k),U=iA.Xu(g.right,o,k),T=null;
if(!1){}else if(u=="=")T=U;else if(u=="+=")T=J+U;else if(u=="-=")T=J-U;else if(u=="*=")T=J*U;else if(u=="/=")T=J/U;
else if(u=="%=")T=J%U;else if(u=="&=")T=J&U;else if(u=="|=")T=J|U;else if(u=="&&=")T=J&&U;else if(u=="||=")T=J||U;
else console.log(g);if(r=="Identifier"){var K=I.name;if(k.hasOwnProperty(K))k[K]=T;else k.__window[K]=T}else if(r=="MemberExpression"){var i=iA.eval(I.property,o,k),z=iA.Xu(I.object,o,k);
if(z.sv!=null)iA.j0.aly(z,i,T,o,k);else z[i]=T}else console.log(g)}else if(y=="Identifier")return g.name;
else if(y=="Literal")return g.value;else if(y=="UpdateExpression"){var u=g.operator,h=g.argument.name,e=iA.Xu(g.argument,o,k),R=k;
if(R[h]==null)R=k.__window;if(!1){}else if(u=="++"){R[h]++;return g.prefix?R[h]:R[h]-1}else if(u=="--"){R[h]--;
return g.prefix?R[h]:R[h]+1}else console.log(g)}else if(y=="UnaryExpression"){var u=g.operator,C=iA.Xu(g.argument,o,k);
if(C.sv=="UnitValue"){if(u=="-")return-C.Z;else return iA.ato(C.Z,u)}else return iA.ato(C,u)}else if(y=="BinaryExpression"||y=="LogicalExpression"){var u=g.operator,I=iA.Xu(g.left,o,k),C=iA.Xu(g.right,o,k);
if(I==null||C==null)return iA.dI(I,C,u);else if(I.sv=="UnitValue"&&C.sv=="UnitValue")return iA.dI(I.Z,C.Z,u);
else if(I.sv=="UnitValue")return iA.dI(I.Z,C,u);else if(C.sv=="UnitValue"){if(u=="-")return-(I-C.Z);
else return iA.dI(I,C.Z,u)}else return iA.dI(I,C,u)}else if(y=="IfStatement"){var G=iA.Xu(g.test,o,k);
if(G)return iA.eval(g.consequent,o,k);else if(g.alternate)return iA.eval(g.alternate,o,k)}else if(y=="ConditionalExpression"){var G=iA.Xu(g.test,o,k);
if(G)return iA.Xu(g.consequent,o,k);else if(g.alternate)return iA.Xu(g.alternate,o,k)}else if(y=="ForInStatement"){iA.eval(g.left,o,k);
var W=g.left.declarations[0].id.name,A=iA.Xu(g.right,o,k);for(var f in A){k[W]=f;var $=iA.eval(g.body,o,k);
if(k.__break)break;if(k.__return)return $}k.__break=!1}else if(y=="ForStatement"){iA.eval(g.init,o,k);
while(iA.eval(g.test,o,k)){var $=iA.eval(g.body,o,k);if(k.__break)break;if(k.__return)return $;iA.eval(g.update,o,k)}k.__break=!1}else if(y=="DoWhileStatement"){do{var $=iA.eval(g.body,o,k);
if(k.__break)break;if(k.__return)return $}while(iA.eval(g.test,o,k));k.__break=!1}else if(y=="TryStatement"){iA.eval(g.block,o,k);
if(k.__throw){var O=g.handler;k[O.param.name]=k.__throw;k.__throw=!1;iA.eval(O.body,o,k);delete k[O.param.name]}}else if(y=="EmptyStatement"){}else console.log(g)};
iA.dI=function(g,o,k){if(k=="+")return g+o;else if(k=="-")return g-o;else if(k=="*")return g*o;else if(k=="/")return g/o;
else if(k=="%")return g%o;else if(k=="^")return g^o;else if(k=="&")return g&o;else if(k=="&&")return g&&o;
else if(k=="|")return g|o;else if(k=="||")return g||o;else if(k=="<")return g<o;else if(k==">")return g>o;
else if(k=="=="){if(g.sv&&o.sv)return g.Z==o.Z;return g==o}else if(k=="===")return g===o;else if(k=="<=")return g<=o;
else if(k==">=")return g>=o;else if(k=="!=")return g!=o;else if(k=="!==")return g!==o;else if(k=="<<")return g<<o;
else if(k==">>")return g>>o;else console.log(k)};iA.ato=function(g,o){if(o=="-")return-g;else if(o=="!")return!g;
else if(o=="~")return~g;else if(o=="+")return g;else if(o=="typeof")return typeof g;else console.log(o,g)};
iA.Xu=function(g,o,k){var y=g.type;if(y=="Identifier")return iA.a2G(g.name,o,k);else return iA.eval(g,o,k)};
iA.a2G=function(g,o,k){if(g=="undefined")return undefined;else if(k.hasOwnProperty(g))return k[g];else if(g=="app")return{sv:"Application"};
else if(g=="Folder")return{sv:"Folder"};else if(g=="$")return{sv:"$"};else if(iA.j0.aaB.indexOf(g)!=-1)return iA.j0.P5({sv:"Application"},g,o,k);
else if(k.__window.hasOwnProperty(g))return k.__window[g];else if(window[g]&&!iA.IU[g])return window[g];
else{k[g]=null;return null}};iA.j0={};iA.j0.a6f=function(g,o,k,y){var d;if(g=="SolidColor")d={sv:g,Z:[1,0,0,0]};
if(g=="RGBColor")d={sv:g,Z:[1,0,0,0]};if(g=="Window")d={sv:g,Z:new jq(o[0],o[1],o[2])};if(g=="ExportOptionsSaveForWeb")d={sv:g,Z:{dv:"png",Uw:100}};
if(g=="PhotoshopSaveOptions")d={sv:g,Z:{dv:"psd"}};if(g=="PNGSaveOptions")d={sv:g,Z:{dv:"png",Uw:100}};
if(g=="JPEGSaveOptions")d={sv:g,Z:{dv:"jpg",Uw:100}};if(g=="PDFSaveOptions")d={sv:g,Z:{dv:"pdf",ajo:""}};
if(g=="File")d={sv:g,Z:o[0]};if(g=="ActionReference")d={sv:g,Z:[]};if(g=="ActionDescriptor")d={sv:g,Z:{}};
if(g=="ActionList")d={sv:g,Z:[]};if(g=="UnitValue")d={sv:g,Z:o.length==0?0:parseFloat(o[0])};return d};
iA.j0.aaB="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
iA.j0.ark="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
iA.j0.P5=function(g,o,k,y){var d=k.Oj,b=k.qq();if(!1){}else if(o=="typename"){if(g.sv=="Layer")return g.Z.gT()?"LayerSet":"ArtLayer";
else return g.sv}else if(["Document","Layer"].indexOf(g.sv)!=-1&&["layers","artLayers","layerSets"].indexOf(o)!=-1){var T=b;
if(g.sv=="Document")T=g.Z;else T=g.TX;var a=T.root,t={sv:"Layers",a7X:o,Z:[],TX:T};if(g.sv=="Layer")a=T.root.St(T.d.indexOf(g.Z));
if(a.children==null)return null;for(var m=0;m<a.children.length;m++){var j=a.children[m].i,e=j.gT();
if(e&&o=="artLayers"||!e&&o=="layerSets")continue;t.Z.push({sv:"Layer",Z:j,TX:T})}t.Z.reverse();return t}else if(g.sv=="Documents"||g.sv=="Layers"||g.sv=="HistoryStates"||g.sv=="LayerComps"){if(!1){}else if(o=="length")return g.Z.length;
else if(Number.isInteger(o))return g.Z[o];else console.log(g.sv+": unknown property ",o)}else if(g.sv=="Application"){if(!1){}else if(o=="activeDocument")return{sv:"Document",Z:k.qq()};
else if(o=="documents"){var t={sv:"Documents",Z:[]};for(var m=0;m<k._f.length;m++)t.Z.push({sv:"Document",Z:k._f[m]});
return t}else if(o=="fonts")return{sv:"TextFonts"};else if(o=="preferences")return{sv:"Preferences"};
else if(o=="displayDialogs")return{sv:"DialogModes"};else if(o=="foregroundColor"||o=="backgroundColor"){var v=o[0]=="f"?d.p2:d.Pp;
return{sv:"SolidColor",Z:[1,(v>>>16&255)/255,(v>>>8&255)/255,(v>>>0&255)/255]}}else if(o=="UI")return{sv:"UI"};
else if(o=="version")return 30;else console.log(g,o)}else if(g.sv=="Document"){var b=g.Z;if(!1){}else if(o=="activeLayer"){var j=b.d[b.g[0]];
return{sv:"Layer",Z:j,TX:b}}else if(o=="resolution")return b.Qb;else if(o=="width")return b.m;else if(o=="height")return b.n;
else if(o=="name")return b.name;else if(o=="saved")return!b.kR();else if(o=="selection")return{sv:"Selection"};
else if(o=="activeHistoryState")return{sv:"HistoryState",Sp:b.mQ};else if(o=="source")return b.YA;else if(o=="layerComps"){var L=b.M9.list.v,H=[];
for(var m=0;m<L.length;m++)H.push({sv:"LayerComp",Z:m});return{sv:"LayerComps",Z:H}}else if(o=="historyStates"){var w=[];
for(var m=0;m<b.history.length;m++)w.push({sv:"HistoryState",Sp:m});return{sv:"HistoryStates",Z:w}}else if(o=="mode")return 7;
else console.log(g,o)}else if(g.sv=="LayerComp"){if(o=="name")return b.M9.list.v[g.Z].v.Nm.v;else throw o}else if(g.sv=="Layer"){var P={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},j=g.Z;
if(!1){}else if(o=="visible")return j.oa();else if(o=="selected")return b.g.indexOf(b.d.indexOf(j))!=-1;
else if(o=="grouped")return j.Le;else if(P[o]!=null)return j.RA(P[o]);else if(o=="opacity")return j.opacity*100/255;
else if(o=="blendMode")return j.HW;else if(o=="name")return j.getName();else if(o=="textItem")return{sv:"TextItem",Z:j};
else if(o=="bounds"){var Q=D.C8.B2(b,[b.d.indexOf(j)]);return iA.j0.a9v(Q,b)}else if(o=="parent"){var x=k._f,T;
for(var m=0;m<x.length;m++)if(x[m].d.indexOf(j)!=-1)T=x[m];var F=T.root.St(T.d.indexOf(j)).parent;return F.depth==0?{sv:"Document",Z:T}:{sv:"Layer",Z:F.i,TX:T}}else if(o=="kind"){var E=iA.j0.lq;
for(var m=0;m<E.length;m++)if(j.add[E[m]]!=null)return m;return 0}else if(o=="isBackgroundLayer")return j.add.lnsr="bgnd";
else console.log(g,o)}else if(g.sv=="Selection"){if(!1){}else if(o=="bounds"){if(b.J==null)y.__throw={message:"no selection"};
else return iA.j0.a9v(b.J.rect,b)}else console.log(g,o)}else if(g.sv=="TextItem"){var f=g.Z.add.TySh,c=f.O7,M=bw.fY(c),n=f.D.Va(),X=bw.DE(c,0,Math.max(0,M.length-2));
if(o=="contents")return M.slice(0,M.length-1).replace(/\n/g,"\r");else if(o=="font")return X.RY.Font!=null?X.n9[X.RY.Font].Name:null;
else if(o=="size")return iA.j0.pp(X.RY.FontSize*n,b);else if(o=="leading")return iA.j0.pp(X.RY.Leading*n,b);
else if(o=="tracking")return iA.j0.pp(X.RY.Tracking);else if(o=="baselineShift")return iA.j0.pp(X.RY.BaselineShift);
else if(o=="fauxBold")return X.RY.FauxBold;else if(o=="fauxItalic")return X.RY.FauxItalic;else if(o=="kind")return 1-bw.sZ(c);
else if(o=="useAutoLeading")return X.by.AutoLeading;else if(o=="hyphenation")return X.by.AutoHyphenate;
else if(o=="justification")return iA.j0.pp(X.by.Justification);else if(o=="color")return{sv:"SolidColor",Z:X.RY.FillColor.Values.slice(0)};
else if(o=="width"||o=="height"){var u=bw.cO(c),I=(u[2]-u[0])*n,r=(u[3]-u[1])*n;return iA.j0.pp(o=="width"?I:r,b)}else if(o=="position"){var J=f.D;
return iA.j0.acB([J.ii,J.xF],b)}else if(o=="horizontalScale"||o=="verticalScale"){var U=o[0].toUpperCase()+o.slice(1);
return Math.round(X.RY[U]*100)}else if(o=="antiAliasMethod")bw.Vx(f);else if(o=="totalTextStyle"){var t={};
for(var K=0;K<2;K++){var i=["Style","Paragraph"][K],z=c.EngineDict[i+"Run"].RunLengthArray,h=[],R=0;
for(var m=0;m<z.length;m++){var C=bw.DE(c,R,Math.min(R+z[m],M.length-2));R+=z[m];h.push(K==0?C.RY:C.by);
t.fontSet=C.n9}t[i]={runs:z,styles:h}}return JSON.stringify(t)}else if(o=="transform"){var J=f.D;return JSON.stringify([J.Ng,J.k,J._I,J.vP,J.ii,J.xF])}else console.log(g,o)}else if(g.sv=="Preferences"){if(o=="rulerUnits")return d.Nn.rx;
else console.log(g,o)}else if(g.sv=="SolidColor"){if(o=="rgb")return{sv:"RGBColor",Z:g.Z};else console.log(g,o)}else if(g.sv=="RGBColor"){var Q=Math.round(255*g.Z[1]),G=Math.round(255*g.Z[2]),W=Math.round(255*g.Z[3]);
if(!1){}else if(o=="red")return Q;else if(o=="green")return G;else if(o=="blue")return W;else if(o=="hexValue")return"#"+_.Mb(Q<<16|G<<8|W).toUpperCase();
else console.log(g,o)}else if(g.sv=="UnitValue"){if(o=="value")return g.Z;else throw"e"}else if(g.sv=="ExportOptionsSaveForWeb"){if(o=="format")return g.Z.dv;
else if(o=="PNG8"||o=="interlaced")return!1;else if(o=="quality")return g.Z.Uw;else if(o=="transparency")return!0;
else throw o}else if(g.sv=="PNGSaveOptions"||g.sv=="JPEGSaveOptions"||g.sv=="PDFSaveOptions"){return 0}else if(g.sv=="$"){if(o=="localize")return!1}else if(g.sv=="ActionList"){if(o=="count")return g.fj.length;
else throw o}else console.log(g,o)};iA.j0.a9v=function(g,o){return iA.j0.acB([g.x,g.y,g.x+g.m,g.y+g.n],o)};
iA.j0.acB=function(g,o){var k=[];for(var m=0;m<g.length;m++)k.push(iA.j0.pp(g[m],o));return k};iA.j0.asy=function(g){var o=[];
for(var m=0;m<g.length;m++)o.push(g[m].sv?g[m].Z:g[m]);return o};iA.j0.pp=function(g,o){return{sv:"UnitValue",Z:g}};
iA.j0.agC=function(g,o){if(g.sv=="UnitValue")return g.Z;return g};iA.j0.aly=function(g,o,k,y,d){var b=new jB(N.E.L,!0),T=new jB(N.E.s,!0),a=y.qq(),t=y.Oj;
if(!1){}else if(g.sv=="Application"){if(!1){}else if(o=="activeDocument"){T.data={P:N.b.I8,po:k.Z};y.S(T)}else if(o=="displayDialogs"){}else if(o=="foregroundColor"||o=="backgroundColor"){var j=k.Z,e=j[1]*255<<16|j[2]*255<<8|j[3]*255<<0;
T.data={P:N.b.pB,Q6:er.wp,cL:o=="foregroundColor"?0:1,Z:e};y.S(T)}else console.log(g,o,k)}else if(g.sv=="Document"){var v=g.Z;
if(!1){}else if(o=="name"){b.G=D.Jn;b.data={P:p.n1,Z:k,ah1:!0,qN:v};a.pP=!0}else if(o=="source")v.YA=k;
else if(o=="activeLayer"){v.g=[v.d.indexOf(k.Z)]}else if(o=="activeHistoryState"){b.G=D.C1;b.data={P:"h_itemchange",index:k.Sp}}else console.log(g,o)}else if(g.sv=="Layer"){b.G=D.Jn;
var L={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},H=g.Z,w=a.d.indexOf(H);
if(!1){}else if(o=="visible"){if(H.oa()!=k)b.data={P:p.HF,i:w}}else if(o=="opacity"){b.data={P:p._z,i:w,M$:Math.round(255*k/100)}}else if(o=="blendMode"){b.data={P:p.FV,i:w,M$:h8.re.indexOf(k)}}else if(o=="name"){b.data={P:p.$S,i:w,name:k}}else if(L[o]!=null){b.data={P:p.hw,i:w,M$:[[k],[L[o]]]}}else if(o=="kind"){b.data={P:p.f1,i:w,eH:iA.j0.lq[k]}}else if(o=="grouped"){b.data={P:p.Uq,i:w,M$:k}}else console.log(g,o,k)}else if(g.sv=="TextItem"){b.G=D.uk;
var H=g.Z,P=H.add.TySh,Q=JSON.parse(JSON.stringify(P.O7)),x=P.D.clone(),F=P.D.Va(),f=bw.fY(Q),c=bw.DE(Q,0,f.length-2),M=!1;
if(!1){}else if(o=="contents"){bw.uW(Q,0,f.length-1);bw.pj(Q,0,k.replace(/\r/g,"\n"))}else if(o=="size"){c.RY.FontSize=(k.Z!=null?k.Z:k)/F;
M=!0}else if(o=="leading"){c.RY.Leading=(k.Z!=null?k.Z:k)/F;M=!0}else if(o=="tracking"){c.RY.Tracking=k.Z!=null?k.Z:k;
M=!0}else if(o=="baselineShift"){c.RY.BaselineShift=k.Z!=null?k.Z:k;M=!0}else if(o=="fauxBold"){c.RY.FauxBold=k;
M=!0}else if(o=="fauxItalic"){c.RY.FauxItalic=k;M=!0}else if(o=="kind"){var n=bw.sZ(Q);if(n==1&&k==1){var X=new dR(Q,y.Oj.At).by[0],u=X.RJ[0].end,I=X.p3[u-1].end;
bw.uW(Q,0,f.length-1);bw.pj(Q,0,f.slice(0,I-1))}if(n==k)bw.ms(Q,1-k)}else if(o=="useAutoLeading"){c.by.AutoLeading=k;
M=!0}else if(o=="hyphenation"){c.by.AutoHyphenate=k;M=!0}else if(o=="justification"){c.by.Justification=k;
M=!0}else if(o=="font"){bw.nx(c,k);M=!0}else if(o=="color"){c.RY.FillColor.Values=k.Z.slice(0);M=!0}else if(o=="width"||o=="height"){var r=bw.cO(Q).slice(0),J=iA.j0.agC(k);
if(o=="width")r[2]=Math.round(r[0]+J/F);else r[3]=Math.round(r[1]+J/F);bw.Y$(Q,r)}else if(o=="position"){x.ii=k[0];
x.xF=k[1]}else if(o=="horizontalScale"||o=="verticalScale"){var U=o[0].toUpperCase()+o.slice(1);c.RY[U]=k/100;
M=!0}else if(o=="antiAliasMethod")bw.Cr(P,k);else console.log(g,o,k);if(M)bw.SX(Q,0,f.length-1,c);b.data={P:"newED",Fa:a.d.indexOf(H),hJ:Q,D:x}}else if(g.sv=="Preferences"){if(!1){}else if(o=="rulerUnits"){var K=JSON.parse(JSON.stringify(t.Nn));
K.rx=k;T.data={P:N.b.pB,Q6:er.iu,M$:K};y.S(T)}else console.log(g,o,k)}else if(g.sv=="SolidColor"){if(o=="rgb")g.Z=k.Z;
else throw o}else if(g.sv=="RGBColor"){if(!1){}else if(o=="red")g.Z[1]=k/255;else if(o=="green")g.Z[2]=k/255;
else if(o=="blue")g.Z[3]=k/255;else if(o=="hexValue"){var i=_.im(k.slice(1));g.Z[1]=(i>>>16&255)/255;
g.Z[2]=(i>>>8&255)/255;g.Z[3]=(i>>>0&255)/255}else console.log(g,o)}else if(g.sv=="ExportOptionsSaveForWeb"){if(o=="format")g.Z.dv=k;
else if(o=="PNG8"||o=="transparency"||o=="interlaced"){}else if(o=="quality")g.Z.Uw=k;else throw o}else if(g.sv=="PNGSaveOptions"||g.sv=="JPEGSaveOptions"){if(o=="quality")g.Z.Uw=Math.round(100*k/12)}else if(g.sv=="PDFSaveOptions"){if(o=="preset")g.Z.ajo=k}else if(g.sv=="$"){if(o=="localize"){}}else console.log(g,o,k);
if(b.data!=null)y.S(b)};iA.j0.S1=function(g,o,k,y,d){var b=g.sv,T=null,a=new jB(N.E.L,!0),t=new jB(N.E.gp,!0),j=new jB(N.E.s,!0),e=y.qq(),v=y._f;
if(!1){}else if(b=="Application"){if(!1){}else if(o=="charIDToTypeID"){var L=k[0].trim(),H={slct:"select",Dlt:"delete",Mk:"make"};
return H[L]?H[L]:L}else if(o=="stringIDToTypeID"){var w=k[0].trim(),H={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},P=H[w];
return P==null?w:P}else if(o=="typeIDToStringID"){return k[0].trim()}else if(o=="executeAction"){console.log(k);
var Q;if(k[1]){Q=k[1].Z;Q.classID=k[0]}var x={setd:"set"},F=x[k[0]];if(F==null)F=k[0];var f=aj.wf[k[0]];
if(f&&aj.tb[f])F=aj.tb[f];t.data={J5:F,fV:Q}}else if(o=="executeActionGet"){return{sv:"ActionDescriptor",Z:{classID:"null",null:{t:"obj ",v:k[0].Z}},fj:e.d[e.g[0]]}}else if(o=="doAction"){j.data={P:N.b.P9,Q9:[k[0],k[1]]}}else if(o=="bringToFront"){}else if(o=="open"){j.data={P:N.b.VI,Q6:{url:k[0]}};
if(k[2]&&v.length!=0)j.data.Q6.zT=v.indexOf(e)}else if(o=="echoToOE"){j.data={P:N.b.QW,Q6:k[0]}}else console.log(o)}else if(b=="LayerComp"){if(o=="apply"){a.G=D.ka;
a.data={P:"setLC",Sp:e.M9.list.v[g.Z].v.compID.v}}else throw o}else if(b=="Document"){var e=g.Z;if(!1){}else if(o=="crop"){t.data=D.Wz.ai1(k[0])}else if(o=="trim"){var c=[];
for(var m=0;m<4;m++)c.push(k[m+1]!=null?k[m+1]:!0);t.data=D.Wz.Zi(k[0]!=null?k[0]:0,c)}else if(o=="suspendHistory"){var M=acorn.parse(k[1]);
iA.eval(M,y,d)}else if(o=="save"){j.data={P:N.b.kG}}else if(o=="saveToOE"){j.data={P:N.b.kG,cK:k}}else if(o=="rotateCanvas"){t.data=D.C8.ql(!0,k[0])}else if(o=="resizeImage"||o=="resizeCanvas"){var n=k[0],X=k[1];
if(typeof n!="number"){n=e.m*parseFloat(n.slice(0,n.length-1))/100;X=e.n*parseFloat(X.slice(0,X.length-1))/100}if(o=="resizeCanvas")t.data=D.Wz.atF(Math.round(n),Math.round(X),k[2]);
else t.data=D.Wz.a37(Math.round(n),Math.round(X),null,1)}else if(o=="paste"){j.data={P:N.b.qP,bs:k.length!=0&&k[0],yq:!0}}else if(o=="close"){j.data={P:N.b.jl,zW:e}}else if(o=="exportDocument"||o=="saveAs"){var u=d.__fs,I=o=="exportDocument"?k[2].Z:k[1].Z,r=k[0].Z.replace(":","").replace("~/","");
if(!r.toLowerCase().endsWith("."+I.dv))r+="."+I.dv;var J=cp.hu(e,I.dv,null,null,I.dv=="pdf"?null:[I.Uw],y.Oj);
u[r]=new Uint8Array(J)}else if(o=="flatten"){t.data={J5:"flattenImage"}}else console.log(g,o,k)}else if(b=="Layer"){var U=g.Z,K=e.d.indexOf(U);
if(!1){}else if(o=="copy"){iA.j0.ks(e,y,0);j.data={P:N.b.cb,BU:k[0],Fe:K,yq:!0};y.S(j);delete j.data;
iA.j0.ks(e,y,1)}else if(o=="clear"){iA.j0.ks(e,y,0);t.data={J5:"delete"};y.S(t);delete t.data;iA.j0.ks(e,y,1)}else if(o=="duplicate"){if(k.length==0){var i=e.g.slice(0);
a.data={P:p.jL,i:K};a.G=D.Jn;y.S(a);a.data=null;T={sv:"Layer",Z:e.d[e.g[0]],TX:g.TX};e.g=i}else if(k[0].sv=="Document"){a.data={P:p.Y6,d:e.E2(K),UD:e,zH:k[0].Z};
a.G=D.Jn}}else if(o=="merge"||o=="remove"){a.data={P:o=="merge"?p.C5:p.kP,i:K};a.G=D.Jn;if(o!="remove")T={sv:"Layer",Z:e.d[e.g[0]],TX:g.TX}}else if(o=="move"){a.data={P:p.KG,source:K,target:e.d.indexOf(k[0].Z),oG:k[1]!=3?.6:.3};
a.G=D.Jn}else if(o=="rasterize"){t.data={J5:"rasterizeLayer",fV:{classID:"rasterizeLayer",null:c_.lF("Lyr",!0)}}}else if(o=="rotate"){a.data={P:"rot",Y5:[2,5],Z:-k[0]*Math.PI/180,Yf:k[1],i:K};
a.G=D.nK}else if(o=="resize"){a.data={P:"scl",Y5:[2,4],Z:new bJ(k[0]/100,k[1]/100),Yf:k[2],i:K};a.G=D.nK}else if(o=="translate"){var z=iA.j0.asy(k);
a.data={P:"trsl",i:K,lJ:z[0],hE:z[1]};a.G=D.fL}else if(o=="link"){a.data={P:p.Fj,abA:[K,e.d.indexOf(k[0].Z)]};
a.G=D.Jn}else if(o=="invert"){a.G=D.p4;a.data={P:"start",JX:"nvrt"}}else if(o.startsWith("apply")&&jf.y0[o.slice(5)]||o.startsWith("adjust")&&jf.y0[o.slice(6)]){var h=o.startsWith("apply"),z=iA.j0.asy(k),R=jf.y0[o.slice(h?5:6)];
t.data={J5:h?jf.tb[R]:aj.tb[R]};var Q=jf.J0(R);if(Q){e.g=[K];jf.p9["g"+R](Q,z);t.data.fV=Q}}else console.log(g,o,k)}else if(b=="Documents"){if(o=="getByName"){for(var m=0;
m<v.length;m++)if(v[m].name==k[0])return{sv:"Document",Z:v[m]};return null}else if(o=="add"){var C=k[5];
if(C==null)C=1;t.data=dF.ht(k[0],k[1],k[2],k[3],["Wht","Trns","BckC"][C],!1)}else throw"e"}else if(b=="Layers"){if(o=="getByName"){for(var m=0;
m<g.Z.length;m++)if(g.Z[m].Z.getName()==k[0]){T=g.Z[m];break}if(T==null)d.__throw={message:"No layer with a name "+k[0]}}else if(o=="add"){a.data={P:g.a7X=="layerSets"?p.hX:p.IX};
a.G=D.Jn;y.S(a);a.data=null;T={sv:"Layer",Z:e.d[e.g[0]],TX:g.TX}}else console.log(g,o,k)}else if(g.sv=="Selection"){if(o=="select"){var G=k[0],W=[];
for(var m=0;m<G.length;m++)W.push(G[m][0],G[m][1]);t.data=D.qT.ob(W)}else if(o=="clear"){t.data={J5:"delete"}}else if(o=="selectAll"){t.data=D.qT.ti(!0)}else if(o=="invert"){t.data={J5:"inverse"}}else if(o=="copy"){j.data={P:N.b.cb}}else if(o=="deselect"){t.data=D.qT.ti()}else if(o=="fill"){var A=k[0].Z;
A=_.M.UF({o:A[1]*255,C:A[2]*255,k:A[3]*255});t.data=D.Ak.t3("Clr",k[1],k[2]==null?1:k[2]/100,A)}else if(o=="grow"||o=="similar"){var Q={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(k[0]!=null)Q.Tlrn={t:"long",v:k[0]};t.data={J5:o,fV:Q}}else if(o=="expand"||o=="contract"||o=="feather"){t.data=D.qT.sm(o,k[0],!0)}else if(o=="translate"){var Q={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:k[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:k[1]}}}}};
t.data={J5:"move",fV:Q}}else if(o=="smooth"){t.data=D.qT.sm("smoothness",k[0],!1)}else console.log(g,o,k)}else if(g.sv=="Window"){if(o=="show"){j.data={P:N.b.xp,Pv:g.Z}}else throw"e"}else if(g.sv=="ActionReference"){if(o=="putProperty"){g.Z.push({t:"prop",v:{classID:k[0],keyID:k[1]}})}else if(o=="putClass"){g.Z.push({t:"Clss",v:{classID:k[0]}})}else if(o=="putEnumerated"){g.Z.push({t:"Enmr",v:{classID:k[0],typeID:k[1],enum:k[2]}})}else if(o=="putName"){g.Z.push({t:"name",v:{classID:k[0],val:k[1]}})}else console.log(o,k)}else if(g.sv=="ActionDescriptor"||g.sv=="ActionList"){if(o=="putReference"){g.Z[k[0]]={t:"obj ",v:k[1].Z}}else if(o=="putDouble"){g.Z[k[0]]={t:"doub",v:k[1]}}else if(o=="putUnitDouble"){g.Z[k[0]]={t:"UntF",v:{type:k[1],val:k[2]}}}else if(o=="putObject"){if(g.sv=="ActionList"){var $=k[1].Z;
$.classID=k[0];g.Z.push({t:"Objc",v:$})}else{var $=k[2].Z;$.classID=k[1];g.Z[k[0]]={t:"Objc",v:$}}}else if(o=="putList"){g.Z[k[0]]={t:"VlLs",v:k[1].Z}}else if(o=="putBoolean"){g.Z[k[0]]={t:"bool",v:k[1]}}else if(o=="putInteger"){g.Z[k[0]]={t:"long",v:k[1]}}else if(o=="putString"){g.Z[k[0]]={t:"TEXT",v:k[1]}}else if(o=="putEnumerated"){var O={};
O[k[1]]=k[2];g.Z[k[0]]={t:"enum",v:O}}else if(o=="hasKey"){var U=e.d[e.g[0]],L=k[0];if(L=="textKey")return U.add.TySh!=null;
var Y=g.Z.null.v;for(var m=0;m<Y.length;m++){if(Y[m].v.keyID==k[0]){if(L=="UsrM"){return U.Qp()!=null}else throw k}}}else if(o=="getEnumerationValue"){if(k[0]=="layerSection")T="layerSectionContent";
else console.log(k)}else if(o=="getBoolean"){if(k[0]=="background")T=!1;else console.log(k)}else if(o=="getString"){if(k[0]=="name")T=g.fj.getName();
else if(k[0]=="textKey")T=bw.fY(g.fj.O7);else console.log(g,k)}else if(o=="getObjectValue"){if(k[0]=="textKey"){T={sv:"ActionDescriptor",fj:g.fj.add.TySh}}else if(typeof k[0]=="number")T=g.fj[k[0]];
else throw k[0]}else if(o=="getList"){T={sv:"ActionList"};if(k[0]=="paragraphStyleRange")T.fj=g.fj.O7.EngineDict.ParagraphRun.RunArray;
else if(k[0]=="kerningRange")T.fj=[];else if(k[0]=="textStyleRange")T.fj=g.fj.O7.EngineDict.StyleRun.RunArray;
else throw k}else console.log(o,k)}else if(g.sv=="$"){if(o=="writeln"){console.log(k[0])}else throw o}else if(g.sv=="UI"){if(o=="scroll"||o=="scrollTo"){var l=k[0],B=k[1],f4=e.u.N;
if(o=="scrollTo"){l=(-e.m/2+l)*f4+e.u.Y.x;B=(-e.n/2+B)*f4+e.u.Y.y}a.G=D.vA;a.data={P:"scroll",gl:new bJ(Math.round(l),Math.round(B))}}else{var V;
if(o=="zoomIn"||o=="zoomOut"){V={P:"zoom",ZS:o=="zoomIn"}}else if(o=="fitTheArea"){V={P:"adapt",Z:"fitscr"}}else if(o=="pixelToPixel"){V={P:"adapt",Z:"pixel"}}a.G=D.aC;
a.data=V;if(o=="switchFullscreen"){var q=y.Oj.mU,s=document.fullscreenElement!=null==(q==2);j.data={P:N.b.xE,Z:q==0?2:0,TR:s}}}}else if(g.sv=="Folder"){if(o=="selectDialog")T="img";
else throw o}else console.log(g,o,k);if(a.data)y.S(a);if(t.data)y.S(t);if(j.data)y.S(j);return T};iA.j0.ks=function(g,o,k){var y=new jB(N.E.L,!0);
y.G=D.ng;var d=new jB(N.E.gp,!0);if(k==0){iA.j0.aer=g.J;d.data=D.qT.ti(!0)}else{var b=iA.j0.aer;if(b)y.data={P:"setsel",Y5:"Restore Selection",J:{rect:b.rect.clone(),channel:b.channel.slice(0)}};
else d.data=D.qT.ti()}o.S(y.data?y:d)};iA.j0.aer=null;iA.j0.yK={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5}};
iA.j0.yK.ColorBlendMode=iA.j0.yK.BlendMode;iA.j0.lq="---- SoLd TySh SoCo GdFl PtFl".split(" ");function bu(){}bu.eP={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
bu.m2={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
bu.ajQ=function(g,o){if(o==null)o={};var k=bu.m2,y=[],d=[],b="";for(var m=0;m<g.length;m++){var T=g[m],a=k[T[0]+""];
if(a&&o[a]==null)o[a]=T[1];else if(T[0]==12)d.push(T[1]);else if(T[0]==25)y.push(T[1]);else if(T[0]==55)b=T[1];
else if(T[0]==60)b+=";"+T[1]}if(b!=""&&o["exif:DateTimeOriginal"]==null)o["exif:DateTimeOriginal"]=b;
if(d.length!=0&&o["Iptc4xmpCore:SubjectCode"]==null)o["Iptc4xmpCore:SubjectCode"]=d.join(";");if(y.length!=0&&o["dc:Keywords"]==null)o["dc:Keywords"]=y.join(";");
return o};bu.a6u=function(g){var o=bu.m2,k=[];for(var y in o)if(g[o[y]])k.push([parseInt(y),g[o[y]]]);
if(g["Iptc4xmpCore:SubjectCode"]){var d=g["Iptc4xmpCore:SubjectCode"].split(";");for(var m=0;m<d.length;
m++)k.push([12,d[m].trim()])}if(g["dc:Keywords"]){var d=g["dc:Keywords"].split(";");for(var m=0;m<d.length;
m++)k.push([25,d[m].trim()])}k.sort(function(b,T){return b[0]-T[0]});return k};bu.avM=function(g,o){if(o==null)o={};
var k=new DOMParser,y=k.parseFromString(g,"image/svg+xml"),d=y.getElementsByTagName("rdf:Description")[0];
if(d==null)return o;var b=bu.eP;for(var T in b){var a=b[T][2];if(a==null)continue;var t=d.getElementsByTagName(a)[0];
if(t==null)continue;var j=t.getElementsByTagName("rdf:li"),e=[];for(var m=0;m<j.length;m++)e.push(j[m].textContent);
o[T]=e.join("; ")}return o};bu.a0r=function(g){var o=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],k=bu.eP;
for(var y in k){var d=g[y],b=k[y][2],T="Seq",a="";if(d==null||b==null)continue;if(b=="dc:title"||b=="dc:description"){T="Alt";
a=" xml:lang=\"x-default\""}if(b=="dc:subject")T="Bag";o.push("\t<"+b+"><rdf:"+T+">");var t=b=="dc:subject"?d.split(";").join(",").split(","):[d];
for(var m=0;m<t.length;m++)o.push("\t\t<rdf:li"+a+">"+t[m].trim()+"</rdf:li>");o.push("\t</rdf:"+T+"></"+b+">")}o.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return o.join("\n")};bu.ags=function(g){var o=[];for(var m=0;m<g.length;m++)o[m]=g[m][1]==0?0:g[m][0]/g[m][1];
return o};bu.axY=function(g){var o=[];for(var m=0;m<g.length;m++){var k=g[m],y=1;if(k!=Math.round(k)){y=1e3;
k=Math.round(k*y)}o[m]=[k,y]}return o};bu.pe=function(g,o){var k=bu.eP;if(o==null)o={};for(var y in k){var d=k[y][1],b="t"+d;
if(d!=null&&g[b]!=null){var T=g[b];if(d==0)T=T.join(".");else if(d==2||d==4){var a=g["t"+(d-1)];if(a==null)a=[d==2?"N":"E"];
T=bu.ags(T).join(",")+a[0]}else if(d==42034)T=bu.ags(T).join(" ");else if(d==270||d==315){var t=T[0],j=new Uint8Array(t.length);
S.Ok(j,0,t);T=S.IL(j)}else T=T[0];o[y]=T}}if(g.exifIFD)bu.pe(g.exifIFD,o);if(g.gpsiIFD)bu.pe(g.gpsiIFD,o);
return o};bu.BN=function(g,o,k){var y=bu.eP,b=0,a=0;if(o==null)o={};var d={},T={};for(var t in y){if(g[t]==null||y[t][1]==null)continue;
var j=y[t][1],e="t"+j,v=o;if(t.startsWith("exif:")){v=d;b++;if(t.startsWith("exif:GPS")){v=T;a++}}var L=g[t];
if(j==0)L=new Uint8Array(L.split(".").map(parseFloat));else if(j==2||j==4){var H=L.length;v["t"+(j-1)]=[L.slice(L.length-1)];
L=bu.axY(L.split(",").map(parseFloat))}else if(j==42034)L=bu.axY(L.split(" ").map(parseFloat));else if(j==270||j==315){var w=S.vw(L);
L=[S.lp(w,0,w.length)]}else L=[L];v[e]=L}if(b!=0){o.exifIFD=d;o.t34665=[0]}if(a!=0){o.gpsiIFD=T;o.t34853=[0]}var P=new Date,Q=[P.getFullYear(),P.getMonth()+1,P.getDate(),P.getHours(),P.getMinutes(),P.getSeconds()];
for(var m=0;m<6;m++)Q[m]=(Q[m]+"").padStart(2,"0");o.t305=["Photopea Editor (www.photopea.com)"];if(k!=!0)o.t306=[Q[0]+":"+Q[1]+":"+Q[2]+" "+Q[3]+":"+Q[4]+":"+Q[5]];
return o};function hl(){}hl.Qt=function(g){var o={ae0:",",xP:"\r\n",kh:"\""},k=[[""]],y,d,b,T,a;for(y=d=b=T=0;
b<g.length;b++){switch(a=g.charAt(b)){case o.kh:if(T&&g.charAt(b+1)==o.kh){k[y][d]+=o.kh;++b}else{T^=1}break;
case o.ae0:if(!T){k[y][++d]=""}else{k[y][d]+=a}break;case o.xP.charAt(0):if(!T&&(!o.xP.charAt(1)||o.xP.charAt(1)&&o.xP.charAt(1)==g.charAt(b+1))){k[++y]=[""];
k[y][d=0]="";if(o.xP.charAt(1)){++b}}else{k[y][d]+=a}break;default:k[y][d]+=a}}if(k[k.length-1].length<k[0].length)k.pop();
return k};var Z={};Z.a4r=0;Z.yB=function(){Z.a4r++;return Z.a4r};Z.ab$="uint8";Z.iH=function(g){g.e.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
g.e.style.opacity="1";g.e.style.transform="scale(1)"};Z.eu=function(g,o){g.e.style.opacity="0";g.e.style.transform="scale(0.95)";
if(o)setTimeout(function(){o.removeChild(g.e)},100)};Z.a1t=function(){var g=Z.a6O();if(g=="")return 0;
if(g!=Z.Np("_TXZRPB;d7@;")){var o=Z.Rx[hf.Zw][hf.y$],k=o.indexOf(String.fromCharCode(35)),y;if(k==-1)return 0;
try{y=JSON.parse(Z.Rx[hf.ajP](o.slice(k+1)))}catch(d9){return 0}var d=y[Z.Np("bQ[ODL<E<M")];if(d==null||d.length<<2!=64)return 0;
var b=hf.bF(),T=parseInt(d.slice(3*4).split("").reverse().join(""),16)<<16;if(T<b||d!=hf.afa(T,g))return 0;
return 2}return 1};Z.a6O=function(){var g=Z.Rx[Z.oI("}$z{2*35")][Z.Np("W[\\ZQAJ?")],o=String.fromCharCode(46),k=g.split(o);
if(k.length<2)return"";var y=k.pop();y=k.pop()+o+y;return y};Z.ayI=function(){if(Z.Rx[hf.akH][hf.amw]){var g=new Z.Rx[hf.Ge];
g[hf.lM](hf.a5F,Z.Np("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+Z.a6O());g[hf.dy]()}};Z.$T=function(){if(window.top!=window.self)return!1;
var g=navigator.userAgent.toLowerCase();if(g.indexOf("android")!=-1)return!1;if(g.indexOf("safari")!=-1&&g.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};Z.Je=function(g){this.WJ=g;this.a6M=Z.t("img");this.e1=Z.t("canvas");
this.VJ=null;this.Ax="";this.W2=null;this.qc=new bJ(0,0);this.Rd=!0;Z.a$(this.WJ,this.z4.bind(this))};
Z.Je.prototype.I_=function(g,o){this.VJ=g;if(o)this.Ax=o;this.z4()};Z.Je.prototype._C=function(g){this.Rd=g;
this.z4()};Z.Je.prototype.z4=function(g){if(g)this.qc=Z.YD(g,this.WJ);var o=this.Rd?this.VJ:"auto",k=typeof o=="string";
if(!k){var y=Z.V(),d=this.qc,b=o.KU.m,T=o.KU.n,a=typeof o.Tq=="string",t=a?this.a6M:this.e1;if(a)t.setAttribute("src",o.Tq);
else{t.width=b;t.height=T;var j=t.getContext("2d"),e=new ImageData(new Uint8ClampedArray(o.Tq.buffer),b,T);
j.putImageData(e,0,0)}t.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(d.y-o.aV.y/y)+"px; left:"+(d.x-o.aV.x/y)+"px; width:"+b/y+"px; height:"+T/y+"px");
var v=this.W2;if(v==null||v!=t){if(v)this.WJ.removeChild(v);this.WJ.appendChild(t);this.W2=t}}else if(this.W2){this.WJ.removeChild(this.W2);
this.W2=null}this.WJ.setAttribute("style","cursor:"+(k?o:"none")+"; "+this.Ax)};Z.nV=function(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
Z.rv=function(g,o){g.HZ(d9.get([12,41]).charAt(0)+":");o.HZ(d9.get([12,42]).charAt(0)+":")};Z.t=function(g,o){var k=document.createElement(g);
if(o!=null)k.className=o;return k};Z.ew=function(g){while(g.firstChild)g.removeChild(g.firstChild)};
Z.O9=function(g,o){var k=g.className;k=k.split(" ");if(k.indexOf(o)==-1)k.push(o);g.className=k.join(" ")};
Z.Iu=function(g,o){var k=g.className;if(k=="")return;k=k.split(" ");if(k.indexOf(o)!=-1)k.splice(k.indexOf(o),1);
g.className=k.join(" ")};Z.Hd=function(g){while(!0){if(g==document)return!0;if(g==null)return!1;g=g.parentNode}};
Z.Dx=function(g){g.appendChild(Z.t("br"))};Z.Jo=function(g){g.appendChild(Z.t("hr"))};Z.zE=function(g,o,k){var y=new da([1,12,1],k==null?!0:k,null,!0);
if(g)y.h("click",g.CR,g);if(o)o.appendChild(y.e);return y};Z.Rx=document;Z.h2=function(g){var o=0;for(var m=0;
m<g;m++)o+=Math.random();return o/g<Math.PI/4};Z.Np=function(g){var o="";if(!Z.h2(28))g+="-3";for(var m=0;
m<g.length;m++){var k=g.charCodeAt(m);if(k<32||126<k)throw"e";o+=String.fromCharCode(32+(k-32+17+3*m)%95)}return o};
Z.oI=function(g){var o="";if(!Z.h2(28))g+="-1";for(var m=0;m<g.length;m++){var k=g.charCodeAt(m);k-=32;
k+=95e4;k-=17+3*m;k=k%95;o+=String.fromCharCode(32+k)}return o};Z.w5=function(g){var o=Math.random();
Z.ab$="uint"+(3+o);return new g};(function(){var g=window.PointerEvent,o=g?"pointer":"mouse",k=o+"down",y=o+"move",d=o+"up",b=!1;
Z.Fn=function(T,a){T.addEventListener(k,a,b);if(!g)T.addEventListener("touchstart",a,b)};Z.a$=function(T,a){T.addEventListener(y,a,b);
if(!g)T.addEventListener("touchmove",a,b)};Z.hO=function(T,a){T.addEventListener(d,a,b);if(!g)T.addEventListener("touchend",a,b)};
Z.at$=function(T,a){T.removeEventListener(k,a,b);if(!g)T.removeEventListener("touchstart",a,b)};Z.DO=function(T,a){T.removeEventListener(y,a,b);
if(!g)T.removeEventListener("touchmove",a,b)};Z.ZV=function(T,a){T.removeEventListener(d,a,b);if(!g)T.removeEventListener("touchend",a,b)}}());
Z.yP=function(g){g.addEventListener("touchstart",Z.mm,!1);g.addEventListener("touchmove",Z.mm,!1);g.addEventListener("touchend",Z.mm,!1);
g.addEventListener("gesturestart",Z.mm,!1);g.addEventListener("gesturechange",Z.mm,!1);g.addEventListener("gestureend",Z.mm,!1)};
Z.aic=function(g){var o=g.sourceCapabilities;if(o)return o.firesTouchEvents;return!1};Z.OK=function(g,o,k,y){var d=Z.V();
g.width=Math.floor(o*d);g.height=Math.floor(k*d);if(y)y.scale(d,d);Z.DB(g)};Z.DB=function(g){var o=Z.V();
g.style.width=g.width/o+"px";g.style.height=g.height/o+"px"};Z.s4=function(g,o,k){g.setAttribute("style","width:"+o/Z.V()+"px; height:"+k/Z.V()+"px")};
Z.YD=function(g,o){if(o==null)o=g.currentTarget;var k=o.getBoundingClientRect();if(g.touches)g=g.touches.item(0);
return{x:g.clientX-k.left,y:g.clientY-k.top}};Z.V=function(){return window.devicePixelRatio||1};Z.tF=function(g){g.addEventListener("keydown",Z.apu,!1)};
Z.apu=function(g){g.stopPropagation()};Z.mm=function(g){g.preventDefault()};Z.GK=function(g){g.stopPropagation();
g.preventDefault()};Z.$l=function(g,o,k){k=k?k:"";if(PIMG["__"+g]==null)k+=" gsicon";return"<img src=\""+PIMG[g]+"\" alt=\""+(o?o:"")+"\" class=\""+k+"\" />"};
Z.Wf=function(g,o,k,y){var d=g.dataTransfer.getData("text/uri-list");if(d!=null&&d.startsWith("http")){var b=new jB(N.E.s,!0);
b.data={P:N.b.VI,Q6:{url:d,Vs:!0,zT:k,u$:y}};o.S(b)}if(g.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var T=[],a=g.dataTransfer.items.length,t=g.dataTransfer.files;
for(var j of g.dataTransfer.items)j.getAsFileSystemHandle().then(function(e){T.push(e);if(T.length==a){var b=new jB(N.E.s,!0);
b.data={P:N.b.Cv,data:t,zT:k,u$:y,a2v:T};o.S(b)}})}else{var b=new jB(N.E.s,!0);b.data={P:N.b.Cv,data:g.dataTransfer.files,zT:k,u$:y};
o.S(b)}};if(Z.h2(27))Z.Rx=window;else Z.Rx=Z.ai9;Z.Rx._cwY=Z.Rx[Z.oI("t$&!'31")];var cN={};cN.ag2=function(m){var g=cN.OE[m],o=document.documentElement.style,y=1;
o.setProperty("--base","#"+_.Mb(g["--base"]));o.setProperty("--bg-panel","#"+_.Mb(g["--bg-panel"]));
o.setProperty("--bg-canvas","#"+_.Mb(g["--bg-canvas"]));o.setProperty("--bg-input","#"+_.Mb(g["--bg-input"]));
o.setProperty("--bg-bbtn","#"+_.Mb(g["--bg-bbtn"]));o.setProperty("--bg-bbtnOver","#"+_.Mb(g["--bg-bbtnOver"]));
o.setProperty("--brdr","#"+_.Mb(g["--brdr"]));o.setProperty("--text-color","#"+_.Mb(g["--text-color"]));
o.setProperty("--brdrLgt","rgba(255,255,255,"+g["--brdrLgt"]+")");o.setProperty("--brdrDrk","rgba(  0,  0,  0,"+g["--brdrDrk"]+")");
o.setProperty("--alphaDark",""+g["--alphaDark"]);o.setProperty("--gs-invert",""+g["--gs-invert"]);o.setProperty("--accent","#"+_.Mb(g["--accent"]));
var k=g["--sh-clr"];o.setProperty("--sh-clr","rgba("+(k>>16)+","+(k>>8&255)+","+(k&255)+", 0.45)");o.setProperty("--sh-dy",""+g["--sh-dy"]+"px");
if(1<Z.V()&&Z.V()<1.5)y=1/Z.V();o.setProperty("--img20",20*y+"px");o.setProperty("--img18",18*y+"px");
o.setProperty("--img15",15*y+"px");if(PIMG!=null){var d="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var m=0;m<d.length;m++){var b=d[m],T=b.split("/").pop(),a=PIMG["__"+b]==null?g["--gs-invert"]:"0";
o.setProperty("--icon_"+T,"url("+PIMG[b]+")");o.setProperty("--icon_"+T+"_invrt",a)}}var t=document.querySelector("meta[name=theme-color]");
if(t)t.setAttribute("content","#"+_.Mb(g["--base"]))};(function(){var g=3441398,o=3441398;cN.OE=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":o},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":g},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":g},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":g},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":g},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":g},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":o}]}());
function ch(){this.fd={};this.DW={}}ch.prototype.aip=function(g){var o=this.fd[g];if(o==null)return!1;
return o.length>0};ch.prototype.addEventListener=function(g,o){this.h(g,o,null)};ch.prototype.h=function(g,o,k){if(this.fd[g]==null){this.fd[g]=[];
this.DW[g]=[]}this.fd[g].push(o);this.DW[g].push(k)};ch.prototype.removeEventListener=function(g,o){var k=this.fd[g];
if(k==null)return;var y=k.indexOf(o);if(y<0)return;var d=this.DW[g];k.splice(y,1);d.splice(y,1)};ch.prototype.S=function(g){g.currentTarget=this;
if(g.target==null)g.target=this;var o=this.fd[g.type];if(o==null)return;var k=this.DW[g.type];for(var m=0;
m<o.length;m++){if(k[m]==null)o[m](g);else o[m].call(k[m],g)}};var jB=function(g,o){if(!o)o=!1;this.type=g;
this.target=null;this.currentTarget=null;this.bubbles=o;this.G=null;this.Yi=!1},N={E:{L:"0",s:"1",gp:"1.5",A:"2",Hn:"3",ahw:"4"},b:{z7:"10",q$:"11",TL:"12",sU:"13",ih:"14",acr:"14.1",VI:"15",RL:"16",UY:"17",Ay:"18",kG:"19",aji:"19.5",aur:"20",anI:"20.1",adi:"20.5",aoR:"20.6",Eg:"21",cb:"22",qP:"23",jz:"24",xp:"25",hy:"26",I8:"27",ak:"28",a1r:"28.5",an1:"29",Cv:"30",v1:"31",l0:"32",Wx:"33",l3:"34",pB:"35",axR:"35.5",af:"37",ag$:"38",lu:"39",xa:"40",Fz:"41",QW:"41.5",aaJ:"42",mV:"43",ahq:"43.5",jl:"44",acu:"45",e3:"46",Kx:"47",cu:"48",P9:"49",ap1:"50",xE:"51"}};
function fR(){ch.call(this);this.parent=null;this.e=null;this.bW=0;this.GP=0;this.aiL=!1}fR.prototype=new ch;
fR.prototype.ai4=function(g){var cy=this;while(cy!=null){if(cy==g)return!0;cy=cy.parent}return!1};fR.prototype.qY=function(){var g=this.e;
return g.offsetWidth+g.clientLeft};fR.prototype.apM=function(){var g=this.e;return g.offsetHeight+g.clientTop};
fR.prototype.update=function(g){};fR.prototype.S=function(g){ch.prototype.S.call(this,g);if(g.bubbles&&this.parent!=null)this.parent.S(g)};
fR.prototype.f=function(){};fR.prototype.UC=function(g,o){};fR.prototype.jK=function(g){Z.O9(this.e,"disabled")};
fR.prototype.gM=function(g){Z.Iu(this.e,"disabled")};fR.prototype._C=function(g){if(g)this.gM();else this.jK()};
fR.prototype.Mk=function(){this.aiL=!0};fR.prototype.S8=function(){var g=this.AZ,o=this.aiL,k=this.fk;
if(g){g=d9.get(this.AZ);if(!o)g+=":";k.textContent=g;if(o){k.style.display="block";k.style.lineHeight="1.6em";
k.style.marginLeft="3px";Z.Iu(k,"flabel")}}if(o){this.LS.style.fontSize="1.15em"}};function ez(g){fR.call(this);
this.fz=[];this.UL=!1;this.ahz=0;this.Vk={x:0,y:0,_J:!1};this.ZD=g;this.a6r=this.wt.bind(this);this.tY=this.XQ.bind(this);
this.a4q=this.zf.bind(this);Z.Fn(g,this.a6r);Z.a$(g,this.tY);g.addEventListener("wheel",this.qS.bind(this),!1);
g.addEventListener("contextmenu",this.aaM.bind(this),!1);var o=this.aaX.bind(this);g.addEventListener("gesturestart",o,!1);
g.addEventListener("gesturechange",o,!1);g.addEventListener("gestureend",o,!1);Z.yP(g)}ez.prototype=new fR;
ez.prototype.aaX=function(g){if(g.type=="gesturestart")this.Jb=g.scale;if(g.type=="gesturechange"){var o=new jB("mouse",!0);
o.action="scroll";o.Kz=!0;this.F$(g,o);var k=(this.Jb-g.scale)/this.Jb;o.gl=new bJ(0,100*k);this.Jb=g.scale;
this.S(o)}};ez.prototype.VF=function(g){var o=-1,k=this.fz;for(var m=0;m<k.length;m++)if(k[m].pointerId==g.pointerId)o=m;
return o};ez.EK=function(g){var o=g.pointerType,k=window.__kb;return o=="touch"&&k.z(dj.asS)};ez.prototype.wt=function(g){if(ez.EK(g))return;
var o=this.VF(g);if(o!=-1)this.fz[o]=g;else this.fz.push(g);if(this.fz.length==1){this.ahz=Date.now();
var k=g.button!=null&&g.button!=0?g.which==2?"idown":"rdown":"down",y=new jB("mouse",!0);y.action=k;
this.F$(g,y);this.S(y);Z.DO(this.ZD,this.tY);Z.a$(window,this.tY);Z.hO(window,this.a4q)}if(this.fz.length==2){if(Date.now()-this.ahz<100){var y=new jB("mouse",!0);
y.action="cancellast";this.F$(g,y);this.S(y)}this.UL=!0}if(this.fz.length==2)this.axt("multidown")};
ez.prototype.XQ=function(g){if(ez.EK(g))return;var o=this.VF(g);if(o!=-1)this.fz[o]=g;if(this.fz.length>1){this.axt("multimove")}if(this.UL)return;
if(this.fz.length==1&&o==-1)return;var k=new jB("mouse",!0);k.action="move";this.F$(g,k);this.S(k)};
ez.prototype.zf=function(g){if(ez.EK(g))return;var o=this.fz;o=this.fz=[];if(o.length==0){var k=g.button!=null&&g.button>0?g.which==2?"iup":"rup":"up",y=new jB("mouse",!0);
y.action=k;this.F$(g,y);this.S(y);Z.DO(window,this.tY);Z.ZV(window,this.a4q);Z.a$(this.ZD,this.tY);this.UL=!1}};
ez.prototype.qS=function(g){g.preventDefault();if(g.deltaX==0&&g.deltaY==0)return;var o=new jB("mouse",!0);
o.action="scroll";o.Kz=g.ctrlKey;this.F$(g,o);this.S(o)};ez.prototype.aaM=function(g){Z.GK(g);if(Z.aic(g)){var o=new jB("mouse",!0);
this.F$(g,o);o.action="rdown";this.S(o);o.action="rup";this.S(o)}};ez.prototype.axt=function(g){var o=this.fz,k=Z.V(),y=[];
for(var m=0;m<o.length;m++){var d=y[m]=Z.YD(o[m],this.ZD);d.x*=k;d.y*=k}var b=new jB("mouse",!0);b.action=g;
b.fN=y;if(o.length==2)this.S(b)};ez.prototype.F$=function(g,o,k){var y=this.fz.length!=0;if(o.action!="up"){var d=Z.V();
if(k==null)k=Z.YD(g,this.ZD);this.Vk=o.yR={x:d*k.x,y:d*k.y,_J:y};var b=Z.YD(g,document.body);o.yR.qh=b.x;
o.yR.ko=b.y}else this.Vk=o.yR={x:this.Vk.x,y:this.Vk.y,_J:y};o.yR.Cm=.5;if(g.pressure!=null&&g.pressure!=0)o.yR.Cm=g.pressure;
if(g.pointerType=="mouse")o.yR.Cm*=2;o.yR.aa7=g.pointerType;if(g.deltaX!=null){var T=g.deltaMode==0?1:40;
o.gl=new bJ(g.deltaX*T,g.deltaY*T)}};function iU(g,o,k){fR.call(this);this.Uk=null;this.a2V=this.zf.bind(this);
this.agD=this.BO.bind(this);this.ac7=this.a2J.bind(this);this.azn=this.a0w.bind(this);this.nF=[];this.t6=[];
this.Qj=[];this.a8L=[];this.e=Z.t("div","contextpanel "+(k?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",Z.mm,!1);
this.je=null;this.pd=0;this.eX=g;this.gJ=o;this.s2=[];for(var m=0;m<g.length;m++){var y=Z.t("div","enab");
this.t6.push(y);this.e.appendChild(y);var d=g[m].vl;if(d){if(d.startsWith("#")){var b=Z.t("span");b.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+d);
y.appendChild(b)}else y.innerHTML=Z.$l(g[m].vl,null,"thumb")}else{var T=Z.t("span","check");this.a8L.push(T);
y.appendChild(T)}var a=Z.t("span","label");a.textContent=d9.get(g[m].name);y.appendChild(a);this.Qj.push(a);
if(g[m]._r)this.e.appendChild(Z.t("hr"));if(g[m].SW||g[m].sub){var t=Z.t("span","right");y.appendChild(t);
if(g[m].SW)t.textContent=dj.GR(g[m].SW);else if(g[m].sub)t.textContent="\u25B6"}y.addEventListener("click",this.a2V,!1);
y.addEventListener("mouseover",this.agD,!0);y.addEventListener("mouseout",this.ac7,!0);if(g[m].sub){var j=new iU(g[m].sub,o?o[m].sub:null);
j.parent=this;this.s2.push(j);j.h("select",this.aqi,this)}else this.s2.push(null)}}iU.prototype=new fR;
iU.prototype.avv=function(g){Z.ew(this.e);for(var m=0;m<g.length;m++)if(g[m]!=0&&g[m]!=null){this.e.appendChild(this.t6[m]);
if(g[m]!=1&&this.s2[m])this.s2[m].avv(g[m])}};iU.prototype.f=function(){var g=this.eX;for(var m=0;m<g.length;
m++){if(g[m].title)this.t6[m].title=d9.get(g[m].title);this.Qj[m].textContent=d9.get(g[m].name)+(g[m].Hk?"...":"")}for(var m=0;
m<this.s2.length;m++)if(this.s2[m])this.s2[m].f()};iU.prototype.update=function(g,o){var k=this.eX;for(var m=0;
m<k.length;m++){if(k[m].r){var y=k[m].r(g,o,m);if(y.r!=null)this.t6[m].className=y.r?"enab":"disab";
if(y.cn!=null)this.Qj[m].textContent=y.cn;if(y.BF!=null)this.a8L[m].textContent=y.BF?"\u2713":"";if(y.R!=null)this.gJ[m]=y.R}}for(var m=0;
m<this.s2.length;m++)if(this.s2[m])this.s2[m].update(g,o)};iU.prototype.Ny=function(){return this.nF};
iU.prototype.zf=function(g){if(g.button!=0)return;var m=this.t6.indexOf(g.currentTarget);if(this.s2[m]){this.pd=m;
this.a0w()}else{if(this.gJ){var o=this.gJ[m],k=new jB(o.W,!0);k.G=o.G;k.data=o.R;this.S(k)}this.Uk=null;
this.nF=[m];this.S(new jB("select",!1));var k=new jB(N.E.s,!0);k.data={P:N.b.sU};this.S(k)}};iU.prototype.BO=function(g){var m=this.t6.indexOf(g.currentTarget);
this.Xa();this.pd=m;this.je=setTimeout(this.azn,300)};iU.prototype.a2J=function(g){this.Xa()};iU.prototype.Xa=function(){if(this.je){clearTimeout(this.je);
this.je=null}};iU.prototype.a0w=function(){this.Xa();var m=this.pd;if(this.Uk)this.Uk.a0s();if(this.s2[m]==null)return;
this.Uk=this.s2[m];var g=this.t6[m].getBoundingClientRect(),o=new jB(N.E.s,!0);o.data={P:N.b.q$,w9:this.s2[m],x:g.left+g.width+2,y:g.top};
this.S(o)};iU.prototype.a0s=function(){for(var m=0;m<this.s2.length;m++)if(this.s2[m])this.s2[m].a0s();
var g=new jB(N.E.s,!0);g.data={P:N.b.TL,w9:this};this.S(g)};iU.prototype.aqi=function(g){var m=this.s2.indexOf(g.target);
this.nF=[m].concat(g.target.Ny());this.S(new jB("select",!1))};function dX(g,o,k){fR.call(this);this.e=Z.t("span","fitem cbox");
if(o==null)o=!0;if(k==null)k="flabel";var y="cb"+Z.yB();this.LS=Z.t("input","");this.LS.setAttribute("type","checkbox");
this.LS.setAttribute("id",y);this.e.appendChild(this.LS);this.AZ=g;this.nr=Z.t("label",k);if(o)this.nr.setAttribute("for",y);
this.e.appendChild(this.nr);this.f();this.LS.addEventListener("change",this.pa.bind(this),!1)}dX.prototype=new fR;
dX.prototype.a6V=function(){return this.AZ};dX.prototype.HZ=function(g){this.nr.textContent=g};dX.prototype.f=function(){var g=this.AZ;
if(typeof g=="string"&&g.startsWith("<"))this.nr.innerHTML=g;else this.nr.textContent=d9.get(g)};dX.prototype.sG=function(){this.LS.checked=!0};
dX.prototype.yQ=function(){this.LS.checked=!1};dX.prototype.sS=function(){return this.LS.checked};dX.prototype.$=function(g){this.LS.checked=g};
dX.prototype.c=dX.prototype.sS;dX.prototype.pa=function(g){this.S(new jB(N.E.A,!1))};function bZ(g,o){fR.call(this);
this.AZ=g;this.e=Z.t("span","labelitem fitem"+(o?" spread":""));this.f()}bZ.prototype=new fR;bZ.prototype.$=function(g){this.e.textContent=g};
bZ.prototype.c=function(){return this.e.textContent};bZ.prototype.gM=function(){this.e.removeAttribute("disabled")};
bZ.prototype.jK=function(){this.e.setAttribute("disabled","")};bZ.prototype.HZ=function(g){this.e.textContent=g};
bZ.prototype.f=function(){this.e.textContent=d9.get(this.AZ)};bZ.prototype.a6V=function(){return this.AZ};
function da(g,o,k,y,d){fR.call(this);this.ag=!1;this.e=Z.t("button","fitem"+(o?" spread":"")+(y?" bbtn":""));
this.AZ=g;this.Lc=k;this.f();var b=d&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(b,this.wh.bind(this),!1)}da.prototype=new fR;
da.prototype.f=function(){var g=this.e,o=this.AZ,k=this.Lc;if(typeof o=="string"&&(o.startsWith("<img")||o.startsWith("<svg")||o.startsWith("<span"))){if(!this.ag){g.innerHTML=o;
g.setAttribute("style","padding:2px");this.ag=!0}}else g.textContent=d9.get(o);if(k){g.setAttribute("title",d9.get(k))}};
da.prototype.a8e=function(g){this.e.setAttribute("title",g)};da.prototype.wh=function(g){this.S(new jB("click",!1))};
da.prototype.sG=function(){Z.O9(this.e,"bactive")};da.prototype.yQ=function(){Z.Iu(this.e,"bactive")};
da.prototype.HZ=function(g,o){if(g&&g!=this.AZ){this.AZ=g;this.ag=!1}if(o)this.Lc=o;this.f()};da.prototype.$=function(g){if(g)this.sG();
else this.yQ()};da.prototype.sS=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
da.prototype.c=function(){return this.sS()};function ic(g,o,k,y,d){fR.call(this);var b=Z.yB();this.e=Z.t("span","fitem tinput");
if(g){this.AZ=g;this.fk=Z.t("label","flabel");this.e.appendChild(this.fk);this.fk.setAttribute("for",b);
this.f()}if(d){this.LS=Z.t("span")}else if(y==null){this.LS=Z.t("input");this.LS.setAttribute("type","text")}else this.LS=Z.t("textarea","scrollable");
this.LS.setAttribute("id",b);if(k)this.LS.setAttribute("style","width:"+k+"em;"+(d?" display:inline-block; margin-left:6px;":""));
if(y)this.LS.setAttribute("rows",y);this.e.appendChild(this.LS);if(o){this._V=Z.t("span");this._V.textContent=o;
this._V.style.marginLeft="2px";this.e.appendChild(this._V)}Z.tF(this.LS);this.LS.addEventListener("change",this.pa.bind(this),!1);
this.LS.addEventListener("input",this.anK.bind(this),!1);if(y==null)this.LS.addEventListener("keyup",this.z8.bind(this),!1)}ic.prototype=new fR;
ic.prototype.f=function(){this.S8()};ic.prototype.z8=function(g){var o=dj.M0(g.code,dj.bC),k=dj.M0(g.code,dj.zu);
if(k||o)this.LS.blur()};ic.prototype.HZ=function(g){this.fk.textContent=g};ic.prototype.$=function(g){var o=this.LS,k=g==null?"":g,y=o.tagName=="SPAN";
if(y){o.textContent=" "+k;if(this._V)o.appendChild(this._V)}else o.value=k};ic.prototype.agn=function(g){this._V.textContent=g};
ic.prototype.c=function(){return this.LS.value};ic.prototype.KA=function(){this.LS.select();this.LS.focus()};
ic.prototype.pa=function(g){this.S(new jB(N.E.A,!1))};ic.prototype.anK=function(g){this.S(new jB("input",!1))};
function hK(g,o,k,y,d,b,T,a,t){fR.call(this);if(d==null)d=0;this.e=Z.t("span","fitem");var j=Z.yB();
this.AZ=g;this.Lc=a;this.VJ=0;this.ck=t;this.et=o;this.Oy=k;this.bu=null;if(y instanceof Array){this.bu=y;
y=y[0]}this.YH=y;this.J6=d;this.ahN=b;this.Kv=T;this.ML=0;this.fk=Z.t("label","flabel");this.fk.setAttribute("style","cursor:col-resize;");
this.A0=Z.t("input");this.A0.setAttribute("type","range");if(T){this.A0.min=0;this.A0.max=400}else{this.A0.min=o;
this.A0.max=k;if(d!=0)this.A0.step=(k-o)/200}this.LS=Z.t("input");this.LS.setAttribute("type","text");
this.LS.setAttribute("id",j);this._V=Z.t("span");this._V.textContent=y;Z.tF(this.LS);this.LS.addEventListener("change",this.pa.bind(this),!1);
this.LS.addEventListener("keydown",this.Mf.bind(this),!1);this.LS.addEventListener("keyup",this.z8.bind(this),!1);
this.LS.addEventListener("wheel",this.qS.bind(this),!1);this.A0.addEventListener("input",this.pa.bind(this),!1);
if(t)this.A0.addEventListener("change",this.pa.bind(this),!1);this.A0.addEventListener("click",this.ayA.bind(this),!1);
this.ag0=this.akE.bind(this);this.a6X=this.adQ.bind(this);this.a1s=this.a35.bind(this);this.Ou=0;this.Iw=0;
this.Pi=!1;Z.Fn(this.fk,this.ag0);Z.yP(this.fk)}hK.prototype=new fR;hK.prototype.v5=function(g){this.J6=g};
hK.prototype.HZ=function(g){this.fk.style.display=g?"inherit":"none";if(g)this.fk.textContent=d9.get(g)};
hK.prototype.f=function(){var cy=this.AZ,g=this.Lc;if(cy){if(typeof cy=="string"&&cy.startsWith("<"))this.fk.innerHTML=cy;
else this.S8()}if(g){g=d9.get(g);if(cy)this.fk.setAttribute("title",g);this.LS.setAttribute("title",g)}};
hK.prototype.$=function(g,o){var k=this.et==this.Oy,d;if(!k&&this.et>=0)g=Math.max(this.et,g);if(this.J6==0)g=Math.round(g);
var y=this.YH;this.VJ=g;this.LS.value=(this.J6!=0?g.toFixed(this.J6):g)+(this.ahN&&y?(y.toLowerCase()==y.toUpperCase()?"":" ")+y:"");
if(-this.et==this.Oy)d=200+Math.sign(g)*200*Math.pow(Math.abs(g)/this.Oy,1/2.7);else d=400*Math.pow((g-this.et)/(this.Oy-this.et),1/2.7);
this.A0.value=this.Kv?d:g;if(o)this.Xm()};hK.prototype.c=function(){var g=this.VJ;if(isNaN(g))g=0;return g};
hK.prototype.WY=function(){return this.YH};hK.prototype.pa=function(g){var o=0;if(g.currentTarget==this.LS){var k=g.target.value,y=0;
o=k==""?0:this.YH?parseFloat(k):eval(k);if(isNaN(o))o=0;while(y<k.length&&(k.charAt(y)=="."||48<=k.charCodeAt(y)&&k.charCodeAt(y)<=57))y++;
var d=k.slice(y).trim();if(this.bu&&this.bu.indexOf(d)!=-1)this.YH=d}else{if(Date.now()-this.ML<10)return;
o=parseFloat(g.target.value);if(this.Kv){if(-this.et==this.Oy)o=Math.sign(o-200)*Math.pow(Math.abs(o-200)/200,2.7)*this.Oy;
else o=this.et+Math.pow(o/400,2.7)*(this.Oy-this.et);o=this.akd(o)}}this.$(o);if(g.type=="input"&&this.ck)return;
this.Xm()};hK.prototype.Xm=function(){this.S(new jB(N.E.A))};hK.prototype.akd=function(g){if(this.Oy-this.et>50&&g>10)g=Math.round(g);
return g};hK.prototype.Mf=function(g){var o=0;if(dj.M0(g.code,dj.Ef))o=1;if(dj.M0(g.code,dj.tu))o=-1;
if(o!=0)this.a0J(o,g.shiftKey)};hK.prototype.z8=function(g){var o=dj.M0(g.code,dj.bC),k=dj.M0(g.code,dj.zu);
if(o)this.$(this.c());if(k||o)this.LS.blur()};hK.prototype.qS=function(g){this.a0J(g.deltaY>0?-1:1,g.shiftKey)};
hK.prototype.a0J=function(g,o){var k=this.c(),y=this.J6,d=g*(y==null||y==0||k>5?1:.1);if(o)d*=10;var b=k+d;
if(!this.Kv&&this.Oy!=this.et)b=Math.min(this.Oy,b);this.$(b);this.Xm()};hK.prototype.ayA=function(g){var o=Date.now()-this.ML;
this.ML=Date.now();if(o>200)return;var k=this.et,y=this.Oy,d=(k+y)/2;if(k<1&&y>1&&y<10)d=1;else if(k<90&&y>110)d=100;
else if(k<0&&y>0)d=0;this.$(d);this.Xm()};hK.prototype.akE=function(g){Z.a$(document,this.a6X);Z.hO(document,this.a1s);
this.Ou=Z.YD(g,document.body).x;this.Iw=this.c()};hK.prototype.adQ=function(g){Z.GK(g);var o=this.et==this.Oy,k=Z.YD(g,document.body).x,y=(k-this.Ou)*(o?1:1/120*(this.Oy-this.et)),d=this.Iw+y;
if(o)d=Math.round(d);if(!o){if(!0){d=Math.max(this.et,d);if(d==this.et){this.Ou=k;this.Iw=this.et}}if(!this.Kv){d=Math.min(this.Oy,d);
if(d==this.Oy){this.Ou=k;this.Iw=this.Oy}}d=this.akd(d)}this.Pi=!0;this.$(d);if(!this.ck)this.Xm()};
hK.prototype.a35=function(g){if(!this.Pi)this.LS.focus();this.Pi=!1;if(this.ck)this.Xm();Z.DO(document,this.a6X);
Z.ZV(document,this.a1s)};hK.prototype.KA=function(){this.LS.select();this.LS.focus()};function k9(g,o,k,y,d,b,T,a,t,j){hK.call(this,g,o,k,y,d,!0,b,t,j);
Z.O9(this.e,"rangedropinput");this.e.appendChild(this.fk);this.LS.setAttribute("style","width:"+(a?a:3.3)+"em");
this.e.appendChild(this.LS);this.aot=Z.t("span","rangecontFloat");this.aot.appendChild(this.A0);this.g5=Z.t("button");
this.g5.textContent="\u25BC";Z.Fn(this.g5,this.ag6.bind(this));if(T!=!0)this.e.appendChild(this.g5);
this.ux=new fR;this.ux.e=this.aot}k9.prototype=new hK;k9.prototype.ag6=function(g){if(Z.Hd(this.ux.e))return;
g.stopPropagation();var o=this.e.getBoundingClientRect();this.A0.setAttribute("style","width:"+o.width+"px;");
var k=new jB(N.E.s,!0);k.data={P:N.b.q$,w9:this.ux,x:o.left-10,y:o.top+o.height};this.S(k)};function bk(g,o,k,y,d,b){hK.call(this,g,o,k,y,d,!1,b);
this.e.appendChild(this.fk);var T=Z.t("span");this.e.appendChild(T);T.appendChild(this.A0);this.e.appendChild(this.LS);
this.LS.setAttribute("style","width:3.3em");if(this.YH)this.e.appendChild(this._V)}bk.prototype=new hK;
function cO(g,o,k,y,d,b,T,a){hK.call(this,g,o,k,y,d,!0,b,null,T);Z.O9(this.e,"trangeinput");this.e.appendChild(this.fk);
this.e.appendChild(this.LS);var t=Z.t("span");if(a!=!0)this.e.appendChild(t);t.appendChild(this.A0)}cO.prototype=new hK;
function cR(g,o,k){fR.call(this);if(!o)return;this.vX=0;this.AZ=g;this.m2=null;this.akP=k;this.F0=[];
var y="dd"+Z.yB();this.e=Z.t("span","fitem ddmenu");if(g){this.fk=Z.t("label","flabel");this.e.appendChild(this.fk);
this.fk.setAttribute("for",y)}this.LS=Z.t("select");this.LS.setAttribute("id",y);this.e.appendChild(this.LS);
this.LS.addEventListener("change",this.pa.bind(this),!1);function d(b){var T=0;if(dj.M0(b.code,dj.Ef))T=1;
if(dj.M0(b.code,dj.tu))T=-1;if(T!=0)b.stopPropagation()}this.LS.addEventListener("keydown",d,!1);this.LS.addEventListener("keyup",d,!1);
this.B$=[];this.Hj=null;this.O$(o,k);this.f()}cR.prototype=new fR;cR.prototype.HZ=function(g){this.AZ=g;
this.f()};cR.prototype.f=function(){this.S8();if(this.Hj)this.O$(this.Hj,this.akP);this.$(this.vX)};
cR.prototype.c=function(){return this.vX};cR.prototype.O$=function(g,o){Z.ew(this.LS);var k=[],y=0;if(o){k.push(o[0]);
for(var m=1;m<o.length;m++)k.push(k[m-1]+o[m])}this.Hj=g;this.m2=[];this.akP=o;for(var m=0;m<g.length;
m++){var d=Z.t("option");if(this.F0.indexOf(m)!=-1)d.setAttribute("disabled","");d.textContent=d9.get(g[m]);
d.setAttribute("value",m);this.LS.appendChild(d);this.B$.push(d);this.m2.push(m+y);if(k.indexOf(m+1)!=-1&&m!=g.length-1){var b=Z.t("option");
b.setAttribute("disabled","");b.textContent="";this.LS.appendChild(b);y++}}};cR.prototype.akc=function(m){var g=this.F0,o=g.indexOf(m);
if(o==-1)g.push(m);this.f()};cR.prototype.anJ=function(m){var g=this.F0,o=g.indexOf(m);if(o!=-1)g.splice(o,1);
this.f()};cR.prototype.$=function(g){this.vX=g;this.LS.selectedIndex=this.m2[g]};cR.prototype.pa=function(g){this.vX=this.m2.indexOf(this.LS.selectedIndex);
this.S(new jB(N.E.A,!1))};cR.prototype.KA=function(){this.LS.focus()};function k5(g,o,k,y){fR.call(this);
if(!o)return;this.vX=0;this.abL=y;this.e=Z.t("span","fitem bbmenu");this.nr=Z.t("label","flabel");if(g){this.AZ=g;
this.nr.textContent=g+":";this.e.appendChild(this.nr)}this.B$=[];this.OF=Z.t("span");this.e.appendChild(this.OF);
this.Hj=null;this.O$(o,k);this.$(0)}k5.prototype=new fR;k5.prototype.HZ=function(g){this.AZ=g;this.f()};
k5.prototype.f=function(){var g=this.nr.parentNode!=null,o=this.e;if(this.AZ!=null){if(!g){o.appendChild(this.nr);
o.appendChild(this.OF)}this.nr.textContent=d9.get(this.AZ)+": "}else if(g)o.removeChild(this.nr);for(var m=0;
m<this.B$.length;m++)this.B$[m].f()};k5.prototype.c=function(){return this.vX};k5.prototype.O$=function(g,o){Z.ew(this.OF);
this.B$=[];this.Hj=g;for(var m=0;m<g.length;m++){var k=new da(g[m],!1,o?o[m]:null,this.abL);k.h("click",this.pa,this);
this.OF.appendChild(k.e);this.B$.push(k)}this.f()};k5.prototype.$=function(g){this.vX=g;for(var m=0;
m<this.B$.length;m++)this.B$[m].yQ();this.B$[g].sG()};k5.prototype.pa=function(g){var m=this.B$.indexOf(g.target);
this.$(m);this.S(new jB(N.E.A,!1))};k5.eG=function(g,o,k){if(o==null)o=16;var y=k5.e1,d=y.getContext("2d"),b=o>>>1;
y.width=y.height=o;var T=[];for(var m=0;m<g.length;m++){if(g[m][0]=="-")T.push(g[m].slice(1));else if(g[m]=="checker"||g[m].startsWith("#")){if(g[m]=="checker"){d.fillStyle="white";
d.fillRect(0,0,o,o);d.fillStyle="#bbbbbb";d.fillRect(b,0,b,b);d.fillRect(0,b,b,b)}else if(g[m].startsWith("#")){d.fillStyle=g[m];
d.fillRect(0,0,o,o)}T.push("<img src=\""+y.toDataURL()+"\" />")}else T.push(Z.$l(g[m],null,k?k:"autoscale"))}return T};
k5.e1=Z.t("canvas");function jZ(g,o,k,y,d,b){fR.call(this);this.e=Z.t("span","fitem mbox");this.agI=k;
this.a6N=d;if(g){this.AZ=g;this.nr=Z.t("label","flabel");this.e.appendChild(this.nr)}this.vB=o;this.lL=[];
for(var m=0;m<o.length;m++){var T=k?new da(o[m],!1,y?y[m]:null,!1,b):new dX(o[m],!0,"");T.h(k?"click":N.E.A,this.pa,this);
this.lL.push(T);this.e.appendChild(T.e)}this.f()}jZ.prototype=new fR;jZ.prototype.$=function(g){for(var o=0;
o<this.vB.length;o++)this.lL[o].$(g[o])};jZ.prototype.c=function(){var g=[];for(var o=0;o<this.vB.length;
o++)g[o]=this.lL[o].c();return g};jZ.prototype.f=function(){if(this.AZ)this.nr.innerHTML=d9.get(this.AZ)+": ";
var g=this.lL;for(var o=0;o<g.length;o++){g[o].f();if(o==g.length-1)g[o].e.style.marginRight="0px"}};
jZ.prototype.pa=function(g){var m=this.lL.indexOf(g.currentTarget),o=this.lL[m];if(this.agI)o.$(!o.c());
if(this.a6N){var k=o.c();for(var m=0;m<this.lL.length;m++)this.lL[m].$(!1);o.$(k)}this.S(new jB(N.E.A,!1))};
function i2(g,o){fR.call(this);this.fK=[];this.g=[];this.a0Y=g;this.nn=o;this.vW=0;this.l1=null;this.qc=new bJ(0,0);
if(o!=null){this.An=new iU([{name:[6,37]},{name:[5,4]}]);this.An.parent=this;this.An.h("select",this.iC,this)}this.e=Z.t("div","imageset scrollable");
this.e.addEventListener("contextmenu",Z.mm,!1)}i2.prototype=new fR;i2.prototype.f=function(){if(this.An)this.An.f()};
i2.prototype.iC=function(g){var m=this.An.Ny()[0],o=new jB(N.E.s,!0),k={P:N.b.pB,Q6:this.nn,pQ:this.g.slice(0)};
if(m==0){var y=this.l1[1][this.g[0]];k.Fd="rnm";o.data={P:N.b.xp,Pv:"namewindow",Ad:y,PV:{W:N.E.s,R:k}}}else{o.data=k;
k.Fd="del"}this.S(o)};i2.prototype.a8Y=function(){return this.vW};i2.prototype.t5=function(g){this.vW=g;
if(this.l1)this.Y3()};i2.prototype.dn=function(g,o,k,y){this.l1=[g,o,k,y];this.Y3()};i2.prototype.Y3=function(){var g=this.l1,o=g[0],k=g[1],y=g[2],d=g[3];
this.fK=[];this.e.innerHTML="";var b=this.wh.bind(this),T=this.vW;if(T==0)Z.O9(this.e,"imageset");else Z.Iu(this.e,"imageset");
for(var m=0;m<o.length;m++){var a=o[m],t=null;if(a==null){this.fK.push(null);continue}if(typeof a=="string"){t=Z.t("img","image");
t.setAttribute("src",a)}else t=a;if(y)Z.s4(t,y,d);if(this.a0Y)Z.O9(t,"gsicon");if(T==0){}else{var j=Z.t("div","listitem");
j.appendChild(t);var e=Z.t("span");e.textContent=k?k[m]:"Item "+(m+1);e.setAttribute("style","margin-left:4px;");
j.appendChild(e);t=j}if(k)t.setAttribute("title",k[m]);t.addEventListener("mousedown",b,!1);this.fK.push(t);
this.e.appendChild(t)}};i2.prototype.wh=function(g){if(this.nn==null)g.preventDefault();var o=this.fK.indexOf(g.currentTarget),k=window.__kb,y=this.g,d=y.length;
if(k.z(dj.d_)){var b=Math.min(y[0],y[y.length-1],o),T=Math.max(y[0],y[y.length-1],o);y=[];for(var m=b;
m<=T;m++)y.push(m)}else if(k.z(dj.IQ)){var a=y.indexOf(o);if(a==-1)y.push(o);else y.splice(a,1)}else y=[o];
y.sort(function(v,L){return v-L});if(g.button==0||d==1)this.$(y);this.qc=Z.YD(g,g.currentTarget);if(g.button==0)this.S(new jB(N.E.A));
if(g.button==2&&this.An){var t=this.An;t.update(null);var j=Z.YD(g,document.body),e=new jB(N.E.s,!0);
e.data={P:N.b.q$,w9:t,x:j.x,y:j.y+2};this.S(e)}};i2.prototype.c=function(){return this.g.slice(0)};i2.prototype.aoa=function(){var g=this.qc;
return new bJ(g.x,g.y)};i2.prototype.$=function(g){this.g=g.slice(0);for(var m=0;m<this.fK.length;m++){var o=this.fK[m];
if(o==null)continue;if(g.indexOf(m)!=-1)Z.O9(o,"selected");else Z.Iu(o,"selected")}};function hZ(g,o,k,y,d,b,T){fR.call(this);
this.e=Z.t("span","fitem "+k);this.W8=new fR;this.W8.e=Z.t("div","floatcont");this.W8.e.setAttribute("style","width: "+(y+1.5)+"em;");
this.W8.parent=this;this.ag8=Z.t("div");this.W8.e.appendChild(this.ag8);this.qO=Z.t("div");this.W8.e.appendChild(this.qO);
if(g){this.AZ=g;this.nr=Z.t("label","flabel");this.e.appendChild(this.nr)}this.P=Z.t("button",T?"nopadding":"");
this.P.setAttribute("style","position:relative;");var a=this.Pz.bind(this),t=this.Yv.bind(this);Z.Fn(this.P,o?t:a);
this.e.appendChild(this.P);this.HO=Z.t("img",T?"gsicon":"");this.P.appendChild(this.HO);if(o){var j=Z.t("button");
j.textContent="\u25BC";Z.Fn(j,a);this.e.appendChild(j)}else{var e=Z.t("span");e.textContent="\u25BC";
e.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.P.appendChild(e)}var v=Z.t("span");
this.qO.appendChild(v);v.setAttribute("style","display:inline-block;  vertical-align:top; width:"+y+"em;");
this.a0=new i2(T,b);v.appendChild(this.a0.e);this.a0.parent=this.W8;this.a0.h(N.E.A,this.bK,this);this.a0.e.style.height=d+"em";
this.WZ=Z.t("button");this.WZ.textContent="\u25BC";this.WZ.setAttribute("style","padding:3px");Z.Fn(this.WZ,this.v$.bind(this));
this.qO.appendChild(this.WZ);var L=this.i6(),H=this.adf=b!=er.fB&&b!=er.Yh?b:null,w=this.ana=b==null?!1:er.p7[b][4]!=0,P=b==null?"":er.p7[b][0].toUpperCase(),Q=[];
if(H)Q.push({name:[12,87]});Q.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],_r:!0});Q.push({name:[[23,6],"."+(P=="ICC"?"icc .cube .look .3dl":P)]},{name:["VAR0 ."+P,[1,8]]},{name:[6,37]},{name:[5,4],_r:L.length!=0});
for(var m=0;m<L.length;m++)Q.push({name:L[m].split("/").pop()});this.a4d=Q;this.nn=b;this.uu=null;this.k7=!0;
this.Nc=null}hZ.prototype=new fR;hZ.prototype.i6=function(){return[]};hZ.prototype.Yv=function(){};hZ.prototype.f=function(){this.a0.f();
var g=this.AZ;if(g)this.nr.textContent=d9.get(g)+":"};hZ.prototype.HZ=function(g){this.nr.textContent=g};
hZ.prototype.cz=function(g){var o=this.nn,k=0;if(o==er.hW){k=this.uu?this.uu.length:0;g=g.slice(0)}this.uu=g;
this.k7=!0;if(Z.Hd(this.a0.e)||o==er.DC)this.k1();if(o==er.hW&&g.length-k==1&&Z.Hd(this.e)){this.$(g[k]);
this.k7=!0;this.k1();this.a0.$([k]);this.S(new jB(N.E.A))}};hZ.prototype.iC=function(g){var o=g.target.Ny()[0];
if(this.adf==null)o++;var k=new jB(N.E.s,!0);if(o==0){var y=this.Gb();if(this.nn==er.hW&&y[0].profile==null)return;
k.data={P:N.b.pB,Fd:"add",Q6:this.adf,BH:y}}else if(o==1)this.a0.t5(1-this.a0.a8Y());else if(o<=5)this.Ae(o-2);
else{var d=this.i6();k.data={P:N.b.VI,Q6:{url:"rsrc/"+d[o-6]}}}if(k.data)this.S(k)};hZ.prototype.Ae=function(g){var o=new jB(N.E.s,!0),k=this.a0.c(),y={P:N.b.pB,Q6:this.nn,pQ:k};
if(g>1&&k.length==0){alert("No items selected");return}if(g==0)o.data={P:N.b.RL};else if(g==1)o.data={P:N.b.e3,a12:this.nn,pQ:k.length==0?null:k};
else if(g==2){var d=this.a0.l1[1][k[0]];y.Fd="rnm";o.data={P:N.b.xp,Pv:"namewindow",Ad:d,PV:{W:N.E.s,R:y}}}else if(g==3){o.data=y;
y.Fd="del"}this.S(o)};hZ.prototype.Gb=function(){return[this.c()]};hZ.prototype.v$=function(g){if(this.An==null){this.An=new iU(this.a4d);
this.An.parent=this.W8;this.An.h("select",this.iC,this)}if(Z.Hd(this.An.e))return;g.stopPropagation();
var o=this.An;o.f();o.update(null);var k=g.currentTarget.getBoundingClientRect(),y=new jB(N.E.s,!0);
y.data={P:N.b.q$,w9:o,x:k.left,y:k.top+k.height};this.S(y)};hZ.prototype.Pz=function(g,o,k){if(Z.Hd(this.W8.e))return;
if(g)g.stopPropagation();this.k1();if(o==null){var y=this.P.getBoundingClientRect(),o=y.left,k=y.top+y.height}var d=new jB(N.E.s,!0);
d.data={P:N.b.q$,w9:this.W8,x:o,y:k,wo:!0};this.S(d)};hZ.prototype.al4=function(g,o){this.Pz(null,g,o)};
function bR(){fR.call(this);this.e=Z.t("div");this.VJ=!1;this.y2=[new cR([12,19,1],[[13,1,7]].concat(aj.rH)),new dV([17,1]),new dV([12,46])];
for(var m=0;m<3;m++){var g=this.y2[m];this.e.appendChild(g.e);g.h(N.E.A,this.dg,this)}this.f()}bR.prototype=new fR;
bR.prototype.f=function(){for(var m=0;m<3;m++)this.y2[m].f()};bR.prototype.c=function(){return this.VJ.slice(0)};
bR.prototype.$=function(g){this.VJ=g.slice(0);var o=this.y2,k=o[0].c();o[1].$(g.slice(k*8,k*8+4),k);
o[2].$(g.slice(k*8+4,k*8+8),k)};bR.prototype.dg=function(g){var o=this.y2,k=o.indexOf(g.currentTarget);
if(k==0)this.$(this.VJ);else{var y=o[0].c()*8+(k==1?0:4),d=o[k].c();for(var m=0;m<4;m++)this.VJ[y+m]=d[m];
this.S(new jB(N.E.A,!1))}};function dV(g){fR.call(this);this.e=Z.t("div");this.T=Z.t("canvas");this.Da=g;
this.VJ=[0,20,200,255];this.$o=0;this.v6=-1;this.aw3=[];for(var m=0;m<5;m++){var o=Z.t("span");o.setAttribute("style","display:inline-block;width:"+(m==0?8:m==2?7:2)+"em");
this.aw3.push(o);this.e.appendChild(o)}this.xk=this.wt.bind(this);this.LV=this.XQ.bind(this);this.ir=this.zf.bind(this);
Z.yP(this.T);Z.Fn(this.T,this.xk);this.e.appendChild(this.T);this.Y3()}dV.prototype=new fR;dV.prototype.f=function(){this.Y3()};
dV.prototype.$=function(g,o){this.VJ=g;this.$o=o;this.Y3()};dV.prototype.c=function(){return this.VJ.slice(0)};
dV.prototype.wt=function(g){var o=this.VJ,k=Z.YD(g,this.T),y=k.x-8,d=-1,b=1e9;for(var m=0;m<4;m++){var T=y-o[m],a=Math.abs(T);
if(a<8&&a<b&&((m&1)==0&&T<0||(m&1)==1&&T>0)){b=T;d=m}}if(d==-1)return;this.v6=d;this.Mr=window.__kb.z(dj.M4)||o[(d>>>1)*2]!=o[(d>>>1)*2+1];
Z.a$(window,this.LV);Z.hO(window,this.ir)};dV.prototype.XQ=function(g){var o=this.VJ,k=this.v6,y=(k>>>1)*2,d=y+1,b=Z.YD(g,this.T),T=Math.round(Math.max(0,Math.min(255,b.x-8)));
o[k]=T;if(this.Mr&&o[y]>=o[d])this.Mr=!1;if(!this.Mr)o[y]=o[d]=T;this.Y3();this.S(new jB(N.E.A,!1))};
dV.prototype.zf=function(g){Z.DO(window,this.LV);Z.ZV(window,this.ir)};dV.prototype.Y3=function(){var g=this.T;
Z.OK(g,255+16,16);var o=g.getContext("2d"),k=g.width,y=g.height,d=Math.round(255*Z.V()),b=Math.round(8*Z.V());
o.translate(b,0);var T=o.createLinearGradient(0,0,d,0);T.addColorStop(0,"black");T.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.$o]);
o.fillStyle=T;o.fillRect(0,0,d,b);var a=this.aw3,t=d9.get(this.Da)+":";a[0].textContent=t;for(var m=0;
m<4;m++){var j=this.VJ[m];a[1+m].textContent=j;var e=Math.round(j*Z.V());o.beginPath();o.moveTo(e,b);
o.lineTo(e,b+b);o.lineTo(e+((m&1)==0?-1:1)*b,b+b);o.closePath();o.fillStyle=m<2?"#666666":"#cccccc";
o.fill();o.strokeStyle="black";o.stroke()}};function ek(g,o,k){fR.call(this);if(k==null)k=!1;this.Z=[0,0,1];
this.ahQ=o;this.aqc=k;this.abV=0;var y="ai"+Z.yB();this.e=Z.t("span","fitem angleinput");if(g){this.nr=Z.t("label","flabel");
this.AZ=g;this.e.appendChild(this.nr);this.nr.setAttribute("for",y)}this.eA=k?44:20;this.T=Z.t("canvas","gsicon");
this.iS=this.T.getContext("2d");Z.yP(this.T);Z.OK(this.T,this.eA*2+1,this.eA*2+1);this.iS.scale(Z.V(),Z.V());
this.e.appendChild(this.T);Z.Fn(this.T,this.eB.bind(this));this.JD=this.iZ.bind(this);this.OQ=this.ur.bind(this);
var d=this.pa.bind(this),b=Z.t("div");b.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!k)this.e.appendChild(b);this.r_=[];for(var m=0;m<2;m++){var T=Z.t("input");this.r_.push(T);T.setAttribute("type","text");
Z.tF(T);if(m==0)T.setAttribute("id",y);T.addEventListener("change",d,!1);var a=Z.t("span");a.textContent="\xB0";
if(m==0||o){b.appendChild(T);b.appendChild(a);Z.Dx(b)}}this.$(this.Z)}ek.prototype=new fR;ek.prototype.f=function(){if(this.AZ)this.nr.textContent=d9.get(this.AZ)+":"};
ek.prototype.HZ=function(g){this.nr.textContent=g};ek.prototype.c=function(){return this.Z.slice(0)};
ek.prototype.$=function(g,o){var k=this.Z;g=g.slice(0);if(g[0]==null)g[0]=k[0];if(g[1]==null)g[1]=k[1];
if(g[2]==null)g[2]=k[2];this.Z=g;var y=g[0],d=g[1],b=g[2],T=this.ahQ,a=this.aqc,t=this.eA*.85;if(!T)d=0;
this.r_[0].value=y;this.r_[1].value=d;var j=this.iS;j.clearRect(0,0,100,100);y=Math.PI*y/180;d=t*(90-d)/90;
var e=this.eA+.5;j.save();j.translate(e,e);j.rotate(-y);j.strokeStyle="rgba(0,0,0,0.5)";j.beginPath();
j.ellipse(0,0,t,t*b,0,0,2*Math.PI);if(a){j.moveTo(0,-t*b);j.lineTo(0,t*b);j.moveTo(-d,0)}else j.moveTo(0,0);
j.lineTo(d,0);j.stroke();var v=this.eA*.15;j.fillStyle="black";j.beginPath();if(a){j.arc(0,-t*b,v*.66,0,2*Math.PI);
j.arc(0,t*b,v*.66,0,2*Math.PI)}if(T){j.arc(d,0,v*.4,0,2*Math.PI)}else{j.moveTo(e-v,-v*.66);j.lineTo(e,0);
j.lineTo(e-v,v*.66)}j.fill();j.restore();if(o)this.pa()};ek.prototype.pa=function(g){var o=parseInt(this.r_[0].value);
if(isNaN(o))o=0;var k=parseInt(this.r_[1].value);if(isNaN(k))k=0;o=o%360;k=k%360;this.$([o,k]);this.S(new jB(N.E.A,!1))};
ek.prototype.eB=function(g){Z.a$(window,this.JD);Z.hO(window,this.OQ);var o=Z.YD(g,this.T),e=0,v=1e9;
o.x-=this.eA;o.y-=this.eA;var k=this.Z,y=k[0]*Math.PI/180,d=(90-k[1])/90,b=k[2],T=this.eA*.85,a=Math.sin(-y),t=Math.cos(-y),j=[new bJ(t*T,a*T)];
if(this.aqc)j.push(new bJ(-a*T*b,t*T*b),new bJ(a*T*b,-t*T*b));for(var m=0;m<j.length;m++){var L=bJ.YX(o,j[m]);
if(L<v){v=L;e=m}}this.abV=e;if(e==0)this.iZ(g)};ek.prototype.iZ=function(g){var o=Z.YD(g,this.T),k=this.abV,y=[],d=o.x-this.eA,b=o.y-this.eA,T=this.eA*.85;
if(k==0){var a=180*Math.atan2(-b,d)/Math.PI,t=90-90*Math.min(1,Math.sqrt(d*d+b*b)/T);if(g.shiftKey)a=Math.round(a/15)*15;
y=[Math.round(a),Math.round(t)]}else y=[null,null,Math.max(.01,Math.min(1,Math.sqrt(d*d+b*b)/T))];this.$(y);
this.S(new jB(N.E.A,!1))};ek.prototype.ur=function(g){this.S(new jB(N.E.A,!1));Z.DO(window,this.JD);
Z.ZV(window,this.OQ)};function hX(g,o){fR.call(this);this.VJ=0;this.yp=o;this.e=Z.t("span","fitem angleinput");
if(g){this.nr=Z.t("label","flabel");this.AZ=g;this.e.appendChild(this.nr)}this.T=Z.t("canvas","gsicon");
this.iS=this.T.getContext("2d");Z.OK(this.T,o,o);this.e.appendChild(this.T);Z.yP(this.T);Z.Fn(this.T,this.eB.bind(this));
this.JD=this.iZ.bind(this);this.OQ=this.ur.bind(this);this.$(0)}hX.prototype=new fR;hX.prototype.f=function(){if(this.AZ)this.nr.textContent=d9.get(this.AZ)+":"};
hX.prototype.HZ=function(g){this.nr.textContent=g};hX.prototype.c=function(){return this.VJ};hX.prototype.aqP=function(g){var o=this.VJ,k=Math.floor(o/3),y=o-k*3;
y=Math.max(0,Math.min(2,y+g.x));k=Math.max(0,Math.min(2,k+g.y));this.$(k*3+y)};hX.prototype.$=function(g){this.VJ=g;
var o=this.T.width,k=Math.floor(g/3),y=g-3*k,d=(y+.5)*o/3,b=(k+.5)*o/3,T=this.iS,a=[.5,Math.round(o/3)+.5,Math.round(2*o/3)+.5,o-.5];
T.clearRect(0,0,o,o);var t=this.yp<30;T.setLineDash([]);T.strokeStyle=t?"rgba(0,0,0,0.5)":"#000000";
T.beginPath();for(var m=0;m<4;m++){var j=a[m];T.moveTo(j,0);T.lineTo(j,o);T.moveTo(0,j);T.lineTo(o,j)}T.stroke();
if(g==9)return;if(!t){T.setLineDash([1,2]);var e=o*.53,v=Math.max(0,Math.min(o-e,d-e/2)),L=Math.max(0,Math.min(o-e,b-e/2));
T.strokeRect(Math.round(v)+.5,Math.round(L)+.5,Math.round(e),Math.round(e))}T.fillStyle="#000000";T.beginPath();
T.arc(d,b,o/8,0,Math.PI*2);T.fill()};hX.prototype.eB=function(g){Z.a$(document.body,this.JD);Z.hO(document.body,this.OQ);
this.iZ(g)};hX.prototype.iZ=function(g){var o=Z.YD(g,this.T),k=Math.max(0,Math.min(2,Math.floor(o.x/(this.yp/3)))),y=Math.max(0,Math.min(2,Math.floor(o.y/(this.yp/3))));
this.$(y*3+k)};hX.prototype.ur=function(g){this.S(new jB(N.E.A,!1));Z.DO(document.body,this.JD);Z.ZV(document.body,this.OQ)};
function kq(cy){fR.call(this);this.e=Z.t("span","fitem cswatch");this.auw=0;this.ln=[];this.dW=[];var g=this.ap_.bind(this);
for(var m=0;m<cy;m++){this.ln.push(0);var o=Z.t("span","colorsample");o.addEventListener("click",g,!1);
this.dW.push(o);this.e.appendChild(o)}var k=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],y=Math.min(cy,k.length);
for(var m=0;m<y;m++)this.ln[m]=k[m];this.ae()}kq.prototype=new fR;kq.prototype.ap_=function(g){this.auw=this.dW.indexOf(g.currentTarget);
this.S(new jB(N.E.A))};kq.prototype.c=function(){return this.ln[this.auw]};kq.prototype.$=function(g){var o=this.ln,k=o.indexOf(g);
if(k!=-1)o.splice(k,1);else o.pop();o.unshift(g);this.ae()};kq.prototype.ae=function(){for(var m=0;m<this.ln.length;
m++){this.dW[m].setAttribute("style","background-color:#"+_.Mb(this.ln[m]))}};function d6(g){fR.call(this);
this.di={o:0,C:0,k:0};this.nO=g;this.e=Z.t("span","fitem colorsample");this.e.addEventListener("click",this.U5.bind(this),!1)}d6.prototype=new fR;
d6.prototype.f=function(){};d6.prototype.U5=function(g){var o=this.di;this.S(new jB("click"));var k=new jB(N.E.s,!0);
k.data={P:N.b.xp,Pv:"colorpicker",IZ:o.o<<16|o.C<<8|o.k,Tr:this.ra.bind(this),XC:this.nO};this.S(k)};
d6.prototype.ra=function(g){this.Ea(g);this.S(new jB(N.E.A))};d6.prototype.Gf=function(){this.U5(null)};
d6.prototype.an8=function(){var g=this.di;return g.o<<16|g.C<<8|g.k};d6.prototype.c=function(){return _.M.UF(this.di)};
d6.prototype.Ea=function(g){this.di={o:g>>16&255,C:g>>8&255,k:g&255};this.a7_()};d6.prototype.$=function(g){this.di=_.M.sL(g);
this.a7_()};d6.prototype.a7_=function(){var g=this.di,o=g.o,k=g.C,y=g.k,d=o<<16|k<<8|y;this.e.setAttribute("style","background-color:#"+_.Mb(d))};
function h3(){fR.call(this);this.na=!1;this.xn=20;this.afT=10;this.x5=0;this.na=!1;this.Ip={o:255,C:0,k:0};
this.zl={o:0,C:0,k:0};this.e=Z.t("canvas");this.Y3();Z.yP(this.e);Z.Fn(this.e,this.xk.bind(this))}h3.prototype=new fR;
h3.prototype.az7=function(g){if(this.na==g)return;this.na=g;this.Y3()};h3.prototype.f=function(){};h3.prototype.aoU=function(g,o){function k(y){return{o:y>>16&255,C:y>>8&255,k:y&255}}if(g!=null)this.Ip=k(g);
if(o!=null)this.zl=k(o);this.Y3()};h3.prototype.xk=function(g){var o=Z.YD(g,this.e),k=o.x*Z.V(),y=o.y*Z.V(),d=this.xn,b=this.afT,T=0;
if(k<b&&y<b){T=0}else if(k>d-b&&y>d-b){T=1}else if(k<b){T=2}else{T=3}this.Gf(T)};h3.prototype.Gf=function(g){var o=new jB(N.E.s,!0);
if(g>1)o.data={P:N.b.pB,Q6:er.wp,cL:g};else{this.x5=g;var k=g==0?this.Ip:this.zl;o.data={P:N.b.xp,Pv:"colorpicker",IZ:k.o<<16|k.C<<8|k.k,Tr:this.ra.bind(this)}}this.S(o)};
h3.prototype.ra=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.pB,Q6:er.wp,cL:this.x5,Z:g};this.S(o)};
h3.prototype.Y3=function(){var g=this.e,o=g.getContext("2d"),k=Z.V(),d="#aaaaaa",b=.62;Z.OK(g,34,34);
g.setAttribute("style",g.getAttribute("style")+";cursor:pointer");var y=this.xn=g.width,T=this.afT=Math.round(y*b);
function a(w,P){var Q=w.o,x=w.C,F=w.k;if(P)Q=x=F=Math.round(_.pM(Q,x,F));var E=Q<<16|x<<8|F;return"#"+_.Mb(E)}function t(o,w,P,Q,x,F){o.beginPath();
if(Q>=F*2&&x>=F*2){o.moveTo(w+F,P);o.lineTo(w+Q-F,P);o.quadraticCurveTo(w+Q,P,w+Q,P+F);o.lineTo(w+Q,P+x-F);
o.quadraticCurveTo(w+Q,P+x,w+Q-F,P+x);o.lineTo(w+F,P+x);o.quadraticCurveTo(w,P+x,w,P+x-F);o.lineTo(w,P+F);
o.quadraticCurveTo(w,P,w+F,P)}o.closePath()}function j(w,P,T,Q,x){o.strokeStyle=x?x:"black";o.fillStyle=Q;
t(o,w+.5,P+.5,T-1,T-1,T*.2);o.fill();o.stroke()}j(y-T,y-T,T,a(this.zl,this.na));j(0,0,T,a(this.Ip,this.na));
var e=y-T,v=Math.round(e*b);j(y-v,e-v,v,"white",d);j(y-e,0,v,"black",d);o.save();o.fillStyle=d;o.translate(0,y);
o.rotate(-Math.PI/2);e=y-T;var L=Math.round(e*.28),H=Math.round(e*.25);for(var m=0;m<2;m++){o.fillRect(L,L,e-L,1);
o.beginPath();o.moveTo(e-H,L+.5-H);o.lineTo(e,L+.5);o.lineTo(e-H,L+.5+H);o.closePath();o.fill();o.transform(0,1,1,0,0,0)}o.restore()};
function d4(g){hZ.call(this,g,!1,"brushbutton nopadding",19,10,er.Bj,!0);var o=this.ag8;Z.O9(o,"flexrow");
var k=Z.t("div");o.appendChild(k);var y=Z.t("div");o.appendChild(y);y.setAttribute("style","margin-left:8px");
this.MF=new ek(null,null,!0);this.MF.h(N.E.A,this.oL,this);k.appendChild(this.MF.e);this.$U=new cO([12,14,0],1,1e3," px",0,!0);
this.$U.h(N.E.A,this.oL,this);y.appendChild(this.$U.e);this.Bv=new cO([12,17],0,100,"%");this.Bv.h(N.E.A,this.oL,this);
y.appendChild(this.Bv.e);this.bw=new jZ(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.bw.h(N.E.A,this.oL,this);y.appendChild(this.bw.e)}d4.prototype=new hZ;d4.prototype.i6=function(){var g=["pencil","trees"];
for(var m=0;m<g.length;m++)g[m]="brushes/"+g[m]+".abr";return g};d4.prototype.$=function(g,o,k){this.Nc=JSON.parse(JSON.stringify(g));
var y=Math.floor(20*Z.V()),d=Math.floor(36*Z.V()),b=Math.floor(24*Z.V()),T=e9.OJ(g,o,k,y,b,d);this.HO.setAttribute("src",T);
Z.s4(this.HO,d,b);var a=g.Brsh.v;this.$U.$(a.Dmtr.v.val);if(a.Hrdn!=null){this.Bv.gM();this.Bv.$(a.Hrdn.v.val)}else this.Bv.jK();
if(a.Angl!=null)this.MF.$([a.Angl.v.val]);if(a.Rndn!=null)this.MF.$([null,null,a.Rndn.v.val/100]);var t=[!1,!1];
if(g.opVr)t[0]=g.opVr.v.bVTy.v==2;if(g.szVr)t[1]=g.szVr.v.bVTy.v==2;this.bw.$(t)};d4.prototype.Gb=function(){return{list:[{t:"Objc",v:this.c()}],sc:[],Uu:[]}};
d4.prototype.c=function(){return this.Nc};d4.prototype.k1=function(){if(!this.k7)return;var g=[],o=[],k=this.uu,y=Math.floor(33*Z.V()),d=Math.floor(40*Z.V());
for(var m=0;m<k.list.length;m++){var b=k.list[m].v,T=e9.OJ(b,k.sc,k.Uu,y,d);g.push(T);o.push(b.Nm.v.split("=").pop())}this.a0.dn(g,o,y,d);
this.k7=!1};d4.prototype.bK=function(g){var o=this.uu;this.$(o.list[this.a0.c()[0]].v,o.sc,o.Uu);this.S(new jB(N.E.A))};
d4.prototype.f=function(){hZ.prototype.f.call(this);this.MF.f();this.$U.f();this.Bv.f()};d4.prototype.oL=function(g){var o=this.uu,k=this.Nc,y=k.Brsh.v;
y.Dmtr.v.val=this.$U.c();if(y.Hrdn!=null)y.Hrdn.v.val=this.Bv.c();if(y.Angl!=null)y.Angl.v.val=this.MF.c()[0];
if(y.Rndn!=null)y.Rndn.v.val=Math.round(this.MF.c()[2]*100);if(g.target==this.bw){var d=this.bw.c(),b=["opVr","szVr"],T=["usePaintDynamics","useTipDynamics"];
for(var m=0;m<2;m++){var a=b[m];if(k[a]==null)k[a]=JSON.parse(jl.XF.ui[a]);k[a].v.bVTy.v=d[m]?2:0;if(d[m])k[T[m]].v=!0}jl.XF.ahp(k)}this.$(k,o.sc,o.Uu);
this.S(new jB(N.E.A))};function iM(g){hZ.call(this,g,!0,"contourbutton",17,10.5,er.L5)}iM.prototype=new hZ;
iM.prototype.bK=function(g){this.$(this.uu[g.target.c()]);this.S(new jB(N.E.A))};iM.prototype.Yv=function(g){var o=new jB(N.E.s,!0);
o.data={P:N.b.xp,Pv:"contoureditor",dd:this.Nc,response:this.ae4.bind(this)};this.S(o)};iM.prototype.ae4=function(g){this.$(g);
this.S(new jB(N.E.A))};iM.prototype.k1=function(){if(!this.k7)return;var g=Math.floor(38*Z.V()),o=Math.floor(38*Z.V()),k=[],y=[],d=this.uu;
for(var m=0;m<d.length;m++){y.push(d[m].Nm?d[m].Nm.v:"");k.push(_.wb.OJ(d[m].Crv.v,g,o))}this.a0.dn(k,y,g,o);
this.k7=!1};iM.prototype.$=function(g){this.Nc=JSON.parse(JSON.stringify(g));var o=this.Nc.Crv.v;for(var m=0;
m<o.length;m++)if(o[m].v.Cnty==null)o[m].v.Cnty={t:"bool",v:!0};this.GA()};iM.prototype.GA=function(){var g=Math.floor(30*Z.V()),o=Math.floor(30*Z.V()),k=_.wb.OJ(this.Nc.Crv.v,g,o);
this.HO.setAttribute("src",k);Z.s4(this.HO,g,o)};iM.prototype.c=function(){return JSON.parse(JSON.stringify(this.Nc))};
function hV(g){fR.call(this);this.A4=null;this.eM=null;this.xR=null;this.eg=null;this.a6L=[];this.awM=[];
this.e=Z.t("span","fitem fillbutton");this.W8=new fR;this.W8.e=Z.t("div","floatcont form");this.W8.e.setAttribute("style","width: 21em;");
this.W8.parent=this;this.lf=g;this.nr=this.nr=Z.t("label","flabel");this.e.appendChild(this.nr);this.T=Z.t("canvas");
this.iS=this.T.getContext("2d");this.a44=null;this.e.appendChild(this.T);Z.Fn(this.T,this.Pz.bind(this));
this.MS=new k5([12,66],["","Color","Grad","Patt"]);this.W8.e.appendChild(this.MS.e);this.MS.h(N.E.A,this.dg,this);
this.W8.e.appendChild(Z.t("hr"));this.a3r=Z.t("span");this.f6=new d6(!1);this.f6.parent=this.W8;this.f6.h(N.E.A,this.dg,this);
this.OU=new kq(10);this.OU.h(N.E.A,this.dg,this);this.C0=Z.t("div","marged hiline");this.C0.appendChild(this.f6.e);
Z.Dx(this.C0);this.C0.appendChild(this.OU.e);this.GI=new bA("GrFl",!0);this.GI.parent=this.W8;this.GI.h(N.E.A,this.dg,this);
this.ah=Z.t("div","marged hiline");var o="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var m=0;
m<o.length;m++){var k=this.GI.Iy[o[m]].e;this.ah.appendChild(k)}this.Hs=new bA("patternFill",!0);this.Hs.parent=this.W8;
this.Hs.h(N.E.A,this.dg,this);this.oR=Z.t("div","marged hiline");var o=["Ptrn","Angl","Scl","Algn","phase"];
for(var m=0;m<o.length;m++){var k=this.Hs.Iy[o[m]].e;this.oR.appendChild(k)}}hV.prototype=new fR;hV.prototype.mt=function(g,o){var k=h_.vE(g,o);
if(k!=null)this.OU.$(k);if(o==er.EB){this.a6L=[];this.awM=[];if(this.A4)this.$(this.xR,this.c(),this.A4)}this.eM=g;
this.GI.mt(g,o);this.Hs.mt(g,o)};hV.prototype.f=function(){this.nr.textContent=d9.get(this.lf)+": ";
this.MS.f();this.f6.f();this.GI.f();this.Hs.f()};hV.prototype.dg=function(g){var o=g.currentTarget;if(o==this.MS){var k=this.MS.c(),y={uF:k,si:this.A4[k]};
if(k>0&&y.si==null)y.si=JSON.parse(JSON.stringify(iZ.IS[k-1]));if(this.A4)this.$(this.xR,y,this.A4)}if(o==this.OU)this.f6.Ea(o.c());
this.S(new jB(N.E.A,!1))};hV.prototype.Pz=function(g){if(Z.Hd(this.W8.e))return;g.stopPropagation();
var o=this.T.getBoundingClientRect(),k=new jB(N.E.s,!0);k.data={P:N.b.q$,w9:this.W8,x:o.left,y:o.top+o.height+4};
this.S(k)};hV.prototype.$=function(g,o,k){this.A4=k;this.xR=g;var y=[[13,1,0],[13,0],[12,37],[12,62]],d=this.a6L,b=this.awM,T=!1,e;
for(var m=0;m<4;m++){var a={uF:m,si:k[m]},t=hV.a98(a);if(b[m]==t)continue;T=!0;var j=hV.a0W(null,a,this.eM,this.xR,22,22,!1);
d[m]="<img width=\"22\" height=\"22\" src=\""+j+"\" />";b[m]=t}if(T)this.MS.O$(d,y);this.MS.$(o.uF);
var t=hV.a98(o);if(t!=this.a44)hV.a0W(this.iS,o,this.eM,this.xR,30,23,!0);this.a44=t;var v=o.uF;if(v==0){e=this.a3r}if(v==1){this.f6.$(o.si.Clr.v);
e=this.C0}if(v==2){this.GI.update(g,o.si);e=this.ah}if(v==3){this.Hs.update(g,o.si);e=this.oR}if(e!=this.eg){if(this.eg!=null){this.W8.e.removeChild(this.eg)}this.W8.e.appendChild(e);
this.eg=e}};hV.prototype.c=function(){var g={uF:this.MS.c()};if(g.uF==1){g.si=JSON.parse(JSON.stringify(iZ.IS[0]));
g.si.Clr.v=this.f6.c()}if(g.uF==2){g.si=this.GI.c()}if(g.uF==3){g.si=this.Hs.c()}return g};hV.a98=function(g){var o=g.uF,k=g.si,y="empty";
if(o==1){y=_.M.sL(k.Clr.v);y=y.o+","+y.C+","+y.k}if(o==2)y=JSON.stringify(k.Grad.v);if(o==3)y=k.Ptrn.v.Idnt.v;
return y};hV.a0W=function(g,o,k,y,d,b,T){if(g==null)g=hV.iS;var a=Math.floor(d*Z.V()),t=Math.floor(b*Z.V()),j=g.canvas,e;
j.width=a;j.height=t;Z.s4(j,a,t);var v=o.uF;if(v==0){g.fillStyle="#ffffff";g.fillRect(0,0,a,t);g.strokeStyle="#ff0000";
g.lineWidth=2;g.moveTo(0,0);g.lineTo(a,t);g.moveTo(0,t);g.lineTo(a,0);g.stroke()}if(v==1){var L=o.si.Clr.v;
L=_.M.sL(L);g.fillStyle="#"+_.Mb(L.o<<16|L.C<<8|L.k);g.fillRect(0,0,a,t)}if(v==2){D.Q2.OJ(o.si.Grad.v,a,t,0,k.p2,k.Pp,g)}if(v==3){var H=o.si.Ptrn.v,w;
if(y!=null)w=bs.Mi(H,y.add.Patt);if(w==null)w=bs.Mi(H,k.A6);jC.OJ(w,a,t,j)}if(T){g.beginPath();g.strokeStyle="#000000";
g.fillStyle="#ffffff";g.lineWidth=2;var P=a*.7,Q=Math.floor(t*.7),x=7*Z.V();g.moveTo(P,Q);g.lineTo(P+x,Q);
g.lineTo(P+x/2,Q+x/2);g.closePath();g.stroke();g.fill()}if(g==hV.iS)return j.toDataURL()};hV.iS=Z.t("canvas").getContext("2d");
function jC(g){hZ.call(this,g,!1,"patternbutton",18,10,er.EB);this.IF=null}jC.prototype=new hZ;jC.prototype.bK=function(g){var o=this.uu[this.a0.c()];
this.Nc={classID:"Ptrn",Nm:{t:"TEXT",v:o.name},Idnt:{t:"TEXT",v:o.id}};this.S(new jB(N.E.A));this.GA()};
jC.prototype.k1=function(){if(!this.k7)return;var g=this.uu,o=Math.floor(34*Z.V()),k=Math.floor(34*Z.V()),y=[],d=[];
for(var m=0;m<g.length;m++){y.push(jC.OJ(g[m],o,k));d.push(g[m].name)}this.a0.dn(y,d,o,k);this.k7=!1};
jC.prototype.$=function(g,o){if(this.Nc&&g.Idnt.v==this.Nc.Idnt.v)return;this.Nc=JSON.parse(JSON.stringify(g));
this.GA(o)};jC.prototype.c=function(){return JSON.parse(JSON.stringify(this.Nc))};jC.prototype.Gb=function(){return this.IF?[this.IF]:[]};
jC.prototype.GA=function(g){var o=Math.floor(50*Z.V()),k=Math.floor(50*Z.V()),y;if(g!=null)y=bs.Mi(this.Nc,g.add.Patt);
if(y==null)y=bs.Mi(this.Nc,this.uu);this.IF=y;var d=jC.OJ(y,o,k);this.HO.setAttribute("src",d);Z.s4(this.HO,o,k)};
jC.T=Z.t("canvas","");jC.OJ=function(g,o,k,y){if(y==null)y=jC.T;var d=y.getContext("2d");y.width=o;y.height=k;
if(g){var b=g.pR[1],T=b.m,a=b.n,t=g.pR[0],j=Math.min(o/T,k/a),e=j;if(e*T<2)e=2/T;var v=j;if(v*a<2)v=2/a;
var L=D.C8.Zb([t,b],new d3(e,0,0,v,0,0),e>2),H=L.rect.m,w=L.rect.n,P=d.createImageData(H,w);_.QF(L.buffer,P.data);
d.putImageData(P,Math.floor((o-H)/2),Math.floor((k-w)/2))}return y.toDataURL()};function f_(g,o,k){if(o==null)o=24.2;
if(k==null)k=17;hZ.call(this,g,!1,"patternbutton",o,k,er.fB);this.bd=""}f_.prototype=new hZ;f_.prototype.bK=function(g){this.Nc=JSON.parse(JSON.stringify(this.uu[0][this.a0.c()[0]]));
this.S(new jB(N.E.A))};f_.prototype.k1=function(){var g=this.uu;if(g==null||!this.k7)return;var o=Math.floor(50*Z.V()),k=Math.floor(50*Z.V()),y=[],d=[];
for(var m=0;m<g[0].length;m++){y.push(f_.OJ(this.uu[0][m].GO,o,k,this.uu[1]));d.push(g[0][m].i8.Nm.v.split("=").pop())}this.a0.dn(y,d,o,k);
this.k7=!1};f_.prototype.$=function(g,o,k,y){var d=JSON.stringify(g.GO)+","+k+","+y;if(this.bd!=d){this.bd=d;
this.Nc=JSON.parse(JSON.stringify(g));this.GA(o,k,y)}};f_.prototype.c=function(){return JSON.parse(JSON.stringify(this.Nc))};
f_.prototype.GA=function(g,o,k){var y=Math.floor(68*Z.V()),d=Math.floor(68*Z.V()),b=f_.OJ(this.Nc.GO,y,d,g?g:this.uu[1],o,k);
this.HO.setAttribute("src",b);Z.s4(this.HO,y,d)};f_.OJ=function(g,o,k,y,d,b){var T=new dF;T.m=o;T.n=k;
T.buffer=_.Q(o*k*4);T.add.Patt=y;T.pm(d==null?90:d);T.hj(b==null?30:b);var a=new bd(0,0,Math.round(o*.5),Math.round(k*.5));
a.x=Math.round((o-a.m)/2);a.y=Math.round((k-a.n)/2);var t=T.Qf();t.rect=a;t.buffer=_.Q(a.O()*4);_.Sm(t.buffer,4284045657);
bs.adG(g,t,.5*100);T.d.push(t);T.Tf();T.U();var j=gl.yu;gl.yu=!1;T.m5();var e=T.PJ();gl.yu=j;var v=cp.V$(e.buffer,T.m,T.n);
return v};function iV(g){hZ.call(this,null,!1,"tpresetbutton",18,24,er.zC,!0);Z.Iu(this.e,"fitem");this.a0.t5(1);
this.id=g;this.GA();this.P.style.overflow="hidden";this.MO=new dX([15,7,9]);this.MO.$(!0);this.MO.h(N.E.A,this.anp,this);
this.qO.appendChild(this.MO.e)}iV.prototype=new hZ;iV.prototype.a9P=function(g){if(this.id==g)return;
this.id=g;this.cz(this.uu)};iV.prototype.bK=function(g){var o=this.uu[this.a0.c()],k=new jB(N.E.s,!0);
k.data={P:N.b.pB,Fd:"set",Q6:er.zC,BH:o};this.S(k)};iV.prototype.f=function(){hZ.prototype.f.call(this);
this.MO.f()};iV.prototype.anp=function(){this.k7=!0;this.k1()};iV.prototype.k1=function(){if(!this.k7)return;
var g=Math.floor(16*Z.V()),o=Math.floor(16*Z.V()),k=[],y=[],d=this.uu,b=this.MO.c();for(var m=0;m<d.length;
m++){var T=D.a0n(d[m]);if(!b||T==this.id){y.push(d[m][0]?d[m][0].split("=").pop():"");k.push(T==-1?"":PIMG[D.Sg[T][0]])}else{k.push(null);
y.push(null)}}this.a0.dn(k,y,g,o);this.k7=!1};iV.prototype.GA=function(){var g=this.HO;g.setAttribute("src",PIMG[D.Sg[this.id][0]]);
Z.O9(g,"toolicon")};iV.prototype.Gb=function(){return null};iV.dj={};iV.OJ=function(g,o,k){var y=iV.iS,d=iV.dj,b=_.Mb(g.o<<16|g.C<<8|g.k);
if(d[b])return d[b];if(y==null){var T=Z.t("canvas");y=iV.iS=T.getContext("2d")}var T=y.canvas;T.width=o;
T.height=k;y.fillStyle="#"+b;y.fillRect(0,0,o,k);var a=d[b]=T.toDataURL();return a};function jO(g,o,k){fR.call(this);
this.e=Z.t("span","fitem curveeditor");this.ib=null;this.a6j=0;this.$o="";this.mode=0;this.Ht=g;this.apZ=o;
this.arD=k;this.lv=null;this.mY=null;this.a9Y=0;this.au$=0;this.Sk=new bJ;this.v4=this.iZ.bind(this);
this.P6=this.ur.bind(this);this.yp=256;this.T=Z.t("canvas");this.iS=this.T.getContext("2d");Z.yP(this.T);
this.e.appendChild(this.T);this.UC(256,256);Z.Fn(this.T,this.eB.bind(this));this.coords=Z.t("div");this.coords.setAttribute("style","width:250px");
this.e.appendChild(this.coords);var y=this.Oy=k?100:255,d=null;this.yy=new k9("X (in)",0,y,d,0,!1,!0);
this.rO=new k9("Y (out)",0,y,d,0,!1,!0);this.R6=new dX([19,3,0]);this.yy.h(N.E.A,this.Xx,this);this.rO.h(N.E.A,this.Xx,this);
this.R6.h(N.E.A,this.Xx,this);this.coords.appendChild(this.yy.e);if(k)this.coords.appendChild(this.R6.e);
this.coords.appendChild(this.rO.e)}jO.prototype=new fR;jO.prototype.f=function(){this.R6.f();this.yy.f();
this.rO.f()};jO.prototype.UC=function(g,o){this.yp=Math.round(g);this.iS.resetTransform();Z.OK(this.T,this.yp,this.yp,this.iS);
this.iS.scale(this.yp/256,this.yp/256);if(this.lv)this.yL()};jO.prototype.Xx=function(g){var m=this.a2p(),o=this.lv[m],k=255/this.Oy;
o.v.Hrzn.v=this.yy.c()*k;o.v.Vrtc.v=this.rO.c()*k;if(this.arD)o.v.Cnty.v=this.R6.c();this.lv.sort(function(y,d){return y.v.Hrzn.v-d.v.Hrzn.v});
this.yL();this.S(new jB(N.E.A))};jO.prototype.$=function(g,m){var o=JSON.stringify(g);if(o==JSON.stringify(this.lv))return;
this.mode=g.length==256?1:0;this.lv=JSON.parse(o);if(m!=null)this.mY=this.lv[m];this.yL()};jO.prototype.b7=function(g,o,k){this.ib=g;
this.a6j=o;this.$o=k;this.yL()};jO.prototype.c=function(){return JSON.parse(JSON.stringify(this.lv))};
jO.prototype.a2p=function(){return this.lv.indexOf(this.mY)};jO.prototype.eB=function(g){var o=256/this.yp,k=Z.YD(g,this.T);
k.x*=o;k.y*=o;var y=k.x,d=256-k.y;if(this.Ht){var b=y;y=256-d;d=b}this.Sk.oU(y,d);if(this.mode==0){var T=0,a=1e9,L;
for(var m=0;m<this.lv.length;m++){var t=this.lv[m].v,j=t.Hrzn.v-y,e=t.Vrtc.v-d,v=Math.sqrt(j*j+e*e);
if(v<a){a=v;T=m}}if(a<15)L=this.lv[T];else{L=_.wb.cC(y,d,!0);this.lv.push(L);this.lv.sort(function(H,w){return H.v.Hrzn.v-w.v.Hrzn.v})}this.mY=L;
this.au$=this.lv.slice(0)}Z.a$(document.body,this.v4);Z.hO(document.body,this.P6);this.iZ(g)};jO.prototype.iZ=function(g){var o=256/this.yp,k=Z.YD(g,this.T);
k.x*=o;k.y*=o;var y=k.x,d=256-k.y;if(this.Ht){var b=y;y=256-d;d=b}if(this.mode==0){var T=this.lv,a=this.mY,t=this.au$,j=t.indexOf(a),e=T.indexOf(a)!=-1,v=t.length-1,L=y;
if(j==0){L=Math.max(0,Math.min(t[1].v.Hrzn.v-1,y))}else if(j==v){L=Math.min(255,Math.max(t[v-1].v.Hrzn.v+1,y))}else{var H=y<0||y>255||d<0||d>255;
if(y<=t[j-1].v.Hrzn.v||y>=t[j+1].v.Hrzn.v)H=!0;if(!H&&!e)T.splice(j,0,a);if(H&&e)T.splice(j,1)}if(this.apZ&&(j==0||j==t.length-1)){}else a.v.Hrzn.v=Math.round(L);
a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(d)))}else{y=Math.round(y);d=Math.round(d);y=Math.max(0,Math.min(255,y));
d=Math.max(0,Math.min(255,d));var w=this.Sk.x,P=y,Q=this.Sk.y,x=d;if(y<this.Sk.x){P=w;w=y;x=Q;Q=d}this.lv[y]=d;
if(w!=P)for(var F=w;F<=P;F++)this.lv[F]=Math.round(Q+(F-w)*(x-Q)/(P-w))}this.Sk.oU(y,d);this.yL();this.S(new jB(N.E.A))};
jO.prototype.ur=function(g){Z.DO(document.body,this.v4);Z.ZV(document.body,this.P6);this.S(new jB(N.E.A))};
jO.prototype.yL=function(){var g=this.iS,o=this.T;g.fillStyle="#ffffff";g.fillRect(0,0,256,256);var k=256/o.width;
if(this.ib){g.save();g.translate(0,256);g.scale(1,-1);dS.ayU(g,this.ib,5700/this.a6j,this.$o);g.restore()}g.strokeStyle="#aaaaaa";
g.lineWidth=1*k;g.beginPath();for(var m=1;m<4;m++){var y=(Math.floor(64*m/k)+.5)*k;g.moveTo(0,y);g.lineTo(255,y);
g.moveTo(y,0);g.lineTo(y,255)}g.stroke();if(this.Ht){g.save();g.transform(0,1,-1,0,256,0)}if(this.mode==0){var d=this.lv,b=_.wb.SV(d,256);
g.strokeStyle="#000000";g.beginPath();g.moveTo(0,255.5-b[0]);for(var m=0;m<256;m++)g.lineTo(m,255.5-b[m]);
g.stroke();g.lineWidth=2*k;for(var m=0;m<d.length;m++){var T=d[m].v;g.fillStyle=this.mY==d[m]?"#333":"#fff";
g.beginPath();g.moveTo(T.Hrzn.v,255.5-T.Vrtc.v);g.arc(T.Hrzn.v,255.5-T.Vrtc.v,5*k,0,2*Math.PI);g.stroke();
g.fill()}}else{var b=this.lv;g.strokeStyle="#000000";g.beginPath();g.moveTo(0,255.5-b[0]);for(var m=0;
m<256;m++)g.lineTo(m,255.5-b[m]);g.stroke()}if(this.Ht)g.restore();var m=this.a2p();this.coords.className=m==-1?"disabled":"";
if(m==-1)return;var T=this.lv[m].v,a=255/this.Oy;this.yy.$(Math.round(T.Hrzn.v/a));this.rO.$(Math.round(T.Vrtc.v/a));
if(T.Cnty)this.R6.$(T.Cnty.v)};function dS(g,o){fR.call(this);this.e=Z.t("span","");this.iN=new cR([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.iN.h(N.E.A,this.Y3,this);this.e.appendChild(this.iN.e);Z.Dx(this.e);var k=Z.t("div");this.e.appendChild(k);
k.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.T=Z.t("canvas");var y=this.T;
k.appendChild(y);y.width=Math.round(g*Z.V());y.height=Math.round(100*Z.V());Z.s4(y,y.width,y.height);
y.style.display="block";this.iS=y.getContext("2d");this.ib=null;this.fF=0;this.a5P=null;this.a7D=[];
this.cj=[];var d=["Mean:","Pixels:"],b=this.e;if(o)for(var m=0;m<d.length;m++){var T=new bZ(d[m]);this.a7D.push(T);
b.appendChild(T.e);var a=new bZ("hi");this.cj.push(a);b.appendChild(a.e);Z.Dx(b)}}dS.prototype=new fR;
dS.prototype.f=function(){this.iN.f()};dS.prototype.t5=function(g){this.iN.$(g);this.Y3()};dS.prototype.$=function(g,o){this.ib=g;
this.a5P=o;this.Y3()};dS.prototype.Ea=function(g){if(g==this.fF)return;this.fF=g;this.Y3()};dS.prototype.Y3=function(){if(this.ib==null)return;
var g=this.T,o=this.iS,k=this.ib,y=this.a5P,d=this.iN.c(),b=6e3/k[4],T="#"+_.Mb(this.fF),a=dS.ayU;g.width=g.width;
o.setTransform(g.width/256,0,0,-g.height/100,0,g.height);o.globalCompositeOperation="lighter";if(d==0)a(o,k[0],b/3,T);
else if(d<4)a(o,k[d],b,T);else{a(o,k[1],b,"#ff0000");a(o,k[2],b,"#00ff00");a(o,k[3],b,"#0000ff")}o.setTransform(1,0,0,1,0,0);
if(y!=null){if(d==4)d=0;var t=0;for(var m=0;m<256;m++)t+=m*k[d][m];if(d==0)t/=3;this.cj[0].$((t/y).toFixed(1)+"");
this.cj[1].$(y+"")}};dS.ayU=function(g,o,k,y){g.beginPath();g.moveTo(0,0);for(var d=0;d<256;d++)g.lineTo(d,o[d]*k);
g.lineTo(256,0);g.closePath();g.fillStyle=y;g.fill()};function b6(g,o){fR.call(this);this.Ud={o:0,C:0,k:0};
if(Math.abs(g-256/Z.V())<10)g=256/Z.V();var k=this.e=Z.t("div","flexrow");k.style.position="relative";
var y=this.au4=Z.t("div");k.appendChild(y);this.Bb=new bJ;this.ZO=new bJ;this.JD=this.awr.bind(this);
this.OQ=this.al6.bind(this);this.T=Z.t("canvas","");this.iS=this.T.getContext("2d");this.T.width=this.T.height=256;
this.a9$=this.iS.getImageData(0,0,256,256);this.aq8=-1;this.a9q="";Z.yP(this.T);Z.Fn(this.T,this.a3C.bind(this));
y.appendChild(this.T);this.arx=this.aj3.bind(this);this.a8r=this.apV.bind(this);this.B1=Z.t("canvas","");
this.YS=this.B1.getContext("2d");this.B1.width=20;this.B1.height=256;this.alo=this.YS.getImageData(0,0,20,256);
b6.aor(this.alo.data,20,256);Z.yP(this.B1);Z.Fn(this.B1,this.aqa.bind(this));k.appendChild(this.B1);
this.T.setAttribute("style","width:"+g+"px; height:"+g+"px");this.B1.setAttribute("style","width:16px; height:"+g+"px");
this.jm=new dX("Web Colors\u2001");this.jm.h(N.E.A,this.update,this);this.CM=new dX("CMYK gamut");this.CM.h(N.E.A,this.update,this);
if(o){Z.Dx(y);y.appendChild(this.jm.e);y.appendChild(this.CM.e)}var d=this.O2=document.createElementNS("http://www.w3.org/2000/svg","svg");
k.appendChild(d)}b6.prototype=new fR;b6.prototype.UC=function(g,o){this.T.style.width=this.au4.style.width=g-16+"px"};
b6.prototype.$=function(g){if(this.jm.c()){var o=JSON.parse(JSON.stringify(g));b6.bV(o);var k=this.c();
if(o.o==k.o&&o.C==k.C&&o.k==k.k)g=this.Ud}this.Ud=g;this.update()};b6.prototype.c=function(){var g=JSON.parse(JSON.stringify(this.Ud));
if(this.jm.c())b6.bV(g);return g};b6.prototype.update=function(){var g=this.Ud,o=_.RM(g.o,g.C,g.k),a=18;
if(o._Q==0)o.ci=this.Bb.x/255;if(o.ci==0||o._Q==0)o.GP=(255-this.XF(this.ZO.y))/255;if(o._Q!=0)this.Bb.x=o.ci*255;
this.Bb.y=(1-o._Q)*255;this.ZO.y=(1-o.GP)*255;var k=this.a9$,y=this.jm.c(),d=this.CM.c(),b=y+","+d;if(Math.abs(o.GP-this.aq8)>.002||this.a9q!=b){this.a2R(k.data,256,256,o.GP,y,d);
this.aq8=o.GP;this.a9q=b}var T=this.iS;T.putImageData(k,0,0);k=this.alo;T=this.YS;T.putImageData(k,0,0);
T.strokeStyle="#ffffff";T.beginPath();T.moveTo(0,this.ZO.y);T.lineTo(20,this.ZO.y);T.lineWidth=2;T.stroke();
var t=this.Bb.y/255,j=parseFloat(this.T.style.width),e=parseFloat(this.T.style.height),v=this.O2;v.setAttribute("width",a);
v.setAttribute("height",a);var L=Math.round(g.o*255)<<16|Math.round(g.C*255)<<8|Math.round(g.k*255),H="<circle cx=\""+a/2+"\" cy=\""+a/2+"\" r=\""+a/2+"\" fill=\"#"+_.Mb(L)+"\"></circle>";
H+="<circle cx=\""+a/2+"\" cy=\""+a/2+"\" r=\""+(-.5+a/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*t)+")\" stroke-width=\"1\"></circle>";
H+="<circle cx=\""+a/2+"\" cy=\""+a/2+"\" r=\""+(-1.2+a/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
v.innerHTML=H;v.style.pointerEvents="none";v.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
v.style.position="absolute";v.style.left=j*(this.Bb.x/255)-a/2+"px";v.style.top=e*(this.Bb.y/255)-a/2+"px"};
b6.bV=function(g){g.o=~~(.5+g.o*5)*.2;g.C=~~(.5+g.C*5)*.2;g.k=~~(.5+g.k*5)*.2};b6.prototype.a2R=function(g,o,k,y,d,b){var T=1/o,a=1/k;
for(var t=0;t<k;t++)for(var j=0;j<o;j++){var e=_.YN(y,j*T,(k-t-1)*a);if(d)b6.bV(e);var m=t*o+j<<2;g[m+0]=~~(e.o*255);
g[m+1]=~~(e.C*255);g[m+2]=~~(e.k*255);g[m+3]=255}if(b){var v=g.slice(0),L=dF.Zd[0],H=dF.Zd[1];ICC.U.applyLUT(H,L,v,v);
for(var m=0;m<g.length;m+=4){var w=g[m]-v[m],P=g[m+1]-v[m+1],Q=g[m+2]-v[m+2],x=w*w+P*P+Q*Q;if(x>300)g[m]=g[m+1]=g[m+2]=200}}};
b6.aor=function(g,o,k,y,d){if(y==null)y=1;if(d==null)d=0;var b=new Uint32Array(g.buffer);for(var T=0;
T<k;T++){var a=_.YN((1+y*(1-T/k)+d)%1,1,1),t=255<<24|a.k*255<<16|a.C*255<<8|a.o*255;for(var j=0;j<o;
j++)b[T*o+j]=t}};b6.prototype.a3C=function(g){Z.a$(window,this.JD);Z.hO(window,this.OQ);this.awr(g);
this.O2.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.O2.style.transform="scale(2.4)"};
b6.prototype.al6=function(g){Z.DO(window,this.JD);Z.ZV(window,this.OQ);this.O2.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.O2.style.transform="scale(1)"};b6.prototype.awr=function(g){var o=Z.YD(g,this.T);o.x=o.x*(256/parseFloat(this.T.style.width));
o.y=o.y*(256/parseFloat(this.T.style.height));this.Bb.oU(this.XF(o.x),this.XF(o.y));this.Xm()};b6.prototype.Xm=function(){this.Ud=this.ahm();
this.S(new jB(N.E.A))};b6.prototype.ahm=function(){var g=_.YN((255-this.XF(this.ZO.y))/255,this.jC(this.Bb.x/255),this.jC(1-this.Bb.y/255));
return{o:g.o,C:g.C,k:g.k}};b6.prototype.aqa=function(g){Z.a$(window,this.arx);Z.hO(window,this.a8r);
this.aj3(g)};b6.prototype.apV=function(g){Z.DO(window,this.arx);Z.ZV(window,this.a8r)};b6.prototype.aj3=function(g){var o=Z.YD(g,this.B1);
o.y=o.y*(256/parseFloat(this.B1.style.height));this.ZO.oU(this.XF(o.x),this.XF(o.y));this.Xm()};b6.prototype.XF=function(g){return Math.max(0,Math.min(255,g))};
b6.prototype.jC=function(g){return Math.max(0,Math.min(1,g))};function g9(g,o,k,y){var d=k5.eG(o,y);
k5.call(this,g,d,k)}g9.prototype=new k5;function ae(){fR.call(this);this.Px=null;this.KX=new ao;this.KX.h(N.E.A,this.a4W,this);
this.KX.parent=this;this.qF=new k9([12,14,0],1,150,"px",0,!0);this.qF.h(N.E.A,this.Xh,this);this.qF.parent=this;
this.hp=new k9([16,0],.01,100,"px",2,!0,null,5);this.hp.h(N.E.A,this.Xh,this);this.hp.parent=this;this.ST=new dX("Auto");
this.ST.h(N.E.A,this.Xh,this);this.a1=new k9([16,1],-500,5e3,"%",0,!0);this.a1.h(N.E.A,this.Xh,this);
this.a1.parent=this;this.QZ=new k9("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.QZ.h(N.E.A,this.Xh,this);
this.QZ.parent=this;this.hF=new k9("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.hF.h(N.E.A,this.Xh,this);
this.hF.parent=this;this.pl=new k9([16,2],-10,10,"px");this.pl.h(N.E.A,this.Xh,this);this.pl.parent=this;
this.VE=new d6(!0);this.VE.h(N.E.A,this.Ep,this);this.VE.parent=this;this._P=new d6(!0);this._P.h(N.E.A,this.Ep,this);
this._P.parent=this;this.Kh=new d6(!0);this.Kh.h(N.E.A,this.Ep,this);this.Kh.parent=this;this.hm=new d6(!0);
this.hm.h(N.E.A,this.Ep,this);this.hm.parent=this;this.ru=new dX([2,3]);this.ru.h(N.E.A,this.Xh,this);
this.rm=new dX([14,9]);this.rm.h(N.E.A,this.Xh,this);this.DN=new dX([12,46]);this.DN.h(N.E.A,this.Xh,this);
this.DM=new da("...",null,null,!0);this.DM.e.style.marginLeft="-8px";Z.Fn(this.DM.e,this.anW.bind(this));
this.W8=new fR;var g=this.W8.e=Z.t("div","floatcont form"),d=100;this.W8.parent=this;this.I4=new k9([12,41],1,20,"px",0,!0,!0);
this.I4.e.style.marginLeft="16px";this.I4.h(N.E.A,this.Xh,this);this.I4.parent=this.W8;g.appendChild(this._P.e);
g.appendChild(this.ru.e);Z.Dx(this.W8.e);g.appendChild(this.Kh.e);g.appendChild(this.rm.e);g.appendChild(this.I4.e);
Z.Dx(this.W8.e);g.appendChild(this.hm.e);g.appendChild(this.DN.e);this.ap=new da("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.wm=new da("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.jp=new da("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.ZP=new da("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Zv=new da("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.pD=new da("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.NR=new da("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Ji=new da("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var o=[this.ap,this.wm,this.jp,this.ZP,this.Zv,this.pD,this.NR,this.Ji];
for(var m=0;m<o.length;m++)o[m].h("click",this.a79,this);this.av=new da("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.ZQ=new da("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.K5=new da("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.auK=new da("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a22=new da("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a3l=new da("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.avm=new da("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Eo=[this.av,this.ZQ,this.K5,this.auK,this.a22,this.a3l,this.avm];for(var m=0;m<this.Eo.length;m++)this.Eo[m].h("click",this.Xh,this);
var k=["lind","rind","flind","bind","aind"],y=[];for(var m=0;m<5;m++)y.push("<img src=\""+PIMG["par/"+k[m]]+"\" class=\"autoscale gsicon\" /> ");
this.k4=new k9(y[0],-d,d,"px");this.jx=new k9(y[1],-d,d,"px");this.eJ=new k9(y[2],-d,d,"px");this.ro=new k9(y[3],-d,d,"px");
this.OD=new k9(y[4],-d,d,"px");this.pv=new k5([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.Y9=new k9(["Auto VAR0",[16,0]],0,500,"%");
this.mk=[this.k4,this.jx,this.eJ,this.ro,this.OD,this.pv,this.Y9];for(var m=0;m<this.mk.length;m++){var b=this.mk[m];
b.h(N.E.A,this.Xh,this);b.parent=this}}ae.prototype=new fR;ae.prototype.anW=function(g){if(Z.Hd(this.W8.e))return;
g.stopPropagation();var o=this.DM.e.getBoundingClientRect(),k=new jB(N.E.s,!0);k.data={P:N.b.q$,w9:this.W8,x:o.left,y:o.top+o.height+4};
this.S(k)};ae.prototype.f=function(){this.KX.f();this.qF.f();this.hp.f();this.a1.f();this.pl.f();this.QZ.f();
this.hF.f();this.ru.f();this.rm.f();this.DN.f();this.I4.f();for(var m=0;m<this.mk.length;m++)this.mk[m].f()};
ae.prototype.$=function(g,o,k){this.u1=JSON.parse(JSON.stringify(g));var y=this.u1,d=y.RY,b=y.by;this.ap.$(d.FauxBold!=null?d.FauxBold:!1);
this.wm.$(d.FauxItalic!=null?d.FauxItalic:!1);this.jp.$(d.FontCaps==2);this.ZP.$(d.FontCaps==1);this.pD.$(d.FontBaseline==1);
this.Zv.$(d.FontBaseline==2);this.NR.$(d.Underline);this.Ji.$(d.Strikethrough);this.KX.$(d.Font==null?null:y.n9[d.Font].Name,o,k);
var T=d.FontSize==null?20:d.FontSize;this.qF.$(T);var a=d.Tracking;this.a1.$(a==null?0:a);this.I4.$(d._LineWidth!=null?d._LineWidth:1);
this.hp.$(d.Leading!=null&&d.Leading!=0?d.Leading:T);this.ST.$(d.AutoLeading);this.QZ.$((d.VerticalScale!=null?d.VerticalScale:0)*100);
this.hF.$((d.HorizontalScale!=null?d.HorizontalScale:0)*100);this.pl.$(d.BaselineShift!=null?d.BaselineShift:0);
this.ru.$(d.FillFlag!=null?d.FillFlag:!1);this.rm.$(d.StrokeFlag!=null?d.StrokeFlag:!1);this.DN.$(d._FillBackgroundFlag!=null?d._FillBackgroundFlag:!1);
this.ky(d.FillColor,this.VE);this.ky(d.FillColor,this._P);this.ky(d.StrokeColor,this.Kh);this.ky(d._FillBackgroundColor,this.hm);
var t=b._Direction!=null?b._Direction:0,j=bw.aP(b);for(var m=0;m<this.Eo.length;m++)this.Eo[m].$(j==m);
this.pv.$(t);this.Y9.$((b.AutoLeading!=null?b.AutoLeading:1.2)*100);this.k4.$(b.StartIndent!=null?b.StartIndent:0);
this.jx.$(b.EndIndent!=null?b.EndIndent:0);this.eJ.$(b.FirstLineIndent!=null?b.FirstLineIndent:0);this.ro.$(b.SpaceBefore!=null?b.SpaceBefore:0);
this.OD.$(b.SpaceAfter!=null?b.SpaceAfter:0)};ae.prototype.ky=function(g,o){if(g){var k=bw.sL(g);o.Ea(Math.round(k.o)<<16|Math.round(k.C)<<8|Math.round(k.k))}else o.Ea(0)};
ae.prototype.C2=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.pB,Q6:er.cw,u1:this.u1};this.S(g);var g=new jB(N.E.L,!0);
g.G=D.uk;g.data={P:"updateStyles"};this.S(g)};ae.prototype.a79=function(g){var o=this.u1.RY,k=g.target,y=!k.sS();
if(k==this.ap)o.FauxBold=y;if(k==this.wm)o.FauxItalic=y;if(k==this.jp)o.FontCaps=y?2:0;if(k==this.ZP)o.FontCaps=y?1:0;
if(k==this.pD)o.FontBaseline=y?1:0;if(k==this.Zv)o.FontBaseline=y?2:0;if(k==this.NR)o.Underline=y;if(k==this.Ji)o.Strikethrough=y;
this.C2()};ae.prototype.Xh=function(g){var o=this.u1.RY,k=this.u1.by,y=g.target;if(y==this.a1){var d=this.a1.c();
o.Tracking=d}if(y==this.hp){o.AutoLeading=!1;o.Leading=this.hp.c()}if(y==this.ST){o.AutoLeading=this.ST.c()}if(y==this.I4)o._LineWidth=y.c();
if(y==this.qF)o.FontSize=y.c();if(y==this.QZ)o.VerticalScale=y.c()/100;if(y==this.hF)o.HorizontalScale=y.c()/100;
if(y==this.pl)o.BaselineShift=y.c();if(y==this.ru)o.FillFlag=y.c();if(y==this.rm)o.StrokeFlag=y.c();
if(y==this.DN)o._FillBackgroundFlag=y.c();if(this.Eo.indexOf(y)!=-1){k.Justification=bw.aP(k,this.Eo.indexOf(y))}if(y==this.k4)k.StartIndent=y.c();
if(y==this.jx)k.EndIndent=y.c();if(y==this.eJ)k.FirstLineIndent=y.c();if(y==this.ro)k.SpaceBefore=y.c();
if(y==this.OD)k.SpaceAfter=y.c();if(y==this.pv)k._Direction=y.c();if(y==this.Y9)k.AutoLeading=y.c()/100;
this.C2()};ae.prototype.a4W=function(g){var o=this.u1,k=this.KX.c(),y=-1;for(var m=0;m<o.n9.length;m++)if(o.n9[m].Name==k)y=m;
if(y==-1){y=o.n9.length;var d=JSON.parse(JSON.stringify(o.n9[0]));d.Name=k;o.n9.splice(y,0,d)}o.RY.Font=y;
this.C2()};ae.prototype.Ep=function(g){var o=g.target,k=o.an8(),y={Type:1,Values:[1,(k>>16&255)/255,(k>>8&255)/255,(k>>0&255)/255]};
for(var m=0;m<4;m++)y.Values[m]=Math.round(y.Values[m]*1e3)/1e3;var d=o==this.VE||o==this._P?0:o==this.Kh?1:2;
this.u1.RY[["FillColor","StrokeColor","_FillBackgroundColor"][d]]=y;this.C2()};function ao(){fR.call(this);
this.e=Z.t("span","fontinput");this.Ll=null;this.Yu=null;this.OC=null;this.VY="";this.fK={};this.cp=[];
this.Yz={};this.atA={};this.Pt=[];this.p6=!1;this.rt=Z.t("button","fitem");this.rt.setAttribute("style","width:9em;");
this.rt.textContent="Family Name \u25BC";this.e.appendChild(this.rt);Z.Fn(this.rt,this.a4v.bind(this));
this.cm=new fR;this.cm.parent=this;var g=this.cm.e=Z.t("div","floatcont");g.style.padding="7px 7px 3px 7px";
var o=new bZ("Recent");g.appendChild(o.e);var k=this.a6Z=new da([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
k.h("click",this.aoH,this);k.e.style.float="right";g.appendChild(k.e);Z.Dx(g);this.Co=Z.t("span","fitem imageset scrollable");
this.Co.style.maxHeight="8em";g.appendChild(this.Co);var y=Z.t("div","form");this.cm.e.appendChild(y);
this.TC=new da(Z.$l("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.TC.h("click",this.auD,this);
y.appendChild(this.TC.e);this.qX=new ic([12,86],null,7.5);this.qX.h("input",this.Go,this);y.appendChild(this.qX.e);
this.H3=new ea(6.8,"\u2630");y.appendChild(this.H3.e);this.H3.parent=this.cm;this.H3.h(N.E.A,this.c4,this);
this.H3.e.style.float="right";this.H3.e.style.marginRight="0";this.hP=Z.t("span","fitem imageset scrollable");
this.hP.style.height="30em";this.cm.e.appendChild(this.hP);this.hP.addEventListener("scroll",this.as_.bind(this),!1);
this.yj=Z.t("button","fitem");this.yj.setAttribute("style","width:7em;");this.yj.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.yj);Z.Fn(this.yj,this.a4v.bind(this));this.Vl=new fR;this.Vl.parent=this;this.Vl.e=Z.t("div","floatcont");
this.Hv=Z.t("span","fitem imageset scrollable");this.Vl.e.appendChild(this.Hv);this.as1=this.avL.bind(this);
this.ar0=this.a40.bind(this)}ao.prototype=new fR;ao.prototype.as_=function(g){var o=this.hP.scrollTop,k=this.cp,y=Math.floor(o/27),d=Math.min(y+20,k.length);
for(var m=y;m<d;m++)this.a4c(k[m])};ao.prototype.aoH=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.RL,a1S:".otf,.ttf,.ttc"};
this.S(g)};ao.prototype.f=function(){this.H3.f();this.a6Z.f();this.TC.HZ(Z.$l("tools/cshape",null,"autoscale"))};
ao.prototype.auD=function(g){this.TC.$(!this.TC.sS());this.c4()};ao.prototype.Go=function(g){this.VY=this.qX.c().toLowerCase();
this.c4()};ao.prototype.a4v=function(g){Z.GK(g);var o=g.currentTarget,k=o.getBoundingClientRect(),y=o==this.rt,d=y?this.cm:this.Vl;
if(Z.Hd(d.e)){this.atz(d);return}if(!y&&this.Ll.X0()[this.OC]==null)return;var b=new jB(N.E.s,!0);b.data={P:N.b.q$,w9:d,x:k.left,y:k.top+k.height};
this.S(b);if(y){this.c4(null,!0)}};ao.prototype.avL=function(g){var o=g.currentTarget.firstChild.nextSibling.textContent;
if(g.target.tagName.toLowerCase()=="button"){var k=this.Yu.slice(0),y=k.indexOf(o);if(y==-1){k=k.slice(Math.max(0,k.length-29));
k.push(o)}else k.splice(y,1);var d=new jB(N.E.s,!0);d.data={P:N.b.pB,Q6:er.om,M$:k};this.S(d);this.p6=!0;
this.c4()}else{this.ahF(o,null)}};ao.prototype.a40=function(g){this.ahF(null,g.currentTarget.firstChild.textContent)};
ao.prototype.ahF=function(g,o){var k=g==null?this.Vl:this.cm,y=this.Ll;if(g==null)g=y.X0()[this.OC][0];
else{var d=y.$s(g),b=y.X0()[this.OC];o=d_.y_(d,b?b[1]:"regular")}var T=y.PY(g,o)[2];this.$(T,y);this.S(new jB(N.E.A,!1));
this.atz(k);this.c4()};ao.prototype.atz=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.TL,w9:g};this.S(o)};
ao.prototype.c=function(){return this.OC};ao.prototype.$=function(g,o,k){var y=this.Ll;if(g!=null)this.OC=g;
else g=this.OC;this.Ll=o;this.Yu=k;if(g!=null){var d=o.X0()[g],b,T;if(d==null){b="- "+g;T="-------"}else{b=d[0];
T=d[1];var a=this.Pt;for(var m=0;m<a.length;m++)if(a[m][0][0]==b)a.splice(m,1);a.push([d,Date.now()]);
a.sort(function(v,L){return L[1]-v[1]});a=a.slice(0,10);Z.ew(this.Co);for(var m=1;m<a.length;m++){var t=a[m][0],j=this.Ds(t,!0);
this.dp(j,t,!0);this.Co.appendChild(j)}var e=o.$s(b);e.sort(d_.a4L);this.Hv.textContent="";for(var m=0;
m<e.length;m++){var d=o.PY(b,e[m]);if(!this.H3._U(d))continue;var j=this.Ds(d,!1);this.Hv.appendChild(j)}}this.rt.textContent=b.substring(0,15)+" \u25BC";
this.rt.setAttribute("title",b+", \""+g+"\"");this.yj.textContent=T.substring(0,10)+" \u25BC";this.yj.setAttribute("title",T)}};
ao.prototype.c4=function(g,o){var k=this.Ll.X0()[this.OC],y=this.Yu,d=this.Ll.GB();this.cp=[];for(var b in d){var T=y.indexOf(b)!=-1,a=this.Ll.$s(b),t=!1;
for(var m=0;m<a.length;m++){var j=this.Ll.PY(b,a[m]),e=!0;if(this.VY.length>0&&j[0].toLowerCase().indexOf(this.VY)==-1)e=!1;
else if(!this.H3._U(j))e=!1;else if(this.TC.sS()&&!T)e=!1;if(e)t=!0}var v=this.fK[b];if(v==null){var L=d_.y_(d[b],"regular"),H=this.Ll.PY(b,L),v=this.Ds(H,!0);
this.fK[b]=v;this.hP.appendChild(v);this.Yz[b]="[true,false,false]"}if(t)this.cp.push(b);var w=k!=null&&k[0]==b;
this.atA[b]="["+t+","+w+","+T+"]";if(!o)this.a4c(b)}if(k&&!this.p6){var P=this.fK[k[0]];this.hP.scrollTop=P.offsetTop-210}this.as_();
this.p6=!1};ao.prototype.a4c=function(g){var o=this.fK[g];if(o.firstChild==null){var k=this.Ll.GB(),y=d_.y_(k[g],"regular"),d=this.Ll.PY(g,y);
this.dp(o,d,!0)}var b=this.Yz[g],T=this.atA[g];if(b==T)return;var a=JSON.parse(b),t=JSON.parse(T);if(a[0]!=t[0]||a[1]!=t[1]){var j=t[0]?"":"display:none; ";
if(t[1])j+="background-color:rgba(0,0,0,0.13);";o.setAttribute("style",j)}if(a[2]!=t[2])o.firstChild.setAttribute("style","opacity: "+(t[2]?"1":"0.2"));
this.Yz[g]=T};ao.prototype.Ds=function(g,o){var k=Z.t("div","fontitem");if(!o)this.dp(k,g,o);return k};
ao.prototype.dp=function(g,o,k){var y=o[k?0:1],d=k?this.as1:this.ar0,t="";g.addEventListener("click",d,!1);
if(k)g.appendChild(Z.t("button","star"));var b=Z.t("span","label");b.setAttribute("title",y);b.textContent=y;
g.appendChild(b);var T=Z.V(),a=1/T,j=d_.hK*a,e=d_.wS*a;if(1<T&&T<1.5)t="width:"+j+"px; height:"+e+"px;";
var v=Z.t("span","thumb gsicon");if(o.ap$){t+="background: url("+o.ap$+");";if(1<T&&T<1.5)t+="background-size: "+j+"px "+e+"px;"}else{var L=Math.ceil(FNTS.list.length/d_.cols),H=Math.floor(o.Sp/L),w=o.Sp%L,P=H*d_.hK,Q=w*d_.wS;
if(1<T&&T<1.5){t+="background-size: "+d_.cols*j+"px "+L*e+"px;";P*=a;Q*=a}t+="background-position:-"+P+"px -"+Q+"px;"}v.setAttribute("style",t);
g.appendChild(v)};function ea(g,o){fR.call(this);this.e=Z.t("button","fitem bbtn");this.e.addEventListener("click",this.ayL.bind(this),!1);
this.W8=new fR;this.W8.e=Z.t("div","floatcont");this.W8.parent=this;this.aJ=Z.t("div","flexrow");this.W8.e.appendChild(this.aJ);
this.Da=o;this.zB=[];this.VP=[];var k=this.aJ,y=Z.t("div",""),d=Z.t("div","");k.appendChild(y);k.appendChild(d);
this.kF=[];for(var m=0;m<FNTS.cats.length;m++)this.kF.push({name:FNTS.cats[m],index:m,X2:0});this.iF=new dX([7,0]);
this.iF.$(!0);this.iF.h(N.E.A,this.aog,this);y.appendChild(this.iF.e);this.D_=Z.t("div","vlist marged scrollable");
this.D_.setAttribute("style","width:10.3em; height:"+g+"em; ");y.appendChild(this.D_);this.nl=[];for(var m=0;
m<this.kF.length;m++){var b=this.kF[m],T=new dX(b.name);this.nl.push(T);T.h(N.E.A,this.agR,this);T.$(!0);
this.D_.appendChild(T.e);this.zB.push(1)}this.awc=new dX([7,0]);this.awc.h(N.E.A,this.aiO,this);this.iL=Z.t("div","vlist marged scrollable");
this.iL.setAttribute("style","width:8.6em; height:"+(g+1.5)+"em; ");d.appendChild(this.iL);this._Z=[];
for(var m=0;m<FNTS.subsetNames.length;m++){var T=new dX(FNTS.subsetNames[m]);this._Z.push(T);T.h(N.E.A,this.ayQ,this);
T.$(!1);this.iL.appendChild(T.e);this.VP.push(T.c()?1:0)}}ea.prototype=new fR;ea.prototype.abT=function(g){var o=this._Z;
for(var m=0;m<o.length;m++){var k=(g>>>m&1)==1;this.VP[m]=k;o[m].$(k)}};ea.prototype.at7=function(){return this.aJ};
ea.prototype.f=function(){this.e.textContent=this.Da?this.Da:d9.get([25,1,0])+" \u25BC";this.iF.f();
this.awc.f()};ea.prototype.ayL=function(g){var o=this.e.getBoundingClientRect(),k=new jB(N.E.s,!0);k.data={P:N.b.q$,w9:this.W8,x:o.left,y:o.top+o.height,wo:!1};
this.S(k)};ea.prototype._U=function(g){if(this.zB[g[4]]==0)return!1;else for(var o=0;o<this.VP.length;
o++)if(this.VP[o]==1&&(g[3]>>>o&1)==0)return!1;return!0};ea.prototype.aog=function(g){var o=g.target.c(),k=this.nl,y=this.zB;
for(var m=0;m<k.length;m++){k[m].$(o);y[m]=o?1:0}this.S(new jB(N.E.A,!1))};ea.prototype.aiO=function(g){var o=g.target.c(),k=this._Z,y=this.VP;
for(var m=0;m<k.length;m++){k[m].$(o);y[m]=o?1:0}this.S(new jB(N.E.A,!1))};ea.prototype.agR=function(g){var m=this.nl.indexOf(g.target),o=this.kF[m].index;
this.zB[o]=1-this.zB[o];this.S(new jB(N.E.A,!1));this.awb(this.nl,this.iF)};ea.prototype.ayQ=function(g){var m=this._Z.indexOf(g.target);
this.VP[m]=1-this.VP[m];this.S(new jB(N.E.A,!1))};ea.prototype.awb=function(g,o){var k=!0;for(var m=0;
m<g.length;m++)k=k&&g[m].c();o.$(k)};function gw(g,o,k){hZ.call(this,o,!0,"gradientbutton",18,10,er.aB);
this.p2=-1;this.Pp=-1;this.apQ=null;this.a8y=g;this.nO=k}gw.prototype=new hZ;gw.prototype.bK=function(g){var o=this.uu;
this.$(o[this.a0.c()]);this.S(new jB(N.E.A))};gw.prototype.Yv=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.xp,Pv:"gradienteditor",M:this.Nc,Tr:this.aml.bind(this),XC:this.nO};
this.S(o)};gw.prototype.aml=function(g){this.$(g);this.S(new jB(N.E.A))};gw.prototype.k1=function(){if(!this.k7)return;
var g=Math.floor(36*Z.V()),o=Math.floor(36*Z.V()),k=[],y=[],d=this.uu,b=Date.now();for(var m=0;m<d.length;
m++){var T=d[m];y.push(T.Nm?T.Nm.v.split("=").pop():"");var a=D.Q2.OJ(T,g,o,Math.PI/4,this.p2,this.Pp);
k.push(a)}this.a0.dn(k,y,g,o);this.k7=!1};gw.prototype.uy=function(g,o){this.a34(this.Nc,g,o)};gw.prototype.$=function(g){this.a34(g,this.p2,this.Pp)};
gw.prototype.a34=function(g,o,k){this.p2=o;this.Pp=k;if(g==null)return;var y=JSON.stringify(g),d=y+o+","+k;
if(d==this.apQ)return;this.apQ=d;this.Nc=JSON.parse(y);var b=Math.floor(80*Z.V()),T=Math.floor(16*Z.V()),a=D.Q2.OJ(this.Nc,b,T,0,this.p2,this.Pp);
this.HO.setAttribute("src",a);Z.s4(this.HO,b,T)};gw.prototype.c=function(){var g;if(this.a8y)g=D.Q2.a1U(this.Nc,this.p2,this.Pp);
else g=JSON.parse(JSON.stringify(this.Nc));return g};function ag(g){hZ.call(this,g,!1,"swatchbutton",16,8.75,er.DC)}ag.prototype=new hZ;
ag.prototype.bK=function(g){this.$(this.uu[g.target.c()]);this.S(new jB(N.E.A))};ag.prototype.k1=function(){if(!this.k7)return;
var g=Date.now(),o=Math.floor(10*Z.V()),k=Math.floor(10*Z.V()),y=[],d=[],b=this.uu;for(var m=0;m<b.length;
m++){d.push(b[m].IE?b[m].IE.split("=").pop():"");y.push(ag.OJ(b[m],o,k))}this.a0.dn(y,d,o,k);this.k7=!1};
ag.prototype.$=function(g){this.Nc=JSON.parse(JSON.stringify(g));this.GA()};ag.prototype.GA=function(){var g=Math.floor(24*Z.V()),o=Math.floor(20*Z.V()),k=ag.OJ(this.Nc,g,o);
this.HO.setAttribute("src",k);Z.s4(this.HO,g,o)};ag.prototype.c=function(){return JSON.parse(JSON.stringify(this.Nc))};
ag.dj={};ag.OJ=function(g,o,k){var y=ag.iS,d=ag.dj,b=_.Mb(g.o<<16|g.C<<8|g.k);if(d[b])return d[b];if(y==null){var T=Z.t("canvas");
y=ag.iS=T.getContext("2d")}var T=y.canvas;T.width=o;T.height=k;y.fillStyle="#"+b;y.fillRect(0,0,o,k);
var a=d[b]=T.toDataURL();return a};function gQ(g,o,k){fR.call(this);this.e=Z.t(k?"div":"span");var y=this.my=Z.t("input");
this.my.setAttribute("type","file");if(o)y.setAttribute("multiple","");this.my.addEventListener("change",this.awi.bind(this),!1);
this.a8X=this.ayP.bind(this);this.Nt={};this.CP=0;this.fk=g;var d=this.a5r=new da(d9.get(g)+" (0)",null,null,!0);
this.e.appendChild(d.e);d.addEventListener("click",function(b){y.click()});if(k){this.oK=Z.t("div","scrollable");
this.oK.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.e.appendChild(this.oK);
this.Y3()}}gQ.prototype=new fR;gQ.prototype.$=function(g){};gQ.prototype.c=function(g){return this.Nt};
gQ.prototype.awi=function(g){var o=g.target.files;this.CP=o.length;this.Nt={};for(var m=0;m<o.length;
m++){var k=o[m],y=new FileReader;y.onload=this.a8X;y.AZ=k.name;y.readAsArrayBuffer(k)}this.a5r.HZ(d9.get(this.fk)+" ("+o.length+")")};
gQ.prototype.ayP=function(g){var o=this.Nt[g.target.AZ]=new Uint8Array(g.target.result);this.CP--;if(this.CP==0){if(this.oK)this.Y3();
this.S(new jB(N.E.A));this.my.value=null}};gQ.prototype.Y3=function(){var g=this.oK;Z.ew(g);for(var o in this.Nt){var k=Z.t("div");
k.textContent=o;g.appendChild(k)}};function ec(g,o,k,y,d){if(g==null)g=!1;if(o==null)o=!1;if(k==null)k=!1;
fR.call(this);this.tU=new bJ;this.KV=new bJ;this.DG=72;this.iw=72;this.sC=!0;this.fJ=!1;this.e=Z.t("span");
this.sJ=new k9([12,41],0,0,null,0,!1,!0,4);this.e.appendChild(this.sJ.e);this.sJ.h(N.E.A,this.dg,this);
var b=["px","%"];if(g)b=b.concat(["mm","in"]);if(d){b=[[12,76,2],[12,76,6]];if(g)b=b.concat([[12,76,5],[12,76,3]])}this.E4=new cR(null,b);
this.e.appendChild(this.E4.e);Z.Dx(this.e);this.E4.h(N.E.A,this.dg,this);this.mh=new k9([12,42],0,0,null,0,!1,!0,4);
this.e.appendChild(this.mh.e);this.mh.h(N.E.A,this.dg,this);var T=new da("\u21F5",!1,null,!0);T.h("click",this.aaP,this);
this.rW=new da("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.rW.h("click",this.dg,this);
this._9=new bZ("");this._9.e.style.margin="0";this._9.e.style.padding="0";if(o){this.e.appendChild(this.rW.e);
this.e.appendChild(this._9.e);this.rW.sG()}else this.e.appendChild(T.e);this.ym=new k9("DPI",0,0,null,3,!1,!0,4);
this.Jd=new cR(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(g&&y==null){Z.Dx(this.e);
this.e.appendChild(this.ym.e);this.e.appendChild(this.Jd.e)}this.Jd.h(N.E.A,this.dg,this);this.ym.h(N.E.A,this.dg,this);
this.pn=new dX([12,23,1]);this.pn.h(N.E.A,this.dg,this);if(k){Z.Dx(this.e);this.e.appendChild(this.pn.e)}Z.Dx(this.e)}ec.prototype=new fR;
ec.prototype.UC=function(g,o){this.sJ.LS.style.width=this.mh.LS.style.width=(g-74-this.rW.qY())/2+"px"};
ec.prototype.Mk=function(){this.sJ.Mk();this.mh.Mk();this.E4.Mk();var g=this.e;Z.ew(g);this.E4.e.style.marginRight="0";
g.appendChild(this.sJ.e);g.appendChild(this.rW.e);g.appendChild(this.mh.e);g.appendChild(this.E4.e)};
ec.prototype.KA=function(){this.sJ.KA()};ec.prototype.ayV=function(g,o){this.sC=g;if(o!=null)this.fJ=o;
if(!this.sC&&!this.fJ&&this.E4.c()==0){this.E4.$(3);this.be()}};ec.prototype.ax6=function(g){this.rW.$(g)};
ec.prototype.f=function(){this.sJ.f();this.mh.f();this.ym.f();this.Jd.f();this.rW.f();this.pn.f();this.E4.f()};
ec.prototype.aaP=function(g){var o=this.KV.x;this.KV.x=this.KV.y;this.KV.y=o;this.be();this.S(new jB(N.E.A,!1))};
ec.prototype.dg=function(g){if(g.target==this.E4&&!this.sC&&!this.fJ&&this.E4.c()==0)this.E4.$(3);if(g.target==this.E4||g.target==this.pn){this.be();
return}if(g.target==this.rW)g.target.$(!g.target.c());var o=this.tU,k=parseFloat(this.sJ.c());if(isNaN(k))k=1;
var y=parseFloat(this.mh.c());if(isNaN(y))y=1;var d=this.ym.c()*[1,2.54][this.Jd.c()],b=this.E4.c();
if(this.sC){var T=this.iw;if(b==1){k=this.tU.x*(k/100);y=this.tU.y*(y/100)}var a=[1,1,25.4/T,1/T][b];
k/=a;y/=a;if(this.pn.c()){k+=this.tU.x;y+=this.tU.y}if(g.target==this.ym){var t=d;if(!this.fJ){var j=t/T;
k*=j;y*=j}T=t}if(this.rW.c()){if(g.target==this.sJ)y=k*(o.y/o.x);else k=y*(o.x/o.y)}k=Math.max(Math.abs(k),1);
y=Math.max(Math.abs(y),1)}else{var T=this.DG;if(g.target==this.ym)T=d;else{if(this.rW.c()){if(g.target==this.sJ)y=k*(o.y/o.x);
else k=y*(o.x/o.y)}var a=[1,1,25.4/T,1/T][b],e=k/(b==1?100:o.x*a);T=T/e}k=o.x;y=o.y}this.KV=new bJ(Math.round(k),Math.round(y));
this.iw=T;this.be();this.S(new jB(N.E.A,!1))};ec.prototype.a3Y=function(m){this.E4.$(m);this.be()};ec.prototype.$=function(g,o,k){if(k!=!0)this.tU=g.clone();
this.KV=g.clone();if(o!=null){this.DG=o;this.iw=o}this.be()};ec.prototype.be=function(){var g=this.KV.x,o=this.KV.y,k=this.iw,y=(g/o).toFixed(3);
while(y.charAt(y.length-1)=="0")y=y.substring(0,y.length-1);if(y.charAt(y.length-1)==".")y=y.substring(0,y.length-1);
var d="  "+y+" : 1",b=function(e,v){while(v!=0){var L=v;v=e%v;e=L}return e},T=b(g,o);if(Math.min(g,o)/T<10)d="  "+Math.round(g/T)+" : "+Math.round(o/T);
this._9.$(d);if(this.pn.c()){g-=this.tU.x;o-=this.tU.y}var a=this.E4.c();if(a==1){if(this.sC){g=100*g/this.tU.x;
o=100*o/this.tU.y}else{g=o=100*this.DG/this.iw}}else{g=Math.round(g);o=Math.round(o)}var t=[1,1,25.4/k,1/k][a];
g*=t;o*=t;var j=a==1||a==3?2:0;this.sJ.v5(j);this.mh.v5(j);this.sJ.$(g);this.mh.$(o);this.ym.$(k*[1,1/2.54][this.Jd.c()])};
ec.prototype.c=function(){return this.KV.clone()};ec.prototype.A9=function(){return this.iw};function ep(g,o,k){fR.call(this);
var y=g==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.cD=g;this.aiS=o;this.BA=1;this.DV=[1,1,0];
var d=this.e=Z.t("div","numlist"),b=this.T$=[];for(var m=0;m<4;m++){var T=new k9(y[m],0,0,null,2,!1,!0,4,null,k&&(m==0||m==2));
T.h(N.E.A,this.dg,this);d.appendChild(T.e);b[m]=T;if(m==1||m==3)Z.Dx(d)}b[4]=new dX(g==0?[12,51]:[12,91,2]);
b[4].$(!0);d.appendChild(b[4].e)}ep.prototype=new fR;ep.prototype.f=function(){var g=this.T$;for(var m=0;
m<5;m++)g[m].f();if(this.cD==0)Z.rv(g[0],g[2])};ep.prototype.$=function(g,o,k){if(o)this.DV=o;o=this.DV;
var y=k?g:this.cD==0?[g[2],g[0],g[3],g[1]]:[g[0],g[1],g[3],g[2]];this.BA=y[0]/y[2];for(var m=0;m<4;m++){var d=this.T$[m];
d.v5(o[2]==0&&this.aiS?0:2);d.$(_.bt.afu(y[m],o[0],o[1],o[2]))}};ep.prototype.c=function(g){var o=[],k=this.DV;
for(var m=0;m<4;m++){var y=_.bt.yF(this.T$[m].c(),k[0],k[1],k[2]);o[m]=this.aiS?Math.round(y):y}return g?o:this.cD==0?[o[1],o[3],o[0],o[2]]:[o[0],o[1],o[3],o[2]]};
ep.prototype.dg=function(g){var o=this.cD,k=this.T$.indexOf(g.currentTarget),y=this.c(!0),d=this.T$[4].c();
if(o==0){y[0]=Math.max(1,y[0]);y[2]=Math.max(1,y[2]);if(d&&k==0)y[2]=y[0]/this.BA;if(d&&k==2)y[0]=y[2]*this.BA}if(o==1){y[k]=Math.max(0,y[k]);
if(d)for(var m=0;m<4;m++)y[m]=y[k]}this.$(y,null,!0);this.S(new jB(N.E.A,!1))};function kl(){fR.call(this);
this.g7=0;this.cj=[0,0,1,1,100,100];this.e=Z.t("span","fitem");this.s$=new cR(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.s$.e);this.s$.h(N.E.A,this.dg,this);this.sJ=new k9("W",0,0,null,0,!1,!0);this.e.appendChild(this.sJ.e);
this.sJ.h(N.E.A,this.dg,this);this.mh=new k9("H",0,0,null,0,!1,!0);this.e.appendChild(this.mh.e);this.mh.h(N.E.A,this.dg,this);
this.$({la:0,x:0,y:0})}kl.prototype=new fR;kl.prototype.f=function(){Z.rv(this.sJ,this.mh);this.s$.f()};
kl.prototype.dg=function(g){if(g.target==this.s$){var o=this.c(),k=this.cj;k[this.g7*2]=o.x;k[this.g7*2+1]=o.y;
this.g7=o.la;this.$({la:o.la,x:k[o.la*2],y:k[o.la*2+1]})}if(this.sJ.c()<1)this.sJ.$(1);if(this.mh.c()<1)this.mh.$(1);
this.S(new jB(N.E.A,!1))};kl.prototype.$=function(g){this.s$.$(g.la);this.sJ.$(g.x);this.mh.$(g.y);if(g.la==0){this.sJ.jK();
this.mh.jK()}else{this.sJ.gM();this.mh.gM()}};kl.prototype.c=function(){return{la:this.s$.c(),x:this.sJ.c(),y:this.mh.c()}};
function b4(g){fR.call(this);this.e=Z.t("span","");this.ama=g;this.SP=new bk("Off X",-100,100,g?"%":"px",0,!1);
this.Ph=new bk("Off Y",-100,100,g?"%":"px",0,!1);this.SP.h(N.E.A,this.dg,this);this.Ph.h(N.E.A,this.dg,this);
this.e.appendChild(this.SP.e);this.e.appendChild(this.Ph.e)}b4.prototype=new fR;b4.prototype.f=function(){this.SP.f();
this.Ph.f()};b4.prototype.dg=function(g){this.S(new jB(N.E.A,!1))};b4.prototype.acG=function(g){this.SP.$(g.x);
this.Ph.$(g.y)};b4.prototype.a18=function(){return new bJ(this.SP.c(),this.Ph.c())};b4.prototype.$=function(g,o){var k=g.Hrzn.v,y=g.Vrtc.v;
if(this.ama){k=k.val;y=y.val}this.SP.$(k);this.Ph.$(y);if(o==!0)this.dg()};b4.prototype.c=function(){var g=this.SP.c(),o=this.Ph.c();
if(this.ama)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:g}},Vrtc:{t:"UntF",v:{type:"#Prc",val:o}}};
else return{classID:"Pnt",Hrzn:{v:g,t:"doub"},Vrtc:{v:o,t:"doub"}}};function e_(){fR.call(this);this.e=Z.t("span","fitem strokebutton");
this.k3=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.vf=JSON.parse(JSON.stringify(iZ.X9.default));
this.K6=Z.t("button");this.e.appendChild(this.K6);Z.Fn(this.e,this.Pz.bind(this));var g=Z.t("canvas","gsicon");
this.iS=g.getContext("2d");this.K6.appendChild(g);var o=Z.t("span");o.textContent=" \u25BC";this.K6.appendChild(o);
this.W8=new fR;this.W8.parent=this;this.W8.e=Z.t("div","floatcont form");var k=this.W8.e;k.setAttribute("style","width: 16.7em;");
this.fK=[new cR([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new k5([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new k5([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new k9("Limit",0,50,null,null,null,!0,2.5),new ic([19,9,2])];
for(var m=0;m<this.fK.length;m++){var y=this.fK[m];k.appendChild(y.e);y.h(N.E.A,this.dg,this)}Z.Dx(k);
this.dW=[];var d=this.in.bind(this);this.vf.strokeStyleLineWidth.v.val=3;for(var m=0;m<this.k3.length;
m++){var b=Z.t("button","fitem");this.dW.push(b);k.appendChild(b);b.addEventListener("click",d,!1);var g=Z.t("canvas","gsicon"),T=g.getContext("2d");
b.appendChild(g);this.a1m(T,40,20,this.k3[m])}this.vf.strokeStyleLineWidth.v.val=1}e_.prototype=new fR;
e_.prototype.Pz=function(g){if(Z.Hd(this.W8.e))return;g.stopPropagation();var o=this.K6.getBoundingClientRect(),k=new jB(N.E.s,!0);
k.data={P:N.b.q$,w9:this.W8,x:o.left,y:o.top+o.height+4};this.S(k)};e_.prototype.dg=function(g){var o=this.fK,k=[];
for(var m=0;m<5;m++)k.push(o[m].c());this.vf=this.alI(k);this.S(new jB(N.E.A,!1))};e_.prototype.in=function(g){var o=this.dW.indexOf(g.currentTarget);
this.$(this.alI(this.k3[o]));this.S(new jB(N.E.A,!1))};e_.prototype.alI=function(g){var o=JSON.parse(JSON.stringify(this.vf)),k=g[0],y=g[1],d=g[2],b=g[3],T=g[4];
if(k!=null)o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iZ.X9.Yo[k];if(y!=null)o.strokeStyleLineCapType.v.strokeStyleLineCapType=iZ.X9.ia[y];
if(d!=null)o.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iZ.X9.join[d];o.strokeStyleMiterLimit.v=b;
var a=o.strokeStyleLineDashSet.v=[];T=T.split(" ");while((T.length&1)!=0)T.pop();for(var m=0;m<T.length;
m++)a.push({t:"UntF",v:{type:"#Nne",val:parseInt(T[m])}});return o};e_.prototype.f=function(){for(var m=0;
m<this.fK.length;m++)this.fK[m].f()};e_.prototype.$=function(g){this.vf=JSON.parse(JSON.stringify(g));
var o=iZ.X9.Yo.indexOf(g.strokeStyleLineAlignment.v.strokeStyleLineAlignment),k=iZ.X9.ia.indexOf(g.strokeStyleLineCapType.v.strokeStyleLineCapType),y=iZ.X9.join.indexOf(g.strokeStyleLineJoinType.v.strokeStyleLineJoinType),d=g.strokeStyleMiterLimit.v,b=[],T=g.strokeStyleLineDashSet.v;
for(var a=0;a<T.length;a++)b.push(T[a].v.val);var t=this.fK;t[0].$(o);t[1].$(k);t[2].$(y);t[3].$(d);
t[3]._C(y==0);t[4].$(b.join(" "));var j=[];for(var m=0;m<5;m++)j.push(t[m].c());this.a1m(this.iS,40,16,j)};
e_.prototype.c=function(){return JSON.parse(JSON.stringify(this.vf))};e_.prototype.a1m=function(g,o,k,y){var d=y[0],b=y[1],T=y[2],a=y[3],t=y[4].split(" ").map(parseFloat);
Z.OK(g.canvas,o,k);var j=Math.min(5,this.vf.strokeStyleLineWidth.v.val);for(var m=0;m<t.length;m++)t[m]*=j;
g.clearRect(0,0,o,k);g.setLineDash(t);g.lineCap=["butt","round","square"][b];g.lineJoin=["miter","round","bevel"][T];
g.lineWidth=j;g.beginPath();g.moveTo(0,k/2);g.lineTo(o*2,k/2);g.stroke()};function kg(g){hZ.call(this,g,!1,"contourbutton",34,16,er.Yh,!0);
this.qX=new ic([12,86],null,16);this.qX.h("input",this.Go,this);this.W8.e.appendChild(this.qX.e);this.W6=null;
this.VY="";this.D5=null;this.$(gM.J0())}kg.prototype=new hZ;kg.prototype.f=function(){hZ.prototype.f.call(this);
this.qX.f()};kg.prototype.bK=function(g){this.$(this.W6[g.target.c()[0]]);this.S(new jB(N.E.A))};kg.prototype.Go=function(g){this.VY=this.qX.c().toLowerCase();
this.as7()};kg.abf=!1;kg.prototype.k1=function(){if(!this.k7)return;var g=this.uu;if(g==null||!kg.abf){var o=new jB(N.E.s,!0);
o.data={P:N.b.VI,Q6:{url:"rsrc/basic/fa_basic.csh"}};this.S(o);kg.abf=!0}else{var k=Math.floor(38*Z.V()),y=Math.floor(38*Z.V());
this.D5=[];for(var m=0;m<g.length;m++)this.D5.push(kg.aye(g[m],k,y));this.as7();this.k7=!1}};kg.prototype.as7=function(){var g=Math.floor(38*Z.V()),o=Math.floor(38*Z.V());
this.W6=[];var k=[],y=[],d=this.uu;for(var m=0;m<d.length;m++){if(d[m].xX.toLowerCase().indexOf(this.VY)==-1)continue;
this.W6.push(d[m]);k.push(this.D5[m]);y.push(d[m].xX)}this.a0.dn(k,y,g,o)};kg.prototype.$=function(g){this.Nc=kg.clone(g);
this.GA()};kg.prototype.GA=function(){var g=Math.floor(23*Z.V()),o=Math.floor(23*Z.V()),k=kg.aye(this.Nc,g,o);
this.HO.setAttribute("src",k);Z.s4(this.HO,g,o)};kg.prototype.c=function(){return kg.clone(this.Nc)};
kg.clone=function(g){return{xX:g.xX,i8:g.i8,a:p.Ew.q7(g.a),rC:g.rC.clone()}};kg.T=null;kg.bG=null;kg.aye=function(g,o,k){var y=p.Ew.q7(g.a),d=g.rC,b=Math.min(o/d.m,k/d.n)*.9,T=new d3;
T.translate(-.5,-.5);T.scale(.95,.95);T.translate(.5,.5);T.scale(b*d.m,b*d.n);_.w.cs(y,T);var a=new p.Ew;
a.a=y;var t=a.Qp();t.rect.x=Math.floor((o-t.rect.m)/2);t.rect.y=Math.floor((k-t.rect.n)/2);var j=_.Q(t.rect.O()*4);
_.e_(t.channel,j,3);var e=kg;if(e.T==null)e.T=Z.t("canvas");var v=e.T,L=v.getContext("2d");if(v.width!=o||v.height!=k||e.bG==null){v.width=o;
v.height=k;e.bG=L.createImageData(o,k)}var H=e.bG;H.data.fill(0);_.g1(j,t.rect,H.data,new bd(0,0,o,k));
L.putImageData(H,0,0);return v.toDataURL()};function gn(g){hZ.call(this,g,!1,"ICCButton",16,12,er.hW,!0);
this.a0.t5(1)}gn.prototype=new hZ;gn.prototype.i6=function(){var g="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var m=0;m<g.length;m++)g[m]="luts/"+g[m]+".CUBE";return g};gn.prototype.bK=function(g){this.$(this.uu[g.target.c()]);
this.S(new jB(N.E.A))};gn.prototype.k1=function(){if(!this.k7)return;var g=Math.floor(1*Z.V()),o=Math.floor(1*Z.V()),k=[],y=[],d=this.uu;
for(var m=0;m<d.length;m++){var b=d[m].Nm.v.split("\\").pop().split("/").pop();y.push(b);k.push(gn.OJ(d[m],g,o))}this.a0.dn(k,y,g,o);
this.k7=!1};gn.prototype.$=function(g){this.Nc=JSON.parse(JSON.stringify(g));this.GA()};gn.OJ=function(g,o,k){var y=Z.t("canvas"),T="ICC / 3DL / look / cube";
y.width=o;y.height=k;var d=y.getContext("2d"),b=Math.floor(14*Z.V());d.font=b+"px sans-serif";if(g.Nm)T=g.Nm.v.split("\\").pop().split("/").pop();
d.fillText(T,10,b);return y.toDataURL()};gn.prototype.GA=function(){var g=Math.floor(120*Z.V()),o=Math.floor(20*Z.V());
this.HO.setAttribute("src",gn.OJ(this.Nc,g,o));Z.s4(this.HO,g,o)};gn.prototype.c=function(){return JSON.parse(JSON.stringify(this.Nc))};
function hR(){fR.call(this);this.Ud=null;this.e=Z.t("span","fitem");this.t4=new hV([14,9]);this.l7=new k9(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.EZ=new e_;this.Vr=[this.t4,this.l7,this.EZ];for(var m=0;m<this.Vr.length;m++){var g=this.Vr[m];
this.e.appendChild(g.e);g.parent=this;g.h(N.E.A,this.dg,this)}}hR.prototype=new fR;hR.prototype.f=function(){for(var m=0;
m<this.Vr.length;m++)this.Vr[m].f()};hR.prototype.mt=function(g,o){this.t4.mt(g,o)};hR.prototype.dg=function(g){var o=this.Ud,k=this.t4.c(),y=k.uF;
o.strokeEnabled.v=y!=0;if(y!=0){o.strokeStyleContent.v=k.si;k.si.classID=iZ.X9.V8[y-1]}o.strokeStyleLineWidth.v.val=this.l7.c();
if(g.target==this.EZ)o=this.EZ.c();this.Ud=o;this.S(new jB(N.E.A,!1))};hR.prototype.$=function(g,o,k){this.Ud=JSON.parse(JSON.stringify(o));
var y=o.strokeEnabled.v,d=o.strokeStyleContent.v,b=y?{uF:1+iZ.X9.V8.indexOf(d.classID),si:d}:{uF:0};
this.t4.$(g,b,k);this.l7.$(o.strokeStyleLineWidth.v.val);this.EZ.$(o)};hR.prototype.c=function(){return JSON.parse(JSON.stringify(this.Ud))};
function bI(g){var o=[[18,0],[18,1],[18,2],[18,3]],k=k5.eG(["set/front","set/union","set/difference","set/intersection"]);
k5.call(this,g?[12,36]:null,k,o)}bI.prototype=new k5;function cz(){fR.call(this);this.e=Z.t("button","fitem bbtn");
Z.Fn(this.e,this.Pz.bind(this));this.W8=new fR;this.W8.e=Z.t("div","floatcont form");this.W8.e.setAttribute("style","max-width: 200px;");
this.W8.parent=this;var g=cO;this.dG=[new dX("Start"),new dX("End"),new g([12,41],0,100,"px",null,!0,null,!0),new g([12,80,0],0,100,"px",null,!0,null,!0),new g("Concavity",-50,50,"%",null,null,null,!0)];
for(var m=0;m<this.dG.length;m++){var o=this.dG[m];o.parent=this;o.h(N.E.A,this.Xm,this);this.W8.e.appendChild(o.e)}this.axX=Z.t("div");
this.W8.e.appendChild(this.axX)}cz.prototype=new fR;cz.prototype.$=function(g){for(var m=0;m<5;m++)this.dG[m].$(g[m]);
this.Y3()};cz.prototype.c=function(g){var o=[];for(var m=0;m<5;m++)o[m]=this.dG[m].c();return o};cz.prototype.f=function(){this.e.textContent=d9.get([12,93,4]);
for(var m=0;m<this.dG.length;m++)this.dG[m].f()};cz.prototype.Xm=function(g){this.S(new jB(N.E.A,!1));
this.Y3()};cz.prototype.Y3=function(g){var o=this.c(),k=200,y=60;o[2]/=Z.V();o[3]/=Z.V();var d=_.w.qA.$V(0,y/2,k,y/2,5,o),b=_.w.AT(d);
this.axX.innerHTML="<svg width=\""+k+"\" height=\""+y+"\" class=\"gsicon\">\t\t\t<path d=\""+b.gs+"\" />\t\t\t</svg>"};
cz.prototype.Pz=function(g){if(Z.Hd(this.W8.e))return;g.stopPropagation();var o=this.e.getBoundingClientRect(),k=new jB(N.E.s,!0);
k.data={P:N.b.q$,w9:this.W8,x:o.left,y:o.top+o.height,wo:!0};this.S(k)};function db(){fR.call(this);
this.e=Z.t("div");this.T$=[];this.aeK=[];var g=this.jT=Z.t("div"),o=Z.t("h2");o.textContent="Create Teams";
g.appendChild(o);o.style.margin="26px 0 16px 0";var k=new da("More about Teams",!1,null,!0);o.appendChild(k.e);
k.e.style.float="right";k.h("click",this.a9Q,this);this.ce=Z.t("div");g.appendChild(this.ce);this.a1V=new ic("Team Name",null,10);
g.appendChild(this.a1V.e);var y=this.alu=new da("Create Team",null,null,!0);g.appendChild(y.e);y.h("click",this.aa6,this);
var o=Z.t("h2");o.textContent="Join Teams";g.appendChild(o);o.style.margin="26px 0 16px 0";this.$a=Z.t("div");
g.appendChild(this.$a);this.ax4=new ic("Team ID",null,10);g.appendChild(this.ax4.e);var y=new da("Join Team",null,null,!0);
g.appendChild(y.e);y.h("click",this.aa6,this);this.a4S;this.apm=this.I_.bind(this);this.auI=this.aco.bind(this);
this.S6=!1;this.Qh();this.KM=null;this.adW=""}db.prototype=new fR;db.prototype.a9Q=function(g){var o=new jB(N.E.s,!0);
o.data={P:N.b.af,link:"https://www.photopea.com/api/accounts#teams"};this.S(o)};db.prototype.Qh=function(){clearTimeout(this.avo);
this.avo=setTimeout(this.auI,this.KM?10:3e3)};db.prototype.aco=function(){var g=fV.hA();if(document.hidden||!Z.Hd(this.e)||g==null){this.Qh();
return}var o=fV.uQ();if(this.KM==null&&o==null)return;fV.Xc(this.KM?this.KM:o,this.apm);this.S6=!0;this.KM=null};
db.prototype.axl=function(g){g.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.S6)this.KM=g;else{clearTimeout(this.avo);fV.Xc(g,this.apm)}};db.prototype.D9=function(g){var o=typeof g=="string"?this.a4S:this.T$.indexOf(g.target),k=this.aeK[o],y=k[0],d=fV.uQ();
if(d==null)d={};var b=d.acc,a=b.tjoin,t=b.tstart;if(y=="leave"){a.splice(a.indexOf(k[1]),1)}if(y=="add"||y=="remove"||y=="delTeam"||y=="showRename"||y=="rename"){var j=-1,e=0;
for(var m=0;m<t.length;m++){e+=t[m][1].length;if(t[m][2]==k[1])j=m}var v=t[j];if(y=="add"){var L=fV.Ld();
if(L[0]==0&&L[1][2]<=e){alert("You can have at most "+L[1][2]+" members in your Premium.");return}v[1].push(k[2])}if(y=="remove")v[1].splice(v[1].indexOf(k[2]),1);
if(y=="delTeam"){if(v[1].length!=0){alert("Remove members first.");return}t.splice(j,1)}if(y=="showRename"){var H=new jB(N.E.s,!0);
H.data={P:N.b.xp,Pv:"namewindow",Ad:v[0],H_:this.D9.bind(this)};this.S(H);this.a4S=o;k[0]="rename";return}if(y=="rename")v[0]=g}this.axl(d)};
db.prototype.aa6=function(g){var o=this.alu==g.target,k=(o?this.a1V:this.ax4).c().trim();if(k==""){alert("The Team "+(o?"Name":"ID")+" is empty.");
return}if(!o){k=parseInt(k);if(isNaN(k)){alert("The ID must be a number");return}}var y=fV.uQ();if(y==null)y={};
var d=y.acc;if(d==null)d=y.acc={};var b=d.tstart,T=d.tjoin;if(o){if(b==null)b=d.tstart=[];if(b.length>5){alert("You can have at most 5 teams");
return}b.push([k,[]])}else{if(b)for(var m=0;m<b.length;m++)if(b[m][2]==k){alert("You are the owner of this team");
return}if(T==null)T=d.tjoin=[];if(T.indexOf(k)!=-1){alert("You already asked to join this team.");return}d.tjoin.push(k)}d.update=!0;
this.axl(y)};db.prototype.I_=function(){this.S6=!1;var g=fV.hA(),o=g!=null,k=this.jT.parentNode!=null;
if(o!=k){Z.ew(this.e);if(o)this.e.appendChild(this.jT);else this.e.textContent="Log In to access Team Settings."}if(!o)return;
var y=fV.uQ();if(y==null)y={};var d=y.acc;if(d==null)d={};var b=JSON.stringify(d)+"===="+JSON.stringify(g);
if(b!=this.adW){this.adW=b;var T=this.ce,a=this.$a;Z.ew(T);Z.ew(a);var t=this.T$=[],j=this.aeK=[],e=this.D9.bind(this);
function v(K,i){K.addEventListener("click",e);t.push(K);j.push(i)}function L(f,K){var n=Z.t("div"),i="rgba(255,255,255,0.15)";
n.appendChild(w("ID: "+f[2],44,i));n.appendChild(w(f[0],160,null,!0));if(K){n.appendChild(w(f[1].length+" members",80,null,!0))}else{n.appendChild(w(f[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<f[1]*1e3)n.appendChild(w("Premium",80,"rgba(0,140,0,1)"))}var z=w("",120);n.appendChild(z);
z.setAttribute("style","float:right;text-align:right");if(K){var h=new da("Rename",null,null,!0);v(h,["showRename",f[2]]);
z.appendChild(h.e)}var h=new da(K?"Delete":"Leave",null,null,!0);v(h,[K?"delTeam":"leave",f[2]]);z.appendChild(h.e);
return n}function H(K,i,U){var n=Z.t("div");n.style.paddingLeft="36px";n.appendChild(w(i?"\u2713":"...",8,i?"#229922":"#aa7700"));
n.appendChild(w(K[1],200));n.appendChild(w(K[2],240));var z=w("",120);n.appendChild(z);z.setAttribute("style","float:right;text-align:right");
var h=new da(i?"Remove":"Add",null,null,!0);v(h,[i?"remove":"add",U,K[0]]);z.appendChild(h.e);return n}function w(K,i,z,h){var R=Z.t("span");
R.textContent=K;R.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+i+"px;  "+(z!=null?"background-color:"+z+";":"")+(h?"font-weight:bold;":""));
return R}var P=d.tstart,Q=d.tjoin,x=g.wantToJoin,F=g.inTeams;if(P)for(var E=0;E<P.length;E++){var f=P[E],c=x["t"+f[2]];
if(c==null)c=[];var M={};for(var m=0;m<c.length;m++)M["u"+c[m][0]]=c[m];var n=L(f,!0);T.appendChild(n);
n.style.marginTop="10px";for(var m=0;m<f[1].length;m++){var X=f[1][m],u=M["u"+X];if(u==null)u=[X,"========","... user has left your team"];
delete M["u"+X];var I=H(u,!0,f[2]);T.appendChild(I)}for(var r in M){var u=M[r],I=H(u,!1,f[2]);T.appendChild(I)}}if(Q){var J={};
for(var m=0;m<F.length;m++)J["t"+F[m][2]]=F[m];for(var E=0;E<Q.length;E++){var U=Q[E],f=J["t"+U],n=L(f?f:["==========",-1,U],!1);
a.appendChild(n)}}this.S(new jB(N.E.A))}if(this.KM==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.Qh()};
function eE(){fR.call(this);this.l1=[16,!0,!0];this.e=Z.t("span","");this.y2=[new k9([12,24],0,255),new dX([12,25,1]),new dX([12,25,0])];
for(var m=0;m<3;m++){var g=this.y2[m];g.parent=this;g.$(this.l1[m]);this.e.appendChild(g.e);g.h(N.E.A,this.dg,this)}}eE.prototype=new fR;
eE.prototype.dg=function(){for(var m=0;m<3;m++)this.l1[m]=this.y2[m].c();this.S(new jB(N.E.A,!1))};eE.prototype.$=function(g){this.l1=g.slice(0);
for(var m=0;m<3;m++)this.y2[m].$(g[m])};eE.prototype.c=function(){return this.l1.slice(0)};eE.prototype.f=function(){for(var m=0;
m<3;m++)this.y2[m].f()};function gm(g,o){fR.call(this);if(o==null)o=!1;this.D5=[];this.IO=Math.floor(120*Z.V());
this.ayb=Math.floor(23*Z.V());this.RV=0;this.CO=[];this.q5=[];for(var k in _.uR.type){if(k=="warpCustom"&&!o)continue;
this.CO.push(k);this.q5.push(_.uR.type[k])}this.e=Z.t("span","fitem warpbutton");this.W8=new fR;this.W8.e=Z.t("div","floatcont");
if(g){this.fk=g;this.nr=Z.t("label","flabel");this.e.appendChild(this.nr)}this.P=Z.t("button");this.e.appendChild(this.P);
Z.Fn(this.P,this.Pz.bind(this));this.h3=new i2(!0);this.W8.e.appendChild(this.h3.e);this.h3.h(N.E.A,this.aoK,this);
this.W8.e.setAttribute("style","width:"+Math.floor(8+this.IO/Z.V())+"px;");this.f()}gm.prototype=new fR;
gm.prototype.HZ=function(g){this.nr.textContent=g};gm.prototype.f=function(){if(this.fk)this.nr.innerHTML=d9.get(this.fk)+":";
this.GA()};gm.ai$={};gm.a8t=function(g,o,k){var y=d9.get(_.uR.type[g]),d=y+"-"+g+"-"+o+"-"+k,b=gm.ai$[d];
if(b)return b;var T=gm.iS;if(a==null){var a=Z.t("canvas");T=gm.iS=a.getContext("2d")}var a=T.canvas;
if(a.width!=o||a.height!=k){a.width=o;a.height=k}T.font=Math.floor(13*Z.V())+"px sans-serif";T.lineWidth=1;
T.strokeStyle="#000000";var t=Math.floor(16*Z.V()),j=new bd(0,0,t,t);T.clearRect(0,0,a.width,a.height);
var e=_.uR.uR(j,g,!0,.3,0,0),v=_.p.rN(j);v.F.push("M","L","M","L");v.j.push(0,t/2,t,t/2);v.j.push(t/2,0,t/2,t);
v=_.p.Uh(v);v=_.p.ki(v,t/5);_.RS.D(e,v.j,j);_.p.D(v.j,new d3(1,0,0,1,Math.floor(8*Z.V())+.5,Math.floor(3*Z.V())+.5),v.j);
T.beginPath();Typr.U.pathToContext({cmds:v.F,crds:v.j},T);T.stroke();T.fillText(y,Math.floor(40*Z.V()),Math.floor(16*Z.V()));
b=gm.ai$[d]=a.toDataURL();return b};gm.prototype.Pz=function(g){if(Z.Hd(this.W8.e))return;g.stopPropagation();
var o=this.IO,k=this.ayb;for(var m=0;m<this.CO.length;m++)this.D5[m]=gm.a8t(this.CO[m],o,k);this.h3.dn(this.D5,null,o,k);
var y=this.P.getBoundingClientRect(),d=new jB(N.E.s,!0);d.data={P:N.b.q$,w9:this.W8,x:y.left,y:y.top+y.height+4};
this.S(d)};gm.prototype.aoK=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.TL,w9:this.W8};this.S(o);
this.RV=g.target.c()[0];this.GA();this.S(new jB(N.E.A))};gm.prototype.GA=function(){var g=this.IO,o=this.ayb;
this.h3.$([this.RV]);this.P.innerHTML="<img src=\""+gm.a8t(this.CO[this.RV],g,o)+"\" class=\"gsicon\" />";
Z.s4(this.P.firstChild,g,o)};gm.prototype.c=function(){return this.CO[this.RV]};gm.prototype.$=function(g){this.RV=this.CO.indexOf(g);
this.GA()};function iw(g,o,k){fR.call(this);if(g==null)g=!1;if(o==null)o=!1;if(k==null)k=!1;this.arI=o;
this.uR=null;this.Ie=new gm([12,22],k);this.Ie.parent=this;this.Ie.h(N.E.A,this.C2,this);this.bL=new cR([22,0],[[22,4,0],[22,4,1]]);
this.bL.h(N.E.A,this.C2,this);var y=g?k9:cO;this.Eb=new y([22,1],-100,100,"%");this.b6=new y("Horizontal Distortion:",-100,100,"%");
this.kv=new y("Vertical Distortion:",-100,100,"%");this.Eb.parent=this.b6.parent=this.kv.parent=this;
this.Eb.h(N.E.A,this.C2,this);this.b6.h(N.E.A,this.C2,this);this.kv.h(N.E.A,this.C2,this)}iw.prototype=new fR;
iw.prototype.f=function(){this.Ie.f();this.bL.f();this.Eb.f();var g=this.arI?1:100;this.b6.HZ(d9.get([22,2]).substring(0,g)+":");
this.kv.HZ(d9.get([22,3]).substring(0,g)+":")};iw.prototype.C2=function(){var g=this.uR,o=this.Ie.c(),k=g.warpStyle.v.warpStyle;
if(o=="warpCustom")_.uR.HQ(_.uR.$p(g),g);else delete g.customEnvelopeWarp;g.warpStyle.v.warpStyle=this.Ie.c();
g.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.bL.c()];g.warpValue.v=this.Eb.c();g.warpPerspective.v=this.b6.c();
g.warpPerspectiveOther.v=this.kv.c();if(o=="warpNone"||o=="warpCustom"){g.warpValue.v=0;g.warpPerspective.v=0;
g.warpPerspectiveOther.v=0}else if(k=="warpNone"||k=="warpCustom")g.warpValue.v=50;this.S(new jB(N.E.A,!1));
this.$(g)};iw.prototype.c=function(g){return JSON.parse(JSON.stringify(this.uR))};iw.prototype.$=function(g){this.uR=JSON.parse(JSON.stringify(g));
this.Ie.$(g.warpStyle.v.warpStyle);this.bL.$(g.warpRotate.v.Ornt=="Hrzn"?0:1);this.Eb.$(g.warpValue.v);
this.b6.$(g.warpPerspective.v);this.kv.$(g.warpPerspectiveOther.v);var o=g.warpStyle.v.warpStyle,k=o=="warpNone"||o=="warpCustom",y=[this.bL,this.Eb,this.b6,this.kv];
for(var m=0;m<y.length;m++)if(k)y[m].jK();else y[m].gM()};function k8(g){fR.call(this);this.aww={};this.e=Z.t("div");
this.rk=g;this.WM=null;this.qc=new bJ(0,0);this.Ax="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.US=null;this.Ro=new Z.Je(this.e);this.ED("grab");this.T=Z.t("canvas","canv");this.e.appendChild(this.T);
this.iS=this.T.getContext("2d");this.agj=null;this.wT=null;this.PM=null;this.Po=0;this.B8=0;this.su=0;
this.a6T=this.af4.bind(this);this.akS=null;this.u=new g1({m:1,n:1});this.gG=null;this.q_=null;this.fz=[];
this.auT=0;this.Qn=0;this.abe=this.wt.bind(this);this.ai3=this.XQ.bind(this);this.a7O=this.zf.bind(this);
this.acl=this.qS.bind(this);this.a0i=0;this.HC=null;this.ad8(this.T);this.zj(this)}k8.prototype=new fR;
k8.prototype.agy=function(g){this.aww=g;this.yL()};k8.akX=function(g){var o=new dj(!0);if(g>=0)o.wy("Space");
if(g>=1){o.wy("ControlLeft");if(g==2)o.wy("AltLeft")}return o};k8.prototype.Zl=function(g){var o=this.US,k=null;
if(g.z(dj.zY)){k="grab";if(g.z(dj.IQ)){k="zoom-in";if(g.z(dj.M4))k="zoom-out"}}this.WM=k;if(k)o=k;this.Ro.I_(o,this.Ax);
if(g.z(dj.IQ)){var y=0;if(g.z(dj.dk))y=1;if(g.z(dj.Mt))y=-1;if(y!=0){this.TB(new bJ(this.T.width/2,this.T.height/2),y==1)}}};
k8.prototype.ED=function(g){this.US=g;if(this.WM)return;this.Ro.I_(g,this.Ax)};k8.prototype.ad8=function(g){Z.Fn(g,this.abe);
Z.yP(g);g.addEventListener("wheel",this.acl,!1)};k8.prototype.zj=function(g){g.h("viewchange",this.ay6,this)};
k8.prototype.ay6=function(g){var o=this.u.N,k=g.currentTarget.r6();this.u.N=k.N;this.u.Y=k.Y.clone();
if(o!=k.N)this.hd();this.yL()};k8.prototype.r6=function(){return{N:this.u.N,Y:this.u.Y}};k8.prototype.$=function(g,o){var k=g[0].MR;
if(this.wT!=null&&this.wT[0].MR.ey(k)){}else{this.u.po={m:k.m,n:k.n};this.u.Y=new bJ(0,0);this.u.N=1}this.wT=g;
this.hd();this.ty();this.Po=0;this.B8=0;this.su=o==null?0:o;this.af4()};k8.prototype.qS=function(g){g.preventDefault();
if(g.deltaY==0||Date.now()-this.a0i<100)return;var o=Z.YD(g);o.x=Z.V()*o.x;o.y=Z.V()*o.y;this.a0i=Date.now();
this.TB(o,g.deltaY<0)};k8.prototype.TB=function(g,o){D.LT.$F(this.u,g,o);this.abl()};k8.prototype.$W=function(){var g=this.u,o=g.po;
this.u.N=D.LT.ayz(o.m,o.n,g.dd.m,g.dd.n);this.abl()};k8.prototype.abl=function(){this.hd();this.S(new jB("viewchange"));
this.S(new jB("zoom"))};k8.prototype.hd=function(){this.PM=[];var g=this.u.N;if(this.wT==null)return;
for(var m=0;m<this.wT.length;m++){var o=this.wT[m],k=new Uint8Array(o.data),y;if(g>=1)y={rg:k,rect:o.MR};
else y=_.a3G(k,o.MR,g);this.PM.push(y)}};k8.prototype.ty=function(){clearTimeout(this.akS)};k8.prototype.yL=function(){if(this.wT==null||!Z.Hd(this.T))return;
var g=this.agj,o=this.T.width,k=this.T.height,w,P;if(g==null||g.width!=o||g.height!=k){g=this.agj=this.iS.createImageData(o,k);
console.log("creating image data")}var y=this.wT[this.Po],d=this.PM[this.Po],b=this.u,T=b.po,a=b.dd,t=a.m,j=a.n,e=T.m*b.N,v=T.n*b.N,L=Math.round((t-e)/2+b.Y.x),H=Math.round((j-v)/2+b.Y.y);
if(b.N<=1){P=d.rect.clone();P.x=L;P.y=H;e=P.m;v=P.n;w=d.rg}else{var Q=1/b.N,x=new bd(Math.floor((a.x-L)*Q),Math.floor((a.y-H)*Q),Math.ceil(a.m*Q)+1,Math.ceil(a.n*Q)+1),F=new bd(0,0,x.m*b.N,x.n*b.N);
F.x=x.x*b.N+L;F.y=x.y*b.N+H;if(b.BZ==null||b.BZ.length!=x.O()*4){b.BZ=_.Q(x.O()*4)}if(b.QG==null||b.QG.length!=F.O()*4){b.QG=_.Q(F.O()*4)}_.Sm(b.BZ,0);
_.g1(d.rg,d.rect,b.BZ,x);_.scale.pX(b.BZ,x.m,x.n,b.QG,F.m,F.n,b.N);w=b.QG;P=F}var E=new Uint8Array(g.data.buffer);
_.sA(E,t,j,8,-L,-H);_.l.I3("norm",w,P,E,a,a,1);var f=this.iS;f.setTransform(1,0,0,1,0,0);f.putImageData(g,0,0);
f.clearRect(L-1e3,H,1e3,v);f.clearRect(L+e,H,1e3,v);f.clearRect(L-1e3,H-1e3,e+2e3,1e3);f.clearRect(L-1e3,H+v,e+2e3,1e3);
var c=k8.a92(b.N,"#ffffff");f.putImageData(c,0,b.dd.n-c.height);var M=this.aww,b=this.u;if(M){var n=fQ.zz([.1,.5,1,1]),X=fQ.zz([1,0,0,1]),u=b.dY(!1);
u.TY();f.save();f.setTransform(u.Ng,u.k,u._I,u.vP,u.ii,u.xF);f.strokeStyle=X;if(M.aqE){fQ.ZW(M.aqE,null,f);
f.lineWidth=1/b.N;f.stroke()}f.strokeStyle=n;f.fillStyle=fQ.zz([1,1,1,1]);if(M.MI){fQ.ZW(M.MI,null,f);
f.lineWidth=1/b.N;f.stroke()}if(M.TN){fQ.agp(M.TN,f,b,.5);f.lineWidth=2/b.N;f.stroke();f.fill()}f.restore()}};
k8.a1F="";k8.apN=null;k8.a92=function(g,o,k,y){if(k==null){k=0;y=0}var d=k+" \xD7 "+y,b="z"+g+","+o+","+k+","+y;
if(b==k8.a1F)return k8.apN;var T=Math.round(50*Z.V()),a=Math.round(18*Z.V()),t=k==0?0:Math.round((d.length+2)*a*.35),j=Z.t("canvas"),e=j.getContext("2d");
j.width=T+t;j.height=a;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,T,a);if(k!=0)e.fillRect(T+2,0,t,a);
e.font=Math.round(11*Z.V())+"px monospace";e.fillStyle=o;var v=g*100;if(v<100)v=v.toFixed(2);else v=Math.round(v);
v=v+"%";var L=e.measureText(v).width;e.fillText(v,(T-L)/2,Math.round(a*.7));if(k!=0){var H=e.measureText(d).width;
e.fillText(d,T+(t-H)/2+1,Math.round(a*.7))}var w=e.getImageData(0,0,T+t,a);k8.a1F=b;k8.apN=w;return w};
k8.prototype.af4=function(){var g=this.wT,o=g.length,k=this.Po,y=this.wT[k],d=(k+1)%o;this.yL();if(o!=1&&g[d].MR.ey(y.MR)){var b=y.ZZ?parseInt(y.ZZ.split(",").pop()):30;
if(b==0)b=16;if(d==0)this.B8++;if(this.su==0||this.B8<this.su)this.akS=setTimeout(this.a6T,b)}this.Po=d};
k8.prototype.UC=function(g,o){if(g<=0||o<=0)return;var k=Math.floor(g*Z.V()),y=Math.floor(o*Z.V());this.u.dd=new bd(0,0,k,y);
this.T.width=k;this.T.height=y;this.T.setAttribute("style","width:"+k/Z.V()+"px; height:"+y/Z.V()+"px; display:block;");
this.yL()};k8.prototype.VF=function(g){var o=-1,k=this.fz;for(var m=0;m<k.length;m++)if(k[m].pointerId==g.pointerId)o=m;
return o};k8.prototype.wt=function(g){var o=this.VF(g),k=this.fz;if(o!=-1)k[o]=g;else k.push(g);if(k.length==1){this.HC=g.target;
Z.a$(window,this.ai3);Z.hO(window,this.a7O);this.gG=Z.YD(g,this.T);this.gG.x*=Z.V();this.gG.y*=Z.V();
this.qc=this.gG;this.q_=this.u.Y.clone();if(this.rk&&this.HC==this.T&&!this.WM)this.S(new jB("mousedown"))}else this.auT=this.Qn=bJ.YX(Z.YD(k[0],this.T),Z.YD(k[1],this.T))};
k8.prototype.XQ=function(g){var o=this.VF(g),k=this.fz;if(o!=-1)k[o]=g;var y=this.u,d=this.WM,b=this.wT[this.Po].MR.clone();
b.m*=y.N;b.n*=y.N;var a=Z.YD(g,this.T);a.x*=Z.V();a.y*=Z.V();this.qc=a;if(this.rk&&this.HC==this.T&&!d)this.S(new jB("mousemove"));
else if(d=="grab"||d==null){if(k.length>1){var t=Z.YD(k[0],this.T),j=Z.YD(k[1],this.T),e=new bJ(Z.V()*(t.x+j.x)/2,Z.V()*(t.y+j.y)/2),v=bJ.YX(t,j),L=null;
if(v>this.Qn+50){this.Qn+=50;L=!0}if(v<this.Qn-50){this.Qn-=50;L=!1}if(L!=null)this.TB(e,L);return}else{var H=a.x-this.gG.x,w=a.y-this.gG.y;
y.Y.x=this.q_.x+Math.round(H);y.Y.y=this.q_.y+Math.round(w)}this.S(new jB("viewchange"))}};k8.prototype.zf=function(g){var o=this.VF(g),k=this.fz;
k.splice(o,1);if(k.length==0){Z.DO(window,this.ai3);Z.ZV(window,this.a7O);var y=this.WM;if(g.detail>1){this.u.N=1;
this.u.Y.oU(0,0);this.yL()}if(this.rk&&this.HC==this.T&&!this.WM)this.S(new jB("mouseup"));else{if(y=="zoom-in"||y=="zoom-out")this.TB(this.qc,y=="zoom-in")}}else{var d=this.gG=Z.YD(k[0],this.T);
d.x*=Z.V();d.y*=Z.V()}};k8.prototype.c0=function(g){var o=this.qc;if(g){o=Z.YD(g,this.T);o.x*=Z.V();
o.y*=Z.V()}return this.u.mp(o.x,o.y)};function hr(){fR.call(this);this.$G=null;this.xn=null;this.Os=null;
this.Sx=null;this.alU="";this.Tg=[];this.an=0;this.J4=[];this.He=0;this.eM=null;var g=this.e=Z.t("div",""),o=this.ajv=Z.t("div","form");
o.setAttribute("style","line-height:0; margin-bottom:0.5em;");g.appendChild(o);var k=this.fk=Z.t("span");
o.appendChild(k);k.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var y=this.adc=new dX([25,2,0]);
y.$(!0);o.appendChild(y.e);y.h(N.E.A,this.ae,this);var d=this.m3=new dX([25,2,1]);d.$(!0);o.appendChild(d.e);
d.h(N.E.A,this.ae,this);var b=new bZ(" ");o.appendChild(b.e);var T=this.Ih=new ic([25,1,1]);o.appendChild(T.e);
T.h(N.E.A,this.ae,this);this.H3=new ea(14);this.H3.abT(3);o.appendChild(this.H3.e);this.H3.parent=this;
this.H3.h(N.E.A,this.alE,this);var a=this.avT=new da([25,1,2],null,null,!0);o.appendChild(a.e);a.h("click",this.LZ,this);
var t=new da("?",null,null,!0);o.appendChild(t.e);t.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a2_=this.aeg.bind(this);this.Hh=Z.t("div","svggallery scrollable");g.appendChild(this.Hh);this.Hh.addEventListener("scroll",this.am4.bind(this))}hr.prototype=new fR;
hr.prototype.mt=function(g){this.aeQ=g};hr.prototype.f=function(){this.fk.textContent=d9.get([25,0]);
this.H3.f();this.adc.f();this.m3.f();this.Ih.f();this.avT.f()};hr.prototype.UC=function(g,o){this.$G=new bJ(g,o);
this.ajv.setAttribute("style","width:"+g+"px");var k=this.ajv.getBoundingClientRect();o-=k.height;this.Hh.setAttribute("style","width:"+g+"px; height:"+o+"px");
if(Z.Hd(this.e))this.ae()};hr.prototype.$=function(g){this.xn=g;this.ae()};hr.prototype.am4=function(g){var o=this.Hh;
if(o.scrollTop+o.clientHeight+10>=o.scrollHeight){this.ae(!0)}};hr.prototype.alE=function(g){this.Os=null;
this.ae()};hr.prototype.aeg=function(g){if(Date.now()-this.He<2e3)return;this.He=Date.now();this.an=this.J4.indexOf(g.currentTarget);
var o=this.Sy(this.xn.x,this.xn.y);if(o[1]){var k=o[1].largeImageURL,y=new XMLHttpRequest;y.responseType="arraybuffer";
y.open("GET",k,!0);y.onload=this.a8B.bind(this);y.send();return}this.a0S(o)};hr.prototype.a8B=function(g){var o=g.target.response,k=cp.tW(o),y=cp.rJ(k),d=y.pO(o),b=this.Sy(this.xn.x,this.xn.y,[o,d[0].MR.m,d[0].MR.n]);
this.a0S(b)};hr.prototype.a0S=function(g){var o=g[0],k=cp.tW(o),y=cp.rJ(k),d=new dF("template.psd");
y.pO(o,d);var b=new jB("tempready",!0);b.data={po:d};this.S(b)};hr.prototype.LZ=function(g){var o=g.target;
this.Tg=[];this.Os=null;this.ae()};hr.prototype.a2Q=function(g){var o=JSON.parse(g.target.response),k=this.Sx=o.hits;
for(var m=0;m<k.length;m++)if(k[m].user_id==6314823)k.splice(m,1);this.ae()};hr.prototype.ae=function(g){if(this.xn==null||this.$G==null||this.aeQ==null)return;
if(this.$G.x<=0)return;var o=this.xn.x,k=this.xn.y;if(Math.min(o,k)<50)return;if(g!=!0){this.J4=[];Z.ew(this.Hh);
this.Hh.scrollTop=0}if(this.J4.length>300)return;var y=Math.min(1,300/Math.max(o,k)),d=this.$G.clone();
d.x-=20;var b=Math.max(1,Math.floor(d.x/(o*y))),T=Math.max(1,Math.ceil(d.y/(k*y)));y=d.x/b/o;var a=b*T;
if(this.Os==null){var t=this.aeQ.At.X0(),j=[];for(var e in t){var v=t[e],L=v[3];if(!this.H3._U(v))continue;
if(v[5]==null||v[5].slice(0,2)=="gf")continue;j.push(v)}if(j.length==0)j.push(t.DejaVuSans);var H=j.length;
for(var m=0;m<H*10;m++){var w=Math.floor(Math.random()*H),P=Math.floor(Math.random()*H),Q=j[w];j[w]=j[P];
j[P]=Q}j=j.slice(0,10);this.Os=j}var x=this.m3.c(),F=this.Ih.c().trim();this.Ih._C(x);if(x&&(this.Sx==null||F!=this.alU)){var E=new XMLHttpRequest,f="https://pixabay.com/api/?image_type=photo"+(F==""?"":"&q="+encodeURIComponent(F))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(F=="")f="plugins/gallery.json";E.open("GET",f,!0);E.onload=this.a2Q.bind(this);E.onerror=function(I){console.log(I.target.response)};
E.send();this.alU=F;return}y*=(o*y-5)/(o*y);var c=this.J4.length;for(var m=0;m<a;m++){var M=this.an=c+m;
if(this.Tg[M]==null)this.Tg[M]=Math.floor(Math.random()*4294967295);var n=this.Sy(Math.round(o*y),Math.round(k*y)),X=n[0];
X=S.IL(new Uint8Array(X));var u=Z.t("span");u.innerHTML=X;this.J4.push(u);this.Hh.appendChild(u);u.addEventListener("click",this.a2_,!1)}};
hr.prototype.Sy=function(g,o,k){var y=this.m3.c(),d=this.adc.c(),b=y&&this.Sx.length!=0?this.Sx:null;
if(d&&!y)b=null;if(d&&y&&(this.an&1)==0)b=null;return jT.qA(g,o,this.Tg[this.an],this.Os,k?k:b)};function c9(){fR.call(this);
this.e=Z.t("div");this.jT=null;this.amb=null;this.uS=-1;this.Y4={JPG:[{$y:new cO([12,52,0],0,100,"%",null,null,!0),d3:70},{$y:new dX("attach metadata"),d3:!1}],TIFF:[{$y:new dX("attach metadata"),d3:!1}],WEBP:[{$y:new cO([12,52,0],0,100,"%",null,null,!0),d3:70}],GIF:[{$y:new cO([12,52,0],0,100,"%",null,null,!0),d3:100},{$y:new dX([12,23,3]),d3:!1}],PNG:[{$y:new cO([12,52,0],0,100,"%",null,null,!0),d3:100},{$y:new dX("don't use palettes"),d3:!1}],PDF:[{$y:new ic([12,52,1]),d3:""},{$y:new cO([12,52,0],0,100,"%",null,null,!0),d3:100},{$y:new dX("reverse pages"),d3:!1},{$y:new dX("rasterize all"),d3:!1},{$y:new dX("vectorize text"),d3:!1},{$y:new cO("Add Margin",0,5,"in",2),d3:0}],EMF:[{$y:new ic([12,52,1]),d3:""},{$y:new cO([12,52,0],0,100,"%",null,null,!0),d3:100},{$y:new dX("reverse pages"),d3:!1},{$y:new dX("rasterize all"),d3:!1},{$y:new dX("vectorize text"),d3:!1},{$y:new cO("Add Margin",0,5,"in",2),d3:0}],SVG:[{$y:new dX("add raster graphics"),d3:!0},{$y:new dX("add hidden layers"),d3:!1},{$y:new dX("vectorize text"),d3:!1},{$y:new dX("rasterize text"),d3:!1},{$y:new dX("minify"),d3:!1}],RAW:[{$y:new k5([12,72],["1","3","4"]),d3:2},{$y:new k5([12,34],["8 Bits","16 Bits"]),d3:0},{$y:new k5("Byte Order",["12-34","34-12"]),d3:0}],DDS:[{$y:new dX("Add Mipmaps"),d3:!0},{$y:new dX("Compression"),d3:!0}],anim:[{$y:new cO("Speed",10,800,"%",null,!0,!0),d3:100},{$y:new k9("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),d3:0},{$y:new dX("reverse frames"),d3:!1},{$y:new dX("boomerang"),d3:!1}],slcs:[{$y:new dX([8,11,0]),d3:!0}],artb:[{$y:new dX([1,16,1]),d3:!0}],hicc:[{$y:new dX("convert to sRGB"),d3:!0}]};
for(var g in this.Y4){var o=this.Y4[g];for(var m=0;m<o.length;m++){o[m].$y.$(o[m].d3);o[m].$y.h(N.E.A,this.nu,this)}}}c9.prototype=new fR;
c9.prototype.ah6=function(){this.uS=-1};c9.prototype.f=function(){for(var g in this.Y4)for(var m=0;m<this.Y4[g].length;
m++)this.Y4[g][m].$y.f()};c9.prototype.nu=function(){this.ae();this.S(new jB(N.E.A,!1))};c9.prototype.ae=function(){var g=this.jT,o=g[0],k=g[1],y=g[2],d=g[3],b=g[4],T=this.Y4[o];
if(T==null)T=[];else T=T.slice(0);if(k)T=T.concat(this.Y4.anim);if(["GIF","PNG","JPG"].indexOf(o)!=-1&&y)T=T.concat(this.Y4.slcs);
else if(["GIF","PNG","JPG"].indexOf(o)!=-1&&d)T=T.concat(this.Y4.artb);if(b)T=T.concat(this.Y4.hicc);
var a=g.join(",");if(a!=this.uS){this.uS=a;Z.ew(this.e);for(var m=0;m<T.length;m++){if(o=="PDF"&&!d&&(m==0||m==2))continue;
this.e.appendChild(T[m].$y.e);Z.Dx(this.e)}}var t=this.amb=[];for(var m=0;m<T.length;m++)t.push(T[m].$y.c())};
c9.prototype.dL=function(g,o,k,y,d){this.jT=[g,o,k,y,d];this.ae()};c9.prototype.c=function(){return this.amb.slice(0)};
c9.prototype.$=function(g){var o=this.jT,k=o[0],y=this.Y4[k],d=Math.min(y.length,g.length);for(var m=0;
m<d;m++)y[m].$y.$(g[m]);this.ae();this.nu()};function ik(){fR.call(this);this.e=Z.t("span","fitem");
this.VJ=!1;this.KZ=new da("No",!1,"Cancel");this._5=new da("Yes",!1,"Confirm");this.e.appendChild(this.KZ.e);
this.e.appendChild(this._5.e);this.KZ.h("click",this.$I,this);this._5.h("click",this.$I,this);this.f()}ik.prototype=new fR;
ik.prototype.f=function(){this.KZ.HZ(Z.$l("cross",null,"autoscale"));this._5.HZ(Z.$l("checkmark",null,"autoscale"))};
ik.prototype.$I=function(g){this.VJ=g.target==this._5;this.S(new UIEvent("click"))};ik.prototype.c=function(){return this.VJ};
function gt(g){fR.call(this);this.e=Z.t("span","fitem");this.K2=new da("\u25BC",null,"Auto Options",!0);
Z.Fn(this.K2.e,this.ayx.bind(this));this.e.appendChild(this.K2.e);this.UA=new da("Auto",null,null,!0);
this.UA.h("click",this.Xm,this);this.e.appendChild(this.UA.e);this.va=new jZ("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.va.h(N.E.A,this.Xm,this);this.va.$([!1,!1,!1,!0]);this.W8=new fR;var o=this.W8.e=Z.t("div","floatcont form");
o.setAttribute("style","width: 250px;");this.W8.parent=this;o.appendChild(this.va.e);this.I5=[];for(var m=0;
m<2;m++){var k=new k9((m==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);k.$(.1);k.h(N.E.A,this.Xm,this);
this.I5.push(k);o.appendChild(k.e)}}gt.prototype=new fR;gt.prototype.Xm=function(g){this.S(new jB(N.E.A,!1))};
gt.prototype.f=function(){};gt.prototype.c=function(){return[this.va.c().indexOf(!0),this.I5[0].c(),this.I5[1].c()]};
gt.prototype.ayx=function(g){if(Z.Hd(this.W8.e))return;g.stopPropagation();var o=this.K2.e.getBoundingClientRect(),k=new jB(N.E.s,!0);
k.data={P:N.b.q$,w9:this.W8,x:o.left,y:o.top+o.height+4};this.S(k)};function aN(){fR.call(this);var g=this.e=Z.t("div","fitem");
this.lY=new cR([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.lY.h(N.E.A,this.dg,this);g.appendChild(this.lY.e);
this.Oa=new d6(!1);this.Oa.parent=this;this.Oa.Ea(16777215);this.Oa.h(N.E.A,this.dg,this);g.appendChild(this.Oa.e)}aN.prototype=new fR;
aN.prototype.f=function(){this.lY.f();this.Oa.f()};aN.prototype.aqs=function(g){var o=[g.artboardBackgroundType.v-1];
if(g.Clr)o.push(g.Clr.v);this.$(o)};aN.prototype.anN=function(){var g=this.c();return{classID:"artboard",Clr:{t:"Objc",v:g[1]},artboardBackgroundType:{t:"long",v:g[0]+1}}};
aN.prototype.$=function(g){this.lY.$(g[0]);if(g[1])this.Oa.$(g[1])};aN.prototype.c=function(){return[this.lY.c(),this.Oa.c()]};
aN.prototype.dg=function(g){if(g.target==this.Oa)this.lY.$(3);this.S(new jB(N.E.A,!1))};function hE(g){fR.call(this);
this.Bf=g;this._X=0;this.adA=!1;this.gZ=g?new hE.ZK:null;this.e=Z.t("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.Li=Z.t("div");this.e.appendChild(this.Li);this.$q=Z.t("div");this.e.appendChild(this.$q);this.dW=[];
var o=Storage.list.length;if(g)o++;var k=this.bb.bind(this);for(var m=0;m<o;m++){var y=Z.t("div");this.dW.push(y);
this.Li.appendChild(y);y.addEventListener("click",k,!1)}this.bb(null,0)}hE.prototype=new fR;hE.oK=[];
hE.KL=function(g){hE.oK.push(g);g.Y3()};hE.q3=function(){var g=hE.oK;g.pop();g[g.length-1].Y3()};hE.prototype.Y3=function(){console.log(this._X);
this.bb(null,this._X)};hE.prototype.mt=function(g,o){if(!g.wH&&!this.adA){var k=this.Bf?2:1;for(var m=k;
m<this.dW.length;m++)this.Li.removeChild(this.dW[m]);this.adA=!0;if(this.Bf)this.gZ.mt(g,o)}};hE.prototype.f=function(){if(this.Bf)this.gZ.f();
if(this.Cg)this.Cg.f()};hE.prototype.bb=function(g,o){var k=this.dW,y;if(o==null)o=k.indexOf(g.currentTarget);
this._X=o;for(var m=0;m<k.length;m++)Z.Iu(k[m],"active");Z.O9(k[o],"active");if(this.Bf)o--;Z.ew(this.$q);
if(o==-1)y=this.gZ;else y=Storage.atr(o);this.Cg=y;y.parent=this;this.$q.appendChild(y.e);this.UC(this.bW,this.GP);
this.f()};hE.prototype.UC=function(g,o){this.bW=g;this.GP=o;var k=g<850,y=k?50:200,d=Storage.list;if(this.Bf)d=[["Home",null,"strg/home"]].concat(d);
for(var m=0;m<d.length;m++){var b=this.dW[m],T="padding: 8px "+(k?13:36)+"px; cursor:pointer;";b.setAttribute("style",T);
b.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[d[m][2]]+"\" /> "+(k?"":d[m][0])}this.e.style.width=g+"px";
this.e.style.height=o+"px";this.Li.style.width=y+"px";this.Li.style.paddingTop="32px";if(this.Cg)this.Cg.UC(g-y,o)};
hE.ZK=function(){var g=this.e=Z.t("div");g.style.background="var(--bg-canvas)";var o=this.$L=Z.t("div");
g.appendChild(o);var k=Z.t("style");g.appendChild(k);k.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var m=0;m<2;m++){var y=Z.t("div"),k="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";o.appendChild(y);
if(m==0)k+="padding: 12px 0px";if(m==1)k+="position:absolute;  bottom:0;";y.setAttribute("style",k);
var d=Z.t("img");y.appendChild(d);d.setAttribute("src",PIMG[m==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(m==0)this.SI=d;else this.atv=d;if(m==0)this.atW=y;else this.akA=y}this.dW=[];k="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var b=this.za.bind(this);for(var m=0;m<3;m++){var T=Z.t("span","bhover");this.dW.push(T);T.setAttribute("style",k+"cursor:pointer; padding:12px;");
T.addEventListener("click",b,!1);o.appendChild(T)}Z.Dx(o);Z.Dx(o);var T=Z.t("div");T.setAttribute("style",k+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
T.textContent="Drop any files here";o.appendChild(T);this.T=Z.t("canvas");this.T.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.iS=this.T.getContext("2d");this.afs=_.Q(4);g.appendChild(this.T);var a=new Date().getDate(),t=new Date().getMonth();
if(t==11&&a>20||t==0&&a<10){var j=Math.random()<.5,e={o:255,C:255,k:255};if(!j){e=_.YN(Math.random(),Math.random()*.7,1);
e.o*=255;e.C*=255;e.k*=255}this.d$=[Math.round(1048575*Math.random()),j?.05:.02,Math.round(4+Math.random()*8),1,j?3:15,e,0,!0,j,j?1:.2,3];
this.ajZ=j?.1:.2;this.gh=this.LH.bind(this);window.requestAnimationFrame(this.gh)}};hE.ZK.prototype=new fR;
hE.ZK.prototype.LH=function(){window.requestAnimationFrame(this.gh);if(!Z.Hd(this.e))return;var g=this.afs,o=this.T,k=this.iS,y=o.width,d=o.height;
this.d$[6]=Date.now()*.001*this.ajZ;_.mO._$(g,y,d,this.d$,!0);k.putImageData(new ImageData(new Uint8ClampedArray(g.buffer),y,d),0,0)};
hE.ZK.prototype.za=function(g){var m=this.dW.indexOf(g.currentTarget),o=new jB(N.E.s,!0);if(m==0)o.data={P:N.b.xp,Pv:"newproject"};
if(m==1)o.data={P:N.b.RL};if(m==2)o.data={P:N.b.xp,Pv:"res0"};this.S(o)};hE.ZK.prototype.f=function(){var g=this.dW,o=[[11,7],[1,6],["PSD VAR0",[25,0]]],k=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var m=0;m<g.length;m++)g[m].textContent=k[m]+"\u2000"+d9.get(o[m]);var y="l"+"o"+"g"+"o",d=new Date;
if(d.getMonth()==3&&d.getDate()==1)y="lo"+"go_cuc"+"umber";this.SI.setAttribute("src",PIMG[y]);this.atv.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
hE.ZK.prototype.UC=function(g,o){var k=Math.min(o*1.5,Math.min(g,600));Z.OK(this.T,g,k*.26);var y=this.T.width,d=this.T.height;
this.afs=_.Q(y*d*4);this.e.style.width=g+"px";this.e.style.height=o+"px";this.akA.style.width=g+"px";
this.$L.style.marginLeft=Math.max(0,Math.round((g+200-600)/2)-200)+"px";this.SI.style.width=k+"px";this.atv.style.width=k+"px"};
hE.ZK.prototype.mt=function(g,o){if(!g.wH)this.$L.removeChild(this.dW[2])};function Storage(g){fR.call(this);
var o=this.e=Z.t("div","storage");Z.tF(o);var k=this.abD=Z.t("style");o.appendChild(k);o.setAttribute("tabindex","0");
o.style.outline="none";o.addEventListener("keydown",this.amx.bind(this),!1);this.xu=this.afP.bind(this);
var y=Z.t("div");o.appendChild(y);var d=this.a7l.bind(this);this.Mu=Z.t("div","bar");y.appendChild(this.Mu);
this.QU=Z.t("div","fls scrollable");y.appendChild(this.QU);this.wZ=Z.t("div");y.appendChild(this.wZ);
this.wZ.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.xo=Z.t("div","bar");this.xo.textContent="Name: ";var b=this.Rj=Z.t("input");b.setAttribute("type","text");
this.xo.appendChild(b);var T=this.Rp=Z.t("div","btn");T.textContent="Save";this.xo.appendChild(T);Z.hO(T,d);
Z.Fn(this.QU,this.xu);this.k5=0;this.cM=g;this.xG=Z.t("div","btn");Z.hO(this.xG,this.aj5.bind(this));
this.Ju=new iU([{name:[6,20]}]);this.Ju.parent=this;this.aW=new iU([{name:[5,4]},{name:[6,37]}]);this.aW.parent=this;
this.Ju.h("select",this.aoy,this);this.aW.h("select",this.aoy,this);this.QU.addEventListener("contextmenu",this.xu);
this.ahD=Z.t("span");this.Gw=Z.t("span");this.Gw.setAttribute("style","position:absolute; right:0; top:5px;");
this.XT=[];this.o8=[];for(var m=0;m<3;m++){var a=Z.t("div","btn");this.XT.push(a);this.ahD.appendChild(a);
Z.hO(a,d);a.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][m]}for(var m=0;m<4;m++){var a=Z.t("div","btn");
this.o8.push(a);this.Gw.appendChild(a);Z.hO(a,d)}window.addEventListener("message",this.acb.bind(this),!1);
this.aaQ=!1;setInterval(this.ahn.bind(this),300);this.ag()}Storage.prototype=new fR;Storage.HK=!1;Storage.prototype.ahn=function(){var g=Z.Hd(this.e),o=this.aaQ;
if(g&&!o){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!g&&o){window.onpopstate=function(){};
history.go(-1)}this.aaQ=g};Storage.prototype.ag=function(){if(this.Eh)document.body.removeChild(this.Eh);
this.ld=[[]];this.Af=0;this.awI={"/":[]};this.Xy="";this.az=null;this.y2=[];this.OL=[];var g="code/storages/"+Storage.list[this.cM][1],o=this.Eh=Z.t("iframe");
o.setAttribute("src",g);o.setAttribute("style","display:none");document.body.appendChild(o)};Storage.prototype.br=function(){return this.awI[this.XL()]};
Storage.prototype.WC=function(g){this.awI[this.XL()]=g};Storage.atr=function(m){var g=Storage.n6[m];
if(g==null)g=Storage.n6[m]=new Storage(m);return g};Storage.n6=[];Storage.cD=0;Storage.avw="";Storage.t5=function(g,o){Storage.cD=g;
Storage.avw=o;var k=Storage.n6;for(var m=0;m<k.length;m++)if(k[m])k[m].Y3()};Storage.Sj=0;Storage.k9=2;
Storage.Xp=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"]];
Storage.a4t=function(g){for(var m=0;m<Storage.n6.length;m++){if(Storage.n6[m]&&Storage.n6[m].Eh.contentWindow==g)return!0}return!1};
Storage.prototype.amx=function(g){if(g.target.tagName=="INPUT")return;var o=dj;if(o.M0(g.code,o.aS)&&this.XL().length!=0)this.afd();
else if(g.ctrlKey){if(o.M0(g.code,o.b)){var k=[];this.WC(k);for(var m=0;m<this.az.length;m++)k.push(m);
this.as()}if(o.M0(g.code,o.qb)){}if(o.M0(g.code,o.dA)){}}else if(o.M0(g.code,o.zu)){var y=this.br();
if(y.length!=0)this.avi(y[0])}else if(o.M0(g.code,o.uo)){this.Af=Math.max(this.Af-1,0);this.Ul()}else{var d=0;
for(var m=65;m<=90;m++)if(g.code=="Key"+String.fromCharCode(m))d=m;if(d!=0){var b=String.fromCharCode(d).toLowerCase(),T=[],a=this.az,t;
for(var m=0;m<a.length;m++)if(a[m][0][0].toLowerCase()==b)T.push(m);if(T.length==0)return;var y=this.br();
if(y.length==0)t=T[0];else{var j=T.indexOf(y[0]);if(j==-1){t=T[0];for(var m=0;m<T.length;m++)if(T[m]>y[0]){t=T[m];
break}}else t=T[(j+1)%T.length]}this.WC([t]);this.as(!0)}}};Storage.prototype.UC=function(g,o){this.bW=g;
this.GP=o;this.e.style.width=g+"px";this.e.style.height=o+"px";var k=g-30,y=Math.floor(k/230),k=Math.floor(k/y)-70;
this.abD.textContent=".storage .tile .name {  width:"+k+"px;  }";this.Rj.style.width=g-140+"px";this.QU.style.width=this.Mu.style.width=g-20+"px";
this.QU.style.height=o-70-(Storage.cD==0?0:45)+"px"};Storage.prototype.aj5=function(){this.Ul()};Storage.prototype.Ul=function(){this.dy("show",this.XL())};
Storage.prototype.XL=function(g){var o=this.ld[this.Af],k="/"+o.join("/");if(g&&o.length!=0)k+="/";return k};
Storage.prototype.a7l=function(g){var o=g.currentTarget,k=this.Af,y=this.XT.indexOf(o),d=this.o8.indexOf(o);
if(y>=0&&!this.atT(y))return;if(y==0){this.Af=Math.max(k-1,0);this.Ul()}if(y==1){this.Af=Math.min(k+1,this.ld.length-1);
this.Ul()}if(y==2){var b=this.ld[k+1]=this.ld[k].slice(0);b.pop();this.Af++;this.ld=this.ld.slice(0,this.Af+1);
this.Ul()}if(d==0){Storage.Sj=(Storage.Sj+1)%2;this.Y3()}if(d==1){Storage.k9=(Storage.k9+1)%3;this.Y3()}if(d==2){Storage.Xp=(Storage.Xp+1)%3;
this.Y3()}if(d==3){this.dy("forget","")}if(o==this.Rp){var T=this.Rj.value.trim(),a=this.az,t=-1;if(!T.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var m=0;m<a.length;m++)if(a[m][0]==T)t=m;if(t!=-1){this.atc("Do you really want to replace \""+T+"\"?",this.acs.bind(this))}else this.acs()}};
Storage.prototype.acs=function(){var g=this.Rj.value.trim(),o=[this.cM,this.XL(!0)+g];this.f7({P:N.b.aoR,JL:o});
this.S(new jB("canclose",!0))};Storage.prototype.aoy=function(g){var o=g.target.Ny()[0];if(g.target==this.Ju){var k=[d9.get([6,20]),-1,0];
this.az.push(k);this.Y3();var m=this.az.indexOf(k),y=this.y2[m].querySelector(".name");console.log(y);
var d=new dv.kJ(y,function(T){this.f7({P:N.b.lu,Q4:d9.get([1,2])+" ..."});var a=this.XL(!0)+T+"/";console.log(a);
this.dy("save",a)}.bind(this),!0)}else{if(o==0)this.afd();else{var m=this.br()[0],b=this.az[m],y=this.y2[m].querySelector(".name");
console.log(y);y.innerHTML=b[0];var d=new dv.kJ(y,function(T){T=T.trim();var a=this.az;for(var m=0;m<a.length;
m++)if(a[m][0]==T){alert("Item with such name already exists.");this.Y3();return}var t=this.XL(!0)+b[0]+":"+T;
console.log(t);this.dy("rename",t)}.bind(this))}}};Storage.prototype.afd=function(){var g=this.br();
this.atc("Do you really want to delete "+(g.length==1?"\""+this.az[g[0]][0]+"\"":"these files")+"?",this.wE.bind(this))};
Storage.prototype.atc=function(g,o){var k={P:N.b.xp,Pv:"confirm",Z:g,H_:o};this.f7(k)};Storage.prototype.wE=function(){this.f7({P:N.b.lu,Q4:d9.get([5,4])+" ..."});
this.OL=this.axH();this.a1Q()};Storage.prototype.a1Q=function(){if(this.OL.length==0){this.f7({P:N.b.xa,Q4:d9.get([5,4])+" ..."});
this.WC([]);this.Ul()}else this.dy("delete",this.OL.pop()[1])};Storage.prototype.axH=function(){var g=[],o=this.XL(!0),k=this.br();
for(var m=0;m<k.length;m++){var y=this.az[k[m]];g.push([this.cM,o+y[0]])}return g};Storage.prototype.dy=function(g,o){this.Xy=g;
if(Storage.HK)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+g+"\", \"prm\": "+JSON.stringify(o)+"  }");
this.Eh.contentWindow.postMessage("{\"code\": \""+g+"\", \"prm\": "+JSON.stringify(o)+"  }","*")};Storage.prototype.acb=function(g){if(g.source!=this.Eh.contentWindow)return;
if(typeof g.data=="string"){if(Storage.HK)console.log("==",Math.floor(Date.now()/1e3),g.data);var o=JSON.parse(g.data),k=o.code,y=o.prm;
if(k=="ready"){var d=Storage.list[this.cM][3];if(d&&!y){var b=fV.hA(),T=fV.uQ(),a=T.acc;if(b==null||b.id!=1){alert("work in progress ...");
return}if(b==null){alert("Log in to use this storage (press Account at the top).");return}var t=[],j=b.wantToJoin;
for(var e in j)t.push(parseInt(e.slice(1)));var v={uid:b.id,limit:1e8,inTeams:b.inTeams,myTeams:t};v.secret=a&&a.pds?a.pds:"";
this.dy("login",v);return}if(d&&o.secret){var T=fV.uQ(),a=T.acc;if(a==null)a=T.acc={};a.pds=o.secret;
fV.Xc(T)}if(y)this.Ul();else{Z.ew(this.Mu);Z.ew(this.QU);this.Mu.appendChild(this.xG)}}else if(k!="0"){alert(y);
this.Y3()}else if(this.Xy=="show"){this.az=y;this.Y3()}else if(this.Xy=="save"){this.f7({P:N.b.xa,Q4:d9.get([1,2])+" ..."});
this.Ul()}else if(this.Xy=="delete"){this.a1Q()}else if(this.Xy=="forget"){this.ag()}else if(this.Xy=="rename"){this.Ul()}else throw k}else{if(Storage.HK)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.f7({P:N.b.adi,JL:this.axH()[0],sP:g.data});this.f7({P:N.b.xa,Q4:"Opening ..."})}};Storage.prototype.atT=function(m){if(m==0)return this.Af>0;
if(m==1)return this.Af<this.ld.length-1;if(m==2)return this.XL()!="/"};Storage.prototype.Y3=function(){var g=this.az,o=Storage.k9,k=Storage.Sj,y=Storage.Xp;
if(g==null)return;g.sort(function(X,u){var I=X[1]==-1?1:5,r=u[1]==-1?1:5,J=0;if(Math.min(I,r)==1&&I!=r)return I-r;
else if(I==1||o==0)J=X[0].toLowerCase()<u[0].toLowerCase()?-1:1;else if(o==1)J=X[1]-u[1];else if(o==2)J=X[2]-u[2];
if(k==1)J=-J;return J});var d=this.QU,b=this.Mu,T=this.ld[this.Af];Z.ew(d);Z.ew(b);this.y2=[];for(var m=0;
m<3;m++)if(this.atT(m))Z.Iu(this.XT[m],"disabled");else Z.O9(this.XT[m],"disabled");b.appendChild(this.ahD);
b.appendChild(this.Gw);var a=Z.t("span");a.textContent="/";b.appendChild(a);for(var m=0;m<T.length;m++){var a=Z.t("span");
a.textContent=T[m];b.appendChild(a);var a=Z.t("span");a.textContent="/";b.appendChild(a)}var t=["tile","icon","litm"][y];
for(var m=0;m<g.length;m++){var j=g[m],e=j[1]==-1,v=e?"":jg.Tc(j[1]),L=Z.t("div","cont "+t);d.appendChild(L);
this.y2.push(L);L.setAttribute("title",j[0]+(e?"":"\nSize: "+v+"\nDate Modified: "+new Date(j[2]*1e3).toLocaleString().replaceAll(". ",".")));
var H=Z.t("img");H.setAttribute("src",e?Storage.aqD:j[3]?j[3]:Storage.sB);if(!e&&j[3])H.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var w=Z.t("span","name"),P=j[0];if(t=="icon"&&P.length>30)P=P.slice(0,24)+".."+P.slice(P.length-5);w.textContent=P;
L.appendChild(H);L.appendChild(w);if(t!="icon"&&!e){if(t=="tile")Z.Dx(w);var Q=Z.t("span");Q.textContent=v;
Q.style.opacity="0.8";(t=="tile"?w:L).appendChild(Q)}var x=j[0].split("."),F=(x.length==1?"":x.pop()).toUpperCase();
if(t!="litm"&&!e&&j[3]==null){var E=Z.t("span","ext");E.textContent=F;var f=Storage.vY[F];E.style.backgroundColor=f?f:Storage.apc(F);
L.appendChild(E)}Z.Fn(L,this.xu);L.addEventListener("contextmenu",this.xu)}this.as();var c=this.xo.parentNode!=null,M=Storage.cD,n=this.e;
if(c&&M==0)n.removeChild(this.xo);if(!c&&M==1)n.appendChild(this.xo);this.UC(this.bW,this.GP);this.f()};
Storage.prototype.as=function(g){var o=this.y2,k=this.az,y=this.br(),d=!1,b=0;for(var m=0;m<o.length;
m++){var T=k[m],a=T[1]==-1,t=o[m];if(Storage.cD==1&&!a&&!T[0].toLowerCase().endsWith(".psd"))t.style.display="none";
else t.style.display="auto";if(y.indexOf(m)==-1)Z.Iu(t,"active");else{if(a)d=!0;else b+=T[1];Z.O9(t,"active");
if(g)t.scrollIntoView({block:"center",behavior:"smooth"})}}var j=d?"":jg.Tc(b);this.wZ.textContent=y.length==0?"":y.length+" item"+(y.length==1?"":"s")+" selected\u2001"+j;
this.Rj.value=y.length==1&&!d?k[y[0]][0]:Storage.avw};Storage.prototype.avi=function(m){var g=this.az[m];
if(g[1]==-1){var o=this.ld[this.Af].slice(0);o.push(g[0]);this.Af++;this.ld[this.Af]=o;this.ld=this.ld.slice(0,this.Af+1);
this.WC([]);this.Ul()}else if(Storage.cD==0){this.f7({P:N.b.lu,Q4:"Opening ..."});this.S(new jB("canclose",!0));
var k=this.XL(!0)+g[0];this.dy("load",k)}};Storage.prototype.f=function(){var g=Storage.k9,o=Storage.Sj,k=Storage.Xp;
this.o8[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][o];this.o8[1].textContent=d9.get([[12,48],[12,14,0],"Date"][g]);
this.o8[2].textContent=d9.get(["Tiles","Icons",[25,3,1]][k]);this.o8[3].textContent="\u2716";this.xG.textContent=d9.get([[23,6],Storage.list[this.cM][0]])};
Storage.prototype.afP=function(g){this.f7({P:N.b.sU});if(g.button==3||g.button==4){if(Date.now()-this.aa9>50){var o=this.Af;
if(g.button==3)this.Af=Math.max(o-1,0);else this.Af=Math.min(o+1,this.ld.length-1);this.Ul()}this.aa9=Date.now();
return}g.stopPropagation();var m=this.y2.indexOf(g.currentTarget);if(g.type=="contextmenu"){if(this.az==null)return;
g.preventDefault();var k=m==-1?this.Ju:this.aW;k.parent=this;k.f();this.f7({P:N.b.q$,w9:k,x:g.clientX+4,y:g.clientY});
return}var y=this.br(),d=y.indexOf(m);if(g.button!=0&&d!=-1)return;if(g.target==this.QU)this.WC([]);
else{if(g.ctrlKey){if(d==-1)y.push(m);else y.splice(d,1)}else if(g.shiftKey&&y.length!=0){var b=y[0];
if(b<m){var T=m;m=b;b=T}y=[];this.WC(y);for(var a=m;a<=b;a++)y.push(a)}else{this.WC([m]);if(Date.now()-this.k5<300&&y.length!=0&&y[0]==m){this.avi(m);
this.k5=0}}}this.k5=Date.now();this.as()};Storage.prototype.f7=function(g){var o=new jB(N.E.s,!0);o.data=g;
this.S(o)};Storage.prototype.a0b=function(g,o){this.f7({P:N.b.lu,Q4:d9.get([1,2])+" ..."});this.dy("save",g);
if(Storage.HK)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.Eh.contentWindow.postMessage(o,"*")};
Storage.vY={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.apc=function(g){g=g.toLowerCase();var o=0;
for(var m=0;m<g.length;m++)o+=g.charCodeAt(m)*613<<8*m;return"#"+_.Mb(o&16777215)};Storage.aqD="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.sB="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function aE(g){fR.call(this);var o=this.e=Z.t("div","form scrollable padded label12");this.NU=g;this.KV=null;
var k=[],y=aE.kF[g];this.g3=[];for(var d in y){var b=parseInt(d.slice(1)),T=b%10==0?"":"\u2800\u2800- ";
k.push(T+y[d]);this.g3.push(b)}this.iY=[new ic("Name",null,30),new ic("Description",null,30,4),g==0?new ic("File"," www.Photopea.com#i...",17):new gQ("File",!1,!1),new ic("Thumbnail URL","* Use Imgur.com etc.",17),new cR("Category",k),new dX("Make Public"),new da("<< Back",null,null,!0),new da("Save",null,null,!0)];
if(g==0)this.iY.push(new bZ("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new bZ("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(g==1)this.iY.push(new bZ("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(g!=0)this.iY.push(new bZ("Do not load any file to preserve the old version."));for(var m=0;m<this.iY.length;
m++){var a=this.iY[m];o.appendChild(a.e);a.parent=this;if(m!=4&&m!=6)Z.Dx(o);if(a instanceof da)a.h("click",this.ab_,this)}}aE.prototype=new fR;
aE.prototype.ab_=function(g){if(g.target==this.iY[6]){this.S(new jB("back"));return}var o=this.iY[3].c().trim(),k=o.startsWith("http")&&(o.endsWith(".jpeg")||o.endsWith(".jpg")||o.endsWith(".png")||o.endsWith(".gif"));
if(!k){alert("Thumbnail URL is incorrect.");return}var y=new XMLHttpRequest,d="mirror.php?url="+encodeURIComponent(o);
y.open("GET",d);y.responseType="arraybuffer";y.onload=this.acq.bind(this);y.send()};aE.prototype.acq=function(g){var o=g.target.response,k=o.byteLength;
if(k>2e5&&cp.tW(o)!="gif"){alert("Thumbnail is too large ("+jg.Tc(k)+"). Make it under 200 kB.");return}var y=this.iY[2].c(),d=Object.keys(y);
if(this.NU!=0&&d.length!=0){console.log(y);ap.jT.ajR(y[d[0]].buffer,d[0],this.awV.bind(this),"pp-resources");
return}this.awV()};aE.prototype.awV=function(g){var o=this.NU,k="name desc file thmb catg publ".split(" "),y=this.KV;
for(var m=0;m<6;m++){if(o!=0&&m==2)continue;var d=this.iY[m].c();if(m<=3){d=d.trim();if(d.length==0){alert("One of values is empty.");
return}}if(m==2){var b=d.split("#i");if(b.length!=2||b[1].length!=8){alert("File ID is incorrect.");
return}d=b.pop()}if(m==4)d=this.g3[d];y[k[m]]=d}if(o!=0){if(g)y.file=g;else if(y.file==null){alert("Select a file from your computer.");
return}}if(y.utme.length==0)y.utme=""+Math.round(Date.now()/1e3);y.type=o;this.S(new jB("save"))};aE.prototype.f=function(){};
aE.prototype.$=function(g){var o=this.KV=JSON.parse(JSON.stringify(g)),k="name desc file thmb catg publ".split(" ");
for(var m=0;m<6;m++){var y=o[k[m]];if(y!=""&&m==2)y="https://photopea.com#i"+y;if(m==4)y=this.g3.indexOf(y);
if(m==5&&y==null)y=!0;this.iY[m].$(y)}};aE.prototype.c=function(){return JSON.parse(JSON.stringify(this.KV))};
aE.kF=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function eJ(g){fR.call(this);this.gi=g;this.e=Z.t("div","");this.ws=[];this.BT=null;this.akK=[]}eJ.prototype=new fR;
eJ.prototype.C_=function(g){};eJ.prototype.oV=function(){return!1};eJ.prototype.UC=function(g,o){};eJ.prototype.mt=function(g,o){};
eJ.prototype.b7=function(g){};eJ.prototype.$=function(g,o,k,y,d,b){var T=[],a=this.ws,t=0,j=jf.p9["s"+this.gi];
j?j(g,T,b):this.X$(g,T,b);for(var m=0;m<a.length;m++)if(!(a[m]instanceof bZ))a[m].$(T[t++]);if(g.RndS)this.BT=g.RndS.v};
eJ.prototype.c=function(){var g=jf.J0(this.gi),o=[],k=this.ws,y=0;for(var m=0;m<k.length;m++)if(!(k[m]instanceof bZ))o[y++]=k[m].c();
var d=jf.p9["g"+this.gi];d?d(g,o):this.er(g,o);if(g.RndS)g.RndS.v=this.BT;return g};eJ.prototype.Zl=function(g){};
eJ.prototype.C2=function(g){if(g&&g.target instanceof da){this.BT=Math.floor(Math.random()*4294967295)}var o=this.akK;
for(var m=0;m<o.length;m+=2){var k=this.ws[o[m]],y=this.ws[o[m+1]],d=k.c(),b=y.c();if(g.target==k)y.$(Math.max(d,b));
else k.$(Math.min(d,b))}this.S(new jB(N.E.A))};eJ.prototype.f=function(){for(var m=0;m<this.ws.length;
m++)this.ws[m].f();var g=this.a7N;if(g)g.f()};eJ.prototype.Iq=function(g){Z.O9(this.e,"form");var o=this.ws;
for(var m=0;m<o.length;m++){var k=o[m];k.parent=this;k.h(N.E.A,this.C2,this);this.e.appendChild(k.e);
if(k instanceof dX&&o[m+1]instanceof d6)continue;if(g&&g.indexOf(m)!=-1)Z.Jo(this.e);else Z.Dx(this.e)}var y=jf.J0(this.gi);
if(y.RndS){var d=this.a7N=new da([25,1,2],null,null,!0);this.e.appendChild(d.e);d.h("click",this.C2,this)}};
eJ.prototype.xI=function(){return!1};eJ.prototype.Hu=function(g,o,k,y,d){};eJ.prototype.Sa=function(g,o,k,y,d){};
eJ.prototype.b9=function(g,o,k,y,d){};eJ.prototype.er=function(g,o){};eJ.prototype.X$=function(g,o){};
eJ.prototype.Tj=function(g){var o=g.target.c().indexOf(!0)!=-1,k=new jB(N.E.s,!0);k.Yi=!0;k.data={P:o?N.b.v1:N.b.l0,G:D.z0};
this.S(k);k=new jB(N.E.L,!0);k.G=D.z0;k.Yi=!0;k.data={P:"supertool",G:o?this:null};this.S(k)};eJ.a3S=function(g){g.xI=function(){return!0};
g.Hu=function(o,k,y,d,b){this.$_=!0;this.ap3(o,b)};g.Sa=function(o,k,y,d,b){if(!this.$_)return;this.ap3(o,b)};
g.b9=function(o,k,y,d,b){this.$_=!1};g.ap3=function(o,k){var y=new bd(0,0,o.m,o.n);if(o.J)y=o.J.rect;
var d=o.u.mp(k.x,k.y);d.x-=y.x;d.y-=y.y;function b(T,a){return Math.round(Math.max(0,Math.min(100,100*T/a)))}this.ws[2].$(b(d.x,y.m));
this.ws[3].$(b(d.y,y.n));this.C2()}};eJ.Bokh=function(){eJ.call(this,"Bokh");this.ws=[new cR("Depth Map",["A","b"]),new cO("Focal Distance",0,255),new dX([4,11]),new cR([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new cO([12,56],0,100),new cO([12,15],0,360),new cO([12,2],0,100),new cO([4,13],0,255),new cO([24,6],0,100),new k5([12,58],[[12,59,0],[12,59,1]]),new dX([12,60])];
this.Iq([5,7])};eJ.Bokh.prototype=new eJ;eJ.Bokh.prototype.X$=function(g,o,k){var y=[[22,5,0],[6,5,3],[6,2]],d=g.BkDi.v.BtDi,b=g.BkDc,T=0;
if(d=="BeIn")T=0;else if(d=="BeIt"&&b.v.BtDc=="BeCt")T=1;else if(d=="BeIt"&&b.v.BtDc=="BeCm")T=2;else T=3+b.v;
for(var m=0;m<k[1].length;m++)y.push(k[1][m].name);this.ws[0].O$(y,[3]);o[0]=T;o[1]=g.BkDp.v;o[2]=g.BkDs.v;
o[3]=parseInt(g.BkIs.v.BtIs.slice(3))-3;o[4]=g.BkIb.v;o[5]=g.BkIr.v;o[6]=g.BkSb.v;o[7]=g.BkSt.v;o[8]=g.BkNa.v;
o[9]=g.BkNt.v.BtNt=="BeNu"?0:1;o[10]=g.BkNm.v};eJ.Bokh.prototype.er=function(g,o){var k;if(o[0]==0){k="BeIn";
delete g.BkDc}else if(o[0]<3){k="BeIt";g.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][o[0]-1]}}}else{k="BeIa";
g.BkDc={t:"long",v:o[0]-3}}g.BkDi.v.BtDi=k;g.BkDp.v=o[1];g.BkDs.v=o[2];g.BkIs.v.BtIs="BeS"+(3+o[3]);
g.BkIb.v=o[4];g.BkIr.v=o[5];g.BkSb.v=o[6];g.BkSt.v=o[7];g.BkNa.v=o[8];g.BkNt.v.BtNt=["BeNu","BeNg"][o[9]];
g.BkNm.v=o[10]};eJ.oilPaint=function(){eJ.call(this,"oilPaint");this.ws=[new cO([12,56],.1,10,"px",!0),new cO("Cleanliness",0,10,"px",!0),new cO([12,38],.1,10,null,!0),new cO("Bristle Detail",0,10,null,!0),new dX("Lighting"),new cO("Shine",0,10,null,!0),new ek([12,15])];
this.Iq()};eJ.oilPaint.prototype=new eJ;eJ.oilPaint.prototype.X$=function(g,o){var k="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var m=0;m<k.length;m++)o[m]=g[k[m]].v;o[6]=[g.LghD.v]};eJ.oilPaint.prototype.er=function(g,o){var k="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var m=0;m<k.length;m++)g[k[m]].v=o[m];g.LghD.v=o[6][0]};eJ.TrcC=function(){eJ.call(this,"TrcC");
this.ws=[new cO("Level",0,255),new k5([12,69],[[19,4,1],[19,4,0]])];this.Iq()};eJ.TrcC.prototype=new eJ;
eJ.TrcC.prototype.X$=function(g,o){o[0]=g.Lvl.v;o[1]=["Lwr","Upr"].indexOf(g.Edg.v.CntE)};eJ.TrcC.prototype.er=function(g,o){g.Lvl.v=o[0];
g.Edg.v.CntE=["Lwr","Upr"][o[1]]};eJ["Dfs "]=function(){eJ.call(this,"Dfs ");this.ws=[new k5([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Iq()};eJ["Dfs "].prototype=new eJ;eJ["Dfs "].prototype.X$=function(g,o){o[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(g.Md.v.DfsM)};
eJ["Dfs "].prototype.er=function(g,o){g.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][o[0]]};eJ.Embs=function(){eJ.call(this,"Embs");
this.ws=[new ek([12,15]),new cO([12,42],1,100,"px"),new cO([12,57],1,500,"%")];this.Iq()};eJ.Embs.prototype=new eJ;
eJ.Embs.prototype.X$=function(g,o){o[0]=[g.Angl.v];o[1]=g.Hght.v;o[2]=g.Amnt.v};eJ.Embs.prototype.er=function(g,o){g.Angl.v=o[0][0];
g.Hght.v=o[1];g.Amnt.v=o[2]};eJ["Wnd "]=function(){eJ.call(this,"Wnd ");this.ws=[new k5([12,32],["Wind","Blast","Stagger"]),new k5([12,33],["From the Right","From the Left"])];
this.Iq()};eJ["Wnd "].prototype=new eJ;eJ["Wnd "].prototype.X$=function(g,o){o[0]=["Wnd","Blst","Stgr"].indexOf(g.WndM.v.WndM);
o[1]=["Left","Rght"].indexOf(g.Drct.v.Drct)};eJ["Wnd "].prototype.er=function(g,o){g.WndM.v.WndM=["Wnd","Blst","Stgr"][o[0]];
g.Drct.v.Drct=["Left","Rght"][o[1]]};eJ.denoise=function(){eJ.call(this,"denoise");this.ws=[new cO([12,64],0,10),new cO([12,65],0,100,"%")];
this.Iq()};eJ.denoise.prototype=new eJ;eJ.denoise.prototype.X$=function(g,o){var k=g.channelDenoise.v[0].v;
o[0]=k.Amnt.v;o[1]=k.EdgF.v};eJ.denoise.prototype.er=function(g,o){var k=g.channelDenoise.v[0].v;k.Amnt.v=o[0];
k.EdgF.v=o[1]};eJ.lightFilterGradient=function(){eJ.call(this,"lightFilterGradient");this.ws=[new cO([24,3,1],0,100,"px",1,!0),new cO([12,38],0,200,"%"),new dX([4,11]),new cO("High",0,100,"%"),new cO("Medium",0,100,"%"),new cO("Low",0,100,"%")];
this.Iq()};eJ.lightFilterGradient.prototype=new eJ;eJ.lightFilterGradient.prototype.X$=function(g,o){o[0]=g.blur.v;
o[1]=g.textureScale.v*100;o[2]=g.Scl.v==-1;var k=g.Dtl.v;o[3]=k[0].v*100;o[4]=k[1].v*100;o[5]=k[2].v*100};
eJ.lightFilterGradient.prototype.er=function(g,o){g.blur.v=o[0];g.textureScale.v=o[1]/100;g.Scl.v=o[2]?-1:1;
var k=g.Dtl.v;k[0].v=o[3]/100;k[1].v=o[4]/100;k[2].v=o[5]/100};eJ.Fbrs=function(){eJ.call(this,"Fbrs");
this.ws=[new cO("Variance",1,64),new cO([12,64],1,64)];this.Iq()};eJ.Fbrs.prototype=new eJ;eJ.Fbrs.prototype.X$=function(g,o){o[0]=g.Vrnc.v;
o[1]=g.Strg.v};eJ.Fbrs.prototype.er=function(g,o){g.Vrnc.v=o[0];g.Strg.v=o[1]};eJ.LnsF=function(){eJ.call(this,"LnsF");
this.ws=[new cO([12,2],10,300,"%"),new k5([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new cO("Position X",0,100,"%"),new cO("Position Y",0,100,"%")];
this.Iq()};eJ.LnsF.prototype=new eJ;eJ.LnsF.prototype.X$=function(g,o){o[0]=g.Brgh.v;o[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(g.Lns.v.Lns);
var k=g.FlrC.v;o[2]=Math.round(k.Hrzn.v*100);o[3]=Math.round(k.Vrtc.v*100)};eJ.LnsF.prototype.er=function(g,o){g.Brgh.v=o[0];
g.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][o[1]];var k=g.FlrC.v;k.Hrzn.v=o[2]/100;k.Vrtc.v=o[3]/100};eJ.a3S(eJ.LnsF.prototype);
eJ.blendOptions=function(){eJ.call(this,"blendOptions");this.ws.push(new cR([12,19,0],h8.q5,h8.o0));
this.ws.push(new cO([12,0],0,100,"%"));this.Iq()};eJ.blendOptions.prototype=new eJ;eJ.blendOptions.prototype.X$=function(g,o){o[0]=h8.Kt.indexOf(g.Md.v.BlnM);
o[1]=g.Opct.v.val};eJ.blendOptions.prototype.er=function(g,o){g.Md.v.BlnM=h8.Kt[o[0]];g.Opct.v.val=o[1]};
eJ.LnCr=function(){eJ.call(this,"LnCr");this.ws=[new cO([12,57],-100,100),new cO([12,38],10,150,"%")];
this.Iq()};eJ.LnCr.prototype=new eJ;eJ.LnCr.prototype.X$=function(g,o){o[0]=g.LnIa.v;o[1]=g.LnSi.v};
eJ.LnCr.prototype.er=function(g,o){g.LnIa.v=o[0];g.LnSi.v=o[1]};eJ.adaptCorrect=function(){eJ.call(this,"adaptCorrect");
var g=bk;this.ws=[new bZ([19,6,0]),new g([12,57],0,100,"%"),new g("Tone",0,100,"%"),new g([12,56],0,200,"px"),new bZ([19,6,2]),new g([12,57],0,100,"%"),new g("Tone",0,100,"%"),new g([12,56],0,200,"px"),new bZ([3]),new g([13,0],-100,100)];
this.Iq([3,7])};eJ.adaptCorrect.prototype=new eJ;eJ.adaptCorrect.prototype.X$=function(g,o){var k=g.sdwM.v;
o[0]=k.Amnt.v.val;o[1]=k.Wdth.v.val;o[2]=k.Rds.v;var k=g.hglM.v;o[3]=k.Amnt.v.val;o[4]=k.Wdth.v.val;
o[5]=k.Rds.v;o[6]=g.ClrC.v};eJ.adaptCorrect.prototype.er=function(g,o){var k=g.sdwM.v;k.Amnt.v.val=o[0];
k.Wdth.v.val=o[1];k.Rds.v=o[2];var k=g.hglM.v;k.Amnt.v.val=o[3];k.Wdth.v.val=o[4];k.Rds.v=o[5];g.ClrC.v=o[6]};
eJ.Flam=function(){eJ.call(this,"Flam");var g=this.ws=[new cR([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new cO([12,80,0],20,1e3,"px"),new dX("Randomize Length"),new cO([12,41],5,600,"px"),new cO([12,15],0,360,"\xB0"),new cO("Interval",10,200,"px"),new dX("Adapt Interval for Loops"),new d6(!1),new cR([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new cO("Turbulent",0,100),new cO("Jag",0,100),new cO([12,0],0,100),new cO("Lines",2,30),new cO("Bottom",0,100),new cR([12,22],["Normal","Violent","Flat"]),new cR([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dX("Randomize Shape"),new cO("Random Seed",0,100)];
this.Iq();var o=this.e;Z.ew(o);var k=new k5(null,["Basic","Advanced"]);k.h(N.E.A,this.ab2,this);o.appendChild(k.e);
Z.Jo(o);var y=Z.t("div"),d=Z.t("div");this.ami=[y,d];o.appendChild(y);for(var m=0;m<g.length;m++){(m<9?y:d).appendChild(g[m].e);
if(m==6)Z.Dx(y)}g[0].h(N.E.A,this.als,this);this.als()};eJ.Flam.prototype=new eJ;eJ.Flam.prototype.als=function(g){var o=this.ws,m=o[0].c();
o[1]._C(m!=0&&m!=5);o[2]._C(m!=0&&m!=5);o[4]._C(m!=0&&m!=5&&m!=1);o[5]._C(m!=0&&m!=5);o[6]._C(m!=0&&m!=5)};
eJ.Flam.prototype.ab2=function(g){var m=g.target.c(),o=this.ami,k=this.e;k.removeChild(o[1-m]);k.appendChild(o[m])};
eJ.boxblur=function(){eJ.call(this,"boxblur");this.ws=[new cO([12,56],1,200," px")];this.Iq()};eJ.boxblur.prototype=new eJ;
eJ.boxblur.prototype.X$=function(g,o){o[0]=g.Rds.v.val};eJ.boxblur.prototype.er=function(g,o){g.Rds.v.val=o[0]};
eJ.GsnB=function(){eJ.call(this,"GsnB");this.ws=[new cO([12,56],.1,400,"px",1,!0)];this.Iq()};eJ.GsnB.prototype=new eJ;
eJ.Dila=function(){eJ.call(this,"Dila");this.ws=[new cO([11,12,1],0,20,"px",0),new cO([12,56],0,400,"px",0,!0)];
this.Iq()};eJ.Dila.prototype=new eJ;eJ.MtnB=function(){eJ.call(this,"MtnB");this.ws=[new ek([12,15]),new cO([12,28],1,100," px")];
this.Iq()};eJ.MtnB.prototype=new eJ;eJ.RdlB=function(){eJ.call(this,"RdlB");this.ws=[new cO([12,57],1,100),new k5([12,36],["Spin","Zoom"]),new cO("Position X",0,100,"%"),new cO("Position Y",0,100,"%")];
this.Iq()};eJ.RdlB.prototype=new eJ;eJ.RdlB.prototype.X$=function(g,o){o[0]=g.Amnt.v;o[1]=["Spn","Zm"].indexOf(g.BlrM.v.BlrM);
o[2]=g.Cntr.v.Hrzn.v*100;o[3]=g.Cntr.v.Vrtc.v*100};eJ.RdlB.prototype.er=function(g,o){g.Amnt.v=o[0];
g.BlrM.v.BlrM=["Spn","Zm"][o[1]];g.Cntr.v.Hrzn.v=o[2]/100;g.Cntr.v.Vrtc.v=o[3]/100};eJ.a3S(eJ.RdlB.prototype);
eJ.Dspl=function(){eJ.call(this,"Dspl");this.ws=[new cR([6,36,3],["a","b"]),new cO([22,4,0],-100,100,"px"),new cO([22,4,1],-100,100,"px"),new cR([24,18,0],[[24,18,3],[24,18,2]])];
this.Iq()};eJ.Dspl.prototype=new eJ;eJ.Dspl.prototype.X$=function(g,o,k){this.aqI=[];this.OM=[];var y=-1,d=k?k[0]:null;
if(d==null)d=this.aun;else this.aun=d;if(d)for(var m=0;m<d.length;m++){var b=d[m];this.aqI.push(b.iV.trim());
this.OM.push(b.UK);if(b.UK==g.DspF.v.pth)y=m}this.ws[0].O$(this.aqI);o[0]=y==-1?0:y;o[1]=g.HrzS.v;o[2]=g.VrtS.v;
o[3]=["WrpA","RptE"].indexOf(g.UndA.v.UndA)};eJ.Dspl.prototype.er=function(g,o){if(this.OM.length==0)return;
g.DspF.v.pth=this.OM[o[0]];g.HrzS.v=o[1];g.VrtS.v=o[2];g.UndA.v.UndA=["WrpA","RptE"][o[3]]};eJ.Pnch=function(){eJ.call(this,"Pnch");
this.ws=[new cO([12,57],-100,100,"%")];this.Iq()};eJ.Pnch.prototype=new eJ;eJ["Plr "]=function(){eJ.call(this,"Plr ");
this.ws=[new k5(null,["Rect to Polar","Polar to Rect"])];this.Iq()};eJ["Plr "].prototype=new eJ;eJ.Rple=function(){eJ.call(this,"Rple");
this.ws=[new cO([12,57],-999,999),new cR([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.Iq()};eJ.Rple.prototype=new eJ;
eJ["Shr "]=function(){eJ.call(this,"Shr ");this.ws=[new jO(!0,!0),new cR([24,18,0],[[24,18,3],[24,18,2]])];
this.Iq()};eJ["Shr "].prototype=new eJ;eJ["Shr "].prototype.X$=function(g,o){var k=new d3(0,255/127,255/127,0,-2,128),y=JSON.parse(JSON.stringify(g.ShrP.v));
_.wb.D(y,k);o[0]=y;o[1]=["WrpA","RptE"].indexOf(g.UndA.v.UndA)};eJ["Shr "].prototype.er=function(g,o){var k=new d3(0,255/127,255/127,0,-2,128);
k.TY();_.wb.D(o[0],k);g.ShrP.v=o[0];g.ShrE.v=o[0].length-1;g.UndA.v.UndA=["WrpA","RptE"][o[1]]};eJ.Sphr=function(){eJ.call(this,"Sphr");
this.ws=[new cO([12,57],-100,100),new cR([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Iq()};eJ.Sphr.prototype=new eJ;
eJ.Sphr.prototype.X$=function(g,o){o[0]=g.Amnt.v;o[1]=["Nrml","HrzO","VrtO"].indexOf(g.SphM.v.SphM)};
eJ.Sphr.prototype.er=function(g,o){g.Amnt.v=o[0];g.SphM.v.SphM=["Nrml","HrzO","VrtO"][o[1]]};eJ.Dthr=function(){eJ.call(this,"Dthr");
this.ws=[new cR("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new k5("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Iq()};eJ.Dthr.prototype=new eJ;eJ.Dthr.prototype.X$=function(g,o){o[0]=g.Plte.v;o[1]=g.Mthd?g.Mthd.v:1};
eJ.Dthr.prototype.er=function(g,o){g.Plte.v=o[0];g.Mthd.v=o[1]};eJ.Part=function(){eJ.call(this,"Part");
this.ws=[new cO([15,5,1],0,100,"%"),new cO([12,14,0],1,50,"px"),new cO([12,34],0,100,"%"),new cO([12,2],10,1e3,"%"),new d6(!0),new cO("Time",0,1,null,3),new cO("Turbulence",0,100,"%"),new dX("Blink"),new dX("Fall")];
this.Iq([4])};eJ.Part.prototype=new eJ;eJ.Part.prototype.X$=function(g,o){o[0]=g.Cont.v;o[1]=g.Size.v;
o[2]=g.Dpth.v;o[3]=g.Brgh.v;o[4]=g.Clr.v;o[5]=g.Time.v;o[6]=g.Turb.v;o[7]=g.Blnk.v;o[8]=g.Fall.v};eJ.Part.prototype.er=function(g,o){g.Cont.v=o[0];
g.Size.v=o[1];g.Dpth.v=o[2];g.Brgh.v=o[3];g.Clr.v=o[4];g.Time.v=o[5];g.Turb.v=o[6];g.Blnk.v=o[7];g.Fall.v=o[8]};
eJ.Twrl=function(){eJ.call(this,"Twrl");this.ws=[new cO([12,15],-999,999)];this.Iq()};eJ.Twrl.prototype=new eJ;
eJ.Wave=function(){eJ.call(this,"Wave");this.akK=[1,2,3,4];this.ws=[new cO("Number of Generators",1,100),new bk("Min Length",1,999),new bk("Max Length",1,999),new bk("Min Ampl.",1,999),new bk("Max Ampl.",1,999),new bk("Scale X",1,100,"%"),new bk("Scale Y",1,100,"%"),new k5([12,44],["Sine","Triangle",[12,93,3]]),new cR([24,18,0],[[24,18,3],[24,18,2]])];
this.Iq()};eJ.Wave.prototype=new eJ;eJ.ZgZg=function(){eJ.call(this,"ZgZg");this.ws=[new cO([12,57],-100,100),new cO("Ridges",0,20),new cR([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Iq()};eJ.ZgZg.prototype=new eJ;eJ.surfaceBlur=function(){eJ.call(this,"surfaceBlur");this.ws=[new cO([12,56],1,200," px"),new cO([4,13],1,255," px")];
this.Iq()};eJ.surfaceBlur.prototype=new eJ;eJ.surfaceBlur.prototype.X$=function(g,o){o[0]=g.Rds.v.val;
o[1]=g.Thsh.v};eJ.surfaceBlur.prototype.er=function(g,o){g.Rds.v.val=o[0];g.Thsh.v=o[1]};eJ.AdNs=function(){eJ.call(this,"AdNs");
this.ws=[new cO([12,57],0,200," %"),new cR([12,58],[[12,59,1],[12,59,0]]),new dX([12,60])];this.Iq()};
eJ.AdNs.prototype=new eJ;eJ.DstS=function(){eJ.call(this,"DstS");this.ws=[new cO([12,56],1,200," px"),new cO([4,13],1,255," px")];
this.Iq()};eJ.DstS.prototype=new eJ;eJ["Mdn "]=function(){eJ.call(this,"Mdn ");this.ws=[new cO([12,56],1,200," px")];
this.Iq()};eJ["Mdn "].prototype=new eJ;eJ["Mdn "].prototype.X$=function(g,o){o[0]=g.Rds.v.val};eJ["Mdn "].prototype.er=function(g,o){g.Rds.v.val=o[0]};
eJ.ClrH=function(){eJ.call(this,"ClrH");this.ws=[new cO([12,56],4,100," px")];for(var m=1;m<4;m++)this.ws.push(new cO("Angle "+m,0,90," \xB0"));
this.Iq()};eJ.ClrH.prototype=new eJ;eJ.ClrH.prototype.X$=function(g,o){o[0]=g.Rds.v;for(var m=1;m<4;
m++)o[m]=g["Ang"+m].v};eJ.ClrH.prototype.er=function(g,o){g.Rds.v=o[0];for(var m=1;m<4;m++)g["Ang"+m].v=o[m]};
eJ.ClrH.prototype.f=function(){var g=this.ws;g[0].f();for(var m=1;m<4;m++)g[m].HZ(d9.get([12,15])+" "+m)};
eJ.Crst=function(){eJ.call(this,"Crst");this.ws=[new cO([12,61],3,100," px")];this.Iq()};eJ.Crst.prototype=new eJ;
eJ.Crst.prototype.X$=function(g,o){o[0]=g.ClSz.v};eJ.Crst.prototype.er=function(g,o){g.ClSz.v=o[0]};
eJ.Mztn=function(){eJ.call(this,"Mztn");this.ws.push(new cR([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.OM="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Iq()};eJ.Mztn.prototype=new eJ;
eJ.Mztn.prototype.X$=function(g,o){o[0]=this.OM.indexOf(g.MztT.v.MztT)};eJ.Mztn.prototype.er=function(g,o){g.MztT.v.MztT=this.OM[o[0]]};
eJ["Msc "]=function(){eJ.call(this,"Msc ");this.ws=[new cO([12,61],2,200," px")];this.Iq()};eJ["Msc "].prototype=new eJ;
eJ["Msc "].prototype.X$=function(g,o){o[0]=g.ClSz.v.val};eJ["Msc "].prototype.er=function(g,o){g.ClSz.v.val=o[0]};
eJ.Pntl=function(){eJ.call(this,"Pntl");this.ws=[new cO([12,61],3,100," px")];this.Iq()};eJ.Pntl.prototype=new eJ;
eJ.Pntl.prototype.X$=function(g,o){o[0]=g.ClSz.v};eJ.Pntl.prototype.er=function(g,o){g.ClSz.v=o[0]};
eJ.smartSharpen=function(){eJ.call(this,"smartSharpen");this.ws=[new cO([12,57],1,200,"%"),new cO([12,56],0,200,"px",1,!0)];
this.Iq()};eJ.smartSharpen.prototype=new eJ;eJ.smartSharpen.prototype.X$=function(g,o){o[0]=g.Amnt.v.val;
o[1]=g.Rds.v.val};eJ.smartSharpen.prototype.er=function(g,o){g.Amnt.v.val=o[0];g.Rds.v.val=o[1]};eJ.UnsM=function(){eJ.call(this,"UnsM");
this.ws=[new cO([12,57],1,200," %"),new cO([12,56],.1,400,"px",1,!0),new cO([4,13],0,255," ")];this.Iq()};
eJ.UnsM.prototype=new eJ;eJ.HghP=function(){eJ.call(this,"HghP");this.ws=[new cO([12,56],.1,400,"px",1,!0)];
this.Iq()};eJ.HghP.prototype=new eJ;eJ.HsbP=function(){eJ.call(this,"HsbP");this.ws=[new k5("Input",["RGB","HSB","HSL"]),new k5("Output",["RGB","HSB","HSL"])];
this.Iq()};eJ.HsbP.prototype=new eJ;eJ["Mxm "]=function(){eJ.call(this,"Mxm ");this.ws=[new cO([12,56],.1,200," px",1,!0),new cR([12,76,1],[[12,93,3],"Circle"])];
this.Iq()};eJ["Mxm "].prototype=new eJ;eJ["Mnm "]=function(){eJ.call(this,"Mnm ");this.ws=[new cO([12,56],.1,200," px",1,!0),new cR([12,76,1],[[12,93,3],"Circle"])];
this.Iq()};eJ["Mnm "].prototype=new eJ;eJ.Ofst=function(){eJ.call(this,"Ofst");this.ws=[new cO([22,4,0],-1024,1024," px"),new cO([22,4,1],-1024,1024," px"),new cR([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Iq()};eJ.Ofst.prototype=new eJ;eJ.Kale=function(){eJ.call(this,"Kale");this.ws=[new bk("Mirrors",2,20),new bk([12,15],0,360,"\xB0")];
this.Iq()};eJ.Kale.prototype=new eJ;eJ.Kale.prototype.X$=function(g,o){o[0]=g.Mirr.v;o[1]=g.MRot.v};
eJ.Kale.prototype.er=function(g,o){g.Mirr.v=o[0];g.MRot.v=o[1]};eJ.Rept=function(){eJ.call(this,"Rept");
this.ws=[new bk([12,38],1,300," %"),new bk("Row Shift",-50,50," %"),new bk("Space X",-99,200," %"),new bk("Space Y",-99,200," %"),new dX([4,16,2]),new ek([12,15])];
this.Iq()};eJ.Rept.prototype=new eJ;eJ.Rept.prototype.X$=function(g,o){o[0]=g.Scl.v.val;o[1]=g.Rsft.v.val;
o[2]=g.SpcX.v.val;o[3]=g.SpcY.v.val;o[4]=g.SpcC.v;o[5]=[g.Angl.v]};eJ.Rept.prototype.er=function(g,o){g.Scl.v.val=o[0];
g.Rsft.v.val=o[1];g.SpcX.v.val=o[2];g.SpcY.v.val=o[3];g.SpcC.v=o[4];g.Angl.v=o[5][0];return g};eJ.Ctoa=function(){eJ.call(this,"Ctoa");
this.ws=[new bZ([13,0]),new d6(!0),new cO(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new cO(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Iq()};eJ.Ctoa.prototype=new eJ;eJ.Ctoa.prototype.X$=function(g,o){o[0]=g.Clr.v;o[1]=g.Trsp.v.val;
o[2]=g.Opct.v.val};eJ.Ctoa.prototype.er=function(g,o){g.Clr.v=o[0];g.Trsp.v.val=o[1];g.Opct.v.val=o[2]};
eJ.LqFy=function(){eJ.call(this,"LqFy");this.tg=!1;this.KF=!1;this.Vk=null;this.aep=null;this.G=0;this.yM=-1;
this._={FU:[[{G:{id:0,name:[24,1,0,1,0],eh:"liq/smudge"}}],[{G:{id:1,name:[24,1,0,1,1],eh:"liq/reconstruct"}}],[{G:{id:2,name:[24,1,0,1,2],eh:"liq/smooth"}}],[{G:{id:3,name:[24,1,0,1,3],eh:"liq/twirl"}}],[{G:{id:4,name:[24,1,0,1,4],eh:"liq/shrink"}}],[{G:{id:5,name:[24,1,0,1,5],eh:"liq/blow"}}],[{G:{id:6,name:[24,1,0,1,6],eh:"liq/pleft"}}],[{G:{id:7,name:"Hand",eh:"tools/hand"}}],[{G:{id:8,name:"Zoom In",eh:"zoomIn"}}],[{G:{id:9,name:"Zoom Out",eh:"zoomOut"}}]],keys:[]};
this.QQ=new hq(this._,!1);this.QQ.c9(0);this.QQ.h(N.E.s,this.amt,this);this.j2=jl.bZ();this.dj=null;
this.yJ=[];this.fA=-1;this.Uy=null;this.ane=null;this._3=null;this.Zu=null;this.zc=null;var g=Z.t("div","flexrow");
this.WJ=g;this.e.appendChild(g);g.appendChild(this.QQ.e);this.view=new k8(!0);this.view.UC(100,100);
this.view.h("mousedown",this.wt,this);this.view.h("mousemove",this.XQ,this);this.view.h("mouseup",this.zf,this);
this.view.h("zoom",this.Xd,this);g.appendChild(this.view.e);var o=Z.t("div","form");g.appendChild(o);
this.Ks=o;o.style.width="230px";this.lL=[new cO([12,14,0],0,1e3,null,!1,!0),new cO([12,74],0,100,null,!1,!1),new cO([12,84],0,100,null,!1,!1),new dX([12,46]),new cO([12,0],0,100,null,!1,!1),new dX([24,18,5])];
var k=this.j2.Brsh.v;k.Dmtr.v.val=100;var y=[100,50,100,!1,100,!0];for(var m=0;m<this.lL.length;m++){var d=this.lL[m];
d.$(y[m]);if(m==4)d.jK();d.h(N.E.A,this.a1I,this);o.appendChild(d.e)}var b=this.a1G=new da([1,12,2],!0,null,!0);
b.h("click",this.LZ,this);o.appendChild(b.e);this.a1L=this.RI.bind(this);this.jD=new fR;this.jD.e=Z.t("div","floatcont");
this.lO=new da("Menu",!1,null,!0);var T=this.lO.e;T.setAttribute("style","position:absolute; right:13px; top:47px");
Z.Fn(T,this.arB.bind(this))};eJ.LqFy.prototype=new eJ;eJ.LqFy.prototype.oV=function(){return!0};eJ.LqFy.prototype.C_=function(g){this.Ks.appendChild(g)};
eJ.LqFy.prototype.arB=function(g){if(Z.Hd(this.jD.e))return;g.stopPropagation();var o=this.lO.e.getBoundingClientRect();
this.jD.e.appendChild(this.Ks);var k=new jB(N.E.s,!0);k.data={P:N.b.q$,w9:this.jD,x:o.right+o.width-290,y:o.top+o.height};
this.S(k)};eJ.LqFy.prototype.Zl=function(g){this.tg=g.z(dj.M4);var o=D.Ak.s0(this.j2,g);if(o!=null){this.j2=o;
this.Xd();this.lL[0].$(o.Brsh.v.Dmtr.v.val)}else if(g.z(dj.IQ)&&g.z(dj.YT)){var k=this.yJ;if(g.z(dj.d_)){if(this.fA+1<k.length)this.fA++}else if(this.fA>0)this.fA--;
this.dj.map=k[this.fA].slice(0);this.Y3(null)}else if(this.G<=6)this.view.Zl(g);var y=this.G,d=-1,b=g.z(dj.M4);
if(b&&this.yM==-1){if(y==0)d=1;if(y==4)d=5;if(y==5)d=4;if(d!=-1)this.yM=y}if(!b&&this.yM!=-1){d=this.yM;
this.yM=-1}if(d!=-1){this.G=d;this.QQ.c9(this.G)}};eJ.LqFy.prototype.amt=function(g){if(g.data.P==N.b.v1){var o=this.G=g.data.G;
this.QQ.c9(this.G);this.view.Zl(o>6?k8.akX(o-7):new dj)}};eJ.LqFy.prototype.a1I=function(g){var o=g.currentTarget,m=this.lL.indexOf(o),k=this.j2.Brsh.v;
if(m==0){k.Dmtr.v.val=o.c();this.Xd()}this.lL[4]._C(this.lL[3].c());if(m>2)this.Y3(null)};eJ.LqFy.prototype.Mw=function(){var g=this.yJ;
this.fA++;g[this.fA]=this.dj.map.slice(0);while(g.length>this.fA+1)g.pop();while(g.length>50){g=g.slice(1);
this.fA--}};eJ.LqFy.prototype.wt=function(g){this.Vk=this.view.c0();this.aep=new bJ(0,0);this.KF=!0;
window.requestAnimationFrame(this.a1L)};eJ.LqFy.prototype.XQ=function(g){var o=this.view.c0(),k=new bJ(o.x-this.Vk.x,o.y-this.Vk.y);
if(this.G==0||this.G==6)this.aqN(k);this.Vk=o};eJ.LqFy.prototype.zf=function(g){this.Mw();this.KF=!1};
eJ.LqFy.prototype.RI=function(g){if(this.G!=0&&this.G!=6)this.aqN(new bJ(0,0));if(this.KF)window.requestAnimationFrame(this.a1L)};
eJ.LqFy.prototype.aqN=function(g){var o=this.dj,k=o.bW/this.Uy.m,y=this.Vk,d=this.j2.Brsh.v,b=d.Dmtr.v.val,T=Date.now(),a=o.bW,t=o.GP,j=Math.sqrt(g.x*g.x+g.y*g.y),e=Math.max(1,Math.ceil(j/2)),v=g.x/e,L=g.y/e,H=y.clone(),w=this.G,P=this.lL[1].c()/100,Q=this.lL[2].c()/100,x=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],F=x[w*2],E=x[w*2+1],f=(1-P)*F+P*E,c=b*k/2;
for(var m=0;m<e;m++){var M=[];H.x+=v;H.y+=L;_.cW.and(o.map,a,t,w,H.x*k,H.y*k,c,P,Q,v*k,L*k,M,this.tg);
_.cW.a3K(a,t,o.map,M,2*f*Q)}var n=new bd(0,0,a,t),X=new bd(y.x*k,y.y*k,0,0);X.pK(b*k*.5,b*k*.5);var u=X.clone();
u.offset(g.x*k,g.y*k);X=X.gO(u);var I=new bd(X.x/k,X.y/k,X.m/k,X.n/k);I=_.p.Ze(I).Nm(this.Uy);this.lL[5].$(!0);
this.Y3(I)};eJ.LqFy.prototype.Xd=function(){var g=e9.JV(this.j2,null,this.view.r6().N);this.view.ED(g)};
eJ.LqFy.prototype.$=function(g,o,k,y,d){k=k.clone();if(o==null)return;if(!y.ey(k)){var b=k.gO(y),T=_.Q(b.O()*4);
_.g1(o,k,T,b);o=T;k=b;var a=_.Q(b.O()*4);_.g1(d,y,a,b);d=a}k.x=k.y=0;this._3=o;this.ane=d;this.zc=o.slice(0);
this.Zu=o.slice(0);this.Uy=k;this.dj=by.Qt(new Uint8Array(g.LqMe.v).buffer);var t=k.m,j=k.n;if(this.dj.bW/t<.22){this.dj={bW:Math.floor(t/4),GP:Math.floor(j/4)};
this.dj.map=new Float32Array(this.dj.bW*this.dj.GP*2)}this.yJ=[];this.fA=-1;this.Mw();this.Y3(null);
this.view.$W();this.Xd()};eJ.LqFy.prototype.c=function(){var g=jf.J0("LqFy"),o=new Uint8Array(by.Z4(this.dj)),k=[];
for(var m=0;m<o.length;m++)k.push(o[m]);g.LqMe.v=k;return g};eJ.LqFy.prototype.UC=function(g,o){this.QQ.UC(g,o);
var k=this.lO.e,y=this.Ks;this.WJ.appendChild(y);this.WJ.appendChild(k);if(g>450&&g-o>200){y.style.marginLeft="1em";
this.WJ.removeChild(k);this.view.UC(g-238-45,o)}else{y.style.marginLeft="";this.WJ.removeChild(y);this.view.UC(g-40,o)}};
eJ.LqFy.prototype.f=function(){this.QQ.f();this.a1G.f();for(var m=0;m<this.lL.length;m++)this.lL[m].f()};
eJ.LqFy.prototype.LZ=function(){this.dj.map.fill(0);this.Mw();this.Y3(null)};eJ.LqFy.prototype.Y3=function(g){var o=this.Uy,k=this._3,y=this.zc,d=this.dj;
if(this.lL[5].c())_.cW.yV(k,this.Zu,o.m,o.n,g,d.map,d.bW,d.GP,0);else this.Zu.set(k);if(this.lL[3].sS()){_.g1(this.ane,o,y,o,g?g:o);
_.l.I3("norm",this.Zu,o,y,o,g?g:o,this.lL[4].c()/100)}else _.QF(this.Zu,y);this.view.$([{MR:o,data:y.buffer}])};
eJ.GEfc=function(){eJ.call(this,"GEfc");this.Xk=0;this.lZ=0;this._3=null;this.zc=null;this.Uy=null;this.eM=null;
this.KV=null;this.AL=0;var g=Z.t("div","flexrow");this.WJ=g;this.e.appendChild(g);this.view=new k8(null);
this.view.UC(100,100);g.appendChild(this.view.e);this.bH="";this.jJ=270;var o=this.xq=Z.t("div","form scrollable");
g.appendChild(o);o.setAttribute("style","width:"+this.jJ+"px;");var k=this.Gw=Z.t("div","form");g.appendChild(k);
k.setAttribute("style","width:230px;  margin:0 10px");this.GS={};for(var y in iO.names){var d=new eJ.GEfc.e8(y);
d.parent=this;this.GS[y]=d;d.h(N.E.A,this.aqj,this)}this.Ck=!0;this.lO=new da("Menu",null,null,!0);this.lO.h("click",this.agx,this);
g.appendChild(this.lO.e);this.Zp=new da(">>",null,null,!0);this.Zp.h("click",this.a8j,this);k.appendChild(this.Zp.e);
this.vv=Z.t("div");this.vv.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
k.appendChild(this.vv);this.Lt=Z.t("div");this.Lt.style.minHeight="14em";this.Lt.style.marginBottom="1em";
k.appendChild(this.Lt);this.Rn=Z.t("div","lpbody scrollable");this.LI=Z.t("div","lpfoot");k.appendChild(this.Rn);
k.appendChild(this.LI);this.h("click",this.aop,this);this.rX=[];fZ.T2([[5,3],[5,4]],this.rX,this.LI,this.eN.bind(this))};
eJ.GEfc.prototype=new eJ;eJ.GEfc.prototype.oV=function(){return!0};eJ.GEfc.prototype.C_=function(g){this.vv.appendChild(g)};
eJ.GEfc.prototype.mt=function(g,o){this.eM=g};eJ.GEfc.prototype.a8j=function(g){var o=this.xq.style.display!="none";
this.xq.style.display=o?"none":"";this.Zp.HZ(o?"<<":">>");this.UC()};eJ.GEfc.prototype.agx=function(g){this.Ck=!this.Ck;
this.UC()};eJ.GEfc.prototype.UC=function(g,o){var k=this.xq.style.display!="none";if(g!=null){this.Xk=g;
this.lZ=o;if(g<1e3&&k||g>=1e3&&!k){this.a8j();k=!k}this.Ck=g>600}else{g=this.Xk;o=this.lZ}var y=this.Ck?240+(k?this.jJ+10:0):0;
if(Z.Hd(this.Gw)&&!this.Ck){this.WJ.removeChild(this.xq);this.WJ.removeChild(this.Gw)}if(!Z.Hd(this.Gw)&&this.Ck){this.WJ.appendChild(this.xq);
this.WJ.appendChild(this.Gw)}this.xq.style.height=o+"px";this.view.UC(g-y,o);this.Rn.style.height=o-Math.max(this.Lt.getBoundingClientRect().height,186)-96+"px";
this.lO.e.setAttribute("style","position:absolute; top:46px;  right:"+(y+16)+"px")};eJ.GEfc.prototype.a8T=function(){var g=cp.WL.get("img/beach",!0)[0],o=g.MR,k=this.xq,y=Math.floor(Z.V()*(this.jJ-40)/3),d=~~(y*.7),b=new bd(0,0,y,d),T=_.Q(y*d*4),a=T.slice(0),t=Math.round(10*Z.V()),j=new ImageData(new Uint8ClampedArray(a.buffer),y,d);
_.g1(new Uint8Array(g.data),o,T,new bd(Math.round((o.m-y)/2),Math.round((o.n-d)/2),y,d));var e=Z.t("canvas"),v=e.getContext("2d");
e.width=y;e.height=d+Math.round(t*1.5);v.font=t+"px sans-serif";this.qH={};var L=this.a7Z.bind(this);
for(var m=0;m<iO.kF.length;m++){var H=iO.kF[m],w=Z.t("div");k.appendChild(w);w.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
w.textContent=d9.get(H);for(var P in iO.names){var Q=iO.names[P];if(Q[0]!=m)continue;iO.mn(P,{rect:b,buffer:T},iO.J0(P),{o:0,C:0,k:0},{o:255,C:255,k:255},{rect:b,buffer:a},{});
v.fillStyle="black";v.fillRect(0,0,500,500);v.putImageData(j,0,0);var x=d9.get(Q[1]);v.fillStyle="white";
v.fillText(x,(y-v.measureText(x).width)/2,d+Math.round(t*1.1));var F=Z.t("div");k.appendChild(F);F.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
F.addEventListener("click",L,!1);var w=Z.t("img");F.appendChild(w);w.setAttribute("src",e.toDataURL());
w.setAttribute("style","width:"+y/Z.V()+"px; margin-bottom:0px;");this.qH[P]=F}}};eJ.GEfc.prototype.a7Z=function(g){var o;
for(var k in this.qH)if(this.qH[k]==g.currentTarget)this.bH=k;this.aqj()};eJ.GEfc.prototype.eN=function(g){var o=fZ.dx(this.rX,g),k=this.KV.GEfs.v,y=k[this.AL].v;
if(o==0){k.push(JSON.parse(JSON.stringify(k[this.AL])));this.AL=k.length-1}else if(k.length>1){k.splice(this.AL,1);
if(this.AL==k.length)this.AL--}this.MD();this.Y3()};eJ.GEfc.prototype.aqj=function(g){var o=this.bH,k;
if(g==null)k=iO.J0(o);else k=this.GS[o].c();this.KV.GEfs.v[this.AL].v=k;this.MD();this.Y3()};eJ.GEfc.prototype.$=function(g,o,k,y,d){if(this.qH==null)this.a8T();
g=this.KV=JSON.parse(JSON.stringify(g));if(g.GEfs==null)g=this.KV={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:g}]}};
var b=g.GEfs.v;for(var m=0;m<b.length;m++)if(b[m].v.GELv==null)b[m].v.GELv={t:"bool",v:!0};this.AL=b.length-1;
this.MD();k=k.clone();if(o==null)return;if(!y.ey(k)&&iO._8(g).x!=0){var T=k.gO(y),a=_.Q(T.O()*4);_.g1(o,k,a,T);
o=a;k=T}k.x=k.y=0;this._3=o;this.zc=o.slice(0);this.Uy=k;this.Y3();this.view.$W()};eJ.GEfc.prototype.aop=function(g){var o=g.data,m=o.Sp,k=this.KV.GEfs.v;
if(o.R4){k[m].v.GELv.v=!k[m].v.GELv.v;this.Y3()}else this.AL=m;this.MD()};eJ.GEfc.prototype.MD=function(){var g=this.KV.GEfs.v,o=g[this.AL].v,k=o.GEfk.v.GEft,y=this.Lt;
if(iO.names[k]==null){alert("Unsupported gallery filter");Z.ew(y)}else{this.bH=k;for(var d in this.qH)Z.Iu(this.qH[d],"selected");
Z.O9(this.qH[k],"selected");var b=this.GS[k];b.$(o);if(y.firstChild!=b.e){Z.ew(y);y.appendChild(b.e)}}var T=[];
for(var m=0;m<g.length;m++){var a=g[m].v,t=iO.names[a.GEfk.v.GEft],j=new hF(m,!0,!0,null,t?t[1]:"Filter",m==this.AL,a.GELv.v);
j.parent=this;T.push(j.e)}Z.ew(this.Rn);T.reverse();for(var m=0;m<T.length;m++)this.Rn.appendChild(T[m]);
this.UC()};eJ.GEfc.prototype.c=function(){return JSON.parse(JSON.stringify(this.KV))};eJ.GEfc.prototype.Y3=function(g){var o=this.Uy,k=this._3,y=this.zc,d=this.bH,b=this.KV,T=this.eM;
function a(t){return{o:t>>>16,C:t>>>8&255,k:t&255}}jf.mn("GEfc",{rect:this.Uy,buffer:this._3},b,a(T.p2),a(T.Pp),{rect:this.Uy,buffer:this.zc},null);
this.view.$([{MR:o,data:y.buffer}])};eJ.GEfc.prototype.f=function(){for(var g in this.GS)this.GS[g].f();
fZ.oE(this.rX,["lrs/newlayer","lrs/bin"])};eJ.GEfc.e8=function(g){fR.call(this);this.V8=g;this.e=Z.t("div");
this.zb={};var o=iO.J0(g);for(var k in o){var y=null;if(k=="__name"||k=="classID"||k=="GEfk"||k=="GELv"||["FlRs"].indexOf(k)!=-1)continue;
else if(k=="EdgW")y=new cO("Edge Width",1,14);else if(k=="EdgB")y=new cO("Edge Brightness",0,g=="AccE"?50:20);
else if(k=="Smth")y=new cO([19,3,3],1,g=="Stmp"?50:15);else if(k=="ClSz")y=new cO([12,61],3,100);else if(k=="BrdT")y=new cO([7,9],1,20);
else if(k=="HghS")y=new cO([12,64],0,20);else if(k=="HlSz")y=new cO([12,14,0],1,15);else if(k=="Cntr")y=new cO([12,3,0],0,g=="WtrP"?100:50);
else if(k=="Shrp")y=new cO("Sharpness",0,40);else if(k=="SprR")y=new cO("Spray Radius",0,25);else if(k=="LgDr")y=new cO("Light/Dark Balance",0,g=="Stmp"?50:100);
else if(k=="Drkn")y=new cO("Darkness",1,50);else if(k=="Dstr")y=new cO("Distortion",0,20);else if(k=="Scln")y=new cO([12,38],50,200);
else if(k=="Rlf")y=new cO("Relief",0,g=="Ptch"||g=="NtPr"?25:50);else if(k=="ChAm")y=new cO("Thickness",1,7);
else if(k=="Pncl")y=new cO([19,2,5],1,30);else if(k=="StrP")y=new cO("Stroke Pressure",0,15);else if(k=="PprB")y=new cO("Paper Brightness",0,50);
else if(k=="BrsS")y=new cO("Brush Size",0,10);else if(k=="BrsD")y=new cO("Brush Detail",0,10);else if(k=="Txtr")y=new cO([12,67],1,3);
else if(k=="Grn")y=new cO("Grain",0,20);else if(k=="HghA")y=new cO("Highlight Area",0,20);else if(k=="Intn")y=new cO("Intensity",0,10);
else if(k=="Brgh")y=new cO("Glow Brightness",0,g=="WtrP"?100:50);else if(k=="StrS")y=new cO("Stroke Size",1,50);
else if(k=="StDt")y=new cO("Stroke Detail",1,3);else if(k=="Sftn")y=new cO("Softness",0,10);else if(k=="EdgT")y=new cO("Edge Thickness",0,10);
else if(k=="EdgI")y=new cO("Edge Intensity",0,10);else if(k=="Pstr")y=new cO("Posterization",0,6);else if(k=="Dfnt")y=new cO("Definition",0,25);
else if(k=="TxtC")y=new cO("Texture Coverage",0,50);else if(k=="ShdI")y=new cO("Shadow Intensity",0,10);
else if(k=="DrcB")y=new cO("Direction Balance",0,100);else if(k=="Strg")y=new cO([12,64],1,3);else if(k=="Blnc")y=new cO("Balance",0,10);
else if(k=="BlcI")y=new cO("Black Intensity",0,10);else if(k=="WhtI")y=new cO("White Intensity",0,10);
else if(k=="DrkI")y=new cO("Dark Intensity",0,50);else if(k=="LghI")y=new cO("Light Intensity",0,50);
else if(k=="StrW")y=new cO("Stroke Width",3,15);else if(k=="Grns")y=new cO("Graininess",0,g=="NtPr"?20:10);
else if(k=="GlwA")y=new cO("Glow Amount",0,20);else if(k=="ClrA")y=new cO("Clear Amount",0,20);else if(k=="ChrA")y=new cO("Charcoal Area",0,20);
else if(k=="ChlA")y=new cO("Chalk Area",0,20);else if(k=="FrgL")y=new cO("Foreground Level",1,15);else if(k=="BckL")y=new cO("Background Level",1,15);
else if(k=="WhtL")y=new cO("Background Level",0,50);else if(k=="BlcL")y=new cO("Foreground Level",0,50);
else if(k=="ImgB")y=new cO("Image Balance",0,50);else if(k=="Dnst")y=new cO([12,74],0,50);else if(k=="FbrL")y=new cO("Fiber Length",3,50);
else if(k=="CrcS")y=new cO("Crack Sapcing",2,100);else if(k=="CrcD")y=new cO("Crack Depth",0,10);else if(k=="CrcB")y=new cO("Crack Brightness",0,10);
else if(k=="TlSz")y=new cO("Tile Size",2,100);else if(k=="GrtW")y=new cO("Grout Width",1,15);else if(k=="LghG")y=new cO("Lighten Grout",0,10);
else if(k=="SqrS")y=new cO("Square Size",0,10);else if(k=="RplS")y=new cO("Ripple Size",1,15);else if(k=="RplM")y=new cO("Ripple Magnitude",0,20);
else if(k=="NmbL")y=new cO("Number of Levels",2,8);else if(k=="EdgS")y=new cO("Edge Simplicity",0,10);
else if(k=="EdgF")y=new cO("Edge Fidelity",1,3);else if(k=="Sz")y=g=="NGlw"?new cO("Glow Size",-24,24):new cO("Brush Size",1,50);
else if(k=="Dtl")y=g=="Chrc"?new cO("Detail",0,5):new cO("Detail",1,15);else if(k=="StrL")y=g=="InkO"?new cO("Stroke Length",1,50):new cO("Stroke Length",0,20);
else if(k=="TxtT")y=new cR([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(k=="BrsT")y=new cR("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(k=="Grnt")y=new cR("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(k=="SDir")y=new cR([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(k=="ScrT")y=new cR([12,62],["Circle","Dot",[10,35]]);
else if(k=="LghD"||k=="LghP")y=new cR("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(k=="Clr")y=new d6("Glow Color");else if(k=="InvT")y=new dX([4,11]);else console.log(k);y.h(N.E.A,this.Xm,this);
y.parent=this;this.zb[k]=y;this.e.appendChild(y.e)}};eJ.GEfc.e8.prototype=new fR;eJ.GEfc.e8.prototype.Xm=function(g){this.S(new jB(N.E.A,!1))};
eJ.GEfc.agt="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
eJ.GEfc.e8.prototype.$=function(g){for(var o in this.zb){var k;if(eJ.GEfc.agt.indexOf(o)!=-1)k=g[o].v;
else if(o=="TxtT")k=iO.Ga.indexOf(g[o].v[o]);else if(o=="BrsT")k=iO.a96.indexOf(g[o].v[o]);else if(o=="LghD")k=iO.zd.indexOf(g[o].v[o]);
else if(o=="LghP")k=iO.iI.indexOf(g[o].v[o]);else if(o=="Grnt")k=iO.XW.indexOf(g[o].v[o]);else if(o=="ScrT")k=iO.lA.indexOf(g[o].v[o]);
else if(o=="SDir")k=iO.SA.indexOf(g[o].v.StrD);this.zb[o].$(k)}};eJ.GEfc.e8.prototype.c=function(){var g=iO.J0(this.V8);
for(var o in this.zb){var k=this.zb[o].c();if(eJ.GEfc.agt.indexOf(o)!=-1)g[o].v=k;else if(o=="TxtT")g[o].v[o]=iO.Ga[k];
else if(o=="BrsT")g[o].v[o]=iO.a96[k];else if(o=="LghD")g[o].v[o]=iO.zd[k];else if(o=="LghP")g[o].v[o]=iO.iI[k];
else if(o=="Grnt")g[o].v[o]=iO.XW[k];else if(o=="ScrT")g[o].v[o]=iO.lA[k];else if(o=="SDir")g[o].v.StrD=iO.SA[k]}return g};
eJ.GEfc.e8.prototype.f=function(){for(var g in this.zb)this.zb[g].f()};eJ["Adobe Camera Raw Filter"]=function(g){eJ.call(this,"Adobe Camera Raw Filter");
var o=this.e;this.a9V=g;this.JN=null;this.vR=null;this.SI=null;Z.O9(o,"flexrow");var k=Z.t("div"),y=Z.t("div","padded");
o.appendChild(k);o.appendChild(y);this.wO=new k8;k.appendChild(this.wO.e);this.ib=new dS(225);this.ib.t5(4);
y.appendChild(this.ib.e);this.Ly=Z.t("div");this.Ly.setAttribute("style","width:18em;");y.appendChild(this.Ly);
this.afK=new bZ("Hi",!0);this.Ly.appendChild(this.afK.e);this.Pm=Z.t("div","scrollable");this.Ly.appendChild(this.Pm);
this.zb=[new cO("Temperature",-100,100),new cO("Tint",-100,100),new cO([4,3],-4,4,null,!0),new cO([12,3,0],-100,100),new cO([4,4],-100,100),new cO([12,9],-100,100)];
this.m2="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var m=0;m<this.zb.length;m++){var d=this.zb[m];
d.$(0);d.h(N.E.A,this.Y3,this);this.Pm.appendChild(d.e);if(m==1||m==3)this.Pm.appendChild(Z.t("hr"))}};
eJ["Adobe Camera Raw Filter"].prototype=new eJ;eJ["Adobe Camera Raw Filter"].prototype.oV=function(){return!0};
eJ["Adobe Camera Raw Filter"].prototype.C_=function(g){this.Ly.appendChild(g)};eJ["Adobe Camera Raw Filter"].prototype.mt=function(g,o){this.ib.Ea(cN.OE[g.bj]["--text-color"])};
eJ["Adobe Camera Raw Filter"].prototype.$=function(g,o,k,y,d){this.KV=g;var b=k.m,T=k.n,a=b*T;this.afK.$(b+" x "+T+", "+(b*T/1e6).toFixed(1)+" MPx");
this.Uy=k;this.vR=new Float32Array(b*T*3);this.SI=new Uint8Array(b*T*4);this.SI.fill(255);if(o instanceof Float32Array)this.JN=o;
else{var t=this.JN=new Float32Array(b*T*3);for(var m=0;m<a;m++){var j=m*3,e=m*4;t[j+0]=o[e+0]*(1/255);
t[j+1]=o[e+1]*(1/255);t[j+2]=o[e+2]*(1/255)}}var v=this.m2;for(var m=0;m<v.length;m++){var L=v[m];this.zb[m].$(g[L]?g[L].v:0)}this.Y3(null,!0)};
eJ["Adobe Camera Raw Filter"].prototype.c=function(g){if(g)return this.SI;return JSON.parse(JSON.stringify(this.KV))};
eJ["Adobe Camera Raw Filter"].prototype.ak0=function(){this.JN=null;this.vR=null;this.SI=null};eJ["Adobe Camera Raw Filter"].prototype.Y3=function(g,o){var k=this.m2;
for(var m=0;m<k.length;m++){var y=k[m];this.KV[y]={t:y=="Ex12"?"doub":"long",v:this.zb[m].c()}}var d=this.Uy,b=d.O();
dD(this.JN,d.m,d.n,this.vR,this.KV,this.a9V);var T=Date.now(),a=this.vR,t=this.SI;for(var m=0;m<b;m++){var j=m*3,e=m*4;
t[e+0]=~~(.5+a[j+0]*255);t[e+1]=~~(.5+a[j+1]*255);t[e+2]=~~(.5+a[j+2]*255)}console.log(Date.now()-T,"integer conversion");
T=Date.now();var v=_.kO(t,Math.max(1,Math.floor(b/2e5)));this.ib.$(v);console.log(Date.now()-T,"histogram done");
T=Date.now();this.wO.$([{MR:d,data:t.buffer}]);if(o)this.wO.$W()};eJ["Adobe Camera Raw Filter"].prototype.UC=function(g,o){this.a9L=g-248;
this.a2e=o;this.wO.UC(this.a9L,this.a2e);this.Pm.style.height=o-236+"px"};eJ["Adobe Camera Raw Filter"].prototype.f=function(){for(var m=0;
m<this.zb.length;m++)this.zb[m].f()};eJ.blnc=function(){eJ.call(this);var g=this.e;this.VJ=null;this.hl=new cR([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.hl.h(N.E.A,this.Y3,this);g.appendChild(this.hl.e);this.jU=[];for(var m=0;m<3;m++){var o=new cO(["VAR0 - VAR1",aj.a4Q[m],aj.rH[m]],-100,100);
o.h(N.E.A,this.C2,this);this.jU.push(o);g.appendChild(o.e)}this.e0=new dX([13,4]);this.e0.h(N.E.A,this.C2,this);
g.appendChild(this.e0.e)};eJ.blnc.prototype=new eJ;eJ.blnc.prototype.f=function(){this.hl.f();for(var m=0;
m<3;m++)this.jU[m].f();this.e0.f()};eJ.blnc.prototype.$=function(g){this.VJ=JSON.parse(JSON.stringify(g));
this.Y3()};eJ.blnc.prototype.c=function(g){var o=["ShdL","MdtL","HghL"],k=this.VJ[o[this.hl.c()]].v;
for(var m=0;m<3;m++)k[m].v=this.jU[m].c();this.VJ.PrsL.v=this.e0.c();return JSON.parse(JSON.stringify(this.VJ))};
eJ.blnc.prototype.Y3=function(g){var o=["ShdL","MdtL","HghL"],k=this.VJ[o[this.hl.c()]].v;for(var m=0;
m<3;m++)this.jU[m].$(k[m].v);this.e0.$(this.VJ.PrsL.v)};eJ.brit=function(){eJ.call(this,"brit");this.ws.push(new cO([12,2],-150,150,""));
this.ws.push(new cO([12,3,0],-100,100,""));this.ws.push(new dX([12,3,1]));this.Iq()};eJ.brit.prototype=new eJ;
eJ.curv=function(){eJ.call(this);this.value=null;this.gP=null;this.eM=null;var g=this.e;this.T9=new cR("Preset",["basic","advanced"]);
this.T9.h(N.E.A,this.abu,this);g.appendChild(this.T9.e);Z.Dx(g);this.O0=new cR([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.O0.h(N.E.A,this.yL,this);g.appendChild(this.O0.e);this.s$=new cR(null,["Spline","Sketch"]);this.s$.h(N.E.A,this.abu,this);
g.appendChild(this.s$.e);this.UA=new gt;this.UA.parent=this;this.UA.h(N.E.A,this.jS,this);g.appendChild(this.UA.e);
Z.Dx(g);this.b3=new jO;this.b3.h(N.E.A,this.U6,this);g.appendChild(this.b3.e);this.oN=null;this.a9C=0;
this.t2=0;Z.Dx(g);this.ik=new jZ("Sample from image",k5.eG(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.ik.h(N.E.A,this.Tj,this);this.ik.e.style.marginRight="0";g.appendChild(this.ik.e)};eJ.curv.prototype=new eJ;
eJ.curv.prototype.mt=function(g,o){if(o==er.a_||o==er.JE){var k=g.V2,y=["Default"];for(var m=0;m<k.length;
m++)y.push(k[m].presetFileName.v);y.push("Custom");this.T9.O$(y,[1,k.length,1]);this.eM=g}};eJ.curv.prototype.UC=function(g,o){this.b3.UC(g,o)};
eJ.curv.prototype.f=function(){this.O0.f();this.b3.f()};eJ.curv.prototype.Pk=function(){this.T9.$(this.eM.V2.length+1)};
eJ.curv.prototype.abu=function(g){if(g.target==this.T9){var o=this.T9.c(),k=this.eM.V2,y;if(o==0)y=jf.J0("curv");
else if(o-1<k.length)y=JSON.parse(JSON.stringify(k[o-1]));else return;this.$(y);this.C2();return}this.Pk();
var d=cx.fo(this.value,0),b=d.length==256?1:0,T=this.s$.c();if(b==T)return;var y=jf.J0("curv");if(T==1){var a=[];
for(var m=0;m<256;m++)a.push(m);cx.SG(y,0,a)}this.$(y);this.C2()};eJ.curv.prototype.U6=function(){this.Pk();
cx.SG(this.value,this.O0.c(),this.b3.c());this.C2()};eJ.curv.prototype.yL=function(){var g=this.O0.c(),o=cx.fo(this.value,g),k=o.length==256?1:0;
this.s$.$(k);if(this.gP)this.b3.b7(this.gP[g],this.gP[4]*[1,.33,.33,.33][g],["#ccc","#fcc","#cfc","#ccf"][g]);
this.b3.$(o)};eJ.curv.prototype.xI=function(){return!0};eJ.curv.prototype.Hu=function(g,o,k,y,d){var b=this.value;
this.value=jf.J0("curv");this.C2();var T=D.Bz.CU(g,d,1),a=this.oN=[T>>>16&255,T>>>8&255,T&255];this.a9C=d.y;
var t=this.ik.c().indexOf(!0);if(t==0){var j=(a[0]+a[1]+a[2])/3,e=this.O0.c(),v=cx.fo(b,e),L=e==0?j:a[e-1],H=-1;
for(var m=0;m<v.length;m++)if(v[m].v.Hrzn.v==L)H=m;if(H==-1){var w=JSON.parse(JSON.stringify(v[0]));
w.v.Hrzn.v=L;w.v.Vrtc.v=L;v.push(w);v.sort(function(P,Q){return P.v.Hrzn.v-Q.v.Hrzn.v});cx.SG(b,e,v);
this.t2=v.indexOf(w)}else this.t2=H}this.$(b);this.C2()};eJ.curv.prototype.Sa=function(g,o,k,y,d){if(this.oN==null)return;
if(this.ik.c().indexOf(!0)==0){var b=this.value,T=this.O0.c(),a=cx.fo(b,T),t=a[this.t2];t.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(t.v.Hrzn.v+(this.a9C-d.y))));
cx.SG(b,T,a);this.$(b);this.C2()}};eJ.curv.prototype.b9=function(g,o,k,y,d){var b=this.value,T=this.oN,a=(T[0]+T[1]+T[2])/3,t=this.ik.c().indexOf(!0)-1;
if(t<=-1){}else for(var m=0;m<3;m++){var j=cx.fo(b,1+m);if(t==0)j[0].v.Hrzn.v=T[m];if(t==1){var e=Math.log(T[m]/255)/Math.log(a/255),v=Math.min(999,Math.max(10,Math.round(100*e)));
if(j.length==2)j.splice(1,0,JSON.parse(JSON.stringify(j[0])));j[1].v.Hrzn.v=127-Math.log(v/100)*127;
j[1].v.Vrtc.v=127}if(t==2)j[j.length-1].v.Hrzn.v=T[m];cx.SG(b,1+m,j)}this.$(b);this.C2();this.Pk();this.oN=null};
eJ.curv.prototype.$=function(g){this.value=g;this.yL()};eJ.curv.prototype.b7=function(g){this.gP=g;this.yL()};
eJ.curv.prototype.c=function(g){return JSON.parse(JSON.stringify(this.value))};eJ.curv.prototype.jS=function(){var g=this.UA.c(),o=this.gP,k=this.value,y=_.xL(g,o);
for(var m=0;m<4;m++){var d=y[m][0],b=y[m][1],T=y[m][2],a=[_.wb.cC(d,0,!0),_.wb.cC(b,255,!0)];if(T!=null)a.splice(1,0,_.wb.cC(128,T,!0));
cx.SG(k,m,a)}this.yL();this.C2()};eJ.expA=function(){eJ.call(this,"expA");this.ws.push(new cO([12,5],-20,20,null,2,!0));
this.ws.push(new cO([12,6],-.5,.5,null,2));this.ws.push(new cO([12,7],.01,9.99,null,2,!0));this.Iq()};
eJ.expA.prototype=new eJ;eJ.expA.prototype.X$=function(g,o){o[0]=g.Exps.v;o[1]=g.Ofst?g.Ofst.v:0;o[2]=g.gammaCorrection?g.gammaCorrection.v:1};
eJ.expA.prototype.er=function(g,o){g.Exps={t:"doub",v:o[0]};g.Ofst={t:"doub",v:o[1]};g.gammaCorrection={t:"doub",v:o[2]}};
eJ.grdm=function(){eJ.call(this,"grdm");this.ws.push(new gw(!0,null,!0));this.ws.push(new dX([12,23,0]));
this.Iq()};eJ.grdm.prototype=new eJ;eJ.grdm.prototype.X$=function(g,o){o[0]=g.Grad.v;o[1]=g.Rvrs?g.Rvrs.v:!1};
eJ.grdm.prototype.er=function(g,o){g.Grad.v=o[0];g.Rvrs={t:"bool",v:o[1]}};eJ.grdm.prototype.mt=function(g,o){this.ws[0].uy(g.p2,g.Pp);
if(o==er.a_||o==er.wp||o==er.aB)this.ws[0].cz(g.ee)};eJ.selc=function(){eJ.call(this);var g=this.e;this.w7=[];
this.Bq=null;this.hl=new cR([12,82],aj.LA.concat([[13,1,8],[13,1,13],[13,1,10]]));this.hl.h(N.E.A,this.Xm,this);
g.appendChild(this.hl.e);Z.Dx(g);for(var m=0;m<4;m++){var o=new cO(aj.a4Q[m],-100,100,"%");o.h(N.E.A,this.Xm,this);
this.w7.push(o);g.appendChild(o.e)}this.Sl=new dX([13,3]);g.appendChild(this.Sl.e);this.Sl.h(N.E.A,this.Xm,this)};
eJ.selc.prototype=new eJ;eJ.selc.prototype.f=function(){this.hl.f();this.Sl.f();for(var m=0;m<4;m++)this.w7[m].f()};
eJ.selc.prototype.$=function(g){this.Bq=JSON.parse(JSON.stringify(g));this.Y3()};eJ.selc.prototype.c=function(g){return JSON.parse(JSON.stringify(this.Bq))};
eJ.selc.prototype.Xm=function(g){if(g.target!=this.hl){var o=this.Bq,k=[];for(var m=0;m<4;m++)k[m]=this.w7[m].c();
az.SG(o,this.hl.c(),k);o.Mthd={t:"enum",v:{CrcM:this.Sl.c()?"Absl":"Rltv"}}}this.Y3();this.C2()};eJ.selc.prototype.Y3=function(){var g=this.Bq,o=az.fo(g,this.hl.c());
for(var m=0;m<4;m++)this.w7[m].$(o[m]);this.Sl.$(g.Mthd?g.Mthd.v.CrcM=="Absl":!1)};eJ.blwh=function(){eJ.call(this,"blwh");
this.ws.push(new dX([12,11]));this.ws.push(new d6(!0));for(var m=0;m<6;m++)this.ws.push(new cO(aj.LA[m],-200,300));
this.Iq()};eJ.blwh.prototype=new eJ;eJ.blwh.prototype.X$=function(g,o){o[0]=g.useTint.v;o[1]=g.tintColor.v;
var k="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var m=0;m<6;m++)o[2+m]=g[k[m]].v};eJ.blwh.prototype.er=function(g,o){g.useTint.v=o[0];
g.tintColor.v=o[1];var k="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var m=0;m<6;m++)g[k[m]].v=o[2+m]};
eJ.hue2=function(){eJ.call(this);this.value=null;this.SP=null;this.av4=null;this.Ug=[[0,0,0],[0,50,0]];
var g=this.e;this.ik=new jZ(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.ik.h(N.E.A,this.awQ,this);this.ik.h(N.E.A,this.Tj,this);g.appendChild(this.ik.e);var o=this.ws=[new cR([12,12],["Master"].concat(aj.LA)),new cO([12,8],-180,180),new cO([12,9],-100,100),new cO([12,10],-100,100),new dX([12,11])];
for(var m=0;m<o.length;m++){var k=o[m];k.h(N.E.A,m==0?this.yL:this.an_,this);g.appendChild(k.e)}this.hl=o[0];
this.jv=o[1];this.ix=o[2];this.aG=o[3];this.$0=o[4];this.fy=new jZ("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.fy.h(N.E.A,this.awQ,this);this.fy.h(N.E.A,this.Tj,this);this.fy.e.style.marginLeft="20px";g.appendChild(this.fy.e);
this.R0=Z.t("div");g.appendChild(this.R0);this.v4=this.iZ.bind(this);this.P6=this.ur.bind(this);this.T=Z.t("canvas");
this.iS=this.T.getContext("2d");this.v6=null;Z.yP(this.T);Z.OK(this.T,282,18);g.appendChild(this.T);
Z.Fn(this.T,this.eB.bind(this))};eJ.hue2.prototype=new eJ;eJ.hue2.prototype.UC=function(g,o){Z.OK(this.T,Math.round(g),18);
if(this.value)this.yL()};eJ.hue2.prototype.awQ=function(g){var o=g.target.c().indexOf(!0);if(o==-1)return;
if(g.target==this.ik)this.fy.$([!1,!1,!1]);else this.ik.$([!1,!1,!1])};eJ.hue2.prototype.eB=function(g){if(this.hl.c()==0||this.$0.c())return;
var o=Z.YD(g,this.T).x/(this.T.width/Z.V()),b=1e6;function k(v,L,H){return v<L&&L<H||H<v&&(v<L||L<H)}var y=this.x_(),d=-1;
for(var m=0;m<4;m++){var T=Math.abs(o-(y[m]+m*1e-5));if(T<b){b=T;d=m}}if(b>.025){d=-1;var a=y[0],t=y[1],j=y[2],e=y[3];
if(k(a,o,t))d=4;if(k(t,o,j))d=5;if(k(j,o,e))d=6}if(d==-1)return;this.v6=d;Z.a$(document.body,this.v4);
Z.hO(document.body,this.P6)};eJ.hue2.prototype.iZ=function(g){var o=Z.YD(g,this.T).x/(this.T.width/Z.V()),k=this.x_(),y=this.v6;
for(var m=1;m<4;m++)if(k[m]<k[m-1]){k[m]+=1}if(y<4){var d=1e6,b=0;for(var m=-20;m<20;m++){var T=Math.abs(k[y]-(o+m));
if(T<d){d=T;b=m}}o+=b;k[y]=o;for(var m=y+1;m<4;m++)if(k[m]<k[m-1]){k[m]=k[m-1]}for(var m=y-1;m>=0;m--)if(k[m]>k[m+1]){k[m]=k[m+1]}}else{var a=o-(k[y-4]+k[y-3])/2;
if(a<-.5)a+=1;if(y==4){k[0]+=a;k[1]+=a;k[2]=Math.max(k[1],k[2]);k[3]=Math.max(k[1],k[3])}if(y==5)for(var m=0;
m<4;m++)k[m]+=a;if(y==6){k[2]+=a;k[3]+=a;k[0]=Math.min(k[0],k[2]);k[1]=Math.min(k[1],k[2])}}for(var m=1;
m<4;m++)if(k[m]<k[m-1])throw"e";this.avk(k);this.yL();this.C2()};eJ.hue2.prototype.ur=function(g){Z.DO(document.body,this.v4);
Z.ZV(document.body,this.P6)};eJ.hue2.prototype.f=function(){for(var m=0;m<this.ws.length;m++)this.ws[m].f()};
eJ.hue2.prototype.an_=function(g){var o=this.value.Clrz.v=this.$0.c();if(o)this.hl.$(0);if(g&&g.target==this.$0){var k=o?1:0;
this.Ug[1-k]=c2.fo(this.value,0);var y=this.Ug[k];c2.SG(this.value,0,y);if(this.hl.c()==0){this.jv.$(y[0]);
this.ix.$(y[1]);this.aG.$(y[2])}}var d=this.hl.c(),b=c2.fo(this.value,d),y=d==0?b:b.jU;y[0]=this.jv.c();
var T=this.ix.c();y[1]=o?Math.max(0,T):T;y[2]=this.aG.c();c2.SG(this.value,d,b);this.yL();this.C2()};
eJ.hue2.prototype.yL=function(){var g=this.hl.c(),o=this.value.Clrz?this.value.Clrz.v:!1;this.$0.$(o);
this.hl._C(!o);this.fy._C(!o&&g!=0);var k=c2.fo(this.value,g),y=g==0?k:k.jU;this.jv.$(y[0]);this.ix.$(y[1]);
this.aG.$(y[2]);var d=this.T.width,b=this.T.height,T=this.iS;T.clearRect(0,0,d,b);if(o||g==0){this.R0.innerHTML="";
return}var a=k.Nv;this.R0.innerHTML=a[0]+"\xB0 / "+a[1]+"\xB0<span style=\"float:right\">"+a[2]+"\xB0 \\ "+a[3]+"\xB0</span>";
var t=_.Q(d*4);b6.aor(t,1,d,-1,.5);var j=new ImageData(new Uint8ClampedArray(t.buffer),d,1),e=Math.round(b/4);
for(var m=0;m<e;m++)T.putImageData(j,0,m);function v(x,F,E){T.fillStyle=E;var f=e*2;if(x<=F)T.fillRect(x*d,f,(F-x)*d,e);
else{T.fillRect(0,f,F*d,e);T.fillRect(x*d,f,(1-x)*d,e)}}var L=this.x_();v(L[0],L[1],"#888888");v(L[1],L[2],"#cccccc");
v(L[2],L[3],"#888888");T.fillStyle="#ffffff";T.lineWidth=1;T.beginPath();var H=e+.5,w=4*e+.5;for(var m=0;
m<4;m++){var P=Math.floor(d*L[m])+.5,Q=(m<2?-1:1)*e*(m==1||m==2?1:2);T.moveTo(P,H);T.lineTo(P,w);T.lineTo(P+Q,w);
T.lineTo(P+Q,e+e+.5);T.closePath()}T.fill();T.stroke()};eJ.hue2.prototype.x_=function(){var g=this.hl.c(),o=c2.fo(this.value,g).Nv;
for(var m=0;m<4;m++)o[m]=(1000.5+o[m]/360)%1;return o};eJ.hue2.prototype.avk=function(g){var o=this.hl.c(),k=c2.fo(this.value,o);
for(var m=0;m<4;m++)k.Nv[m]=Math.round(36e3+(g[m]-.5)*360)%360;c2.SG(this.value,o,k)};eJ.hue2.prototype.xI=function(){return!0};
eJ.hue2.prototype.awF=function(){var g=this.ik.c().indexOf(!0),o=this.fy.c().indexOf(!0);return g!=-1?g:o!=-1?o+1:-1};
eJ.hue2.prototype.Hu=function(g,o,k,y,d){var b=this.awF();if(b==-1)return;var T=this.value;this.value=jf.J0("hue2");
this.C2();var a=D.Bz.CU(g,d,1);this.$(T);var t=[a>>>16&255,a>>>8&255,a&255],j=_.RM(t[0]/255,t[1]/255,t[2]/255);
if(b==0){this.hl.$(1+Math.round(j.GP*6)%6)}else{var e=this.x_(),v=.5+j.GP,L=1/12,H=e[1],w=e[2];if(w<H){w++;
if(v<H&&v+1-w<H-v)v++}var P=H<=v&&v<=w;if(b==1){H=v-L/2;w=v+L/2}else if(b==2&&!P){H=Math.min(v,H);w=Math.max(v,w)}else if(b==3&&P){if(v-H<w-v)H=v;
else w=v}e=[H-L,H,w,w+L];this.avk(e)}this.C2();this.SP=d.x;this.av4=this.ix.c()};eJ.hue2.prototype.Sa=function(g,o,k,y,d){var b=this.awF();
if(b==-1)return;if(b==0){if(this.SP!=null){var T=d.x-this.SP;T=Math.max(-100,Math.min(100,this.av4+.5*T));
this.ix.$(T);this.an_()}}};eJ.hue2.prototype.b9=function(g,o,k,y,d){this.SP=null};eJ.hue2.prototype.$=function(g){this.value=JSON.parse(JSON.stringify(g));
var o=this.value.Clrz?this.value.Clrz.v:!1;this.Ug[o?1:0]=c2.fo(this.value,0);this.yL()};eJ.hue2.prototype.c=function(g){return JSON.parse(JSON.stringify(this.value))};
eJ.levl=function(){function g(){eJ.call(this);this.value=null;this.gP=null;this.MZ=[new bJ(0,0),new bJ(0,0),new bJ(0,0),new bJ(0,0),new bJ(0,0)];
this.AY=-1;this.v4=this.iZ.bind(this);this.P6=this.ur.bind(this);var o=this.e;this.O0=new cR([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.O0.h(N.E.A,this.yL,this);o.appendChild(this.O0.e);this.UA=new gt;this.UA.parent=this;this.UA.h(N.E.A,this.jS,this);
o.appendChild(this.UA.e);var k=Z.t("div","");o.appendChild(k);var y=Z.t("div","");o.appendChild(y);this.T=Z.t("canvas");
k.appendChild(this.T);this.iS=this.T.getContext("2d");this.kI=new bJ(256,120);this.T.setAttribute("style","display:block");
Z.yP(this.T);Z.Fn(this.T,this.eB.bind(this));this.B1=Z.t("canvas","");y.appendChild(this.B1);this.YS=this.B1.getContext("2d");
this.HL=new bJ(this.kI.x,40);this.B1.setAttribute("style","display:block");Z.yP(this.B1);Z.Fn(this.B1,this.a4w.bind(this));
var d=this.LC=[];for(var m=0;m<5;m++){var b=new ic(null,null,3);d.push(b);b.h(N.E.A,this.av2,this);(m<2||m==4?k:y).appendChild(b.e)}k.appendChild(d[1].e);
this.ik=new jZ("Sample from image",k5.eG(["#000000","#888888","#ffffff"]),!0,null,!0);this.ik.h(N.E.A,this.Tj,this);
o.appendChild(this.ik.e);this.UC(250,100)}g.prototype=new eJ;g.prototype.jS=function(){var o=this.UA.c(),k=this.gP,y=this.value,d=_.xL(o,k);
for(var m=0;m<4;m++){var b=d[m][0],T=d[m][1],a=d[m][2],t=[_.wb.cC(b,0,!0),_.wb.cC(T,255,!0)];if(a!=null)t.splice(1,0,_.wb.cC(128,a,!0));
var j=[~~b,~~T,0,255,a==null?100:~~(100+.75*100*(a-128)/128)];hA.SG(y,m,j)}this.yL();this.C2()};g.prototype.UC=function(o,k){o+=6;
this.kI.x=this.HL.x=o;Z.OK(this.T,o,this.kI.y,this.iS);Z.OK(this.B1,o,this.HL.y,this.YS);var y=this.LC;
y[3].e.setAttribute("style","margin-left: "+(o-104)+"px");y[4].e.setAttribute("style","margin: 0 "+(o/2-74)+"px");
if(this.value)this.yL()};g.prototype.f=function(){this.O0.f()};g.prototype.av2=function(o){var k=[];
for(var m=0;m<5;m++){var y=255,d=1;if(m==4){y=999;d=100}var b=parseFloat(this.LC[m].c());k[m]=Math.max(0,Math.min(y,b*d))}hA.SG(this.value,this.O0.c(),k);
this.yL();this.C2()};g.prototype.yL=function(o){var k=this.kI.x,y=this.kI.y,d=this.O0.c(),b=this.iS;
b.clearRect(0,0,k,y);b.fillStyle="#cccccc";b.fillRect(8,8,k-16,y-16-8);if(this.gP){var T=this.gP[0].slice(0),w=0;
if(d==0){T.fill(0);var a=JSON.parse(JSON.stringify(this.value));hA.SG(a,0,[0,255,0,255,100]);var t=aj.f_("levl",a),j=[t.cN,t.ab,t.nG];
for(var e=0;e<3;e++){var v=this.gP[1+e],L=j[e];for(var m=0;m<256;m++)T[L[m]]+=v[m]}}var H=d==0?T:this.gP[d];
for(var m=0;m<H.length;m++)w+=H[m];b.fillStyle="#333333";b.beginPath();b.moveTo(8,y-16);for(var m=0;
m<256;m++){var P=55*H[m]/w;b.lineTo(8+m/256*(k-16),Math.max(8,y-16-y*P))}b.lineTo(k-8,y-16);b.closePath();
b.fill()}var Q=hA.fo(this.value,d);for(var m=0;m<5;m++)this.LC[m].$(Q[m]/(m==4?100:1));this.MZ[0].oU(8+Q[0]/255*(k-16),y-14);
this.MZ[1].oU(8+Q[1]/255*(k-16),y-14);var x=Math.log(Q[4]/100)/Math.log(9.99);x=.5-x/2;this.MZ[4].oU(this.MZ[0].x+x*(this.MZ[1].x-this.MZ[0].x),y-14);
this.TQ(b,this.MZ[0],"#000000");this.TQ(b,this.MZ[1],"#ffffff");this.TQ(b,this.MZ[4],"#777777");var k=this.HL.x,y=this.HL.y;
b=this.YS;b.clearRect(0,0,k,y);var F=b.createLinearGradient(0,0,k-16,0);F.addColorStop(0,"black");F.addColorStop(1,"white");
b.fillStyle=F;b.fillRect(8,8,k-16,16);this.MZ[2].oU(8+Q[2]/255*(k-16),y-14);this.MZ[3].oU(8+Q[3]/255*(k-16),y-14);
this.TQ(b,this.MZ[2],"#000000");this.TQ(b,this.MZ[3],"#ffffff")};g.prototype.TQ=function(o,k,y){o.fillStyle=y;
o.fillRect(k.x-5,k.y,10,10)};g.prototype.eB=function(o){var k=Z.YD(o,this.T),y=this.a6Q([0,1,4],k);if(y!=-1)this.AY=y;
this.a82()};g.prototype.a4w=function(o){var k=Z.YD(o,this.B1),y=this.a6Q([2,3],k);if(y!=-1)this.AY=y;
this.a82()};g.prototype.a6Q=function(o,k){var y=-1,d=1e9;for(var m=0;m<o.length;m++){var b=Math.abs(this.MZ[o[m]].x-k.x);
if(b<d){d=b;y=o[m]}}return d<16?y:-1};g.prototype.a82=function(o){if(this.AY==-1)return;Z.a$(document.body,this.v4);
Z.hO(document.body,this.P6)};g.prototype.iZ=function(o){var k=hA.fo(this.value,this.O0.c()),y=Z.YD(o,this.AY==2&&this.AY==3?this.B1:this.T),d=255*(y.x-8)/(this.kI.x-16);
d=Math.max(0,Math.min(255,d));if(this.AY==0)d=Math.min(d,k[1]-2);if(this.AY==1)d=Math.max(d,k[0]+2);
if(this.AY!=4)k[this.AY]=Math.round(d);else{var b=(d-k[0])/(k[1]-k[0]);b=1-2*b;b=Math.pow(9.99,b);k[4]=Math.min(999,Math.max(10,Math.round(b*100)))}hA.SG(this.value,this.O0.c(),k);
this.yL();this.C2()};g.prototype.ur=function(o){Z.DO(document.body,this.v4);Z.ZV(document.body,this.P6);
this.AY=-1};g.prototype.xI=function(){return!0};g.prototype.b9=function(o,k,y,d,b){var T=this.value,a=this.ik.c().indexOf(!0);
if(a==-1)return;this.value=jf.J0("levl");this.C2();var t=D.Bz.CU(o,b,1),j=[t>>>16&255,t>>>8&255,t&255];
for(var m=0;m<3;m++){var e=hA.fo(T,1+m);if(a==0)e[0]=j[m];if(a==1){var v=Math.log(j[m]/255)/Math.log((j[0]+j[1]+j[2])*.333/255);
e[4]=Math.min(999,Math.max(10,Math.round(100*v)))}if(a==2)e[1]=j[m];hA.SG(T,1+m,e)}this.$(T);this.C2()};
g.prototype.$=function(o){this.value=o;this.yL()};g.prototype.b7=function(o){this.gP=o;this.yL()};g.prototype.c=function(o){return JSON.parse(JSON.stringify(this.value))};
return g}();eJ.phfl=function(){eJ.call(this,"phfl");this.ws.push(new d6);this.ws.push(new cO([12,74],0,100,"%"));
this.ws.push(new dX([13,4]));this.Iq()};eJ.phfl.prototype=new eJ;eJ.phfl.prototype.X$=function(g,o){o[0]=g.Clr.v;
o[1]=g.Dnst.v;o[2]=g.PrsL.v};eJ.phfl.prototype.er=function(g,o){var k=_.M.sL(o[0]),y=g.Clr.v,d=_.cr(k.o,k.C,k.k);
y.Lmnc.v=d.hb;y.A.v=d.Ng;y.B.v=d.k;g.Dnst.v=o[1];g.PrsL.v=o[2]};eJ.vibA=function(){eJ.call(this,"vibA");
this.ws.push(new cO([12,13],-100,100,null));this.ws.push(new cO([12,9],-100,100,null));this.Iq()};eJ.vibA.prototype=new eJ;
eJ.vibA.prototype.X$=function(g,o){o[0]=g.vibrance?g.vibrance.v:0;o[1]=g.Strt?g.Strt.v:0};eJ.vibA.prototype.er=function(g,o){g.vibrance.v=o[0];
g.Strt.v=o[1]};eJ.thrs=function(){eJ.call(this,"thrs");this.ws.push(new cO([4,13],1,255,null));this.Iq()};
eJ.thrs.prototype=new eJ;eJ.thrs.prototype.X$=function(g,o){o[0]=g.Lvl.v};eJ.thrs.prototype.er=function(g,o){g.Lvl.v=o[0]};
eJ.mixr=function(){eJ.call(this);var g=this.e;this.w7=[];this.Bq=null;this.hl=new cR([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.axS=!1;this.hl.h(N.E.A,this.Xm,this);g.appendChild(this.hl.e);Z.Dx(g);this.uY=new dX([12,60]);g.appendChild(this.uY.e);
this.uY.h(N.E.A,this.Xm,this);for(var m=0;m<4;m++){var o=new cO([[13,1,1],[13,1,4],[13,1,5],[13,2]][m],-200,200,"%");
o.h(N.E.A,this.Xm,this);this.w7.push(o);g.appendChild(o.e)}};eJ.mixr.prototype=new eJ;eJ.mixr.prototype.f=function(){this.hl.f();
this.uY.f();for(var m=0;m<4;m++)this.w7[m].f()};eJ.mixr.prototype.$=function(g){this.Bq=JSON.parse(JSON.stringify(g));
this.Y3()};eJ.mixr.prototype.c=function(g){return JSON.parse(JSON.stringify(this.Bq))};eJ.mixr.prototype.Xm=function(g){if(g.target!=this.hl){var o=aj.G8(this.Bq);
if(g.target==this.uY){o.uY=this.uY.c();if(o.uY)o.Z=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else o.Z=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var k=(o.uY?0:this.hl.c())*5,m=this.w7.indexOf(g.target);
o.Z[k+(m<3?m:4)]=g.target.c()}this.Bq=aj.afi(o)}this.Y3();this.C2()};eJ.mixr.prototype.Y3=function(){var g=aj.G8(this.Bq);
if(g.uY!=this.axS)this.hl.O$(g.uY?[[13,1,7]]:aj.rH);this.axS=g.uY;this.uY.$(g.uY);var o=(g.uY?0:this.hl.c())*5;
for(var m=0;m<4;m++)this.w7[m].$(g.Z[o+(m<3?m:4)])};eJ.post=function(){eJ.call(this,"post");this.ws.push(new cO([4,1],2,255,null));
this.Iq()};eJ.post.prototype=new eJ;eJ.post.prototype.X$=function(g,o){o[0]=g.Lvls.v};eJ.post.prototype.er=function(g,o){g.Lvls.v=o[0]};
eJ.clrL=function(){eJ.call(this,"clrL");this.ws.push(new gn("LUTs"));this.Iq()};eJ.clrL.prototype=new eJ;
eJ.clrL.prototype.X$=function(g,o){o[0]=g};eJ.clrL.prototype.er=function(g,o){var k=o[0];for(var y in k)g[y]=k[y]};
eJ.clrL.prototype.mt=function(g,o){if(o==er.a_||o==er.hW)this.ws[0].cz(g.apS)};eJ.rplc=function(){eJ.call(this,"rplc");
this.ws.push(new cO([12,92],0,200));this.ws.push(new d6);this.ws.push(new cO([12,8],-180,180));this.ws.push(new cO([12,9],-100,100));
this.ws.push(new cO([12,10],-100,100));this.Iq()};eJ.rplc.prototype=new eJ;eJ.rplc.prototype.X$=function(g,o){o[0]=g.Fzns.v;
o[1]=g.Mxm.v;o[2]=g.H.v;o[3]=g.Strt.v;o[4]=g.Lght.v};eJ.rplc.prototype.er=function(g,o){function k(d,b){b.Lmnc.v=d.hb;
b.A.v=d.Ng;b.B.v=d.k}g.Fzns.v=o[0];g.H.v=o[2];g.Strt.v=o[3];g.Lght.v=o[4];var y=_.M.sL(o[1]),d=_.cr(y.o,y.C,y.k);
k(d,g.Mnm.v);k(d,g.Mxm.v)};eJ.fade=function(){eJ.call(this,"fade");this.ws.push(new cO([12,0],0,100,"%"));
this.ws.push(new cR([12,19,0],h8.q5,h8.o0));this.Iq()};eJ.fade.prototype=new eJ;eJ.fade.prototype.X$=function(g,o){o[0]=g.Opct.v.val;
o[1]=h8.Kt.indexOf(g.Md.v.BlnM)};eJ.fade.prototype.er=function(g,o){g.Opct.v.val=o[0];g.Md.v.BlnM=h8.Kt[o[1]]};
eJ.aply=function(){var g=h8.Kt.concat(["Add","Sbtr"]);g.splice(21,1);var o=h8.q5.concat([[15,10,28],[15,10,21]]);
o.splice(21,1);var k=h8.o0.slice(0);k[4]--;function y(){eJ.call(this,"aply");this.ws.push(new cR([0,3],[]));
this.ws.push(new cR([12,4],["RGB"].concat(aj.rH).concat(["Transparency"])));this.ws.push(new dX([4,11]));
this.ws.push(new cR([12,19,0],o,k));this.ws.push(new cO([12,0],0,100,"%"));this.ws.push(new k9([12,38],1,2,null,2));
this.ws.push(new k9([12,6],-255,255));this.ws.push(new dX([13,5]));this.Iq([2]);this.N6=null}y.prototype=new eJ;
y.prototype.X$=function(d,b,T){if(T){var a=T[2].d,t=this.N6=[];for(var m=0;m<a.length;m++){var j=a[m].getName();
t.push(j.length<30?j:j.slice(0,27)+"...")}t.reverse();this.ws[0].O$([[5,7]].concat(t),[1,t.length])}else var t=this.N6;
d=d.With.v;var e=d.T.v;b[0]=e[1].t=="name"?1+t.indexOf(e[1].v.val):0;b[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(e[0].v.enum);
b[2]=d.Invr.v;var v=d.Clcl.v.Clcn;b[3]=g.indexOf(v);b[4]=d.Opct.v.val;b[5]=d.Scl.v;b[6]=d.Ofst.v;b[7]=d.PrsT.v};
y.prototype.er=function(d,b){d=d.With.v;var T=d.T.v;if(b[0]==0)T[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else T[1]={t:"name",v:{classID:"Lyr",val:this.N6[b[0]-1]}};T[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][b[1]];
d.Invr.v=b[2];var a=d.Clcl.v.Clcn=g[b[3]];d.Opct.v.val=b[4];d.Scl.v=b[5];d.Ofst.v=b[6];d.PrsT.v=b[7];
var t=a=="Add"||a=="Sbtr";this.ws[5]._C(t);this.ws[6]._C(t)};return y}();eJ.matc=function(){var g,o,k=0;
function y(){eJ.call(this,"matc");this.ws.push(new cO("Luminance",1,200));this.ws.push(new cO("Color Intensity",1,200));
this.ws.push(new cO([2,11],0,100,"%"));this.ws.push(new dX("Neutralize"));this.ws.push(new cR([12,70],[]));
this.ws.push(new cR([0,3],[]));this.Iq([2])}function d(b,T){b.ws[5].O$([[5,7]].concat(T),[1,T.length])}y.prototype=new eJ;
y.prototype.X$=function(b,T,a){k=0;T[0]=b.Lght.v;T[1]=b.ClrR.v;T[2]=b.Fade.v;T[3]=b.neutralizeColor?b.neutralizeColor.v:!1;
T[4]=T[5]=0;var t=b.Srce;if(t)t=t.v;if(a){g=[];o=[];var j=a[2],e=a[3];for(var m=0;m<e.length;m++){var v=e[m];
g.push(v.name);var L=v.d,H=[];o.push(H);for(var w=0;w<L.length;w++)H.push(L[w].getName());H.reverse()}this.ws[4].O$([[13,1,0]].concat(g),[1,g.length]);
var P=e.indexOf(j);if(t)P=g.indexOf(t[1].v.val);d(this,o[P])}if(t){var Q=g.indexOf(t[1].v.val);T[3]=k=1+Q;
if(t[0].t=="name")T[4]=1+o[Q].indexOf(t[0].v.val)}};y.prototype.er=function(b,T){b.Lght.v=T[0];b.ClrR.v=T[1];
b.Fade.v=T[2];b.neutralizeColor.v=T[3];if(T[4]==0){b.noReference={t:"bool",v:!0};delete b.Srce}else{if(T[4]!=k){k=T[4];
d(this,o[T[4]-1])}delete b.noReference;var a={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},t=o[T[4]-1];
if(T[5]!=0)a={t:"name",v:{classID:"Lyr",val:t[T[5]-1]}};b.Srce={t:"obj ",v:[a,{t:"name",v:{classID:"Dcmn",val:g[T[4]-1]}}]}}};
return y}();function dd(g,o){fR.call(this);if(g==null)return;this.id=o;this.mT=g;this.vb=null;this.e=Z.t("div","window "+o);
this.aeI=null;this.ex=Z.t("div","whead");this.am5=Z.t("span","wname");this.ex.appendChild(this.am5);
this.a7k=!1;this.e.appendChild(this.ex);this.xk=this.ahj.bind(this);this.LV=this.apC.bind(this);this.ir=this.ah9.bind(this);
Z.yP(this.ex);Z.Fn(this.ex,this.xk);this.a7j=Z.t("span","cross gsicon");this.ex.appendChild(this.a7j);
dd.prototype.f.call(this);Z.hO(this.a7j,this.anh.bind(this));this.body=Z.t("div","body");this.e.appendChild(this.body)}dd.prototype=new fR;
dd.prototype.tt=function(){return!1};dd.prototype.xI=function(){return!1};dd.prototype.f=function(){if(this.mT==null)return;
this.am5.textContent=d9.get(this.mT)};dd.prototype.Hu=function(g,o,k,y,d){};dd.prototype.OZ=function(g,o,k,y,d){};
dd.prototype.Sa=function(g,o,k,y,d){};dd.prototype.b9=function(g,o,k,y,d){};dd.prototype.sF=function(g,o,k,y,d){};
dd.prototype.Zl=function(g,o,k,y){if(y.z(dj.zu)&&this.CR)this.CR();if(y.z(dj.IQ)){var d=new jB(N.E.L);
d.Yi=!0;D.LT.a8h(y,d);if(d.data)o.S(d)}};dd.prototype.xg=function(g){return!1};dd.prototype.FD=function(g,o){return!0};
dd.prototype.I_=function(g,o,k,y){};dd.prototype.mt=function(g,o){};dd.prototype.fM=function(g,o){return null};
dd.prototype.aya=function(g){return this.aeI};dd.prototype.UC=function(){};dd.prototype.close=function(){this.S(new jB(N.E.Hn))};
dd.prototype.ahj=function(g){this.vb=Z.YD(g,this.e);Z.a$(window,this.LV);Z.hO(window,this.ir)};dd.prototype.apC=function(g){var o=this.e.parentNode,k=Z.YD(g,o),y=Math.round(k.x-this.vb.x),d=o.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(k.y-this.vb.y)));
this.aeI=new bJ(y,d);this.e.style.left=y+"px";this.e.style.top=d+"px"};dd.prototype.ah9=function(g){Z.DO(window,this.LV);
Z.ZV(window,this.ir)};dd.prototype.anh=function(g){if(this.a7k){this.CR();return}this.S(new jB("closebtn"));
this.close()};function ij(){dd.call(this,"About Photopea","aboutpp");var g=Z.t("div","flexrow");this.body.appendChild(g);
var o=this.auB=Z.t("img");g.appendChild(o);this.body.setAttribute("style","margin:0; padding:0");var k=this.a9l=Z.t("div");
k.innerHTML=ij.$L;g.appendChild(k);var y=this.Da=Z.t("span");y.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(y)}ij.prototype=new dd;ij.prototype.fM=function(g,o){return new bJ(0,0)};ij.prototype.UC=function(g,o){var k=this.auB,y=this.a9l,d=this.Da,b=(g+o-42-42)/110;
b=Math.sqrt((g-42)*(o-42))/50;k.setAttribute("style","width:"+g/2+"px; height:"+o+"px; display:block; object-fit:cover;");
y.setAttribute("style","width:"+(g/2-42)+"px; height:"+(o-42)+"px; padding:20px; font-size:"+b+"px;");
d.setAttribute("style","position:absolute;  bottom:10px; right:"+(g/2+10)+"px")};ij.prototype.f=function(){};
ij.prototype.I_=function(g,o,k,y){this.auB.setAttribute("src","promo/ivan_pp.webp")};ij.$L="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function e1(){dd.call(this,[0,13,0],"account");this.Ly=Z.t("div","form scrollable");this.body.appendChild(this.Ly);
this.body.style.padding="0";this.xi=[new e1.DJ,new e1.Jk("::privacy.html"),new e1.Jk(e1.acT)];for(var m=0;
m<this.xi.length;m++)this.xi[m].parent=this;this.h("showpage",this.a4P,this)}e1.prototype=new dd;e1.prototype.FD=function(g,o){var k=navigator.onLine;
if(!k)alert("Go online first");return k};e1.prototype.UC=function(g,o){this.Ly.setAttribute("style","width:"+Math.min(g-40,740)+"px;  height:"+(o-38)+"px;  padding:1.5em;");
this.xi[0].UC(g,o)};e1.prototype.fM=function(g,o){return new bJ(Math.max(0,Math.min(150,(g-740)/2)),Math.max(0,Math.min(100,(o-500)/2)))};
e1.prototype.a4P=function(g){Z.ew(this.Ly);this.Ly.scrollTop=0;this.Ly.appendChild(this.xi[g.data.Sp].e)};
e1.prototype.f=function(){dd.prototype.f.call(this);for(var m=0;m<this.xi.length;m++)this.xi[m].f()};
e1.prototype.I_=function(g,o,k){if(!navigator.onLine)return;Z.ew(this.Ly);var y=this.xi[0];this.Ly.appendChild(y.e);
y.I_();this.f()};e1.prototype.mt=function(g,o){this.I_(null,null,null)};e1.DJ=function(){fR.call(this);
this.e=Z.t("div");var g=this.e,a,t,e="font-size:1.25em;",v="text-align:center;",H="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",w="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",P="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",x=12;
this.Ci=Z.t("div");g.appendChild(this.Ci);this.fh=new da([0,11],!1,null,!0);this.fh.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.fh.h("click",this.Db,this);g.appendChild(this.fh.e);this.AR=new da([0,13,1],!1,null,!0);this.AR.h("click",this.apj,this);
g.appendChild(this.AR.e);this.mI=new da("Business Terms",!1,null,!0);this.mI.h("click",this.agT,this);
g.appendChild(this.mI.e);var o=Z.t("div");o.style.margin="20px 0";g.appendChild(o);var k=["Account Types","Go Premium","Team Settings","Distributors"],y=this.t6=[],d=this.ayk=[],b=this.dd=Z.t("div");
g.appendChild(b);for(var m=0;m<k.length;m++){var T=Z.t("span");T.textContent=k[m];o.appendChild(T);y.push(T);
T.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
T.addEventListener("click",this.TF.bind(this));d.push(Z.t("div"))}this.TF(0);var j=this.abG="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
g=d[0];var t=Z.t("table"),L="style=\" "+v+e+" padding-bottom:20px;\"";t.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+P+">\t\t\t\t\t<div "+L+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+P+">\t\t\t\t\t<div "+L+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+w+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+w+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
g.appendChild(t);var T=new da("Go Premium");T.e.setAttribute("style",j+"padding:10px 0;");T.h("click",function(f){this.TF(1)},this);
t.children[0].children[1].children[1].appendChild(T.e);this.JZ=Z.t("div");g.appendChild(this.JZ);g=d[1];
var Q=this.afV=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Zr=[];for(var m=0;m<Q.length;m++)this.Zr.push(new da("Buy: $"+Q[m][0],!1,null,!0));for(var m=0;
m<this.Zr.length;m++){this.Zr[m].h("click",this.apT,this)}this.yY=new da("...",!0);this.yY.e.setAttribute("style",j);
g.appendChild(this.yY.e);t=this.a4B(4,["Single user",this.Zr[0],this.Zr[1],this.Zr[2],"Team of 5",this.Zr[3],this.Zr[4],this.Zr[5],"Team of 20",this.Zr[6],this.Zr[7],this.Zr[8],"Team of 50",this.Zr[9],this.Zr[10],this.Zr[11]]);
g.appendChild(t);this.aht=new dX("I accept",!0,"");g.appendChild(this.aht.e);this.XZ=new da([0,13,1],!1,null,!0);
this.XZ.h("click",this.apj,this);g.appendChild(this.XZ.e);this.xW=new da("I have a key",!1,null,!0);
this.xW.e.setAttribute("style",j+" float:right; width:inherit;");this.xW.h("click",this.apT,this);g.appendChild(this.xW.e);
g=d[2];this.XH=new db;this.XH.parent=this;this.XH.h(N.E.A,this.Y2,this);g.appendChild(this.XH.e);g=d[3];
this.TM=new da("...",!0);this.TM.e.setAttribute("style",j);g.appendChild(this.TM.e);t=this.a4B(3,["1000 views/mo",this.Zr[x++],this.Zr[x++],this.Zr[x++],"5000 views/mo",this.Zr[x++],this.Zr[x++],this.Zr[x++],"20000 views/mo",this.Zr[x++],this.Zr[x++],this.Zr[x++]]);
g.appendChild(t);var F=Z.t("p");F.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
g.appendChild(F);this.Sz=new ic("Domain name (e.g. domain.com)",null,14);g.appendChild(this.Sz.e);var E=new da("Save Domain Settings",!1,null,!0);
E.sG();g.appendChild(E.e);E.h("click",this.asj,this)};e1.DJ.prototype=new fR;e1.DJ.prototype.TF=function(g){var o=typeof g=="number"?g:this.t6.indexOf(g.target);
for(var m=0;m<4;m++)this.t6[m].style.opacity=.6;this.t6[o].style.opacity=1;Z.ew(this.dd);this.dd.appendChild(this.ayk[o])};
e1.DJ.prototype.UC=function(g,o){var k=g<600?"d":" days",y=["30 days","90 days","365 days"];if(g<600)y=["30d","90d","365d"];
var d=this.afV;for(var m=0;m<d.length;m++){this.Zr[m].HZ("<span>"+y[m%3]+": <sup>$</sup><big><b>"+d[m][0]+"</b></big>"+"</span>");
this.Zr[m].e.setAttribute("style",this.abG)}};e1.DJ.prototype.apj=function(g){var o=new jB("showpage",!0);
o.data={Sp:1};this.S(o)};e1.DJ.prototype.agT=function(g){var o=new jB("showpage",!0);o.data={Sp:2};this.S(o)};
e1.DJ.prototype.f=function(){this.fh.HZ(fV.LG()?d9.get([0,11]):d9.get([0,10]));this.XZ.f();this.AR.f();
this.mI.f()};e1.DJ.prototype.a9Q=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.af,link:"https://www.photopea.com/api/accounts#"+(g.target==this.ap6?"teams":"distributors")};
this.S(o)};e1.DJ.prototype.arL=function(g){var o=g.currentTarget==this.a6x;this.a6x.$(o);this.ayW.$(!o)};
e1.DJ.prototype.aaL=function(g){var o=this.a6x.c(),k=this.ac2.c().trim().toLowerCase(),y=this.a28.value.trim().toLowerCase();
if(k.length>60){alert("Too long email address");return}if(y.length>600){alert("Too many team members");
return}y=y.split(",").join(" ").trim();y=y.replace(/\s+/g," ");if(y=="")y=[];else y=y.split(" ");var d=fV.uQ();
if(d==null)d={};if(d.acc==null)d.acc={};d.acc.team={jin:o,ldr:k,mmb:y};fV.Xc(d,this.Y2.bind(this));alert("Saved!");
this.I_()};e1.DJ.prototype.asj=function(g){var o=this.Sz.c().trim();if(!fV.LG()){alert("You have to log in first.");
return}if(fV.Fs()==0){alert("Order a distributor account first.");return}var k=fV.uQ();if(k==null)k={};
if(k.acc==null)k.acc={};if(o=="")delete k.acc.dname;else k.acc.dname=o;fV.Xc(k,this.Y2.bind(this));alert("Saved!");
this.I_()};e1.DJ.prototype.arZ=function(g){var o=fV.hA(),m=this.zT,k=fV.uQ();if(k==null)k={};if(k.acc==null)k.acc={};
k.acc.bto=g;fV.Xc(k,function(){});var y=e1.au1(g.split("\n"),o.pmnts[m]);ap.save(y,"photopea_invoice.pdf")};
e1.DJ.prototype.akU=function(g){var o=fV.hA(),k=fV.uQ(),y=k.acc?k.acc.bto:null;if(y==null)y=o.name+"\n"+o.email;
var m=-1,d=g.target.e.parentNode;while((d=d.previousSibling)!=null)m++;this.zT=m;var b=new jB(N.E.s,!0);
b.data={P:N.b.xp,Pv:"billto",Ad:y,H_:this.arZ.bind(this)};this.S(b)};e1.DJ.prototype.I_=function(){this.Ci.innerHTML="";
Z.ew(this.JZ);if(fV.LG()){var g=fV.hA(),o=g.pmnts;if(g==null)return;this.Ci.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+g.name+"</span> "+g.email+" <br/>";
if(o){var k="<h2>Payments</h2>";for(var m=0;m<o.length;m++){var y=o[m],d=new Date(y[0]*1e3);k+="<div style=\"font-size:1.2em\">"+d.getDate()+". "+(d.getMonth()+1)+". "+d.getFullYear()+" - "+e1.ahe(y)+"</div>"}this.JZ.innerHTML=k;
for(var m=0;m<o.length;m++){var b=new da("Get Invoice",!1,null,!0);b.e.setAttribute("style","float:right");
b.h("click",this.akU,this);this.JZ.children[m+1].appendChild(b.e)}}}else{}var T=fV.LG()&&fV.Ld();this.yY.e.style.display=T?"block":"none";
if(T){var a,t,j=T;if(j[0]==0){a=fV.NX(j[1])-Date.now()*(1/1e3);t=j[1][2]==1?"Single User":"Team Of "+j[1][2]}else{a=j[1][1]-Date.now()*(1/1e3);
t="Member of \""+j[1][0]+"\""}this.yY.HZ("Premium active for "+Math.round(a/(60*60*24))+" more days! ("+t+")")}var e=fV.LG()&&fV.Fs()*1e3>Date.now();
this.TM.e.style.display=e?"block":"none";if(e){var a=fV.Fs()-Date.now()/1e3;this.TM.HZ("Distributor active for "+Math.round(a/(60*60*24))+" more days!")}var v=fV.uQ();
this.XH.I_();if(v&&v.acc&&v.acc.dname)this.Sz.$(v.acc.dname);else this.Sz.$("")};e1.DJ.prototype.a4B=function(g,o){var k=Z.t("table");
if(!0){var y="<table><tr>";for(var m=0;m<g;m++)y+="<th>"+o[m*4]+"</th>";y+="</tr></table>";k.innerHTML=y;
for(var m=0;m<3;m++){var d=Z.t("tr"),b;k.appendChild(d);for(var T=0;T<g;T++){b=Z.t("td");b.style.width=Math.round(100/g)+"%";
d.appendChild(b);b.appendChild(o[T*4+1+m].e)}}}return k};e1.DJ.prototype.apT=function(g){var o=this.Zr.indexOf(g.currentTarget),y=30,d=1;
if(!fV.LG()){this.Db();return}if(this.aht.c()==!1&&o<12){alert("You must accept Terms of Service");return}var k=fV.LG()&&fV.Ld();
if(o!=-1){var b=this.afV[o];y=b[1];d=b[2]}if(k&&d<1e3){alert("You already have premium.");return}console.log(b,y,d);
if(o==-1){var T=prompt("Please enter your key");if(T!=null){fV.af7(T,this.Y2.bind(this));this.lw()}return}if(y==30&&d==1){var a=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!a)return}fV.order(y,d,this.Y2.bind(this));this.lw()};e1.DJ.prototype.Y2=function(g){this.I_();this.lw()};
e1.DJ.prototype.Db=function(g){if(fV.LG()){fV.auQ();this.lw();this.I_(null,null,null)}else fV.Db(this.acC.bind(this))};
e1.DJ.prototype.acC=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.aga};this.S(g)};e1.DJ.prototype.lw=function(){var g=new jB(N.E.s,!0);
g.data={P:N.b.ag$};this.S(g)};e1.Jk=function(g){fR.call(this);this.e=Z.t("div");var o=this.e,k=this.abW=new da([0,13,2],!1,null,!0),y;
k.h("click",this.a9A,this);o.appendChild(k.e);if(g.startsWith("::")){y=Z.t("iframe");y.setAttribute("style","width:100%;height:1700px; background-color:white;");
y.setAttribute("src",g.slice(2))}else{y=Z.t("div");y.innerHTML=g}o.appendChild(y)};e1.Jk.prototype=new fR;
e1.Jk.prototype.a9A=function(g){var o=new jB("showpage",!0);o.data={Sp:0};this.S(o)};e1.Jk.prototype.f=function(){this.abW.f()};
e1.acT="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
e1.ahe=function(g){return"Photopea "+(g[1]<1e3?"Premium":"Distributor")+" ("+g[1]+" days, "+g[2]+" user"+(g[2]==1?"":"s")+")"};
e1.au1=function(g,o){g=["Bill To:"].concat(g);var k=new ToPDF,y=595,d=842,b=40,T=18,a=12,t=500,j=100,e=400,P=0;
function v(I,r,J,U,K){H.font.Tf=K?"Helvetica-Bold":"Helvetica";H.ctm=[1,0,0,1,r,J];H.font.Tfs=U?U:a;
k.PutText(H,I,0)}function L(I,r,J,U){for(var m=0;m<I.length;m++){v(I[m],r,J-m*U,null,m==0)}}var H=UDOC.getState();
k.StartPage(0,0,y,d);v("INVOICE",y-b-140,d-b-30,30,!0);L(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],b,d-b-40,T);
var w=new Date(o[0]*1e3);L(["Date: "+w.getDate()+". "+(w.getMonth()+1)+". "+w.getFullYear(),"Transaction ID: "+o[4]],y-b-140,d-b-40-T*2,T);
var Q=g.join("");for(var m=0;m<Q.length;m++)P=Math.max(P,Q.charCodeAt(m));if(P>256){var x=4,F=Z.t("canvas"),E=F.getContext("2d"),f=0;
E.font=a*x+"px sans-serif";for(var m=0;m<g.length;m++)f=Math.max(f,E.measureText(g[m]).width);var c=Math.round(f)+20,M=g.length*x*T+20;
F.width=c;F.height=M;E.font=a*x+"px sans-serif";for(var m=0;m<g.length;m++){E.font=(m==0?"bold ":"")+a*x+"px sans-serif";
E.fillText(g[m],10,(m+1)*x*T)}document.body.appendChild(F);var n=new Uint8Array(E.getImageData(0,0,c,M).data.buffer);
H.ctm=[c/x,0,0,M/x,b-10/x,d-b-40-100-M/x];k.PutImage(H,n,c,M);H.ctm=[1,0,0,1,0,0]}else L(g,b,d-b-40-100,T);
H.colr=[.8,.8,.8];H.pth={cmds:["M","L","L","L","Z"],crds:[b,t,y-b,t,y-b,t-T,b,t-T]};k.Fill(H);H.colr=[0,0,0];
var X=[b,t,y-b,t,b,t-T,y-b,t-T,b,t-j,y-b,t-j,b,t,b,t-j,y-b,t,y-b,t-j,e,t,e,t-j],u=[];for(var m=0;m<X.length;
m+=4)u.push("M","L");H.pth={cmds:u,crds:X};k.Stroke(H);v("Order details",b+4,t-14);v(e1.ahe(o),b+4,t-T-14);
v("TOTAL:",b+4,t-j-14,null,!0);v("Price",y-b-50,t-14);v(o[3]+" USD",y-b-60,t-T-14);v(o[3]+" USD",y-b-60,t-j-14,null,!0);
v("www.Photopea.com",b,b);v("support@photopea.com",y-b-130,b);k.ShowPage();k.Done();return k.buffer};
function br(){dd.call(this,[11,14],"addguides");this.i5;this.eM={Nn:{rx:0}};this.$K=null;var g=Z.t("div","form");
this.body.appendChild(g);this.TT=[];this.YK=new k5(null,["Hi"]);g.appendChild(this.YK.e);Z.Dx(g);this.YK.h(N.E.A,this.ae,this);
this.mh=new ic([22,4,0],null,16);this.mh.h(N.E.A,this.iA,this);this.Jg=new ic([22,4,1],null,16);this.Jg.h(N.E.A,this.iA,this);
this.us=new cR(null,_.bt.S5);this.us.h(N.E.A,this.iA,this);g.appendChild(this.mh.e);g.appendChild(this.us.e);
Z.Dx(g);g.appendChild(this.Jg.e);this._5=Z.zE(this,g);this.h("closebtn",this.Fh,this)}br.prototype=new dd;
br.prototype.FD=function(g,o){return g!=null};br.prototype.tt=function(){return!0};br.prototype.f=function(){dd.prototype.f.call(this);
this.mh.f();this.Jg.f();this.us.f();this._5.f()};br.prototype.mt=function(g,o){var k=g.Nn.rx;this.eM.Nn.rx=k;
this.us.$(k)};br.prototype.I_=function(g,o){this.i5=g;this.$K=JSON.stringify(g.Nz());this.TT=[-1];var k=["Global"],y=g.root.children,d=g.wI();
for(var m=0;m<y.length;m++){var b=y[m].i;if(b.add.artb){k.push(b.getName());this.TT.push(y[m].index)}}this.YK.O$(k);
this.YK.$(this.TT.indexOf(d));this.ae()};br.prototype.ae=function(){var g=this.i5,o=g.Nz(),k=this.TT[this.YK.c()],y=[0,0];
if(k!=-1){var d=g.d[k].xB();y=[d.x,d.y]}var b=function(T,a,g,t,j){var e=T[0],v=[];for(var m=0;m<e.length;
m++)if(T[1][m]==k&&e[m][0]==a)v.push(_.bt.m4(e[m][1]-y[a],g.Qb,t,j));v.sort(function(L,H){return L-H});
return v.join(", ")};this.mh.$(b(o,0,g,this.eM,g.m));this.Jg.$(b(o,1,g,this.eM,g.n))};br.prototype.iA=function(g){if(g&&g.currentTarget==this.us)this.eM.Nn.rx=this.us.c();
else{var o=this.a4f(),k=this.i5;k.uZ(o);k.nM=!0}this.ae()};br.prototype.a4f=function(){var g=this.i5,o=g.Nz(),k=this.TT[this.YK.c()],y=[0,0];
if(k!=-1){var d=g.d[k].xB();y=[d.x,d.y]}var b=[];for(var T=0;T<2;T++){var a=T==0?this.mh:this.Jg,t=T==0?this.i5.m:this.i5.n,j=a.c().replace(/,/g," ").replace(/  +/g," ").trim(),e=j==""?[]:j.split(" ");
for(var m=0;m<e.length;m++)b.push([T,_.bt.ag7(e[m],this.i5.Qb,this.eM,t)+y[T]])}for(var m=0;m<o[0].length;
m++)if(o[1][m]==k){o[0].splice(m,1);o[1].splice(m,1);m--}for(var m=0;m<b.length;m++){o[0].push(b[m]);
o[1].push(k)}return o};br.prototype.Fh=function(g){var o=this.i5;o.uZ(JSON.parse(this.$K));o.nM=!0;this.i5=null};
br.prototype.CR=function(g){this.iA(g);var o=new jB(N.E.L,!0);o.G=D.fL;o.data={P:"gids",M6:JSON.parse(this.$K),hB:this.i5.Nz()};
this.i5=null;this.close();this.S(o)};function gW(g){dd.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats"}[g],g);
var o=Z.t("div","form");this.body.appendChild(o);o.setAttribute("style","width:300px");this.my=new gQ("Source Images",!0,!0);
o.appendChild(this.my.e);this.o2=new cR([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.CH=new dX("Order images by name");this.CH.$(!0);var k=this.adF=cp.R1();for(var m=0;m<k.length;m++)if(cp.rJ(k[m]).nY){k.splice(m,1);
m--}this.ut=new cR([12,50],k);this.lk=new c9;this.ut.h(N.E.A,this.$N,this);if(g=="pdfpres"){o.appendChild(this.o2.e);
o.appendChild(this.CH.e)}else{o.appendChild(this.ut.e);o.appendChild(this.lk.e)}var y=["VAR0 PDF",[1,8]];
if(g=="cformat")y="Convert Images";var d=new da(y,!0,null,!0);d.h("click",this.$M,this);o.appendChild(d.e);
this.$N()}gW.prototype=new dd;gW.prototype.$N=function(g){var o=this.adF[this.ut.c()];this.lk.dL(o)};
gW.prototype.$M=function(g){var o=this.my.c(),k=[],b=595,T=842,a=40;for(var y in o)k.push(y);if(k.length==0){alert("No images selected");
return}if(this.CH.c())k.sort();var d=this.o2.c(),t=new ToPDF,j=UDOC.getState(),e=this.adF[this.ut.c()],v=cp.rJ(e),L=this.lk.c(),H={};
for(var m=0;m<k.length;m++){var y=k[m],w=o[y],P=w[0]==255,Q=cp.tW(w.buffer),x=cp.rJ(Q),F;if(Q=="psd")F=jX.a2l(w.buffer)[0];
else if(x.nY){alert(Q.toUpperCase()+" can not be used.");continue}else F=x.pO(w.buffer)[0];var E=F.MR,f=new Uint8Array(F.data),c=E.m,M=E.n;
if(this.id=="pdfpres"){var n=[[595,842],[842,595],[595,595],[595,0]][d];if(d==3)n[1]=Math.round(n[0]*M/c);
var b=n[0],T=n[1],X=Math.min(b/c,T/M);t.StartPage(0,0,b,T);j.ctm=[c*X,0,0,M*X,(b-c*X)/2,(T-M*X)/2];t.PutImage(j,P?w:f,c,M);
t.ShowPage()}else{var u=y.split(".");u.pop();u.push(e.toLowerCase());H[u.join(".")]=new Uint8Array(v.p0([[F.data]],c,M,L))}}if(this.id=="pdfpres"){t.Done();
ap.save(t.buffer,"file.pdf")}else{ap.save(UZIP.encode(H),"images.zip")}};gW.prototype.f=function(){dd.prototype.f.call(this);
this.my.f();this.o2.f();this.CH.f()};function iI(g){var o=jf.names[g];if(o==null)o=aj.names[g];if(g=="aply")o=[2,12];
if(g=="fade")o=[2,11];if(g=="matc")o=[4,18];if(g=="blendOptions")o=[14,10];dd.call(this,o,"afw_"+g);
this.oj=g;this.qa=null;this.bU=null;this.b3=new eJ[g];this.b3.h(N.E.A,this.C2,this);this.b3.parent=this;
this.body.appendChild(this.b3.e);this.nJ=new dX([24,18,5]);this.nJ.$(!0);this.nJ.h(N.E.A,this.C2,this);
this.u3=new da([1,12,2],!0,null,!0);this.u3.h("click",this.LZ,this);this._5=Z.zE(this);if(this.g9())this.b3.C_(this._5.e);
else{Z.O9(this.b3.e,"form");Z.O9(this.body,"flexrow");this.b3.e.setAttribute("style","width:312px");
var k=Z.t("div");this.body.appendChild(k);k.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
k.appendChild(this._5.e);k.appendChild(this.u3.e);k.appendChild(this.nJ.e)}this.h("closebtn",this.Xa,this)}iI.prototype=new dd;
iI.prototype.tt=function(){return!0};iI.prototype.g9=function(){return this.b3!=null&&this.b3.oV()};
iI.prototype.fM=function(){return this.g9()?new bJ(0,0):dd.prototype.fM()};iI.prototype.xI=function(){return this.b3.xI()};
iI.prototype.Hu=function(g,o,k,y,d){this.b3.Hu(g,o,k,y,d)};iI.prototype.Sa=function(g,o,k,y,d){this.b3.Sa(g,o,k,y,d)};
iI.prototype.b9=function(g,o,k,y,d){this.b3.b9(g,o,k,y,d)};iI.prototype.FD=function(g,o){if(this.oj=="fade")return iI.avW(g);
return!0};iI.prototype.LZ=function(g){this.b3.$(jf.J0(this.oj));this.C2()};iI.prototype.C2=function(g){this.Xi({P:"edit",_Q:this.b3.c(),o5:!this.nJ.c()})};
iI.prototype.Xa=function(g){this.Xi({P:"cancel"})};iI.prototype.CR=function(g){if(!this.nJ.c()){this.nJ.$(!0);
this.C2()}this.bU=this.b3.c();if(this.g9())this.C2();this.Xi({P:"confirm"});this.close()};iI.prototype.f=function(){dd.prototype.f.call(this);
this.nJ.f();if(this.b3)this.b3.f();this._5.f()};iI.prototype.mt=function(g,o){if(this.b3)this.b3.mt(g,o)};
iI.prototype.Zl=function(g,o,k,y){if(this.g9())this.b3.Zl(y);else dd.prototype.Zl.call(this,g,o,k,y)};
iI.prototype.I_=function(g,o,k,y){this.qa=o.qa;var d=g.add.lnk2?g.add.lnk2:[],b,T,a=new bd(0,0,g.m,g.n),t=g.d[g.g[0]],j=null;
b=t.buffer;T=t.rect;if(this.g9())j=g.PJ(g.g[0]-1);var e=jf.J0(this.oj),v=[d,g.Tm,g,k];if(o.qa==null){this.b3.$(e,b,T,a,j,v);
if(aj.names[this.oj]){if(y.z(dj.M4)&&this.bU)this.b3.$(this.bU);var L=D.zL.getData(g),H=_.kO(L[0].sP);
this.b3.b7(H)}}else{var w=!1,t=g.d[this.qa.i];if(t.wg()){var P=t.lQ(g);b=P.buffer;T=P.rect;var Q=t.add.SoLd.filterFX.v.filterFXList.v;
if(Q[this.qa.index]){var x=Q[this.qa.index].v;this.b3.$(this.oj=="blendOptions"?x.blendOptions.v:x.Fltr.v,b,T,a,j,v);
this.b3.b7(_.kO(b));w=!0}}if(!w){this.b3.$(e,b,T,a,j,v);this.b3.b7(_.kO(b))}}if(!this.g9()){this.C2();
var F=this.b3;if(F&&F.ws&&F.ws[0]&&F.ws[0].KA)F.ws[0].KA()}};iI.prototype.Xi=function(g){var o=new jB(N.E.L,!0);
g.oj=this.oj;g.qa=this.qa;o.data=g;o.G=jf.names[this.oj]||this.qa?D.Gc:D.p4;o.Yi=!0;this.S(o)};iI.prototype.UC=function(g,o){if(!this.b3.oV()){}else{this.body.style.padding="0";
this.b3.UC(g,o)}};iI.avW=function(g){if(g==null)return!1;var o=g.Zt();if(o==null||!(o.data instanceof Array)||o.data.length!=g.g.length)return!1;
for(var m=0;m<o.data.length;m++){var k=o.data[m];if(k.i<0&&g.Tm[-1-k.i])return!0;if(k.i==null||g.d[k.i]==null||g.d[k.i].W1!=k.jc)return!1;
if(g.g.indexOf(k.i)==-1)return!1}return!0};function du(){dd.call(this,[11,0],"camera");this.data=null;
this.$g=new bJ(1,1);this.ajs=[];var g=Z.t("div","form hbar");this.body.appendChild(g);this.a4l=new cR(null,[]);
this.qB=new cR([21,0],[[21,2],[21,1]]);g.appendChild(this.qB.e);this.S3=new cR(null,[]);this.S3.h(N.E.A,this.a0l,this);
g.appendChild(this.S3.e);this.mJ=new da([11,0],!1,null,!0);this.mJ.h("click",this.axP,this);g.appendChild(this.mJ.e);
this.dc=new bZ("");g.appendChild(this.dc.e);this.stream=null;this.ON=Z.t("video","");this.ON.setAttribute("autoplay","true");
this.body.appendChild(this.ON);this.a5J=this.arq.bind(this);this.arY=this.aoE.bind(this);this.a2f=this.aqM.bind(this);
this.h("closebtn",this.aeu,this)}du.prototype=new dd;du.prototype.f=function(){dd.prototype.f.call(this);
this.qB.f();this.mJ.f();this.UC(this.bW,this.GP)};du.prototype.PJ=function(){var g=this.ON.videoWidth,o=this.ON.videoHeight,k=Z.t("canvas","");
k.width=g;k.height=o;var y=k.getContext("2d");y.drawImage(this.ON,0,0,g,o);var d=y.getImageData(0,0,g,o);
return{MR:new bd(0,0,g,o),data:d.data.buffer}};du.prototype.axP=function(g){if(this.qB.c()==0)this.afp();
else this.acy()};du.prototype.acy=function(){var g=this.PJ(),o={buffer:new Uint8Array(g.data),rect:g.MR},k=new jB(N.E.L,!0);
k.Yi=!0;k.G=D.Jn;k.data={P:p.Fx,gj:o};this.S(k);alert(d9.get([21,4]))};du.prototype.afp=function(){var g=this.PJ(),o=cp.kj("camera",[g]),k=new jB(N.E.s,!0);
k.data={P:N.b.I8,po:o};this.S(k);alert(d9.get([21,5]))};du.prototype.I_=function(g,o,k){navigator.mediaDevices.enumerateDevices().then(this.au8.bind(this))};
du.prototype.au8=function(g){var o=this.ajs=[],k=[];for(var m=0;m<g.length;m++)if(g[m].kind=="videoinput"){o.push(g[m]);
k.push("Camera "+o.length)}this.S3.O$(k);this.S3.$(0);this.a0l()};du.prototype.a0l=function(g){this.aeu();
var o={video:{deviceId:this.ajs[this.S3.c()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(o).then(this.a5J).catch(this.arY);
else navigator.webkitGetUserMedia(o,this.a5J,this.arY)};du.prototype.arq=function(g){this.stream=g;this.ON.srcObject=g;
this.ON.addEventListener("loadedmetadata",this.a2f,!1)};du.prototype.aqM=function(g){this.ON.play();
this.UC(this.bW,this.GP)};du.prototype.fM=function(g,o){return new bJ(0,0)};du.prototype.UC=function(g,o){var k=this.ON.videoWidth,y=this.ON.videoHeight;
this.dc.$(k+" x "+y+" px");this.dc.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.$g.oU(k,y);this.bW=g;this.GP=o;var d=g-28,b=o-28-30,T=this.$g.x/this.$g.y;if(d/b>T)d=b*T;else b=d/T;
this.ON.setAttribute("style","display: block; width: "+Math.round(d)+"px; height:"+Math.round(b)+"px;")};
du.prototype.aoE=function(g){console.log("error",g);alert(d9.get([21,6]));this.close()};du.prototype.aeu=function(g){if(this.stream!=null){var o=this.stream.getTracks();
for(var m=0;m<o.length;m++)o[m].stop();this.stream=null}};function aA(){dd.call(this,[7,8],"crange");
this.i5=null;this.mD={hb:73,Ng:4.45,k:4};this.n_={hb:73,Ng:4.45,k:4};this.body.style.width="20em";this.cD=new cR([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.cD.h(N.E.A,this.aqw,this);this.body.appendChild(this.cD.e);this.$L=Z.t("div","form");this.body.appendChild(this.$L);
var g=this.ajU=2,o=this.y2=[new cO([12,92],0,200),new k5([12,36],[[18,0],"\uFF0B","-"]),new cO([12,92],0,100,"%"),new k9("Min",0,255),new k9("Max",0,255)];
o[0].$(40);o[g].$(40);for(var m=0;m<o.length;m++){o[m].h(N.E.A,this.Y3,this);o[m].parent=this}this.T=Z.t("canvas");
this.body.appendChild(this.T);this._5=Z.zE(this,this.body)}aA.prototype=new dd;aA.prototype.FD=function(g,o){return g!=null};
aA.prototype.xI=function(){return!0};aA.prototype.tt=function(){return!0};aA.prototype.aqw=function(g){var o=this.cD.c(),k=this.y2,y=this.$L,d=0,b=k.length,T=this.ajU;
if(o==0)b=T;else{d=T;k[d+1].$([0,100,190][o-1]);k[d+1]._C(o!=1);k[d+2].$([60,150,255][o-1]);k[d+2]._C(o!=3)}Z.ew(y);
for(var m=d;m<b;m++){y.appendChild(k[m].e)}this.Y3()};aA.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();this.cD.f();for(var m=0;m<this.y2.length;m++)this.y2[m].f()};aA.prototype.Hu=function(g,o,k,y,d){var b=g.u.mp(d.x,d.y);
this.aox(b.x,b.y)};aA.prototype.aox=function(g,o){var k=Math.min,y=Math.max,d=this.i5,b=y(0,k(d.m-1,Math.floor(g))),T=y(0,k(d.n-1,Math.floor(o))),a=d.PJ(),t=(T*d.m+b)*4,j=a[t],e=a[t+1],v=a[t+2],L=_.cr(j,e,v),H=this.y2[1].c(),w=this.mD,P=this.n_;
if(H==0){this.mD=JSON.parse(JSON.stringify(L));this.n_=L}else if(H==1){w.hb=k(w.hb,L.hb);w.Ng=k(w.Ng,L.Ng);
w.k=k(w.k,L.k);P.hb=y(P.hb,L.hb);P.Ng=y(P.Ng,L.Ng);P.k=y(P.k,L.k)}else if(H==2){var Q=(w.hb+P.hb)/2,x=(w.Ng+P.Ng)/2,F=(w.k+P.k)/2;
if(L.hb<Q)w.hb=y(w.hb,L.hb+10);else P.hb=k(P.hb,L.hb-10);if(L.Ng<x)w.Ng=y(w.Ng,L.Ng+1);else P.Ng=k(P.Ng,L.Ng-1);
if(L.k<F)w.k=y(w.k,L.k+1);else P.k=k(P.k,L.k-1)}this.Y3()};aA.prototype.CR=function(g){var o=this.cD.c(),k=this.y2,y={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(o==0){var d=this.mD,b=this.n_;y.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:d.hb},A:{t:"doub",v:d.Ng},B:{t:"doub",v:d.k}}};
y.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:b.hb},A:{t:"doub",v:b.Ng},B:{t:"doub",v:b.k}}};y.Fzns={t:"long",v:k[0].c()}}else{o--;
var T=["shadows","midtones","highlights"][o];y.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][o]}};if(0<o)y[T+"LowerLimit"]={t:"long",v:k[3].c()};
if(o<2)y[T+"UpperLimit"]={t:"long",v:k[4].c()};y[T+"Fuzziness"]={t:"long",v:k[2].c()}}this.close();var a=new jB(N.E.gp,!0);
a.data={J5:"colorRange",fV:y};this.S(a)};aA.prototype.I_=function(g,o){this.i5=g;this.aox(0,0);this.aqw()};
aA.prototype.Y3=function(){var g=this.i5,o=this.cD.c(),k=this.mD,y=this.n_,d=this.y2,b=d[0].c()/200,T=!1;
if(o>0){k=d[3].c();y=d[4].c();if(k>=y)k=y-1;T=!0;b=d[2].c()/100}var a=D.qT.SB(g,k,y,b,T),t=a.rect,j=a.channel,e=this.T,v=e.getContext("2d"),L=Math.floor(230*Z.V()),H=Math.floor(L*(t.n/t.m));
e.width=L;e.height=H;Z.s4(e,L,H);var w=_.Q(j.length*4);_.Sm(w,4294967295);for(var m=0;m<3;m++)_.e_(j,w,m);
var P=D.C8.Zb([w,t],new d3(L/t.m,0,0,H/t.n,0,0)),Q=P.rect,x=new ImageData(new Uint8ClampedArray(P.buffer.buffer),Q.m,Q.n);
v.putImageData(x,0,0)};function km(){dd.call(this,[12,76,1],"createshape");this.l1=null;var g=Z.t("div","form");
g.setAttribute("style","width:20em");this.body.appendChild(g);this.sJ=new k9([12,41],0,0,null,0,!1,!0);
g.appendChild(this.sJ.e);Z.Dx(g);this.mh=new k9([12,42],0,0,null,0,!1,!0);g.appendChild(this.mh.e);Z.Dx(g);
this.CD=new dX([19,5,3]);g.appendChild(this.CD.e);this.sJ.$(100);this.mh.$(100);this._5=Z.zE(this,g)}km.prototype=new dd;
km.prototype.CR=function(g){this.l1.axc(this.l1.axv,this.sJ.c(),this.mh.c(),this.CD.c());this.close()};
km.prototype.f=function(){if(this.l1)this.mT=d9.get([5,3])+": "+d9.get(this.l1.afZ);dd.prototype.f.call(this);
this._5.f();this.sJ.f();this.mh.f();this.CD.f()};km.prototype.I_=function(g,o){this.l1=o;this.f();this.sJ.KA()};
function bm(){dd.call(this,[11,1],"colorpicker");this.Yd=null;this.Ud=null;this.gr=null;this.Dg=!1;this.nO=!1;
this.aw8=[.9642,1,.8249];var g=Z.t("div","flexrow"),T,a;this.body.appendChild(g);this.UP=new b6(256,!0);
this.UP.h(N.E.A,this.YO,this);g.appendChild(this.UP.e);var o=Z.t("div","form");o.setAttribute("style","width:14.5em; margin-left:1em;");
g.appendChild(o);var k=Z.t("div","flexrow");o.appendChild(k);var y=Z.t("div");k.appendChild(y);y.style="width:95px; margin-right:14px";
this.auA=Z.t("div","full");y.appendChild(this.auA);this.ahf=Z.t("div","full");y.appendChild(this.ahf);
var y=Z.t("col");k.appendChild(y);y.style.width="80px";this._5=Z.zE(this,y);var k=Z.t("div","flexrow");
o.appendChild(k);var d=Z.t("div"),b=Z.t("div");k.appendChild(d);k.appendChild(b);d.style=b.style="margin-left:14px; max-width:80px;";
T=["H","S","B"];a=d;this.iR=[];for(var m=0;m<3;m++){var t=0,j=360,e="\xB0";if(m!=0){j=100;e="%"}var v=new k9(T[m],t,j,e,0,!1,!0);
this.iR.push(v);v.h(N.E.A,this.axu,this);a.appendChild(v.e);if(m==2)v.e.style.marginBottom="8px"}T=["R","G","B"];
a=d;this.ZL=[];for(var m=0;m<3;m++){var v=new k9(T[m],0,255,null,0,!1,!0);this.ZL.push(v);v.h(N.E.A,this.axZ,this);
a.appendChild(v.e)}T=["L","a","b"];a=b;this.MW=[];for(var m=0;m<3;m++){var t=[0,-128,-128][m],j=[100,127,127][m],v=new k9(T[m],t,j,null,0,!1,!0);
v.$(0);this.MW.push(v);v.h(N.E.A,this.ag9,this)}T=["C","M","Y","K"];a=b;this.gm=[];for(var m=0;m<4;m++){var v=new k9(T[m],0,100,"%",0,!1,!0);
v.$(0);this.gm.push(v);v.h(N.E.A,this.aus,this);a.appendChild(v.e);if(m==3)v.e.style.marginBottom="8px"}this.mh=new ic("#",null,4.5);
this.mh.h(N.E.A,this.Fq,this);b.appendChild(this.mh.e);this.mh.e.style.marginRight="0";this.Ma=Z.t("input","fitem");
this.Ma.setAttribute("type","color");this.Ma.setAttribute("style","width:59px;  margin-left:19px;");
this.Ma.addEventListener("change",this.Fq.bind(this),!1);b.appendChild(this.Ma);this.Vi=new kq(9);this.Vi.h(N.E.A,this.Fq,this);
o.appendChild(this.Vi.e);this.h("closebtn",this.Xa,this);this._y=!1}bm.prototype=new dd;bm.prototype.xI=function(){return!0};
bm.prototype.fM=function(g,o){return new bJ(Math.max(0,Math.min(150,(g-484)/2)),Math.max(0,Math.min(150,(o-316)/2)))};
bm.prototype.UC=function(g,o){this.UP.UC(Math.min(256,g-226),o)};bm.prototype.f=function(g,o){dd.prototype.f.call(this);
for(var m=0;m<3;m++){this.ZL[m].f();this.iR[m].f();this.MW[m].f()}for(var m=0;m<4;m++)this.gm[m].f();
this._5.f()};bm.prototype.YO=function(g){this.Ud=this.UP.c();this.update()};bm.prototype.Hu=function(g,o,k,y,d){this._y=!0;
this.akp(g,d)};bm.prototype.Sa=function(g,o,k,y,d){if(!this._y)return;this.akp(g,d)};bm.prototype.b9=function(g,o,k,y,d){this._y=!1};
bm.prototype.akp=function(g,o){var k=D.Bz.CU(g,o,1),y=k&255,d=k>>8&255,b=k>>16&255;this.Ud={o:b/255,C:d/255,k:y/255};
this.update()};bm.prototype.axZ=function(g){var o=this.ZL,k=this.XF(parseInt(o[0].c())),y=this.XF(parseInt(o[1].c())),d=this.XF(parseInt(o[2].c()));
this.Ud={o:k/255,C:y/255,k:d/255};this.update()};bm.prototype.axu=function(g){var o=this.iR,k=this.jC(parseInt(o[0].c())/360),y=this.jC(parseInt(o[1].c())/100),d=this.jC(parseInt(o[2].c())/100);
this.Ud=_.YN(k,y,d);this.update()};bm.prototype.aus=function(g){var o=this.gm,k=[];for(var m=0;m<4;m++){var y=this.avI(parseInt(o[m].c()));
o[m].$(y);k.push(y/100)}var d=_.ug(k);this.Ud={o:d[0],C:d[1],k:d[2]};this.update(!0)};bm.prototype.ag9=function(g){var o=this.MW,k=parseInt(o[0].c()),y=parseInt(o[1].c()),d=parseInt(o[2].c()),b=_.Mg(k,y,d);
this.Ud={o:b.o/255,C:b.C/255,k:b.k/255};this.update()};bm.prototype.Fq=function(g){var o;if(g.currentTarget==this.Vi)o=this.Vi.c();
else{o=g.currentTarget==this.mh?this.mh.c():this.Ma.value;if(o.charAt(0)=="#")o=o.slice(1);if(o.length==3)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2];
o=_.im(o)}this.Ud={o:(o>>16&255)/255,C:(o>>8&255)/255,k:(o&255)/255};this.update()};bm.prototype.v_=function(g){var o=g.o,k=g.C,y=g.k;
return Math.round(o*255)<<16|Math.round(k*255)<<8|Math.round(y*255)};bm.prototype.CR=function(g){this.as0();
var o=this.v_(this.Ud);this.gr(o);this.close();this.nO=!1;this.Ud=null};bm.prototype.Xa=function(g){this.as0();
if(this.Dg)this.gr(this.v_(this.Yd));this.nO=!1;this.Ud=null};bm.prototype.as0=function(g){var o=new jB(N.E.s,!0);
o.data={P:N.b.acr};this.S(o)};bm.prototype.mt=function(g,o){var k=h_.vE(g,o);if(k!=null)this.Vi.$(k);
if(o!=er.wp)return;if(this.Ud!=null){this.Ud={o:(k>>16&255)/255,C:(k>>8&255)/255,k:(k>>0&255)/255};this.update()}};
bm.prototype.I_=function(g,o){var k=o.IZ,y={o:(k>>16&255)/255,C:(k>>8&255)/255,k:(k>>0&255)/255};if(this.Ud==null){var d=new jB(N.E.s,!0);
d.data={P:N.b.ih,f8:"crosshair",push:!0};this.S(d);this._y=!1;this.gr=o.Tr;this.Dg=!1;this.nO=o.XC;this.Yd=JSON.parse(JSON.stringify(y));
this.ahf.setAttribute("style","height:2.3em;background-color:#"+_.Mb(k)+";")}this.Ud=y;this.update()};
bm.prototype.update=function(g){var o=this.Ud,k=this.v_(o);this.mh.$(_.Mb(k));this.Ma.value="#"+_.Mb(k);
this.auA.setAttribute("style","height:2.3em;background-color:#"+_.Mb(k)+";");var y=this.ZL;y[0].$(Math.round(o.o*255));
y[1].$(Math.round(o.C*255));y[2].$(Math.round(o.k*255));var d=_.RM(o.o,o.C,o.k);y=this.iR;y[0].$(Math.round(d.GP*360));
y[1].$(Math.round(d.ci*100));y[2].$(Math.round(d._Q*100));var b=_.cr(o.o*255,o.C*255,o.k*255,this.aw8);
y=this.MW;y[0].$(Math.round(b.hb));y[1].$(Math.round(b.Ng));y[2].$(Math.round(b.k));if(g==null){var T=_.adj([o.o,o.C,o.k]);
y=this.gm;y[0].$(Math.round(T[0]*100));y[1].$(Math.round(T[1]*100));y[2].$(Math.round(T[2]*100));y[3].$(Math.round(T[3]*100))}this.UP.$(o);
if(this.nO){this.gr(this.v_(this.Ud));this.Dg=!0}};bm.prototype.avI=function(g){return Math.max(0,Math.min(100,g))};
bm.prototype.XF=function(g){return Math.max(0,Math.min(255,g))};bm.prototype.jC=function(g){return Math.max(0,Math.min(1,g))};
function bF(){dd.call(this,[11,2],"contoureditor");this.aoW=null;this.rV=null;this.response=null;this.yc=Z.t("div","cell");
this.body.appendChild(this.yc);this.L1=Z.t("div","cell padded");this.body.appendChild(this.L1);var g=Z.t("div","bordered padded vmargin");
this.yc.appendChild(g);this.b3=new jO(null,null,!0);this.b3.h(N.E.A,this.U6,this);g.appendChild(this.b3.e);
this._5=Z.zE(this,this.L1);this.h("closebtn",this.GK,this)}bF.prototype=new dd;bF.prototype.CR=function(){this.close()};
bF.prototype.f=function(){dd.prototype.f.call(this);this._5.f();this.b3.f()};bF.prototype.U6=function(g){this.rV.Crv.v=this.b3.c();
this.response(this.rV)};bF.prototype.GK=function(g){this.response(this.aoW)};bF.prototype.I_=function(g,o){this.aoW=JSON.parse(JSON.stringify(o.dd));
this.rV=o.dd;this.response=o.response;this.b3.$(this.rV.Crv.v)};function jj(){dd.call(this,[11,3],"csize");
this.Ta=0;this.Ly=Z.t("div","form");this.Ly.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.Ly);
this.DY=new ec(!0,!0,!0,!0,!0);this.DY.ax6(!1);this.Ly.appendChild(this.DY.e);this.XU=new k5("Align with",[[8,7],[12,6]]);
this.XU.h(N.E.A,this.av1,this);this.aM=new hX([12,23,2],41);this.Ly.appendChild(this.aM.e);this.aM.$(4);
this.$e=new b4(!1);this.$e.acG(new bJ(0,0));this._5=Z.zE(this,this.body)}jj.prototype=new dd;jj.prototype.FD=function(g,o){return g!=null};
jj.prototype.tt=function(){return!0};jj.prototype.xg=function(g){return[dj.D8,dj.MA,dj.Ef,dj.tu].indexOf(g)!=-1};
jj.prototype.Zl=function(g,o,k,y){if(y.z(dj.zu))this.CR();this.aM.aqP(y.Mj())};jj.prototype.av1=function(){var g=[this.aM.e,this.$e.e];
this.Ly.removeChild(g[this.Ta]);this.Ta=this.XU.c();this.Ly.appendChild(g[this.Ta])};jj.prototype.f=function(){dd.prototype.f.call(this);
this.DY.f();this.XU.f();this.aM.f();this.$e.f();this._5.f()};jj.prototype.CR=function(g){var o=this.DY.c(),k=o.x,y=o.y,d=new jB(N.E.gp,!0);
d.data=D.Wz.atF(k,y,this.aM.c());this.close();this.S(d)};jj.prototype.I_=function(g,o){this.DY.$(new bJ(g.m,g.n),g.Qb);
this.DY.KA()};function bp(){dd.call(this,[11,4],"duplinto");this.zW=null;this.Kr=null;this.f2=null;var g=Z.t("div","form");
g.setAttribute("style","max-width:26em");this.body.appendChild(g);this.XY=new cR([12,43],["abc","def"]);
this.XY.h(N.E.A,this.Xm,this);g.appendChild(this.XY.e);Z.Dx(g);this.Kg=new cR([1,16,0],["abc","def"]);
this.Kg.h(N.E.A,this.Xm,this);g.appendChild(this.Kg.e);Z.Dx(g);this.EI=new ic([12,48],null,14);g.appendChild(this.EI.e);
this._5=Z.zE(this,g)}bp.prototype=new dd;bp.prototype.tt=function(){return!0};bp.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();this.XY.f();this.EI.f()};bp.prototype.Xm=function(g){if(g&&g.target==this.Kg)return;var o=this.XY.c(),k=this.Kr[o],y=this.zW,d=k!=null&&k.add.artd!=null;
for(var m=0;m<y.g.length;m++)if(y.d[y.g[m]].add.artb)d=!1;this.EI._C(o==this.Kr.length);this.Kg._C(d);
if(d){var b=k.root.children,T=[],a=this.f2=[];for(var m=0;m<b.length;m++){var t=b[m].i;if(t.add.artb)T.push(t.getName());
a.push(b[m].index)}this.Kg.O$(T);this.Kg.$(0)}else this.f2=null};bp.prototype.I_=function(g,o,k){this.zW=g;
this.Kr=k;this.EI.$(g.g.length==0?"Layer":g.d[g.g[0]].getName());var y=[];for(var m=0;m<k.length;m++){var d=k[m].name;
y.push(d.length<30?d:d.slice(0,27)+"...")}y.push([11,7]);this.XY.O$(y);this.XY.$(k.indexOf(g));this.Xm(null)};
bp.prototype.CR=function(g){var o=this.XY.c();if(o==this.Kr.length){var k=new dF(this.EI.c()+".psd"),y=this.zW.m,d=this.zW.n,b=this.zW.wI();
if(b!=-1){var T=this.zW.d[b].xB();y=T.m;d=T.n}k.m=y;k.n=d;k.buffer=_.Q(k.m*k.n*4);var a=k.Qf();a.mP("Background");
k.x8([a]);var t=new jB(N.E.s,!0);t.Yi=!0;t.data={P:N.b.I8,po:k};this.S(t)}var j=this.zW.E2(null,this.zW!=this.Kr[o]),t=new jB(N.E.L,!0);
t.data={P:p.Y6,d:j,UD:this.zW,zH:this.Kr[o]};if(this.f2)t.data.tK=this.f2[this.Kg.c()];t.G=D.Jn;t.Yi=!0;
this.S(t);this.close()};function ah(){dd.call(this,[1,9],"eassets");this.eM=null;this.m1=null;var g=this.body;
Z.O9(g,"form");g.style.width="32em";this.cD=new k5(null,["Layers","Combinations"]);this.cD.h(N.E.A,this.ae,this);
g.appendChild(this.cD.e);Z.Jo(g);this.Q4=Z.t("span");g.appendChild(this.Q4);this.O6=Z.t("div");g.appendChild(this.O6);
var o=Z.t("div"),k=Z.t("div","flexrow");this.aho=[o,k];this.Hg=[new dX("Only layers / folders, whose name starts with \"-e-\""),new dX("Remove parts outside the canvas"),new dX("Trim transparent parts")];
for(var m=0;m<3;m++){var y=this.Hg[m];y.$(!0);y.h(N.E.A,this.ae,this);o.appendChild(y.e);Z.Dx(o)}this.Xe=new jZ([12,14,0],["1x","2x","3x","4x"]);
this.Xe.$([!0,!1,!1,!1]);o.appendChild(this.Xe.e);var d=Z.t("div");k.appendChild(d);var b=Z.t("img");
b.setAttribute("src","img/nft.png");b.style.width="150px";k.appendChild(b);var T=Z.t("span");T.textContent="File Names:";
d.appendChild(T);this.AZ=new jZ(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
d.appendChild(this.AZ.e);this.AZ.$([!0,!1,!1]);Z.Jo(g);this.Wb=["PNG","JPG","SVG","TIFF","TGA"];this.Xq=new cR([12,50],this.Wb);
this.Xq.h(N.E.A,this.$N,this);g.appendChild(this.Xq.e);this.lk=new c9;g.appendChild(this.lk.e);this._5=new da([1,9],!0,null,!0);
this._5.h("click",this.CR,this);g.appendChild(this._5.e);this.h("closebtn",this.r2,this)}ah.prototype=new dd;
ah.prototype.$N=function(g){this.lk.dL(this.Wb[this.Xq.c()],!1,!1,!1,this.m1.Q$()!=null)};ah.prototype.r2=function(g){this.m1=null};
ah.prototype.f=function(){dd.prototype.f.call(this);this.Xq.f();this.Xe.f();this._5.f();this.lk.f()};
ah.prototype.I_=function(g,o,k){this.m1=g;this.ae()};ah.prototype.ae=function(g){var o=this.cD.c(),k;
Z.ew(this.O6);this.O6.appendChild(this.aho[o]);if(o==0){var y=this.ak1();k=y.length+" exportable layers"}else{var y=this.aij();
k=y[1]+" combinations ("+y[0].join(" \xD7 ")+")"}this.Q4.textContent="- - - "+k;this.$N(null)};ah.prototype.ak1=function(){var g=this.Hg[0].c(),o=[],k=this.m1;
for(var m=0;m<k.d.length;m++){var y=k.d[m],d=y.getName();if(!g&&!y.gT()&&!y.rect.on()||d.startsWith("-e"))o.push(m)}return o};
ah.prototype.aij=function(){var g=this.m1,o=g.root.children,k=[],y=1,d=[];for(var m=0;m<o.length;m++){var b=o[m],T=b.i;
if(T.gT()){var a=b.children.length;k.push(a);y*=a;d.push(b.index)}T}return[k,y,d]};ah.prototype.mt=function(g,o){this.eM=g};
ah.prototype.CR=function(g){var o=this.m1,k=this.cD.c(),y=[this.Wb[this.Xq.c()]],d=[this.lk.c()],b={};
if(k==0){var T=this.Xe.c(),a={},t=this.ak1();if(t.length==0){alert("No layers to export.");return}var j=[this.Hg[1].c(),this.Hg[2].c()];
for(var m=0;m<t.length;m++){var e=t[m],v=o.d[e],L=v.getName();if(a[L]!=null){a[L]++;L+=" "+a[L]}else a[L]=1;
var w=v.oa();v.qj(!0);for(var P=0;P<T.length;P++){if(!T[P])continue;var Q=P+1,x=D.Bt.a5E(o,y,Q,this.eM,e,d,j);
for(var F=0;F<y.length;F++){var E=y[F],f=L.slice(L.startsWith("-e-")?3:0)+(Q==1?"":"@"+Q+"x")+"."+E.toLowerCase();
if(x[F])b[f]=new Uint8Array(x[F])}}v.qj(w)}}else{var w=[];for(var m=0;m<o.d.length;m++)w.push(o.d[m].oa());
var c=this.aij(),M=c[0],t=c[2],n=[];function X(R,e,C,G){if(e==R.length){G.push(C.slice(0));return}var W=R[e];
for(var m=0;m<W;m++){C.push(m);X(R,e+1,C,G);C.pop(m)}}X(M,0,[],n);var u=this.AZ.c().indexOf(!0);for(var I=0;
I<n.length;I++){var r=n[I],J=[];for(var m=0;m<r.length;m++){var U=o.root.St(t[m]);for(var P=0;P<U.children.length;
P++)U.children[P].i.qj(!1);var K=U.children[r[m]].i;J.push(u==2?K.getName():U.i.getName()+r[m]);K.qj(!0)}o.U();
o.m5();var i=(u==0?r:J).join("-")+"."+y[0].toLowerCase();b[i]=new Uint8Array(cp.hu(o,y[0],o.m,o.n,d[0],this.eM))}for(var m=0;
m<o.d.length;m++)o.d[m].qj(w[m]);o.U()}var z=UZIP.encode(b),h=new jB(N.E.s,!0);h.data={P:N.b.hy,data:z,name:"assets.zip"};
this.S(h)};function kn(){dd.call(this,"Export Color Lookup Tables","exlut");this.eM=null;this.m1=null;
var g=Z.t("div","form");g.setAttribute("style","width:20em");this.body.appendChild(g);this.Hg=[new k9("Grid Points",1,256),new k5([12,50],[".CUBE"])];
var o=[16,0];for(var m=0;m<this.Hg.length;m++){var k=this.Hg[m];k.$(o[m]);k.parent=this;k.h(N.E.A,this.ae,this);
g.appendChild(k.e);Z.Dx(g)}this._5=Z.zE(this,g);this.h("closebtn",this.r2,this)}kn.prototype=new dd;
kn.prototype.FD=function(g,o){if(Math.min(g.m,g.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(g.d.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};kn.prototype.r2=function(g){this.m1=null};kn.prototype.mt=function(g,o){this.eM=g};
kn.prototype.I_=function(g,o,k){this.m1=g};kn.prototype.CR=function(){var g=this.m1,o=this.Hg[0].c(),k=[],y=new bd(0,0,g.m,g.n),d=_.Q(o*o*4),b=d.slice(0),T=new bd(g.m-o>>>1,g.n-o>>>1,o,o),a=g.d[0],t=a.buffer,j=a.rect;
a.rect=T;a.buffer=d;for(var e=0;e<o;e++){this.avh(o,e,d);a.U(T);g.U(T);var v=g.PJ();_.g1(v,y,b,T);for(var L=0;
L<o;L++)for(var H=0;H<o;H++){var w=L*o+H<<2;k.push(b[w]/255,b[w+1]/255,b[w+2]/255)}}var P=fG.a2n(k,o,g.name);
ap.save(P,g.name.split(".")[0]+".CUBE");a.buffer=t;a.rect=j;a.U();g.U()};kn.prototype.avh=function(g,o,k){var y=255/(g-1),d=Math.round(o*y);
for(var b=0;b<g;b++)for(var T=0;T<g;T++){var a=b*g+T<<2;k[a]=Math.round(T*y);k[a+1]=Math.round(b*y);
k[a+2]=d;k[a+3]=255}};kn.prototype.f=function(){dd.prototype.f.call(this);for(var m=0;m<this.Hg.length;
m++)this.Hg[m].f();this._5.f()};function fM(){dd.call(this,[1,14],"finfo");this.V6=null;this.dj=null;
this.kn=null;this.Ly=Z.t("div","form scrollable label12");this.Ly.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.Ly);var g=Z.t("div","form");this.body.appendChild(g);this.ph=new cR(null,["Hello"]);
g.appendChild(this.ph.e);this.ajM=new da("Add Parameter",!1,null,!0);g.appendChild(this.ajM.e);this.ajM.h("click",this.lY,this);
this.Rp=new da("=== S A V E ===",!1,null,!0);g.appendChild(this.Rp.e);this.Rp.h("click",this.oT,this);
this.aeh=""}fM.prototype=new dd;fM.prototype.fM=function(g,o){return g<450||o<450?new bJ(0,0):new bJ(150,100)};
fM.prototype.lY=function(g){if(this.kn.length==0)return;var o=this.kn[this.ph.c()],k=this.Cu();k[o]=bu.eP[o][0];
this.bR(k);this.dj[o].e.scrollIntoView();this.dj[o].KA()};fM.prototype.ua=function(g){var o=this.Cu();
delete o[g.currentTarget.a7p];this.bR(o)};fM.prototype.oT=function(g){var o=this.Cu(),k=this.V6,y=!0;
for(var d in k)if(JSON.stringify(k[d])!=JSON.stringify(o[d]))y=!1;for(var d in o)if(JSON.stringify(k[d])!=JSON.stringify(o[d]))y=!1;
if(y)return;var b=new jB(N.E.L,!0);b.G=D.Jn;b.data={P:p.mM,Yn:o};this.S(b);this.V6=o;this.bR(o)};fM.ahK=function(g){function o(d){var b=d.toLowerCase();
return d==b}var k=g.split(":").pop();for(var y=1;y<k.length-1;y++){if(k[y]==k[y].toUpperCase()&&(o(k[y+1])||o(k[y-1]))){k=k.slice(0,y)+" "+k.slice(y);
y++}}return k};fM.prototype.I_=function(g,o){this.V6=g.Vq;this.bR(g.Vq)};fM.prototype.bR=function(g){var o=this.Ly,d=0;
Z.ew(o);var k=this.dj={},y=["tiff","exif","exif:GPS"],b=this.kn=[],T=[];for(var a in bu.eP){var t=fM.ahK(a),j=0,e=15,v=null;
if(g[a]==null){if(bu.eP[a].length!=1||a=="photoshop:Credit"||a=="photoshop:Source"){b.push(a);T.push(t)}continue}for(var m=0;
m<y.length;m++)if(a.startsWith(y[m]))j=m;if(j!=d){Z.Jo(o);d=j}if(a=="tiff:ImageDescription"||a=="dc:Keywords"){e=18.5;
v=3}var L=new ic(t,null,e,v);k[a]=L;var H=g[a];if(H instanceof Array)H=H[1]==0?"---":H[0]+"/"+H[1];var w=new da("\u2716",null,d9.get([5,4]));
o.appendChild(w.e);w.h("click",this.ua,this);w.a7p=a;L.$(H);o.appendChild(L.e);Z.Dx(o);if(a=="exif:GPSLongitude"&&g["exif:GPSLatitude"]){this.aeh=fM.atN(g["exif:GPSLatitude"])+","+fM.atN(g["exif:GPSLongitude"]);
var P=new da("Show on map",!1,null,!0);o.appendChild(P.e);Z.Dx(o);P.h("click",this.awa,this)}}this.ph.O$(T);
this.ph.$(0)};fM.prototype.Cu=function(){var g=this.dj,o=bu.eP,k={};for(var y in o){var d=o[y][0],b=typeof d;
if(d==null||g[y]==null)continue;var T=g[y].c(),a="The value of \""+fM.ahK(y)+"\" must ";if(b=="number"){T=parseFloat(T);
if(isNaN(T)){alert(a+"be a number.");T=d}}else if(d instanceof Array&&d.length==2){if(T.indexOf("/")==-1){alert(a+"be a fraction.");
T=d.slice(0)}else{T=T.split("/").map(parseFloat);if(isNaN(T[0])||isNaN(T[1])){T=d.slice(0)}}}k[y]=T}return k};
fM.atN=function(g){var o=g.length,k=g.slice(0,o-1).split(",").map(parseFloat),y=g.slice(o-1),d=k[0]+k[1]/60+k[2]/3600;
if(y!="N"&&y!="E")d=-d;return d};fM.prototype.awa=function(g){window.open("https://maps.google.com?q="+this.aeh,"Map")};
function cE(){dd.call(this,[11,5],"gradienteditor");this.Yd=null;this.Ud=null;this.Nw=null;this.gr=null;
this.Dg=!1;this.nO=!1;this.VD=null;this.Wt=null;this.Sc=-1;this.c$=-1;this.ML=0;this.v4=this.iZ.bind(this);
this.P6=this.ur.bind(this);this.T=Z.t("canvas");this.iS=this.T.getContext("2d");this.T.setAttribute("style","display:block");
this.ta=null;Z.yP(this.T);Z.Fn(this.T,this.eB.bind(this));this.Pc=Z.t("div","form");this.ce=Z.t("div");
this.zs=Z.t("div","form");this.$a=Z.t("div");this.NU=new cR([12,44],[[15,10,0],[24,6]]);this.NU.h(N.E.A,this.al,this);
this.body.appendChild(this.NU.e);Z.Jo(this.body);var g=this.Pc;this.r3=new k9([19,3,3],0,100,"%");this.r3.h(N.E.A,this.al,this);
this.r3.parent=this;g.appendChild(this.r3.e);Z.Dx(g);this.vm=new bZ([12,0]);g.appendChild(this.vm.e);
this.vC=Z.t("div","bordered padded noalign");g.appendChild(this.vC);this.$C=new k9([12,0],0,100,"%");
this.$C.parent=this;this.$C.h(N.E.A,this.al,this);this.vC.appendChild(this.$C.e);this.BY=new k9([12,40],0,100,"%");
this.BY.parent=this;this.BY.h(N.E.A,this.al,this);this.vC.appendChild(this.BY.e);this.o_=new da([5,4],!1,null,!0);
this.o_.h("click",this.a2z,this);this.vC.appendChild(this.o_.e);g.appendChild(this.ce);this.axy=new bZ([13,0]);
g.appendChild(this.axy.e);this.jP=Z.t("div","bordered padded noalign");g.appendChild(this.jP);this.sR=new cR([12,44],[[12,45],[12,46],[12,47]]);
this.sR.h(N.E.A,this.al,this);this.jP.appendChild(this.sR.e);this.$J=new d6(!0);this.$J.parent=this;
this.$J.h(N.E.A,this.al,this);this.jP.appendChild(this.$J.e);this.OR=new k9([12,40],0,100,"%");this.OR.parent=this;
this.OR.h(N.E.A,this.al,this);this.jP.appendChild(this.OR.e);this.rS=new da([5,4],!1,null,!0);this.rS.h("click",this.atl,this);
this.jP.appendChild(this.rS.e);var g=this.zs;this.Hr=new k9("Roughness",0,100,"%");this.Hr.h(N.E.A,this.al,this);
this.Hr.parent=this;g.appendChild(this.Hr.e);g.appendChild(this.$a);this.aN=new da([25,1,2],!1,null,!0);
this.aN.h("click",this.al,this);g.appendChild(this.aN.e);this._5=Z.zE(this);this.h("closebtn",this.Xa,this)}cE.prototype=new dd;
cE.prototype.Xa=function(g){if(this.Dg)this.gr(this.Yd)};cE.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();this.r3.f();this.vm.f();this.axy.f();this.o_.f();this.rS.f();this.$C.f();this.BY.f();this.sR.f();
this.OR.f();this.aN.f()};cE.prototype.mt=function(g,o){this.Nw=g};cE.prototype.I_=function(g,o){this.Ud=JSON.parse(JSON.stringify(o.M));
this.Yd=JSON.parse(JSON.stringify(o.M));this.VD=this.Wt=null;this.gr=o.Tr;this.Dg=!1;this.nO=o.XC;this.yL();
this.WO()};cE.prototype.CR=function(g){var o=this.Ud;this.gr(o);this.close()};cE.prototype.xg=function(g){return g==dj.aS||g==dj.uo};
cE.prototype.Zl=function(g,o,k,y){if(y.z(dj.aS)||y.z(dj.uo)){if(this.Wt)this.a2z();if(this.VD)this.atl()}};
cE.prototype.a2z=function(g){var o=this.Ud.Trns.v;if(this.Wt==null||o.length==1)return;o.splice(o.indexOf(this.Wt),1);
this.Wt=null;this.yL();this.WO()};cE.prototype.atl=function(g){var o=this.Ud.Clrs.v;if(this.VD==null||o.length==1)return;
o.splice(o.indexOf(this.VD),1);this.VD=null;this.yL();this.WO()};cE.prototype.yL=function(){var g=this.T,o=this.iS,k=Z.V();
g.width=Math.floor(410*k);g.height=Math.floor(70*k);Z.s4(g,g.width,g.height);g.style.marginTop="8px";
this.ta=new bd(0,0,Math.floor(380*k),Math.floor(32*k));this.ta.x=Math.floor((g.width-this.ta.m)/2);this.ta.y=Math.floor((g.height-this.ta.n)/2);
var y=this.ta,d=y.m,b=y.n,T=y.x,a=y.y,t=new bd(0,0,d,b),j=o.getImageData(0,0,d,b),e=new Uint8Array(j.data.buffer);
_.sA(e,d,b,8);var v=_.Q(d*b*4);_.M.AE(this.Ud,v,t,[1/d,0,0,1/b],d/2,b/2,!1,0,this.Nw.p2,this.Nw.Pp);
_.l.I3("norm",v,y,e,y,y,1);o.clearRect(0,0,g.width,g.height);o.putImageData(j,T,a);var L=this.Ud;if(L.Clrs){var H=L.Trns.v,w=L.Clrs.v,P=_.M._T(L,this.Nw.p2,this.Nw.Pp),Q=Math.round(6*Z.V()),x=Math.round(14*Z.V()),F=this.Wt?this.Wt.v:null,E=this.VD?this.VD.v:null;
for(var m=0;m<H.length;m++){var f=H[m].v,c=Math.round(255-255*f.Opct.v.val/100);if((f==F||H[m-1]&&H[m-1].v==F||m==this.c$)&&m!=0){o.fillStyle="#000000";
o.fillRect(T-3+d*(H[m-1].v.Lctn.v+(f.Lctn.v-H[m-1].v.Lctn.v)*f.Mdpn.v/100)/4096,a-6-2,6,6)}if(f==F){o.fillStyle="#ffffff";
o.fillRect(T-Q+d*(f.Lctn.v/4096)-2,a-2-x-2,2*Q+4,x+4)}o.fillStyle="rgb("+c+","+c+","+c+")";o.fillRect(T-Q+d*(f.Lctn.v/4096),a-2-x,2*Q,x)}for(var m=0;
m<w.length;m++){var M=w[m].v,n=P[0][m][0];if((M==E||w[m-1]&&w[m-1].v==E||m==this.Sc)&&m!=0){o.fillStyle="#000000";
o.fillRect(T-3+d*(w[m-1].v.Lctn.v+(M.Lctn.v-w[m-1].v.Lctn.v)*M.Mdpn.v/100)/4096,a+b+2,6,6)}if(M==E){o.fillStyle="#ffffff";
o.fillRect(T-Q+d*(M.Lctn.v/4096)-2,a+b+2-2,2*Q+4,x+4)}o.fillStyle="rgb("+Math.round(n.o)+", "+Math.round(n.C)+","+Math.round(n.k)+")";
o.fillRect(T-Q+d*(M.Lctn.v/4096),a+b+2,2*Q,x)}}if(this.nO){this.gr(this.Ud);this.Dg=!0}};cE.prototype.WO=function(){var g=this.Ud,o=g.Clrs?0:1;
this.NU.$(o);if(Z.Hd(this.Pc))this.body.removeChild(this.Pc);if(Z.Hd(this.zs))this.body.removeChild(this.zs);
(o==0?this.ce:this.$a).appendChild(this.T);if(o==0){this.body.appendChild(this.Pc);this.r3.$(Math.round(100*g.Intr.v/4096));
var k=g.Trns.v,y=g.Clrs.v,d=this.Wt!=null,b=this.c$!=-1;this.$C._C(d);this.BY._C(d||b);this.o_._C(d);
if(d){this.vC.setAttribute("style","");var T=this.Wt.v;this.BY.$(Math.round(100*T.Lctn.v/4096));this.$C.$(T.Opct.v.val)}if(b)this.BY.$(k[this.c$].v.Mdpn.v);
var d=this.VD!=null,b=this.Sc!=-1;this.sR._C(d);this.$J._C(d);this.OR._C(d||b);this.rS._C(d);if(d){this.jP.setAttribute("style","");
var a=this.VD.v;this.OR.$(Math.round(100*a.Lctn.v/4096));var t=a.Type.v.Clry;this.sR.$(["FrgC","BckC","UsrS"].indexOf(t));
if(t=="FrgC")this.$J.Ea(this.Nw.p2);if(t=="BckC")this.$J.Ea(this.Nw.Pp);if(t=="UsrS")this.$J.$(a.Clr.v)}if(b)this.OR.$(y[this.Sc].v.Mdpn.v)}else{this.body.appendChild(this.zs);
this.Hr.$(Math.round(100*g.Smth.v/4096))}this.body.appendChild(this._5.e)};cE.prototype.al=function(g){var o=this.Ud,k=o.Clrs?0:1;
if(g.target==this.NU){var y=k==0?JSON.parse(iZ.R_.aqd).v:jf.J0("grdm").Grad.v;this.Ud=y;this.WO();this.yL();
return}if(k==0){o.Intr.v=Math.round(4096*this.r3.c()/100);var d=o.Trns.v,b=o.Clrs.v;if(this.Wt!=null){var T=this.Wt.v;
T.Lctn.v=Math.round(4096*(this.BY.c()/100));T.Opct.v.val=this.$C.c()}if(this.VD!=null){var a=this.VD.v;
a.Lctn.v=Math.round(4096*(this.OR.c()/100));if(g.target==this.$J)this.sR.$(2);var t=this.sR.c();a.Type.v.Clry=["FrgC","BckC","UsrS"][t];
if(t==2)a.Clr={t:"Objc",v:this.$J.c()};else if(a.Clr)delete a.Clr}if(this.c$!=-1)d[this.c$].v.Mdpn.v=this.BY.c();
if(this.Sc!=-1)b[this.Sc].v.Mdpn.v=this.OR.c()}else{o.Smth.v=Math.round(4096*this.Hr.c()/100);if(g.target==this.aN)o.RndS.v=Math.floor(Math.random()*4294967295)}this.yL()};
cE.prototype.eB=function(g){var o=Z.YD(g,this.T),k=this.ta,y=(o.x*Z.V()-k.x)/k.m,d=(o.y*Z.V()-k.y)/k.n,b=this.Ud.Trns.v,T=this.Ud.Clrs.v,a=null,t=null,j=-1,e=-1;
if(d<1)for(var m=0;m<b.length;m++){var v=b[m].v;if(Math.abs(v.Lctn.v/4096-y)<.02)a=b[m];if(m>0)if(Math.abs((b[m-1].v.Lctn.v+(v.Lctn.v-b[m-1].v.Lctn.v)*v.Mdpn.v/100)/4096-y)<.01)j=m}if(d>0)for(var m=0;
m<T.length;m++){var L=T[m].v;if(Math.abs(L.Lctn.v/4096-y)<.02)t=T[m];if(m>0)if(Math.abs((T[m-1].v.Lctn.v+(L.Lctn.v-T[m-1].v.Lctn.v)*L.Mdpn.v/100)/4096-y)<.01)e=m}if(t==null&&a==null&&j==-1&&e==-1){if(d<0){var v={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
v.v.Lctn.v=Math.round(y*4096);b.push(v);b.sort(this.X8);a=v}if(d>1){var T=this.Ud.Clrs.v,H=_.M._T(this.Ud,this.Nw.p2,this.Nw.Pp),w=_.M.Xu(this.Ud,H,y),L={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:_.M.UF({o:w&255,C:w>>8&255,k:w>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
L.v.Lctn.v=Math.round(y*4096);T.push(L);T.sort(this.X8);t=L}}if(t!=null)e=-1;if(a!=null)j=-1;if(t!=null||a!=null||j>-1||e>-1){this.Wt=a;
this.VD=t;this.c$=j;this.Sc=e;this.WO();this.yL();Z.a$(window,this.v4);Z.hO(window,this.P6)}};cE.prototype.iZ=function(g){var o=Z.YD(g,this.T),k=this.ta,y=(o.x*Z.V()-k.x)/k.m,d=(o.y*Z.V()-k.y)/k.n;
y=Math.max(0,Math.min(1,y));var b=this.Ud.Trns.v,T=this.Ud.Clrs.v;if(this.Wt!=null){var a=this.Wt.v;
a.Lctn.v=Math.round(4096*y);var t=b.indexOf(this.Wt);if(t!=-1&&d<-1&&b.length>1)b.splice(t,1);if(t==-1&&d>-1)b.push(this.Wt);
b.sort(this.X8)}if(this.VD!=null){var j=this.VD.v;j.Lctn.v=Math.round(4096*y);var e=T.indexOf(this.VD);
if(e!=-1&&d>2&&T.length>1)T.splice(e,1);if(e==-1&&d<2)T.push(this.VD);T.sort(this.X8)}if(this.c$>-1){var a=b[this.c$].v;
a.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(y*4096-b[this.c$-1].v.Lctn.v)/(a.Lctn.v-b[this.c$-1].v.Lctn.v))))}if(this.Sc>-1){var j=T[this.Sc].v;
j.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(y*4096-T[this.Sc-1].v.Lctn.v)/(j.Lctn.v-T[this.Sc-1].v.Lctn.v))))}if(this.Wt!=null||this.VD!=null||this.c$>-1||this.Sc>-1){this.WO();
this.yL()}};cE.prototype.ur=function(g){Z.DO(window,this.v4);Z.ZV(window,this.P6);if(Date.now()-this.ML<300){if(this.Sc!=-1||this.c$!=-1){var o=(this.Sc!=-1?this.Ud.Clrs.v[this.Sc]:this.Ud.Trns.v[this.c$]).v;
o.Mdpn.v=50;this.WO();this.yL()}else if(this.VD!=null)this.$J.Gf()}this.ML=Date.now()};cE.prototype.X8=function(g,o){return g.v.Lctn.v-o.v.Lctn.v};
function am(){dd.call(this,[11,10],"isize");this.Ly=Z.t("div","form");this.Ly.setAttribute("style","width:20em");
this.body.appendChild(this.Ly);this.DY=new ec(!0,!0,null,null,!0);this.Ly.appendChild(this.DY.e);this.hs=new dX([12,25,3]);
this.hs.$(!0);this.Ly.appendChild(this.hs.e);this.hs.h(N.E.A,this.amf,this);this.s$=new cR([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.s$.$(1);this.Ly.appendChild(this.s$.e);this._5=Z.zE(this,this.body)}am.prototype=new dd;am.prototype.FD=function(g,o){return g!=null};
am.prototype.tt=function(){return!0};am.prototype.amf=function(g){var o=this.hs.c(),k=this.DY,y=this.s$;
if(o)y.gM();else y.jK();k.ayV(o)};am.prototype.f=function(){dd.prototype.f.call(this);this.hs.f();this._5.f();
this.s$.f();this.DY.f()};am.prototype.CR=function(g){this.close();var o=this.DY.c(),k=o.x,y=o.y,d=this.s$.c();
if(!this.hs.c())d=null;var b=new jB(N.E.gp,!0);b.data=D.Wz.a37(k,y,this.DY.A9(),d);this.S(b)};am.prototype.I_=function(g,o){this.DY.$(new bJ(g.m,g.n),g.Qb);
this.DY.KA()};function ht(){dd.call(this,"Import RAW","importraw");var g=Z.t("div","flexrow"),o=Z.t("div");
o.setAttribute("style","margin-bottom: 1em");this.body.appendChild(g);this.body.appendChild(o);var k=Z.t("div","form");
k.setAttribute("style","width:18em");g.appendChild(k);var y=Z.t("div","form");y.setAttribute("style","width:15em");
g.appendChild(y);this.l1=null;this.Rj=null;this.HO=null;this.Oo=null;this.a1O=[];var d=[];for(var m=0;
m<ht.rL.length;m++)d.push(ht.rL[m]+" Bits");var b=this.dG=[new ec(!0,null,null,!0),new k9([12,72],1,8),new dX("Last one is Transparency"),new k5([12,34],d),new k5("Byte Order",["12-34","34-12"]),new cR("Guesses",[])];
for(var m=0;m<b.length;m++){var T=b[m];T.parent=this;T.h(N.E.A,m==5?this.ary:this.Xm,this);var a=m==0?k:m==5?o:y;
a.appendChild(T.e)}this.T=Z.t("canvas");this.iS=this.T.getContext("2d");this.body.appendChild(this.T);
this._5=Z.zE(this,this.body)}ht.prototype=new dd;ht.prototype.f=function(){dd.prototype.f.call(this);
var g=this.dG;this._5.f();for(var m=0;m<g.length;m++)g[m].f()};ht.prototype.CR=function(g){this.close();
var o=this.dG[0].c(),k=cp.kj(this.Rj,[{data:this.HO,MR:new bd(0,0,o.x,o.y)}]);if(this.Oo)k.Tm=this.Oo;
var y=new jB(N.E.s,!0);y.data={P:!0?N.b.I8:N.b.ak,po:k};this.S(y)};ht.rL=[8,16];ht.prototype.I_=function(g,o){this.l1=new Uint8Array(o.wC);
this.Rj=o.iV;var k=this.l1.length,y=[1,3,4],d=0,b=0,T=1,a=1,t=this.a1O=[],j=Math.round(Math.sqrt(k)*2);
j=Math.max(j,4e3);for(var e=0;e<3;e++){for(var v=0;v<2;v++){var L=ht.rL[v],H=y[e],w=H*L,P=Math.round(k*8/w);
if(P!=k*8/w)continue;for(var Q=0;Q<=j;Q++)for(var x=0;x<=j;x++)if(Q*x==P){var F=0;if(Q==x)F+=64;if(Math.round(Q/100)==Q/100&&Math.round(x/100)==x/100)F+=32;
if(Math.round(Q/10)==Q/10&&Math.round(x/10)==x/10)F+=16;if(Math.round(Q/2)==Q/2&&Math.round(x/2)==x/2)F+=8;
t.push([Q,x,H,L,F])}}}var E=function(n,X){if(X[4]!=n[4])return X[4]-n[4];var u=Math.max(n[0],n[1])/Math.min(n[0],n[1]),I=Math.max(X[0],X[1])/Math.min(X[0],X[1]);
if(u!=I)return u-I;return X[0]-n[0]};t.sort(E);var f=this.dG,c=[];for(var m=0;m<t.length;m++){var M=t[m];
c.push(M[0]+" x "+M[1]+", "+M[2]+"ch, "+M[3]+"-bit")}f[5].O$(c);f[5].$(0);this.ary(null)};ht.prototype.ary=function(g){var o=this.dG,k=this.a1O[this.dG[5].c()];
o[0].$(new bJ(k[0],k[1]),72);o[1].$(k[2]);o[3].$(ht.rL.indexOf(k[3]));this.Xm()};ht.prototype.Xm=function(g){var o=this.dG,k=o[0].c(),y=k.x,d=k.y,b=ht.rL[o[3].c()],T=this.l1;
if(b==16&&o[4].c()==1){T=T.slice(0);for(var m=0;m<T.length;m+=2){var a=T[m];T[m]=T[m+1];T[m+1]=a}}var t=this.HO=this.pO(T,y,d,o[1].c(),b,o[2].c()),j=this.T,e=this.iS,v=[t,new bd(0,0,y,d)];
_._h(v);for(var m=0;m<v.length;m+=2)if(v[m+1].n<300){t=v[m];y=v[m+1].m;d=v[m+1].n;break}j.width=y;j.height=d;
Z.s4(j,y,d);var L=new ImageData(new Uint8ClampedArray(t.buffer),y,d);e.putImageData(L,0,0)};ht.prototype.pO=function(g,o,k,y,d,b){this.Oo=null;
var T=[],a=o*k;for(var t=0;t<y;t++){var j=_.Q(a);T.push(j);if(d==8)for(var m=0;m<a;m++)j[m]=g[m*y+t];
else if(d==16)for(var m=0;m<a;m++)j[m]=Math.round((g[(m*y+t)*2]<<8|g[(m*y+t)*2+1])*(255/65535))}var e=_.Q(a*4);
new Uint32Array(e.buffer).fill(4278190080);if(b){_.e_(T.pop(),e,3);y--}if(y==0){}else if(y==1)_.yr(T[0],e);
else{_.e_(T[0],e,0);_.e_(T[1],e,1);if(y>2){_.e_(T[2],e,2);if(y>3){this.Oo=[];for(var m=3;m<y;m++){var v=new p.GE;
v.name="Alpha "+(m-2);v.rect=new bd(0,0,o,k);v.channel=T[m];this.Oo.push(v)}}}}return e};function bA(g,o,k){fR.call(this);
this.e=Z.t("div","");this.Kt=g;this.Iy=null;this.JF=o==null?!1:o;this.Ia=null;this.bv=k;this.GT=[];this.oM=[];
this.XR=[];this.fK=[];this.lh=0;this.Iy=this.a6K(bA.fK[g]);this.Iq();this.wv=null;this.akO;this.aln}bA.prototype=new fR;
bA.prototype.Hu=function(g,o,k,y,d){this.wv=d;this.akO=JSON.parse(JSON.stringify(this.Ia));if(this.Iy.lagl)this.aln=this.Iy.lagl.c()[0]};
bA.prototype.Sa=function(g,o,k,y,d){var b=this.wv,T=this.Kt,a=this.akO;if(b==null)return;var t=(d.x-b.x)/g.u.N,j=(d.y-b.y)/g.u.N;
if(T=="GrFl"){var e=JSON.parse(JSON.stringify(a.Ofst.v));e.Hrzn.v.val+=t*.5;e.Vrtc.v.val+=j*.5;this.Iy.Ofst.$(e,!0)}if(T=="patternFill"){var e=JSON.parse(JSON.stringify(a.phase.v));
e.Hrzn.v+=t;e.Vrtc.v+=j;this.Iy.phase.$(e,!0)}if(T=="DrSh"||T=="IrSh"||T=="ChFX"){var v=a.Dstn.v.val,L=this.aln*Math.PI/180,H=-Math.cos(L)*v+t,w=Math.sin(L)*v+j;
this.Iy.Dstn.$(Math.sqrt(H*H+w*w),!0);this.Iy.lagl.$([Math.atan2(w,-H)*180/Math.PI],!0)}};bA.prototype.b9=function(g,o,k,y,d){this.wv=null};
bA.prototype.akB=function(){for(var m=0;m<this.fK.length;m++){Z.Iu(this.fK[m],"selected");if(this.XR[m]instanceof dX)this.XR[m].$(!1)}};
bA.prototype.ayy=function(g){var o=this.a7d.bind(this);for(var m=0;m<this.XR.length;m++){var k=Z.t("div","listitem");
this.fK.push(k);if(m>0)k.textContent="\u2003";k.appendChild(this.XR[m].e);if(iZ.a2O.indexOf(this.Kt)!=-1){var y=new da("+");
y.sG();y.e.style.float="right";k.appendChild(y.e);var d=new da("\u2B0D");d.sG();d.e.style.float="right";
d.e.style["margin-right"]="2px";k.appendChild(d.e)}k.addEventListener("click",o,!1);g.appendChild(k)}};
bA.he=function(g,o){var k=o.getBoundingClientRect();return(g.clientY-k.top)/k.height};bA.prototype.a7d=function(g){var o=g.target.tagName.toLowerCase();
if(o=="input"){return}if(o=="button"){var k=new jB(N.E.L,!0),y=g.target.textContent=="+",d=y?0:bA.he(g,g.target)<.5?-1:1;
if(y)k.data={P:"st_dupsingle",i:this.parent.data.i,bi:this.bv};else k.data={P:"st_movsingle",i:this.parent.data.i,bi:this.bv,axL:d};
k.G=D.sp;k.Yi=!0;this.S(k);k=new jB("redrawall",!0);k.data={axL:d};this.S(k);return}Z.GK(g);this.qe();
this.lh=this.fK.indexOf(g.currentTarget);this.S(new jB("showme"))};bA.prototype.qe=function(){if(this.Iy.enab&&this.Iy.enab.c()==!1)this.Xi({P5:"enab",Z:!0})};
bA.prototype.a9D=function(){var g=this.fK[this.lh];if(g)Z.O9(g,"selected");return this.oM[this.lh]};
bA.prototype.a6K=function(g){var o={};for(var m=0;m<g.length;m++){var k=g[m],y=null;if(k=="----")y={e:Z.t("hr")};
if(k=="\n")y={e:Z.t("br")};if(k=="blOptions")y=new bZ([14,10]);if(k=="brst")y=new jZ([12,72],["R","G","B"]);
if(k=="knko")y=new cR("Knockout",[[13,1,0],"Shallow","Deep"]);if(k=="enab")y=new dX(iZ.names[iZ.order.indexOf(this.Kt)]);
if(k=="lrMd"||k=="Md")y=new cR([12,19,0],h8.q5,h8.o0);if(k=="Opct")y=new bk([12,0],0,100,"%");if(k=="iOpa")y=new bk([12,26],0,100,"%");
if(k=="blIf")y=new bR;if(k=="ShdN")y=new bk([12,68],0,100,"%");if(k=="lagl"||k=="Angl")y=new ek([12,15],this.Kt=="ebbl");
if(k=="uglg")y=new dX([12,27]);if(k=="Dstn")y=new bk([12,28],0,200,"px");if(k=="Ckmt")y=new bk([12,29],0,100,"%");
if(k=="blur")y=new bk([12,14,0],0,200,"px");if(k=="TrnS"||k=="MpgS")y=new iM([12,21]);if(k=="Nose")y=new bk([12,30],0,100,"%");
if(k=="layerConceals")y=new dX([12,31]);if(k=="AntA"||k=="antialiasGloss")y=new dX([12,25,1]);if(k=="GlwT")y=new cR([12,32],iZ.cE.names);
if(k=="glwS")y=new cR([12,70],iZ.cE.aom);if(k=="Inpr")y=new bk([12,12],1,100,"%");if(k=="bvlS")y=new cR([12,22],iZ.PN.style);
if(k=="bvlT")y=new cR([12,32],iZ.PN.afo);if(k=="bvlD")y=new cR(null,iZ.PN.dir);if(k=="srgR")y=new bk([12,34],0,1e3,"%");
if(k=="Sftn")y=new bk([12,35],0,20,"px");if(k=="Lald")y=o.lagl;if(k=="hglM"||k=="sdwM")y=new cR([12,36],h8.q5,h8.o0);
if(k=="hglC"||k=="sdwC")y=new d6;if(k=="hglO"||k=="sdwO")y=new bk([12,0],0,100,"%");if(k=="Invr"||k=="InvT")y=new dX([4,11]);
if(k=="Sz")y=new bk([12,14,0],1,200,"px");if(k=="Styl")y=new cR([12,40],iZ.stroke.names);if(k=="PntT")y=new cR([12,66],iZ.stroke.asO);
if(k=="Clr")y=new d6(!0);if(k=="Grad"){y=new gw(!0,[12,37],!0);y.$(JSON.parse(iZ.R_.afE).v)}if(k=="Rvrs")y=new dX([12,23,0]);
if(k=="Dthr")y=new dX([12,23,3]);if(k=="Type")y=new cR([12,22],iZ.M.names.slice(0,this.Kt=="FrFX"?6:5));
if(k=="Ptrn")y=new jC([12,62]);if(k=="Scl")y=new bk([12,38],5,500,"%",0,!0);if(k=="Algn")y=new dX([12,39]);
if(k=="Ofst")y=new b4(!0);if(k=="phase")y=new b4(!1);if(k=="useShape")y=new dX([12,21]);if(k=="useTexture")y=new dX([12,67]);
if(k=="textureDepth")y=new bk([12,34],-300,300,"%");var d=k=="----"||k=="\n"?k+m:k;if(y!=null)o[d]=y}return o};
bA.prototype.ael=function(g){var o=this.oM[this.lh];for(var m=0;m<g.length;m++){var k=this.Iy[g[m]];
if(k&&o.contains(k.e))o.removeChild(k.e)}};bA.prototype.aoP=function(g){var o=this.oM[this.lh];for(var m=0;
m<g.length;m++){var k=this.Iy[g[m]];if(k&&!o.contains(k.e))o.appendChild(k.e)}};bA.prototype.mt=function(g,o){if(this.Iy==null)return;
var k=o==er.a_;if(this.Iy.Grad){this.Iy.Grad.uy(g.p2,g.Pp);if(k||o==er.wp||o==er.aB)this.Iy.Grad.cz(g.ee)}if(this.Iy.Ptrn){if(k||o==er.EB)this.Iy.Ptrn.cz(g.A6)}if(this.Iy.TrnS){if(k||o==er.L5)this.Iy.TrnS.cz(g.I6)}if(this.Iy.MpgS){if(k||o==er.L5)this.Iy.MpgS.cz(g.I6)}};
bA.prototype.f=function(){for(var m=0;m<this.GT.length;m++)this.GT[m].f();for(var g in this.Iy)if(this.Iy[g]instanceof fR)this.Iy[g].f()};
bA.prototype.Iq=function(){for(var g in this.Iy){var o=this.Iy[g];o.parent=this;if(o instanceof fR)o.h(N.E.A,this.aa0,this);
if(this.oM.length==0||g=="useShape"||g=="useTexture"){var k=new bZ(o.a6V()),y=Z.t("div","bordered padded");
if(this.JF==!1){y.appendChild(k.e);y.appendChild(Z.t("hr",""))}this.GT.push(k);this.oM.push(y);this.XR.push(o)}else this.oM[this.oM.length-1].appendChild(o.e)}};
bA.prototype.update=function(g,o){if(this.Iy==null)return;this.Ia=JSON.parse(JSON.stringify(o));for(var k in o){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(k)!=-1)this.Iy[k].$(o[k].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(k)!=-1){this.Iy[k].$(o[k].v,g)}if(["Md","hglM","sdwM"].indexOf(k)!=-1)this.Iy[k].$(h8.Kt.indexOf(o[k].v.BlnM));
if(k=="lrMd"){var y=(o.gT?[[15,10,27]]:[]).concat(h8.q5),d=(o.gT?[1]:[]).concat(h8.o0);this.Iy[k].O$(y,d);
this.Iy[k].$(o[k].v)}if(k=="Angl")this.Iy[k].$([o[k].v.val]);if(k=="lagl"){var b=o.uglg&&o.uglg.v?g.rl():o.lagl.v.val;
this.Iy[k].$([b])}if(k=="Lald"){var b=o.uglg&&o.uglg.v?g.if():o.Lald.v.val;this.Iy[k].$([null,b])}if(k=="Type")this.Iy[k].$(iZ.M.types.indexOf(o.Type.v.GrdT));
if(k=="Styl")this.Iy[k].$(iZ.stroke.types.indexOf(o.Styl.v.FStl));if(k=="PntT"){var T=iZ.stroke.B5.indexOf(o.PntT.v.FrFl);
this.Iy[k].$(T);if(!this.JF){this.ael(iZ.ho.concat(iZ.GY.concat(iZ.eQ)));this.aoP([iZ.ho,iZ.GY,iZ.eQ][T])}}if(k=="GlwT")this.Iy[k].$(iZ.cE.types.indexOf(o.GlwT.v.BETE));
if(k=="glwS")this.Iy[k].$(iZ.cE.amY.indexOf(o.glwS.v.IGSr));if(k=="bvlS")this.Iy[k].$(iZ.PN.types.indexOf(o.bvlS.v.BESl));
if(k=="bvlT")this.Iy[k].$(iZ.PN.adH.indexOf(o.bvlT.v.bvlT));if(k=="bvlD")this.Iy[k].$(["In","Out"].indexOf(o.bvlD.v.BESs))}};
bA.prototype.aa0=function(g){for(var o in this.Iy){if(this.Iy[o]!=g.target)continue;var k=null,y=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(o)!=-1)k={type:"#Prc",val:g.target.c()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(o)!=-1)k={type:"#Pxl",val:g.target.c()};if(["Angl","lagl"].indexOf(o)!=-1)k={type:"#Ang",val:g.target.c()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(o)!=-1)k=g.target.c();
if(["Md","hglM","sdwM"].indexOf(o)!=-1)k={BlnM:h8.Kt[g.target.c()]};if(o=="uglg"){k=g.target.c();y=!0}if(o=="PntT"){k={FrFl:iZ.stroke.B5[g.target.c()]};
y=!0}if(o=="Lald")k={type:"#Ang",val:g.target.c()[1]};if(o=="Type")k={GrdT:iZ.M.types[g.target.c()]};
if(o=="Styl")k={FStl:iZ.stroke.types[g.target.c()]};if(o=="GlwT")k={BETE:iZ.cE.types[g.target.c()]};
if(o=="glwS")k={IGSr:iZ.cE.amY[g.target.c()]};if(o=="bvlS")k={BESl:iZ.PN.types[g.target.c()]};if(o=="bvlT")k={bvlT:iZ.PN.adH[g.target.c()]};
if(o=="bvlD")k={BESs:["In","Out"][g.target.c()]};this.Xi({P5:o,Z:k});if(y){if(this.JF)this.update(null,this.Ia);
else{var d=this.parent,b=d.po,T=this.bv,a=b.d[d.data.i].add.lmfx[iZ.pW[T[0]]].v[T[1]].v;this.update(b,a)}}}};
bA.prototype.Xi=function(g){if(this.Ia&&this.Ia[g.P5])this.Ia[g.P5].v=g.Z;if(this.JF){this.S(new jB(N.E.A))}else{g.P="changeprop";
g.i=this.parent.data.i;g.Sp=this.bv;var o=new jB(N.E.L,!0);o.data=g;o.G=D.sp;o.Yi=!0;this.S(o);this.S(new jB("afterchange",!0))}};
bA.prototype.c=function(){return JSON.parse(JSON.stringify(this.Ia))};bA.fK={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(iZ.ho),GrFl:["enab","Md","Opct"].concat(iZ.GY),patternFill:["enab","Md","Opct"].concat(iZ.eQ),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(iZ.ho.concat(iZ.GY.concat(iZ.eQ)))};
function jD(){dd.call(this,[11,6],"layerstyle");this.a1P=-1;this.data={};this.po=null;this.eM=null;this.C3=[];
this.fS=[];Z.O9(this.body,"flexrow");this.yc=Z.t("div","bordered");this.yc.setAttribute("style","min-width:13em;");
this.body.appendChild(this.yc);this.hV=Z.t("div","");this.hV.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.hV);this.L1=Z.t("div","form");this.L1.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.L1);this._5=Z.zE(this,this.L1);this.MH=new da([12,87],!0,null,!0);this.MH.h("click",this.ahR,this);
this.L1.appendChild(this.MH.e);this.lT=new f_;this.lT.parent=this;this.lT.h(N.E.A,this.a36,this);this.L1.appendChild(this.lT.e);
this.h("closebtn",this.Xa,this);this.h("redrawall",this.a07,this)}jD.prototype=new dd;jD.prototype.tt=function(){return!0};
jD.prototype.xI=function(){return!0};jD.prototype.Hu=function(g,o,k,y,d){var b=this.I$();if(b)b.Hu(g,o,k,y,d)};
jD.prototype.Sa=function(g,o,k,y,d){var b=this.I$();if(b)b.Sa(g,o,k,y,d)};jD.prototype.b9=function(g,o,k,y,d){var b=this.I$();
if(b)b.b9(g,o,k,y,d)};jD.prototype.I$=function(g){if(g==null)g=this.data.index;return g==null?null:g==0?this.C3[0]:this.fS[g[0]][g[1]]};
jD.prototype.a36=function(g){var o=this.lT.c();this.Xi({P:"setstl",Z:o.GO});this.a07(null)};jD.prototype.ahR=function(g){var o=this.po,k=this.data.i;
if(k==null)k=o.g[0];var y=this.po.d[k],d=bs.awy(y),b=new jB(N.E.s,!0);b.data={P:N.b.pB,Fd:"add",Q6:er.fB,BH:[JSON.parse(JSON.stringify(d))]};
this.S(b)};jD.prototype.abN=function(g){this.data.index=g.currentTarget.bv;this.k$(g.currentTarget.bv)};
jD.prototype.a07=function(g){this.I_(this.po,this.data)};jD.prototype.k$=function(g,o){Z.ew(this.hV);
for(var m=0;m<this.C3.length;m++)this.C3[m].akB();var k=this.I$(g);this.hV.appendChild(k.a9D());if(o)k.qe();
var y=this.po;if(y){var d=y.d[this.data.i];this.C3[0].update(y,D.Wn.aO(y,d));var b=d.add.lmfx;if(b==null)return;
for(var m=0;m<iZ.order.length;m++){var T=b[iZ.pW[m]].v;for(var a=0;a<T.length;a++)this.fS[m][a].update(y,T[a].v)}}if(o)k.qe()};
jD.prototype.f=function(){dd.prototype.f.call(this);this.MH.f();this.lT.f();this._5.f();for(var m=0;
m<this.C3.length;m++)this.C3[m].f()};jD.prototype.I_=function(g,o){var k=o.i==null;this.data.i=o.i;this.data.index=o.index;
o=this.data;this.po=g;if(k)o.i=g.g.length==0?g.d.length-1:g.g[0];Z.ew(this.yc);var y=g.d[o.i].add.lmfx;
this.CN();this.C3=[new bA("bops",!1,0)];this.fS=[];for(var m=0;m<iZ.order.length;m++){this.fS.push([]);
var d=y==null?[]:y[iZ.pW[m]].v;for(var b=0;b<d.length;b++){var T=new bA(iZ.order[m],!1,[m,b]);this.C3.push(T);
this.fS[m].push(T)}if(d.length==0){var T=new bA(iZ.order[m],!1,[m,0]);this.C3.push(T);this.fS[m].push(T)}}this.f();
this.aiE(this.eM,er.a_);for(var m=0;m<this.C3.length;m++){this.C3[m].parent=this;this.C3[m].ayy(this.yc);
this.C3[m].h("showme",this.abN,this)}if(o.index==null||o.index==0||!k&&y[iZ.pW[o.index[0]]].v.length==0){this.k$(0)}else this.k$(o.index,k);
this.h("afterchange",this.CN,this)};jD.prototype.CN=function(g){var o=this.po,k=this.data.i;if(k==null)k=o.g[0];
var y=this.po.d[k],d=bs.awy(y);this.lT.$(d,o.add.Patt?o.add.Patt:[],o.rl(),o.if())};jD.prototype.mt=function(g,o){this.eM=g;
this.aiE(g,o);if(o==er.fB||o==er.a_){this.lT.cz([g.oz,g.A6])}if(o==er.Yh){}};jD.prototype.aiE=function(g,o){for(var m=0;
m<this.C3.length;m++)this.C3[m].mt(g,o)};jD.prototype.Xa=function(g){this.Xi({P:"cancel"})};jD.prototype.CR=function(g){this.Xi({P:"confirm"});
this.close()};jD.prototype.Xi=function(g){g.i=this.data.i;var o=new jB(N.E.L,!0);o.data=g;o.G=D.sp;o.Yi=!0;
this.S(o);this.CN()};jD.abo=function(){var g=function(o){if(o==null||o.g.length==0)return{r:!1};var k=o.d[o.g[0]];
return{r:k.add.lmfx!=null}};return{name:[11,6],_r:!0,sub:[{name:[5,1],r:g},{name:[5,2]},{name:[2,2],r:g}]}};
jD.auO=function(){return{sub:[{W:N.E.L,G:D.sp,R:{P:"st_copy"}},{W:N.E.L,G:D.sp,R:{P:"st_paste"}},{W:N.E.L,G:D.sp,R:{P:"st_clear"}}]}};
jD.tQ=function(g){var o=[{name:[14,10],_r:!0}];for(var m=0;m<iZ.names.length;m++)o.push({name:iZ.names[m]});
if(g){o[o.length-1]._r=!0;o.push(jD.abo());o.push({name:"Scale Effects",r:function(k){return{r:k!=null&&k.g.length!=0&&k.d[k.g[0]].Ff()}}});
o.push({name:["VAR0 VAR1",[12,49],[9,1]],r:function(k){return{r:k!=null&&k.g.length!=0&&k.d[k.g[0]].add.lmfx!=null}}})}return o};
jD.uj=function(g){var o=[{W:N.E.s,R:{P:N.b.xp,Pv:"layerstyle"}}];for(var m=0;m<iZ.names.length;m++)o.push({W:N.E.s,R:{P:N.b.xp,Pv:"layerstyle",index:[m,0]}});
if(g){o.push(jD.auO());o.push({W:N.E.s,R:{P:N.b.xp,Pv:"scaleeffects",Ad:100,PV:{W:N.E.L,G:D.sp,R:{P:"scaleeffects"}}}});
var k={classID:"Mk",null:c_.lF("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
o.push({W:N.E.gp,R:{J5:"make",fV:k}})}return o};jD.amF=function(g){var o=[];if(g)o.push({name:[6,48,0,0],Hk:!0},{name:[6,48,0,1],Hk:!0},{name:[6,48,0,2],Hk:!0,_r:!0});
for(var k in aj.names)o.push({name:aj.names[k],_r:aj.amj.indexOf(k)!=-1,Hk:eJ[k]!=null});return o};jD.Gm=function(g){var o=[];
if(g){o.push({W:N.E.L,G:D.XV,R:{P:"newfill",Wj:0}});for(var m=1;m<3;m++)o.push({W:N.E.gp,R:D.Y7.t3(m)})}for(var k in aj.names){var y=jf.J0(k);
if(y==null)y={};for(var d in aj.$z)if(aj.$z[d]==k)y.classID=d;var b={J5:"make",fV:{classID:"Mk",null:c_.lF("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:y}}}}};
o.push({W:N.E.gp,R:b})}return o};function dL(){dd.call(this,"Merge Channels","mergechannels");this.Z6=null;
var g=Z.t("div","form");this.body.appendChild(g);this.dG=[];for(var m=0;m<3;m++){var o=new cR(aj.rH[m],[]);
this.dG.push(o);g.appendChild(o.e);Z.Dx(g)}this._5=Z.zE(this,g)}dL.prototype=new dd;dL.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();for(var m=0;m<3;m++)this.dG[m].f()};dL.prototype.I_=function(g,o,k,y){this.Z6=k;var d=[];
for(var m=0;m<k.length;m++)d.push(k[m].name);for(var m=0;m<3;m++){var b=this.dG[m];b.O$(d);b.$(Math.min(m,k.length-1))}};
dL.prototype.CR=function(g){var o=this.Z6,k=o[0],y=new jB(N.E.gp,!0);y.data=dF.ht(k.m,k.n,k.Qb,"Merged Document","Wht",!1);
this.S(y);var d=[];for(var m=0;m<3;m++)d.push(o[this.dG[m].c()].PJ());var k=o[o.length-1],b=k.d[0],T=b.buffer;
for(var m=0;m<T.length;m+=4){T[m]=d[0][m];T[m+1]=d[1][m];T[m+2]=d[2][m]}b.U();k.U();this.close()};function gN(){dd.call(this,[1,10],"script");
var g=Z.t("div","form");g.setAttribute("style","width:44em");this.body.appendChild(g);this.eM=null;this.dW=[];
this.jV=[];this.aen;var o=this.Rp=new da([1,2],!1,null,!0);o.h("click",this.oT,this);g.appendChild(o.e);
var k=new da("JS Reference",!1,null,!0);k.h("click",this.avA,this);g.appendChild(k.e);g.appendChild(new bZ("Demos:").e);
this.ahx=[];var y=gN.Gn;for(var m=0;m<y.length;m++){var d=new da(y[m].Zq,!1,null,!0);this.ahx.push(d);
g.appendChild(d.e);d.h("click",this.a9H,this)}this.Gs=Z.t("textarea");Z.tF(this.Gs);this.Gs.setAttribute("rows",16);
this.Gs.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");g.appendChild(this.Gs);
var b=new da("Run",!0,null,!0);b.h("click",this.CR,this);g.appendChild(b.e);this.wR=Z.t("div");g.appendChild(this.wR)}gN.prototype=new dd;
gN.prototype.f=function(){this.Rp.f()};gN.prototype.oT=function(){var g=this.aen;if(g==null)g="script.jsx";
var o=new jB(N.E.s,!0);o.data={P:N.b.xp,Pv:"namewindow",Ad:g.slice(0,g.length-4),H_:this.adV.bind(this)};
this.S(o)};gN.prototype.adV=function(g){var o=this.Gs.value,k=S.vw(o),y=new jB(N.E.s,!0);y.data={P:N.b.Kx,wC:k.buffer,PK:g+".jsx",ayF:!0};
this.S(y)};gN.prototype.a63=function(g){var m=this.dW.indexOf(g.target),o=this.aen=this.jV[m],k=this.eM.Kc.vM[o],y=new Uint8Array(k),d=S.IL(y,0,y.length);
this.Gs.value=d};gN.prototype.I_=function(g,o,k){this.Gs.value=gN.Gn[0].NC;this.awl()};gN.prototype.awl=function(){var g=this.eM.Kc,o=this.wR;
Z.ew(o);this.dW=[];this.jV=[];o.textContent="Saved scripts: ";for(var k in g.vM){if(k.endsWith(".jsx")){var y=new da(k,!1,null,!0);
this.dW.push(y);this.jV.push(k);y.h("click",this.a63,this);o.appendChild(y.e)}}};gN.prototype.mt=function(g,o){this.eM=g;
if(o==er.BG)this.awl()};gN.prototype.avA=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.af,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.S(o)};gN.prototype.CR=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.Fz,cg:this.Gs.value};this.S(o)};
gN.prototype.a9H=function(g){var o=this.ahx.indexOf(g.currentTarget);this.Gs.value=gN.Gn[o].NC};gN.Gn=[{Zq:"Hello",NC:"\nalert(\"Hello Photopea!\");\n"},{Zq:"Process Layers",NC:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Zq:"Clone Layers",NC:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ja(){dd.call(this,[11,7],"newproject");this.data=null;this.Z6=null;this.Az=0;var g=Z.t("div","flexrow");
this.$L=g;this.body.appendChild(g);var o=Z.t("div","form");this.Ly=o;g.appendChild(o);this.EI=new ic([12,48],null,10);
o.appendChild(this.EI.e);Z.Dx(o);this.DY=new ec(!0,null,null,null,!0);this.DY.$(new bJ(1280,720),72);
this.DY.ayV(!0,!0);this.DY.h(N.E.A,this.Fp,this);o.appendChild(this.DY.e);this.vO=new aN;this.vO.parent=this;
o.appendChild(this.vO.e);this.tm=new da("\u02C5",null,[0,14],!0);this.tm.h("click",this.v$,this);o.appendChild(this.tm.e);
var k=this.a08=Z.t("span");o.appendChild(k);k.style.display="none";this.a7e=new cR([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
k.appendChild(this.a7e.e);this.jQ=new dX([1,16,1]);k.appendChild(this.jQ.e);this._5=new da([12,49],!0,null,!0);
this._5.h("click",this.CR,this);o.appendChild(this._5.e);var y=ja.l1,d=[];for(var m=0;m<y.length;m++)d.push(y[m].name);
this.qf=new k5(null,d);this.qf.h(N.E.A,this.aqu,this);o.appendChild(this.qf.e);this.qf.e.style["margin-top"]="1em";
this.a7=new i2(!0);this.a7.h(N.E.A,this.a7$,this);o.appendChild(this.a7.e);this.aqu();this.vx=new hr;
this.vx.parent=this;this.vx.e.setAttribute("style","margin-left:1em");this.vx.h("tempready",this.avl,this)}ja.prototype=new dd;
ja.prototype.v$=function(g){var o=this.a08,k=o.style.display!="none";o.style.display=k?"none":"";this.tm.HZ(k?"\u02C5":"\u02C4");
this.UC(this.bW,this.GP)};ja.prototype.mt=function(g,o){this.vx.mt(g)};ja.prototype.fM=function(g,o){return new bJ(Math.max(0,Math.min(70,(g-690)/2)),g>o?Math.max(0,Math.min(50,(o-400)/2)):0)};
ja.prototype.UC=function(g,o){this.bW=g;this.GP=o;this.Ly.setAttribute("style","width:"+Math.min(g-24,338)+"px");
this.a7.e.style.height=o-248-(this.a08.style.display=="none"?0:28)+"px";var k=this.vx.e,y=k.parentNode;
if(g<500){if(y!=null)this.$L.removeChild(k)}else{if(y==null)this.$L.appendChild(k);this.vx.UC(g-378,o-28)}};
ja.prototype.Fp=function(){this.vx.$(this.DY.c())};ja.prototype.a7$=function(g){var o=this.a7.c()[0],k=ja.l1[this.qf.c()].jU[o],y=k[4];
if(y==0)y=72;var d=k[1],b=k[2],T=["px","%","mm","in"].indexOf(k[3]),a=[1,1,25.4/y,1/y][T];d/=a;b/=a;
this.DY.$(new bJ(Math.round(d),Math.round(b)),y);this.DY.a3Y(T);this.Fp();if(Date.now()-this.Az<300)this.CR();
this.Az=Date.now()};ja.prototype.aqu=function(g){var o=ja.l1[this.qf.c()].jU,k=[],y=[],d=Math.round(106*Z.V()),b=Math.round(106*Z.V()),T=0;
for(var m=0;m<o.length;m++)T=Math.max(T,o[m][1],o[m][2]);for(var m=0;m<o.length;m++){var a=o[m],t=a[1]+" x "+a[2]+" "+a[3];
if(a[3]=="in")t=(a[1]*25.4).toFixed(0)+" x "+(a[2]*25.4).toFixed(0)+" mm";if(a[3]=="mm")t=(a[1]/25.4).toFixed(1)+" x "+(a[2]/25.4).toFixed(1)+" in";
if(a[4])t=t+" @ "+a[4]+" ppi";y.push(t);k.push(ja.OJ(a,d,b,T))}this.a7.dn(k,y,d,b)};ja.OJ=function(g,o,k,y){var d=Z.t("canvas",""),b=d.getContext("2d");
d.width=o;d.height=k;var T=Math.round(o/8),a=Math.floor(11*Z.V()),t=g[1],j=g[2];b.fillStyle="#000000";
b.font=Math.round(a*.9)+"px \"Open Sans\", Sans-Serif";var e=t+" x "+j+" "+g[3],v=b.measureText(e);b.fillText(e,Math.round((o-v.width)/2),k-Math.round(T/2));
if(g[0]!=null){b.font="bold "+a+"px \"Open Sans\", Sans-Serif";var e=g[0],v=b.measureText(e);b.fillText(e,Math.round((o-v.width)/2),k-Math.round(T/2)-Math.round(a*1.3))}k-=Math.round(2.5*a);
var L=Math.min((o-T)/t,(k-T)/j);L*=.5+.5*(Math.max(t,j)/y);var H=(o-t*L)/2,w=(k-j*L)/2;b.strokeRect(Math.round(H)+.5,Math.round(w)+.5,Math.round(t*L),Math.round(j*L));
return d.toDataURL()};ja.prototype.f=function(){dd.prototype.f.call(this);this.DY.f();this.EI.f();this.vO.f();
this._5.f();this.EI.$(d9.get([11,7]));this.qf.f();this.jQ.f();this.tm.f();this.vx.f()};ja.prototype.CR=function(g){var o=this.DY.c(),k=o.x,y=o.y;
this.close();var d=this.vO.c(),b=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a7e.c()],T=new jB(N.E.gp,!0);
T.data=dF.ht(k,y,this.DY.A9(),this.EI.c(),["Wht","Blck","Trns","Clr"][d[0]],this.jQ.c(),d[1],b);this.S(T);
this.avX()};ja.prototype.avl=function(g){var o=g.data.po;o.Qb=this.DY.A9();var k=new jB(N.E.s,!0);k.data={P:N.b.I8,po:o};
this.S(k);this.close();this.avX()};ja.prototype.avX=function(){var g=this.Z6[this.Z6.length-1],o=this.data.ajb;
if(o)i1.uC(function(){var k=new XMLHttpRequest,y="https://www.googleapis.com/drive/v3/files?"+i1.D0();
k.open("POST",y,!0);k.setRequestHeader("Content-Type","application/json");k.addEventListener("load",function(d){var b=JSON.parse(d.target.response);
g.mF={file:b,Gl:"psd"};alert(g.name+" created in Google Drive")});k.send(JSON.stringify({name:g.name,apJ:[o]}))})};
ja.prototype.I_=function(g,o,k,y){this.Z6=k;if(g!=null&&g.J!=null){var d=new bd(0,0,g.m,g.n).Nm(g.J.rect);
this.DY.$(new bJ(d.m,d.n))}this.data=o;this.Fp();if(Z.$T())ap.amu(this.aqR.bind(this))};ja.prototype.aqR=function(g){if(g=="granted")ap.Nx(this,this.auW.bind(this))};
ja.prototype.auW=function(g,o){this.DY.$(new bJ(o.m,o.n))};ja.l1=[{name:"Social",jU:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],jU:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],jU:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],jU:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],jU:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],jU:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",jU:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fU(g,o,k){dd.call(this,o,"sel_"+g);this.P=g;var y=Z.t("div","form");this.body.appendChild(y);
this.EI=new k9(o,0,255,null,0,!1,!0);y.appendChild(this.EI.e);this.EI.$(1);var d=Z.t("span");d.textContent=k;
y.appendChild(d);Z.Dx(y);this.arA=new dX("Apply at canvas bounds");if(g!="border")y.appendChild(this.arA.e);
this._5=Z.zE(this,y)}fU.prototype=new dd;fU.prototype.FD=function(g,o){if(g==null)return;if(g.J==null)alert("No selection!");
return g.J!=null};fU.prototype.CR=function(g){var o=new jB(N.E.gp,!0);o.data=D.qT.sm(this.P,this.EI.c(),this.arA.c());
o.Yi=!0;this.S(o);this.close()};fU.prototype.f=function(){dd.prototype.f.call(this);this._5.f();if(this.EI)this.EI.f()};
fU.prototype.I_=function(g,o){};function fq(g,o,k,y,d,b){dd.call(this,k,o);this.auY=b;this.nO=d;this.l1=null;
this.Ly=Z.t("div","form");this.body.appendChild(this.Ly);this.EI=g==0?new ic(k,null,10):g==1?new bk(k,0,500,y,1):new ic(k,null,24,5);
this.EI.h(N.E.A,this.nu,this);this.Ly.appendChild(this.EI.e);this._5=Z.zE(this,this.Ly);this.h("closebtn",this.Xa,this)}fq.prototype=new dd;
fq.prototype.fM=function(g,o){return new bJ(Math.max(0,Math.min(150,(g-250)/2)),Math.max(0,Math.min(150,(o-120)/2)))};
fq.prototype.tt=function(){return this.auY};fq.prototype.nu=function(g){var o=this.EI.c();if(this.nO)this.UI(o)};
fq.prototype.Xa=function(g){if(this.nO)this.UI("cancel")};fq.prototype.CR=function(g){if(this.nO)this.UI("confirm");
else this.UI(this.EI.c());this.close()};fq.prototype.UI=function(g){if(this.l1.H_)this.l1.H_(g);else if(this.l1.PV){var o=this.l1.PV,k=new jB(o.W,!0);
k.G=o.G;k.data=o.R;k.data.Z=g;k.Yi=!0;this.S(k)}};fq.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();if(this.EI)this.EI.f()};fq.prototype.I_=function(g,o){this.l1=o;this.EI.$(o.Ad);this.EI.KA();
this.nu(null)};function i3(){dd.call(this,[1,5],"open_from_url");this.zT=null;var g=Z.t("div","form");
this.body.appendChild(g);this.te=new ic("URL",null,22);g.appendChild(this.te.e);Z.Dx(g);this.mA=new k5([21,0],[[21,2],[21,1]]);
g.appendChild(this.mA.e);this._5=Z.zE(this,g)}i3.prototype=new dd;i3.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();this.mA.f()};i3.prototype.I_=function(g,o,k){this.te.KA();this.zT=null;if(g&&k.indexOf(g)!=-1)this.zT=k.indexOf(g)};
i3.prototype.CR=function(g){var o=new jB(N.E.s,!0),k=this.te.c();o.data={P:N.b.VI,Q6:{url:k,Vs:!0,zT:this.mA.c()==1?this.zT:null}};
this.S(o);this.close()};function eC(){dd.call(this,[12,79],"preferences");this.eM=null;var g=Z.t("div","form");
this.body.appendChild(g);this.fK=[new dX([8,2]),new dX([8,4]),new cR([12,80,3],[[12,93,3],[12,80,4]]),new bk([12,80,5],.02,100,null,2),new cR(null,_.bt.S5),new cR([12,80,6],_.bt.S5),new dX("Remind me to save")];
for(var m=0;m<this.fK.length;m++){var o=this.fK[m];g.appendChild(o.e);if(m!=3)Z.Dx(g);o.h(N.E.A,this.iA,this)}}eC.prototype=new dd;
eC.prototype.f=function(){dd.prototype.f.call(this);for(var m=0;m<this.fK.length;m++)this.fK[m].f()};
eC.prototype.I_=function(g,o,k){};eC.prototype.mt=function(g,o){this.eM=g;var k=g.Nn;this.fK[0].$(k.HR);
this.fK[1].$(k.l5);this.fK[2].$(k.zo);this.fK[3].$(k.Cs);this.fK[4].$(k.o9);this.fK[5].$(k.rx);this.fK[6].$(g.v0==1)};
eC.prototype.iA=function(g){var o=this.fK;if(g.target==o[6])this.eM.v0=1-this.eM.v0;var k=JSON.parse(JSON.stringify(this.eM.Nn));
k.HR=o[0].c();k.l5=o[1].c();k.zo=o[2].c();k.Cs=o[3].c();k.o9=o[4].c();k.rx=o[5].c();var y=new jB(N.E.s,!0);
y.data={P:N.b.pB,Q6:er.iu,M$:k};this.S(y)};function jg(){dd.call(this,[11,8],"saveforweb");this.ajp="";
this.h("closebtn",function(){this.nq.ty()},this);this.po=null;this.dU=null;this.a2S=null;this.eM=null;
Z.O9(this.body,"flexrow");this.body.style.padding="0";var g=Z.t("div");g.setAttribute("style","position:relative;");
var o=Z.t("div");this.body.appendChild(g);this.body.appendChild(o);this.jP=Z.t("div","imgcont");g.appendChild(this.jP);
this.nq=new k8;this.nq.UC(512,512);this.nf=Z.t("div");this.nf.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
g.appendChild(this.nf);var k=this.Ly=Z.t("div","form cell");k.setAttribute("style","width:195px; padding:9px 13px;");
o.appendChild(k);this.AZ=new ic([12,48],null,7.6);this.AZ.Mk();k.appendChild(this.AZ.e);var y=cp.R1();
y[y.indexOf("WEBP")]="webP";this.HE=new cR([12,50],y);this.HE.e.style.marginRight="0";this.HE.Mk();k.appendChild(this.HE.e);
this.HE.h(N.E.A,this.ae,this);Z.Dx(k);this.DY=new ec(!0,!0,!1,!0);this.DY.Mk();this.DY.h(N.E.A,this.ae,this);
this.DY.sJ.e.style.paddingBottom="8px";k.appendChild(this.DY.e);this.lk=new c9;this.lk.h(N.E.A,this.ae,this);
k.appendChild(this.lk.e);this.NF=new da([1,2],!0,null,!0);this.NF.h("click",this.CR,this);k.appendChild(this.NF.e)}jg.prototype=new dd;
jg.prototype.FD=function(g,o){return g!=null};jg.prototype.f=function(){dd.prototype.f.call(this);this.DY.f();
this.AZ.f();this.HE.f();this.lk.f();this.NF.f()};jg.prototype.CR=function(g){var o=this.AZ.c().trim(),k=cp.R1()[this.HE.c()],y=k=="JPG"||k=="PNG"||k=="GIF",d=cp.rJ(k),b="."+k.toLowerCase(),T=this.dU,a=o+b,t=this.po,j=t.mZ,e=this.lk.c();
if(t.Q$())e.pop();if(j.length!=0&&y&&e.pop()){var v="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",L=[],H={},w=new bd(0,0,t.m,t.n),P=t.PJ();
for(var m=0;m<j.length;m++)L.push(D.We.mr(j,m));L.reverse();var Q=_.rect.es([0,0,t.m,t.n],L);for(var m=0;
m<Q.length;m++){var x=Q[m],F=new bd(x[0],x[1],x[2]-x[0],x[3]-x[1]),E=x.length==5?j[x[4]].v:null,f=_.Q(F.O()*4);
_.g1(P,w,f,F);var c="img/img"+(m+1)+b;H[c]=new Uint8Array(d.p0([[f.buffer,0]],F.m,F.n,e));v+="<div style=\"background-image:url('"+c+"'); left:"+F.x+"px; top:"+F.y+"px; width:"+F.m+"px; height:"+F.n+"px\">";
if(E&&E.url.v!="")v+="\n\t<a href=\""+E.url.v+"\" target=\""+E.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
v+="</div>\n"}v+="</body>\n</html>\n";var M=_.Q(Math.round(v.length*1.5)),n=S.Gg(v,M,0);H["index.html"]=M.slice(0,n);
T=UZIP.encode(H);a=o+".zip"}else if(t.add.artd&&t.add.artd.Cnt.v>1&&y&&e.pop()){var H={},w=new bd(0,0,t.m,t.n),P=t.PJ(),X=t.root.children;
for(var m=0;m<X.length;m++){var u=X[m].i;if(u.add.artb==null||!u.oa())continue;var I=u.xB(),r=_.Q(I.O()*4);
_.g1(P,w,r,I);H[u.getName()+b]=new Uint8Array(d.p0([[r.buffer,0]],I.m,I.n,e))}T=UZIP.encode(H);a=o+".zip"}if(t.ge)ap.yN("act=1&id="+t.ge);
this.nq.ty();this.close();var J=function(){var K=new jB(N.E.s,!0);K.data={P:N.b.hy,data:T,name:a};this.S(K)}.bind(this);
if(!this.eM.wH||fV.Ld()){J();return}var U=hB.zy()!=0;J();var K=new jB(N.E.s,!0),i=hf.Np("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
if(U)i=hf.Np("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
K.data={P:N.b.xp,Pv:hf.T1,Z:i,H_:function(){}};if(Math.random()<.1||U)this.S(K)};jg.prototype.I_=function(g,o){if(o.dv!=null)this.HE.$(o.dv);
this.po=g;var k=this.po.name,y=k.lastIndexOf("."),k=y==-1?k:k.slice(0,y);this.AZ.$(k);var d=g.m+","+g.n;
if(d!=this.ajp){this.ajp=d;this.DY.$(new bJ(g.m,g.n),g.Qb)}this.lk.ah6();if(o.avY){this.DY.a3Y(3);this.lk.Y4.PDF[2].$y.$(!0)}this.ae(null,!0)};
jg.prototype.afn=function(g,o){return g<o&&g<660};jg.prototype.fM=function(g,o){return this.afn(g,o)?new bJ(0,0):new bJ(Math.max(0,Math.min(150,(g-770)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
jg.prototype.UC=function(g,o,k){this.bW=g;this.GP=o;if(this.po==null)return;var y=this.NF.e,d=this.afn(g,o),b,T,L="<span style=\"width:",H="display:inline-block; text-align:right;\">";
if(d){var a=this.Ly.getBoundingClientRect().height;b=g;T=o-Math.max(a,252);Z.Iu(this.body,"flexrow")}else{b=Math.min(512,g-195-2*13);
T=Math.min(512,o-24);Z.O9(this.body,"flexrow")}var t=d?g-2*13:195;this.Ly.style.width=t+"px";this.AZ.LS.style.width=t-72+"px";
this.DY.UC(t);var j=cp.R1()[this.HE.c()],e=cp.rJ(j);if(e.nY||e.o5)this.jP.firstChild.setAttribute("style","display:block; width:"+b+"px; height:"+T+"px;");
else this.nq.UC(b,T);var v=this.dU.byteLength,w=L+64+"px;"+H+jg.Tc(v)+"</span>";if(b>400)w+=L+90+"px; opacity:"+.5+";"+H+v.toLocaleString()+" B</span>";
this.nf.innerHTML=w;if(k)setTimeout(function(){this.UC(this.bW,this.GP)}.bind(this),20)};jg.Tc=function(g){var o=g.toString(2),k=0;
while(k+10<o.length)k+=10;var y=(g/Math.pow(2,k)).toFixed(1);if(y.endsWith(".0"))y=y.slice(0,-2);var d="B KB MB GB TB PB".split(" ")[Math.floor(k/10)];
return y+" "+d};jg.prototype.mt=function(g,o){this.eM=g};jg.prototype.ae=function(g,o){var k=this.po,y=this.DY.c(),d=y.x,b=y.y,T=this.HE.c(),a=cp.R1()[T],t=cp.EY(k)[0].length,j=["GIF","PNG","WEBP"].indexOf(a)!=-1&&t>1,x="";
if(j&&o&&(t>4&&d*b>1024*1024||d*b*t>800*800*50)){var e=1;while(Math.max(d>>>e,b>>>e)>800)e++;var v=window.confirm("Your animation is large ("+d+" x "+b+" px). Press \"OK\" to scale it to "+(100>>>e)+"%. Press \"Cancel\" to keep the size.");
if(v){this.DY.$(new bJ(d>>>e,b>>>e),null,!0);d=d>>>e;b=b>>>e}}var L=k.add.artd,H=L!=null&&L.Cnt.v>1,w=k.Q$();
this.lk.dL(a,j,k.mZ.length!=0,H,w!=null);var P=localStorage.getItem("sfwPrms");if(P==null)P={};else P=JSON.parse(P);
var Q=this.lk.c();if(g&&g.target==this.lk){P[a]=Q;localStorage.setItem("sfwPrms",JSON.stringify(P))}else if(P[a]){this.lk.$(P[a]);
Q=this.lk.c()}this.dU=cp.hu(k,a,d,b,Q,this.eM);if(this.dU==null){this.po=null;return}Z.ew(this.jP);this.nq.ty();
var F=cp.rJ(a);if(F.o5){this.jP.innerHTML="<div></div>"}else if(F.nY){var E=d,f=b,c;if(a=="PDF"){c=URL.createObjectURL(new Blob([this.dU],{type:"application/pdf"}))}else{c=URL.createObjectURL(new Blob([this.dU],{type:"image/svg+xml"}))}this.jP.innerHTML="<iframe src=\""+c+"\"></iframe>"}else{var M=this.a2S=F.pO(this.dU),n=M[0],X=n.MR,E=X.m,f=X.n;
if(n.gR){var u=ICC.R(n.gR.buffer),I=17,r=ICC.U.sampleLUT(u,I);for(var m=0;m<M.length;m++){var J=new Uint8Array(M[m].data);
ICC.U.applyLUT(r,I,J,J)}}this.nq.$(M,M.length>1?Q[Q.length-3]:0);this.jP.appendChild(this.nq.e);x="background: rgba(0,0,0,0);"}this.jP.setAttribute("style","display:block; "+(F.o5?"background:rgba(0,0,0,0);":"background-size:"+16/Z.V()+"px;")+x);
this.UC(this.bW,this.GP,o)};function ev(){dd.call(this,[11,13],"shortcuts");var g=this.$L=Z.t("div","scrollable");
g.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(g);
this.ayN()}ev.prototype=new dd;ev.prototype.f=function(){dd.prototype.f.call(this);this.ayN()};ev.prototype.ayN=function(){var g="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",o="",k=dj,y=k.IQ,d=k.d_,b=k.M4;
o+="<h2 style=\"margin-top:0;\">Main Menu</h2>";o+=g;o+=this._o([[0,0],"---",[1,0],[y,k.PS],[1,2],[y,k.B6],[1,3],[d,y,k.B6],[1,8],[b,d,y,k.B6],[0,1],"---",[2,0],[d,y,k.YT],[2,1],[y,k.YT],[5,0],[y,k.yW],[5,1],[y,k.qb],[5,2],[y,k.dA],[2,2],"Delete",[2,3],[b,k.uo],[10,16],[b,y,k.Of],[12,79],[y,k.Oz],[3],"---",[4,1],[y,k.hb],[4,2],[y,k.xw],[4,5],[y,k.Df],[4,11],[y,k.QV],[0,3],"---",[6,13],[d,y,k.LY],[6,49,0],[y,k.h0],[6,6,0],[b,y,k.X6],[6,9],[y,k.X6],[6,10],[y,k.E],[0,5],"---",[7,0],[y,k.b],[7,1],[y,k.g8],[7,2],[d,y,k.QV],[0,7],"---",[8,0],[y,k.dk],[8,1],[y,k.Mt],[8,3],[y,k.PD],[8,2],[y,k.Rc],[8,4],[y,k.ej],[11,13],"?"]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";o+=g;o+=this._o(["Vertical scroll","Wheel","Horizontal scroll",[y,"Wheel"],"Zooming",[b,"Wheel"]]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
o+=g;o+=this._o([[10,11],[y],[10,7],"Space",[10,17],[y,k.zY]]);o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
o+=g;var T=ev._,a=[];for(var m=0;m<T.length;m+=3)if(T[m+1])a.push(T[m],T[m+1]);a=a.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[y,k.NN]]);
o+=this._o(a);o+="</div>";this.$L.innerHTML=o};ev.prototype._o=function(g){var o="",k=!0;for(var m=0;
m<g.length;m+=2){var y=g[m],d=dj.GR(g[m+1]);if(d==null){k=!1;continue}var b=Z.nV(d9.get(y));if(d=="---"){if(!k)o+="<br/>";
o+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+b+"</div>"}else o+="<div>"+b+" <span style=\"float:right; font-weight:bold;\">"+d+"</span> </div>";
k=!1}return o};ev._=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function fz(){dd.call(this,[8,11,1],"soptions");this.KV=null;var g=Z.t("div","form");g.style.width="20em";
this.body.appendChild(g);this.z6={Nm:[12,48],url:"URL",null:[12,71]};this.fK={};for(var o in this.z6){var k=new ic(this.z6[o],null,15);
this.fK[o]=k;g.appendChild(k.e)}this._5=Z.zE(this,g)}fz.prototype=new dd;fz.prototype.I_=function(g,o,k){var y=o.Z;
this.KV=JSON.stringify(y);for(var d in this.z6){if(y[d])this.fK[d].$(y[d].v)}};fz.prototype.CR=function(g){var o=JSON.parse(this.KV);
for(var k in this.z6){var y=this.fK[k].c();o[k]={t:"TEXT",v:y}}var d=new jB(N.E.L,!0);d.G=D.UO;d.data=o;
d.Yi=!0;this.S(d);this.close()};fz.prototype.f=function(){dd.prototype.f.call(this);this._5.f()};function gP(){dd.call(this,[2,3],"fill");
this.eM=null;this.i5=null;var g=Z.t("div","form padded");g.style.width="22em";this.body.appendChild(g);
this.hx="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.MS=new cR([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.MS.h(N.E.A,this.axJ,this);g.appendChild(this.MS.e);this.jP=Z.t("span");g.appendChild(this.jP);this.hg=new d6;
this.hg.parent=this;this.hg.Ea(0);this.Uu=new jC;this.Uu.parent=this;this.mL=new cR([12,19,0],h8.q5,h8.o0);
g.appendChild(this.mL.e);this.gx=new bk([12,0],0,100,"%",0,!1);this.gx.$(100);g.appendChild(this.gx.e);
this.H$=new dX([13,5]);this.H$.$(!1);g.appendChild(this.H$.e);this._5=Z.zE(this,this.body)}gP.prototype=new dd;
gP.prototype.FD=function(g,o){return g!=null};gP.prototype.tt=function(){return!0};gP.prototype.axJ=function(){var g=this.MS.c(),o=this.hg.e,k=this.Uu.e,y=this.jP;
if(g==2)y.appendChild(o);else if(y.contains(o))y.removeChild(o);if(g==7)y.appendChild(k);else if(y.contains(k))y.removeChild(k)};
gP.prototype.f=function(){dd.prototype.f.call(this);this.MS.f();this.mL.f();this.gx.f();this.H$.f();
this._5.f()};gP.prototype.CR=function(g){if(!this.i5.q0())return;var o=new jB(N.E.gp,!0),k=this.MS.c();
o.data=D.Ak.t3(this.hx[k],h8.re[this.mL.c()],this.gx.c()/100,this.hg.c(),this.H$.c(),this.Uu.c());this.close();
this.S(o)};gP.prototype.I_=function(g,o){this.i5=g};gP.prototype.mt=function(g,o){this.eM=g;if(o==er.a_||o==er.EB){this.Uu.cz(g.A6);
this.Uu.$({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function aU(){dd.call(this,[14,9],"stroke");this.eM=null;this.Ly=Z.t("div","form");this.Ly.setAttribute("style","width:24em");
this.body.appendChild(this.Ly);this.EZ=new bA("FrFX",!0);this.EZ.parent=this;var g=["Sz","Styl","Md","Opct"].concat(iZ.ho);
for(var m=0;m<g.length;m++){var o=this.EZ.Iy[g[m]].e;this.Ly.appendChild(o)}this.sx=!1;this._5=Z.zE(this,this.body)}aU.prototype=new dd;
aU.prototype.FD=function(g,o){return g!=null};aU.prototype.tt=function(){return!0};aU.prototype.f=function(){dd.prototype.f.call(this);
this._5.f();this.EZ.f()};aU.prototype.CR=function(g){var o=new jB(N.E.L,!0);o.G=D.gI;o.data={P:"stroke",a7I:this.EZ.c()};
this.close();this.S(o)};aU.prototype.I_=function(g,o){if(!this.sx){var k=iZ.GZ[iZ.order.indexOf("FrFX")];
k=JSON.parse(k);this.EZ.update(g,k);this.sx=!0}var k=this.EZ.c(),y=this.eM.p2;k.Clr.v=_.M.UF({o:y>>16&255,C:y>>8&255,k:y&255});
this.EZ.update(g,k)};aU.prototype.mt=function(g,o){this.eM=g};function bM(){dd.call(this,[11,9],"textwarp");
this.fK=new iw;this.fK.h(N.E.A,this.C2,this);this.fK.parent=this;this.Ly=Z.t("div","form");this.Ly.setAttribute("style","width:20em");
this.body.appendChild(this.Ly);this.Ly.appendChild(this.fK.Ie.e);this.Ly.appendChild(this.fK.bL.e);this.Ly.appendChild(this.fK.Eb.e);
this.Ly.appendChild(this.fK.b6.e);this.Ly.appendChild(this.fK.kv.e);this._5=Z.zE(this,this.Ly);this.h("closebtn",this.Xa,this)}bM.prototype=new dd;
bM.prototype.tt=function(){return!0};bM.prototype.f=function(){dd.prototype.f.call(this);this._5.f();
this.fK.f()};bM.prototype.C2=function(g){var o=this.fK.c();this.UI({P:"warp",uR:o})};bM.prototype.UI=function(g){var o=new jB(N.E.L,!0);
o.G=D.uk;o.data=g;o.Yi=!0;this.S(o)};bM.prototype.Xa=function(g){this.UI({P:"warpCancel"})};bM.prototype.CR=function(g){this.UI({P:"warpConfirm"});
this.close()};bM.prototype.I_=function(g,o){var k=g.d[g.g[0]];this.fK.$(k.add.TySh.IV)};function cb(){dd.call(this,[11,12,0],"trim");
var g=this.Ly=Z.t("div","form");this.Ly.setAttribute("style","width:22em");this.body.appendChild(this.Ly);
var o=new bZ("Color To Trim:");g.appendChild(o.e);this.cD=new jZ(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.cD.$([!0]);this.Ly.appendChild(this.cD.e);var o=new bZ("Sides:");g.appendChild(o.e);this.Ps=new jZ(null,["Top","Left","Bottom","Right"]);
this.Ps.$([!0,!0,!0,!0]);this.Ly.appendChild(this.Ps.e);this._5=Z.zE(this,this.body)}cb.prototype=new dd;
cb.prototype.FD=function(g,o){return g!=null};cb.prototype.tt=function(){return!0};cb.prototype.f=function(){dd.prototype.f.call(this);
this.cD.f();this.Ps.f();this._5.f()};cb.prototype.CR=function(g){var o=this.cD.c().indexOf(!0),k=this.Ps.c(),y=new jB(N.E.gp,!0);
y.data=D.Wz.Zi(o,k);this.close();this.S(y)};function bC(){dd.call(this,"Raw Photopea","rawpea");this.HO=null;
this.Pn=null;this.body.style.padding="0";var g=this.Zc=new eJ["Adobe Camera Raw Filter"](!0),k="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(g.e);this._5=new da([1,0],!0,null,!0);this._5.h("click",this.CR,this);this.Xz=new da(k+" JPG",!0,null,!0);
this.Xz.h("click",this.any,this);this.Xz.e.style.marginTop="6px";g.C_(this._5.e);g.C_(this.Xz.e)}bC.prototype=new dd;
bC.prototype.fM=function(){return new bJ(0,0)};bC.prototype.UC=function(g,o){this.Zc.UC(g,o)};bC.prototype.f=function(){dd.prototype.f.call(this);
this.Zc.f()};bC.prototype.any=function(g){var o=this.HO,k=this.Pn,y=cp.rJ("JPG").p0([[this.Zc.c(!0).buffer]],k.Wm,k.nk,[85]),d=new jB(N.E.s,!0);
d.data={P:N.b.hy,data:y,name:"photo.jpg"};this.S(d)};bC.prototype.CR=function(g){var o=this.HO,k=this.Pn,y=bu.pe(o),o={MR:new bd(0,0,k.Wm,k.nk),data:this.Zc.c(!0).buffer,Vq:y},d=cp.kj("Raw Photo",[o]),b=new jB(N.E.s,!0);
b.data={P:N.b.I8,po:d};this.S(b);this.zX();this.close()};bC.prototype.zX=function(){this.HO=null;this.Pn=null;
this.Zc.ak0()};bC.prototype.I_=function(g,o,k,y){this.HO=o.Tq;var d=this.Pn=_.raw.aup(this.HO),b=_.raw.aac(o.Tq),T=hz.i4(b);
_.raw.$t(d.rg,d.rg,o.Tq,[T.NI,T.xd]);var a=jf.J0("Adobe Camera Raw Filter");this.Zc.$(a,d.rg,new bd(0,0,d.Wm,d.nk))};
function i7(g){dd.call(this,g?[11,11,0]:[11,11,1],g?"vbitmap":"rcolors");this.l1=null;this.uI=null;this.Wk=null;
this.de=null;this.w2=null;this.apX=null;this.m1=null;this.dG="";this.Cp=g;this.NH=this.yL.bind(this);
this.LD=!1;this.body.style.padding="0";this.Ly=Z.t("div","form hbar padded");this.body.appendChild(this.Ly);
var o=this.r_={cnum:new k9([12,82],2,50,null),nois:new dX([12,81]),mode:new cR(null,["Cartoon","Photo"]),segm:new dX("Segmentize"),poly:new dX("Polygon"),merg:new dX("Merge colors"),polE:new k9("Roughness",2,30,null),dthr:new dX([12,23,3]),ok:Z.zE(this,null,!1)},b=16;
for(var k in o){var y=o[k];y.parent=this;if(k!="ok")y.h(N.E.A,this.yL,this)}var d=this.gq=Z.t("div","flexrow");
this.body.appendChild(d);d.setAttribute("style","background-color:var(--bg-canvas)");this.tZ=new k8;
this.tZ.h("viewchange",this.Rm,this);this.pA=new k8;this.T=Z.t("canvas");this.T.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.iS=this.T.getContext("2d");var T=_.Q(16*16*4);_.sA(T,b,b,8);this.EC=_.scale.A8(T,b,b);this.tZ.ad8(this.T);
this.tZ.zj(this.pA);this.pA.zj(this.tZ);d.appendChild(this.tZ.e);if(g)d.appendChild(this.T);else d.appendChild(this.pA.e)}i7.prototype=new dd;
i7.prototype.fM=function(){return new bJ(0,0)};i7.prototype.tt=function(){return!0};i7.prototype.UC=function(g,o){this.bW=g;
this.GP=o;o=o-44;if(g<600)o-=29;if(this.l1==null)return;var k=this.l1.MR,y=a2.alM(g,o,k.m,k.n);if(y==1)o-=3;
if(y==0){g=Math.floor(g/2);Z.O9(this.gq,"flexrow")}else{o=Math.floor(o/2);Z.Iu(this.gq,"flexrow")}Z.OK(this.T,g,o);
this.tZ.UC(g,o);if(this.Cp)this.Rm();else this.pA.UC(g,o)};i7.prototype.Zl=function(g,o,k,y){this.tZ.Zl(y)};
i7.prototype.f=function(){dd.prototype.f.call(this);for(var g in this.r_)this.r_[g].f()};i7.prototype.I_=function(g,o){this.m1=g;
this.w2=null;var k=g.d[g.g[0]],y=_.r7.Bg(k.buffer.buffer,k.rect.m,k.rect.n).atY,d=y/((k.rect.m-2)*(k.rect.n-2)),b=this.r_;
b.cnum.$(20);b.nois.$(d<.75);b.mode.$(d<.75?1:0);b.segm.$(!1);b.poly.$(!1);b.merg.$(!0);b.polE.$(1);
b.dthr.$(!1);var T=k.rect.clone();T.x=T.y=0;this.l1={MR:T,data:k.buffer.buffer.slice(0)};this.uI=null;
this.UC(this.bW,this.GP);this.tZ.$([this.l1]);this.tZ.$W();this.LD=!0;setTimeout(this.NH,20)};i7.prototype.yL=function(){var g=!0,o=Date.now(),k=this.l1,y=this.r_,d=y.cnum.c(),b=y.nois.c(),T=y.mode.c(),a=y.segm.c(),t=y.poly.c(),j=y.merg.c(),e=y.polE.c(),u=null;
if(T==0)a=t=!1;var v=y.dthr.c(),L=["cnum","nois","mode"];if(T==1){L.push("segm");if(this.Cp){L.push("poly");
if(t)L.push("polE")}}if(this.Cp)L.push("merg");else L.push("dthr");L.push("ok");Z.ew(this.Ly);for(var m=0;
m<L.length;m++)this.Ly.appendChild(y[L[m]].e);if(g)console.log("---------------------------------------");
var H=b||a,w=b+","+a;if(H&&(this.uI==null||this.dG!=w)){this.dG=w;var P=new Uint8Array(k.data),Q=k.MR.m,x=k.MR.n;
if(b){if(this.w2==null){this.w2=P.slice(0);_.Cc.bm(this.w2,this.w2,Q,x,15,_.Cc.Ir,[35]);if(g){console.log("denoise",Date.now()-o);
o=Date.now()}}P=this.w2.slice(0)}else P=P.slice(0);if(a){var F=_.r7.$O(P,Q,x,40,10),E=F.Oz,f=new Uint8Array(E*4);
for(var m=0;m<E;m++){var c=m*4,M=m*6,n=1/F.Fu[M+5];f[c]=F.Fu[M]*n;f[c+1]=F.Fu[M+1]*n;f[c+2]=F.Fu[M+2]*n}for(var m=0;
m<P.length;m+=4){var X=F.pQ[m>>>2]*4;P[m]=f[X];P[m+1]=f[X+1];P[m+2]=f[X+2]}if(g){console.log("segm",Date.now()-o);
o=Date.now()}}this.uI={MR:k.MR.clone(),data:P.buffer}}if(H)k=this.uI;var P=new Uint8Array(k.data),Q=k.MR.m,x=k.MR.n;
for(var m=0;m<P.length;m+=4){if(P[m+3]<10)P[m]=P[m+1]=P[m+2]=P[m+3]=0}if(T==0){u=_.r7.ayo(P,Q,x,d,H?.1:2e-4);
if(g){console.log("quantize",Date.now()-o);o=Date.now()}}if(T!=0||u&&u.P1.length<2){u=iO.av6(P.buffer,d,Q,x)}if(this.Cp){var I=u.pQ.slice(0);
for(var m=0;m<I.length;m++)I[m]++;var r=new Uint8Array((Q+2)*(x+2));_.sQ(I,new bd(1,1,Q,x),r,new bd(0,0,Q+2,x+2));
if(!t){var J=Math.round((Q+2)*(x+2)/1e4),U=aO.RB(r.slice(0),Q+2,x+2,Math.min(12,J)),K=aO.uM(U);if(g){console.log("trace smooth",Date.now()-o);
o=Date.now()}}else{var K=_.p.Ur(r,Q+2,x+2,e,g)}var i=K.length,z=new d3(1,0,0,1,-1,-1);for(var m=0;m<i;
m++)_.p.D(K[m].path.j,z,K[m].path.j);this.de=K;this.Wk=u;for(var m=0;m<i;m++){var h=K[m];for(var R=m+1;
R<i;R++){var C=K[R];if(C.parent==m&&u.P1[C.color-1].est.q[3]<.05){var G=C.path.F.slice(1);G.reverse();
G=["M"].concat(G);var W=[],U=C.path.j.length;for(var A=0;A<U;A+=2){W[A]=C.path.j[U-2-A];W[A+1]=C.path.j[U-2-A+1]}_.p.concat(h.path,{j:W,F:G})}}}if(g){console.log("finding holes",Date.now()-o);
o=Date.now()}for(var m=0;m<K.length;m++){var $=K[m];if($.parent!=-1){var O=K[$.parent];$.parent=O;if(O.vj==null)O.vj=[];
O.vj.push($)}$.depth=$.parent==-1?0:$.parent.depth+1}if(j){function Y(aQ,f4){var dt={},hY=0,b9=0;for(var m=0;
m<aQ.length;m++){var q=aQ[m].color,A="c"+q;if(q==f4)throw q;if(dt[A]==null)dt[A]=0;dt[A]++;if(dt[A]>hY){hY=dt[A];
b9=q}}return b9}var l=[],B=[],f4=-1,V=!0;for(var m=0;m<K.length;m++)if(K[m].parent==-1)B.push(K[m]);
while(B.length!=0){var q=Y(B,f4);f4=q;for(var m=0;m<B.length;m++)if(B[m].color==q){var s=B[m];l.push(s);
B.splice(m,1);m--;if(s.vj)for(var R=0;R<s.vj.length;R++){B.push(s.vj[R]);if(s.vj[R].color!=q)V=!1}}}if(V)K=l;
else{var cW=[];for(var dk=0;dk<500;dk++){var kr=[],U=cW[dk-1];cW.push(kr);for(var m=0;m<K.length;m++){var $=K[m],O=$.parent;
if(dk==0&&O==-1||dk!=0&&U.indexOf(O)!=-1){kr.push($);K.splice(m,1);m--}}kr.sort(function(aQ,dt){return aQ.color-dt.color});
if(K.length==0)break}for(var m=0;m<cW.length;m++)K=K.concat(cW[m])}}else{var l=[],j9=[];while(K.length!=0){j9.push(K.shift());
while(j9.length!=0){var bh=j9.pop();l.push(bh);if(bh.vj)for(var m=0;m<bh.vj.length;m++){var $=bh.vj[m];
K.splice(K.indexOf($),1);j9.push($)}}}K=l}this.de=K;for(var m=0;m<K.length;m++){var h=K[m],fe=u.P1[h.color-1].est.q;
if(fe[3]<=.05){K.splice(m,1);m--;continue}}for(var m=1;m<K.length;m++){var gg=K[m-1],h=K[m];if(gg.color==h.color&&(j||gg.parent==h.parent&&gg.depth>=2)){_.p.concat(gg.path,h.path);
K.splice(m,1);m--;continue}}if(g){console.log("reordering layers",Date.now()-o,i,K.length);o=Date.now()}this.Rm()}else{var a$=new Uint32Array(Q*x),dg=Q*x;
if(v){var iv=[];for(var m=0;m<u.P1.length;m++)iv.push(u.P1[m].est.rgba);var X=_.Q(Q*x);UPNG.encode.dither(new Uint8Array(k.data),Q,x,iv,new Uint8Array(a$.buffer),X)}else{for(var m=0;
m<dg;m++){var q=u.P1[u.pQ[m]];a$[m]=q.est.rgba}}this.apX=new Uint8Array(a$.buffer);this.pA.$([{MR:k.MR,data:a$.buffer}]);
if(this.LD){this.pA.$W();this.LD=!1}}};i7.prototype.Rm=function(g){if(this.de==null)return;var o=this.l1.MR.m,k=this.l1.MR.n,y=this.de,d=this.Wk.P1,b=this.T,T=this.iS,a=this.tZ.r6();
T.setTransform(1,0,0,1,0,0);T.clearRect(0,0,b.width,b.height);T.translate(b.width/2,b.height/2);T.scale(a.N,a.N);
T.translate(a.Y.x/a.N-o/2,a.Y.y/a.N-k/2);T.scale(1/a.N,1/a.N);T.fillStyle=this.EC;T.fillRect(0,0,o*a.N,k*a.N);
T.scale(a.N,a.N);var t=[];for(var m=0;m<d.length;m++){var j=d[m].est.q;t.push({o:Math.round(255*j[0]),C:Math.round(255*j[1]),k:Math.round(255*j[2]),Ng:Math.round(255*j[3])})}for(var m=0;
m<y.length;m++){var e=y[m],j=t[e.color-1];if(j.Ng==0)continue;T.fillStyle="rgba("+j.o+","+j.C+","+j.k+","+j.Ng/255+")";
T.beginPath();Typr.U.pathToContext({crds:e.path.j,cmds:e.path.F},T);T.fill()}};i7.prototype.CR=function(g){var o=this.m1,k=o.g[0],y=o.d[k],d=new jB(N.E.L,!0);
d.Yi=!0;d.G=D.Jn;if(this.Cp){var b=this.de,T=b.length==1,a=o.d.slice(0,k);if(!T)a.push(o.L0());for(var m=0;
m<b.length;m++){var t=b[m],j=this.Wk.P1[t.color-1].est.q;_.p.D(t.path.j,new d3(1,0,0,1,y.rect.x,y.rect.y),t.path.j);
var e=o.Qf();e.mP("Path "+m);a.push(e);e.opacity=Math.round(j[3]*255);e.b_|=16;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:_.M.UF({o:255*j[0],C:255*j[1],k:255*j[2]})}};
e.add.vmsk=new p.Ew;e.add.vstk=JSON.parse(JSON.stringify(iZ.X9.default));e.add.vmsk.a=_.p.XP(t.path,!1);
e.add.vogk=[];e.Ko();e.bD(o)}var v=a[a.length-1];if(!T){var e=o.Qf();e.mP(y.getName());e.add.lsct=cK.TD;
e.HW="pass";e.b_=24;a.push(e);v=e}var L=y.add.lmfx;if(L)v.add.lmfx=JSON.parse(JSON.stringify(L));for(var m=k+1;
m<o.d.length;m++)a.push(o.d[m]);d.data={P:p.cI,ze:a,A2:[k+b.length+(T?-1:1)],Y5:[11,11,0]}}else{var a=o.d.slice(0),e=o.Qf();
e.mP(y.getName());a.splice(o.g[0]+1,0,e);e.rect=y.rect.clone();e.buffer=this.apX;e.U();d.data={P:p.cI,ze:a,A2:[o.g[0]+1],Y5:[11,11,1]}}this.S(d);
this.close()};function a2(g){dd.call(this,[[7,11],[7,13]][g],["redge","magiccut"][g]);this.cD=g;this.l1={};
this.nd=null;this.Px=null;this.m1=null;this.fO=null;this.go=null;this.body.style.padding="0";this.yJ=[];
this.fA=-1;this.Ly=Z.t("div","form hbar padded");this.body.appendChild(this.Ly);this.YK=new d4;this.YK.parent=this;
this.YK.h(N.E.A,this.Xd,this);this.Ly.appendChild(this.YK.e);var o=g==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
o=o.concat("tools/hand","zoomIn","zoomOut");var k=g==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.vg=new g9(null,o,k,28);this.vg.h(N.E.A,this.Zl,this);this.Ly.appendChild(this.vg.e);this.YQ=new k9([7,9],0,50,null);
this.YQ.parent=this;this.YQ.h(N.E.A,[this.aaw,this.yL][g],this);this.Ly.appendChild(this.YQ.e);var y=this.a6C=new da([2,2],!1,null,!0);
y.h("click",this.zX,this);this.Ly.appendChild(y.e);var d=this.$q=Z.t("span","form");this.Ly.appendChild(d);
var b=this.aaY=new da([12,90],!1,null,!0);b.h("click",function(t){alert(g==0?d9.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
d.appendChild(b.e);var T=new da("Tutorial",!1,null,!0);T.h("click",this.a64,this);d.appendChild(T.e);
this.Gr=new g9([12,46],["checker","#ffffff","#000000"]);this.Gr.h(N.E.A,this.a2B,this);d.appendChild(this.Gr.e);
this.eo=new cR(null,[[6,13],[6,2],[17,2]]);d.appendChild(this.eo.e);this._5=Z.zE(this,d,!1);var a=this.gq=Z.t("div","flexrow");
this.body.appendChild(a);this.YE=new k8(!0);this.dX=new k8;this.YE.zj(this.dX);this.dX.zj(this.YE);this.YE.h("mousedown",this.wt,this);
this.YE.h("mousemove",this.XQ,this);this.YE.h("mouseup",this.zf,this);this.YE.h("zoom",this.Xd,this);
this.dX.h("zoom",this.Xd,this);a.appendChild(this.YE.e);a.appendChild(this.dX.e)}a2.prototype=new dd;
a2.prototype.FD=function(g,o){var k=g!=null&&!g.d[g.g[0]].rect.on();if(!k)alert("The layer is empty.");
return k};a2.prototype.fM=function(){return new bJ(0,0)};a2.prototype.tt=function(){return!0};a2.prototype.UC=function(g,o){this.bW=g;
this.GP=o;o=o-12-33;if(g<900){this.$q.setAttribute("style","display:block;  text-align:right;");o-=29}else{this.$q.setAttribute("style","position:absolute;  right:0px")}this.Gr.HZ(g<440?null:[12,46]);
this.YQ.HZ(g<470?null:[7,9]);var k=this.l1.rect;if(k){var y=a2.alM(g,o,k.m,k.n);if(y==0){g=Math.floor(g/2);
Z.O9(this.gq,"flexrow")}else{o=Math.floor(o/2);Z.Iu(this.gq,"flexrow")}this.YE.UC(g,o);this.dX.UC(g,o)}};
a2.alM=function(g,o,k,y){var d=g/2,b=o/2,T=Math.min(d/k,o/y),a=Math.min(g/k,b/y);return T>a?0:1};a2.prototype.f=function(){dd.prototype.f.call(this);
this.YK.f();this.YQ.f();this._5.f();this.Gr.f();this.eo.f();this.a6C.f();this.aaY.f()};a2.prototype.a64=function(g){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.cD],"_blank")};
a2.prototype.mt=function(g,o){this.Px=g;if(o==er.Bj||o==er.a_){this.YK.cz(g.uq);this.YK.$(jl.bZ(),g.uq.sc,g.uq.Uu)}};
a2.prototype.Zl=function(g,o,k,y){var d=this.vg.c();if(y==null){this.YE.Zl(k8.akX(d-3));return}this.fO=y;
var b=D.Ak.s0(this.YK.c(),y);if(b!=null){this.YK.$(b);this.Xd()}else if(y.z(dj.IQ)&&y.z(dj.YT)){var T=this.yJ,a=0;
if(y.z(dj.d_)){if(this.fA+1<T.length)a=1}else if(this.fA>0)a=-1;if(a!=0){this.fA+=a;var t=this.fA,j=this.l1;
if(a==1)_.g1(T[t][2],T[t][0],j.GM,j.rect);else _.g1(T[t+1][1],T[t+1][0],j.GM,j.rect);j.aK=j.rect;this.yL()}}else if(d<3)this.YE.Zl(y)};
a2.prototype.Mw=function(g){var o=this.l1,k=this.yJ,y=_.Q(g.O()*4);_.g1(o.Bn,o.rect,y,g);o.Bn=null;var d=_.Q(g.O()*4);
_.g1(o.GM,o.rect,d,g);this.fA++;k[this.fA]=[g.clone(),y,d];while(k.length>this.fA+1)k.pop();while(k.length>50){k=k.slice(1);
this.fA--}};a2.prototype.Xd=function(){var g=this.Px,o=e9.JV(this.YK.c(),g.uq.sc,this.YE.r6().N);this.YE.ED(o)};
a2.prototype.wt=function(g){var o=this.Px,k=this.l1,y=this.fO,d=this.YK.c(),b=this.YE.c0(),T=[16777215,8421504,0][this.vg.c()];
this.nd=new e9(d,o.uq.sc,o.uq.Uu,{$C:1,xt:!0},T,o.Pp,k.rect);k.Bn=k.GM.slice(0);if(y!=null&&y.z(dj.d_)&&this.go){this.nd.moveTo(this.go.x,this.go.y);
this.nd.lineTo(b.x,b.y)}else this.nd.moveTo(b.x,b.y);this.ayg()};a2.prototype.XQ=function(g){var o=this.l1,k=this.YE.c0();
this.nd.lineTo(k.x,k.y);this.ayg()};a2.prototype.zf=function(g){this.go=this.YE.c0();this.Mw(this.nd.Ut());
this.yL()};a2.prototype.ayg=function(){var g=this.l1,o=this.nd,k=o.JI();if(k.on())return;g.aK=k;_.l.I3("norm",o.lo(),o.B2(),g.GM,g.rect,k,1);
this.aoL()};a2.prototype.zX=function(g){var o=this.l1;o.Bn=o.GM.slice(0);o.aK=o.rect;_.Sm(o.GM,[4278190080,4292730333][this.cD]);
this.Mw(o.rect);this.yL()};a2.prototype.I_=function(g,o){this.m1=g;var k=g.d[g.g[0]],y=k.rect.clone(),d=y.m,b=y.n;
this.YQ.$(this.cD==0?3:d*b<3e6?3:0);this.vg.$(g.J==null?0:1);this.YQ.jK();if(this.cD==0&&g.J!=null||this.cD==1)this.YQ.gM();
var T=this.cD,a=_.Q(y.O()),t=new Float32Array(y.O());if(T==0&&g.J){_.sQ(g.J.channel,g.J.rect,a,y);var j=_.Q(y.O());
for(var e=0;e<b;e++)for(var v=0;v<d;v++){var m=e*d+v,L=a[m];if(v>0&&a[m-1]!=L||v<d-1&&a[m+1]!=L||e>0&&a[m-d]!=L||e<b-1&&a[m+d]!=L)j[m]=255}_.style.ec(j,t,d,b)}else t.fill(1e9);
y.x=y.y=0;this.l1={rect:y,rg:k.buffer,J2:a,iq:t,dq:_.Q(y.O()*4),nb:_.Q(y.O()*4),GM:_.Q(y.O()*4),Bn:null,Iz:null,aK:y,ahb:{}};
if(T==0)this.aaw();else{this.l1.ahb=D.Vt.aax(g);var H=this.l1.GM;_.Sm(H,4287137928);var w=_._a.getSelection(k.buffer,d,b),P=Math.round(d/60),Q=Math.round(.7*b);
for(var e=0;e<b;e++)for(var v=0;v<d;v++){var x=(e*d+v)*4,F=w[x>>>2];F=F>128?255:128;if(e<P||e<Q&&(v<P||v>d-1-P))F=0;
H[x]=H[x+1]=H[x+2]=F}this.yL()}this.yJ=[1];this.fA=0;var E=this.YK.c();E.Brsh.v.Dmtr.v.val=Math.round(y.m/(T==0?10:20));
this.YK.$(E);this.Xd();this.UC(this.bW,this.GP);this.YE.$W()};a2.prototype.aaw=function(){var g=this.l1,o=g.rect.O(),k=this.YQ.c(),y=g.J2.slice(0);
for(var m=0;m<o;m++)if(g.iq[m]<k)y[m]=128;_.Sm(g.GM,4294967295);_.e_(y,g.GM,0);_.e_(y,g.GM,1);_.e_(y,g.GM,2);
g.aK=g.rect;this.yL()};a2.prototype.yL=function(){var g=this.l1,d,a,t=0,j=0,e=0;this.aoL();var o=g.rect,k=o.m,y=o.n,b=_.Q(o.O()),T=g.rg;
_.B4(g.GM,b,0);for(var m=0;m<b.length;m++){if(T[(m<<2)+3]!=255)continue;var v=b[m];if(v==0)t++;else if(v==255)j++;
else e++}if(t*j*e!=0){if(this.cD==0)a=_.tw.tw(o,T,b);else{var L=this.vg.c();for(var H=1;H<y;H++)for(var w=1;
w<k;w++){var m=H*k+w,P=b[m],Q=b[m-1];if(P==0&&Q==255||P==255&&Q==0){d="The Red and Green should never touch! Erase it with Grey.";
break}}var x=Date.now(),F=this.l1.ahb;_.QF(b,F.Pr);D.Vt.Cl(F,!0);var E=Math.ceil(this.YQ.c()/2);if(E==0){a=T.slice(0);
_.e_(F.J,a,3)}else{var f=F.J.slice(0),c=F.J.slice(0);for(var M=0;M<E;M++){for(var H=1;H<y-1;H++)for(var w=1;
w<k-1;w++){var m=H*o.m+w,n=f[m];if(f[m-k]!=n||f[m-1]!=n||f[m+1]!=n||f[m+k]!=n)c[m]=128;else c[m]=n}var X=f;
f=c;c=X}a=_.tw.tw(o,T,f,20,!1)}}}else{a=T.slice(0);_.e_(b,a,3)}for(var m=3;m<a.length;m+=4)if(a[m]>T[m])a[m]=T[m];
if(o.ey(g.rect))g.Iz=a;else _.g1(a,o,g.Iz,g.rect);this.a2B();if(d)alert(d,4e3)};a2.prototype.aoL=function(g){var o=this.l1,k=o.aK;
_.g1(o.rg,o.rect,o.dq,o.rect,k,!0);var y=o.GM;if(this.cD==1){var d=new Uint32Array(256);d[0]=4278190335;
d[255]=4278255360;var b=o.rect.O();y=y.slice(0);var T=new Uint32Array(y.buffer);for(var m=0;m<b;m+=2){T[m]=d[T[m]&255];
T[m+1]=d[T[m+1]&255]}}_.l.I3("norm",y,o.rect,o.dq,o.rect,k,.3);this.YE.$([{MR:o.rect,data:o.dq.buffer}])};
a2.prototype.a2B=function(g){var o=this.l1;_.Sm(o.nb,[0,4294967295,4278190080][this.Gr.c()]);_.l.I3("norm",o.Iz,o.rect,o.nb,o.rect,o.rect,1);
this.dX.$([{MR:o.rect,data:o.nb.buffer}])};a2.prototype.CR=function(g){var o=this.m1,k=this.l1,y=this.eo.c(),d=o.d[o.g[0]],b=new jB(N.E.L,!0);
b.Yi=!0;var T=d.rect.clone();if(y==0&&d.oa()||y!=0&&!d.oa()){b.G=D.Jn;b.data={P:p.HF,i:o.g[0]};this.S(b)}if(o.J!=null){b.G=D.ng;
b.data={P:"fromAction",A3:D.qT.ti()};this.S(b)}if(y==0){var a=o.d.slice(0),t=o.Qf();t.mP(d.getName());
a.splice(o.g[0]+1,0,t);t.rect=T;t.buffer=k.Iz;t.U();b.G=D.Jn;b.data={P:p.cI,ze:a,A2:[o.g[0]+1],Y5:[7,11]};
this.S(b)}if(y==1){var j=d.Qp();b.G=D.Jn;b.data={P:p.vL,agE:!0};this.S(b);var e=d.Qp();e.channel=_.Q(T.O());
e.rect=T;e.color=0;e.WP=!0;_.B4(k.Iz,e.channel,3);if(j){var v=e.x7(j);e.rect=v.rect;e.channel=v.channel;
e.color=v.color}e.xO();d.bD()}if(y==2){var L={rect:T,channel:_.Q(T.O())};_.B4(k.Iz,L.channel,3);b.G=D.ng;
b.data={P:"setsel",J:L,Y5:this.mT};this.S(b)}this.close()};function h5(){dd.call(this,[1,13],"locstor");
this.eM=null;this.CO=[];var g=this.body,o=Z.t("p");o.textContent="These files are loaded every time you start Photopea.";
g.appendChild(o);this.a1h=0;this.$r=Z.t("span");g.appendChild(this.$r);this.$r.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var k=Z.t("span","form");g.appendChild(k);this.ua=new da([5,4],!1,null,!0);this.ua.h("click",this.wE,this);
k.appendChild(this.ua.e);this.h5=new da("Get all as ZIP",!1,null,!0);this.h5.h("click",this.oT,this);
k.appendChild(this.h5.e);this.ZR=new i2(!0);this.ZR.parent=this;this.ZR.t5(1);g.appendChild(this.ZR.e);
this.ZR.e.setAttribute("style","width: 40em; height: 25em")}h5.prototype=new dd;h5.prototype.f=function(){dd.prototype.f.call(this);
this.$r.textContent=d9.get([13,2])+": "+jg.Tc(this.a1h);this.ua.f()};h5.prototype.mt=function(g,o){this.eM=g;
if(o==er.BG)this.I_()};h5.prototype.I_=function(g,o){var k=this.eM.Kc.vM,t=0;this.CO=[];for(var y in k)this.CO.push(y);
this.CO.sort(function(e,v){e=e.split(".");v=v.split(".");return e[1]==v[1]?e[0]<v[0]?-1:1:e[1]<v[1]?-1:1});
var d=Math.floor(100*Z.V()),b=Math.floor(16*Z.V()),T=[],a=[];for(var m=0;m<this.CO.length;m++){var y=this.CO[m],j=h5.OJ(y,k[y],d,b);
T.push(j);a.push(y);t+=k[y].byteLength}this.ZR.dn(T,a,d,b);this.a1h=t;this.f()};h5.prototype.wE=function(g){var o=this.ZR.c();
if(o.length==0){alert("Select a file first.");return}this.ZR.$([]);var k=this.eM.Kc.vM;for(var m=0;m<o.length;
m++)delete k[this.CO[o[m]]];var y=new jB(N.E.s,!0);y.data={P:N.b.pB,Q6:er.BG};this.S(y)};h5.prototype.oT=function(g){var o=this.eM.Kc.vM,k={};
for(var y in o)k[y]=new Uint8Array(o[y]);var d=UZIP.encode(k);ap.save(d,"resources.zip")};h5.OJ=function(g,o,k,y){var d=Z.t("canvas"),a=0;
d.width=k;d.height=y;var b=d.getContext("2d"),T=g.split(".").pop().toLowerCase();for(var m=0;m<T.length;
m++)a+=T.charCodeAt(m)*613<<8*m;b.fillStyle="#"+_.Mb(a&16777215);b.fillRect(0,0,20,y);var t=Math.floor(14*Z.V());
b.fillStyle="#000000";b.font="bold "+t+"px sans-serif";var j=(y-t)/2,e=jg.Tc(o.byteLength),v=b.measureText(e);
b.fillText(e,k-12-v.width,y-j);return d.toDataURL()};function jv(){dd.call(this,[1,15],"pmanager");this.eM=null;
this.iN=new cR([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.iN.h(N.E.A,this.I_,this);
this.body.appendChild(this.iN.e);var g=Z.t("div","flexrow");this.body.appendChild(g);var o=this.ak_=Z.t("div");
g.appendChild(o);var k=Z.t("div","form");g.appendChild(k);k.setAttribute("style","width:140px; margin-left:12px");
this.ayt=[er.Bj,er.aB,er.EB,er.fB,er.Yh,er.L5];this.dW=[new d4,new gw,new jC,new f_,new kg,new iM];for(var m=0;
m<this.dW.length;m++)this.dW[m].parent=this;this.Li=[];for(var m=0;m<4;m++){var y=new da("Hello",!0,null,!0);
y.h("click",this.D9,this);this.Li.push(y);k.appendChild(y.e)}this.I_()}jv.prototype=new dd;jv.prototype.xg=function(g){return g==dj.aS||g==dj.uo};
jv.prototype.D9=function(g){var m=this.Li.indexOf(g.target);this.dW[this.iN.c()].Ae(m)};jv.prototype.f=function(){dd.prototype.f.call(this);
this.iN.f();for(var m=0;m<this.dW.length;m++)this.dW[m].f();var g=this.Li,o=this.iN.c(),k=er.p7[this.ayt[o]],y=k[0].toUpperCase();
g[0].HZ([[23,6],"."+y]);g[1].HZ(["VAR0 ."+y,[1,8]]);g[2].HZ([6,37]);g[3].HZ([5,4])};jv.prototype.mt=function(g,o){this.eM=g;
this.I_()};jv.prototype.I_=function(g,o){if(!Z.Hd(this.e))return;this.f();Z.ew(this.ak_);this.ak_.appendChild(this.dW[this.iN.c()].qO);
var k=this.dW,y=this.eM;if(y==null)return;k[0].cz(y.uq);k[1].uy(y.p2,y.Pp);k[1].cz(y.ee);k[2].cz(y.A6);
k[3].cz([y.oz,y.A6]);k[4].cz(y.y6);k[5].cz(y.I6)};function jq(g,o,k){dd.call(this,o,"cwindow");this.afm=new bJ(k[0],k[1]-33);
this.Ly=Z.t("div","form");this.Ly.setAttribute("style","width:"+(k[2]-k[0])+"px; height:"+(k[3]-k[1])+"px");
this.body.appendChild(this.Ly)}jq.prototype=new dd;jq.prototype.fM=function(g,o){return this.afm.clone()};
function cu(g){var o=cu.acv(g);dd.call(this,o,"res"+g);var k=this.a4M.bind(this);window.addEventListener("message",function(d){if(typeof d.data=="string"&&d.data.startsWith("--et ")){console.log(d.data);
var b=this.auS=d.data.slice(5).split(",");b[0]=parseFloat(b[0]);fV.c5(b[0],b[1],k)}}.bind(this));this.AZ=o;
this.NU=g;this.a5N=null;this.Hh=null;this.Ti=0;this.CK=null;this.sO=null;this.auS=null;this.eM=null;
this.body.setAttribute("style","padding:0");this.Pl=new da("",null,null,!0);this.body.appendChild(this.Pl.e);
this.Pl.h("click",this.Ec,this);this.Pl.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.CE=Z.t("span","form");this.body.appendChild(this.CE);this.CE.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.Li=[];for(var m=0;m<9;m++){var y=new da(cu.acv(m));this.Li.push(y);if(m==g)y.$(!0);this.CE.appendChild(y.e);
y.h("click",this.a88,this)}this.JQ=new da([5,3],null,null,!0);this.JQ.h("click",this.apv,this);this.afJ=new da("Upload Current Document as a Template",null,null,!0);
this.afJ.h("click",this.aso,this);this.wP=new ic("Creator / Brand name");this.NF=new da([1,2],null,null,!0);
this.NF.h("click",this.oT,this);this.LR=Z.t("iframe","scrollable");this.LR.setAttribute("style","border:none; margin:0; padding:0;");
this.L4=Z.t("div","form scrollable padded");this.b3=new aE(g);this.b3.h("back",this.zX,this);this.b3.h("save",this.alL,this);
this.body.appendChild(this.LR)}cu.prototype=new dd;cu.acv=function(g){var o;if(g==0)o=[25,0];else if(g==1)o="Plugins";
else for(var k in er.p7)if(er.p7[k][4]==g)o=er.p7[k][3];return o};cu.prototype.a88=function(g){var m=this.Li.indexOf(g.target);
if(m==this.NU)return;this.close();var o=new jB(N.E.s,!0);o.data={P:N.b.xp,Pv:"res"+m};this.S(o)};cu.prototype.a4M=function(g){this.Ec();
this.sO=JSON.parse(g.target.response);this.UX()};cu.prototype.fM=function(g,o){return new bJ(0,0)};cu.prototype.UC=function(g,o){this.bW=g;
this.GP=o;this.i5=null;o=o-4;g=g;var k=this.L4;k.style.width=g-12+"px";k.style.height=o-12+"px";var k=this.b3.e;
k.style.width=g-12+"px";k.style.height=o-12+"px";var k=this.LR;k.style.width=g+"px";k.style.height=o+"px";
this.QH()};cu.prototype.mt=function(g,o){this.eM=g};cu.prototype.f=function(){dd.prototype.f.call(this);
for(var m=0;m<this.Li.length;m++)this.Li[m].f();this.JQ.f()};cu.prototype.I_=function(g,o,k,y){this.i5=g;
this.Ec(null,!1)};cu.prototype.Ec=function(g,o){var k=o!=null?o:Z.Hd(this.LR);if(k){if(!fV.LG()){alert("You need to log in first!");
return}var y=fV.uQ();this.Hh=y.tpl?y.tpl.list:[];this.wP.$(y.tpl&&y.tpl.brnd?y.tpl.brnd:"");this.QH()}else{this.LR.setAttribute("src","");
this.LR.setAttribute("src","templates/?type="+this.NU+"&rsrc="+this.eM.BH.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(k?this.L4:this.LR);var d=d9.get(this.AZ);this.Pl.HZ(k?"All "+d:"Add "+d)};cu.prototype.QH=function(){var g=d9.get(this.AZ),o=this.Hh,k=this.NU,a=450;
if(o==null)return;var y=this.L4;Z.ew(y);var d=Z.t("h1");y.appendChild(d);d.textContent="Share your "+g+" with the world!";
var b=Z.t("ul");y.appendChild(b);var T=Z.t("li");b.appendChild(T);T.textContent="By publishing your "+g+", you agree to let others use them for all kinds of purposes, even commercially.";
y.appendChild(this.JQ.e);if(k==0)y.appendChild(this.afJ.e);Z.Dx(y);y.appendChild(this.wP.e);y.appendChild(this.NF.e);
Z.Dx(y);a=(this.bW-20)/Math.max(1,Math.floor(this.bW/a))-42;var t="display:inline-block; width:"+a+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var m=o.length-1;m>=0;m--){var j=o[m];if(j.type==null)j.type=0;if(j.type!=k)continue;var e=Z.t("div");
y.appendChild(e);e.setAttribute("style",t);var v=Z.t("img");e.appendChild(v);v.setAttribute("src",j.thmb);
v.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var L=Z.t("h3");e.appendChild(L);L.textContent=j.name;L.setAttribute("style","margin:0 0 10px 0");var H=Z.t("p");
e.appendChild(H);H.textContent=j.desc;H.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var w=0;w<2;w++){var P=new da(w==0?"Edit":"Delete",null,null,!0);P.av9=m;P.UX=w==0;P.h("click",this.amU,this);
e.appendChild(P.e)}}};cu.prototype.aso=function(g){if(this.i5==null){alert("No document opened.");return}var o=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!o)return;var k=new jB(N.E.s,!0);k.data={P:N.b.Ay,dv:"psd",lC:this.ako.bind(this)};this.S(k)};cu.prototype.ako=function(g){this.ad_=g;
var o=new jB(N.E.s,!0);o.data={P:N.b.Ay,dv:"jpg",lC:this.acn.bind(this),abJ:1400};this.S(o)};cu.prototype.acn=function(g){this.CK={type:0,catg:0,desc:"",file:this.ad_,name:this.i5.name.split(".")[0],thmb:g,publ:!0,utme:""};
this.UX()};cu.prototype.apv=function(g){this.CK={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.UX()};cu.prototype.amU=function(g){this.Ti=g.target.av9;if(!g.target.UX){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Hh.splice(this.Ti,1);this.oT();this.QH();return}this.UX()};cu.prototype.UX=function(){if(Z.Hd(this.L4))this.body.removeChild(this.L4);
this.body.appendChild(this.b3.e);var g=this.CK?this.CK:this.sO?this.sO:this.Hh[this.Ti];if(g.type==null)g.type=0;
this.b3.$(g)};cu.prototype.alL=function(g){var o=this.b3.c();if(this.CK)this.Hh.push(o);else if(this.sO){var k=this.auS;
fV.c5(k[0],k[1],this.zX.bind(this),JSON.stringify(o));return}else this.Hh[this.Ti]=o;this.oT();this.zX()};
cu.prototype.zX=function(){var g=this.sO;this.CK=null;this.sO=null;this.body.removeChild(this.b3.e);
this.body.appendChild(this.L4);this.QH();if(g)this.Ec()};cu.prototype.oT=function(){var g=fV.uQ();if(this.Hh.length==0)delete g.tpl;
else{g.tpl={list:JSON.parse(JSON.stringify(this.Hh))};var o=this.wP.c().trim();if(o!="")g.tpl.brnd=o}fV.Xc(g,function(){alert("Saved.")})};
function dp(){dd.call(this,"Make Selection","makesel");this.eM=null;var g=Z.t("div","form");this.body.appendChild(g);
this.FJ=new dX([12,25,1]);this.FJ.$(!0);g.appendChild(this.FJ.e);Z.Dx(g);this.vV=new bI(!0);g.appendChild(this.vV.e);
this._5=Z.zE(this,this.body)}dp.prototype=new dd;dp.prototype.f=function(){dd.prototype.f.call(this);
this.vV.f();this.FJ.f();this._5.f()};dp.prototype.CR=function(g){var o=new jB(N.E.L,!0);o.G=D.ng;o.data={P:"frompath",Q9:[null,0,this.vV.c(),this.FJ.c()]};
this.close();this.S(o)};function c6(){dd.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.i5=null;this.R_=null;
this.KP=null;var g=this.ahL=Z.t("div","form");g.setAttribute("style","width:20em");this.body.appendChild(g);
this.ut=new k5([12,50],["PSD","PSB"]);this.ut.h(N.E.A,this.ae,this);g.appendChild(this.ut.e);Z.Jo(g);
var o=new bZ("Minify the file");g.appendChild(o.e);Z.Dx(g);var k=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Ys=[];for(var m=0;m<k.length;m++){var y=new dX(k[m]);this.Ys.push(y);g.appendChild(y.e);y.h(N.E.A,this.ae,this)}Z.Jo(g);
this.ou=new bZ("aa.psd");this.hM=new bZ("10 kB");g.appendChild(this.hM.e);this.ala=new bZ("1000 B");
g.appendChild(this.ala.e);this._5=new da([1,2],!0,null,!0);this._5.h("click",this.CR,this);g.appendChild(this._5.e);
this.Cz=new da(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Cz.h("click",this.CR,this);g.appendChild(this.Cz.e);
this.h("closebtn",this.Xa,this)}c6.prototype=new dd;c6.prototype.I_=function(g,o,k,y){var d=Z.Hd(this.Cz.e),b=g.mF!=null&&g.mF.Gl=="psd";
if(b&&!d)this.ahL.appendChild(this.Cz.e);if(!b&&d)this.ahL.removeChild(this.Cz.e);for(var m=0;m<this.Ys.length;
m++)this.Ys[m].$(!1);this.i5=g;this.ae()};c6.prototype.CR=function(g){if(g.target==this._5)ap.save(this.R_,this.KP);
else{if(this.Ys[3].c()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fo.asJ(this.i5,this.R_)}};
c6.prototype.Xa=function(){this.i5=null;this.R_=null};c6.prototype.ae=function(){var g=this.i5,o=[!1,!1,!1,!1];
for(var m=0;m<3;m++)o[m]=this.Ys[m].c();var k=this.Ys[3].c(),y=o[3]=this.ut.c()==1,d=g.name.slice(0,g.name.length-3),b=this.R_=cp.rJ("PSD").p0(g,0,0,o),cy=this.KP=d+"ps"+(y?"b":"d");
if(k){var T={};T[cy]=new Uint8Array(b);b=this.R_=UZIP.encode(T);cy=this.KP=d+"zip"}this.ou.$(cy);this.hM.$(jg.Tc(b.byteLength));
this.hM.e.style["font-size"]="2em";this.ala.$(" \u2001 "+b.byteLength+" B");this._5.HZ(d9.get([1,2])+" \""+cy+"\"")};
c6.prototype.f=function(){dd.prototype.f.call(this);this.ut.f();this._5.f();this.Cz.f()};function gS(){dd.call(this,"Confirm","confirm");
this.H_=null;var g=Z.t("div");g.setAttribute("style","margin-bottom:1em");this.body.appendChild(g);this.EI=Z.t("div");
this.EI.textContent="Hello";g.appendChild(this.EI);this._5=Z.zE(this,this.body)}gS.prototype=new dd;
gS.prototype.CR=function(g){console.log("okconfirm");this.close();this.H_()};gS.prototype.I_=function(g,o){if(o.awp)this.EI.innerHTML=o.Z;
else this.EI.textContent=o.Z;this.H_=o.H_;this._5.e.focus();if(o.awp!=null)this.e.style.top=Math.random()*(window.innerHeight-150)+"px";
this.a7k=o.awp!=null};gS.prototype.fM=function(g,o){return new bJ(Math.max(0,(g-500)/2),Math.max(0,Math.min(60,(o-100)/2)))};
gS.prototype.UC=function(g,o){this.EI.style.width=g-30+"px"};function jA(){dd.call(this,[1,16,2],"newartb");
this.cD=0;this.A5=null;var g=Z.t("div","form");g.style.width="260px";this.body.appendChild(g);this.ZR=new ec;
g.appendChild(this.ZR.e);this._5=Z.zE(this,g)}jA.prototype=new dd;jA.prototype.FD=function(g,o){return g!=null};
jA.prototype.CR=function(g){var o=this.ZR.c();this.A5.m=o.x;this.A5.n=o.y;var k=new jB(N.E.L,!0);k.G=D.IC;
k.data={aeB:this.A5,fE:this.cD};this.S(k);this.close()};jA.prototype.f=function(){dd.prototype.f.call(this);
this.ZR.f();this._5.f()};jA.prototype.I_=function(g,o){this.cD=o.fE;var k=new bd(0,0,g.m,g.n);if(g.g.length!=0){var y=g.d[g.g[0]];
if(y.add.artb){k=y.xB();k.x+=k.m+100}if(o.fE==1)k=D.C8.B2(g)}this.A5=k;this.ZR.$(new bJ(k.m,k.n))};function gd(){dd.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.NK=null;this.h("closebtn",this.Fh,this);this.h("canclose",this.Fh,this)}gd.prototype=new dd;
gd.prototype.mt=function(g,o){if(this.NK)this.NK.mt(g,o)};gd.prototype.fM=function(g,o){return new bJ(Math.max(0,Math.min(150,(g-980)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
gd.prototype.UC=function(g,o){this.bW=g;this.GP=o;g=Math.min(g,980);o=Math.min(o,590);if(this.NK)this.NK.UC(g,o)};
gd.prototype.f=function(){dd.prototype.f.call(this);if(this.NK)this.NK.f()};gd.prototype.I_=function(g,o,k,y){this.mT=o.fE==0?"Open from Storage":"Save to Storage";
this.f();if(this.NK==null){this.NK=new hE;this.NK.parent=this;this.body.appendChild(this.NK.e);this.f();
this.UC(this.bW,this.GP)}Storage.t5(o.fE,g?g.name:"");hE.KL(this.NK)};gd.prototype.Fh=function(g){Storage.t5(0);
hE.q3();if(g.type=="canclose")this.close()};function ku(){dd.call(this,"Variables","varsdats");var g=this.Ly=Z.t("div","form");
g.setAttribute("style","width:300px");this.body.appendChild(g);this.i5=null;this.ay=0;this.eM=null;this.Gy=new k5(null,["Variables","Data Sets",[1,8]]);
this.Gy.h(N.E.A,this.aiD,this);this.gN=new ku.gQ;this.CF=new ku.ar;this.Iv=new ku.zQ;this.CF.h("activate",this.N0,this);
this.Iv.h("export",this.$M,this);this._5=Z.zE(this)}ku.prototype=new dd;ku.prototype.aiD=function(g){var o=this.Gy.c(),k=this.Ly;
Z.ew(k);k.appendChild(this.Gy.e);Z.Jo(k);k.appendChild([this.gN,this.CF,this.Iv][o].e);k.appendChild(this._5.e)};
ku.prototype.CR=function(g){var o=new jB(N.E.L,!0);o.G=D.Jn;o.data={P:p.Jw,Z:JSON.stringify([this.gN.c(),this.CF.c()])};
this.S(o);this.close()};ku.prototype.f=function(){dd.prototype.f.call(this);this._5.f();this.Iv.f()};
ku.prototype.I_=function(g,o){this.i5=g;if(g==null)return;this.gN.I_(g,o);this.CF.I_(g,o);this.Gy.$(0);
this.aiD();this.ay=0};ku.prototype.mt=function(g,o){this.eM=g};ku.prototype.$M=function(g){var o=this.gN.c(),k=this.CF.c(),y=this.Iv.c();
if(o.length==0){alert("There are no variables.");return}if(k.length==0){alert("There are no data sets.");
return}var d=cp.a6w(this.i5,o,k,this.CF.are(),y[0],y[1],this.eM,this);if(d!=null)ap.save(d,"images.zip")};
ku.prototype.N0=function(g){var o=this.CF.g,k=this.gN.c(),y=this.CF.c();if(k.length==0){alert("There are no variables.");
return}if(y.length==0){alert("There are no data sets.");return}this.l2();this.ay+=cp.CZ(this.i5,this,k,y,this.CF.are(),o)};
ku.prototype.l2=function(){var g=new jB(N.E.L,!0);g.G=D.C1;g.data={P:"h_stepbck"};while(this.ay>0){this.S(g);
this.ay--}};ku.zQ=function(){fR.call(this);var g=this.e=Z.t("div");this.Xq=["JPG","PNG","PDF"];this.ut=new k5([12,50],this.Xq);
this.ut.h(N.E.A,this.ajx,this);g.appendChild(this.ut.e);this.lk=new c9;g.appendChild(this.lk.e);this.ajx();
this.h5=new da("Export all items",!0,null,!0);this.h5.h("click",this.$M,this);g.appendChild(this.h5.e)};
ku.zQ.prototype=new fR;ku.zQ.prototype.f=function(g){this.ut.f();this.h5.f();this.lk.f()};ku.zQ.prototype.ajx=function(g){var o=this.Xq[this.ut.c()];
this.lk.dL(o)};ku.zQ.prototype.$M=function(g){this.S(new jB("export"))};ku.zQ.prototype.c=function(){var g=this.Xq[this.ut.c()];
return[g,this.lk.c()]};ku.ar=function(){fR.call(this);this.m_=null;this.Ui=[];this.g=0;var g=this.e=Z.t("div","form");
this.py=new gQ("Import a CSV file");g.appendChild(this.py.e);this.py.h(N.E.A,this.a5I,this);this.wR=Z.t("div","scrollable");
this.wR.setAttribute("style","overflow:scroll;  height:234px;");g.appendChild(this.wR);this.aih=new gQ("Source Images",!0);
g.appendChild(this.aih.e)};ku.ar.prototype=new fR;ku.ar.prototype.a5I=function(g){var o=this.py.c();
for(var k in o){o=o[k];break}this.m_=hl.Qt(S.IL(o));this.Y3()};ku.ar.prototype.are=function(){return this.aih.c()};
ku.ar.prototype.I_=function(g,o){var k=this.m_=JSON.parse(JSON.stringify(g.S0));this.Y3()};ku.ar.prototype.c=function(){return this.m_};
ku.ar.prototype.Y3=function(){var g=this.in.bind(this),o=this.m_,y="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.Ui=[];var k=Z.t("table");k.setAttribute("style","border-collapse: collapse;");for(var m=0;m<o.length;
m++){var d=Z.t("tr"),b=o[m],T=m==0?"th":"td";k.appendChild(d);var a=Z.t(T);d.appendChild(a);a.setAttribute("style",y+"cursor:pointer;");
if(m!=0)a.textContent="\u2713";this.Ui.push(a);a.addEventListener("click",g,!1);for(var t=0;t<b.length;
t++){var a=Z.t(T);a.textContent=b[t];d.appendChild(a);a.setAttribute("style",y);a.setAttribute("title",b[t])}}Z.ew(this.wR);
this.wR.appendChild(k)};ku.ar.prototype.in=function(g){this.g=this.Ui.indexOf(g.currentTarget);this.S(new jB("activate"))};
ku.gQ=function(){fR.call(this);var g=this.e=Z.t("div","form marged");this.Su=null;this.NE=[];this.jV=[];
this.rQ=null;this.or=new cR([0,3],[]);this.or.h(N.E.A,this.a2K,this);g.appendChild(this.or.e);this.U0=[];
var o=["Visibility","Text Content","Pixel Content"];for(var m=0;m<o.length;m++){Z.Jo(g);var k=new dX(o[m]);
k.h(N.E.A,this.Xm,this);g.appendChild(k.e);Z.Dx(g);var y=new ic("Variable Name");y.h(N.E.A,this.Xm,this);
g.appendChild(y.e);this.U0.push(k,y)}};ku.gQ.prototype=new fR;ku.gQ.prototype.Xm=function(g){var o=this.or.c(),k=this.rQ[o],y=this.NE[o],d=this.Su["l"+k],b=this.U0;
if(d==null)this.Su["l"+k]=d=[];while(d.length!=0)d.pop();for(var m=0;m<3;m++){var T=b[2*m+1].c();if(!b[2*m].c())continue;
var a={varName:T,trait:["visibility","textcontent","fileref"][m]};d.push(a);if(m==2){a.align="center";
a.clip="false";a.placementMethod="fit";a.valign="middle"}}if(d.length==0)delete this.Su["l"+k];this.I_()};
ku.gQ.prototype.a2K=function(g){var o=this.or.c(),k=this.rQ[o],y=this.NE[o],d=this.Su["l"+k],b=this.U0;
if(d==null)d=[];for(var m=0;m<3;m++){var T=m==0||m==1&&y==0||m==2&&y==1;b[2*m]._C(T);b[2*m].$(!1);b[2*m+1]._C(T);
b[2*m+1].$("")}for(var m=0;m<d.length;m++){var a=d[m],t=a.trait,j=["visibility","textcontent","fileref"].indexOf(t);
b[j*2].$(!0);b[j*2+1].$(a.varName)}};ku.gQ.prototype.I_=function(g,o){if(g){var k=JSON.parse(JSON.stringify(g.t_)),y=this.Su={};
for(var m=0;m<k.length;m++){var d=k[m],b=d.docRef;b="l"+b.slice(4,b.length-2);if(y[b]==null)y[b]=[];
y[b].push(d)}this.rQ=[];this.NE=[];this.jV=[];for(var m=g.d.length-1;m>=0;m--){var T=g.d[m],b=T.add.lyid;
if(T.getName()=="</Layer group>")continue;this.rQ.push(b);this.NE.push(T.add.TySh?0:1);this.jV.push(T.getName())}}var a=[],t=this.jV;
for(var m=0;m<t.length;m++){a.push(t[m]+(this.Su["l"+this.rQ[m]]?" *":""))}var j=this.or.c();this.or.O$(a);
this.or.$(j);this.a2K()};ku.gQ.prototype.c=function(){var g=this.Su,o=[];for(var k in g){var y=g[k];
for(var d=0;d<y.length;d++){y[d].docRef="id('"+k.slice(1)+"')";o.push(y[d])}}return o};function eD(){dd.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.jk=!1;var g=this.fG=[],o=Z.t("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);
for(var m=0;m<2;m++){var k=new dX([22,4,2+m]);o.appendChild(k.e);Z.Dx(o);var y=new k5(null,[["N equal parts"],["N pixels per part"]]);
o.appendChild(y.e);Z.Dx(o);var d=new k9("N",0,1e3);d.$(4);d.parent=this;o.appendChild(d.e);Z.Dx(o);if(m==0)Z.Jo(o);
g.push(k,y,d)}for(var m=0;m<g.length;m++)g[m].h(N.E.A,this.dg,this);g.push(Z.zE(this,o));this.h("closebtn",this.l2,this)}eD.prototype=new dd;
eD.prototype.l2=function(){if(this.jk){var g=new jB(N.E.L,!0);g.G=D.C1;g.data={P:"h_stepbck"};this.S(g)}};
eD.prototype.dg=function(g){this.l2();this.jk=!0;var o=[];for(var m=0;m<6;m++)o.push(this.fG[m].c());
var k={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var y=0;y<2;y++){if(!o[y*3])continue;var d=o[y*3+1],b=o[y*3+2];k[["slices","pixels"][d]+["Across","Down"][y]]={t:"long",v:b}}var T=new jB(N.E.gp,!0);
T.data={J5:"divide",fV:k};this.S(T)};eD.prototype.CR=function(g){this.close()};eD.prototype.f=function(){dd.prototype.f.call(this);
var g=this.fG;for(var m=0;m<g.length;m++)g[m].f()};eD.prototype.I_=function(g,o){this.jk=!1};function dv(g,o,k,y){fR.call(this);
this.name=g;this.au0=k;this.s1=y;this.BX=Z.t("div","");this.BX.setAttribute("draggable","true");this.Yt=Z.t("div","pbody");
this.wk=new da("",!1,"");this.wk.parent=this;this.a2a=Z.t("span","cross gsicon");this.lf=Z.t("span","label");
var d=this.axa.bind(this);this.BX.addEventListener("mousedown",this.ahc.bind(this),!1);this.BX.addEventListener("contextmenu",d,!1);
this.wk.e.addEventListener("contextmenu",d,!1);this.a2a.addEventListener("mousedown",this.r2.bind(this),!1);
this.BX.appendChild(this.lf);if(o)this.BX.appendChild(this.a2a);this.vX=!1;this.lf.textContent=g}dv.prototype=new fR;
dv.prototype.sW=function(){return null};dv.prototype.f=function(){var g=d9.get(this.name),o=!1,k=this.bW==0?22:Math.round(2+this.bW/50);
if(g.endsWith(" *")){o=!0;g=g.slice(0,g.length-2);k-=2}var y=g.length>k;this.lf.textContent=y?g.slice(0,k-2):g;
if(y)for(var d=0;d<2;d++){var b=Z.t("span");b.textContent=g.charAt(k-2+d);b.setAttribute("style","opacity:"+(.6-d*.4));
this.lf.appendChild(b)}if(o){var b=Z.t("span");b.textContent=" *";this.lf.appendChild(b)}var T=g.split(" "),a=T.length==2?T[0].substring(0,2)+T[1][0]:g.substring(0,3);
if(a.charCodeAt(0)>=11776)a=a.substring(0,1);var t=this.au0;if(t==null)this.wk.HZ(a,g);else{var j;if(t.startsWith("---"))j="<img src=\""+PIMG[t.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(t.startsWith("==="))j="<img src=\""+t.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(t.indexOf("\"")==-1)j="<img src=\""+t+"\" alt=\""+Z.nV(g).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.wk.HZ(j,g)}};dv.prototype.enable=function(){this.Yt.className="pbody"};dv.prototype.disable=function(){this.Yt.className="pbody disabled"};
dv.prototype.mt=function(g,o){};dv.prototype.I_=function(g,o,k){};dv.prototype.iz=function(g){};dv.prototype.UC=function(g,o){};
dv.prototype.X1=function(g){this.name=g;this.f()};dv.prototype.Hz=function(){};dv.prototype.ahc=function(g){if(g.button==0)this.S(new jB("select",!1))};
dv.prototype.axa=function(g){Z.GK(g);if(this.s1!=null&&isNaN(this.s1))return;var o=Z.YD(g,document.body),k=this.ll;
if(k==null){k=this.ll=new iU([{name:[1,12,0]}]);this.ll.h("select",this.r2,this)}k.update(null);k.f();
k.parent=this;var y=new jB(N.E.s,!0);y.data={P:N.b.q$,w9:k,x:o.x+1,y:o.y+1};this.S(y)};dv.prototype.au=function(){this.r2({})};
dv.prototype.r2=function(g){if(g.stopPropagation)g.stopPropagation();if(this.s1!=null&&!isNaN(this.s1)){var o=new jB(N.E.s,!0);
o.data={P:N.b.TL,w9:this.ll};this.S(o);o.data={P:N.b.pB,Q6:er.Jt,Z:parseFloat(this.s1),Fd:"del"};this.S(o)}else if(this.asr())this.S(new jB(N.E.Hn,!1))};
dv.prototype.asr=function(g){return!0};dv.prototype.Hu=function(g,o,k,y,d){};dv.prototype.Sa=function(g,o,k,y,d){};
dv.prototype.b9=function(g,o,k,y,d){};dv.kJ=function(g,o,k){if(g.childElementCount!=0)return;var y=g.textContent;
this.z8=this.ax8.bind(this);this.au_=this.a1e.bind(this);this.ys=o;this.af9=k;this.ZD=g;this.a3f=y;var d=Z.t("input","");
d.setAttribute("type","text");d.setAttribute("size","10");d.setAttribute("value",y);Z.ew(g);g.appendChild(d);
d.select();d.focus();Z.tF(g);g.addEventListener("keyup",this.z8,!1);document.body.addEventListener("mousedown",this.au_,!1)};
dv.kJ.prototype.ax8=function(g){var o=dj.M0,k=o(g.code,dj.zu);if(o(g.code,dj.bC)||k)this.av_(k)};dv.kJ.prototype.a1e=function(g){var o=g.target;
if(o.tagName&&o.tagName.toLowerCase()=="input")return;this.av_(!0)};dv.kJ.prototype.av_=function(g){var o=this.ZD,k=o.firstChild.value;
o.removeEventListener("keyup",this.z8);document.body.removeEventListener("mousedown",this.au_);if(this.af9||g&&k!=""&&k!=this.a3f){this.ys(k)}else{Z.ew(o);
o.textContent=this.a3f}};dv.PD={C1:"0",a1u:"1",Jn:"2",a6o:"3",alR:"4",R9:"5",CSS:"6",Bj:"7",abx:"8",aew:"9",agk:"10",avN:"11",aka:"12",wp:"13",zC:"14",avS:"15",ao$:"16",VA:"17",amy:"18",apr:"19",a7u:"20",fB:"21",axw:"22"};
function iF(){dv.call(this,[9,9],!1,"---panels/actions",dv.PD.avN);this.eM=null;this.iK=[0,0]}iF.prototype=new dv("");
iF.prototype.ag=function(){if(!Z.Hd(this.Yt)||this.jT)return;this.jT=Z.t("div","padded scrollable");
this.jT.setAttribute("style","width:260px;  height:260px");this.Yt.appendChild(this.jT);this.h(N.E.A,this.nu,this);
this.LI=Z.t("div","lpfoot");this.Yt.appendChild(this.LI);this.dW=[];var g="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",o="</svg>",k=g+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+o,y=g+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+o;
this.ajl=g+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+o;this.avE=g+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+o;
var d=[this.ajl,y,"lrs/folder","lrs/newlayer","lrs/bin",k],b=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var m=0;m<d.length;m++){var T=d[m];if(1<m&&m!=d.length-1)T="<img src=\""+PIMG[d[m]]+"\" class=\"miniscale gsicon\" />";
var a=new da(T,!1,b[m]);a.h("click",this.adz,this);this.LI.appendChild(a.e);this.dW.push(a)}this.Y3()};
iF.prototype.f=function(){dv.prototype.f.call(this);if(this.jT==null)return;for(var m=0;m<this.dW.length;
m++)this.dW[m].f()};iF.prototype.adz=function(g){var m=this.dW.indexOf(g.currentTarget),o=this.iK,k=this.eM,y=k.YL;
if(m==0){var d,b=k.P$;if(y.length==0){alert("Create an Action Set first.");return}if(o.length<2){alert("Select a target action first.");
return}if(b==null){d=this.avE;b=this.iK}else{d=this.ajl;b=null}this.dW[0].HZ(d);k.P$=b}else if(m==1)this.aul();
else if(m==2||m==3){var T={Y5:"Action Set "+y.length,dd:[],exp:!0};if(m==2||y.length==0){o=[y.length];
y.push(T)}if(m==3){var a=y[o[0]].dd;o=[o[0],a.length];a.push({Y5:"Action "+a.length,color:0,dd:[],a8f:!1,shift:!1,exp:!0,Sp:a.length})}this.iK=o;
this.Y3()}else if(m==4){var t;if(o.length==1)t=y;else if(o.length==2)t=y[o[0]].dd;else t=y[o[0]].dd[o[1]].dd;
var j=o.length-1;t.splice(o[j],1);if(t.length==0)o.pop();else while(o[j]>=t.length)o[j]--;if(o.length==0)o.push(0);
this.Y3()}else if(m==5){if(y.length==0){alert("No Actions Present.");return}var e=new jB(N.E.s,!0);e.data={P:N.b.e3,a12:er.L,bi:o[0]};
this.S(e)}};iF.prototype.nu=function(g){var o=this.eM.YL,k=g.data.P,y=g.data.HV;if(k=="sel")this.iK=y;
if(k=="fold"){if(y.length==1)o[y[0]].exp=!o[y[0]].exp;else o[y[0]].dd[y[1]].exp=!o[y[0]].dd[y[1]].exp}if(k=="enab"){var d=o[y[0]].dd[y[1]].dd[y[2]];
d.r=!d.r}if(k=="nchange"){if(y.length==1)o[y[0]].Y5=g.data.R3;else o[y[0]].dd[y[1]].Y5=g.data.R3}this.Y3()};
iF.prototype.I_=iF.prototype.Hz=function(){this.ag()};iF.prototype.mt=function(g,o){this.eM=g;if(this.jT==null)return;
if(o==er.L||o==er.a_)this.Y3()};iF.prototype.Y3=function(){if(this.eM==null)return;Z.ew(this.jT);var g=this.eM.YL;
if(g.length==0)return;var o=JSON.stringify(this.iK);for(var m=0;m<g.length;m++){var k=g[m],y=new iF.ZA([m],o,k.exp,k.Y5.split("=").pop());
y.parent=this;this.jT.appendChild(y.e);if(!k.exp)continue;for(var d=0;d<k.dd.length;d++){var b=k.dd[d],y=new iF.ZA([m,d],o,b.exp,b.Y5.split("=").pop());
y.parent=this;this.jT.appendChild(y.e);if(!b.exp)continue;for(var T=0;T<b.dd.length;T++){var a=b.dd[T],y=new iF.ZA([m,d,T],o,null,d9.get(c_.aoM(a)),a.r);
y.parent=this;this.jT.appendChild(y.e)}}}};iF.prototype.aul=function(){var g=this.eM.YL,o=this.iK;if(g.length==0){alert("No Actions Present");
return}if(o.length==1){alert("Select an Action first");return}if(this.eM.P$!=null){alert("You can not apply actions while recording actions");
return}if(o.length==1)o.push(0);var k=g[o[0]],y=k.dd[o[1]],d=new jB(N.E.s,!0);d.data={P:N.b.P9,Q9:[y.Y5,k.Y5]};
this.S(d)};iF.ZA=function(g,o,k,y,d){fR.call(this);this.HV=g;var b=this.HV.length-1;this.e=Z.t("div","layeritem"+(JSON.stringify(g)==o?" selected":""));
this.ex=Z.t("div","head");this.e.appendChild(this.ex);this.ex.setAttribute("style","height:24px");this.nS=Z.t("div","headL");
this.ex.appendChild(this.nS);if(b!=0){var T=Z.t("div");T.style.width=b*20+"px";this.nS.appendChild(T)}if(k!=null){var a=this.a3e=Z.t("div",k?"open":"closed");
this.nS.appendChild(a)}else{var t=this.a9S=Z.t("div","cmark");t.setAttribute("style","background-size:12px 12px; opacity:"+(d?1:.3));
this.nS.appendChild(t)}if(b==0){var j=Z.t("div","folder");this.nS.appendChild(j)}var e=this.lf=Z.t("div","label");
e.textContent=y;this.nS.appendChild(e);this.e.addEventListener("mouseup",this.N0.bind(this),!1)};iF.ZA.prototype=new fR;
iF.ZA.prototype.N0=function(g){if(g.detail==1&&g.target.tagName.toLowerCase()!="input"){var o="sel";
if(g.target==this.a3e)o="fold";if(g.target==this.a9S)o="enab";var k=new jB(N.E.A,!0);k.data={P:o,HV:this.HV};
this.S(k)}else if(this.HV.length<3)var y=new dv.kJ(this.lf,this.ys.bind(this))};iF.ZA.prototype.ys=function(g){var o=new jB(N.E.A,!0);
o.data={P:"nchange",R3:g,HV:this.HV};this.S(o)};function a3(){dv.call(this,[3],!1,"---lrs/adj",dv.PD.amy)}a3.prototype=new dv("");
a3.prototype.ag=function(){if(!Z.Hd(this.Yt)||this.dW)return;this.Yt.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.dW=[];var m=0;for(var g in aj.names){var o=new da("<img src=\""+PIMG["adj/"+g]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,aj.names[g]);
o.h("click",this.afw,this);this.dW.push(o);this.Yt.appendChild(o.e);if(m==4||m==10)Z.Dx(this.Yt);m++}this.f()};
a3.prototype.I_=function(){this.ag()};a3.prototype.Hz=function(){this.ag()};a3.prototype.f=function(){dv.prototype.f.call(this);
if(this.dW==null)return;for(var m=0;m<this.dW.length;m++)this.dW[m].f()};a3.prototype.afw=function(g){var o=this.dW.indexOf(g.target),k=jD.Gm()[o],y=new jB(k.W,!0);
y.data=k.R;this.S(y)};function f7(){dv.call(this,[12,22],!1,null,dv.PD.fB);this.jT=Z.t("div","padded");
this.eM=null;this.Yt.appendChild(this.jT);this.lT=new f_(null,17.7,10);this.lT.parent=this;this.lT.h(N.E.A,this.dg,this);
this.jT.appendChild(this.lT.qO)}f7.prototype=new dv("");f7.prototype.dg=function(g){var o=this.lT.c(),k=new jB(N.E.L,!0);
k.data={P:"setstl",Z:o.GO};k.G=D.sp;this.S(k);k.data={P:"confirm"};this.S(k)};f7.prototype.mt=function(g,o){this.eM=g;
this.Y3()};f7.prototype.Y3=function(){var g=this.eM,o=g.oz;this.lT.cz([o,g.A6])};f7.prototype.I_=function(){this.Y3()};
f7.prototype.Hz=function(){this.Y3()};var jh=function(){function g(){dv.call(this,[9,3],!1,"---panels/brush",dv.PD.Bj);
this.Bm=null;this.eM=null}g.prototype=new dv("");g.prototype.ag=function(){var d=Z.t("div","");this.Yt.appendChild(d);
this.yc=Z.t("div","bordered cell");this.yc.setAttribute("style","width:10em; height:28.5em;");d.appendChild(this.yc);
this.fK=[];this.Bp=null;this.UT=[];var b=this.am3.bind(this);this.C3=[new k("basic"),new k("useTipDynamics"),new k("useScatter"),new k("useColorDynamics"),new k("usePaintDynamics")];
for(var m=0;m<this.C3.length;m++){var T=Z.t("div","listitem"),a=this.C3[m],j=null;a.parent=this;a.h("brushchange",this.ahl,this);
var t=a.Vw;if(m==0){this.Bp=new bZ(t);T.appendChild(this.Bp.e)}else{j=new dX(t,!1);j.h(N.E.A,this.a6h,this);
T.appendChild(j.e)}this.UT.push(j);this.yc.appendChild(T);this.fK.push(T);T.addEventListener("click",b,!1)}this.hV=Z.t("div","cell padded");
d.appendChild(this.hV);this.setItem(0);this.T=Z.t("canvas");this.T.height=10;d.appendChild(this.T);this.iS=this.T.getContext("2d");
this.yL()};g.prototype.UC=function(d,b){if(this.bW==d)return;this.bW=d;this.GP=b;this.yL()};g.prototype.Hz=function(){if(!Z.Hd(this.Yt))return;
if(this.yc){this.yL();return}this.ag();this.f();this.mt(this.eM,er.a_)};g.prototype.f=function(){dv.prototype.f.call(this);
if(this.yc==null)return;this.Bp.f();for(var m=1;m<this.UT.length;m++)this.UT[m].f();for(var m=0;m<this.C3.length;
m++)this.C3[m].f()};g.prototype.ahl=function(d){var b=this.C3.indexOf(d.currentTarget),T=JSON.parse(JSON.stringify(this.C3[b].Bm)),a=new jB(N.E.s,!0);
a.data={P:N.b.pB,Q6:er.Un,Bm:T};this.S(a)};g.prototype.a6h=function(d){this.ayf(this.UT.indexOf(d.currentTarget),d.currentTarget.sS())};
g.prototype.am3=function(d){var m=this.fK.indexOf(d.currentTarget);if(d.target.tagName.toLowerCase()=="input")return;
if(this.UT[m]&&!this.UT[m].sS()){this.UT[m].sG();this.ayf(m,!0)}this.setItem(m)};g.prototype.ayf=function(d,b){this.C3[d].a62(b)};
g.prototype.setItem=function(d){for(var m=0;m<this.C3.length;m++)this.fK[m].className="listitem";if(this.hV.firstChild)this.hV.removeChild(this.hV.firstChild);
this.fK[d].className="listitem selected";this.hV.appendChild(this.C3[d].e)};g.prototype.mt=function(d,b){this.eM=d;
if(this.yc==null)return;for(var m=0;m<this.C3.length;m++)this.C3[m].mt(d,b);if(b==er.Un||b==er.a_){this.Bm=d.uq.Uc;
this.yL()}if(b==er.wp)this.yL()};g.prototype.yL=function(){if(this.Bm)this.enable();else{this.disable();
return}if(!Z.Hd(this.Yt))return;var d=this.eM;for(var m=0;m<this.C3.length;m++){this.C3[m].$(this.Bm);
if(this.UT[m])this.UT[m].$(this.C3[m].sS())}var b=JSON.parse(JSON.stringify(this.Bm));b.Brsh.v.Dmtr.v.val=Math.min(b.Brsh.v.Dmtr.v.val,50);
Z.OK(this.T,this.bW,80);var T=new bd(0,0,this.T.width,this.T.height),a=this.eM.uq,t=new e9(b,a?a.sc:null,a?a.Uu:null,{$C:1},d.p2,d.Pp,T,null,0),j=T.n/2,e=T.m-j*2;
t.moveTo(j,j);for(var m=0;m<=e;m+=10)t.lineTo(j+m,j+20*Math.sin(2*Math.PI*m/e));t.finish();var v=this.iS.createImageData(T.m,T.n);
_.g1(t.lo(),t.B2(),v.data,T);this.iS.putImageData(v,0,0)};function o(d){fR.call(this);d=d.split(".")[0];
this.kb=d;var b=this.e=Z.t("span"),T=["Off","Fade"];T.push(d=="angleDynamics"?"Direction":"Pen Pressure");
var a=this.iN=new cR("Control",T);a.h(N.E.A,this.Xm,this);b.appendChild(a.e);var t=this.am_=new k9(null,0,100,null,null,null,!0);
t.$(50);t.h(N.E.A,this.Xm,this)}o.prototype=new fR;o.prototype.$=function(d){d=d<2?d:2;this.iN.$(d);
this.Y3()};o.prototype.c=function(){var d=this.iN.c(),b=this.kb;d=d<=1?d:b=="angleDynamics"?6:2;return d};
o.prototype.Xm=function(d){this.Y3();d.target=d.currentTarget=this;this.S(d)};o.prototype.Y3=function(d){this.am_._C(this.iN.c()==1)};
function k(d){fR.call(this);this.e=Z.t("div");this.Bm=null;var b=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(d);
this.Vw=[[15,0],[15,1],[15,2],[15,3],"Transfer"][b];this.cD=d;this.Iy={};this.a2c=null;var T=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][b];
for(var m=0;m<T.length;m++){var a=T[m],t;if(a=="--br"){t=new d4;this.e.appendChild(t.qO.firstChild)}else if(a=="Brsh.Dmtr")t=new cO([12,14,0],1,1e3," px",0,!0);
else if(a=="Brsh.Angl")t=new cO([12,15],0,359," \xB0");else if(a=="Brsh.Rndn")t=new cO([12,16],0,100," %");
else if(a=="Brsh.Hrdn")t=new cO([12,17],0,100," %");else if(a=="Brsh.Spcn")t=new cO([12,18],1,300," %");
else if(a=="szVr.jitter")t=new cO([15,4,0],0,100,"%");else if(a=="minimumDiameter")t=new cO([15,4,1],0,100,"%");
else if(a=="angleDynamics.jitter")t=new cO([15,4,2],0,100,"%");else if(a.endsWith("bVTy"))t=new o(a);
else if(a.endsWith("fStp"))t=new k9(null,0,100,null,null,null,!0);else if(a=="roundnessDynamics.jitter")t=new cO([15,4,3],0,100,"%");
else if(a=="minimumRoundness")t=new cO([15,4,4],1,100,"%");else if(a=="scatterDynamics.jitter")t=new cO([15,5,0],0,1e3," %");
else if(a=="Cnt")t=new cO([15,5,1],1,20);else if(a=="countDynamics.jitter")t=new cO([15,5,2],0,100," %");
else if(a=="clVr.jitter")t=new cO([15,6,0],0,100," %");else if(a=="H")t=new cO([15,6,1],0,100," %");
else if(a=="Strt")t=new cO([15,6,2],0,100," %");else if(a=="Brgh")t=new cO([15,6,3],0,100," %");else if(a=="opVr.jitter")t=new cO("Opacity Jitter",0,100," %");
else if(a=="prVr.jitter")t=new cO("Flow Jitter",0,100," %");else throw a;this.Iy[a]=t;t.parent=this;
t.h(N.E.A,this.Xm,this)}}k.prototype=new fR;k.prototype.ac8=function(){this.S(new jB("brushchange"))};
k.prototype.$=function(d){this.Bm=JSON.parse(JSON.stringify(d));this.e.className=this.sS()?"":"disabled";
this.yL()};k.prototype.f=function(){for(var d in this.Iy)this.Iy[d].f()};k.prototype.sS=function(){return!0};
k.prototype.mt=function(d,b){if(b==er.Bj||b==er.a_){var T=this.Iy["--br"];if(T)T.cz(d.uq)}};k.prototype.Xm=function(d){var b=d.target,T=this.Iy,a;
for(var t in T)if(T[t]==b)a=t;if(a=="--br"){var e=new jB(N.E.s,!0);e.data={P:N.b.pB,Q6:er.Un,Bm:b.c()};
this.S(e)}else{var v=y(this.Bm,a),L=b.c();if(v){if(a.endsWith("bVTy")||a.endsWith("fStp")||a=="Cnt")v.v=L;
else v.v.val=L;this.ac8()}}};k.prototype.yL=function(){var d=this.Bm,b=d.Brsh.v.classID,T=this.Iy,a=b!=this.a2c;
this.a2c=b;if(a){Z.ew(this.e);for(var t in T){if(b!="computedBrush"&&b!="sampledBrush"&&t=="Brsh.Rndn")continue;
if(b!="computedBrush"&&t=="Brsh.Hrdn")continue;var j=T[t],e=j.e;if(t=="--br"){e=j.a0.e;e.style.width="auto"}this.e.appendChild(e)}}for(var t in T){if(t=="--br")continue;
var v=y(d,t),L;if(v){if(t.endsWith("bVTy")||t.endsWith("fStp")||t=="Cnt")L=v.v;else L=v.v.val;T[t].$(L);
if(t.endsWith("fStp"))T[t]._C(y(d,t.split(".")[0]+".bVTy").v==1)}}};k.prototype.sS=function(){var d=this.cD;
return d=="basic"?!0:this.Bm[d].v};k.prototype.a62=function(d){var b=this.cD;if(b=="basic")return;this.Bm[b].v=d;
jl.XF.ahp(this.Bm);this.ac8()};function y(d,b){var T=b.split(".");d=d[T[0]];for(var m=1;m<T.length;m++){if(d==null)return d;
d=d.v[T[m]]}return d}return g}();function iB(){dv.call(this,[9,0],!1,"---panels/history",dv.PD.C1);this.Yt.setAttribute("style","min-width:200px;");
this.WJ=Z.t("div","hpbody scrollable");this.WJ.style.height="160px";this.Yt.appendChild(this.WJ);this.awx=-1;
this.fZ=[];this.rZ="";this.zt=new iU([{name:"Clear History"}],[{W:N.E.L,G:D.C1,R:{P:"h_clear"}}])}iB.prototype=new dv("");
iB.prototype.sW=function(){return this.zt};iB.prototype.UC=function(g,o){this.Hz()};iB.prototype.I_=function(g){if(g==null){Z.ew(this.WJ);
this.rZ="";return}Z.ew(this.WJ);var o=0;for(var m=0;m<g.history.length;m++)if(m<=g.mQ&&!g.history[m].SH)o=m;
for(var m=0;m<g.history.length;m++){var k=g.history[m];if(k.SH)continue;var y=new cl(k,m,o);y.parent=this;
this.WJ.appendChild(y.e);this.fZ.push(y)}if(g.mQ==g.history.length-1)this.Hz()};iB.prototype.Hz=function(){this.WJ.scrollTop=this.WJ.scrollHeight};
iB.prototype.f=function(){dv.prototype.f.call(this);for(var m=0;m<this.fZ.length;m++)this.fZ[m].f()};
function cl(g,m,o){fR.call(this);this.index=m;this.e=Z.t("div",m==o?"listitem selected":"listitem");
this.AZ=g.name;this.f();if(m>o)this.e.style.opacity=.4;this.e.addEventListener("click",this.Hu.bind(this),!1)}cl.prototype=new fR;
cl.prototype.f=function(){this.e.textContent=d9.get(this.AZ)};cl.prototype.Hu=function(g){if(this.index==this.parent.awx)return;
this.Xi({P:"h_itemchange",index:this.index})};cl.prototype.Xi=function(g){var o=new jB(N.E.L,!0);o.data=g;
o.G=D.C1;this.S(o)};function cn(){dv.call(this,[9,10],!1,"---panels/histogram",dv.PD.alR);var g=Z.t("div","padded");
this.Yt.appendChild(g);this.ib=new dS(256,!0);g.appendChild(this.ib.e);this.i5=null}cn.prototype=new dv("");
cn.prototype.I_=function(g){this.i5=g;this.Y3()};cn.prototype.Y3=function(){var g=this.i5;if(!Z.Hd(this.Yt))return;
if(g==null||g.g.length==0){this.ib.$(_.kO(_.Q(4)));return}var o=g.PJ(),k=new bd(0,0,g.m,g.n),y=k.O();
if(g.J){var d=g.J.rect,b=_.Q(d.O()*4);_.g1(o,k,b,d);_.i1(g.J.channel,b);o=b;k=d;var T=g.J.channel;y=0;
for(var m=0;m<T.length;m++)y+=T[m];y=Math.round(y/255)}var a=_.kO(o);a[0][255]+=3*(y-a[5]);for(var m=1;
m<4;m++)a[m][255]+=y-a[5];this.ib.$(a,y)};cn.prototype.mt=function(g,o){this.ib.Ea(cN.OE[g.bj]["--text-color"])};
cn.prototype.f=function(){dv.prototype.f.call(this);this.ib.f()};cn.prototype.Hz=function(){this.Y3()};
function h_(){dv.call(this,[9,8],!1,"---adj/clrL",dv.PD.a1u);this.jT=Z.t("div","padded");this.Yt.appendChild(this.jT);
this.Pt=new kq(10);this.jT.appendChild(this.Pt.e);this.Ot=new ag;this.Ot.parent=this;this.jT.appendChild(this.Ot.qO);
this.Ot.qO.style.marginTop="6px";this.Pt.h(N.E.A,this.agm,this);this.Ot.h(N.E.A,this.agm,this)}h_.prototype=new dv("");
h_.prototype.agm=function(g){var o;if(g.target==this.Pt)o=this.Pt.c();else{var k=this.Ot.c();o=Math.round(k.o)<<16|Math.round(k.C)<<8|Math.round(k.k)}var y=new jB(N.E.s,!0);
y.data={P:N.b.pB,Q6:er.wp,cL:0,Z:o};this.S(y)};h_.vE=function(g,o){var k=o==er.a_,y=g.w1,d=g.VX,b=d.strokeStyleContent.v,T=null;
if((o==er.RX||k)&&y.uF==1){T=_.M.sL(y.si.Clr.v);T=T.o<<16|T.C<<8|T.k}if((o==er.AA||k)&&d.strokeEnabled.v&&b.classID=="solidColorLayer"){T=_.M.sL(b.Clr.v);
T=T.o<<16|T.C<<8|T.k}if(o==er.wp||k)T=g.p2;return T};h_.prototype.mt=function(g,o){var k=g.p2,y=o==er.a_,d=h_.vE(g,o);
if(d!=null){this.Pt.$(d);this.Ot.$({o:d>>>16&255,C:d>>>8&255,k:d>>>0&255,IE:"Color #"+_.Mb(d)})}if(o==er.DC||y){var b=g.aeA;
this.Ot.cz(b)}};function fZ(){dv.call(this,[12,72],!1,"---adj/mixr",dv.PD.ao$);this.M1=null;this.xR=null;
this.WJ=Z.t("div","lpbody scrollable");this.WJ.style.marginTop="4px";this.LI=Z.t("div","lpfoot");this.Yt.appendChild(this.WJ);
this.Yt.appendChild(this.LI);this.Xj=[];this.h("click",this.hH,this);this.rX=[];fZ.T2([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.rX,this.LI,this.eN.bind(this),this.Lw.bind(this));
this.zt=new iU([{name:"Merge Channels",Hk:!0}],[{W:N.E.s,R:{P:N.b.xp,Pv:"mergechannels"}}])}fZ.prototype=new dv("");
fZ.prototype.sW=function(){return this.zt};fZ.T2=function(g,o,k,y,d){for(var m=0;m<g.length;m++){var b=new da("W",!1,g[m]);
o.push(b);Z.Fn(b.e,y);k.appendChild(b.e);var T=b.e;T.addEventListener("drop",d,!1);T.addEventListener("dragover",function(a){a.preventDefault()},!1);
T.addEventListener("dragenter",Z.GK,!1)}};fZ.dx=function(g,o){for(var m=0;m<g.length;m++)if(g[m].e==o.currentTarget)return m};
fZ.prototype.eN=function(g){var o=fZ.dx(this.rX,g);if(o==0)this.S(hF.wG(!0,null,g));else{o--;var k=new jB(N.E.gp,!0),y={classID:"null"};
if(o==0)y.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(o==1)y.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else y.null=c_.lF("Chnl",!0);k.data={J5:["duplicate","make","delete"][o],fV:y};this.S(k)}};fZ.prototype.Lw=function(g){var o=fZ.dx(this.rX,g);
if(o==2){var k=new jB(N.E.gp,!0),y={classID:"null"};y.null=c_.lF("Chnl",!0);k.data={J5:"duplicate",fV:y};
this.S(k)}else this.eN(g)};fZ.prototype.N9=function(m){var g=this.Xj,o=g[m];if(o==null){var k=Z.t("canvas");
o=k.getContext("2d");g.push(o)}return o};fZ.prototype.hH=function(g){var o=this.M1.slice(0),k=g.data.Sp,y=o[0]+o[1]+o[2],d=this.xR;
if(-5<k&&k<0){var b=-k-1;if(g.data.R4){if(b==0)o=y==3?[0,0,0]:[1,1,1];else{if(o[b-1]==0)o[b-1]=1;else if(!0)o[b-1]=0}}else{if(b==0)o=[1,1,1];
else{o=[0,0,0];o[b-1]=1}for(var m=0;m<d.Tm.length;m++)d.Tm[m].ao=!1;d.kD=[]}var T=new jB(N.E.L,!0);T.G=D.vA;
T.data={P:"setcls",sv:o};this.S(T);return}if(-1<k){var a=d.d[k],t=a.W1==1?a.Qp():a.lQ(d).v;if(g.data.R4)t.ao=!t.ao;
else{for(var m=0;m<d.Tm.length;m++)d.Tm[m].ao=!1;d.kD=[]}}else{var j=-k-5,t=d.Tm[j];if(g.data.R4)t.ao=!t.ao;
else{for(var m=0;m<d.Tm.length;m++)d.Tm[m].ao=!1;t.ao=!0;d.kD=[j];if(y!=0){var T=new jB(N.E.L,!0);T.G=D.vA;
T.data={P:"setcls",sv:[0,0,0]};this.S(T)}}}d.nM=d.pP=!0};fZ.prototype.Hz=function(){this.ae()};fZ.prototype.I_=function(g){this.xR=g;
this.ae()};fZ.prototype.ae=function(){var g=this.xR,o=this.WJ,H=4;Z.ew(o);if(g==null||!Z.Hd(o))return;
var k=g.m,y=g.n,d=new bd(0,0,k,y),b=this.M1=g.u.sv.slice(0),T=b[0]+b[1]+b[2],a=Math.round(34*Z.V()),t=a;
if(k>y)t=Math.round(t*y/k);else a=Math.round(a*k/y);var j=["RGB"].concat(aj.rH);for(var m=0;m<4;m++){var e=this.N9(m);
_.vl.qU(e,a,t,d,g.PJ(),d,!1,m==0?null:m-1);var v=m==0?T==3:b[m-1]==1,L=new hF(-1-m,!0,!0,e,j[m],v,v);
L.parent=this;o.appendChild(L.e);Z.DB(e.canvas)}for(var m=0;m<g.g.length;m++){var w=g.d[g.g[m]],P=w.W1;
if(P!=1&&P!=3)continue;var Q=P==1?w.Qp():w.lQ(g).v,e=this.N9(H+m);H++;_.vl.E3(e,a,t,d,Q);var L=new hF(g.g[m],!0,!0,e,w.getName()+(P==1?"":" Filter")+" Mask",!0,Q.ao);
L.parent=this;o.appendChild(L.e);Z.DB(e.canvas)}for(var m=0;m<g.Tm.length;m++){var Q=g.Tm[m],e=this.N9(H+m);
_.vl.E3(e,a,t,d,Q);var L=new hF(-5-m,!0,Q.name=="Quick Mask",e,Q.name,g.kD.indexOf(m)!=-1,Q.ao,D.Jn,{P:p.UU,cL:"rnm",Sp:m});
L.parent=this;o.appendChild(L.e);Z.DB(e.canvas)}};fZ.prototype.UC=function(g,o){this.WJ.style.height=o-30-4+"px";
this.WJ.style.width=g+"px"};fZ.prototype.f=function(){dv.prototype.f.call(this);this.ae();fZ.oE(this.rX,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
fZ.oE=function(g,o){var o=k5.eG(o,null,"miniscale");for(var m=0;m<g.length;m++)g[m].HZ(o[m])};function hF(g,o,k,y,d,b,T,a,t){fR.call(this);
this.e=Z.t("div","layeritem");this.a75=g;this.asT=o;this.iS=y;this.adw=a;this.a8k=t;this.ex=Z.t("div",b?"head selected":"head");
this.ex.setAttribute("style","height: "+40+"px");var j=Z.t("div","headL"),e=Z.t("div","headR"),v=15;
this.e.appendChild(this.ex);this.ex.appendChild(j);this.ex.appendChild(e);this.fa=Z.t("div","eye");if(1<Z.V()&&Z.V()<1.5)v=v/Z.V();
this.fa.setAttribute("style","background-size: "+v+"px "+v+"px;");this.fa.style.opacity=T?1:.2;if(o)j.appendChild(this.fa);
this.SZ=Z.t("div","thumb");if(y)this.SZ.appendChild(y.canvas);j.appendChild(this.SZ);this.Nb=Z.t("div","label");
if(k)this.Nb.style.fontStyle="italic";this.Nb.textContent=d9.get(d);j.appendChild(this.Nb);var L=this.ex;
L.setAttribute("draggable","true");L.addEventListener("dragstart",function(H){H.dataTransfer.setData("Text","")},!1);
Z.Fn(this.ex,this.aux.bind(this));if(!k)this.ex.addEventListener("mouseup",this.a1R.bind(this),!1)}hF.prototype=new fR;
hF.prototype.ys=function(g){var o=new jB(N.E.L,!0);o.G=this.adw;o.data=this.a8k;o.data.name=g;this.S(o)};
hF.prototype.aux=function(g){var o=g.ctrlKey||g.metaKey,k=this.a75;if(o&&g.target==this.iS.canvas){this.S(hF.wG(this.asT,k,g))}else{var y=new jB("click",!0);
y.data={Sp:k,R4:g.target==this.fa,Kz:o};this.S(y)}};hF.prototype.a1R=function(g){if(g.detail==2&&g.target==this.Nb){var o=new dv.kJ(this.Nb,this.ys.bind(this))}};
hF.wG=function(g,o,k){var y=0;if(k.shiftKey)y++;if(k.altKey)y+=2;var d=new jB(N.E.L,!0);d.G=D.ng;if(g){if(-5<o&&o<0){d=new jB(N.E.gp,!0);
d.data=D.qT.ap4(y,["RGB","Rd","Grn","Bl"][-1-o])}else d.data={P:"fromchannel",Q9:[o,0,y]}}else d.data={P:"frompath",Q9:[o,0,y]};
return d};function gU(){dv.call(this,[8,9],!1,"---panels/paths",dv.PD.VA);this.M1=null;this.xR=null;
this.WJ=Z.t("div","lpbody scrollable");this.WJ.style.marginTop="4px";this.LI=Z.t("div","lpfoot");this.Yt.appendChild(this.WJ);
this.Yt.appendChild(this.LI);this.Yt.addEventListener("click",this.atE.bind(this),!1);this.Xj=[];this.h("click",this.hH,this);
this.rX=[];fZ.T2(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.rX,this.LI,this.eN.bind(this),this.Lw.bind(this))}gU.prototype=new dv("");
gU.prototype.eN=function(g,o){var k=fZ.dx(this.rX,g),y;if(k<2){y=new jB(N.E.gp,!0);y.data=D.hz.TV(k)}else if(k==2)y=hF.wG(!1,null,g);
else if(k==3){y=new jB(N.E.gp,!0);y.data={J5:"make",fV:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(k>3){var y=new jB(N.E.L,!0);
y.G=D.WH;y.data={P:"pathedit",cL:["new","del"][k-4],a0e:o}}this.S(y)};gU.prototype.Lw=function(g){this.eN(g,!0)};
gU.prototype.N9=function(m){var g=this.Xj,o=g[m];if(o==null){var k=Z.t("canvas");o=k.getContext("2d");
g.push(o)}return o};gU.prototype.atE=function(g){if(g.target==this.WJ){var o=this.xR;o.yI=[];o.wW=[];
o.pP=!0;o.nM=!0}};gU.prototype.hH=function(g){var o=g.data.Sp,k=this.xR,y=g.data.Kz,d=0,b,T;if(o<0){d=-1-o;
b=k.yI;T=k.wW}else{var a=k.uM()[0];for(var m=0;m<a.length;m++){var t=a[m].Sp;if(t==o)break;if(t>=0)d++}b=k.wW;
T=k.yI}if(y){var j=b.indexOf(d);if(j==-1)b.push(d);else b.splice(j,1)}else{while(b.length!=0)b.pop();
while(T.length!=0)T.pop();b.push(d)}k.pP=!0;k.nM=!0};gU.prototype.Hz=function(){this.ae()};gU.prototype.I_=function(g){this.xR=g;
this.ae()};gU.prototype.ae=function(){var g=this.xR,o=this.WJ;Z.ew(o);if(g==null||!Z.Hd(o))return;var k=g.m,y=g.n,d=new bd(0,0,k,y),b=this.M1=g.u.sv.slice(0),T=b[0]+b[1]+b[2],a=Math.round(34*Z.V()),t=a;
if(k>y)t=Math.round(t*y/k);else a=Math.round(a*k/y);var j=g.uM(),e=j[0];for(var m=0;m<e.length;m++){var v=e[m],L=this.N9(m);
_.vl.a38(L,a,t,d,v.add.vmsk);var H=new hF(v.Sp,!1,v.Sp>=0,L,v.name,j[1].indexOf(m)!=-1,!1,D.WH,{P:"pathedit",cL:"rnm",Sp:v.Sp});
H.parent=this;o.appendChild(H.e);Z.DB(L.canvas)}};gU.prototype.UC=function(g,o){this.WJ.style.height=o-30-4+"px";
this.WJ.style.width=g+"px"};gU.prototype.f=function(){dv.prototype.f.call(this);this.ae();fZ.oE(this.rX,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function i5(g){dv.call(this,[9,g?4:5],!1,"---panels/"+(g?"character":"paragraph"),g?dv.PD.aew:dv.PD.agk);
this.Yt.setAttribute("style","min-width:240px;");this.anR=g;this.sV=null;this.eM=null}i5.prototype=new dv("");
i5.prototype.ag=function(){this.sV=new ae;var g=this.sV,o=this.Yt;g.parent=this;if(this.anR){var k=Z.t("div","marged");
o.appendChild(k);k.appendChild(g.KX.e);o.appendChild(Z.t("hr"));var y=Z.t("div","marged");o.appendChild(y);
y.appendChild(g.qF.e);y.appendChild(g.a1.e);var d=Z.t("div","marged");o.appendChild(d);d.appendChild(g.hp.e);
d.appendChild(g.ST.e);o.appendChild(Z.t("hr"));var b=Z.t("div","marged");o.appendChild(b);b.appendChild(g.QZ.e);
b.appendChild(g.hF.e);var T=Z.t("div","marged");o.appendChild(T);T.appendChild(g.pl.e);T.appendChild(g.VE.e);
T.appendChild(g.DM.e);o.appendChild(Z.t("hr"));var a=Z.t("div","marged");o.appendChild(a);a.appendChild(g.ap.e);
a.appendChild(g.wm.e);a.appendChild(g.jp.e);a.appendChild(g.ZP.e);a.appendChild(g.pD.e);a.appendChild(g.Zv.e);
a.appendChild(g.NR.e);a.appendChild(g.Ji.e)}else{var k=Z.t("div","marged");o.appendChild(k);k.appendChild(g.av.e);
k.appendChild(g.K5.e);k.appendChild(g.ZQ.e);k.appendChild(g.auK.e);k.appendChild(g.a3l.e);k.appendChild(g.a22.e);
k.appendChild(g.avm.e);o.appendChild(Z.t("hr"));var y=Z.t("div","marged");o.appendChild(y);y.appendChild(g.k4.e);
y.appendChild(g.jx.e);y.appendChild(g.eJ.e);o.appendChild(Z.t("hr"));var d=Z.t("div","marged");o.appendChild(d);
d.appendChild(g.ro.e);d.appendChild(g.OD.e);d.appendChild(g.Y9.e);d.appendChild(g.pv.e)}};i5.prototype.Hz=function(){if(!Z.Hd(this.Yt))return;
if(this.sV==null){this.ag();var g=this.eM;if(g)this.sV.$(g.u1,g.At,g.xC);this.sV.f()}};i5.prototype.f=function(){dv.prototype.f.call(this);
if(this.sV)this.sV.f()};i5.prototype.mt=function(g,o){this.eM=g;if(o!=er.a_&&o!=er.cw&&o!=er.tV&&o!=er.om)return;
if(this.sV)this.sV.$(g.u1,g.At,g.xC)};function h9(){dv.call(this,[9,13],!1,"---panels/glyphs",dv.PD.apr);
this.eM=null}h9.prototype=new dv("");h9.prototype.ag=function(){this.sV=new ae;this.sV.parent=this;this.auG=null;
this.aa1=null;this.iU=null;this.a3y=null;this.BK=Math.round(290*Z.V());this.gn=45;this.axG=4;this.ab3=this.Y3.bind(this);
this.alV=0;this.Gx=new cR(null,["Hi","Hello"]);this.Gx.h(N.E.A,this.Y3,this);var g=this.et=new da("-",null,null,!0);
g.h("click",this.ayj,this);var o=this.aoX=new da("+",null,null,!0);o.h("click",this.ayj,this);this.a0=new i2(!1);
this.a0.h(N.E.A,this.U5,this);this.a0.e.style.height=250+"px";var k=this.z2=Z.t("div","form padded");
this.Yt.appendChild(k);k.appendChild(this.sV.KX.e);Z.Dx(k);k.appendChild(this.Gx.e);k.appendChild(g.e);
k.appendChild(o.e);this.Yt.appendChild(this.a0.e)};h9.prototype.UC=function(g,o){if(this.bW==g||this.sV==null)return;
this.bW=g;this.BK=Math.floor((g-13)*Z.V());this.z2.setAttribute("style","width:"+this.BK/Z.V()+"px;");
this.a0.e.style.height=o-73+"px";this.Y3()};h9.prototype.U5=function(g){var o=this.a06(),k=Math.round(this.BK/o);
o/=Z.V();var y=this.a0.c()[0]*k*this.axG,d=this.a0.aoa();y+=Math.floor(d.y/o)*k;y+=Math.floor(d.x/o);
var b=this.iU[this.Gx.c()];if(y>=b.length)return;var T=b[y],a=this.a3y[T],t=new jB(N.E.L,!0);t.G=D.uk;
if(a.Vj.length==0)t.data={P:"insertGlyph",Z:y+1};else t.data={P:"insertText",Z:String.fromCodePoint(a.Vj[0])};
this.S(t)};h9.prototype.ayj=function(g){var o=1.2;if(g.target==this.et){if(this.gn>20)this.gn/=o}else{if(this.gn<100)this.gn*=o}this.Y3()};
h9.prototype.Hz=function(){this.mt(this.eM)};h9.prototype.mt=function(g,o){this.eM=g;if(!Z.Hd(this.Yt))return;
if(this.sV==null)this.ag();this.sV.$(g.u1,g.At,g.xC);var k=g.u1,y=k.RY.Font,t=0;if(y==null)return;var d=k.n9[y].Name;
if(this.auG==d)return;var y=g.At.xT(d);if(y==null)return;var b=y.maxp.numGlyphs,T=this.a3y=new Array(b);
for(var m=0;m<b;m++)T[m]={Vj:[]};var a=Date.now(),j=new Uint8Array(1048575);for(var m=0;m<1048575;m++){var e=Typr.U.codeToGlyph(y,m);
if(e!=0&&e<b){j[m]=1;if(T[e].Vj.length==0)t++;T[e].Vj.push(m)}}var v=h9.kF,L=[];for(var m=0;m<v.length;
m++)L.push([]);for(var e=1;e<b;e++){L[0].push(e);var H=T[e].Vj[0];if(H==null){continue}for(var w=1;w<v.length;
w++){var P=v[w].Nd;for(var m=0;m<P.length;m+=2)if(P[m]<=H&&H<=P[m+1]){L[w].push(e);break}}}this.iU=L;
var Q=[];for(var m=0;m<v.length;m++)Q.push(v[m].Zq+" ("+L[m].length+")");var x=this.Gx.c();this.Gx.O$(Q);
this.Gx.$(x);this.auG=d;this.aa1=y;this.Y3()};h9.prototype.a06=function(g){var o=Math.floor(this.BK/this.gn);
return Math.floor(this.BK/o)};h9.prototype.Y3=function(g){if(!Z.Hd(this.Yt)||this.iU==null)return;var o=this.iU[this.Gx.c()],k=o.length,y=this.aa1,d=Typr.U,b=this.a06(),T=b,a=T*.8,t=T*.8/y.head.unitsPerEm,j=[],e=Math.floor(this.BK/b),v=Math.ceil(k/e),L=this.axG,H=Date.now();
for(var w=0;w<v;w+=L){var P=Z.t("canvas"),Q=P.getContext("2d");P.width=b*e;P.height=T*L;Q.strokeStyle="rgba(0,0,0,0.3)";
Q.fillStyle="white";Q.fillRect(0,0,e*b,T*L);for(var x=0;x<L;x++){for(var F=0;F<e;F++){var m=o[(w+x)*e+F];
if(m==null)break;var E=d.glyphToPath(y,m),f=_.p.AU(E.crds);if(!f.on()){Q.fillStyle="#252525";Q.beginPath();
var c=F*b+(b-f.m*t)*.5-f.x*t,M=x*T+a;Q.translate(c,M);Q.scale(t,-t);d.pathToContext(E,Q);Q.scale(1/t,-1/t);
Q.translate(-c,-M);Q.fill()}}}Q.beginPath();for(var F=0;F<e;F++){var n=F*b+b+.5;Q.moveTo(n,0);Q.lineTo(n,T*L)}for(var x=0;
x<L;x++){var X=x*T+T+.5;Q.moveTo(0,X);Q.lineTo(e*b,X)}Q.stroke();j.push(P)}this.a0.dn(j,null,b*e,T*L)};
h9.kF=[{Zq:"All Glyphs"},{Zq:"Basic Latin, Latin 1",Nd:[0,127,128,143]},{Zq:"Latin Extended-A",Nd:[256,383]},{Zq:"Latin Extended-B",Nd:[384,591]},{Zq:"Punctuations",Nd:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Zq:"Greek",Nd:[880,1023]},{Zq:"Cyrillic",Nd:[1024,1279]},{Zq:"Hebrew",Nd:[1424,1535]},{Zq:"Arabic",Nd:[1536,1791]},{Zq:"Emoji",Nd:[9728,10095,127744,129535]}];
function fu(){dv.call(this,[13,0],!1,null,dv.PD.wp);this.A$=0;this.a49=0;this.eM=null}fu.prototype=new dv("");
fu.prototype.ag=function(){if(!Z.Hd(this.Yt)||this.vS)return;var g=Z.t("div","flexrow padded");this.Yt.appendChild(g);
var o=Z.t("div");g.appendChild(o);this.vS=[];for(var m=0;m<2;m++){var k=new d6;this.vS.push(k);k.h("click",this.agw,this);
o.appendChild(k.e)}this.UP=new b6(192);console.log("hsb picker");this.UP.h(N.E.A,this.YO,this);this.EA=new h3;
this.EA.parent=this;g.appendChild(this.UP.e);this.mt(this.eM,er.a_)};fu.prototype.agw=function(g){var o=g.currentTarget,k=this.vS.indexOf(o);
if(k==this.A$){this.EA.Gf(k)}else{this.A$=k;this.Y3()}};fu.prototype.YO=function(g){var o=this.UP.c();
this.UP.$(o);var k=Math.round(o.o*255)<<16|Math.round(o.C*255)<<8|Math.round(o.k*255),y=new jB(N.E.s,!0);
y.data={P:N.b.pB,Q6:er.wp,cL:this.A$,Z:k};this.S(y);this.a49=Date.now()};fu.prototype.Y3=function(){if(this.EA==null)return;
var g=this.eM,o=this.A$,k=[g.p2,g.Pp];for(var m=0;m<2;m++){var y=this.vS[m],d=y.e.style;y.Ea(k[m]);if(m==o)d.filter="drop-shadow(0 0 1px #000000)"}var b=k[o];
if(Date.now()-this.a49>100)this.UP.$({o:(b>>>16)/255,C:(b>>>8&255)/255,k:(b&255)/255})};fu.prototype.mt=function(g,o){this.eM=g;
if(this.EA==null)return;if(o==er.a_||o==er.wp){this.EA.aoU(g.p2,g.Pp);this.Y3()}};fu.prototype.I_=function(){this.ag()};
fu.prototype.Hz=function(){this.ag();this.Y3()};function e0(){dv.call(this,"CSS",!1,"---panels/css",dv.PD.CSS);
this.i5=null;var g=Z.t("div","padded");this.Yt.appendChild(g);this.Gs=Z.t("textarea");Z.tF(this.Gs);
g.appendChild(this.Gs)}e0.prototype=new dv("");e0.prototype.UC=function(g,o){if(this.bW==g)return;this.bW=g;
this.Gs.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(g-10)+"px; height:"+(o-10)+"px")};
e0.prototype.I_=function(g){this.i5=g;this.Y3()};e0.prototype.mt=function(g,o){if(o==er.tV)this.Y3()};
e0.prototype.Y3=function(){var g=this.i5;if(g==null||g.g.length==0)return;if(!Z.Hd(this.Yt))return;var o=g.d[g.g[0]],k=CSS.ao2(o,g);
if(k.length!=0)this.Gs.value=k.join(";\n")+";";else this.Gs.value=""};e0.prototype.Hz=function(){this.Y3()};
function eA(){dv.call(this,[9,6],!1,"---panels/info",dv.PD.a6o);this.Yt.setAttribute("style","min-width:240px;");
this.i5=null;this.eM=null;var g=this.lL=[];for(var o=0;o<3;o++){var k=Z.t("div","marged row");this.Yt.appendChild(k);
var y=Z.t("div","cell");y.setAttribute("style","width:10em");k.appendChild(y);var d=Z.t("div","cell");
d.setAttribute("style","width:10em");k.appendChild(d);for(var m=0;m<(o==2?3:4);m++){var b=new bZ("");
g.push(b);b.$(0);b.e.style.padding="0";var T=o!=1||m<2?y:d;T.appendChild(b.e);Z.Dx(T)}if(o<2)Z.Jo(this.Yt)}this.yy=g[4];
this.rO=g[5];this.sJ=g[6];this.mh=g[7]}eA.prototype=new dv("");eA.prototype.Sa=function(g,o,k,y,d){if(!Z.Hd(this.Yt)||g==null)return;
var b=g.u.mp(d.x,d.y),T=new bJ(Math.floor(b.x),Math.floor(b.y));if(!d._J){var a=0,t=0,j=0,e=0,v=this.lL;
if(!d._J&&!g.asM()&&new bd(0,0,g.m-1,g.n-1).oo(T)){var L=g.PJ(),m=g.m*T.y+T.x<<2;a=L[m+0];t=L[m+1];j=L[m+2];
e=L[m+3]}v[0].$("R: "+a);v[1].$("G: "+t);v[2].$("B: "+j);v[3].$("A: "+e);var H=_.u_(a,t,j);v[8].$("H: "+Math.round(H.GP*360)+"\xB0");
v[9].$("S: "+Math.round(H.ci*100)+"%");v[10].$("B: "+Math.round(H.k*100/255)+"%")}var w=g.u.N>1?new bJ(b.x,b.y):T;
this.yy.$("X: "+_.bt.m4(w.x,g.Qb,k,g.m));this.rO.$("Y: "+_.bt.m4(w.y,g.Qb,k,g.n));this.bl()};eA.prototype.bl=function(){var g=this.i5,o=this.eM,k=0,y=0;
if(g&&o){if(g.u.nQ){k=g.u.nQ.m;y=g.u.nQ.n}else if(g.J){k=g.J.rect.m;y=g.J.rect.n}k=_.bt.m4(Math.abs(k),g.Qb,o,g.m);
y=_.bt.m4(Math.abs(y),g.Qb,o,g.n)}this.sJ.$(d9.get([12,41]).charAt(0)+": "+k);this.mh.$(d9.get([12,42]).charAt(0)+": "+y)};
eA.prototype.f=function(){dv.prototype.f.call(this);this.bl()};eA.prototype.I_=function(g,o,k){this.i5=g;
this.eM=k;this.bl()};function dT(){dv.call(this,[9,1],!1,"---panels/layers",dv.PD.Jn);this.xv=null;this.zq=[];
this.po=null;this.Kr=null;this.ex=Z.t("div","lphead");this.WJ=Z.t("div","lpbody scrollable");this.WJ.addEventListener("scroll",this.avC.bind(this),!1);
this.LI=Z.t("div","lpfoot");var g=this.alQ=Z.t("span");g.setAttribute("style","display:inline-block; height:26px");
this.ex.appendChild(g);this.d6=new cR(null,h8.q5,h8.o0);this.d6.h(N.E.A,this.a1c,this);this.ex.appendChild(this.d6.e);
this.Uf=new k9([12,0],0,100,"%",0);this.Uf.h(N.E.A,this.a5q,this);this.Uf.parent=this;this.ex.appendChild(this.Uf.e);
this.s8=new jZ([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.s8.h(N.E.A,this.ajF,this);this.ex.appendChild(this.s8.e);this.Ln=new k9([12,26],0,100,"%",0);this.Ln.h(N.E.A,this.a6H,this);
this.Ln.parent=this;this.ex.appendChild(this.Ln.e);this.rX=[];this.T2();this.Yt.appendChild(this.ex);
this.Yt.appendChild(this.WJ);this.WJ.addEventListener("dragover",function(d){d.preventDefault()},!1);
this.WJ.addEventListener("dragenter",Z.GK,!1);this.WJ.addEventListener("drop",this.a8o.bind(this),!1);
this.Yt.appendChild(this.LI);this.Yt.addEventListener("contextmenu",Z.GK,!1);this.h("rclick",this.afG,this);
var o=function(d,b,m){return{BF:this.Cx[m]==1}}.bind(this);this.aj7=new iU([{name:[0,6],r:o},{name:[14,10],r:o},{name:[6,57,2],r:o,_r:!0},{name:"Long-tap as a right click",r:o,_r:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",r:function(){return{BF:hi.De==0,r:!0}}},{name:"Thumbnails by Document",r:function(){return{BF:hi.De==1,r:!0}}}]);
this.aj7.h("select",this.ac3,this);this.Cx=[0,1,1,0];var k=window.localStorage;if(k){var y=k.getItem("lpOpt");
if(y){y=JSON.parse(y);this.Cx=y[0];hi.Br=y[1];hi.De=y[2]}}this.ac3()}dT.prototype=new dv("");dT.prototype.vH=function(){if(this.a0d)return;
var g=jD.tQ(!0),o=jD.uj(!0);this.a0d=new iU(g,o);var g=[{name:[14,10]},{name:[14,11],_r:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],_r:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",r:function(k){return{r:k.d[k.g[0]].add.SoLd!=null}},_r:!0},{name:[6,8],r:dT.a02},{name:[6,34],r:function(k){var y=k.d[k.g[0]];
return{r:y.add.lmfx!=null&&!y.gT()}}},{name:[6,40],_r:!0,r:function(k){var y=k.d[k.g[0]];return{r:y.add.TySh!=null}}},{name:"",_r:!0,r:function(k){var y=k.d[k.g[0]],d=y.add.TySh,b=d?d.O7:null;
return{r:d!=null&&b.Curve==null,cn:d9.get(d&&bw.sZ(b)==0?[16,3,1]:[16,3,0])}}},dT.aqL(!1),jD.abo(),{name:[6,12,0],r:function(k){var y=k==null?0:k.g.length;
return{r:y!=0&&(y!=1||k.g[0]!=0),cn:d9.get(y>1||y==1&&k.d[k.g[0]].gT()?[6,12,0]:[6,10])}}},{name:[6,12,1],_r:!0},{name:[13,0],sub:function(){var k=[];
for(var m=0;m<hN.cy.length;m++)k.push({name:[13,1,m],vl:"#"+_.Mb(hN.cy[m])});return k}()}],o=[{W:N.E.s,R:{P:N.b.xp,Pv:"layerstyle"}},{W:N.E.L,G:D.ng,R:{P:"fromlayer",Q9:[null,0,0]}},{W:N.E.L,G:D.Jn,R:{P:p.jL}},{W:N.E.s,R:{P:N.b.xp,Pv:"duplinto"}},{W:N.E.L,G:D.Jn,R:{P:p.kP}},{W:N.E.gp,R:{J5:"newPlacedLayer"}},{W:N.E.L,G:D.Jn,R:{P:p.II}},{W:N.E.gp,R:{J5:"rasterizeLayer",fV:{classID:"rasterizeLayer",null:c_.lF("Lyr",!0)}}},{W:N.E.L,G:D.Jn,R:{P:p.zh}},{W:N.E.L,G:D.Jn,R:{P:p.auk}},{W:N.E.L,G:D.uk,R:{P:"switchPntPrgr"}},{W:N.E.L,G:D.Jn,R:{P:p.Uq}},jD.auO(),{W:N.E.gp,R:{J5:"mergeLayersNew",fV:{__name:"Merge Layers",classID:"Mrg2"}}},{W:N.E.gp,R:{J5:"flattenImage"}},{sub:function(){var k=[];
for(var m=0;m<8;m++)k.push({W:N.E.L,G:D.Jn,R:{P:p.g0,adk:m}});return k}()}];this.hV=new iU(g,o);var g=[{name:[6,45],r:function(k){var y=k.d[k.g[0]];
return{r:y.lQ(k).v==null}}},{name:[6,47]}],o=[{W:N.E.L,G:D.Jn,R:{P:p.qE}},{W:N.E.L,G:D.Jn,R:{P:p.OB}}];
this.awG=new iU(g,o);var g=[{name:"enab/disab",r:function(k){return{cn:d9.get(k.d[k.g[0]].Qp().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],r:function(k){return{r:k.q0(!1,!0)}}}],o=[{W:N.E.L,G:D.Jn,R:{P:p.Dy}},{W:N.E.L,G:D.Jn,R:{P:p.K7}},{W:N.E.L,G:D.Jn,R:{P:p.le}}];
this.arE=new iU(g,o);var g=[{name:"enab/disab",r:function(k){return{cn:d9.get(k.d[k.g[0]].lQ(k).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],o=[{W:N.E.L,G:D.Jn,R:{P:p.$$}},{W:N.E.L,G:D.Jn,R:{P:p.eI}}];
this.aok=new iU(g,o);var g=[{name:"enab/disab",r:function(k){return{cn:d9.get(k.d[k.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],o=[{W:N.E.L,G:D.Jn,R:{P:p.AW}},{W:N.E.L,G:D.Jn,R:{P:p.vc}},{W:N.E.L,G:D.Jn,R:{P:p.Rg}}];
this.asU=new iU(g,o);this.aeC=new iU(jD.amF(!0),jD.Gm(!0));this.acc=new iU(jD.tQ(),jD.uj())};dT.prototype.avC=function(g){var o=this.WJ.scrollTop-600;
for(var m=0;m<this.zq.length;m++){var k=this.zq[m],y=k.Ph;if(o<k.Ph)k.adg();if(k.Ph>o+this.GP+600)break}};
dT.prototype.sW=function(){return this.aj7};dT.prototype.ac3=function(g){var o=this.Cx;if(g){var k=g.target.Ny(),m=k[0];
if(m<4)o[m]=1-o[m];else if(m<6){if(m==4&&hi.Br-10>=10)hi.Br-=10;if(m==5&&hi.Br+10<=200)hi.Br+=10;if(this.po)this.po.Qr=!0}else{if(m==6)hi.De=0;
if(m==7)hi.De=1;if(this.po)this.po.Qr=!0}var y=window.localStorage;if(y)y.setItem("lpOpt",JSON.stringify([o,hi.Br,hi.De]))}if(o[0]==1)this.awt();
var d=[[{e:this.alQ}],[this.d6,this.Uf],[this.s8,this.Ln]];for(var m=0;m<3;m++)for(var b=0;b<d[m].length;
b++)d[m][b].e.style.display=o[m]==1?"inline-block":"none";this.UC(this.bW,this.GP)};dT.prototype.aem=function(){var g=this.Bo;
if(g==null)return!1;if(g.c()){var o=this.Wo.c(),k=this.vK[o].c();if(o==0)return k.indexOf(!0)!=-1;if(o==1)return k!=""}return!1};
dT.aqL=function(g){var o=function(y){var d=y!=null&&y.g.length!=0&&y.d[y.g[0]].Le;return{BF:d,r:y!=null&&y.WN(y.g[0]),R:{W:N.E.gp,R:{J5:d?"ungroup":"groupEvent",fV:{classID:d?"Ungr":"GrpL",null:c_.lF("Lyr",!0)}}}}},k={name:[6,6,0],_r:!0,r:o};
if(g)k.SW=[dj.M4,dj.IQ,dj.X6];return k};dT.a02=function(g,o){if(g)for(var m=0;m<g.g.length;m++){var k=g.d[g.g[m]];
if(k.add.TySh||k.add.SoLd||k.add.SoCo||k.add.GdFl||k.add.PtFl)return{r:!0}}return{r:!1}};dT.prototype.a8o=function(g){Z.GK(g);
var o=g.dataTransfer.getData("Text"),k=1,y=0;if(o==""){Z.Wf(g,this,this.Kr.indexOf(this.po),y+(k>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),d=o.Wj;
if(d=="l")this.Xi({P:p.KG,source:o.bi,target:y,oG:k})}};dT.prototype.afG=function(g){var o=this.po,k=g.data,d;
if(o.g.indexOf(k.i)==-1){var y={P:p.dl,i:g.target.ZD.index,j1:k.W1};this.Xi(y)}if(o.g.indexOf(k.i)==-1)return;
this.vH();if(k.W1==1){d=this.arE}else if(k.W1==2){d=this.asU}else if(k.W1==3){d=this.aok}else if(k.W1==4){d=this.awG}else if(k.W1==5){d=this.a0d}else{d=this.hV}d.f();
d.update(o);d.parent=this;var b=new jB(N.E.s,!0);b.data={P:N.b.q$,w9:d,x:k.Kl.x+1,y:k.Kl.y+1};this.S(b)};
dT.prototype.f=function(){dv.prototype.f.call(this);this.d6.f();this.Uf.f();this.s8.f();this.Ln.f();
if(this.Bo){this.Bo.f();this.vK[0].f()}if(this.po)this.I_(this.po);var g="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var m=0;m<this.rX.length;m++){var o=this.rX[m];o.HZ(Z.$l(g[m],null,"miniscale"));if(m==1||m==2){o.e.style.position="relative";
var k=Z.t("img","gsicon");k.setAttribute("src",PIMG["tools/corner"]);k.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
o.e.appendChild(k)}}};dT.prototype.I_=function(g,o){if(g&&!g.Qr)return;if(g==null)Z.O9(this.Yt,"disabled");
else Z.Iu(this.Yt,"disabled");this.po=g;this.Kr=o;if(this.xv!=null){Z.ew(this.WJ);this.xv=null;this.zq=[]}if(g==null)return;
var k=!1;for(var m=0;m<g.Tm.length;m++)if(g.Tm[m].ao)k=!0;this.xv=new hN(g.root,this,g,{IZ:0,cB:!1},{asP:k,a8c:this.aem()},this.zq,0,new bd(0,0,g.m,g.n));
if(g.g.length==0||g.d[g.g[0]]==null)Z.O9(this.ex,"disabled");else{Z.Iu(this.ex,"disabled");if(g.g.length==1&&g.Cn){var y=g.g[0];
for(var m=0;m<this.zq.length;m++){var d=this.zq[m];if(d.ZD.index==y&&d.ex.scrollIntoView)d.ex.scrollIntoView({block:"nearest"})}}var b=g.d[g.g[0]];
if(b.gT()){this.d6.O$([[15,10,27]].concat(h8.q5),[1].concat(h8.o0));var T=h8.re.indexOf(b.HW);this.d6.$(T+1)}else{this.d6.O$(h8.q5,h8.o0);
var T=h8.re.indexOf(b.HW);this.d6.$(T)}this.Uf.$(Math.round(100*b.opacity/255));this.s8.$([b.RA(0),b.RA(1),b.RA(2),b.RA(31)]);
var a=g.Ik();this.d6._C(!a);this.Ln._C(!a);this.Uf._C(!a);this.s8._C(!(a&&!b.RA(31)));this.Ln.$(Math.round(100*(b.add.iOpa!=null?b.add.iOpa/255:1)))}this.avC(null)};
dT.prototype.UC=function(g,o){this.bW=g;this.GP=o;var k=this.ex.getBoundingClientRect().height;if(55<k&&k<56)k=60.2;
var y=this.LI.getBoundingClientRect().height,d=o-(k+y+3);this.WJ.style.height=d+"px";this.WJ.style.width=g+"px"};
dT.prototype.a1c=function(g){this.Xi({P:p.FV,M$:this.d6.c()})};dT.prototype.a5q=function(g){this.Xi({P:p._z,M$:Math.round(255*this.Uf.c()/100)})};
dT.prototype.ajF=function(g){this.Xi({P:p.hw,M$:[this.s8.c(),[0,1,2,31]]})};dT.prototype.a6H=function(g){this.Xi({P:p.t0,M$:Math.round(255*this.Ln.c()/100)})};
dT.prototype.qI=function(g){if(g.target==this.Wo)this.awt();var o=this.Bo.c();if(o)Z.Iu(this.BJ,"disabled");
else Z.O9(this.BJ,"disabled");this.f();this.po.Qr=!0;this.I_(this.po);this.po.Qr=!1};dT.prototype.awt=function(){var g=this.BJ;
if(g==null){var o=this.alQ,k=this.Bo=new dX([0,6]);k.h(N.E.A,this.qI,this);o.appendChild(k.e);g=this.BJ=Z.t("span","disabled");
o.appendChild(g);this.Wo=new cR(null,["Kind",[12,48]],[]);this.Wo.h(N.E.A,this.qI,this);var y=this.vK=[new jZ(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new ic(null,null,8)];
y[0].h(N.E.A,this.qI,this);y[1].h("input",this.qI,this)}Z.ew(g);g.appendChild(this.Wo.e);g.appendChild(this.vK[this.Wo.c()].e)};
dT.prototype.adB=function(g){this.vH();this.aes(g,this.aeC)};dT.prototype.ae2=function(g){this.vH();
this.aes(g,this.acc)};dT.prototype.aes=function(g,o){var k=g.currentTarget;if(Z.Hd(o.e))return;g.stopPropagation();
var y=k.getBoundingClientRect();o.f();o.update(this.po);o.parent=this;var d=new jB(N.E.s,!0);d.data={P:N.b.q$,w9:o,x:y.left,y:y.top,azp:!0};
this.S(d)};dT.prototype.ak3=function(g){this.Xi({P:p.aru})};dT.prototype.alZ=function(g){this.Xi({P:this.po.g.length>1?p.Pw:p.hX})};
dT.prototype.a81=function(g){this.Xi({P:p.IX})};dT.prototype.a21=function(g){var o=this.po;if(o.g.length==0)return;
var k=o.d[o.g[0]],y=k.W1;this.Xi({P:y<=0?k.j6?p.vc:p.kP:y==3?p.eI:p.K7})};dT.prototype.an3=function(g){this.Xi({P:p.Fj})};
dT.prototype.Xi=function(g){var o=new jB(N.E.L,!0);o.data=g;o.G=D.Jn;this.S(o)};dT.prototype.T2=function(){var g=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],o=[this.an3,this.ae2,this.adB,this.ak3,this.alZ,this.a81,this.a21],k=this.a6A.bind(this);
for(var m=0;m<g.length;m++){var y=new da("W",!1,g[m]);this.rX.push(y);Z.Fn(y.e,o[m].bind(this));this.LI.appendChild(y.e);
if(m>=g.length-3){var d=y.e;d.addEventListener("drop",k,!1);d.addEventListener("dragover",function(b){b.preventDefault()},!1);
d.addEventListener("dragenter",Z.GK,!1)}}};dT.prototype.a6A=function(g){Z.GK(g);var o=0,k=this.rX;while(k[o].e!=g.currentTarget)o++;
k[o].yQ();var y=g.dataTransfer.getData("Text");if(y=="")return;var y=JSON.parse(y);if(y.Wj=="l"){var d={P:[p.Pw,p.jL,p.kP][o-4]};
if(this.po.g.indexOf(y.bi)==-1)d.i=y.bi;this.Xi(d)}if(o!=6)return;if(y.Wj=="sm"||y.Wj=="s"){var b=new jB(N.E.L,!0);
b.G=D.sp;b.data={P:y.Wj=="sm"?"st_clear":"st_delsingle",i:y.bi,bi:y.qp};this.S(b)}if(y.Wj=="fm"||y.Wj=="f"){this.Xi({P:y.Wj=="fm"?p.OB:p.IP,src:y.bi,qp:y.qp})}if(y.Wj=="m"||y.Wj=="vm"){this.Xi({P:y.Wj=="m"?p.K7:p.vc,i:y.bi})}};
function hN(g,o,k,y,d,b,T,a){fR.call(this);this.parent=o;this.Ph=T;this.ZD=g;b.push(this);this.m1=k;
this.kB=y;var t=o.WJ,j=g.i,e=k.g.indexOf(g.index)!=-1,w=null;this.ex=Z.t("div",e?"head selected":"head");
if(j.add.artb!=null){Z.O9(this.ex,"artb");a=j.xB()}var v=this.a3W=Math.floor(10+j.a4b/Z.V()),L="height: "+v+"px;";
if(e&&d.asP)L+="background-color:rgba(255,50,50,0.4);";this.ex.setAttribute("style",L);this.wO=a;var H=this.auV=this.a9I.bind(this),P=d.a8c&&!this.a7v();
if(!P){if(g.depth!=0){t.appendChild(this.ex);T+=v}if(j.Ff()||j.wg())if(j.Ac()){w=this.a7C=Z.t("div","lpineck");
t.appendChild(w);if(j.Ff()){w.addEventListener("contextmenu",H,!1);var Q=new dT.v3(d9.get([12,1]),"sm","layerstyle",g.depth,0,null);
T+=21;Q.parent=this;w.appendChild(Q.e);var x=j.add.lmfx,F=x.masterFXSwitch.v;Q.qj(F);for(var m=0;m<iZ.order.length;
m++){var E=x[iZ.pW[m]].v;if(E.length==0)continue;for(var f=0;f<E.length;f++){var Q=new dT.v3(d9.get(iZ.names[m]),"s","layerstyle",g.depth,1,[m,f]);
T+=21;Q.qj(F&&E[f].v.enab.v);Q.parent=this;w.appendChild(Q.e)}}}if(j.wg()){var c=j.lQ(k).v;if(c)this.uN=Z.t("div","thumb");
var Q=new dT.v3(d9.get([12,55]),"fm",null,g.depth,0,-1,c?this.uN:null);T+=c?v:21;Q.parent=this;w.appendChild(Q.e);
this.acW=Q.e;this.acW.addEventListener("contextmenu",H,!1);var x=j.add.SoLd.filterFX.v,M=x.filterFXList.v,F=x.enab.v;
Q.qj(F);for(var m=M.length-1;m>=0;m--){var n=M[m].v,X=jf.yB(n);if(aj.wf[X])X=aj.wf[X];var u=n.Nm.v;if(jf.names[X])u=d9.get(jf.names[X]);
if(aj.names[X])u=d9.get(aj.names[X]);var I="afw_"+X,Q=new dT.v3(u,"f",I,g.depth,1,m);T+=21;Q.qj(F&&n.enab.v);
Q.parent=this;w.appendChild(Q.e)}}}}var r=j.add.lclr;if(r==null)r=0;r=r==0?y.IZ:hN.cy[r];this.an9=r;
if(j.gT()&&(j.add.lsct==cK.TD||d.a8c)){var J={IZ:r,cB:y.cB||j.RA(31)};for(var m=g.children.length-1;
m>=0;m--){var U=new hN(g.children[m],o,k,J,d,b,T,a);T=U.aoA}}this.aoA=T}hN.prototype=new fR;hN.cy=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
hN.prototype.adg=function(){if(this.gV)return;var g=this.ZD,o=g.i,k=this.m1,y=this.kB,v=!0,J=!1;g.OJ(k,this.wO,!0);
var d=Z.t("div","headL"),b=Z.t("div","headR");this.ex.appendChild(d);this.ex.appendChild(b);var T=this.ex;
T.setAttribute("draggable","true");T.addEventListener("dragstart",this.vk.bind(this),!1);T.addEventListener("drop",this.ux.bind(this),!1);
T.addEventListener("dragover",this.kg.bind(this),!1);T.addEventListener("dragenter",Z.GK,!1);T.addEventListener("dragleave",this.o1.bind(this),!1);
var a=[],t=[null,null,null,null],j=o.oa(),e=g;while(e.parent){e=e.parent;j=j&&e.i.oa()}if(o.Le){for(var m=g.index-1;
m>=0;m--){var L=k.d[m];if(!L.Le){v=L.oa();break}}}var H=o.oa()?j&&v?2:1:0;this.gV=Z.t("div");var w=Z.t("div",H==0?"sqr":"eye");
this.gV.appendChild(w);w.style.opacity=[.12,.33,1][H];var P=Z.t("div","space");this.Nb=Z.t("div","label");
this.Nb.setAttribute("style","max-width:calc(100% - "+(96+g.depth*20)+"px); margin-top:"+(this.a3W-19)/2+"px;");
this.Nb.textContent=o.getName();this.$b=Z.t("div","lock");this.a3n=Z.t("div","lrfx");this.dF=Z.t("div","arfx");
var Q=this.auV,x=this.ani.bind(this);this.ex.addEventListener("click",x,!1);this.ex.addEventListener("contextmenu",Q,!1);
var F=this.an9,E=[F>>16,F>>8&255,F&255];for(var m=0;m<3;m++){E[m]=Math.round(.5*E[m]+.5*220)}this.gV.setAttribute("style","background-color:rgba("+E.join(",")+","+(F==0?0:1)+");");
var f=this.atH.bind(this);this.gV.addEventListener("mousedown",f,!1);this.gV.addEventListener("mouseover",f,!1);
this.dF.addEventListener("click",this.auo.bind(this),!1);a[0]=this.gV;a[1]=P;a[10]=this.Nb;if(o.gT()){var c=Z.t("div","arrow"),M=Z.t("div","folder");
this.VW(M);c.addEventListener("click",this.a0N.bind(this),!1);a[2]=c;a[3]=M;c.className=o.add.lsct==cK.TD?"open":"closed"}else{this.SZ=Z.t("div","thumb");
a[5]=this.SZ;hN.Ez(this.SZ,o.Im);this.VW(this.SZ);if(aj.get(o.add))Z.O9(o.Im.canvas,"gsicon")}var n=o.Qp();
if(n){this.ND=Z.t("div","chain");this.ue=Z.t("div","thumb");hN.Ez(this.ue,o.DI,!0);this.ND.style.opacity=n.zi?1:0;
this.ND.addEventListener("click",this.acX.bind(this),!1)}var X=o.JW()&&o.add.vmsk;if(o.add.vmsk&&!X){this.nt=Z.t("div","chain");
this.ni=Z.t("div","thumb");hN.Ez(this.ni,o.Cb,!0);this.nt.style.opacity=o.add.vmsk.zi?1:0;this.nt.addEventListener("click",this.apt.bind(this),!1)}if(o.wg()&&o.Ac()&&o.lQ(k).v){hN.Ez(this.uN,o.WI,!1);
this.VW(this.uN);this.uN.addEventListener("click",x,!1);this.uN.addEventListener("contextmenu",Q,!1)}if(g.index==k.g[0]){var u=o.W1,I;
if(u<=0)I=this.SZ;else if(u==1)I=this.ue;else if(u==3)I=this.uN;if(I)I.className="thumb active";if(o.j6&&this.ni)this.ni.className="thumb active"}P.setAttribute("style","width:"+Math.max(0,g.depth-1)*18+"px");
var r=o.add.lspf!=null&&o.add.lspf!=0||y.cB;this.$b.style.opacity=o.RA(31)?1:.5;a[4]=o.Le?Z.t("div","clipp"):null;
a[6]=n?this.ND:null;a[7]=n?this.ue:null;a[8]=o.add.vmsk&&!X?this.nt:null;a[9]=o.add.vmsk&&!X?this.ni:null;
var U=o.Pu,K=k.g;if(U!=0)for(var m=0;m<K.length;m++)if(k.d[K[m]].Pu==U){J=!0;break}if(J){t[0]=Z.t("div",o.o4?"link":"linkX");
t[0].addEventListener("click",this.akZ.bind(this),!1)}t[1]=r?this.$b:null;t[2]=o.Ff()?this.a3n:null;
t[3]=o.Ff()||o.wg()?this.dF:null;this.dF.className=o.Ac()?"arfx open  gsicon":"arfx closed  gsicon";
var i=a;for(var m=0;m<i.length;m++)if(i[m])d.appendChild(i[m]);i=t;for(var m=0;m<i.length;m++)if(i[m])b.appendChild(i[m])};
hN.Ez=function(g,o,k){var y=o.canvas;Z.DB(y);if(k)g.setAttribute("draggable","true");g.appendChild(y);
y.setAttribute("style",y.getAttribute("style")+"; pointer-events:none")};hN.prototype.VW=function(g){Z.Fn(g,function(o){if(this.parent.Cx[3]==0)return;
Z.mm(o);Z.hO(document.body,function(){clearTimeout(this.aet)}.bind(this));this.aet=setTimeout(function(){var k=new jB("rclick",!0);
k.data={i:this.ZD.index,W1:this.W1(o),Kl:Z.YD(o,document.body)};this.S(k)}.bind(this),600)}.bind(this))};
hN.he=function(g,o){var k=o.getBoundingClientRect();return(g.clientY-k.top)/k.height};hN.prototype.vk=function(g){g.stopPropagation();
var o=g.target==this.ue?"m":g.target==this.ni?"vm":"l";g.dataTransfer.setData("Text",JSON.stringify({Wj:o,bi:this.ZD.index}))};
hN.prototype.o1=function(g){Z.GK(g);this.$P()};hN.prototype.ux=function(g){Z.GK(g);this.$P();var o=g.dataTransfer.getData("Text"),k=this.parent.po,y=hN.he(g,this.ex),d=this.ZD.index;
if(y>.8){var b=!0,T=k.root.St(d);while(T.parent!=null){var a=T.parent,t=a.children;if(t.indexOf(T)!=0)b=!1;
T=T.parent}if(b){d=0;y=1}}if(o==""){Z.Wf(g,this,this.parent.Kr.indexOf(k),d+(y>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),j=o.Wj;
if(j=="l")this.Xi({P:p.KG,source:o.bi,target:d,oG:y});else if(j=="m"||j=="vm")this.Xi({P:j=="m"?p.amJ:p.U8,src:o.bi,qN:d});
else hN.arU(g,o,this)}};hN.arU=function(g,o,k,y){var d=o.Wj,b=k.ZD.index,T=o.bi;if(d=="s"||d=="sm")k.Xi({P:p.jM,src:T,qN:b,qp:o.qp});
if(d=="f"||d=="fm")k.Xi({P:p.ajW,src:T,qN:b,qp:o.qp,G1:y==null?0:y})};hN.prototype.kg=function(g){Z.GK(g);
var o=hN.he(g,this.ex),k=this.ZD.i.gT()&&.5<o&&o<.8;this.$P();var y="inset 0 "+(k?0:o>.5?-3:3)+"px "+(k?"5px black":"0 rgba(0,0,0,0.5)");
this.ex.style.boxShadow=y};hN.prototype.$P=function(g){this.ex.style.boxShadow=""};hN.asl=-1;hN.Na=!1;
hN.a4J=function(g){hN.Na=!1;document.body.removeEventListener("mouseup",hN.a4J)};hN.prototype.atH=function(g){if(g.button!=0)return;
if(g.type=="mousedown"){hN.Na=!0;document.body.addEventListener("mouseup",hN.a4J,!1)}if(g.type=="mouseover"&&(!hN.Na||hN.asl==this.ZD.index))return;
Z.GK(g);this.Xi({P:p.HF,i:this.ZD.index});hN.asl=this.ZD.index};hN.prototype.a0N=function(g){Z.GK(g);
this.Xi({P:p.a0m,i:this.ZD.index})};hN.prototype.acX=function(g){this.Xi({P:p.n4,i:this.ZD.index})};
hN.prototype.apt=function(g){this.Xi({P:p.tC,i:this.ZD.index})};hN.He=0;hN.prototype.ys=function(g){this.Xi({P:p.$S,i:this.ZD.index,name:g})};
hN.prototype.auo=function(g){this.Xi({P:p.a4C,i:this.ZD.index})};hN.prototype.akZ=function(g){this.Xi({P:p.kH,i:this.ZD.index})};
hN.prototype.a9I=function(g){if(g.button!=2&&!Z.aic(g))return;var o=this.W1(g);if(o!=3&&g.currentTarget==this.acW)o=4;
if(g.target==this.a3n||g.currentTarget==this.a7C)o=5;var k=new jB("rclick",!0);k.data={i:this.ZD.index,W1:o,Kl:Z.YD(g,document.body)};
this.S(k)};hN.prototype.W1=function(g){var o=g.target,k=o;return k==this.ni?2:k==this.ue?1:k==this.SZ?0:k==this.uN?3:-1};
hN.prototype.ani=function(g){var o=g.target,H;if(o==this.gV.firstChild||o==this.dF||o==this.ND||o==this.nt||o.tagName&&o.tagName.toLowerCase()=="input")return;
var k=this.W1(g),y=this.parent.po,d=this.ZD.index,b=y.d[d];if(o==this.$b){this.Xi({P:p.hw,i:d,M$:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var T=hN.He,a=Date.now()-T<300;hN.He=Date.now();if(o==this.Nb){if(a){this.ex.setAttribute("draggable","false");
var t=new dv.kJ(this.Nb,this.ys.bind(this))}else this.Xi({P:p.dl,i:d,j1:k,vr:!0});return}if(g.button==0&&a){if(o==this.Nb)return;
var j=new jB(N.E.L,!0),e=new jB(N.E.s,!0),v=new jB(N.E.gp,!0);if(k==0&&b.add.SoCo){var L=_.M.sL(b.add.SoCo.Clr.v);
e.data={P:N.b.xp,Pv:"colorpicker",IZ:L.o<<16|L.C<<8|L.k,Tr:function(Q){var x=_.M.UF({k:Q&255,C:Q>>>8&255,o:Q>>16&255});
x={classID:"null",Clr:{t:"Objc",v:x}};var F=new jB(N.E.L,!0);F.G=D.Jn;F.data={P:p.jj,i0:[d],LO:!0,Z:{uF:1,si:x}};
this.S(F)}.bind(this),XC:!0}}else if(k==0&&(aj.get(b.add)||b.add.SoCo||b.add.GdFl||b.add.PtFl))e.data={P:N.b.jz,Pv:dv.PD.R9};
else if(k!=0&&k!=-1)e.data={P:N.b.jz,Pv:dv.PD.R9};else if(k==0&&b.add.SoLd)v.data={J5:"placedLayerEditContents",fV:{classID:"placedLayerEditContents"}};
else if(k==0&&b.add.TySh){j.G=D.uk;j.data={P:"editCurr",LP:d}}else e.data={P:N.b.xp,Pv:"layerstyle",i:d};
this.S(v.data?v:e.data?e:j);return}if(g.button!=0)return;if(k==1||k==3){var w=k==3?b.lQ(y).v:b.Qp();
H=w.ao?y.u.sv.join("")=="111"?1:2:0}var P={P:p.dl,i:d,j1:k,aws:H,vr:!0};this.Xi(P)};hN.prototype.Xi=function(g){var o=new jB(N.E.L,!0);
o.data=g;o.G=D.Jn;this.S(o)};hN.prototype.a7v=function(){var g=this.ZD.i,o=g.add,k=this.parent.Wo.c(),y=this.parent.vK[k].c();
if(k==0){if(y[0]&&o.SoLd==null&&o.TySh==null&&g.eT())return!0;if(y[1]&&aj.get(o)!=null)return!0;if(y[2]&&o.TySh!=null)return!0;
if(y[3]&&o.vstk!=null)return!0;if(y[4]&&o.SoLd!=null)return!0;return!1}if(k==1)return g.getName().toLowerCase().indexOf(y.toLowerCase())!=-1};
dT.v3=function(g,o,k,y,d,b,T){fR.call(this);this.a3E=o;this.tE=k;this.index=b;this.e=Z.t("div","styleitem");
this.ex=Z.t("div","head");this.a6S=null;if(o=="f"){var a=this.a6S=Z.t("div","headR");a.textContent="\u2699";
this.ex.appendChild(a)}this.gV=Z.t("div","eye gsicon");this.Nb=Z.t("div","label");this.e.appendChild(this.ex);
this.ex.appendChild(this.gV);if(T){this.ue=T;this.ex.appendChild(T);this.ex.setAttribute("style","height: "+(26/Z.V()+10)+"px")}this.Nb.innerHTML=g;
this.e.setAttribute("style","margin-left: "+(24+y*16+d*22)+"px");this.ex.appendChild(this.Nb);this.gV.addEventListener("click",this.afl.bind(this),!1);
var t=this.e;t.setAttribute("draggable","true");t.addEventListener("dragstart",this.vk.bind(this),!1);
if(!0){t.addEventListener("drop",this.ux.bind(this),!1);t.addEventListener("dragover",this.kg.bind(this),!1);
t.addEventListener("dragenter",Z.GK,!1);t.addEventListener("dragleave",this.o1.bind(this),!1)}this.e.addEventListener("click",this.b9.bind(this),!1)};
dT.v3.prototype=new fR;dT.v3.prototype.vk=function(g){g.stopPropagation();g.dataTransfer.setData("Text",JSON.stringify({Wj:this.a3E,bi:this.parent.ZD.index,qp:this.index}))};
dT.v3.prototype.o1=function(g){Z.GK(g);this.$P()};dT.v3.prototype.ux=function(g){Z.GK(g);this.$P();var o=g.dataTransfer.getData("Text");
if(o=="")return;var o=JSON.parse(o);hN.arU(g,o,this.parent,this.index+(hN.he(g,this.ex)>.5?0:1))};dT.v3.prototype.kg=function(g){Z.GK(g);
var o=hN.he(g,this.ex)>.5;this.$P();var k="border-"+(o?"bottom":"top");this.ex.style[k]="0.2em solid rgba(0,0,0,0.5)"};
dT.v3.prototype.$P=function(g){this.ex.style.border="none"};dT.v3.prototype.qj=function(g){this.gV.style.opacity=g?1:.2};
dT.v3.prototype.b9=function(g){var o=hN.He,k=Date.now()-o<300;hN.He=Date.now();if(g.target==this.gV)return;
var y=this.parent.ZD.index;if(k&&this.tE!=null){var y=this.parent.ZD.index,d=new jB(N.E.s,!0);if(this.tE.indexOf("afw_")==0){var b=this.tE.slice(4),T=eJ[b]||jf._[b],a=g.target==this.a6S;
if(!a&&!T)return;d.data=D.AF.a3M(a?"blendOptions":b,{i:y,index:this.index})}else d.data={P:N.b.xp,Pv:this.tE,i:y,index:this.index};
this.S(d)}else{if(g.target.className!="thumb")this.parent.Xi({P:p.dl,i:y,j1:0})}};dT.v3.prototype.afl=function(g){var o={fm:p.wM,f:p.BV,sm:p.yv,s:p.zn}[this.a3E];
this.parent.Xi({P:o,i:this.parent.ZD.index,index:this.index})};function hM(){dv.call(this,"Guide Guy",!1,"---panels/guideguy",dv.PD.avS);
this.i5=null;this.iN=new cR(null,_.bt.S5)}hM.prototype=new dv("");hM.prototype.ag=function(){this.lL=[];
var g=Z.t("div","form padded");this.Yt.appendChild(g);g.setAttribute("style","width:200px");this.Yt.appendChild(g);
var o=Z.t("canvas"),k=o.getContext("2d");o.width=o.height=160;var y=[32,0,16,160,0,32,160,16,0,112,160,16],d="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),b=[0,0,0,0,0,0,0,0,0,0];
g.appendChild(this.iN.e);for(var m=0;m<10;m++){k.clearRect(0,0,160,160);k.setTransform(1,0,0,1,80,80);
k.rotate((m&3)*Math.PI/2);k.translate(-80,-80);k.fillStyle="rgba(0,0,0,0.3)";if(m<4){for(var T=0;T<12;
T+=4){k.fillStyle=T==0?"#000000":"rgba(0,0,0,0.3)";k.fillRect(y[T],y[T+1],y[T+2],y[T+3])}}else if(m<6){var a=8*6;
k.fillRect(0,0,a,160);k.fillRect(8*7,0,a,160);k.fillStyle="#000000";k.fillRect(8*14,0,a,160)}else if(m<8){k.fillRect(0,0,16,160);
k.fillRect(160-16,0,16,160);k.fillRect(32,0,160-64,160);k.fillStyle="#000000";k.fillRect(32,80-8,160-64,8*1)}else{k.fillRect(0,0,8*7,160);
k.fillRect(8*13,0,160,160);k.fillStyle="#000000";k.fillRect(8*7,80-8,8*6,8*1)}var t="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",j=new k9(t,0,200,null,m==4||m==5?0:2,null,null,4,d[m]);
j.parent=this;j.h(N.E.A,this.atX,this);j.$(b[m]);j.f();this.lL.push(j);g.appendChild(j.e)}var e=[[11,14],[11,15,0]];
this.dW=[];for(var m=0;m<e.length;m++){var v=new da(e[m],!0,null,!0);this.dW.push(v);v.h("click",this.D9,this);
g.appendChild(v.e)}for(var m=0;m<6;m++){k.setTransform(1,0,0,1,80,80);k.rotate(Math.floor(m/3)*Math.PI/2);
k.translate(-80,-80);k.clearRect(0,0,160,160);k.fillStyle="rgba(0,0,0,0.3)";k.fillRect(0,0,160,160);
k.clearRect(16,16,128,128);k.fillStyle="#000000";var L=m%3;k.fillRect([0,9,18][L]*8,0,16,160);var t="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",v=new da(t,!1,null,!1);
this.dW.push(v);v.h("click",this.D9,this);g.appendChild(v.e)}};hM.prototype.f=function(){dv.prototype.f.call(this);
this.iN.f();if(this.lL==null)return;for(var m=0;m<this.dW.length;m++)this.dW[m].f()};hM.prototype.atX=function(g){var o=this.lL,k=o.indexOf(g.target),y=Math.floor(k/2),d=k&1,b=[];
for(var m=0;m<4;m++)b.push(o[2*m+d].c());var T=-1;if(y==2&&b[2]!=0&&b[3]!=0&&b[4]!=0)T=4;if(y==3&&b[3]!=0&&b[2]!=0&&b[4]!=0)T=4;
if(y==4&&b[4]!=0&&b[2]!=0&&b[3]!=0)T=3;if(T!=-1)o[2*T+d].$(0)};hM.prototype.D9=function(g){var o=this.i5,k=this.dW.indexOf(g.target),y=[[],[]];
if(o==null)return;var d=o.J?o.J.rect:new bd(0,0,o.m,o.n),b=d.m,T=d.n;if(k==0){var a=[[],[]],t=this.iN.c();
for(var m=0;m<this.lL.length;m++){var j=this.lL[m].c();j=_.bt.yF(j,o.Qb,o.m,t);a[m&1].push(j)}var e=[hM.anG(a[0],d.x,d.x+b),hM.anG(a[1],d.y,d.y+T)];
y=hM.n7(e);D.Bt._v(y,o.Nz())}else if(k==1){}else{k-=2;var v=Math.floor(k/3),e=[[],[]];e[v].push([d.x,d.x+b/2,d.x+b,d.y,d.y+T/2,d.y+T][k]);
y=hM.n7(e);D.Bt._v(y,o.Nz())}this.agq(y)};hM.n7=function(g){var o=[],k=[];for(var y=0;y<2;y++)for(var m=0;
m<g[y].length;m++){o.push([y,g[y][m]]);k.push(-1)}return[o,k]};hM.prototype.aqB=function(g){var o=this.a1p.indexOf(g.target)};
hM.prototype.agq=function(g){var o=new jB(N.E.L,!0);o.G=D.fL;o.data={P:"gids",hB:g};this.S(o)};hM.anG=function(g,o,k){var y=[],d=g[2],b=g[3],T=g[4],a=0;
if(d==0)a++;if(b==0)a++;if(T==0)a++;if(a>1&&d==0&&b==0){if(g[0]!=0)y.push(o+g[0]);if(g[1]!=0)y.push(k-g[1]);
return y}var t=k-o-g[0]-g[1];if(d==0){if(T==0){d=Math.floor(t/b);T=(t-d*b)/(d-1)}else{d=1;while(b*d+T*(d-1)+b+T<=t)d++}}else if(d!=0&&b!=0){if(d*b>t)d=Math.floor(t/b);
T=(t-d*b)/(d-1)}y.push(o+g[0],k-g[1]);var b=(t-T*(d-1))/d;for(var m=1;m<d;m++){if(T==0)y.push(o+g[0]+m*b);
else y.push(o+g[0]+m*b+(m-1)*T,o+g[0]+m*b+m*T)}return y};hM.prototype.I_=function(g,o,k){this.i5=g};
hM.prototype.Hz=function(){if(Z.Hd(this.Yt)&&this.lL==null)this.ag();this.f()};hM.prototype.mt=function(g){this.iN.$(g.Nn.rx)};
function aG(){dv.call(this,[9,2],!1,"---panels/properties",dv.PD.R9);this.agd=null;this.m1=null;this.eM=null;
this.aca=-1;this.jT=null}aG.prototype=new dv("");aG.prototype.UC=function(g,o){this.bW=g;this.GP=o;g=g-16;
o=o-12;var k=this.jT;if(k){k.style.width=g+"px";k.style.height=o+"px";for(var m=0;m<3;m++)this.qM[m].UC(g-12,o)}};
aG.prototype.ag=function(){this.jT=Z.t("div","padded scrollable");this.Yt.appendChild(this.jT);var g=Z.t("span");
this.jT.appendChild(g);this.O_=[new da([0,3]),new da([12,73]),new da([12,91,0])];for(var m=0;m<this.O_.length;
m++){var o=this.O_[m];o.h("click",this.a0F,this);g.appendChild(o.e);if(m==2)o.e.style.marginRight="0"}this.jT.appendChild(Z.t("hr"));
this.ml=new aG.VT;this.ml.parent=this;this.z$=new aG.ZY;this.z$.parent=this;this._N=new aG.dD;this._N.parent=this;
this.qM=[this.ml,this.z$,this._N];this.jT.appendChild(this.ml.e);this.UC(this.bW,this.GP)};aG.prototype.a0F=function(g){var m=this.O_.indexOf(g.currentTarget);
this.XS(m);this.afh(m==1?this.z$.WA:-1)};aG.prototype.XS=function(g){for(var m=0;m<3;m++){this.O_[m].yQ();
var o=this.qM[m].e;if(o.parentNode==this.jT&&m!=g)this.jT.removeChild(o);if(o.parentNode!=this.jT&&m==g)this.jT.appendChild(o)}this.O_[g].sG()};
aG.prototype.afh=function(g){var o=this.m1.g[0],k=this.m1.d[o],y=g+1;if(g==1&&k.j6)return;var d=new jB(N.E.L,!0);
d.G=D.Jn;if(g!=1&&k.j6){d.data={P:p.dl,i:o,j1:2};this.S(d)}d.data={P:p.dl,i:o,j1:y};this.S(d)};aG.prototype.f=function(){dv.prototype.f.call(this);
if(this.jT==null)return;this.I_(this.m1);for(var m=0;m<3;m++){this.O_[m].f();this.qM[m].f()}};aG.prototype.Hz=function(){if(!Z.Hd(this.Yt))return;
if(this.jT==null){this.ag();this.mt(this.eM,er.a_);this.I_(this.agd);this.f()}};aG.prototype.I_=function(g){this.agd=g;
if(this.jT==null)return;this.ml.I_(g);this.z$.I_(g);this._N.I_(g);if(g==null||g.g.length==0||g.d[g.g[0]]==null){Z.O9(this.Yt,"disabled");
this.m1=null;return}else Z.Iu(this.Yt,"disabled");var o=g.g[0],k=g.d[o],y=g.uM(),d=y[0],b=y[1];if(b.length!=0){var T=d[b[0]],a=T.add.vogk,t=!1;
if(a)for(var m=0;m<a.length;m++){var j=a[m].v;if(!_.X.xz(j))continue;t=!0;o=T.Sp}}o+=","+t;if(g!=this.m1||this.aca!=o){this.m1=g;
this.aca=o;if(t)this.XS(2);else if(k.W1<1&&!k.j6||aj.get(k.add))this.XS(0);else this.XS(1)}this.O_[1]._C(this.z$.WA!=-1);
this.O_[2]._C(t)};aG.prototype.mt=function(g,o){this.eM=g;if(this.ml)this.ml.mt(g,o);if(this._N)this._N.mt(g,o)};
aG.VT=function(){fR.call(this);this.e=Z.t("div","form");this.a9d=new bZ("Hello");this.u3=new da([1,12,2],null,null,!0);
this.u3.e.style.aeq="right";this.u3.h("click",this.LZ,this);this.e.appendChild(this.a9d.e);this.e.appendChild(this.u3.e);
this.gg=null;this.NS=null;this.m1=null;this.eM=null;this.alh=-1;this.axI=null;this.WF=null;this.YK=new ep(0,!0,!0);
this.YK.parent=this;this.YK.h(N.E.A,this.apU,this);this.e.appendChild(this.YK.e);this.f6=new d6(!0);
this.f6.parent=this;this.f6.h(N.E.A,this.aum,this);this.C0=Z.t("div","marged hiline");this.C0.appendChild(this.f6.e);
this.GI=new bA("GrFl",!0);this.GI.parent=this;this.GI.h(N.E.A,this.a5B,this);this.ah=Z.t("div","marged hiline");
var g="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var m=0;m<g.length;m++){var o=this.GI.Iy[g[m]].e;
this.ah.appendChild(o)}this.Hs=new bA("patternFill",!0);this.Hs.parent=this;this.Hs.h(N.E.A,this.a5u,this);
this.oR=Z.t("div","marged hiline");var g=["Ptrn","Angl","Scl","Algn","phase"];for(var m=0;m<g.length;
m++){var o=this.Hs.Iy[g[m]].e;this.oR.appendChild(o)}this.LW={};for(var k in aj.names){if(eJ[k]==null)continue;
this.LW[k]=new eJ[k];this.LW[k].h(N.E.A,this.anV,this);this.LW[k].parent=this}var y=this.ae_=Z.t("div","marged hiline");
this.nN=new ep(0,!0);y.appendChild(this.nN.e);this.nN.h(N.E.A,this.Ni,this);this.aqX=null;this.Oa=new aN;
this.Oa.parent=this;this.Oa.h(N.E.A,this.Ni,this);y.appendChild(this.Oa.e)};aG.VT.prototype=new fR;aG.VT.prototype.apU=function(g){var o=this.YK.c(),k=this.WF,y=new bd(o[0],o[1],o[2],o[3]);
if(y.ey(k))return;this.WF=y;var d=new jB(N.E.L,!0);if(k.m==y.m&&k.n==y.n){d.G=D.fL;d.data={P:"trsl",lJ:y.x-k.x,hE:y.y-k.y}}else{d.G=D.nK;
d.data={P:"scl",Y5:[2,4],Z:new bJ(y.m/k.m,y.n/k.n),Yf:0}}this.S(d)};aG.VT.prototype.UC=function(g,o){var k=this.LW;
for(var y in k)k[y].UC(g,o)};aG.VT.prototype.LZ=function(g){var o=this.m1,k=o.d[o.g[0]],y=aj.get(k.add);
this.NS.$(jf.J0(y));this.anV()};aG.VT.prototype.f=function(){for(var g in this.LW)this.LW[g].f();this.GI.f();
this.Hs.f();this.Oa.f();this.nN.f();this.u3.f();this.YK.f()};aG.VT.prototype.Ni=function(g){var o=new jB(N.E.L,!0),k=this.nN.c(),y=this.aqX;
if(g.target==this.nN&&k[2]==y[2]&&k[3]==y[3]){o.G=D.fL;o.data={P:"trsl",lJ:k[0]-y[0],hE:k[1]-y[1]}}else{var d=p._i(new bd(k[0],k[1],k[2],k[3])),b=this.Oa.anN();
b.artboardRect={t:"Objc",v:d};o.G=D.Jn;o.data={P:p._F,zD:b}}this.S(o)};aG.VT.prototype.aum=function(g){var o=this.m1,k=o.g[0];
if(o.d[k].add.SoCo==null)return;var y=JSON.parse(JSON.stringify(o.d[k].add.SoCo));y.Clr.v=this.f6.c();
this.OX({uF:1,si:y})};aG.VT.prototype.a5B=function(g){var o=this.m1,k=o.g[0];if(o.d[k].add.GdFl==null)return;
this.OX({uF:2,si:this.GI.c()})};aG.VT.prototype.a5u=function(g){this.OX({uF:3,si:this.Hs.c()})};aG.VT.prototype.OX=function(g){this.abh(D.Jn,{P:p.jj,i0:[this.m1.g[0]],LO:!0,Z:g})};
aG.VT.prototype.anV=function(g){this.abh(D.p4,{P:"edit_layer",Z:this.NS.c()})};aG.VT.prototype.abh=function(g,o){var k=new jB(N.E.L,!0);
k.G=g;k.data=o;this.S(k)};aG.VT.prototype.I_=function(g,o){var k=d9.get([0,3]),y=!1,d=!1,b=null;this.m1=g;
if(g&&g.d.length>0&&g.g.length!=0&&g.d[g.g[0]]){var T=g.d[g.g[0]],a=aj.get(T.add);if(a!=null&&this.LW[a]!=null){b=this.LW[a].e;
this.NS=this.LW[a];this.LW[a].$(JSON.parse(JSON.stringify(T.add[a])));if(g.g[0]!=this.alh){var t=g.PJ(g.g[0]-1);
this.axI=_.kO(t)}this.LW[a].b7(this.axI);k=d9.get(aj.names[a]);y=!0}if(a==null&&T.add.artb==null){var j=this.WF=_.p.Ze(D.C8.B2(g));
d=!j.on();this.YK.$([j.x,j.y,j.m,j.n],[g.Qb,g.m,this.eM.Nn.rx])}if(T.add.SoCo){b=this.C0;this.f6.$(T.add.SoCo.Clr.v);
k=d9.get([6,48,0,0])}if(T.add.GdFl){b=this.ah;this.GI.update(g,T.add.GdFl);k=d9.get([6,48,0,1])}if(T.add.PtFl){b=this.oR;
this.Hs.update(g,T.add.PtFl);k=d9.get([6,48,0,2])}if(T.add.artb){var e=T.add.artb,v=T.xB();b=this.ae_;
this.Oa.aqs(e);var L=this.aqX=[v.x,v.y,v.m,v.n];this.nN.$(L,[g.Qb,g.m,this.eM.Nn.rx]);k=d9.get([1,16,0])}this.alh=g.g[0]}if(b!=this.gg){if(this.gg)this.e.removeChild(this.gg);
if(b!=null)this.e.appendChild(b);this.gg=b}this.a9d.$(k);this.u3.e.style.display=y?"":"none";this.YK.e.style.display=d?"":"none"};
aG.VT.prototype.mt=function(g,o){this.eM=g;this.GI.mt(g,o);this.Hs.mt(g,o);if(o==er.iu)this.I_(this.m1,g);
for(var k in this.LW)this.LW[k].mt(g,o)};aG.ZY=function(){fR.call(this);this.e=Z.t("div","form");this.m1=null;
this.WA=0;var g=Z.t("span","fitem");this.e.appendChild(g);this.O_=[new da([6,2]),new da([6,3]),new da([6,50])];
for(var m=0;m<this.O_.length;m++){var o=this.O_[m];o.h("click",this.a9_,this);g.appendChild(o.e)}this._R=new cO([12,74],0,255);
this._R.h(N.E.A,this.Xm,this);this.e.appendChild(this._R.e);this._B=new cO([7,6],0,500,"px",2,!0);this._B.h(N.E.A,this.Xm,this);
this.e.appendChild(this._B.e);this.c1=new da([4,11],null,null,!0);this.c1.h("click",this.awe,this)};
aG.ZY.prototype=new fR;aG.ZY.prototype.awe=function(){var g=new jB(N.E.L,!0);g.G=D.p4;g.data={P:"start",JX:"nvrt"};
this.S(g)};aG.ZY.prototype.Xm=function(g){var o=this._R.c(),k=this._B.c(),y=new jB(N.E.L,!0);y.G=D.Jn;
y.data={P:p.TE,ls:this.m1.g[0],KV:{TO:this.WA,_R:o,_B:k}};this.S(y)};aG.ZY.prototype.f=function(){for(var m=0;
m<this.O_.length;m++)this.O_[m].f();this._R.f();this._B.f();this.c1.f()};aG.ZY.prototype.I_=function(g){this.m1=g;
this.ae()};aG.ZY.prototype.a9_=function(g){this.ae(this.O_.indexOf(g.currentTarget));this.parent.afh(this.WA)};
aG.ZY.prototype.ae=function(g){var o=this.m1,k=this.O_;for(var m=0;m<3;m++){var y=k[m];y.yQ();y.jK()}if(o==null||o.d.length==0||o.g.length==0||o.d[o.g[0]]==null)return;
var d=-1,b=o.d[o.g[0]];if(b.wg()&&b.lQ(o).v!=null){k[2].gM();d=2}if(b.add.vmsk){k[1].gM();d=1}if(b.Qp()){k[0].gM();
d=0}if(g!=null)d=g;else if(b.j6)d=1;else if(b.W1==3)d=2;else if(b.W1==1)d=0;this.WA=d;if(d==-1){this._R.jK();
this._B.jK();return}var T=b.gS(d);this._R.gM();this._B.gM();this._R.$(T._R);this._B.$(T._B);k[d].sG();
var a=this.c1.e;if(d==0)this.e.appendChild(a);else if(a.parentNode==this.e)this.e.removeChild(a)};aG.dD=function(){fR.call(this);
this.e=Z.t("div","form");this.i5=null;this.eM=null;this.Pt=-1;this.YK=new ep(0,!1);this.yx=new cO([12,15],-180,180,"\xB0",2);
this.GL=new ep(1,!0);this.sr=new cO([12,94,0],0,100,null,2);this.hR=new cO([12,78],3,30);this.u6=new da(["\u279C  ",[12,76,0]],null,null,!0);
this.YK.h(N.E.A,this.jr,this);this.yx.h(N.E.A,this.jr,this);this.GL.h(N.E.A,this.jr,this);this.sr.h(N.E.A,this.jr,this);
this.hR.h(N.E.A,this.jr,this);this.u6.h("click",this.jr,this)};aG.dD.prototype=new fR;aG.dD.prototype.f=function(){this.YK.f();
this.yx.f();this.GL.f();this.sr.f();this.hR.f()};aG.dD.prototype.jr=function(g){var o=this.i5,k=_.X.VH(o),y=g.target.c(),d=[this.YK,this.yx,this.GL,this.sr,this.hR,this.u6].indexOf(g.target);
if(d==0){var b=[];b[0]=y[0];b[1]=y[1];b[2]=b[0]+y[2];b[3]=b[1]+y[3];y=b}if(d==1)y=y*Math.PI/180;var T={0:1,1:2,2:3,3:3,4:4}[d];
k[T]=y;var a=new jB(N.E.L,!0);a.G=D.Jn;a.data={P:p.i$,Z:k,adm:d==5};this.S(a)};aG.dD.prototype.I_=function(g){var o=this.e;
this.i5=g;if(g==null)return;var k=this.eM,y=[g.Qb,g.m,k.Nn.rx],d=_.X.VH(g),b=d[0],T=d[1];if(T==null)return;
var a=b!=this.Pt;this.Pt=b;if(a)Z.ew(o);if(a)o.appendChild(this.YK.e);if(a)o.appendChild(this.yx.e);
this.YK.$([T[0],T[1],T[2]-T[0],T[3]-T[1]],y);this.yx.$(d[2]*180/Math.PI);if(b==2){if(a)o.appendChild(this.GL.e);
var t=d[3];this.GL.$(t,y)}if(b==7||b==8){if(a)o.appendChild(this.sr.e);this.sr.$(d[3])}if(b==8){if(a)o.appendChild(this.hR.e);
this.hR.$(d[4])}o.appendChild(this.u6.e)};aG.dD.prototype.mt=function(g,o){this.eM=g;this.I_(this.i5)};
function fQ(g){dv.call(this,g.name,!0);this.po=g;this.Px=null;this.jG=new ez(this.Yt);this.jG.parent=this}fQ.prototype=new dv;
fQ.Z9=function(){var g=document.createElement("canvas"),o=document.createElement("canvas"),k=16,y=_.Q(16*16*4);
_.sA(y,k,k,8);var d=_.scale.A8(y,k,k);return{jO:g,WR:o,dd:g.getContext("2d"),hZ:o.getContext("2d"),EC:d}}();
fQ.prototype.asr=function(){if(this.po.kR())return window.confirm(d9.get([22,6,3])+" "+this.po.name+". "+d9.get([22,6,4]));
return!0};fQ.prototype.mt=function(g,o){this.Px=g};fQ.prototype.I_=function(g){this.Hz();this.Y3()};
fQ.prototype.UC=function(g,o){if(g<=0||o<=0)return;this.bW=g;this.GP=o;var k=this.po,y=fQ.Z9,d=Z.V();
k.u.dd.m=Math.floor(g*d);k.u.dd.n=Math.floor(o*d);Z.OK(y.jO,g,o);Z.OK(y.WR,g,o);Z.OK(gl.r8(),g,o);if(k.u.N==0)k.u.N=D.LT.ayz(k.m,k.n,g*d,o*d);
this.Y3()};fQ.prototype.Hz=function(){var g=this.Yt.firstChild,o=fQ.Z9,k=gl.yu&&this.po.add.fvec==null;
if(!k&&g==gl.r8()||k&&g==o.jO)this.Yt.removeChild(g);var y=k?gl.r8():o.jO;if(!Z.Hd(y))this.Yt.appendChild(y)};
fQ.prototype.Y3=function(){if(this.Px==null)return;var g=this.po,o=gl.yu&&this.po.add.fvec==null;if(o)this.ahM();
else this.NH()};fQ.prototype.ahM=function(){if(gl.yu&&fQ.JK==null){var g=fQ.JK=[],o=[0,2,8,32,128];for(var m=0;
m<5;m++)g[m]=[new fQ.tk(!1,o[m],!1),new fQ.tk(!0,o[m],!1)];g.push([new fQ.tk(!1,0,!0),new fQ.tk(!0,0,!0)])}var k=this.po,y=fQ.Z9,v,w=0,c,M;
if(k.uw==null)return;var d=k.u,b=d.dd.m,T=d.dd.n,a=gl.iS;y.dd.clearRect(0,0,b,T);var t=this.agV(k);if(d.RR==null||d.RR.m!=b||d.RR.n!=T)d.RR=new gl.up(b,T);
if(t){var j=new Uint8Array(y.dd.getImageData(0,0,b,T).data.buffer);d.RR.set(j)}else{gl.z9(d.RR);gl.J_(1)}var e=d.gk(0,0);
if(fQ.a1y==null)fQ.a1y=new Float32Array(4*1024);var L=[0,0,0,0],H=fQ.a1y;if(k.add.artd){H.fill(0);L=fQ.$d(k);
var P=k.m,Q=k.n,f=0;for(var m=0;m<k.d.length;m++){var x=k.d[m],F=x.add.artb;if(F==null||!x.oa())continue;
var E=x.xB();H[w]=E.x/P;H[w+1]=E.y/Q;H[w+2]=E.m/P;H[w+3]=E.n/Q;w+=4;if(w==H.length)break}if(w>2*4)f++;
if(w>8*4)f++;if(w>32*4)f++;v=fQ.JK[f+1];H=new Float32Array(H.buffer,0,[2,8,32,128][f]*4)}else v=fQ.JK[k.CG?5:0];
var n=k.Ic();if(n==null)v=v[0];else{v=v[1];M=n[k.add.fcmy==1?6:4];c=n[2]}gl.Xw(b,T);gl.J_(0);gl.Xw(b,T);
v.kp();var X=new d3;X.scale(b,T);X.concat(d.dY(!0));X.scale(1/k.m,1/k.n);var u=[X.Ng,X.k,0,X._I,X.vP,0,X.ii,X.xF,1];
v.NY(d.RR.fn,k.uw.fn,new Float32Array(u),new Float32Array([b/8,T/8,e.x/b,e.y/T]),k.m,k.n,1/k.u.N,b,T,new Float32Array(L),H,new Float32Array(_.x1.gH(_.x1.T4(d.sv))),M,c);
a.drawArrays(a.TRIANGLES,0,6)};fQ.$d=function(g){return[0,0,0,0]};fQ.av8=function(g){var o=_.M.sL(g.v),k=[o.o/255,o.C/255,o.k/255,1];
for(var m=0;m<4;m++)k[m]=Math.min(1,k[m]);return k};fQ.zz=function(g,o){var k=g[2]*255;if(gl.yu)k=o?0:Math.max(2,k);
return"rgba("+g[0]*255+","+g[1]*255+","+k+","+g[3]+")"};fQ.Mc=function(g){if(gl.yu)for(var m=0;m<g.length;
m+=4){if(g[m+2]==0)g[m+2]=3}};fQ.prototype.NH=function(){var g=this.po,o=fQ.Z9;if(g.buffer==null)return;
var k=g.u,y=k.dd,d=y.m,b=y.n,T=new bd(0,0,g.m,g.n);o.hZ.clearRect(0,0,d,b);o.dd.clearRect(0,0,d,b);var a=k.dY(!0),t=a.clone();
t.TY();if(g.add.artd==null){o.dd.save();var j=t.iG(new bJ(0,0));t.translate(-j.x,-j.y);o.dd.translate(Math.round(j.x),Math.round(j.y));
o.dd.fillStyle=o.EC;if(g.CG)o.dd.fillRect(-5e3,-5e3,2e4,2e4);else{this.Fv(_.p.rN(T),t,o.dd);o.dd.fill()}o.dd.restore()}else{o.dd.fillStyle=fQ.zz(fQ.$d(g));
o.dd.fillRect(0,0,d,b);o.dd.save();o.dd.setTransform(t.Ng,t.k,t._I,t.vP,t.ii,t.xF);var e=g.root.children;
for(var m=0;m<e.length;m++){var v=e[m].i;if(v.add.artb==null||!v.oa())continue;var L=v.xB(),H=v.y5();
if(H!=0)continue;o.dd.fillStyle=o.EC;o.dd.save();o.dd.scale(1/k.N,1/k.N);o.dd.fillRect(k.N*L.x,k.N*L.y,L.m*k.N,L.n*k.N);
o.dd.restore()}o.dd.restore()}if(k._b.length!=y.O()){k._b=_.Q(y.O());k.lP=_.Q(y.O()*4)}k.lP.fill(0);
if(g.add.fvec){var t=k.dY(!0);t.TY();o.dd.save();var w=_.p.rN(k.dd);_.p.D(w.j,k.dY(!0),w.j);var P=_.p.KS(w.j);
o.dd.setTransform(t.Ng,t.k,t._I,t.vP,t.ii,t.xF);this.Fv(_.p.rN(new bd(0,0,g.m,g.n)),null,o.dd);o.dd.clip();
g.root.a3d(g,o.dd,this.Px,P);o.dd.restore()}else{_.scale.O5(g.buffer,T,a,k.lP,y,g.CG);var Q=g.Ic();if(Q)ICC.U.applyLUT(Q[g.add.fcmy==1?5:3],Q[2],k.lP,k.lP);
if(k.sv[0]+k.sv[1]+k.sv[2]!=3)_.x1.TA(k.lP,k.lP,_.x1.T4(k.sv));o.hZ.putImageData(new ImageData(new Uint8ClampedArray(k.lP.buffer),y.m,y.n),0,0);
o.dd.drawImage(o.WR,0,0);o.dd.getImageData(0,0,1,1)}this.agV(g)};fQ.prototype.agV=function(g){var o=g.u,k=o.sv[0]+o.sv[1]+o.sv[2],y=fQ.Z9,d=!1,b=[];
for(var m=0;m<g.g.length;m++){var T=g.d[g.g[m]];if(T==null)continue;var a=T.W1;if(a!=1&&a!=3)continue;
var t=a==1?T.Qp():T.lQ(g).v;if(t.ao)b.push(t)}for(var m=0;m<g.Tm.length;m++)if(g.Tm[m].ao)b.push(g.Tm[m]);
for(var m=0;m<b.length;m++){var t=b[m];this.ao9(t,o,b.length==1&&k==0?2:1,t.color,t.IZ);d=!0}var j=this.Px;
d=this.a09(g,y.dd,o,b.length!=0)||d;if(g.J&&j.a5&&j.Nn.VS){this.ao9(g.J,o,0,0,null);d=!0}return d};fQ.prototype.ao9=function(g,o,k,y,d){var b=0;
if(d)b=Math.round(d.k)<<16|Math.round(d.C)<<8|Math.round(d.o);var T=o.dY(!0),a=o.dd,t=new bd(0,0,o.po.m,o.po.n),j=fQ.Z9;
if(o._b.length!=a.O()){o._b=_.Q(a.O());o.lP=_.Q(a.O()*4)}o._b.fill(y);o.lP.fill(0);var e=g.channel,v=g.rect;
_.scale.D(e,v,T,o._b,a);if(k==0){var L=new Uint32Array([4278190080,4294967295]);fQ.Mc(new Uint8Array(L.buffer));
_.J.ajJ(o._b,o.lP,a,L,Z.V()>1.9)}else{_.J.apR(o._b,o.lP,a,k,b);fQ.Mc(o.lP)}var H=new ImageData(new Uint8ClampedArray(o.lP.buffer),a.m,a.n);
j.hZ.putImageData(H,0,0);j.dd.save();if(k!=0){var w=new bd(0,0,t.m,t.n),P=T.clone();P.TY();this.Fv(_.p.rN(w),P,j.dd);
j.dd.clip()}j.dd.drawImage(j.WR,0,0);j.dd.restore()};fQ.prototype.a09=function(g,o,k,y){var d=g.I.Mp!=null||g.I.MI!=null||g.I.JO!=null||g.I.Vn.length!=0||g.I.Cq.length!=0,b=this.Px,T=b.Nn,a=cN.OE[b.bj],t=Math.round(12*Z.V()),j=t/g.u.N,e=k.dY(!0);
e.TY();o.save();o.setTransform(e.Ng,e.k,e._I,e.vP,e.ii,e.xF);if(g.add.artd){var v=fQ.$d(g)[0];v=v<.5?v+.5:v-.5;
v=""+Math.round(v*255).toString(16);while(v.length<2)v="0"+v;o.fillStyle="#"+v+v+v;o.font=j+"px sans-serif";
for(var m=0;m<g.d.length;m++){var L=g.d[m];if(L.add.artb==null||!L.oa())continue;var w=L.xB();o.fillText(L.getName(),w.x+2,w.y-j*.7);
d=!0}}function P(fA){return fA==1||fA==2||fA==4||fA==5}var Q=fQ.zz([.1,.5,1,1]),x=fQ.zz([1,1,1,1]);if(b.a5&&T.p8){o.fillStyle=o.strokeStyle=Q;
o.lineWidth=1.5/k.N;var F=g.uM(),E=F[0],f=F[1];for(var c=0;c<f.length;c++){var L=E[f[c]],M=L.add.vmsk,n=M.a,X=_.p.rR(n);
this.Fv(X,null,o);o.stroke();d=!0;var u=3*Z.V()/k.N,I=n.length-3;for(var m=0;m<M.zA.length;m++){var r=_.w.aF(n,M.zA[m]);
if(r==null)continue;var J=r.x,U=r.y;o.beginPath();var K=m==0;if(M.TU)K=!K;if(K){o.moveTo(J-u,U-u);o.lineTo(J+u,U+u);
o.moveTo(J-u,U+u);o.lineTo(J+u,U-u);o.stroke()}else{o.arc(J,U,u*1,0,2*Math.PI);o.fill()}d=!0}if(g.g.length!=1)continue;
var i=-1;for(var m=0;m<n.length;m++){if(n[m].type>5)continue;if(n[m].type==0||n[m].type==3){if(n[m].dJ!=-1)i++;
continue}if(M.g.indexOf(i)!=-1){var J=n[m].H.x,U=n[m].H.y;o.fillRect(J-u*.8,U-u*.8,2*u*.8,2*u*.8)}if(M.ZU.indexOf(m)!=-1){var z=n[m],h=[z.H];
o.beginPath();o.moveTo(z.Tp.x,z.Tp.y);o.lineTo(z.H.x,z.H.y);o.lineTo(z.dt.x,z.dt.y);var R=n[m-1],C=n[m+1];
if(R&&P(R.type)&&M.ZU.indexOf(m-1)==-1){o.moveTo(R.H.x,R.H.y);o.lineTo(R.dt.x,R.dt.y);h.push(R.dt)}if(C&&P(C.type)&&M.ZU.indexOf(m+1)==-1){o.moveTo(C.H.x,C.H.y);
o.lineTo(C.Tp.x,C.Tp.y);h.push(C.Tp)}o.stroke();if(!z.H.ey(z.Tp))h.push(z.Tp);if(!z.H.ey(z.dt))h.push(z.dt);
for(var G=0;G<h.length;G++){var r=h[G],J=r.x,U=r.y;if(G==0&&(z.type==2||z.type==5))o.fillRect(J-1.2*u,U-1.2*u,2.4*u,2.4*u);
else{o.beginPath();o.arc(J,U,u*1.2,0,2*Math.PI);o.fill();if(G!=0)o.fillStyle=x;o.beginPath();o.arc(J,U,u*.8,0,2*Math.PI);
o.fill();o.fillStyle=Q}}}d=!0}}}o.lineWidth=1/k.N;if(g.I.N_){o.fillStyle=o.strokeStyle=Q;var C={j:[],F:[]},W=fQ.a6B;
if(W==null){W=fQ.a6B={j:[1,0],F:["M"]};for(var m=1;m<30;m++){var A=Math.PI*2*m/30;W.j.push(Math.cos(A),Math.sin(A));
W.F.push("L")}W.F.push("Z","M","L","M","L");W.j.push(-.5,0,.5,0,0,-.5,0,.5)}for(var m=0;m<g.I.N_.length;
m++){var R=D.gy.a5H(g.I.N_[m],k),$=new d3(R[0],0,0,R[0],R[1],R[2]);_.p.concat(C,W,$)}this.Fv(C,null,o);
o.stroke();d=!0}var O=new d3(1,0,0,1,.5/k.N,.5/k.N);if(g.CG){o.fillStyle=o.strokeStyle=Q;var C={j:[0,0,g.m,0,g.m,g.n,0,g.n],F:["M","L","L","L","Z"]};
this.Fv(C,O,o);o.stroke();d=!0}if(g.I.nF){o.fillStyle=o.strokeStyle=fQ.zz([0,0,0,.5]);this.Fv(g.I.nF,null,o,!0);
o.fill("evenodd")}o.fillStyle=o.strokeStyle=fQ.zz([0,0,0,gl.yu&&g.add.fvec==null?1:.5],!0);if(g.I.Mp){this.Fv(g.I.Mp,null,o);
o.fill()}if(g.I.MI){this.Fv(g.I.MI,O,o);o.stroke()}for(var Y in g.I.a3)if(g.I.a3[Y].MI){this.Fv(g.I.a3[Y].MI,null,o);
o.stroke();d=!0}var l=fQ.agp(g.I.TN,o,k);o.stroke();d=d||l;var B=g.I.gt;o.fillStyle=fQ.zz([1,1,1,1]);
o.beginPath();var u=6*Z.V()/k.N;for(var m=0;m<B.length;m+=2){d=!0;var J=B[m],U=B[m+1];o.moveTo(J+u,U);
o.arc(J,U,u,0,2*Math.PI)}o.fill();var u=4*Z.V()/k.N;for(var m=0;m<B.length;m+=2){d=!0;var J=B[m],U=B[m+1];
o.fillStyle=fQ.zz(g.I.Zm.indexOf(m>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);o.beginPath();o.moveTo(J+u,U);o.arc(J,U,u,0,2*Math.PI);
o.fill()}if(g.I.Vn.length!=0){for(var m=0;m<g.I.Vn.length;m++){var f4=g.I.Vn[m],V=f4[1],q;if(y){q=o.getImageData(V.x,V.y,V.m,V.n);
_.l.I3("norm",f4[0],V,new Uint8Array(q.data.buffer),V,V,1)}else q=new ImageData(new Uint8ClampedArray(f4[0].buffer),V.m,V.n);
o.putImageData(q,V.x,V.y)}}var s=.5/k.N;o.lineWidth=1/k.N;if(g.I.iq){d=!0;var cW=g.I.iq,dk=cW.Lh,X={F:[],j:[]};
for(var m=0;m<cW.wK.length;m++)_.p.concat(X,_.p.rN(cW.wK[m]));X.j=X.j.concat(dk);for(var m=0;m<dk.length;
m+=4){X.F.push("M","L")}for(var m=0;m<X.j.length;m++){X.j[m]+=s}o.strokeStyle=fQ.zz([.9,.2,.2,1]);this.Fv(X,null,o);
o.stroke();var kr=Z.V(),j9=2/k.N;o.font=j*.9+"px sans-serif";for(var m=0;m<dk.length;m+=4){var J=dk[m],U=dk[m+1],bh=dk[m+2],fe=dk[m+3],gg=Math.sqrt((fe-U)*(fe-U)+(bh-J)*(bh-J));
gg=_.bt.m4(gg,g.Qb,b,U==fe?g.m:g.n);var a$=new bJ((J+bh)/2,(U+fe)/2);o.fillStyle=fQ.zz([.9,.2,.2,1]);
var dg=o.measureText(gg).width;o.fillRect(a$.x-dg/2-j9*kr,a$.y-3.5*j9*kr,dg+2*j9*kr,7*j9*kr);o.fillStyle=fQ.zz([1,1,1,1]);
o.save();o.translate(a$.x-dg/2,a$.y+2*j9*kr);o.scale(.1,.1);o.font=j*9+"px sans-serif";o.fillText(gg,0,0);
o.restore()}}if(b.a5){if(T.l5){var iv=_.bt.yF(T.Cs,g.Qb,g.m,T.o9),aQ=iv;if(T.o9==4)aQ*=g.n/g.m;this.sA(g,o,iv,aQ,1,T.zo);
d=!0}if(T.fe&&g.u.N>7&&g.add.fvec==null){this.sA(g,o,1,1,.5,T.zo);d=!0}if(T.HR){var dt=g.Nz(),hY=g.wI(),b9=Math.max(g.u.dd.m,g.u.dd.n)/g.u.N;
b9=Math.max(Math.max(g.m,g.n)*2,b9);for(var m=0;m<dt[0].length;m++){var i0=dt[0][m],gD=dt[1][m];if(gD!=-1&&gD!=hY)continue;
var hU=k.gk(i0[1],i0[1]),aW=k.mp(Math.floor(hU.x)+.5,Math.floor(hU.y)+.5);o.beginPath();o.strokeStyle=fQ.zz([0,gD==-1?1:.5,1,1]);
if(i0[0]==0){var be=aW.x;o.moveTo(be,-b9);o.lineTo(be,b9)}else{var hv=aW.x;o.moveTo(-b9,hv);o.lineTo(b9,hv)}o.stroke();
d=!0}}var b3=g.mZ;if(T.mZ&&b3.length!=0){o.font=j*.8+"px sans-serif";var gT=[],aB=[];for(var m=0;m<b3.length;
m++){var bO=D.We.mr(b3,m);gT.push(bO);if(g.ke.indexOf(m)!=-1)aB.push(bO)}gT.reverse();var kf=Date.now();
gT=_.rect.es([0,0,g.m,g.n],gT);for(var G=0;G<2;G++)for(var m=0;m<gT.length;m++){var iY=gT[m],i=iY[4],gs=i!=null?b3[i]:null;
if(gs&&G==0||gs==null&&G==1)continue;var J=Math.round(iY[0]),U=Math.round(iY[1]),bh=Math.round(iY[2]),fe=Math.round(iY[3]);
o.strokeStyle=o.fillStyle=fQ.zz(gs?[0,.7,.7,1]:[.8,.8,.8,1]);o.strokeRect(J+s,U+s,bh-J,fe-U);var c1=m+1,gK=o.measureText(c1),dg=gK.width;
o.fillRect(J,U,dg+j/2,j);o.fillStyle=fQ.zz([1,1,1,1]);o.fillText(c1,J+j/4,U+j*.8)}var j9=2/g.u.N,c4=2*j9;
for(var m=0;m<aB.length;m++){var iY=aB[m],J=Math.round(iY[0]),U=Math.round(iY[1]),bh=Math.round(iY[2]),fe=Math.round(iY[3]);
o.strokeStyle=o.fillStyle=fQ.zz([1,.6,0,1]);o.strokeRect(J+s,U+s,bh-J,fe-U);var k6=[J,U,bh,U,bh,fe,J,fe];
for(var jk=0;jk<k6.length;jk+=2){var be=k6[jk],hv=k6[jk+1],jt=k6[jk+2&7],j_=k6[jk+3&7];o.fillRect(be-j9,hv-j9,c4,c4);
o.fillRect(Math.round((be+jt)/2)-j9,Math.round((hv+j_)/2)-j9,c4,c4)}}d=!0}var kw=g.add.Anno;if(kw&&kw.length!=0)for(var m=0;
m<kw.length;m++){var eu=kw[m],ak=eu[2],be=eu[0]-s,hv=eu[1]-s,c4=30/k.Tx,cY=.4*c4,bG=.6*c4;o.beginPath();
o.moveTo(be,hv+bG);o.lineTo(be,hv);o.lineTo(be+c4,hv);o.lineTo(be+c4,hv+c4);o.lineTo(be+cY,hv+c4);o.closePath();
o.lineTo(be+cY,hv+bG);o.lineTo(be+cY,hv+c4);if(m==g.u.vp){o.lineWidth*=5;o.strokeStyle=fQ.zz([0,0,0,.5]);
o.stroke();o.lineWidth/=5}o.fillStyle=fQ.zz([ak.o/255,ak.C/255,ak.k/255,1]);o.fill();o.strokeStyle=fQ.zz([0,0,0,1]);
o.stroke()}}o.strokeStyle=fQ.zz([1,0,0,1]);if(g.I.JO){this.Fv(g.I.JO,O,o);o.stroke()}o.restore();if(b.NV){if(g.u.RQ==null||g.u.RQ.width!=g.u.dd.m||g.u.w_.height!=g.u.dd.n){g.u.RQ=o.createImageData(g.u.dd.m,_.bt.P4);
g.u.w_=o.createImageData(_.bt.P4,g.u.dd.n)}var a=cN.OE[b.bj],j5=0,hI=0,jJ=g.m,ca=g.n;if(g.wI()!=-1){var w=g.d[g.wI()].xB();
j5=w.x;hI=w.y;jJ=w.m;ca=w.n}j5*=k.N;hI*=k.N;var k=g.u,gI=[1,g.Qb,g.Qb/2.54,g.Qb/25.4,jJ/100][T.rx],c3=k.N*g.m/2,fs=k.N*g.n/2,eS=[k.N*gI,new bJ(k.Y.x+(j5+c3*gI-c3),k.Y.y+(hI+fs*gI-fs))];
if(T.rx==4)gI*=ca/jJ;var bf=[k.N*gI,new bJ(k.Y.x+(j5+c3*gI-c3),k.Y.y+(hI+fs*gI-fs))],ef=this.jG.Vk;_.bt.ahS(k,a["--text-color"],a["--bg-input"],Math.floor(ef.x),Math.floor(ef.y),eS,bf);
var hh=k8.a92(k.N,fQ.zz([1,1,1,1]),g.m,g.n);fQ.Mc(g.u.w_.data);fQ.Mc(g.u.RQ.data);o.putImageData(g.u.w_,0,0);
o.putImageData(g.u.RQ,0,0);o.putImageData(hh,0,g.u.dd.n-hh.height)}if(g.I.Cq.length!=0){for(var m=0;
m<g.I.Cq.length;m++){var f4=g.I.Cq[m],V=f4[1];o.putImageData(new ImageData(new Uint8ClampedArray(f4[0].buffer),V.m,V.n),V.x,V.y)}}return d||b.NV};
fQ.prototype.sA=function(g,o,k,y,d,b){while(k*g.u.N<4){k*=2;y*=2}var T=g.m,a=g.n,t=.5/g.u.N;o.strokeStyle=fQ.zz([.5,.5,.5,d],!0);
o.save();o.rect(0,0,T,a);o.clip();o.beginPath();for(var j=0;j<=T;j+=k){o.moveTo(j+t,0);o.lineTo(j+t,a)}if(b==0){for(var e=0;
e<=a;e+=y){o.moveTo(0,e+t);o.lineTo(T,e+t)}}else{y*=Math.sqrt(4/3);var v=y*Math.floor(T/y),L=T*(y/(2*k));
for(var e=-v;e<=a+v;e+=y){o.moveTo(0,e);o.lineTo(T,e-L);o.moveTo(0,e);o.lineTo(T,e+L)}}o.stroke();o.restore()};
fQ.agp=function(g,o,k,y){o.beginPath();var d=(y?y:1)*(4*Z.V()+.5)/k.N,b=!1;for(var m=0;m<g.length;m+=2){b=!0;
var T=g[m],a=g[m+1];o.rect(T-d,a-d,2*d,2*d)}return b};fQ.ZW=function(g,o,k,y){k.beginPath();if(y)k.rect(-1e5,-1e5,1e6,1e6);
var d=g;if(o){d=_.p.clone(g);_.p.D(d.j,o,d.j)}Typr.U.pathToContext({cmds:d.F,crds:d.j},k)};fQ.prototype.Fv=fQ.ZW;
fQ.tk=function(g,o,k){gl.pw.call(this);var y=o!=0,d=k?"true":"in01(sCoord)",b="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(g?"uniform sampler2D lut;  uniform float N;  "+gl.T0.Av:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(y?"uniform vec4 bgClr;  uniform vec4 ars["+o+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+gl.T0.mC+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(k?"-floor(sCoord)":"")+"); \t\t\t\t"+(g?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(y?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+o+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+d+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+d+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",T="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Iq(b,T)};fQ.tk.prototype=new gl.pw;fQ.tk.prototype.NY=function(g,o,k,y,d,b,T,a,t,j,e,v,L,H){this.r0("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var w=gl.iS,P=this.Df;w.uniformMatrix3fv(P.tmat,!1,k);w.uniform4fv(P.gsize,y);w.uniform3f(P.contSizeZoom,d,b,T);
w.uniform2f(P.cnvSize,a,t);w.uniformMatrix4fv(P.ctrn,!1,v);if(this.aoQ){w.uniform4fv(P.ars,e);w.uniform4fv(P.bgClr,j)}w.uniform1i(P.source,0);
w.uniform1i(P.target,1);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,g);w.activeTexture(w.TEXTURE1);
w.bindTexture(w.TEXTURE_2D,o);if(L){w.uniform1f(P.N,H);w.uniform1i(P.lut,2);w.activeTexture(w.TEXTURE2);
w.bindTexture(w.TEXTURE_2D,L.fn);var Q=w.LINEAR;w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,Q);
w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,Q)}w.activeTexture(w.TEXTURE0)};function ct(){dv.call(this,[9,7],!1,"---panels/layercomps",dv.PD.abx);
this.Yt.setAttribute("style","min-width:240px;");this.m1=null;this.vy=-1;this.zq=[];this.WJ=Z.t("div","scrollable");
this.WJ.style.height="160px";this.Yt.appendChild(this.WJ);this.LI=Z.t("div","lpfoot");this.Yt.appendChild(this.LI);
this.dW=[];var g=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],o=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var m=0;m<g.length;m++){var k=g[m];if(m>0)k="<img src=\""+PIMG[g[m]]+"\" class=\"miniscale gsicon\" />";
var y=new da(k,!1,o[m]);y.h("click",this.a6R,this);this.LI.appendChild(y.e);this.dW.push(y)}}ct.prototype=new dv("");
ct.prototype.UC=function(g,o){this.Yt.setAttribute("style","width:"+(g-2)+"px;");this.WJ.style.height=o-28+"px"};
ct.prototype.Xi=function(g){var o=new jB(N.E.L,!0);o.data=g;o.G=D.ka;this.S(o)};ct.aqG="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
ct.prototype.a6R=function(g){var m=this.dW.indexOf(g.currentTarget)-1;if(m==-1){var o=new jB(N.E.s,!0);
o.data={P:N.b.Fz,cg:ct.aqG};this.S(o);return}if(m!=1)if(this.vy==-1)return;this.Xi({P:["updLC","addLC","delLC"][m],Sp:this.vy});
if(m==2)this.vy=-1};ct.prototype.f=function(){dv.prototype.f.call(this);for(var m=0;m<this.dW.length;
m++)this.dW[m].f()};ct.prototype.I_=function(g){if(g==null)Z.O9(this.Yt,"disabled");else Z.Iu(this.Yt,"disabled");
this.m1=g;Z.ew(this.WJ);if(g==null)return;var o=g.M9.lastAppliedComp?g.M9.lastAppliedComp.v:0,k=g.M9.list.v.slice(0);
k.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var m=0;m<k.length;
m++){var y=k[m].v,d=new bH(y.Nm.v,y.compID.v,y.capturedInfo.v,o,this.vy);d.h("activate",this.N0,this);
d.parent=this;this.WJ.appendChild(d.e);this.zq.push(d)}};ct.prototype.N0=function(g){this.vy=g.currentTarget.Sp;
this.I_(this.m1)};function bH(g,m,o,k,y){fR.call(this);this.Sp=m;this.e=Z.t("div","head listitem"+(m==y?" selected":""));
var d=m==k,b=new da(d?"\u2713":"\u2014");if(d)b.sG();this.e.appendChild(b.e);b.h("click",this.Yx,this);
var T=this.lf=Z.t("span");T.textContent=g;this.e.appendChild(T);this.dW=[];if(m!=0){this.e.addEventListener("mouseup",this.N0.bind(this),!1);
this.aiA=Z.t("span","headR");this.e.appendChild(this.aiA);var a=["lrs/eye","pos","lrs/fx"],t=["Visibility","Position","Appearance"];
for(var j=0;j<a.length;j++){var e=new da("<img src=\""+PIMG[a[j]]+"\" class=\"autoscale gsicon\" />",!1,t[j]);
if((o>>j&1)==0)e.e.setAttribute("style","opacity:0.3");e.h("click",this.apy,this);this.aiA.appendChild(e.e);
this.dW.push(e)}}}bH.prototype=new fR;bH.prototype.N0=function(g){if(g.target!=this.lf&&g.target!=this.e)return;
if(g.detail==1)this.S(new jB("activate",!1));else{var o=new dv.kJ(this.lf,this.ys.bind(this))}};bH.prototype.apy=function(g){var m=this.dW.indexOf(g.currentTarget);
this.Xi({P:"editLC",a3q:m,Sp:this.Sp})};bH.prototype.ys=function(g){this.Xi({P:"editLC",R3:g,Sp:this.Sp})};
bH.prototype.Yx=function(g){this.Xi({P:"setLC",Sp:this.Sp})};bH.prototype.Xi=function(g){var o=new jB(N.E.L,!0);
o.data=g;o.G=D.ka;this.S(o)};function fI(){dv.call(this,[9,11],!1,"---panels/navigator",dv.PD.aka);var g=Z.t("div","padded");
g.setAttribute("style","min-width:15em");this.Yt.appendChild(g);var o=Z.t("div");g.appendChild(o);o.setAttribute("style","cursor:grab;");
this.T=Z.t("canvas");this.T.width=100;o.appendChild(this.T);Z.yP(this.T);Z.Fn(this.T,this.xk.bind(this));
this.uP=new bk(null,2,6400,"%",null,!0);this.uP.h(N.E.A,this.a2A,this);g.appendChild(this.uP.e);this.aeT=this.LV.bind(this);
this.ab4=this.ir.bind(this);this.i5=null;this.hn=null;this.$_=!1}fI.prototype=new dv("");fI.prototype.UC=function(g,o){this.Y3()};
fI.prototype.a2A=function(g){var o=this.uP.c(),k=this.i5,y=o/100;if(.8<y&&y<1.2)y=1;else if(1.8<y)y=Math.round(y);
var d=new jB(N.E.L,!0);d.G=D.aC;d.data={P:"zoom",N:y};this.S(d)};fI.prototype.xk=function(g){var o=this.i5;
if(o==null)return;this.$_=!0;Z.a$(window,this.aeT);Z.hO(window,this.ab4)};fI.prototype.LV=function(g){var o=Z.YD(g,this.T),k=this.i5,y=this.T.width,d=this.T.height,b=(o.x*Z.V()-y/2)/y,T=(o.y*Z.V()-d/2)/d,a=Z.V()*k.u.N,t=Math.round(-k.u.N*k.m*b),j=Math.round(-k.u.N*k.n*T);
D.Uv.cf(k,t,j)};fI.prototype.ir=function(g){Z.DO(window,this.aeT);Z.ZV(window,this.ab4);this.$_=!1};
fI.prototype.I_=function(g){if(g==null&&this.i5!=null)this.T.width=100;this.i5=g;this.Y3()};fI.prototype.ax7=function(){var g=300*Z.V(),o=0,k=this.i5,y=[k.PJ(),new bd(0,0,k.m,k.n)];
_._h(y);while(Math.max(y[o+1].m,y[o+1].n)>g){o+=2}this.hn=y.slice(o)};fI.prototype.Y3=function(){var g=this.i5;
if(g==null||g.u.N==0)return;var o=g.u;if(!Z.Hd(this.Yt))return;this.uP.$(o.N*100);if(!this.$_)this.ax7();
var k=this.hn[0],y=this.hn[1],d=y.m,b=y.n,T=this.T;T.width=d;T.height=b;Z.s4(T,d,b);var a=T.getContext("2d"),t=a.createImageData(d,b);
_.QF(k,t.data);a.putImageData(t,0,0);var j=o.dd,e=o.mp(j.x,j.y),v=o.mp(j.x+j.m,j.y+j.n),L=d/g.m;a.scale(L,L);
a.lineWidth=4/L;a.strokeStyle="#ff0000";a.strokeRect(e.x,e.y,v.x-e.x,v.y-e.y)};fI.prototype.mt=function(g,o){};
fI.prototype.Hz=function(){this.Y3()};function iW(g,o){dv.call(this,g.name,!1,g.icon,o);this.a0p=g}iW.prototype=new dv("");
iW.prototype.ag=function(){var g=this.Yt,o=this.a0p;if(!Z.Hd(g)||this.DS)return;var k=this.DS=Z.t("iframe");
k.setAttribute("src",o.url);this.Yt.appendChild(k)};iW.prototype.Hz=iW.prototype.I_=function(){this.ag()};
iW.prototype.iz=function(g){if(Z.Hd(this.DS))this.DS.contentWindow.postMessage(g,"*")};iW.prototype.UC=function(g,o){if(this.DS==null)return;
this.DS.setAttribute("style","width:"+g+"px; height:"+o+"px")};function aS(){dv.call(this,[9,12],!1,"---panels/tpreset",dv.PD.zC);
this.eM=null;this.vs=new iV(D.Bj);this.vs.parent=this;var g=Z.t("div","padded");g.setAttribute("style","width:20em");
this.Yt.appendChild(g);g.appendChild(this.vs.qO)}aS.prototype=new dv("");aS.prototype.Hz=function(){this.vs.cz(this.eM.pg)};
aS.prototype.mt=function(g,o){this.eM=g;if(o==er.a_||o==er.zC)this.vs.cz(g.pg)};aS.prototype.UC=function(g,o){this.vs.a9P(this.eM.nE)};
aS.prototype.f=function(){dv.prototype.f.call(this);this.vs.f()};var eN=function(){var g=[],o=null,k=null,y=null,d=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function b(){dv.call(this,"Memory",!1,null,dv.PD.a7u);var L=Z.t("div","padded");this.Yt.appendChild(L);
k=new da(["<< VAR0",[0,13,2]],!1,null,!0);k.addEventListener("click",function(H){g.pop();a()});L.appendChild(k.e);
o=Z.t("div","scrollable");o.setAttribute("style","width:20em;  height:26em; margin-top:8px;");L.appendChild(o)}b.prototype=new dv("");
b.prototype.I_=function(L,H,w){y=H;this.Hz()};b.prototype.Hz=function(){k._C(!1);if(!Z.Hd(o))return;
var L={PK:"Total:",_G:[]};for(var m=0;m<y.length;m++)L._G.push(j(y[m]));v(L);g=[L];a()};b.prototype.f=function(){dv.prototype.f.call(this);
k.f()};function T(L){var H=L.currentTarget,m=0;while((H=H.previousSibling)!=null)m++;g.push(g[g.length-1]._G[m-1]);
a()}function a(){k._C(g.length>1);var L=g[g.length-1];Z.ew(o);t(L,o,0);L._G.sort(function(H,w){return w.ts[0]-H.ts[0]});
for(var m=0;m<L._G.length;m++)t(L._G[m],o,1)}function t(L,H,w){var P=jg.Tc,Q=w!=0&&L._G,x="margin-left:"+w*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Q)x+="cursor:pointer;";if(L.Wj!=null)x+="background-color:rgba("+d[L.Wj].join(",")+",0.2);";var F=Z.t("div");
H.appendChild(F);F.setAttribute("style",x);F.innerHTML=Z.nV(L.PK)+"<br />"+"RAM: <b>"+P(L.ts[0])+"</b>\u2001GPU: <b>"+P(L.ts[1])+"</b>";
if(Q)F.addEventListener("click",T,!1)}function j(L){var H={PK:L.name,_G:[],Wj:0},w=gl.yu?1:0,P=1-w,Q={PK:"Final Image",ts:[L.m*L.n*4,w*L.m*L.n*4],Wj:2};
H._G.push(Q);for(var m=0;m<L.d.length;m++){var x=e(L.d[m]);if(x._G.length!=0)H._G.push(x)}var F=L.add.lnk2;
if(F)for(var m=0;m<F.length;m++){var x=F[m],E={PK:x.iV,_G:[],Wj:4},f=0;E._G.push({PK:"Raw file",ts:[x.raw.length,0]});
if(x.IG)for(var c=0;c<x.IG.length;c+=2)f+=x.IG[c].length;if(f!=0)E._G.push({PK:"Decoded pixels",ts:[f,0]});
v(E);H._G.push(E)}v(H);return H}function e(L){var H={PK:L.getName(),_G:[],Wj:1},w=gl.yu?1:0,P=1-w,Q=L.rect.O();
if(Q!=0)H._G.push({PK:"Layer pixels",ts:[Q*4,w*Q*4]});if(L.add.lmfx&&L.Of.oz.type){var x=L.Of.oz.type,c=0;
for(var F in x){var E=0;for(var f=0;f<x[F].length;f++)if(F=="ebbl"){if(x[F][f]._K)E+=x[F][f]._K.pk.O();
if(x[F][f].v8)E+=x[F][f].v8.pk.O();if(x[F][f].MM)E+=x[F][f].MM.pk.O();if(x[F][f].Xv)E+=x[F][f].Xv.pk.O()}else E+=x[F][f].pk.O();
if(E!=0)H._G.push({PK:d9.get(iZ.names[iZ.order.indexOf(F)]),ts:[P*E*4,w*E*4],Wj:3})}if(L.Of.dq)c+=Q;
if(L.Of.nb)c+=Q;if(L.Of.c7)c+=Q;if(L.Of.c7)c+=Q;if(L.Of.YB)c+=Q;if(L.Of.FH)c+=Q;var M=L.Of.pb?L.Of.pb.length:0;
if(c+M!=0)H._G.push({PK:"Additional Blending Data",ts:[P*c*4+M,w*c*4]})}var n=L.Qp(),X=n?n.rect.O():0;
if(X!=0){H._G.push({PK:"Raster Mask",ts:[X,0]})}var n=L.add.vmsk,X=n&&n.v7?n.v7.rect.O():0;if(X!=0){H._G.push({PK:"Vector Mask",ts:[X,0]})}v(H);
return H}function v(L){L.ts=[0,0];for(var m=0;m<L._G.length;m++){L.ts[0]+=L._G[m].ts[0];L.ts[1]+=L._G[m].ts[1]}}return b}();
function fr(){dv.call(this,[9,14],!1,"---panels/notes",dv.PD.axw);this.Yt.setAttribute("style","min-width:240px;");
var g=Z.t("div","padded");this.Yt.appendChild(g);this.Ye=new ic("Author");g.appendChild(this.Ye.e);this.Gs=Z.t("textarea");
Z.tF(this.Gs);g.appendChild(this.Gs);var o=new da("<<",null,null,!0);g.appendChild(o.e);this.an$=o;var k=new da(">>",null,null,!0);
g.appendChild(k.e);o.h("click",this.iO,this);k.h("click",this.iO,this);var y=this.aqZ=new bZ("");g.appendChild(y.e)}fr.prototype=new dv("");
fr.prototype.iO=function(g){var o=g.target==this.an$?-1:1,k=this.i5,y=k.add.Anno;if(y==null)return;var d=y.length,b=k.u.vp;
k.u.vp=(b+o+d)%d;k.pP=!0;this.Y3()};fr.prototype.Y3=function(){var g=this.i5;if(g==null)return;var o=g.add.Anno;
if(o==null||o.length==0)return;var k=g.u.vp,y=o[k];this.Gs.value=y[4];this.aqZ.$(k+1+" / "+o.length);
this.Ye.$(y[3])};fr.prototype.UC=function(g,o){if(this.bW==g)return;this.bW=g;o=Math.min(o,200);this.Gs.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(g-10)+"px; height:"+(o-66)+"px")};
fr.prototype.I_=function(g,o,k){this.i5=g;this.Y3()};function g7(){fR.call(this);this.G=0;this.eh=null;
this.e=Z.t("div","toolconf");this.vs=null;this.vU=null;this.body=new Z.t("div","body")}g7.prototype=new fR;
g7.prototype.aiN=function(g,o){this.G=g;this.eh=o;if(D.Sg[g]){var k=this.vs=new iV(g);this.e.appendChild(k.e);
k.parent=this}else{this.vU=Z.t("div");this.e.appendChild(this.vU)}this.e.appendChild(this.body);this.f()};
g7.prototype.as5=function(g,o){};g7.prototype.ayJ=function(g){};g7.prototype.mt=function(g,o){if(o==er.a_||o==er.zC)if(this.vs)this.vs.cz(g.pg)};
g7.prototype.uv=function(g){};g7.prototype.f=function(){if(this.vs)this.vs.f();else this.vU.innerHTML=Z.$l(this.eh,null,"toolicon");
this.c8()};g7.prototype.c8=function(){};function k7(){g7.call(this);this.Oa=new aN;this.Oa.h(N.E.A,this.Ni,this);
this.body.appendChild(this.Oa.e)}k7.prototype=new g7;k7.prototype.c8=function(){this.Oa.f()};k7.prototype.Ni=function(g){var o=new jB(N.E.s,!0);
o.data={P:N.b.Wx,G:this.G,Q6:this.Oa.anN()};this.S(o)};k7.prototype.uv=function(g){this.Oa.aqs(g.Mq)};
function iR(g){g7.call(this);if(g==null)return;this.eM=null;this.lL={};if(g.indexOf("brush")!=-1&&g.indexOf("prsr")==-1)g.push("prsr");
for(var m=0;m<g.length;m++){var o=g[m],k=null;if(o=="brush"){k=new d4}if(o=="bmode"){k=new cR([12,19,0],h8.q5,h8.o0)}if(o=="bmode0"){k=new cR([12,19,0],h8.q5.slice(23))}if(o=="emode"){k=new cR([12,36],[[9,3],[10,38]])}if(o=="opacity"){k=new k9([12,0],0,100,"%");
k.$(100)}if(o=="flow"){k=new k9([12,63],0,100,"%");k.$(100)}if(o=="smth"){k=new k9([19,3,0],0,100,"%");
k.$(0)}if(o=="samp"){k=new cR([12,36],[[12,25,4],[12,25,5],[12,46]])}if(o=="wconf"){k=new eE;k.$([40,!0,!0])}if(o=="sall"){k=new dX([12,25,2])}if(o=="strn"){k=new k9([12,64],1,100,"%");
k.$(50)}if(o=="smode"){k=new cR([12,36],[[19,7,0],[19,7,1]]);k.$(1)}if(o=="pdetail"){k=new dX([12,65]);
k.sG()}if(o=="rng"){k=new cR([12,12],[[19,6,0],[19,6,1],[19,6,2]]);k.$(1)}if(o=="expo"){k=new k9([12,5],0,100,"%");
k.$(50)}if(o=="algnd"){k=new dX([12,75]);k.$(!1)}if(o=="sfrom"){k=new cR([12,70],[[17,1],[17,3],[17,0]])}if(o=="alt"){k=new jZ(null,["Alt"],!0,["Select Source"])}if(o=="qsmode"){k=new k5([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(o=="redge"){k=new da([7,11],!1,null,!0)}if(o=="setop"){k=new bI}if(o=="patch"){k=new k5(null,[[12,70],[12,71]])}if(o=="prsr"){k=this.lL.brush.bw}this.body.appendChild(k.e);
if(o=="prsr")continue;k.parent=this;this.lL[o]=k;if(o=="brush")k.h(N.E.A,this.akL,this);else if(o=="redge")k.h("click",this.qu,this);
else k.h(N.E.A,this.rU,this)}}iR.prototype=new g7;iR.prototype.as5=function(g,o){g=g[1];var k=this.lL;
if(g.Md)k.bmode.$(h8.Kt.indexOf(g.Md.v.BlnM));if(g.Opct)k.opacity.$(g.Opct.v);if(g.flow)k.flow.$(g.flow.v);
if(g.Brsh)k.brush.$(g,o.uq.sc,o.uq.Uu);if(g.FrgC){var y=_.M.sL(g.FrgC.v),d=new jB(N.E.s,!0);d.data={P:N.b.pB,Q6:er.wp,cL:0,Z:y.o<<16|y.C<<8|y.k};
this.S(d)}this.akL();this.rU()};iR.prototype.ayJ=function(){if(D.Sg[this.G]==null)return null;var g=this.lL,o=JSON.parse(JSON.stringify(g.brush.c()));
o.classID=D.Sg[this.G][1][0];if(g.bmode)o.Md={t:"enum",v:{BlnM:h8.Kt[g.bmode.c()]}};if(g.opacity)o.Opct={t:"long",v:g.opacity.c()};
if(g.flow)o.flow={t:"long",v:g.flow.c()};var k=this.eM.p2;k={o:k>>>16,C:k>>>8&255,k:k&255};o.FrgC={t:"Objc",v:_.M.UF(k)};
return["Brush Preset "+o.Brsh.v.Dmtr.v.val,o]};iR.prototype.qu=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.xp,Pv:"redge"};
this.S(g)};iR.prototype.c8=function(){for(var g in this.lL)this.lL[g].f()};iR.prototype.uv=function(g){if(g.awX=="showBrushOpts"){this.lL.brush.al4(g.Kl.x,g.Kl.y)}for(var o in g.Ap){var k=g.Ap[o];
if(o!="qsmode")k*=100;if(this.lL[o])this.lL[o].$(k)}};iR.prototype.mt=function(g,o){g7.prototype.mt.call(this,g,o);
this.eM=g;var k=this.lL.brush;if(k==null)return;if(o==er.a_||o==er.Bj)k.cz(g.uq);if(o==er.Un){k.$(g.uq.Uc,g.uq.sc,g.uq.Uu)}};
iR.prototype.akL=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.pB,Q6:er.Un,Bm:this.lL.brush.c()};this.S(g)};
iR.prototype.rU=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.Wx,G:this.G};for(var o in this.lL){if(o=="brush"||o=="redge")continue;
var k=this.lL[o].c();if(["opacity","flow","smth","strn","expo"].indexOf(o)!=-1)g.data[o]=k/100;else if(o=="bmode")g.data.bmode=h8.re[k];
else if(o=="bmode0")g.data.bmode=h8.re[23+k];else g.data[o]=k}this.S(g)};function cA(g,o){g7.call(this);
if(g)return;this.lL={};for(var m=0;m<o.length;m++){var k=o[m],y=null;if(k=="binop")y=new bI;if(k=="feat"){y=new k9([7,6],0,100,"px");
y.$(0)}if(k=="redge")y=new da([7,11],!1,null,!0);if(k=="wconf")y=new eE;if(k=="cstr")y=new kl;if(k=="anta"){y=new dX([12,25,1]);
y.$(!0)}if(k=="sall")y=new dX([12,25,2]);if(k=="redge")y.h("click",this.qu,this);else y.h(N.E.A,this.rU,this);
y.parent=this;this.body.appendChild(y.e);this.lL[k]=y}}cA.prototype=new g7;cA.prototype.uv=function(g){if(g.uK!=null)this.lL.binop.$(g.uK);
else if(g.lI){for(var o in g.lI)if(this.lL[o])this.lL[o].$(g.lI[o])}else{var k=cA.JG;if(k==null){var y=hn.akl(!0);
k=cA.JG=new iU(y.items,y.MP)}k.f();k.parent=this;k.update(g.b5,g.Px);var d=new jB(N.E.s,!0);d.data={P:N.b.q$,w9:k,x:g.Jz.qh+2,y:g.Jz.ko+1};
this.S(d)}};cA.prototype.c8=function(){for(var g in this.lL)this.lL[g].f()};cA.prototype.qu=function(){var g=new jB(N.E.s,!0);
g.data={P:N.b.xp,Pv:"redge"};this.S(g)};cA.prototype.rU=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.Wx,G:this.G,lI:{}};
for(var o in this.lL)g.data.lI[o]=this.lL[o].c();this.S(g)};function eH(){iR.call(this,["brush","strn"])}eH.prototype=new iR;
function dY(){iR.call(this,"brush bmode opacity flow smth prsr".split(" "))}dY.prototype=new iR;function c7(){iR.call(this,["brush","bmode0","samp","wconf"])}c7.prototype=new iR;
function jz(){iR.call(this,["brush"])}jz.prototype=new iR;function cP(){iR.call(this,["brush","bmode","opacity","smth","prsr"])}cP.prototype=new iR;
function gO(){iR.call(this,["brush","rng","expo"])}gO.prototype=new iR;function jE(){iR.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jE.prototype=new iR;
function iE(g){g7.call(this);if(g==null)return;var o=Z.t("span","fitem");this.body.appendChild(o);var k=[[17,0],[17,1],[11,12,0],[17,2]];
this.O_=[];for(var m=0;m<k.length;m++){var y=new da(k[m],!1,null,!0);this.O_.push(y);y.h("click",this.a1H,this);
if(!g||m==1)o.appendChild(y.e)}this.Zx=new kl;this.Zx.h(N.E.A,this.agg,this);if(!g)this.body.appendChild(this.Zx.e);
this.Bd=new da([15,7,6],!1,null,!0);this.Bd.h("click",this.a1H,this);if(!g)this.body.appendChild(this.Bd.e);
this._t=new dX([15,7,10]);this._t.h(N.E.A,this.agg,this);if(!g)this.body.appendChild(this._t.e);this.Tv=new ik;
this.Tv.h("click",this.$I,this)}iE.prototype=new g7;iE.prototype.c8=function(){this.Tv.f();for(var m=0;
m<this.O_.length;m++)this.O_[m].f();this.Zx.f();this._t.f();this.Bd.f()};iE.prototype.uv=function(g){var o=this.Tv.e;
if(g.TH)this.body.appendChild(o);else if(this.body.contains(o))this.body.removeChild(o);if(g.Zx)this.Zx.$(g.Zx)};
iE.prototype.$I=function(g){var o={P:N.b.Wx,G:this.G,AB:this.Tv.c()?"commit":"cancel"},k=new jB(N.E.s,!0);
k.data=o;this.S(k)};iE.prototype.a1H=function(g){g.target.e.blur();var o={P:N.b.Wx,G:this.G,AB:"cropby",aaD:this.O_.indexOf(g.target)};
if(g.target==this.Bd)o.AB="straighten";var k=new jB(N.E.s,!0);k.data=o;this.S(k)};iE.prototype.agg=function(g){var o={P:N.b.Wx,G:this.G,AB:"config",qi:{bd:this.Zx.c(),$x:this._t.c()},af1:g.target==this.Zx},k=new jB(N.E.s,!0);
k.data=o;this.S(k)};function dQ(){iE.call(this,!1)}dQ.prototype=new iE;function hd(){iE.call(this,!0)}hd.prototype=new iE;
function jU(){iR.call(this,["brush","rng","expo"])}jU.prototype=new iR;function h1(){iR.call(this,"brush emode opacity flow smth prsr".split(" "))}h1.prototype=new iR;
function ey(){iR.call(this,["brush","samp","wconf"])}ey.prototype=new iR;function ko(){cA.call(this,!1,["binop","feat","anta","redge","cstr"])}ko.prototype=new cA(!0);
function cZ(){g7.call(this);var g=this.lL=[new cR([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new cR([12,70],[[17,1],[17,3],[17,0]]),new dX([12,20,1]),new dX([8,0])];
g[1].$(2);g[2].$(!0);for(var m=0;m<g.length;m++){var o=g[m];o.h(N.E.A,this.rU,this);this.body.appendChild(o.e)}}cZ.prototype=new g7;
cZ.prototype.rU=function(g){var o=this.lL,k=[];for(var m=0;m<o.length;m++)k[m]=o[m].c();var y=new jB(N.E.s,!0);
y.data={P:N.b.Wx,G:this.G,lI:k};this.S(y)};cZ.prototype.c8=function(){for(var m=0;m<this.lL.length;m++)this.lL[m].f()};
function jo(){g7.call(this);this.Vy=new gw(!1);this.Vy.parent=this;this.Vy.h(N.E.A,this.Xm,this);this.body.appendChild(this.Vy.e);
this.Vy.$(JSON.parse(iZ.R_.aex).v);this.pI=new cR(null,iZ.M.names.slice(0,5));this.pI.h(N.E.A,this.Xm,this);
this.body.appendChild(this.pI.e);this.hN=new cR([12,19,0],h8.q5,h8.o0);this.hN.h(N.E.A,this.Xm,this);
this.body.appendChild(this.hN.e);this.vm=new k9([12,0],0,100,"%");this.vm.parent=this;this.vm.h(N.E.A,this.Xm,this);
this.body.appendChild(this.vm.e);this.vm.$(100);this.Zo=new dX([12,23,0]);this.Zo.h(N.E.A,this.Xm,this);
this.body.appendChild(this.Zo.e);this.tJ=new dX([12,23,3]);this.tJ.h(N.E.A,this.Xm,this);this.body.appendChild(this.tJ.e)}jo.prototype=new g7;
jo.prototype.c8=function(){this.pI.f();this.hN.f();this.vm.f();this.Zo.f();this.tJ.f()};jo.prototype.mt=function(g,o){g7.prototype.mt.call(this,g,o);
var k=o==er.wp;this.Vy.uy(g.p2,g.Pp);if(k||o==er.aB||o==er.a_)this.Vy.cz(g.ee)};jo.prototype.Xm=function(){var g=new jB(N.E.s,!0);
g.data={P:N.b.Wx,G:this.G};g.data.Q6={M:this.Vy.c(),GO:iZ.M.types[this.pI.c()],TU:this.Zo.sS(),aA:this.tJ.sS(),agH:h8.re[this.hN.c()],$C:this.vm.c()/100};
this.S(g)};function ge(){g7.call(this);this.cV=new dX("All Documents");this.body.appendChild(this.cV.e);
this.cV.h(N.E.A,this.rU,this)}ge.prototype=new g7;ge.prototype.rU=function(){var g={P:N.b.Wx,G:this.G,tr:this.cV.c()},o=new jB(N.E.s,!0);
o.data=g;this.S(o)};function gG(){g7.call(this);var g=Z.t("span","fitem");this.body.appendChild(g);this.Nl=[new k9([12,15],-180,180,"\xB0"),new da([1,12,2],null,null,!0)];
for(var m=0;m<this.Nl.length;m++){var o=this.Nl[m];o.parent=this;g.appendChild(o.e);o.h(m==1?"click":N.E.A,this.nu,this)}}gG.prototype=new g7;
gG.prototype.c8=function(){for(var m=0;m<this.Nl.length;m++)this.Nl[m].f()};gG.prototype.uv=function(g){this.Nl[0].$(g.UJ*180/Math.PI)};
gG.prototype.nu=function(g){var o=this.Nl.indexOf(g.target),k=new jB(N.E.s,!0);k.data={P:N.b.Wx,G:this.G,UJ:o==1?0:g.target.c()*Math.PI/180};
this.S(k)};function fN(){iR.call(this,["brush","algnd","sfrom","alt"])}fN.prototype=new iR;function a1(){g7.call(this);
this.rF=new ae;this.rF.parent=this;this.body.appendChild(this.rF.KX.e);this.body.appendChild(this.rF.qF.e);
this.body.appendChild(this.rF.VE.e);this.body.appendChild(this.rF.DM.e);var g=Z.t("span","fitem");this.body.appendChild(g);
g.appendChild(this.rF.av.e);g.appendChild(this.rF.K5.e);g.appendChild(this.rF.ZQ.e);this.yT=new cR("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.yT.h(N.E.A,this.$I,this);this.body.appendChild(this.yT.e);this.oO=new da([11,9],!1,null,!0);this.oO.h("click",this.akN,this);
this.body.appendChild(this.oO.e);this.Tv=new ik;this.Tv.h("click",this.$I,this)}a1.prototype=new g7;
a1.prototype.c8=function(){this.Tv.f();this.rF.f();this.oO.f()};a1.prototype.akN=function(g){var o={P:N.b.Wx,G:this.G,AB:"showwarp"},k=new jB(N.E.s,!0);
k.data=o;this.S(k)};a1.prototype.uv=function(g){if(g.AB=="showactive")this.body.appendChild(this.Tv.e);
if(g.AB=="hideactive")this.body.removeChild(this.Tv.e);if(g.AB=="changeAA")this.yT.$(g.M$)};a1.prototype.mt=function(g,o){g7.prototype.mt.call(this,g,o);
if(o!=er.a_&&o!=er.cw&&o!=er.tV&&o!=er.om)return;this.rF.$(g.u1,g.At,g.xC)};a1.prototype.$I=function(g){var o={P:N.b.Wx,G:this.G,AB:this.Tv.c()?"commit":"cancel"};
if(g.target==this.yT){o.AB="changeAA";o.M$=this.yT.c()}var k=new jB(N.E.s,!0);k.data=o;this.S(k)};function b2(){cA.call(this,!1,["binop","feat","anta","redge"])}b2.prototype=new cA(!0);
function cT(){g7.call(this);var g=[],k="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.ct=new dX([12,85]);this.ct.h(N.E.A,this.rU,this);g.push(this.ct.e);this.Lu=new dX([20,1]);this.Lu.h(N.E.A,this.rU,this);
g.push(this.Lu.e);this.mR=new dX([12,83]);this.mR.h(N.E.A,this.rU,this);g.push(this.mR.e);var o=Z.t("span","fitem");
g.push(o);this.avu=new cR("Scale for exported files",["1x","2x","3x","4x"]);o.appendChild(this.avu.e);
this.Bs=new da(k+" PNG",!1,"Save selected layers as PNG",!0);o.appendChild(this.Bs.e);this.Bs.h("click",this.It,this);
this.a5$=new da(k+" SVG",!1,"Save selected layers as SVG",!0);o.appendChild(this.a5$.e);this.a5$.h("click",this.It,this);
var y=Z.t("span","fitem");g.push(y);var d=Z.t("span","fitem");g.push(d);this.dW=[];for(var m=0;m<8;m++){var b=m==3||m==7?[20,4,6]:[20,4,m<3?m:m-1],T=new da("Hi",!1,b);
(m<4?y:d).appendChild(T.e);T.h("click",this.It,this);this.dW.push(T)}for(var m=0;m<g.length;m++)this.body.appendChild(g[m]);
this.akM=g}cT.prototype=new g7;cT.prototype.uv=function(g){var o=g.Mq,k=g.ajn;this.ct.$(o.JC);this.Lu.$(o.RW);
this.mR.$(o.iq);if(k){Z.ew(this.body);for(var m=0;m<k.length;m++)if(k[m]==1&&this.akM[m])this.body.appendChild(this.akM[m])}};
cT.prototype.It=function(g){var o=this.dW.indexOf(g.target),k;if(o==-1){k=new jB(N.E.s,!0);k.data={P:N.b.Wx,G:this.G,cL:g.target==this.Bs?"getPNG":"getSVG",fm:this.avu.c()+1}}else{k=new jB(N.E.L,!0);
k.G=D.fL;k.data={P:"algn",Z:o}}this.S(k)};cT.prototype.rU=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.Wx,G:this.G,cL:"prms",JC:this.ct.sS(),RW:this.Lu.sS(),iq:this.mR.sS()};
this.S(o)};cT.prototype.c8=function(){this.ct.f();this.Lu.f();this.mR.f();var g="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var m=0;m<8;m++){this.dW[m].HZ(Z.$l("align/"+g[m],null,"autoscale"))}};function kb(){cA.call(this,!1,["binop","feat","redge","wconf","sall"])}kb.prototype=new cA(!0);
function iG(){iR.call(this,["setop","patch"])}iG.prototype=new iR;function bK(){iR.call(this,["setop"])}bK.prototype=new iR;
function jI(){iR.call(this,["bmode","opacity","wconf","sall"])}jI.prototype=new iR;function hc(){cA.call(this,!1,["binop","feat","anta","redge"])}hc.prototype=new cA(!0);
function hy(){cA.call(this,!1,["binop","feat","anta","redge"])}hy.prototype=new cA(!0);function bT(){cA.call(this,!1,["binop","feat","redge","cstr"])}bT.prototype=new cA(!0);
function kk(){g7.call(this);this.eM=null;this.kB=null;this.vB=[new ic("X",null,3.2,null,!0),new ic("Y",null,3.2,null,!0),new ic("W",null,3.2,null,!0),new ic("H",null,3.2,null,!0),new ic([12,15],"\xB0",3.7,null,!0),new ic(["VAR0 1",[12,80,0]],null,3.5,null,!0),new ic(["VAR0 2",[12,80,0]],null,3.5,null,!0),new da([15,7,6],!1,null,!0),new da([2,2],!1,null,!0)];
for(var m=0;m<this.vB.length;m++){var g=this.vB[m];this.body.appendChild(g.e);if(m>6)g.h("click",this.NB,this)}this.oD=0}kk.prototype=new g7;
kk.prototype.NB=function(g){var o=this.vB.indexOf(g.target)==7,k=new jB(N.E.L,!0);if(o){if(this.oD==0)return;
k.G=D.nK;k.data={P:"rot",Y5:[2,5],Z:-this.oD}}else{k.G=D.w6;for(var m=0;m<6;m++)this.vB[m].$(null)}this.S(k)};
kk.prototype.uv=function(g){function o(a,t,j){var e=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2)),v=Math.sqrt(Math.pow(t.x-j.x,2)+Math.pow(t.y-j.y,2)),L=Math.sqrt(Math.pow(j.x-a.x,2)+Math.pow(j.y-a.y,2));
return Math.acos((v*v+e*e-L*L)/(2*v*e))}if(g==null)return;this.kB=g;var k=g.a8m,y=g.qR,d=y.x-k.x,b=y.y-k.y;
this.oD=-Math.atan2(b,d);if(g.HI)this.oD=o(y,k,g.HI);var T=this.vB;T[0].$(this.GD(g,k.x));T[1].$(this.GD(g,k.y));
T[2].$(this.GD(g,d));T[3].$(this.GD(g,b));T[4].$((this.oD*180/Math.PI).toFixed(2));T[5].$(this.GD(g,bJ.YX(k,y)));
if(g.HI){T[6].$(this.GD(g,bJ.YX(k,g.HI)))}else T[6].$("")};kk.prototype.GD=function(g,o){var k=_.bt.m4(o,g.Qb,this.eM,g.a4e,!1);
return parseFloat(k).toFixed(2)};kk.prototype.mt=function(g,o){this.eM=g;this.uv(this.kB)};kk.prototype.c8=function(){var g=this.vB;
for(var m=0;m<g.length;m++)g[m].f();Z.rv(g[2],g[3])};function fp(){iR.call(this,["brush","strn","pdetail"])}fp.prototype=new iR;
function hO(){iR.call(this,["brush","sfrom"]);this.ad3=[];var g=[[7,12]];for(var m=0;m<g.length;m++){var o=new da(g[m],!1,null,!0);
this.ad3.push(o);o.parent=this;this.body.appendChild(o.e);o.h("click",this.aza,this)}}hO.prototype=new iR;
hO.prototype.aza=function(g){var o=this.ad3.indexOf(g.currentTarget),k=new jB(N.E.gp,!0);k.data=D.Ak.t3("contentAware");
this.S(k)};function kj(){iR.call(this,["brush","strn"])}kj.prototype=new iR;function c5(){iR.call(this,["brush","flow","smode"])}c5.prototype=new iR;
function gY(){g7.call(this);this.TY=!1;var g=Z.t("span","fitem");this.body.appendChild(g);this.Ox=new k5(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
g.appendChild(this.Ox.e);this.Ox.h(N.E.A,this.rU,this);this.n5=new da([20,2]);this.body.appendChild(this.n5.e);
this.n5.h("click",this.asc,this);this.sf=new da([20,3]);this.body.appendChild(this.sf.e);this.sf.h("click",this.asc,this);
this.cV=new dX("All Documents");this.body.appendChild(this.cV.e);this.cV.h(N.E.A,this.rU,this)}gY.prototype=new g7;
gY.prototype.c8=function(){this.n5.f();this.sf.f()};gY.prototype.rU=function(){var g={P:N.b.Wx,G:this.G,ZS:this.Ox.c()==0,tr:this.cV.c()},o=new jB(N.E.s,!0);
o.data=g;this.S(o)};gY.prototype.uv=function(g){if(this.TY!=g.TY)this.Ox.$(1-this.Ox.c());this.TY=g.TY};
gY.prototype.asc=function(g){var o=new jB(N.E.L,!0);o.G=D.aC;o.data={P:"adapt",Z:g.target==this.n5?"pixel":"fitscr"};
this.S(o)};function eG(g,o){g7.call(this);if(g==null)return;this.dG=g;this.r_={};this.aut=o;for(var m=0;
m<g.length;m++){var k=g[m],y=null;if(k=="tmode"){y=new cR(null,[[12,76,1],[12,76,0],[12,76,2]]);y.$(0);
if(o)y.akc(2)}if(k=="make"){y=new k5("Make",[[17,2],[12,76,1]],null,!0)}if(k=="anta"){y=new dX([12,25,1]);
y.$(!0)}if(k=="binop"){y=new cR(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(k=="pshape")y=new cR(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(k=="shape")y=new kg([12,76,1]);if(k=="crad"){y=new k9([12,94,0],0,50,"px");y.$(0)}if(k=="cstr"){y=new kl}if(k=="irad"){y=new k9([12,94,1],0,100,"%");
y.$(40)}if(k=="length"){y=new k9([12,80,0],4,40);y.$(4)}if(k=="sides"){y=new k9([12,78],3,30);y.$(5)}if(k=="width"){y=new k9([12,41],1,100,"px");
y.$(5)}if(k=="tolr"){y=new k9([12,24],0,100);y.$(5)}if(k=="fstyle"){y=new hV([12,26])}if(k=="sstyle"){y=new hR}if(k=="psnap"){y=new dX([8,10])}if(k=="crnr"){y=new da("\u2312",!1,[12,94,0],!0)}if(k=="aopts"){y=new cz;
y.$([!1,!1,50,60,0])}y.parent=this;this.body.appendChild(y.e);this.r_[k]=y;y.h(k=="crnr"?"click":N.E.A,this.rU,this)}}eG.prototype=new g7;
eG.prototype.uv=function(g){if(g.uK!=null)this.r_.binop.$(g.uK);else if(g.cL=="vals")for(var o in g.aph)this.r_[o].$(g.aph[o]);
else{var k=eG.JG;if(k==null)k=eG.JG=new iU([{name:"Remove Anchor Point",r:function(d){var b=d?d.uM():null;
return{r:d&&b[1].length!=0&&b[0][b[1][0]].add.vmsk.ZU.length!=0}}},{name:"Remove Path",r:function(d){var b=d?d.uM():null;
return{r:d&&b[1].length!=0&&b[0][b[1][0]].add.vmsk.g.length!=0}},_r:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{W:N.E.L,G:D.lz,R:{P:"remove",Cd:!0}},{W:N.E.L,G:D.WH,R:{P:"remove"}},{W:N.E.s,R:{P:N.b.xp,Pv:"makesel"}},{W:N.E.gp,R:D.hz.TV(0)},{W:N.E.gp,R:D.hz.TV(1)}]);
k.parent=this;k.update(g.b5,g.Px);var y=new jB(N.E.s,!0);y.data={P:N.b.q$,w9:k,x:g.Jz.qh+2,y:g.Jz.ko+1};
this.S(y)}};eG.prototype.aa3=function(m){return null};eG.prototype.c8=function(){for(var g in this.r_){this.r_[g].f()}};
eG.prototype.rU=function(g){var o=new jB(N.E.s,!0),k=this.r_;if(g.target==k.crnr){o=new jB(N.E.L,!0);
o.G=D.lz;o.data={P:"crnr"}}else if(g.target==k.make){var m=g.target.c();console.log(m);if(m==0)o.data={P:N.b.xp,Pv:"makesel"};
else{o=new jB(N.E.L,!0);o.G=D.XV;o.data={P:"newfill",Wj:0}}}else if(g.target==k.fstyle){o.data={P:N.b.pB,Q6:er.RX,Z:k.fstyle.c()}}else if(g.target==k.sstyle){o.data={P:N.b.pB,Q6:er.AA,Z:k.sstyle.c()}}else if(g.target==k.tmode){o.data={P:N.b.pB,Q6:er.N5,Z:k.tmode.c()}}else{if(k.pshape)this.Ed();
o.data={P:N.b.Wx,G:this.G};for(var y in k)o.data[y]=k[y].c()}this.S(o)};eG.prototype.Ed=function(){var g=this.r_,o=g.tmode.c(),k=g.pshape?this.aa3(g.pshape.c()):this.dG,y;
if(o==0)y=["anta","make"];if(o==1)y=["anta","fstyle","sstyle"];if(o==2)y=["make","binop","fstyle","sstyle"];
var d=g.binop;if(d){var b=d.c();if(o==0){d.anJ(0)}else{d.akc(0);if(b==0){d.$(1);this.rU({target:d})}}}Z.ew(this.body);
for(var m=0;m<k.length;m++){var T=k[m];if(y.indexOf(T)!=-1)continue;this.body.appendChild(g[T].e)}};
eG.prototype.mt=function(g,o){g7.prototype.mt.call(this,g,o);var k=this.r_.fstyle,y=this.r_.sstyle,d=this.r_.tmode;
if(k)k.mt(g,o);if(y)y.mt(g,o);if(o==er.a_||o==er.Yh)if(g.y6.length!=0&&this.r_.shape){this.r_.shape.cz(g.y6)}if(o==er.a_||o==er.RX)if(k)k.$(null,g.w1,g.agY);
if(o==er.a_||o==er.AA)if(y)y.$(null,g.VX,g.aoJ);if(o==er.a_||o==er.N5){var b=g.qW;if(this.aut&&b==2)b=0;
if(d){d.$(b);this.Ed()}}};function gR(){eG.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}gR.prototype=new eG;
function d5(){eG.call(this,"tmode make anta fstyle sstyle binop".split(" "))}d5.prototype=new eG;function cC(){eG.call(this,["fstyle","sstyle"]);
this.ali=null;this.aj9=null;this.alr=null;this.Hq=new cR([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.$_=new da("\u25BC");this.$_.sG();this.ca=new da("\u25B2");this.ca.sG();this.oi=[this.Hq,this.$_,this.ca];
for(var m=0;m<this.oi.length;m++){var g=this.oi[m];this.body.appendChild(g.e);g.parent=this;g.h(m==0?N.E.A:"click",this.dg,this)}}cC.prototype=new eG;
cC.prototype.uv=function(g){if(g.AB=="main"){var o=this.oi,k=g.ye;if(k){this.aj9=k.clone();this.alr=JSON.stringify(g.X);
var y=k.g.slice(0),d=y.length;for(var m=0;m<y.length;m++)y[m]++;y.sort(function(t,j){return t-j});o[0].gM();
o[1]._C(d!=0);o[2]._C(d!=0);o[0].HZ(d==0?"No Paths":d==1?"Path "+y[0]:"Paths "+y.slice(0,3).join(",")+(d>3?"..":""));
if(d!=0){var b=k.g[0],T=_.w.SO(k.a,b),a=k.a[T];this.Hq.$([3,0,1,2][a.dJ])}}else for(var m=0;m<o.length;
m++)o[m].jK()}else eG.prototype.uv.call(this,g)};cC.prototype.c8=function(){eG.prototype.c8.call(this);
this.Hq.f()};cC.prototype.dg=function(g){if(g.target==this.Hq||g.target==this.$_||g.target==this.ca){var o={},k=this.aj9,y=k.a,d=k.g,b=_.w.L7(y),T=JSON.parse(this.alr);
d.sort(function(F,f){return F-f});if(g.target==this.Hq){var a=this.Hq.c();if(a<4)for(var m=0;m<d.length;
m++)y[_.w.SO(y,d[m])].dJ=[1,2,3,0][a];else{if(b<=1)return;k.a=_.w.Vc(y);k.g=k.a.length==2?[]:[0];k.ZU=[];
T=[_.X.o7()]}}else{var t=g.target==this.$_?-1:1,j=[];for(var m=0;m<b;m++){var e=_.w.SO(y,m),v=e+1+y[e].length;
j.push(y.slice(e,v))}var L=d.slice(0);for(var m=0;m<d.length;m++)L[m]=Math.max(m,Math.min(b-1-(d.length-1-m),L[m]+t));
if(d.join(",")==L.join(","))return;var H=JSON.parse(JSON.stringify(T));for(var m=0;m<d.length;m++){var w=t==-1?m:d.length-1-m,e=d[w],v=L[w];
if(e!=v){var P=j[e];j[e]=j[v];j[v]=P;P=H[e];H[e]=H[v];H[v]=P}}var Q=y.slice(0,2);for(var m=0;m<j.length;
m++)Q=Q.concat(j[m]);k.a=Q;k.g=L;T=H}o.ye=k;o.X=T;var x=new jB(N.E.s,!0);x.data={P:N.b.Wx,G:this.G,Q9:o};
this.S(x)}};function iC(){eG.call(this,["fstyle","sstyle","crnr","psnap"])}iC.prototype=new eG;function fY(){eG.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}fY.prototype=new eG;
function gJ(){eG.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}gJ.prototype=new eG;
function h7(){eG.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.r_.aopts.$([!1,!0,50,60,0])}h7.prototype=new eG;h7.prototype.aa3=function(m){var g=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(g[m])};function fi(){eG.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}fi.prototype=new eG;
function dx(){eG.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}dx.prototype=new eG;
function bg(){cA.call(this,!1,["binop","feat","redge"])}bg.prototype=new cA(!0);function ai(){iR.call(this,["brush","qsmode","redge"])}ai.prototype=new iR;
function gv(){g7.call(this);this.y2=[];for(var m=0;m<2;m++){var g=new da(m==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.y2.push(g);g.h("click",this.dg,this);this.body.appendChild(g.e)}}gv.prototype=new g7;gv.prototype.dg=function(g){var o;
if(this.y2.indexOf(g.target)==0){o=new jB(N.E.gp,!0);o.data={J5:"make",fV:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{o=new jB(N.E.s,!0);
o.data={P:N.b.xp,Pv:"divslice"}}this.S(o)};gv.prototype.c8=function(g){for(var m=0;m<this.y2.length;
m++)this.y2[m].f()};function jd(){g7.call(this);var g=this.fG=[new da("\u25BC",null,null,!0),new da("\u25B2",null,null,!0),new da([5,4],null,null,!0),new da(["VAR0...",[15,10,22]],null,null,!0)];
for(var m=0;m<4;m++){var o=g[m];this.body.appendChild(o.e);o.h("click",this.dg,this)}}jd.prototype=new g7;
jd.prototype.dg=function(g){var o=this.fG.indexOf(g.target),k;if(o==3){k=new jB(N.E.s,!0);k.data={P:N.b.xp,Pv:"divslice"}}else{k=new jB(N.E.L,!0);
k.G=D.UO;k.data={P:o==2?"delete":"reorder",dir:o==0?-1:1}}this.S(k)};jd.prototype.f=function(){g7.prototype.f.call(this);
for(var m=0;m<4;m++)this.fG[m].f()};function b8(g,o){g7.call(this);if(window.Typr==null||g)return;this.a1g=o;
this.oQ=null;this.avF=Z.t("span","");this.a0O=Z.t("span","");var k=1;this.jy={Yf:new hX(null,24),yy:new k9("X",0,0,"px",0,!1,!0,4),rO:new k9("Y",0,0,"px",0,!1,!0,4),sJ:new k9("W",0,0,["%","px"],2,!1,!0,5),hI:new da("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),mh:new k9("H",0,0,["%","px"],2,!1,!0,5),ajS:new k9("\u2221",0,0,"\xB0",k,!1,!0),aa4:new k9("\u25B1 H",-85,85,"\xB0",k,!1,!0),aa2:new k9("\u25B1 V",-85,85,"\xB0",k,!1,!0),s$:new cR(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.jy.s$.$(1);this.jy.hI.$(!0);for(var y in this.jy){var d=this.jy[y];if(o&&(d==this.jy.ajS||d==this.jy.aa4||d==this.jy.aa2||d==this.jy.s$)){}else this.avF.appendChild(d.e);
var b=d==this.jy.hI?"click":N.E.A;d.h(b,this.avc,this)}this.FL=new iw(!0,!0,!0);this.FL.h(N.E.A,this.a4U,this);
this.FL.parent=this;var T=this.a0O,a=this.FL;T.appendChild(a.Ie.e);T.appendChild(a.bL.e);T.appendChild(a.Eb.e);
T.appendChild(a.b6.e);T.appendChild(a.kv.e);this.oO=new da([11,9]);this.oO.h("click",this.acm,this);
this.Tv=new ik;this.Tv.h("click",this.$I,this)}b8.prototype=new g7;b8.prototype.uv=function(g){if(g.Jz){var o=b8,k=this.JG;
if(k==null)k=this.JG=new iU(o.a51(),o.a19(this.G));k.f();k.parent=this;k.update(g.b5,g.Px);var y=new jB(N.E.s,!0);
y.data={P:N.b.q$,w9:k,x:g.Jz.qh+2,y:g.Jz.ko+1};this.S(y);return}Z.ew(this.body);this.oQ=g;if(g.jy){var d=g.jy.KU,b=g.jy.DA.clone(),T=Math.atan2(-b.k,b.Ng),a=new d3;
a.rotate(-T);b.concat(a);var t=this.jy;t.Yf.$(g.jy.sj);t.yy.$(g.jy.aV.x);t.rO.$(g.jy.aV.y);t.sJ.$(b.Ng*(t.sJ.WY()=="%"?100:d.m));
t.mh.$(b.vP*(t.mh.WY()=="%"?100:d.n));t.ajS.$(-T*180/Math.PI);t.aa4.$(Math.atan(b._I/b.vP)*180/Math.PI);
t.aa2.$(0*180/Math.PI);this.body.appendChild(this.avF);this.oO.yQ();if(g.jy.J1!=null)t.hI.$(g.jy.J1)}if(g.aT){this.FL.$(g.aT);
this.body.appendChild(this.a0O);this.oO.sG()}this.body.appendChild(this.Tv.e);if(g.a7L&&!this.a1g)this.body.appendChild(this.oO.e)};
b8.prototype.avc=function(g){var o=this.jy,k=this.oQ.jy.KU;if(g.target==o.hI)o.hI.$(!o.hI.c());else if(o.hI.sS()){var y=o.mh,d=o.sJ,b=k.n,T=k.m;
if(g.target==o.sJ){y=o.sJ;d=o.mh;b=k.m;T=k.n}var a=y.c()/(y.WY()=="%"?100:b);a*=d.WY()=="%"?100:T;d.$(a)}var t=[];
for(var j in o)if(o[j]!=o.hI&&o[j]!=o.Yf){var a=o[j].c();if((o[j]==o.sJ||o[j]==o.mh)&&a==0){a=.1;o[j].$(a)}if(o[j]==o.sJ&&o[j].WY()=="px")a/=k.m/100;
if(o[j]==o.mh&&o[j].WY()=="px")a/=k.n/100;t.push(a)}var e=new bJ(t[0],t[1]);if(g.target==o.Yf){this.B_({AB:"ctyp",sj:o.Yf.c()})}else if(g.target==o.yy||g.target==o.rO){this.B_({AB:"cen",aV:e})}else{var v=this.oQ.jy.DA.clone(),L=v.clone(),H=Math.atan2(-v.k,v.Ng);
L.translate(-e.x,-e.y);L.rotate(-H);var w=new d3(L.Ng,L.k,L._I,L.vP,0,0);w.TY();L.concat(w);var P=t[2]/100,Q=t[3]/100;
L.concat(new d3(P,P*Math.tan(t[6]*Math.PI/180),Q*Math.tan(t[5]*Math.PI/180),Q,0,0));L.rotate(-t[4]*Math.PI/180);
L.translate(e.x,e.y);this.oQ.jy.DA=L;this.B_({AB:"trn",jy:L,W$:this.jy.s$.c(),J1:o.hI.c()})}};b8.prototype.a4U=function(g){this.B_({AB:"wrp",aT:this.FL.c()})};
b8.prototype.acm=function(g){this.B_({AB:"switchWarp"})};b8.prototype.$I=function(g){this.B_({AB:this.Tv.c()?"commit":"cancel"})};
b8.prototype.B_=function(g){g.P=N.b.Wx;g.G=this.G;var o=new jB(N.E.s,!0);o.data=g;this.S(o)};b8.prototype.c8=function(){var g=this.jy;
for(var o in g)g[o].f();Z.rv(g.sJ,g.mh);this.Tv.f();this.FL.f();this.oO.f()};b8.a51=function(){var g=function(o){var k=!0;
if(o==null||o.g.length==0)k=!1;else{var y=o.g;for(var m=0;m<y.length;m++){if(o.d[y[m]].add.TySh)k=!1}}return{r:k}};
return[{name:[5,9],SW:"Shift+Alt+Ctrl + T",_r:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],r:g},{name:[2,9],r:g},{name:[11,9],r:function(o){if(o==null||o.g.length!=1)return{r:!1};
var k=o.d[o.g[0]];return{r:k.add.TySh==null&&!k.gT()}},_r:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
b8.a19=function(g){if(g==null)g=D.nK;return[{W:N.E.L,G:g,R:{P:"again"}},{W:N.E.s,R:{P:N.b.v1,G:g,Mq:{fE:3}}},{W:N.E.s,R:{P:N.b.v1,G:g,Mq:{fE:4}}},{W:N.E.s,R:{P:N.b.v1,G:g,Mq:{fE:2}}},{W:N.E.s,R:{P:N.b.v1,G:g,Mq:{fE:1}}},{W:N.E.s,R:{P:N.b.v1,G:g,Mq:{fE:-1}}},{W:N.E.gp,R:D.C8.ql(!0,90,!0)},{W:N.E.gp,R:D.C8.ql(!0,-90,!0)},{W:N.E.gp,R:D.C8.ql(!0,-180,!0)},{W:N.E.gp,R:D.C8.ql(!1,"Hrzn",!0)},{W:N.E.gp,R:D.C8.ql(!1,"Vrtc",!0)}]};
function iL(){b8.call(this)}iL.prototype=new b8(!0);function jc(){b8.call(this)}jc.prototype=new b8(!0);
function a4(){b8.call(this,!1,!0)}a4.prototype=new b8(!0);function eX(){g7.call(this);var g=this.dG=[new cR([12,36],["Rigid",[15,10,0],[24,4]]),new cR([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new k9([7,4],0,100,"px"),new dX("Show Mesh"),new da("\u25BC",null,null,!0),new da("\u25B2",null,null,!0)];
for(var m=0;m<g.length;m++){var o=g[m];o.parent=this;this.body.appendChild(o.e);o.h(m<4?N.E.A:"click",this.a0Q,this)}this.Tv=new ik;
this.Tv.h("click",this.$I,this);this.body.appendChild(this.Tv.e)}eX.prototype=new g7;eX.prototype.c8=function(){var g=this.dG;
for(var m=0;m<4;m++)g[m].f();this.Tv.f()};eX.prototype.uv=function(g){var g=g.Q6;for(var m=0;m<4;m++)this.dG[m].$(g[m])};
eX.prototype.a0Q=function(g){var o=[];for(var m=0;m<4;m++)o[m]=this.dG[m].c();var k=this.dG.indexOf(g.target);
if(k<4)this.B_({AB:"prm",Q6:o});else this.B_({AB:"moveDepth",aqO:k==5})};eX.prototype.$I=function(g){this.B_({AB:this.Tv.c()?"commit":"cancel"})};
eX.prototype.B_=function(g){g.P=N.b.Wx;g.G=this.G;var o=new jB(N.E.s,!0);o.data=g;this.S(o)};function aa(){fR.call(this);
this.e=Z.t("div","cmanager");window.alert=function(y,d){this.a53(y,d);console.log("Alert: "+y)}.bind(this);
window.onblur=function(y){var d=this;d.pq()}.bind(this);this.bW=0;this.GP=0;this.KE=[];this.iX={};this.If=Z.t("div","alertcont");
this.e.appendChild(this.If);this.a9e=Z.t("div","alertcont");this.e.appendChild(this.a9e);this.rE=Z.t("div","alertcont");
this.atI=0;this.dS=-1;this.a99=null;this.y2=null;var g=this.a4I=Z.t("div","alertpanel");g.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.rE.appendChild(g);var o=this.LS=Z.t("input");o.setAttribute("type","text");Z.tF(o);o.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
o.addEventListener("input",this.abY.bind(this),!1);o.addEventListener("keydown",this.aaR.bind(this),!1);
g.appendChild(o);var k=this.awC=Z.t("div","contextpanel scrollable");k.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
k.addEventListener("click",this.afB.bind(this),!1);g.appendChild(k);Z.Fn(document.body,this.a8S.bind(this))}aa.prototype=new fR;
aa.prototype.AX=function(){if(Z.Hd(this.rE))this.e.removeChild(this.rE)};aa.prototype.awg=function(g,o){var k=this.a99=[],y=o.a0j;
for(var m=0;m<hn.data.length;m++){var d=hn.data[m],b=[d9.get(d.name)],T=[m];aa.agB(d.items,b,T,k,g,o,y==null?null:y[m]==null?0:y[m])}var a=ev._;
for(var m=0;m<a.length;m+=3){if(o.XM&&o.XM.indexOf(a[m+2])==-1)continue;k.push([["Tools",d9.get(a[m])],[-1,a[m+2]],a[m+1]])}this.e.appendChild(this.rE);
var t=this.LS;t.focus();t.select();this.Y3()};aa.prototype.abY=function(g){this.dS=-1;this.Y3()};aa.prototype.Y3=function(){var g=this.LS.value.toLowerCase().trim().replace(/  +/g," "),o=this.a99,k=[],y=[],d=g.split(" ");
if(g!="")for(var m=0;m<o.length;m++){var b=o[m][0],T=[],a=0;for(var t=0;t<b.length;t++)T[t]=-1;for(var j=0;
j<d.length;j++)for(var t=0;t<b.length;t++){var e=b[t].toLowerCase().indexOf(d[j]);if(e!=-1){T[t]=[e,e+d[j].length];
a++;break}}if(a==d.length){k.push(o[m]);y.push(T)}}var v=[],L=this.awC;Z.ew(L);for(var m=0;m<k.length;
m++){var H=k[m],w=H[0],e=y[m],P="enab",x="";if(m==this.dS)P+=" active";var Q=Z.t("div",P);v.push(Q);
L.appendChild(Q);for(var t=0;t<w.length;t++){var F=e[t],E=d[t],f=w[t];if(F!=-1)f=f.slice(0,F[0])+"<span style=\"color:black\">"+f.slice(F[0],F[1])+"</span>"+f.slice(F[1]);
x+=f;if(t<w.length-1)x+=" \uFE65 "}if(H[2]&&(typeof H[2]!="string"||H[2].length==1))x+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+dj.GR(H[2])+"</span>";
Q.innerHTML=x}this.y2=[k,v]};aa.prototype.aaR=function(g){var o=dj.M0,k=g.code;if(o(k,dj.bC))this.AX();
var y=o(k,dj.Ef),d=o(k,dj.tu),b=o(k,dj.zu);if(y||d){this.dS=Math.max(0,Math.min(this.y2[0].length-1,this.dS+(y?-1:1)));
this.Y3()}if(b&&this.dS!=-1)this.ay$(this.dS)};aa.agB=function(g,o,k,y,d,b,T){if(typeof T=="number"){if(T==0)return;
if(T==1)T=null}for(var m=0;m<g.length;m++){if(T!=null&&(T[m]==0||T[m]==null))continue;var a=g[m],t=o.slice(0),j=k.slice(0),e=d9.get(a.name);
if(a.r){var v=a.r(d,b,m);if(v.cn)e=v.cn;if(v.r==!1)continue}t.push(e);j.push(m);if(a.sub)aa.agB(a.sub,t,j,y,d,b,T?T[m]:null);
else y.push([t,j,a.SW])}};aa.prototype.afB=function(g){var o=g.target;if(o.tagName.toLowerCase()=="span")o=o.parentNode;
var k=this.y2[1].indexOf(o);if(k!=-1)this.ay$(k)};aa.prototype.ay$=function(g){var o=this.y2[0][g][1];
if(o[0]==-1){var k=new jB(N.E.s,!0);k.data={P:N.b.v1,G:o[1]};this.S(k)}else{var y=hn.data[o[0]].MP[o[1]];
for(var m=2;m<o.length;m++)y=y.sub[o[m]];var d=new jB(y.W,!0);d.G=y.G;d.data=y.R;this.S(d)}this.AX()};
aa.prototype.UC=function(g,o){this.bW=g;this.GP=o;this.awC.style["max-height"]=o-120+"px"};aa.prototype.acH=function(g){var o=Z.t("div","alertpanel");
o.textContent=d9.get(g);this.If.appendChild(o);this.iX[JSON.stringify(g)]=o};aa.prototype.a7h=function(g){var o=this.iX[JSON.stringify(g)];
this.If.removeChild(o);delete this.iX[JSON.stringify(g)]};aa.prototype.a53=function(g,o){var k=this.a9e;
for(var m=0;m<k.children.length;m++)if(k.children[m].textContent==g)return;var y=Z.t("div","alertpanel tpanel");
y.textContent=g;y.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");k.appendChild(y);if(o==null)o=1500;
var d=o,b=Math.max(Date.now()+d,this.atI+d);setTimeout(function(){y.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){k.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},b-Date.now()-30);
setTimeout(function(){k.removeChild(k.firstChild);k.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},b-Date.now());
this.atI=b};aa.prototype.a8S=function(g){var o=this.KE;for(var m=o.length-1;m>=0;m--){var k=o[m],y=g.target;
while(y!=null){if(y==k.e){this.pq(k);return}y=y.parentNode}}this.pq();var d=g.target;while(d!=this.rE&&d!=document.body)d=d.parentNode;
if(d!=this.rE)this.AX()};aa.prototype.pq=function(g){var o=this.KE;for(var m=0;m<o.length;m++){if(g&&g.ai4(o[m]))continue;
var k=o[m].e;if(!(o[m]instanceof iU))Z.eu(o[m],this.e);else this.e.removeChild(k);k.style.height="auto";
Z.Iu(k,"scrollable");o.splice(m,1);m--}};aa.prototype.ak5=function(g){this.pq(g.w9);var o=g.w9,k=o.e;
if(this.KE.indexOf(o)!=-1)return;this.KE.push(o);this.e.appendChild(k);var y=this.bW,d=this.GP,b=g.x,T=g.y,a=this.e.getBoundingClientRect(),t=o instanceof iU,j=-1,e=d-2;
if(t||g.wo){var v=o.qY(),L=o.apM();if(t)v=Math.min(v,200);var H=y-v-2,w=d-L-2;if(T<w)j=2;else if(b<H)j=1;
else if(0<T-L-2)j=0;else j=3;if(g.azp)j=0;if(g.a0f)j=2;if(j==2){b=Math.min(b,H)}else if(j==1){T=Math.min(T,w)}else if(j==0){T=T-L-2;
b=Math.min(b,H);e=g.y}else if(j==3){b=b-v-2;T=Math.min(T,w)}}T=Math.max(2,T);var top=Math.round(T-a.y+this.e.offsetTop);
k.style.position="absolute";k.style["z-index"]=10;if(T+o.apM()>e){k.style.height=e-T+"px";Z.O9(k,"scrollable");
if(j==3)b-=10}k.style.left=Math.round(b)+"px";k.style.top=top+"px";if(!(o instanceof iU))Z.iH(o)};aa.prototype.arJ=function(g){var o=g.w9,k=this.KE.indexOf(o);
if(k==-1)return;this.KE.splice(k,1);var y=o.e;if(!(o instanceof iU))Z.eu(o,this.e);else this.e.removeChild(o.e)};
aa.prototype.Cw=function(){var g=this.KE;return g.length==0?null:g[g.length-1]};aa.prototype.aaA=function(){this.arJ({w9:this.Cw()})};
function eq(){fR.call(this);this.e=Z.t("div","confbar")}eq.prototype=new fR;eq.prototype.a6I=function(g){g.parent=this;
Z.ew(this.e);this.e.appendChild(g.e)};function ap(g){fR.call(this);ap.jT=this;ap.ZC=g;this.eM=null;this.d1=Z.t("input","");
this.d1.setAttribute("type","file");this.d1.setAttribute("multiple","");this.d1.addEventListener("change",function(o){this.ZT(o.target.files,null,this.qy,null);
this.qy=null}.bind(this),!1);document.body.appendChild(this.d1);this.d1.setAttribute("style","display:none");
this.aiG=[];this.cZ=!1;this.aky=[];this.P3=!1;this.acj={};this.qy=null}ap.prototype=new fR;ap.ZC=null;
ap.SN=function(g){try{var o={};o[g.type]=g;navigator.clipboard.write([new ClipboardItem(o)])}catch(d9){console.error(d9,d9.message)}};
ap.Nx=function(g,o){navigator.clipboard.read().then(function(k){for(var m=0;m<k.length;m++){try{var y=k[m],d={},b=0,T=0;
for(var a=0;a<y.types.length;a++){var t=y.types[a];b++;y.getType(t).then(function(j){var e=t;new Response(j).arrayBuffer().then(function(v){d[this.Wj]=v;
T++;if(T==b)ap.avU(d,g,o)}.bind({Wj:this.Wj}))}.bind({Wj:t}))}}catch(d9){console.error(d9,d9.message)}}}).catch(function(k){})};
ap.amu=function(g){navigator.permissions.query({name:"clipboard-read"}).then(function(o){g(o.state)})};
ap.avU=function(g,o,k){var y=["text/plain","image/png","text/html","text/plain"];for(var d in g)console.log(d,d.startsWith("text")?S.IL(new Uint8Array(g[d])).slice(0,100)+"...":g[d]);
for(var b=0;b<y.length;b++){var T=y[b],a=g[T];if(a==null)continue;if(T=="image/png"){ap.ZC({name:"image.png"},a,o,k);
return}if(T=="text/plain"){var t=S.IL(new Uint8Array(a));if(b==0)if(!t.startsWith("<!--")&&!t.startsWith("<svg"))continue;
var j=new jB(N.E.s,!0);j.data={P:N.b.ap1,Z:t};o.S(j);return}if(T=="text/html"){var t=S.IL(new Uint8Array(a)),e=t.indexOf("src=\"");
if(e!=-1&&t.slice(e+5,e+9)!="http"){var v=e+10;while(t[v]!="\"")v++;var L=t.slice(e+5,v);ap.ZC({name:"chart.png"},cp.Kw(L).buffer,o,k);
return}}}};ap.prototype.df=function(g){if(g==null)g=[23,5];var o=JSON.stringify(g),k=this.acj;if(k[o]==null)k[o]=0;
if(k[o]==0){var y=new jB(N.E.s,!0);y.data={P:N.b.lu,Q4:g};this.S(y)}k[o]++};ap.prototype.PX=function(g){if(g==null)g=[23,5];
var o=JSON.stringify(g),k=this.acj;if(k[o]==null)k[o]=0;k[o]--;if(k[o]==0){var y=new jB(N.E.s,!0);y.data={P:N.b.xa,Q4:g};
this.S(y)}};ap.prototype.a8I=function(g,o){this.qy=g;var k=window.showOpenFilePicker;if(k&&window.self==window.top){var y=this;
k({multiple:!0}).then(function(T){var a=[];function t(j){a.push(j);if(a.length==T.length){y.ZT(a,null,y.qy,null,T);
y.qy=null}else T[a.length].getFile().then(t)}T[a.length].getFile().then(t)});return}var d=this.d1;if(o)d.setAttribute("accept",o);
else d.removeAttribute("accept");var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
d.dispatchEvent(b)};ap.prototype.Ss=function(g){if(g.url.indexOf("photopea.com#i")!=-1||g.url.indexOf("photopea.com/#i")!=-1){this.m6(g.url.split("#i").pop());
return}this.aiG.push(g);this.avR()};ap.prototype.avR=function(){var g=this.aiG;if(g.length==0||this.cZ)return;
this.cZ=!0;var o=g.shift();this.df();if(o.Fd==null)o.Fd={};var k=new XMLHttpRequest;k.sB=o;var y=o.url;
if(o.Vs&&!y.startsWith("data:image"))y="mirror.php?url="+encodeURIComponent(y);k.open("GET",y);if(o.rw)for(var d in o.rw)k.setRequestHeader(d,o.rw[d]);
k.responseType="arraybuffer";k.onload=this.ati.bind(this);k.send()};ap.prototype.ZT=function(g,o,k,y,d){for(var m=0;
m<g.length;m++){this.df();var b=g[m],T=new FileReader;T.sB=b;T.sB.zT=k;T.sB.u$=y;T.aaH=o;if(d)T.sB.UR=d[m];
T.onload=this.ati.bind(this);T.onerror=function(a){this.PX()}.bind(this);this.aky.push([T,b])}this.d1.value=null;
this.apo()};ap.prototype.apo=function(){var g=this.aky;if(g.length==0||this.P3)return;this.P3=!0;var o=g.shift();
o[0].readAsArrayBuffer(o[1])};ap.prototype.agA=function(g,o,k){this.df("Saving ...");this.eM=o;setTimeout(k.bind({zW:g,caller:this}),50)};
ap.__=function(g){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=new Uint8Array(g),y=k.length,d=y%3,b=y-d,T=[],a=0,t=0,j=0;
for(var m=0;m<b;m+=3){a=k[m];t=k[m+1];j=k[m+2];T.push(o[a>>2]+o[(a&3)<<4|t>>4]+o[(t&15)<<2|j>>6]+o[j&63])}if(d==1){a=k[b];
T.push(o[a>>2]+o[(a&3)<<4]+"==")}if(d==2){a=k[b];t=k[b+1];T.push(o[a>>2]+o[(a&3)<<4|t>>4]+o[(t&15)<<2]+"=")}var e=T.join("");
return e};ap.az5=function(g,o){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=new Uint8Array(64),a=0,t=0,j=0,v=0;
for(var m=0;m<64;m++)y[m]=k.charCodeAt(m);var d=new Uint8Array(g),b=o%3,T=o-b,e=new Uint8Array(Math.floor(o/3)*4+(b==0?0:4));
for(var m=0;m<T;m+=3){a=d[m];t=d[m+1];j=d[m+2];e[v]=y[a>>>2];e[v+1]=y[(a&3)<<4|t>>>4];e[v+2]=y[(t&15)<<2|j>>>6];
e[v+3]=y[j&63];v+=4}if(b==1){a=d[T];e[v]=y[a>>2];e[v+1]=y[(a&3)<<4];e[v+2]=61;e[v+3]=61}if(b==2){a=d[T];
t=d[T+1];e[v]=y[a>>2];e[v+1]=y[(a&3)<<4|t>>4];e[v+2]=y[(t&15)<<2];e[v+3]=61}return e};ap.prototype.ati=function(g){var o,k=g.target.sB;
if(g.target instanceof XMLHttpRequest)o=g.target.response;else o=g.target.result;ap.ZC(k,o,this,g.target.aaH);
this.PX();if(g.target instanceof XMLHttpRequest){this.cZ=!1;this.avR()}else{this.P3=!1;this.apo()}};
ap.a4K=function(g,o){var k=new XMLHttpRequest;k.open("POST","https://api.imgur.com/3/image",!0);k.lC=o;
k.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");k.setRequestHeader("Content-type","application/x-www-form-urlencoded");
k.setRequestHeader("Accept","application/json");k.addEventListener("load",ap.aaT);k.send("type=base64&image="+encodeURIComponent(ap.__(g)));
alert("Saving to Imgur ...",4e3)};ap.aaT=function(g){var o=JSON.parse(g.target.response);if(o.success){if(g.target.lC)g.target.lC(o.data.link);
else window.open(o.data.link,"Imgur")}};ap.prototype.m6=function(g,o,k){this.df();var y=new XMLHttpRequest;
y.responseType="arraybuffer";y.open("GET","https://f000.backblazeb2.com/file/"+(k?"pp-resources":"psdshared")+"/"+g);
y.onload=this.a3Q.bind(this);y.send();y.kB=[Date.now(),g,o?g:null,k]};ap.prototype.a3Q=function(g){var o=g.target.kB,k=new Uint8Array(g.target.response);
console.log(k.length+" B,",Date.now()-o[0]+" ms");for(var m=0;m<k.length;m++)k[m]=255-k[m];k=pako.inflateRaw(k);
var y=JSON.parse(S.IL(k,0,2e3));ap.ZC({name:y.name,ge:o[2]},k.slice(2e3).buffer,this);this.PX();if(!o[3])ap.yN("act=0&id="+o[1])};
ap.prototype.ajR=function(g,o,k,y){if(!(g instanceof ArrayBuffer))throw"e";g=new Uint8Array(g);var d=new Uint8Array(g.length+2e3),L="";
for(var m=0;m<2e3;m++)d[m]=32;S.Gg(JSON.stringify({name:o}),d,0);d.set(g,2e3);g=d;g=pako.deflateRaw(g);
for(var m=0;m<g.length;m++)g[m]=255-g[m];g=g.buffer;var b=g.byteLength,T=jg.Tc(b),a=~~(609e5/2),t=~~(209e5/2);
if(b>a){confirm("Your file is "+T+". Our limit is "+jg.Tc(a)+". Delete some layers and try again.");
return}if(b>t){var j=confirm("Your file is quite large ("+T+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!j)return}var e=sha1(g),v=[];for(var m=0;m<20;m++){var H=parseInt(e.slice(m*2,m*2+2),16);v.push(H);
L+=String.fromCharCode(H)}var w=btoa(L).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(ap.auF(w,y)){console.log("file already exists");
if(k)k(w);else window.open("https://www.photopea.com#i"+w);return}this.df("Publishing ...");var P=new XMLHttpRequest;
P.kB=[g,e,w,k,y];P.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+w+"&size="+b+"&bname="+y);
P.onload=this.anM.bind(this);P.send()};ap.auF=function(g,o){try{var k=new XMLHttpRequest;k.open("HEAD","https://f000.backblazeb2.com/file/"+o+"/"+g,!1);
k.send();if(k.status==200)return!0}catch(d9){return!1}return!1};ap.prototype.anM=function(g){console.log(g.target.response);
var o=JSON.parse(g.target.response),k=g.target.kB,y=new XMLHttpRequest;y.open("POST",o.uploadUrl);y.setRequestHeader("Authorization",o.authorizationToken);
y.setRequestHeader("X-Bz-File-Name",k[2]);y.setRequestHeader("Content-Type","b2/x-auto");y.setRequestHeader("X-Bz-Content-Sha1",k[1]);
y.send(new Blob([k[0]]));y.onload=this.acg.bind({mW:this,kB:k})};ap.prototype.acg=function(g){this.mW.PX("Publishing ...");
if(this.kB[3])this.kB[3](this.kB[2]);else window.open("https://www.photopea.com#i"+this.kB[2]);if(this.kB[4]=="psdshared")ap.yN("act=2&id="+this.kB[2]+"&fileId="+JSON.parse(g.target.response).fileId)};
ap.yN=function(g){var o=new XMLHttpRequest;o.open("GET","/papi/img/update.php?"+g+"&rnd="+Math.random());
o.send()};ap.save=function(g,o){var k=new Uint8Array(g),y=document.createElement("a");if(typeof y.download=="string"){var d=new Blob([k]),b=window.URL.createObjectURL(d);
y.href=b;y.download=o;document.body.appendChild(y);y.click();document.body.removeChild(y)}else{var T="data:application/octet-stream;base64,"+ap.__(g);
window.open(T)}};function im(){this.size=16;this.data=_.Q(16)}im.prototype.e6=function(g,o){if(g+o<=this.size)return;
var k=this.size;while(g+o>this.size)this.size*=2;var y=_.Q(this.size);for(var m=0;m<k;m++)y[m]=this.data[m];
this.data=y};var fo={};fo.PZ=function(g,o,k){var y=o.split(":"),d=y[0],b=null;if(y.length==2){if(d=="jpg")b=[Math.round(100*parseFloat(y[1]))];
if(d=="webp")b=[Math.round(100*parseFloat(y[1])),100,0,!1,!1];if(d=="psd")b=[!0,!0];if(d=="svg")b=y[1].split(",").map(function(a){return a=="true"})}var T=cp.hu(g,d.toUpperCase(),null,null,b,k);
return T};fo.abi=function(g,o,k){var y=g.PJ(),d=o[0];return fo.PZ(g,d,k)};fo.anv=function(){var g=this.zW,o=this.caller,k=g.Fd.Du,y=k.formats,d,b;
g.PJ();var T=Date.now();if(k.version==1){var a=[],t=0,e=0;for(var m=0;m<y.length;m++){var j=fo.PZ(g,y[m],o.eM);
a.push(j);t+=j.byteLength}d=new Uint8Array(2e3+t);var v="{ \"source\": "+JSON.stringify(g.YA)+", \"versions\": [\n";
for(var m=0;m<y.length;m++){var L=new Uint8Array(a[m]);v+="\t{\"format\": \""+y[m].split(":")[0]+"\", \"start\": "+e+", \"size\": "+L.length+" }"+(m+1<y.length?", ":"")+"\n";
d.set(L,2e3+e);e+=a[m].byteLength}v+="] }";var H=S.Gg(v,d,0);for(var m=H;m<2e3;m++)d[m]=32;b="application/octet-stream"}else{var w=new im,P=0,Q="",x=encodeURIComponent;
Q="p="+x("{ \"source\": "+JSON.stringify(g.YA)+", \"versions\": [");S.wJ(w,P,Q);P+=Q.length;for(var m=0;
m<y.length;m++){Q=x(" {\"format\": \""+y[m].split(":")[0]+"\", \"data\": \"");S.wJ(w,P,Q);P+=Q.length;
var j=fo.PZ(g,y[m],o.eM),F=ap.az5(j,j.byteLength),H=F.length;w.e6(P,H);for(var E=0;E<H;E++){w.e6(P,3);
var f=F[E];if(f==43){w.data[P]=37;w.data[P+1]=50;w.data[P+2]=66;P+=3}else if(f==47){w.data[P]=37;w.data[P+1]=50;
w.data[P+2]=70;P+=3}else if(f==61){w.data[P]=37;w.data[P+1]=51;w.data[P+2]=68;P+=3}else{w.data[P]=f;
P++}}Q=x("\" }"+(m+1<y.length?", ":""));S.wJ(w,P,Q);P+=Q.length}Q=x("] }");S.wJ(w,P,Q);P+=Q.length;d=w.data.slice(0,P);
b="application/x-www-form-urlencoded"}var c=new XMLHttpRequest;c.open("POST",k.url,!0);if(b)c.setRequestHeader("Content-Type",b);
c.addEventListener("load",fo.axF.bind(this));c.send(new Blob([d.buffer]))};fo.axF=function(g){this.caller.PX("Saving ...");
var o=g.target.response;if(o.charAt(0)=="{"){o=JSON.parse(o);if(o.newSource)this.zW.YA=o.newSource;if(o.message)alert(o.message,2e3);
if(o.script){var k=new jB(N.E.s,!0);k.data={P:N.b.Fz,cg:o.script};this.caller.S(k)}}else alert("Saved. Response: "+o,1500)};
fo.ay2=function(g){var o=g.JL,k=o[1].split(".").pop(),y=fo.PZ(g,k),d=Storage.atr(o[0]);d.a0b(o[1],y)};
fo.asJ=function(g,o){var k=g.mF.Gl;if(o==null)o=fo.PZ(g,k);i1.uC(function(){var y=new XMLHttpRequest,d="https://www.googleapis.com/upload/drive/v3/files/"+g.mF.file.id+"?uploadType=media"+"&"+i1.D0();
y.open("PATCH",d,!0);y.addEventListener("load",function(b){var T=JSON.parse(b.target.response);alert(T.name+" updated")});
y.send(o);alert("Saving \""+g.mF.file.name+"\" to Google Drive ...")})};fo.ZC=function(g,o,k,y){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fo.a9Z(g,o,k,y);
else{try{fo.a9Z(g,o,k,y)}catch(d9){if(d9=="low_ram"){}else{var d="Error. Please, send your file to support@photopea.com and we will solve it.";
if(cp.tW(o)=="eps")d="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(d,1e4)}}}};fo.a9Z=function(g,o,k,y){var d;if(g.name){var b=g.name.lastIndexOf(".");d=b==-1?b:g.name.slice(0,b)}else{if(g.url.substring(0,5)=="data:"||g.url.indexOf("googleapis")!=-1)d="image";
else d=g.url.substring(g.url.lastIndexOf("/")+1).split(".")[0];d=d.slice(0,50)}var T=g.name?g.name:g.url,a=new Uint8Array(o),t=cp.tW(o),j=window.gtag;
if(Math.random()<.25&&j&&t!=null&&cp.rJ(t))j("event",t,{event_category:"Formats"});if(t==null)t=S.lp(a,0,4);
if(T&&T.toLowerCase().endsWith(".raw")){var e=new jB(N.E.s,!0);e.data={P:N.b.xp,Pv:"importraw",wC:o,iV:T.split("/").pop()};
k.S(e);return}else if(t=="json"){var v="";for(var m=0;m<a.length;m++)v+=String.fromCharCode(a[m]);v=decodeURIComponent(escape(v));
var L=JSON.parse(v);if(L.name&&L.url){var e=new jB(N.E.s,!0);e.data={P:N.b.a1r,Z:L};k.S(e)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(L)}return}if(t=="html"){var v=S.IL(a,0,a.length),H=new DOMParser,w=H.parseFromString(v,"text/html"),P=w.getElementsByTagName("meta");
for(var m=0;m<P.length;m++){var Q=P[m],x=Q.getAttribute("property"),F=Q.getAttribute("content"),f=null;
if(x=="og:image")f=F;if(x==null&&F&&F.startsWith("0;url=/imgres?")){var c=F.slice(14).split("&");for(var M=0;
M<c.length;M++)if(c[M].startsWith("imgurl"))f=decodeURIComponent(c[M].slice(7))}if(f==null)continue;
var e=new jB(N.E.s,!0);e.data={P:N.b.VI,Q6:{url:f,Vs:!0,zT:g.zT}};k.S(e)}return}if(cp.rJ(t)){var n,X,u=cp.rJ(t);
if(g.zT!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(t)!=-1){var e=new jB(N.E.s,!0);if(0<=g.zT)e.data={P:N.b.ak,target:g.zT,LP:g.u$,po:o,Vw:d};
else{e=new jB(N.E.L,!0);e.data={P:p.ER,data:new Uint8Array(o),iV:d+"."+t};e.G=D.Jn}k.S(e);return}var I=[d,u,t,g,k,y,o];
if(u.nY){n=new dF(d+(t=="psd"?"":"-"+t)+".psd");u.pO(o,n,fo.PA,I)}else{X=u.pO(o,null,fo.PA,I,k)}if(u.s9!=!0)fo.PA(n,X,I);
else k.df();return}var r=new jB(N.E.s,!0);r.data={P:N.b.Kx,wC:o,PK:g.name};var J=g instanceof File&&g.am7!=!0,e=new jB(N.E.s,!0);
e.data={P:N.b.pB,Fd:"add",Q6:null,BH:null,awJ:g.am7};if(t=="zip"){var U=Date.now(),K=UZIP.parse(o),i="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var z in K){var h=!1;for(var m=0;m<i.length;m++)if(z.toLowerCase().endsWith("."+i[m]))h=!0;if(z.startsWith("__MACOSX/")||K[z].length==0)h=!0;
if(h)continue;var R=z.split("/").pop();fo.ZC({name:R},K[z].buffer,k,y)}}else if(t=="jsx"||T&&T.toLowerCase().endsWith(".jsx")){var v=S.IL(new Uint8Array(o));
e.data={P:N.b.Fz,cg:v};k.S(e)}else if(t=="otf"){if(J)k.S(r);var C=Typr.parse(o);e.data.Q6=er.tV;for(var m=0;
m<C.length;m++){e.data.BH=C[m];k.S(e)}}else if(t=="asl"){if(J)k.S(r);var C=kc.Qt(o);e.data.Q6=er.EB;
e.data.BH=C.Kp;k.S(e);e.data.Q6=er.fB;e.data.BH=C.ad;k.S(e)}else if(t=="tpl"){if(J)k.S(r);var C=dr.Qt(o);
e.data.Q6=er.Bj;e.data.BH={sc:C.sc,Uu:C.Uu,list:[]};k.S(e);if(C.aaq.length!=0){e.data.Q6=er.Yh;e.data.BH=C.aaq;
k.S(e)}if(C.ad.length!=0){e.data.Q6=er.fB;e.data.BH=C.ad;k.S(e)}e.data.Q6=er.zC;e.data.BH=C.list;k.S(e)}else{var G="";
for(var W in er.p7)if(er.p7[W][0]==t)G=W;if(G!=""){if(J)k.S(r);e.data.BH=er.p7[G][2].Qt(o,T);e.data.Q6=G;
k.S(e)}else alert("Unknown file format: "+JSON.stringify(t))}};fo.PA=function(g,o,k){var y=k[0],d=k[1],b=k[2],T=k[3],a=k[4],t=k[5],j=k[6];
if(d.s9)a.PX();if(!d.nY){if(o.length==0)return;if(o[0].t33421||o[0].t50706){_.raw.normalize(o[0],j);
console.log(o[0]);var e=new jB(N.E.s,!0);e.data={P:N.b.xp,Pv:"rawpea",Tq:o[0]};a.S(e);return}if(t){t(new Uint8Array(o[0].data),o[0].MR);
return}g=cp.kj(y,o)}g.ge=T.ge;g.i7=b;g.Fd=T.Fd;g.YA=T.url;g.xj=T.xj;g.mF=T.mF;g.UR=T.UR;g.JL=T.JL;if(g.mF)g.mF.Gl=b;
if(g.d.length!=0){var e=new jB(N.E.s,!0);e.data={P:T.zT==null?N.b.I8:N.b.ak,target:T.zT,LP:T.u$,po:g};
a.S(e)}};function bq(g){fR.call(this);this.Qc=bq.Qc++;this.aH=g;this.acY=this.awf.bind(this);this.aoG=this.a7o.bind(this);
this.aym=this.jD.bind(this);this.ald=this.a74.bind(this);this.ay7=this.amM.bind(this);this.a0y=this.a2i.bind(this);
this.Fl=0;this.a7n=0;this.auE=0;this.e=Z.t("div","panelblock");this.FW=Z.t("div","block");this.dz=Z.t("div","collapsed");
this.e.appendChild(this.FW);this.vX=-1;this.GF=!0;this.DR=Z.t("div","panelhead");this.FW.appendChild(this.DR);
this.J$(this.DR);this.Dv=new da("\u2261");this.Dv.e.setAttribute("style","position:absolute; right:0;");
this.Dv.h("click",this.akY,this);this.WJ=Z.t("div","body");this.FW.appendChild(this.WJ);this.fK=[];this.mg=null;
this.FP=null}bq.Qc=0;bq.prototype=new fR;bq.vq=26.1;bq.prototype.akY=function(g){var o=this.fK[this.vX].sW(),k=g.currentTarget.e.getBoundingClientRect();
o.f();o.update();o.parent=this;var y=new jB(N.E.s,!0);y.data={P:N.b.q$,w9:o,x:k.left,y:k.top+k.height+2};
this.S(y)};bq.prototype.M8=function(g){var o=this.FW,k=this.DR,y=this.WJ;if(Z.Hd(k))o.removeChild(k);
if(Z.Hd(y))o.removeChild(y);if(g==0)o.appendChild(k);o.appendChild(y);this.auE=g};bq.GK=function(g){g.stopPropagation();
g.preventDefault()};bq.prototype.awf=function(g){var o=g.dataTransfer.types;if(o[1]!=null&&o[1]!=this.Qc+"")return;
bq.GK(g);var cy=g.currentTarget;if(g.target==cy)Z.O9(cy,"highlight")};bq.prototype.a7o=function(g){bq.GK(g);
var cy=g.currentTarget;if(g.target==cy)Z.Iu(cy,"highlight")};bq.prototype.J$=function(g){g.addEventListener("dragenter",this.acY,!1);
g.addEventListener("dragleave",this.aoG,!1);g.addEventListener("dragover",bq.GK,!1);g.addEventListener("drop",this.aym,!1);
g.addEventListener("dragstart",function(o){o.dataTransfer.setData("Text","--panel");o.dataTransfer.setData(this.Qc+"","")}.bind(this),!1)};
bq.prototype.jD=function(g){this.aoG(g);var o=null,cy=g.currentTarget,k=this.apl(cy);if(cy==this.WJ&&this.vX!=-1)o=this.vX;
else if(cy==this.DR)o=null;else if(k!=-1)o=k;var y=g.dataTransfer.getData("Text");if(y==""||y.startsWith("http"))Z.Wf(g,this,o);
else if(y=="--panel"){var d=Z.YD(g,cy),b=this.fK,T=b.slice(0),m=this.vX,a=k==-1?b.length:d.x<cy.getBoundingClientRect().width/2?k:k+1;
if(m==a||m+1==a||cy==this.WJ)return;var t=m<a?a-1:a,j=b[m];b.splice(m,1);b.splice(t,0,j);Z.ew(this.DR);
for(var e=0;e<b.length;e++)this.DR.appendChild(b[e].BX);this.aL(t);var v=[];for(var m=0;m<b.length;m++)v[m]=T.indexOf(b[m]);
var L=new jB("shuffleItems",!1);L.data={azo:v};this.S(L)}else if(o!=null&&this instanceof hQ){var L=new jB(N.E.s,!0);
L.data={P:N.b.acu,a0x:o};this.S(L)}};bq.prototype.jB=function(){return null};bq.prototype.a9g=function(){if(this.jB()){this.DR.style.padding="0px";
this.FP=this.jB();this.WJ.appendChild(this.FP);this.Ro._C(!1);var g=new jB(N.E.s,!0);g.data={P:N.b.xE,Z:1};
this.S(g)}};bq.prototype.ao8=function(){if(this.FP){this.DR.style.padding="";this.WJ.removeChild(this.FP);
this.FP=null;this.Ro._C(!0);var g=new jB(N.E.s,!0);g.data={P:N.b.xE,Z:0};this.S(g)}};bq.prototype.apl=function(g){var o=this.fK;
for(var m=0;m<o.length;m++)if(o[m].BX==g)return m;return-1};bq.prototype.sE=function(){for(var m=0;m<this.fK.length;
m++)this.fK[m].wk.yQ()};bq.prototype.cR=function(){return this.vX};bq.prototype.E$=function(){if(this.GF)return;
this.GF=!0;this.e.removeChild(this.dz);this.e.appendChild(this.FW)};bq.prototype.collapse=function(){if(!this.GF)return;
this.GF=!1;this.e.appendChild(this.dz);this.e.removeChild(this.FW)};bq.prototype.vq=function(){var g=0;
if(this.auE==0){g=this.DR.getBoundingClientRect().height+1;g=Math.max(g,bq.vq)}return g};bq.prototype.aam=function(){return this.vq()+this.WJ.getBoundingClientRect().height};
bq.prototype.UC=function(g,o){this.DR.style.maxWidth=g+"px";var k=this.vq();if(this.vX!=-1)this.fK[this.vX].UC(g,o-k);
return o-k};bq.prototype.mt=function(g,o){if(this.vX!=-1)this.fK[this.vX].mt(g,o)};bq.prototype.I_=function(g,o,k){this.fK[this.vX].I_(g,o,k)};
bq.prototype.Lm=function(g){this.ao8();if(this.fK.indexOf(g)!=-1){this.aL(this.fK.indexOf(g));return}g.parent=this;
this.fK.push(g);this.DR.appendChild(g.BX);g.BX.addEventListener("mouseover",this.ald,!1);this.J$(g.BX);
this.dz.appendChild(g.wk.e);g.wk.h("click",this.afY,this);g.h("select",this.aoh,this);g.h(N.E.Hn,this.aaC,this);
this.aL(this.fK.length-1)};bq.prototype.a74=function(g){if(g.buttons==0)return;var o=g.currentTarget,k=o,m=0;
while((k=k.previousSibling)!=null)m++;this.a7n=m;o.addEventListener("mouseout",this.ay7,!1);this.Fl=setTimeout(this.a0y,700)};
bq.prototype.amM=function(g){var o=g.currentTarget,k=o,m=0;while((k=k.previousSibling)!=null)m++;o.removeEventListener("mouseout",this.ay7);
clearTimeout(this.Fl)};bq.prototype.a2i=function(g){this.S(new jB(N.E.ahw,!1))};bq.prototype.akh=function(g){return this.a7n};
bq.prototype.AS=function(m){var g=new jB(N.E.Hn,!1);g.data={kA:m};this.S(g);var o=this.fK[m];this.fK.splice(m,1);
this.DR.removeChild(o.BX);this.dz.removeChild(o.wk.e);o.BX.className="";o.wk.removeEventListener("click",this.afY,this);
o.wk.yQ();o.removeEventListener("activate",this.aoh);o.removeEventListener(N.E.Hn,this.aaC);var k=this.vX;
if(m<k)k--;else if(m==k&&m==this.fK.length)k--;this.aL(k);if(this.fK.length==0)this.a9g()};bq.prototype.al3=function(){return this.fK.length};
bq.prototype.au=function(){if(this.fK.length!=0)this.fK[this.vX].au()};bq.prototype.aL=function(g,o){if(o==null)o=!0;
for(var m=0;m<this.fK.length;m++)this.fK[m].BX.className="";if(this.mg)this.WJ.removeChild(this.mg);
this.mg=null;this.vX=g;if(g==-1)return;var k=this.fK[this.vX];this.mg=k.Yt;this.WJ.appendChild(k.Yt);
k.BX.className="active";if(!this.GF){this.S(new jB("showFloat"));this.fK[g].wk.sG()}if(o)this.S(new jB(N.E.A,!1));
k.Hz();var y=this.Dv.e;if(y.parentNode)this.DR.removeChild(y);if(k.sW())this.DR.appendChild(y);var d=new jB(N.E.s,!0);
d.data={P:N.b.z7};this.S(d)};bq.prototype.aoh=function(g){if(this.aH&&!this.aH.af6())return;var m=this.fK.indexOf(g.currentTarget);
this.aL(m)};bq.prototype.aaC=function(g){if(this.aH&&!this.aH.af6())return;var m=this.fK.indexOf(g.currentTarget);
this.AS(m)};bq.prototype.afY=function(g){var o=this.fK.indexOf(g.currentTarget.parent);if(this.fK[o].wk.sS())this.S(new jB("hideFloat"));
else this.aL(o)};bq.prototype.ass=function(g){this.S(g)};function hQ(g){bq.call(this,g);this.bW=0;this.GP=0;
Z.hO(this.DR,this.adD.bind(this));this.SK=0;this.a4$=this.as4.bind(this);this.J$(this.WJ);this.Aa=["default;"];
this.Ro=new Z.Je(this.WJ);this.Vp=new hE(!0);this.Vp.parent=this;this.bz=this.Vp.e;hE.KL(this.Vp)}hQ.prototype=new bq;
hQ.prototype.adD=function(g){if(g.target!=this.DR)return;var o=this.SK;this.SK=Date.now();if(Date.now()-o>300)return;
var k=new jB(N.E.s,!0);k.data={P:N.b.xp,Pv:"newproject"};this.S(k)};hQ.prototype.ED=function(g,o){if(o)this.Aa.push(g);
else{var k=this.Aa.length-1;if(this.Aa[k]==g)return;this.Aa[k]=g}this.z4()};hQ.prototype.aeW=function(){this.Aa.pop();
this.z4()};hQ.prototype.z4=function(){var g=this.Aa[this.Aa.length-1];this.Ro.I_(g,this.Ax)};hQ.prototype.mt=function(g,o){bq.prototype.mt.call(this,g,o);
this.Vp.mt(g,o);if(!g.wH){}};hQ.prototype.f=function(){bq.prototype.f.call(this);this.Vp.f()};hQ.prototype.I_=function(g,o){for(var m=0;
m<o.length;m++){var k=o[m];this.fK[m].X1(k.name+(k.kR()?" *":""))}bq.prototype.I_.call(this,g,o)};hQ.prototype.jB=function(){return this.bz};
hQ.prototype.UC=function(g,o){if(this.fK.length==0)o+=bq.vq-1;this.bW=g;this.GP=o;o=bq.prototype.UC.call(this,g,o);
this.Ax="height:"+o+"px; width:"+g+"px; overflow:hidden; position:relative;";this.z4();this.Vp.UC(g,o)};
hQ.prototype.Lm=function(g){bq.prototype.Lm.call(this,g);g.BX.addEventListener("click",this.a4$,!1)};
hQ.prototype.AS=function(m){var g=this.fK[m];Z.ZV(g.BX,this.a4$);bq.prototype.AS.call(this,m)};hQ.prototype.as4=function(g){var o=this.SK;
this.SK=Date.now();if(Date.now()-o>300)return;var k=this.apl(g.currentTarget),y=this.fK[k].po.name,d=new jB(N.E.s,!0),b={W:N.E.L,G:D.Jn,R:{P:p.n1}};
d.data={P:N.b.xp,Pv:"namewindow",Ad:y.slice(0,y.length-4),PV:b};this.S(d)};function gi(g){fR.call(this);
if(g)return;cN.ag2(1);this.e=Z.t("div","flexrow app");this.Nf=Z.t("div");this.e.appendChild(this.Nf);
setTimeout(function(){var k=window.hideCap;if(k)k()},25e3);this.Eq=new dj;window.addEventListener("blur",function(k){this.Eq.reset()}.bind(this),!1);
window.addEventListener("resize",this.j4.bind(this),!1);var o=this.Nf;this.qJ=new dB;this.qJ.parent=this;
o.appendChild(this.qJ.e);this.Pa=new aa;this.Pa.parent=this;o.appendChild(this.Pa.e);this.t$=new ip(!0);
this.t$.parent=this;o.appendChild(this.t$.e);this.h(N.E.s,this.Pq,this);this.gh=this.LH.bind(this);window.requestAnimationFrame(this.gh)}gi.prototype=new fR;
gi.prototype.LH=function(g){this.RI();window.requestAnimationFrame(this.gh)};gi.prototype.f=function(){};
gi.prototype.j4=function(g){var o=window.innerWidth,k=window.innerHeight;this.UC(o,k)};gi.prototype.UC=function(g,o){this.Pa.UC(g,o);
this.qJ.UC(g,o)};gi.prototype.Pq=function(g){var o=g.data.P;if(o==N.b.q$)this.Pa.ak5(g.data);if(o==N.b.TL)this.Pa.arJ(g.data);
if(o==N.b.lu)this.Pa.acH(g.data.Q4);if(o==N.b.xa)this.Pa.a7h(g.data.Q4);if(o==N.b.sU)this.Pa.pq()};function iJ(){gi.call(this);
this.Vk={x:0,y:0,_J:!1};this.db=!1;this.wz=!1;this.mw=null;this.ajh=0;this.ahO=!1;this.Az=0;window.onmessage=function(Q){if(Storage.a4t(Q.source))return;
if(Q.data instanceof ArrayBuffer){var x=cp.tW(Q.data),F=cp.rJ(x);ap.ZC({url:"file"},Q.data,this);if(F==null)this.MX()}else if(Q.data instanceof Object||Q.data.startsWith("{")||Q.data.startsWith("amp-")||Q.data.startsWith("0=goog")||Q.data.startsWith("3PCoo")){}else if(Q.data.startsWith("--ur ")){var E=Q.data.split(" ").pop(),u=null;
E=E.length==0?[]:E.split(",");console.log(E);var f=this.Oj.BH,c=new jB(N.E.s,!0);c.data={P:N.b.pB,Q6:er.YM,M$:E};
this.S(c);var M=E,n=f;if(n.length>M.length){var X=n;n=M;M=X}for(var m=0;m<M.length;m++)if(n.indexOf(M[m])==-1)u=M[m];
ap.yN("act=3&id="+u+"&dif="+(M==E?1:-1));alert((M==E?"Resource added.":"Resource removed.")+" "+u)}else if(Q.data.startsWith("--ot ")){this.qJ.Cw().close();
this.kV.m6(Q.data.split(" ").pop(),!0)}else if(Q.data.startsWith("--et ")){}else{var c=new jB(N.E.s,!0);
c.data={P:N.b.Fz,cg:Q.data};this.S(c);this.MX()}}.bind(this);window.onbeforeunload=function(Q){for(var m=0;
m<this._f.length;m++)if(this._f[m].kR())return this._f[m].name}.bind(this);window.setInterval(function(){var Q=this.qq();
if(Q==null)return;var x=(Date.now()-Q.f$)/6e4;if(this.Oj.v0==1&&Q.mQ!=Q.rK&&x>60){var F="You haven't saved your work ("+Q.name+") for "+Math.round(x)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",E=new jB(N.E.s);
E.data={P:N.b.xp,Pv:"confirm"};E.data.Z=F;E.data.H_=function(){var E=new jB(N.E.s);E.data={P:N.b.kG};
this.S(E)}.bind(this);this.S(E)}}.bind(this),30*60*1e3);var g=this,a="",t="";if(window.indexedDB&&(!hB.xy()||document.hasStorageAccess==null)){var o={e6:window.indexedDB.open("pp",1)};
o.e6.onupgradeneeded=function(Q){var x=Q.target.result,F=x.createObjectStore("rsrc",{keyPath:"k"})};
o.e6.onsuccess=function(Q){var x=g.Oj.Kc.qr=Q.target.result,F=x.transaction(["rsrc"],"readwrite").objectStore("rsrc"),E=F.get("fs0");
E.onsuccess=function(Q){if(Q.target.result){var f=g.Oj.Kc.vM=Q.target.result.fset;for(var c in f){if(!c.endsWith(".jsx"))ap.ZC({url:c,am7:!0},f[c],g)}}}}}var k=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],y=Z.Rx[hf.kK][hf.Od];
for(var m=0;m<k.length;m++){var d=Z.oI(k[m]);if(y.indexOf(d)!=-1){var b=Z.Rx[hf.kK][hf.WJ],T=Z.oI("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
Z.ew(b);b[hf.at6]=T;return}}this._={aow:[{G:D.aC,tp:!1,SW:[dj.a9p,dj.zY]},{G:D.vA,tp:!1,SW:[dj.zY]},{G:D.UO,tp:!0,SW:[dj.IQ],S_:[D.Ms]},{G:D.Ms,tp:!0,SW:[dj.IQ],S_:[D.UO]},{G:D.lz,tp:!0,SW:[dj.IQ],S_:[D.WH,D.Wh,D.B7]},{G:D.WH,tp:!0,SW:[dj.IQ],S_:[D.lz,D.XV,D.Xb,D.qD,D.QJ,D.CL]},{G:D.fL,tp:!0,SW:[dj.IQ]}],FU:[[{G:new D.Bt,G5:cT},{G:new D.gy,G5:k7}],[{G:new D.FZ,G5:bT},{G:new D.D7,G5:ko}],[{G:new D.nX,G5:b2},{G:new D.My,G5:hc},{G:new D.pG,G5:hy}],[{G:new D.UN,G5:kb},{G:new D.Vt,G5:ai},{G:new D.Ya,G5:bg}],[{G:new D.az9,G5:dQ},{G:new D.afO,G5:hd},{G:new D.We,G5:gv},{G:new D.Hl,G5:jd}],[{G:new D.Bz,G5:cZ},{G:new D.Ra,G5:kk}],[{G:new D.fl,G5:hO},{G:new D.cG,G5:fN},{G:new D.td,G5:iG},{G:new D.a8i,G5:bK},{G:new D.YG,G5:jz}],[{G:new D.HN,G5:dY},{G:new D.dT,G5:cP},{G:new D.zw,G5:c7}],[{G:new D.GG,G5:jE}],[{G:new D.e5,G5:h1},{G:new D.ja,G5:ey}],[{G:new D.Q2,G5:jo},{G:new D.eL,G5:jI}],[{G:new D.XI,G5:eH},{G:new D.Xf,G5:fp},{G:new D.Ux,G5:kj}],[{G:new D.st,G5:jU},{G:new D.e$,G5:gO},{G:new D.n2,G5:c5}],[{G:new D.vu,G5:a1},{G:new D.ayn,G5:a1}],[{G:new D.Lo(0),G5:gR},{G:new D.MC,G5:d5},{G:new D.Lo(1),G5:gR}],[{G:new D.h7,G5:cC},{G:new D.j5,G5:iC}],[{G:new D.Rect,G5:fY},{G:new D.rj,G5:gJ},{G:new D.Ee,G5:fi},{G:new D.sH,G5:h7},{G:new D.K0,G5:dx}],[{G:new D.Uv,G5:ge},{G:new D.T6,G5:gG}],[{G:new D.LT,G5:gY}]],Ob:[],keys:[dj.dA,dj.xw,dj.hb,dj.Z_,dj.qb,dj.QV,dj.h0,dj.rD,dj.B6,dj.E,dj.X6,null,dj.PS,dj.Of,dj.Sr,dj.b,dj.Df,dj.c2,dj.YT],dK:[{G:new D.a0v,G5:iL},{G:new D.atQ,G5:jc},{G:new D.ax3,G5:a4},{G:new D.Bz(!0),G5:cZ},{G:new D.k0,G5:eX}],iy:[{G:new D.WX},{G:new D.History},{G:new D.h8},{G:new D.Wn},{G:new D.zL},{G:new D.AF}],map:{},kx:null,aa:null,Vv:null};
for(var m=0;m<this._.FU.length;m++){var j=this._.FU[m];if(j=="---")continue;var e=this._.keys[m];for(var v=0;
v<j.length;v++){this._.map[j[v].G.id]=j[v];j[v].wY=m;j[v].acA=v;var L=d9.get(j[v].G.name);t+="<li>"+j[v].G.id+": "+L+"</li>";
a+="\t"+JSON.stringify(j[v].G.name)+", "+(e?"\""+e.Zq+"\"":"null")+", "+j[v].G.id+", // "+L+"\n"}this._.Ob[m]=0}for(var m=0;
m<this._.dK.length;m++)this._.map[this._.dK[m].G.id]=this._.dK[m];for(var m=0;m<this._.iy.length;m++)this._.map[this._.iy[m].G.id]=this._.iy[m];
this.Oj={a9r:!1,nE:null,mU:0,uq:{Uu:[],sc:[],list:[],Uc:null},pg:[],apS:[],ee:[],I6:[],V2:[],A6:[],aeA:[],aai:[],V2:[],y6:[gM.J0()],oz:[],YL:[],P$:null,qW:0,w1:{uF:1,si:JSON.parse(JSON.stringify(iZ.IS[0]))},VX:JSON.parse(JSON.stringify(iZ.X9.default)),agY:[null].concat(iZ.IS),aoJ:[null].concat(iZ.IS),At:new d_(function(Q){var x=new jB(N.E.s,!0);
x.data={P:N.b.VI,Q6:{url:"rsrc/fonts/"+Q}};this.S(x)}.bind(this)),u1:{n9:[],RY:null,by:null},font:null,xC:[],BH:[],a1T:{},p2:0,Pp:16777215,NV:!1,a5:!0,Nn:{HR:!0,l5:!1,VS:!0,p8:!0,fe:!0,mZ:!0,Cs:20,o9:0,zo:0,rx:0},$Y:!0,N$:[!0,!0,!1,!0,!0],C3:[0,1,2,3,5,6,7,9,10,16,17,100],bj:1,kN:!0,zJ:{},wH:!0,akV:!1,compact:!1,v0:1,bz:!0,Bh:null,Kc:{azm:!1,adJ:!1,vM:{},qr:null},ab1:0,a6G:null,gj:null,awU:null,bT:null};
this.azf={KU:new bd,QT:new bJ};this.Oj.u1=bw.arg();this.jH=new hn;this._0=new eq;this.QQ=new hq(this._,!0);
this.pt=new bz;this.VQ=new hQ(this);this._e=Z.t("div");this.gE=!1;this.fu=this.amS.bind(this);Z.O9(this.VQ.e,"mainblock");
this.t$.parent=this.jH.parent=this._0.parent=this.QQ.parent=this.pt.parent=this.VQ.parent=this;this.VQ.h(N.E.A,this.W9,this);
this.VQ.h(N.E.Hn,this.adh,this);this.VQ.h("shuffleItems",this.agM,this);this.VQ.h(N.E.ahw,this.ax5,this);
this.h("mouse",this.ay9,this);this.h(N.E.L,this.Ae,this);this.h(N.E.gp,this.aqv,this);document.body.addEventListener("keydown",this.Mf.bind(this),!1);
window.addEventListener("keyup",this.z8.bind(this),!1);window.addEventListener("paste",this.a5D.bind(this),!1);
window.addEventListener("copy",this.arS.bind(this),!1);window.addEventListener("wheel",function(Q){if(Q.ctrlKey)Q.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(Q){if(window.innerWidth>400)Q.preventDefault();
this.Oj.Bh=Q}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Q){if(Q.aei){console.log("Service worker installing")}else if(Q.a8F){console.log("Service worker installed")}else if(Q.active){console.log("Service worker active")}}).catch(function(Q){console.log("Registration failed with "+Q)})}this.Vz=0;
this._f=[];this.kV=new ap(fo.ZC);this.kV.parent=this;var H=this.Nf,w=this.Ci=Z.t("div");w.appendChild(this.jH.e);
w.appendChild(this._0.e);this.t$.apa(w);var P=this.a3k=Z.t("div","flexrow");H.appendChild(P);P.appendChild(this.QQ.e);
P.appendChild(this.VQ.e);P.appendChild(this.pt.e);this.kV.Ss({url:"rsrc/basic/basic.zip"});this.c9(D.fL);
fV.Iq(this.atu.bind(this))}iJ.prototype=new gi(!0);iJ.prototype.MX=function(g){var o=new jB(N.E.s);o.data={P:N.b.QW,Q6:g?g:"done"};
this.S(o)};iJ.prototype.atu=function(){Z.Rx[hf.On](this.apP.bind(this),Math.pow(Math.PI,8)+Z.Rx[hf.a5p][hf.a5W]()*1e4);
var g=fV.uQ();if(g!=null&&g.globals!=null)this.sn(g.globals);else{this.ahO=!0;var o=navigator.languages;
if(o&&o.length!=0){var k=o[0];d9.sT(k,this.fu)}}if(!this.Gq()){var y=Z.a1t();if(y==0)this.akV=!0;if(y==2)this.Oj.wH=!1;
if(y!=1&&Math.random()<.002)Z.ayI()}if(!hB.xy()||!this.Oj.wH){this.abM();this.KJ()}else{var d=Z.w5(Z.Rx[hf.Ge]);
d[hf.kq](hf.NQ,this.a3D.bind(this));d[hf.lM](Z.Np("61="),Z.Np("_MYOqDLGJa;A:6"));d[hf.dy]()}this.db=!0;
this.MX()};iJ.prototype.a3D=function(g){var o=JSON.parse(g.target[hf.gr]),k=Z.Rx[hf.s_][hf.atd]()/1e3,y=Z.Rx[hf.kK][hf.Od],d=!1;
for(var b in o)if(b.indexOf(".")!=-1&&y.indexOf(b)!=-1&&parseInt(o[b])>k)d=!0;if(d)this.Oj.wH=!1;this.abM();
this.KJ()};iJ.prototype.KJ=function(g){this.wz=!0;if(!this.Oj.bz)this.VQ.bz=null;else if(this._f.length==0)this.VQ.a9g();
this.ga(er.a_);this.f();this.j4();this.pt.I_(this.qq(),this._f,this.Oj)};iJ.prototype.sn=function(g){var o=this.Oj;
if(g.fcolor!=null)o.p2=g.fcolor;if(g.bcolor!=null)o.Pp=g.bcolor;if(g.rulers!=null)o.NV=g.rulers;if(g.extras!=null)o.a5=g.extras;
if(g.favFam!=null)o.xC=g.favFam;if(g.rsrc!=null)o.BH=g.rsrc;if(g.font!=null)o.u1.n9[0].Name=g.font;if(g.panels!=null)o.C3=g.panels;
if(g.as!=null)o.v0=g.as;if(g.eparams){var k=g.eparams,y=o.Nn;if(k.guides!=null)y.HR=k.guides;if(k.grid!=null)y.l5=k.grid;
if(k.gsize!=null)y.Cs=k.gsize;if(k.gunits!=null)y.o9=k.gunits;if(k.gtype!=null)y.zo=k.gtype;if(k.runits!=null)y.rx=k.runits;
if(k.sels!=null)y.VS=k.sels;if(k.paths!=null)y.p8=k.paths;if(k.pgrid!=null)y.fe=k.pgrid;if(k.slices!=null)y.mZ=k.slices}if(g.lang!=null)d9.sT(g.lang,this.fu);
if(g.theme!=null)o.bj=g.theme;if(g.topt||o.VR){var d=g.topt?g.topt:{},b=o.VR?o.VR:{};for(var T in this._.map){if(T>=103)continue;
var a="t"+T;if(d[a]||b[a])this._.map[T].G.b4(d[a],b[a],this)}}};iJ.prototype.abM=function(){if(this.Oj.a9r)return;
this.Oj.a9r=!0;var g=null,o=window.location.href,k=o.indexOf("="),y=o.indexOf("#");if(k!=-1)g=o.substring(o.indexOf("?")+1,k);
if(y!=-1&&y!=o.length-1){g="p";k=y}if(y!=-1&&o[y+1]=="i"){this.kV.m6(o.slice(y+2))}else if(y!=-1&&o[y+1]=="t"){this.kV.m6(o.slice(y+2).split("").reverse().join(""),!0)}else if(g=="p"||g=="state"){var d=o.substring(k+1,o.length);
d=JSON.parse(decodeURI(d));if(g=="p"){if(d.script=="alert(73)")this.Oj.wH=!1;if(d.script)dR.a0M(this);
if(d.server)this.mw=d.server;if(d.resources)for(var m=0;m<d.resources.length;m++)this.kV.Ss({url:d.resources[m]});
if(d.files)for(var m=0;m<d.files.length;m++)this.kV.Ss({url:d.files[m],Fd:{Du:d.server,alX:d.script}});
var b=d.environment;if(b==null)b={};if(b.plugins!=null)this.pt.al0(b.plugins);if(b.localsave!=null)this.Oj.kN=b.localsave;
if(b.customIO!=null)this.Oj.zJ=b.customIO;if(b.vmode!=null){var T=b.vmode;if(T==1)this.Oj.compact=!0;
if(T==2)this.M8(1)}if(b.intro!=null)this.Oj.bz=b.intro;if(b.menus!=null)this.Oj.a0j=b.menus;if(b.tmnu!=null)this.Oj.VR=b.tmnu;
if(b.panels!=null)this.Oj.C3=b.panels;if(b.showtools!=null){var a=b.showtools,t=a.indexOf(this.Oj.nE);
this.Oj.XM=a;if(t==-1)this.c9(a[0])}if(b.phrases!=null)d9.a1b(b.phrases);if(b.autosave!=null){this.Oj.v0=0;
window.setInterval(function(){var v=new jB(N.E.s);v.data={P:N.b.kG};this.S(v)}.bind(this),b.autosave*1e3)}if(b.icons!=null){for(var j in b.icons)if(b.icons[j].indexOf("\"")==-1){if((j==hf.a3z||j==hf.afb)&&this.Oj.wH)continue;
PIMG[j]=b.icons[j];PIMG["__"+j]=!0}}this.sn(b);if(d.files==null&&d.script){iA.dO(d.script,this);this.MX()}}else if(g=="state"){var e=this.kV;
if(d.action=="create"){var v=new jB(N.E.s);v.data={P:N.b.xp,Pv:"newproject",ajb:d.folderId};this.S(v)}if(d.action=="open"){for(var m=0;
m<d.ids.length;m++)i1.uC(function(){var H="https://www.googleapis.com/drive/v3/files/"+this.aoI,w=new XMLHttpRequest;
w.open("GET",H);w.setRequestHeader("Authorization",i1.hf());w.send();w.onload=function(P){var Q=JSON.parse(P.target.response);
e.Ss({url:H+"?alt=media",name:Q.name,mF:{file:Q,Gl:""},rw:{Authorization:i1.hf()}})}}.bind({aoI:d.ids[m]}));
alert("Loading files from Google Drive ...")}}}else{var L=window.launchQueue;if(L){var e=this.kV;L.setConsumer(function(H){var w=H.files;
console.log(w);for(var m=0;m<w.length;m++){var P=w[m];P.getFile().then(function(Q){e.ZT([Q],null,null,null,[P])})}})}}};
iJ.prototype.f=function(){var g=document.getElementById("cap");if(g){var o=!1,k=g.getElementsByTagName("h1")[0],b=0,a=0,t=0;
k.textContent=o?"Photopea":d9.get([0,17,0]);var y=g.getElementsByTagName("p"),d=Z.nV(d9.get([0,17,1])),T=["PSD","XCF","Sketch","XD","CDR"];
for(var m=0;m<T.length;m++)d=d.replace(T[m],"<b>"+T[m]+"</b>");if(!o)d+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
y[0].innerHTML=d;d=d9.get([0,17,2])+" "+d9.get([0,17,3]);for(var m=0;m<d.length;m++){var j=d[m];if(j=="<")a++;
if(j==">")t++}if(!o&&a*t==9){var e=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var m=0;m<3;m++){var v=d.indexOf("<",b),L=d.indexOf(">",b),H=d.slice(0,v)+"<a href=\""+e[m]+"\" target=\"_blank\">"+d.slice(v+1,L)+"</a>";
b=H.length;d=H+d.slice(L+1)}y[1].innerHTML=d}else y[1].innerHTML=d9.get([0,17,2])}var w=document.getElementById("sponsors");
if(w)w.textContent=d9.get([0,17,4]);this.t$.f();this.jH.f();this.pt.f();this.QQ.f();this.qJ.f();this.VQ.f();
for(var P in this._.map)if(this._.map[P].Nw)this._.map[P].Nw.f()};iJ.prototype.Gq=function(){return 4<Z.Rx[hf.Zw][hf.y$][hf.a46](hf.Np("'$!|"))};
iJ.prototype.UC=function(g,o){g=Math.floor(g);o=Math.floor(o);var k=Z.Np("WUMK&AM"),y=hf.Kt,d=Z.Rx[hf.kK],b=Math.max(g,window.screen.width),T=Math.max(o,window.screen.height),v=0;
if(this.rI==null)this.rI=Math.min(b,T)<500||b<750?0:b<1600?1:2;var a=this.rI,t=!this.wz||this.Gq()||!this.Oj.wH||fV.Ld()||a==0;
if(!t&&hB.xy()){if(this.a0H==null)this.a0H=Math.random()<.5;t=this.a0H}if(t){if(a!=0&&Z.Rx[k]&&this.wz)Z.Rx[k]()}else{if(a==0)o-=60;
else g-=a==1?180:320}gi.prototype.UC.call(this,g,o);if(t&&this.gE){this.e[hf.y8](this._e);Z.ew(this._e);
this.gE=!1}if(!t&&!this.gE){var j=function(w){if(Math.random()<.002){fV.event(hB.zy()?"gota_0":"gota_1")}this.a27(g,o);
var P=a==0?d[hf.WJ]:this.e;P.appendChild(this._e);this._e[hf.n8](y,Z.Np("_MMJLNDfKCAg")+(a==0?10:10)+Z.Np("_d$ebOS?I:==Ba-+# }$M"));
this._e[y][Z.Np("_MMJLND&<:E")]=(a==0?0:19)+Z.Np("_d");this._e[y][Z.Np("i5WJHX")]=a==0?0:1}.bind(this);
function e(){hB.a5i(j)}setTimeout(e,2300);this.gE=!0}if(Z.Hd(this.jH.e))v+=31;if(Z.Hd(this._0.e))v+=32;
this.t$.abS=this.Oj.wH&&this.wz;this.t$.UC(g,v);var L=o-v,H=Z.Np("_d");this._e[y][hf.aaj]=(a==0?100>>>1:o-11)+H;
this._e[y][hf.s5]=(a==0?g:6*Math.pow(10,2))+H;if(Z.Hd(this.QQ.e))this.QQ.UC(g,L);this.pt.UC(g,L);this.VQ.UC(g-this.QQ.qY()-this.pt.qY(),L)};
iJ.prototype.a27=function(g,o){var k=function(){var y=new jB(N.E.s);y.data={P:N.b.xp,Pv:"account"};this.S(y)}.bind(this);
hB.anP(g,o,this._e,k,this.rI)};iJ.prototype.arS=function(g){console.log("systemCopy")};iJ.prototype.a5D=function(g){if(Z.$T())return;
console.log("systemPaste");if(!g.clipboardData)return;var o=g.target.tagName.toLowerCase(),k=g.clipboardData.items;
if(k==null)return;var y=this.al$.bind(this);for(var m=0;m<k.length;m++){var d=k[m],b=d.getAsFile();if(d.type.indexOf("text")!=-1){d.getAsString(this.atk.bind(this))}if(d.type.indexOf("image")!=-1){if(b.size==this.Oj.ab1)return;
this.Oj.ab1=b.size;if(b){b.name="image.png";this.kV.ZT([b],y)}}}};iJ.prototype.atk=function(g){if(g.startsWith("http")){if(g==this.Oj.ajV)return;
this.Oj.ajV=g;var o=new jB(N.E.s,!0);o.data={P:N.b.VI,Q6:{url:g,Vs:!0}};this.S(o)}};iJ.prototype.al$=function(g,o){var k={buffer:g,rect:o},y=this.Oj;
if(Z.$T()){var d=this.azf,b=d.KU;if(b.m==o.m&&b.n==o.n){k.rect=b;k.QT=d.QT}}else{if(y.gj){var T=new jB(N.E.L,!0);
T.G=D.C1;T.data={P:"h_stepbck"};this.S(T)}}y.gj=k;var T=new jB(N.E.s,!0);T.data={P:N.b.qP,ale:!0};this.S(T)};
iJ.prototype.amI=function(){if(this.qJ.Cw()!=null)alert(d9.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
iJ.prototype.Ae=function(g){var o=this.qq();if(o==null){alert(d9.get([15,7,7]));return}var k=g.G==D.vA||g.G==D.aC;
if(this.qJ.tt()&&g.Yi!=!0&&!k){this.amI();return}var y=this._,d=this.Oj.nE,b=g.G;if(b==D.uk&&d==D.RC)b=D.RC;
if(d!=b&&y.map[d].G.tt()&&!k&&!(d==D.gX&&b==D.Gc)){console.log("disabling",d);y.map[d].G.disable(o,this,this.Oj,this.Eq)}var T=this._.map[b].G;
T.Ae(g.data,this,o,this.Eq,this.Oj)};iJ.prototype.aqv=function(g){var o=this.Oj;if(g.data.Qa!=!0)c_.aiz({J5:g.data.J5,fV:g.data.fV},this,o,this.qq());
var k=o.P$,y=o.YL;if(k==null)return;var d={atn:!1,h1:"Step",aw6:0,r:!0,exp:!1,J5:g.data.J5};if(k[2]==null)k[2]=y[k[0]].dd[k[1]].dd.length-1;
if(g.data.fV)d.fV=g.data.fV;y[k[0]].dd[k[1]].dd.splice(k[2]+1,0,d);k[2]++;this.ga(er.L)};iJ.prototype.Pq=function(g){if(this.akV){g.data=0;
return g.type}gi.prototype.Pq.call(this,g);var o=g.data.P;if(o==N.b.P9)c_.asg(this.qq(),this.Oj.YL,g.data.Q9[0],g.data.Q9[1],this);
if(o==N.b.acu){this.a4Y(g.data.a0x)}if(o==N.b.ag$){this.f();this.j4()}if(o==N.b.z7)this.j4();if(o==N.b.aaJ)if(this.Oj.Bh){this.Oj.Bh.prompt();
this.Oj.Bh=null}if(o==N.b.ih)this.VQ.ED(g.data.f8,g.data.push);if(o==N.b.acr)this.VQ.aeW();if(o==N.b.ahq)this.W9(null,g.data.dir);
if(o==N.b.jl)this.VQ.AS(this._f.indexOf(g.data.zW));if(o==N.b.xE){if(g.data.TR&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(g.data.TR)document.body.webkitRequestFullScreen();if(g.data.Z!=null)this.M8(g.data.Z)}if(o==N.b.axR){if(g.data._J)this.Eq.wy(g.data.auc);
else this.Eq.Oh(g.data.auc);this.Zl(g.data._J?"down":"up")}if(o==N.b.a1r){var k=g.data.Z;this.pt.al0([k]);
this.f()}if(o==N.b.mV){var y=this.qq(),d=y.PJ().slice(0),b=y.d[y.g[0]],T=new bd(0,0,y.m,y.n),a=dF.li()+"-d71c-11e5-b1ae-a548a96e5f9f",t=new jB(N.E.s,!0);
if(g.data.Q6==0){var j={name:y.name.split(".")[0],id:a,pR:[d,T]};t.data={P:N.b.pB,Fd:"add",Q6:er.EB,BH:[j]};
this.S(t)}if(g.data.Q6==1){var e=_.Q(T.O()*4);_.Sm(e,4294967295);_.l.I3("norm",d,T,e,T,T,1);var v=_.Q(T.O());
_.h4(e,v);_.TY(v);var L=_.P8(v,T);if(L.on())L=T;var H=_.Q(L.O());_.sQ(v,T,H,L);L.x=L.y=0;var w={KU:L,id:a,pR:[H,L]},P=jl.bZ(a),Q=P.Brsh.v;
Q.Dmtr.v.val=Math.max(L.m,L.n);Q.Spcn.v.val=10;t.data={P:N.b.pB,Fd:"add",Q6:er.Bj,BH:{list:[{t:"Objc",v:P}],sc:[w],Uu:[]}};
this.S(t);t.data={P:N.b.pB,Q6:er.Un,Bm:P};this.S(t)}if(g.data.Q6==2){var x=y.uM(),F=x[0][x[1][0]],f={xX:b.getName(),i8:a,a:F.add.vmsk.clone().a},c=_.w.HM(f.a),M=new d3(c.m,0,0,c.n,c.x,c.y);
M.TY();_.w.cs(f.a,M);c.x=c.y=0;f.rC=c.clone();t.data={P:N.b.pB,Fd:"add",Q6:er.Yh,BH:[f]};this.S(t)}}if(o==N.b.VI)this.kV.Ss(g.data.Q6);
if(o==N.b.RL){var n=g.data.afR,X=g.data._D;if(n!=!0&&X!=!0&&this.wx("open"))return;var u=this.VQ.cR();
if(X)u=-1-u;this.kV.a8I(n||X?u:null,g.data.a1S)}if(o==N.b.e3){var I=g.data.a12,r=g.data.pQ,J=this.jZ(I);
if(r){var U=I==er.Bj,K=[];for(var m=0;m<r.length;m++)K.push((U?J.list:J)[r[m]]);J=U?{Uu:J.Uu,sc:J.sc,list:K}:K}if(I==er.fB){var T=new dF;
for(var m=0;m<J.length;m++){var i=J[m].GO.Lefx;if(i)bs.ake(i,T,this.Oj.A6)}J={Kp:T.add.Patt?T.add.Patt:[],ad:J}}if(I==er.zC){var z=this.Oj.uq;
J={sc:[],Uu:[],list:J};console.log(J)}if(I==er.L)J=J[g.data.bi];var h=er.p7[I],d=h[2].Z0(J);ap.save(d,h[1]+"."+h[0])}if(o==N.b.Kx){var R=this.Oj.Kc,C=g.data.ayF;
if(R.qr&&!R.azm&&!C){R.adJ=window.confirm("Load \""+g.data.PK+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
R.azm=!0}if((R.adJ||C)&&R.qr){R.vM[g.data.PK]=g.data.wC;var t=new jB(N.E.s);t.data={P:N.b.pB,Q6:er.BG};
this.S(t)}}if(o==N.b.aji){var y=this.qq(),A="<!DOCTYPE HTML>";if(y==null)return;var G=cp.V$(y.PJ().buffer,y.m,y.n),W=window.open();
A+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";A+="<body><img src=\""+G+"\" /></body>";
A+="</html>";W.document.write(A)}if(o==N.b.Ay){if(this.wx("publishOnline"))return;var $=g.data.dv!="psd",y=this.qq();
if(y==null)return;if(!$&&y.ge)return;var O="Your picture will be published at "+($?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!$)O+=" We guarantee 6 months of storage (or more, if your file is opened often).";var Y=g.data.lC?!0:confirm(O);
if(Y){if(!$){var t=new jB(N.E.L,!0);t.G=D.Jn;t.data={P:p.Sb};this.S(t);var l=new bd(0,0,y.m,y.n);for(var m=0;
m<y.d.length;m++){var b=y.d[m];if(b.rect.on()||b.gT()||b.Qp()||b.ZB()||b.JW()||b.add.TySh||b.add.vmsk||b.add.SoLd)continue;
var B=l.Nm(b.rect);if(!B.ey(b.rect)&&!B.on()){var f4=_.Q(B.O()*4);_.g1(b.buffer,b.rect,f4,B);b.buffer=f4;
b.rect=B}if(!_.Ow(b.buffer,b.rect.m,b.rect.n))continue;var V=b.oa(),q=b.opacity,s=b.HW,cW=b.Le;b.qj(!0);
b.opacity=255;b.HW="norm";y.g=[m];t.data={P:p.Jq,dv:"jpg"};this.S(t);var dk=y.d[m];b.qj(V);dk.qj(V);
b.opacity=dk.opacity=q;b.HW=dk.HW=s,b.Le=dk.Le=cW}}if(y.yz){y.m5()}var kr=y.m,j9=y.n,bh=g.data.abJ,fe;
if(bh)while(Math.max(kr,j9)>bh){kr=kr>>>1;j9=j9>>>1}console.log(kr,j9);if(g.data.dv=="psd")fe=cp.hu(y,"psd",0,0,[!0,!0,!0]);
else if(g.data.dv=="png")fe=cp.hu(y,"png",kr,j9);else{var gg=cp.hu(y,"png",kr,j9),a$=cp.hu(y,"jpg",kr,j9);
fe=gg.byteLength<a$.byteLength?gg:a$}if($)ap.a4K(fe,g.data.lC);else this.kV.ajR(fe,y.name,g.data.lC,"psdshared")}}if(o==N.b.kG){var y=this.qq(),dg=!1;
if(y==null)return;if(y.yz){y.m5()}if(g.data.cK){if(!this.sb(y,g.data.cK))return;var d=fo.abi(y,g.data.cK,this.Oj);
this.MX(d);dg=!0}else if(y.xj){if(this._f.indexOf(y.xj.UD)!=-1){var d=new Uint8Array(cp.rJ("PSD").p0(y,null,null,[!0,!1])),t=new jB(N.E.L,!0);
t.data={P:p.ER,po:y.xj.UD,data:d,id:y.xj.aeM,iV:y.name};t.G=D.Jn;this.S(t);alert("Smart Object updated")}dg=!0}else if(this.wx("save")){dg=!0}else if(y.mF){fo.asJ(y);
dg=!0}else if(y.JL){fo.ay2(y);dg=!0}else if(y.Fd&&y.Fd.Du){if(!this.sb(y,y.Fd.Du.formats))return;this.kV.agA(y,this.Oj,fo.anv);
dg=!0}else if(y.UR&&"psd jpg png gif webp svg bmp".split(" ").indexOf(y.i7)!=-1){this.a6z();return}if(dg){y.rK=y.mQ;
y.f$=Date.now();y.nM=!0}else{var t=new jB(N.E.s,!0);t.data={P:N.b.UY};this.S(t)}}if(o==N.b.UY){if(!this.Oj.kN){alert("function is disabled");
return}if(this.wx("saveAsPSD"))return;var y=this.qq();if(y==null)return;if(!this.sb(y))return;var t=new jB(N.E.L,!0);
t.data={P:p.Sb};t.G=D.Jn;this.S(t);if(y.d.length>8e3&&!confirm("Your document has "+y.d.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var iv={_Q:[]};y.root.ahW([],iv);var aQ=iv._Q;if(aQ.length>11&&!confirm("One layer is nested "+(aQ.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+aQ.join(" \uD83E\uDC1A ")+"."))return;
var dt=window.showSaveFilePicker;if(window.parent!=window)dt=null;if(dt&&!g.data.a9U){var hY={suggestedName:y.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
dt(hY).then(function(g){y.UR=g;y.name=g.name;y.pP=!0;y.i7="psd";this.a6z()}.bind(this));return}var b9=window.gtag;
if(y.dV()&&b9)b9("event",y.i7+":"+Z.oI(fV.Ld()?"\"'|('61":"w'| "),{event_category:"Formats"});if(y.yz){y.m5()}if(g.data.a9U){var d=y.i7=="psd"?cp.rJ("PSD").p0(y):fo.PZ(y,y.i7,this.Oj);
this.a5T(d,y,this)}else{var d=cp.rJ("PSD").p0(y);ap.save(d,y.name);y.rK=y.mQ;y.f$=Date.now();y.nM=!0}}if(o==N.b.af)window.open(g.data.link,"_blank");
if(o==N.b.aur){if(this.qJ.tt()){this.amI();return}var y=this.qq(),b=y.d[y.g[0]],k=y.m9(b.add.SoLd.Idnt.v);
for(var m=0;m<this._f.length;m++){var i0=this._f[m].xj;if(i0!=null&&i0.aeM==k.UK&&i0.UD==y){this.VQ.aL(m);
return}}ap.ZC({name:k.iV,xj:{aeM:b.add.SoLd.Idnt.v,UD:y}},k.raw.buffer,this)}if(o==N.b.anI){var y=this.qq(),b=y.d[y.g[0]],k=y.m9(b.add.SoLd.Idnt.v);
ap.save(k.raw.buffer,k.iV)}if(o==N.b.adi){console.log(g.data);ap.ZC({name:g.data.JL[1].split("/").pop(),JL:g.data.JL},g.data.sP,this)}if(o==N.b.aoR){var y=this.qq();
y.JL=g.data.JL;y.name=y.JL[1].split("/").pop();var t=new jB(N.E.s);t.data={P:N.b.kG};this.S(t)}if(o==N.b.Eg){this.a3N()}if(o==N.b.cb){this.aat(g.data.BU,g.data.Fe,g.data.yq)}if(o==N.b.qP){this.amO(g.data.ale,g.data.bs,g.data.yq)}if(o==N.b.ap1){var gD=g.data.Z;
if(this.Oj.nE==D.uk&&this.Yr().tt()){var t=new jB(N.E.L,!0);t.G=D.uk;t.data={P:"insertText",Z:gD};this.S(t);
return}if(gD.startsWith("vcb;")){var hU=JSON.parse(gD.slice(4));hU[0]=gM.ss(hU[0]);var t=new jB(N.E.L,!0);
t.G=D.WH;t.data={P:"append",Y5:"Paste Paths",afD:hU};this.S(t)}else if(gD.startsWith("lrs;")){var aW=gD.split(";"),be=this._f[parseInt(aW[1])];
if(be==null)return;var hv=this.qq(),b3=be.g;be.g=JSON.parse(aW[2]);var gT=be.E2(null,be!=hv),t=new jB(N.E.L,!0);
t.data={P:p.Y6,d:gT,UD:be,zH:hv};t.G=D.Jn;this.S(t);be.g=b3}else if(gD.startsWith("<!--")||gD.startsWith("<svg")){var aB=S.vw(gD),bO=cp.rJ("svg"),T=new dF("image.psd");
bO.pO(aB.buffer,T);if(this._f.length!=0){var kf=T.d;if(kf.length==3&&kf[0].getName()=="</Layer group>"&&kf[2].gT())kf=[kf[1]];
var t=new jB(N.E.L,!0);t.G=D.Jn;t.data={P:p.Y6,d:kf,UD:T,zH:this.qq()};this.S(t)}else this.a3X(T)}}if(o==N.b.Fz){iA.dO(g.data.cg,this)}if(o==N.b.QW){if(window.parent!=window)window.parent.postMessage(g.data.Q6,"*");
this.pt.iz(g.data.Q6)}if(o==N.b.jz){var iY=parseFloat(g.data.Pv);if(this.Oj.C3.indexOf(iY)==-1){var t=new jB(N.E.s,!0);
t.data={P:N.b.pB,Q6:er.Jt,Z:iY,Fd:"add"};this.S(t)}this.pt.aj4(g.data.Pv)}if(o==N.b.cu){this.Pa.awg(this.qq(),this.Oj)}if(o==N.b.xp){var gs="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var m=0;m<gs.length;m+=2)if(g.data.Pv==gs[m]&&this.wx(gs[m+1]))return;if(!this.Oj.kN&&g.data.window=="saveforweb"){alert("function is disabled");
return}this.qJ.amQ(g.data.Pv,this.qq(),g.data,this._f,this.Eq)}if(o==N.b.hy)ap.save(g.data.data,g.data.name);
if(o==N.b.I8){if(!this.qJ.tt()||g.Yi)this.a3X(g.data.po)}if(o==N.b.ak){this.VQ.aL(g.data.target);var t=new jB(N.E.L,!0);
t.data={P:p.a7s,po:g.data.po,Vw:g.data.Vw,LP:g.data.LP};t.G=D.Jn;this.S(t);this.c9(D.nK)}if(o==N.b.an1){gl.yu=!gl.yu;
if(this._f.length>0)this.qq().U()}if(o==N.b.aga){var c1=fV.uQ();if(c1!=null&&c1.globals!=null)this.sn(c1.globals);
this.KJ()}if(o==N.b.Cv){this.kV.ZT(g.data.data,null,g.data.zT,g.data.u$,g.data.a2v)}if(o==N.b.v1){var gK=this.Yr();
if(!this.qJ.Cw()!=null)this.c9(g.data.G,g.data.Mq);var c4=this.Yr();if(c4!=gK&&g.data.axO)c4.Hu(this.qq(),this,this.Oj,this.Eq,this.Vk)}if(o==N.b.l0){if(this._.kx)this.c9(this._.kx)}if(o==N.b.Wx){var k6=this._.map[g.data.G].G,y=this.qq();
k6.mz(g.data,this,y,this.Eq,this.Oj);if(y)y.Qr=!0;this.ari()}if(o==N.b.l3){var jk=this._.map[g.data.G];
this.aw1(jk);jk.Nw.uv(g.data)}if(o==N.b.pB){var y=this.qq(),jt=g.data.Q6,j_=g.data.BH,kw=this.Oj;if(g.data.Fd=="set"){var c4=D.a0n(j_);
if(kw.nE!=c4)this.c9(c4);this._.map[c4].Nw.as5(j_,kw)}if(g.data.Fd=="add"){var h=er.p7[jt];if(jt==er.Jt){kw.C3.push(g.data.Z);
kw.C3.sort(function(id,jy){return id-jy})}else if(h==null){if(j_)kw.At.au6(j_,g.data.awJ);if(y)y.nM=!0}else{var eu=this.jZ(jt);
if(jt==er.Bj){eu.sc=eu.sc.concat(j_.sc);eu.Uu=eu.Uu.concat(j_.Uu);eu=eu.list;j_=j_.list}if(jt==er.fB&&y){for(var m=0;
m<j_.length;m++){var i=j_[m].GO.Lefx;if(i)bs.a0t(i,y,kw.A6)}}if(jt==er.zC&&j_==null){var T=this._.map[kw.nE].Nw.ayJ();
if(T==null)return;j_=[T]}for(var m=0;m<j_.length;m++)eu.push(j_[m]);if(jt==er.Yh){var ak={};for(var m=0;
m<eu.length;m++){var bG=eu[m].xX;while(ak[bG]!=null)bG=eu[m].xX=bG+"X";ak[bG]=!0}}if(g.data.awJ!=!0)if(eu.length!=j_.length||jt==er.DC||jt==er.fB||jt==er.JE||jt==er.L)alert(d9.get(h[3])+" "+d9.get([23,1])+".")}}if(g.data.Fd=="del"){if(jt==er.Jt){kw.C3.splice(kw.C3.indexOf(g.data.Z),1)}else{var h=er.p7[jt],r=g.data.pQ,eu=this.jZ(jt);
if(jt==er.Bj)eu=eu.list;for(var m=0;m<r.length;m++)eu[r[m]]=null;for(var m=0;m<eu.length;m++)if(eu[m]==null){eu.splice(m,1);
m--}alert(d9.get(h[3])+" deleted.")}}if(g.data.Fd=="rnm"){var h=er.p7[jt],eu=this.jZ(jt);if(jt==er.Bj)eu=eu.list;
if(eu[g.data.pQ[0]]==null)return;h[2].X1(eu[g.data.pQ[0]],g.data.Z)}if(jt==er.RX){var j5=g.data.Z;kw.w1=j5;
kw.agY[j5.uF]=j5.si}if(jt==er.AA){var j5=g.data.Z;kw.VX=JSON.parse(JSON.stringify(j5));var hI=j5.strokeEnabled.v,jJ=j5.strokeStyleContent.v,ca=hI?{uF:1+iZ.X9.V8.indexOf(jJ.classID),si:jJ}:{uF:0};
kw.aoJ[ca.uF]=ca.si}if(jt==er.N5){kw.qW=g.data.Z}if(jt==er.cw){kw.u1=g.data.u1}if(jt==er.Un){var f4=JSON.parse(JSON.stringify(g.data.Bm)),gI=f4.useBrushSize;
if(gI&&gI.v){f4.Brsh.v.Dmtr.v.val=kw.uq.Uc.Brsh.v.Dmtr.v.val;gI.v=!1}kw.uq.Uc=f4}if(jt==er.om){kw.xC=g.data.M$}if(jt==er.YM){kw.BH=g.data.M$}if(jt==er.wp){var c3,fs="Clrs";
if(g.data.cL<2){var eS=g.data.Z,bf=g.data.cL==0,ef=_.M.UF({o:eS>>>16,C:eS>>>8&255,k:eS&255});if(bf)kw.p2=eS;
else kw.Pp=eS;fs=bf?"FrgC":"BckC";c3={J5:"set",fV:{__name:"Set",classID:"setd",T:{t:"Objc",v:ef}}}}if(g.data.cL==2){var hh=kw.p2;
kw.p2=kw.Pp;kw.Pp=hh;c3={J5:"exchange",fV:{__name:"Exchange",classID:"Exch"}}}if(g.data.cL==3){kw.p2=0;
kw.Pp=16777215;if(y!=null&&y.g.length!=0&&y.d[y.g[0]].W1==1){var hh=kw.p2;kw.p2=kw.Pp;kw.Pp=hh}c3={J5:"reset",fV:{__name:"Reset",classID:"Rset"}}}if(c3){c3.fV.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:fs}}]};
var jk=this.Yr();jk.mW=this;jk.track(c3)}}if(jt==er.$j){kw.NV=!kw.NV;this.j4()}if(jt==er.fg){kw.a5=!kw.a5;
this.j4()}var fA=kw.Nn;if(jt==er.zO){fA.VS=!fA.VS;this.j4()}if(jt==er.VA){fA.p8=!fA.p8;this.j4()}if(jt==er.jE){fA.HR=!fA.HR;
this.j4()}if(jt==er.q1){fA.l5=!fA.l5;this.j4()}if(jt==er.tS){fA.fe=!fA.fe;this.j4()}if(jt==er.FS){fA.mZ=!fA.mZ;
this.j4()}if(jt==er.iu){kw.Nn=g.data.M$;this.j4()}if(jt==er.arp){kw.$Y=!kw.$Y;this.j4()}if(jt==er.WT){kw.N$[g.data.dQ]=!kw.N$[g.data.dQ];
this.j4()}if(jt==er.Xg){d9.BB(g.data.lang,this.fu)}if(jt==er.EV){kw.bj=g.data.bj;this.f()}if(jt==er.BG&&kw.Kc.qr){var jS=kw.Kc.qr.transaction(["rsrc"],"readwrite").objectStore("rsrc"),dn=jS.put({k:"fs0",fset:kw.Kc.vM});
dn.onerror=function(g){console.log(g);alert("Storing failed. Browser says: "+g.target.error.message,7e3)}}this.ga(jt)}};
iJ.prototype.a6z=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.lu,Q4:"Saving ..."};this.S(g);setTimeout(function(){var g=new jB(N.E.s,!0);
g.data={P:N.b.UY,a9U:!0};this.S(g)}.bind(this),20)};iJ.prototype.a5T=function(g,o){o.UR.createWritable().then(function(k){k.write(g);
return k}).then(function(k){return k.close()}).then(function(k){o.rK=o.mQ;o.f$=Date.now();o.nM=!0;var y=new jB(N.E.s,!0);
y.data={P:N.b.xa,Q4:"Saving ..."};this.S(y)}.bind(this)).catch(function(k){var y=new jB(N.E.s,!0);y.data={P:N.b.xa,Q4:"Saving ..."};
this.S(y)}.bind(this))};iJ.prototype.aj6=function(){var g=this.Oj,o=g.BH,k=g.a1T;for(var m=0;m<o.length;
m++){var y=o[m];if(k[y])continue;k[y]=!0;this.kV.m6(y,!1,!0)}};iJ.prototype.amS=function(){this.f();
this.j4()};iJ.prototype.wx=function(g){var o=this.Oj.zJ[g];if(o){var k=new jB(N.E.s,!0);k.data={P:N.b.Fz,cg:o};
this.S(k)}return o!=null};iJ.prototype.sb=function(g,o){var k=!0,T=15;if(o){k=!1;for(var m=0;m<o.length;
m++)if(o[m].startsWith(Z.Np("__M")))k=!0}var y=g.dV()||g.xj&&g.xj.UD.dV();if(this.Gq())y=!1;var d=new Z.Rx[hf.s_],b=(d[Z.oI("xy,b-66:")]()&1)*60+d[Z.Np("VQ]3LNRN<G")]();
if(y&&!fV.Ld()&&b>T&&k){var a=Z.Rx[Z.oI("}$z{2*35")][Z.oI("y'|!")],t=Z.Np("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
t+="\n\n"+Z.Np("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-b+120)+Z.Np("nYRTXTBMd");
if(a.indexOf(Z.oI("\"|'/-1)(W0?@"))==-1)t=d9.get([0,11+6,3+2]);Z.Rx._cwY(t);return!1}return!0};iJ.prototype.jZ=function(g){var o=this.Oj,k=[er.Bj,er.aB,er.L5,er.JE,er.EB,er.Yh,er.fB,er.DC,er.L,er.zC,er.hW],y=[o.uq,o.ee,o.I6,o.V2,o.A6,o.y6,o.oz,o.aeA,o.YL,o.pg,o.apS];
return y[k.indexOf(g)]};iJ.prototype.a3N=function(){var g=this.aat(),o=this.qq();if(o==null||o.g.length==0)return;
var k=o.d[o.g[0]],y=new jB(N.E.L);if(g==1){y.G=D.WH;y.data={P:"remove",Y5:"Cut Paths"}}else{y=new jB(N.E.gp);
y.data={J5:"delete"}}this.S(y)};iJ.prototype.aat=function(g,o,k){if(g==null)g=!1;var y=this.Oj;console.log("doCopy",g,o);
var d=this.qq();if(y.nE==D.uk&&this.Yr().tt()){var b=new jB(N.E.L,!0);b.G=D.uk;b.data={P:"copyText"};
this.S(b);return}if(d==null||d.g.length==0)return;var T=d.d[o==null?d.g[0]:o],a=d.uM(),t=a[0],j=a[1],e=t[j[0]];
if(!g&&e!=null&&e.add.vmsk.g.length!=0){var v=D.hz.sh(e.add.vmsk,e.add.vogk);if(Z.$T()){v[0]=gM.a8a(v[0]);
var L="vcb;"+JSON.stringify(v);ap.SN(new Blob([L],{type:"text/plain"}))}else y.bT=v;return 1}else if(d.J==null){if(Z.$T()){var L="lrs;"+this._f.indexOf(d)+";"+JSON.stringify(d.g);
ap.SN(new Blob([L],{type:"text/plain"}))}}else{var H,w;if(g){var P=new bd(0,0,d.m,d.n);w=P.Nm(d.J.rect);
H=_.Q(w.O()*4);_.g1(d.PJ(),P,H,w);_.Wy(d.J.channel,d.J.rect,H,w)}else if(d.kD.length!=0){w=d.J.rect.clone();
H=_.Q(w.O()*4);var Q=d.Tm[d.kD[0]],x=Q.aq(w);_.yr(x,H);_.e_(d.J.channel,H,3)}else{var F=T.Tl(d,d.J);
if(F==null){alert("Copied area is empty");return}H=F.sP;w=F.rect}var f=d.u.sv,c=f[0]+f[1]+f[2];if(c==1){var M=f.indexOf(1);
for(var m=0;m<H.length;m+=4)H[m]=H[m+1]=H[m+2]=H[m+M]}var n=new bJ(d.m,d.n);if(Z.$T()&&k!=!0){var X=cp.rJ("PNG").ao4(H.buffer,w.m,w.n);
ap.SN(new Blob([new Uint8Array(X)],{type:"image/png"}));this.azf={KU:w,QT:n}}else y.gj={buffer:H,rect:w,QT:n};
y.a6G=w.clone();y.bT=null}};iJ.prototype.amO=function(g,o,k){if(o)this.aoV=!0;console.log("doPaste");
var y=this.Oj,d=y.gj,t;if(this._f.length==0){if(!g&&Z.$T()){ap.Nx(this,null);return}if(d){var b=cp.kj("image.psd",[{data:d.buffer.buffer,MR:d.rect}]),T=new jB(N.E.s);
T.data={P:N.b.I8,po:b};this.S(T)}return}var b=this.qq();if(y.nE==D.uk&&this.Yr().tt()){ap.Nx(this,null);
return}var a=b.d[b.g.length==0?b.d.length-1:b.g[0]];if(y.bT){var j=b.uM(!0),e=j[0],v=j[1];t=e[v[0]]}var T=new jB(N.E.L,!0);
if(y.bT!=null&&t!=null){T.G=D.WH;T.data={P:"append",Y5:"Paste Paths",afD:y.bT}}else if(!g&&Z.$T()&&k!=!0){ap.Nx(this,this.al$.bind(this));
return}else{if(d==null)return;if(b.q0(!1)&&(b.u.sv.join("")!="111"||b.kD.length!=0||a.W1>0||a.rect.on())){T.G=D.Bj;
T.data={P:"draw",ajg:!0,Y5:[5,2]}}else{T.G=D.Jn;T.data={P:p.Fx,bs:this.aoV};this.aoV=!1}T.data.gj=d}this.S(T)};
iJ.prototype.af_=function(){var g=this.Oj.At;if(g.a8n())return;for(var m=0;m<this._f.length;m++){var o=this._f[m];
if(!il.WV(o,g,this))continue;if(o.Hi)il.a4R(o,g,this);var k=o.add.lnk2;if(k)for(var y=0;y<k.length;y++){var d=k[y];
if(d.Hi)D.WX.gD(o,d.UK,d.IG[1],d.IG[1],g)}if(o.avZ)continue;o.avZ=!0;if(o.Fd&&o.Fd.alX)iA.dO(o.Fd.alX,this);
this.MX();var b=new jB(N.E.L);b.G=D.Jn;b.data={P:p.vd};var T=new jB(N.E.s);T.data={P:N.b.jz,Pv:dv.PD.avN}}};
iJ.prototype.ga=function(g){this.aj6();var o=this.Oj,k=o.nE,T=!1;if(g==er.Un){if(this._.map[k].Nw)this._.map[k].Nw.mt(o,g)}else for(var y in this._.map)if(this._.map[y].Nw)this._.map[y].Nw.mt(o,g);
if(g==er.tV){if(k!=D.uk)this._.map[D.uk].G.mt(o,g);this.af_()}this.VQ.mt(o,g);this.QQ.mt(o,g);this.qJ.mt(o,g);
this.Yr().mt(o,g);this.pt.mt(o,g);this.jH.mt(o,g);if(g==er.EV||g==er.a_){cN.ag2(o.bj);this.update(!0)}var d=o.u1,b=d.RY.Font;
if(g==er.cw&&b!=null&&d.n9[b].Name!=o.font){o.font=d.n9[b].Name;T=!0}if([er.Jt,er.om,er.YM,er.wp,er.$j,er.fg,er.iu,er.jE,er.q1,er.zO,er.VA,er.tS,er.FS,er.Xg,er.EV].indexOf(g)!=-1||T)this.ari()};
iJ.prototype.ari=function(){if(!this.db)return;var g={},o=this._.map;for(var k in o){var y=o[k].G;if(y.PT&&y.PT()!=null)g["t"+k]=y.PT()}var d=this.Oj,b=d.Nn,T={fcolor:d.p2,bcolor:d.Pp,rulers:d.NV,extras:d.a5,favFam:d.xC,rsrc:d.BH,panels:d.C3,eparams:{guides:b.HR,grid:b.l5,sels:b.VS,paths:b.p8,pgrid:b.fe,slices:b.mZ,gsize:parseFloat(b.Cs.toFixed(2)),gunits:b.o9,gtype:b.zo,runits:b.rx},lang:d9.fX(),theme:d.bj,as:d.v0,topt:g};
if(d.font!=null)T.font=d.font;var a=fV.uQ();if(a==null)a={};a.globals=T;fV.Xc(a)};iJ.prototype.FT=function(g){var o=this.Eq,k=this.Vk,y=this.Oj.nE,d=this._.map[y].G,b=null,T=!1;
for(var m=0;m<this._.aow.length;m++){var a=this._.aow[m],t=!0;for(var j=0;j<a.SW.length;j++){var e=a.SW[j];
if(!o.z(e))t=!1}if(t&&(!a.tp||!d.tt())&&(a.S_==null||a.S_.indexOf(y)!=-1)){b=a.G;T=a.tp;break}}if((!k._J||y==D.mv||g)&&this._.aa!=b&&(b!=y||!T)){var v=this.qq();
if(this._.aa!=null&&b==null)this.Yr().disable(v,this,this.Oj,o,!0);this._.aa=b;this.Yr().enable(v,this,this.Oj,o,b!=null&&b!=y)}};
iJ.prototype.tn=function(g){var o=this.Oj.nE,k=this.qq();if(o!=null){this._.map[o].G.disable(k,this,this.Oj,this.Eq)}};
iJ.prototype.aw1=function(g){if(g.Nw==null){g.Nw=new g.G5;g.Nw.aiN(g.G.id,g.G.eh);g.Nw.mt(this.Oj,er.a_);
g.Nw.f()}};iJ.prototype.c9=function(g,o){if(g==D.nK&&this.qJ.Cw())return;var k=this.qq(),y=this.Oj;if(this._.map[g].G.ns(k,y)){this.tn();
if(g!=y.nE)this._.kx=y.nE?y.nE:D.fL;y.nE=g;this.QQ.c9(y.nE);var d=this._.map[g];this._.Ob[d.wY]=d.acA;
this.aw1(d);this._0.a6I(d.Nw);var b=d.G;b.enable(k,this,this.Oj,this.Eq,!1,o);if(k)k.Qr=!0;this.j4();
this.t$.axg()}};iJ.prototype.Yr=function(g){var o=this._,k=o.Vv,y=o.aa,d=this.Oj.nE;if(k)d=k;else if(y&&g==null)d=y;
return o.map[d].G};iJ.prototype.a3X=function(g){var o=this.Oj,k=this._f.indexOf(g);if(k!=-1){this.VQ.aL(k);
return}if(this.mw&&(g.Fd==null||g.Fd.Du==null)){g.Fd={Du:this.mw}}if(g.YA==null){g.YA="local,"+this.ajh+","+g.name;
this.ajh++}g.f$=Date.now();if(hB.zy()!=0&&!this.ahO&&Z.Rx[Z.oI("t$&!'31")].toString().indexOf(Z.oI(" u,$4&"))==-1){alert(Z.oI("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var m=0;m<g.d.length;m++){var y=g.d[m];if(y.add.SoLd!=null){var d=Date.now()}}var b=g.d.length,T=hf.bF(),a=Math.PI*(5465<<14)+(Z.h2(31)?20:10)*7e7;
if(T>a){var b=g.d.length;g.d=[];return b}if(gl.yu){gl.AG(Math.max(g.m,g.n));for(var m=0;m<g.d.length;
m++){var y=g.d[m];if(y.eT())gl.AG(Math.max(y.rect.m,y.rect.n))}}g.Tf();g.Kd();if(g.am2)g.arl();else g.U();
g.am2=!1;this._f.push(g);this.VQ.Lm(new fQ(g));g.Qr=!0;g.nM=!0;this.af_();var t=new jB(N.E.L);t.G=D.p4;
t.data={P:"auto",FN:2}};iJ.prototype.qq=function(){return this._f[this.Vz]};iJ.prototype.af6=function(){return this.qJ.Cw()==null};
iJ.prototype.W9=function(g,o){this.tn();var k=this._f.length;if(o!=null)this.VQ.aL((this.VQ.cR()+o+k)%k);
this.Vz=this.VQ.cR();var y=this.qq();this.jH.acN(y,this.Oj);this.pt.I_(y,this._f,this.Oj);this.j4();
if(y)y.Qr=!0};iJ.prototype.adh=function(g){this.tn();var o=this._f[g.data.kA];this._f.splice(g.data.kA,1);
if(this._f.length==0){this.W9(g);var k=gl.r8(),y=fQ.Z9.jO;if(k.parentNode)k.parentNode.removeChild(k);
if(y.parentNode)y.parentNode.removeChild(y)}};iJ.prototype.agM=function(g){var o=[],k=g.data.azo;for(var m=0;
m<k.length;m++)o[m]=this._f[k[m]];this._f=o;this.Vz=this.VQ.cR()};iJ.prototype.ax5=function(g){var o=this.VQ,k=o.akh(),y=this.Yr(),d=this.qq();
if(k==o.cR()||!y.a9w())return;this.a4Y(k,y)};iJ.prototype.a4Y=function(g,o){console.log("dup2doc");var k=this.Oj,y=this.VQ,d=this.qq(),b=this._f[g],T,a=new jB(N.E.L,!0);
a.G=D.Jn;if(d.J==null){a.data={P:p.Y6,d:d.E2(null,!0),UD:d,zH:b};this.S(a)}else T=d.d[d.g[0]].Tl(d,d.J);
var t=this.Vk,j=k.NV;k.NV=!1;t=d.u.mp(t.x,t.y);if(o)o.md(d,this,k,this.Eq);y.aL(g);if(d.J){a.data={P:p.Fx,gj:{buffer:T.sP,rect:T.rect}};
this.S(a)}t=b.u.gk(t.x,t.y);t.x+=49;t.y+=112;if(o)o.Hu(b,this,k,this.Eq,t);k.NV=j};iJ.prototype.ay9=function(g){var o=this.qq(),k=this.Eq,y=this.Oj,d=g.yR;
if(d)this.Vk=d;if(this.RP==null)this.RP=0;if(g.action=="multidown"){this.O6=g.fN.length;this.RP=Date.now()}if(g.action=="up"&&Date.now()-this.RP<100){var b=new jB(N.E.L);
b.G=D.C1;b.data={P:this.O6==2?"h_stepbck":"h_stepfwd"};this.S(b)}if(g.action.startsWith("multi")){var T=new jB(N.E.L,!0);
T.data={P:g.action,fN:g.fN};T.G=D.aC;this.S(T);return}var a=this._.map[D.fL].G;if((g.action=="down"||g.action=="rdown")&&y.nE!=D.fL&&this._.aa!=D.fL&&a.aw7(o,this,y,k,d)){this._.Vv=D.fL;
a.enable(o,this,y,k,!0)}if(g.action=="idown"){k.wy("Space");this.FT(!0);g.action="down"}var t=this.qJ.Cw(),j=t!=null&&t.xI()&&this._.aa==null?t:this.Yr();
if(g.action=="scroll"){var e=!k.z(dj.IQ)&&g.Kz,T=new jB(N.E.L,!0);T.data={P:"scroll",gl:g.gl.clone(),yR:d,a8E:e};
T.G=k.z(dj.M4)||e?D.aC:D.vA;this.S(T)}if(t!=null&&j!=t&&this.qJ.tt()&&j.id!=D.vA&&j.id!=D.aC)return;
if(g.action=="down")j.Hu(o,this,y,k,d);if(g.action=="rdown")j.OZ(o,this,y,k,d);if(g.action=="move")j.Sa(o,this,y,k,d);
if(g.action=="up"||g.action=="iup"||g.action=="cancellast")j.b9(o,this,y,k,d,g.action=="cancellast");
if(g.action=="rup")j.sF(o,this,y,k,d);if(g.action=="iup"){k.Oh("Space");this.FT(!0)}if(g.action=="cancellast"){if(o&&o.history.length!=0&&Date.now()-o.history[o.history.length-1].afS<200){var b=new jB(N.E.L);
b.G=D.C1;b.data={P:"h_stepbck"};this.S(b)}}var v=this.pt;if(g.action=="down")v.Hu(o,this,y,k,d);if(g.action=="move")v.Sa(o,this,y,k,d);
if(g.action=="up")v.b9(o,this,y,k,d);if(g.action=="down"||g.action=="up"){this.FT()}if(g.action=="down"||g.action=="up"||g.action=="ctx"){o.Qr=!0}if((g.action=="up"||g.action=="rup")&&this._.Vv){this._.Vv=null;
a.disable(o,this,y,k)}};iJ.prototype.RI=function(g){var o=this.qq(),k=this.Vk;if(o&&this.Yr().qd(k,this.Eq)){var y=o.u,d=y.dd.m,b=y.dd.n,T=0,a=0,t=16;
if(k.x<t)T=t-k.x;if(k.x>d-t)T=k.x-(d-t);if(k.y<t)a=t-k.y;if(k.y>b-t)a=k.y-(b-t);var j=this.Eq.z(dj.d_)?8:1;
if((T!=0||a!=0)&&(o.m*y.N>d||o.n*y.N>b)){T=Math.min(5,T*.5)*j;a=Math.min(5,a*.5)*j;if(!(k.x<t||k.y<t)){T=-T;
a=-a}y.Y.x+=T;y.Y.y+=a;this.ay9({yR:this.Vk,action:"move"});o.pP=!0}}this.update()};iJ.prototype.update=function(g){var o=this.qq();
if(o==null)return;if(o.Qr){var k=this._.map;for(var y in k){if(k[y].G.jF)k[y].G.jF(o,this,this.Oj,this.Eq)}}if(o.yz)if(gl.yu)gl.AG(Math.max(o.m,o.n));
if(o.yz){o.m5()}var d=o.u,b=this.Az,T=this.Az=Date.now();if(o.yz||o.cP||o.nM||o.pP||g||d.Tx!=d.N||!d.Ql.ey(d.Y)){var a=d.Tx;
if(d.Tx!=d.N){var t=D.LT.awO(d.N,d.Tx>d.N),j=.12;if(d.Tx<d.N&&d.Tx<t)d.Tx=t;if(d.Tx>d.N&&d.Tx>t)d.Tx=t;
var e=Math.abs(d.N-t)*(T-b)*.001/j;if(d.Tx<d.N)d.Tx=Math.min(d.N,d.Tx+e);else d.Tx=Math.max(d.N,d.Tx-e)}var v=a==d.N?0:(d.Tx-d.N)/(a-d.N);
d.Ql.x=d.Y.x+v*(d.Ql.x-d.Y.x);d.Ql.y=d.Y.y+v*(d.Ql.y-d.Y.y);this.VQ.mt(this.Oj,null);this.VQ.I_(o,this._f)}if((o.yz||o.pP||o.Qr)&&(!this.Vk._J||o.Z$)){if(o.Qr)o.Kd();
this.pt.I_(o,this._f,this.Oj);this.QQ.a4G(o,this.Eq);o.Cn=!1}o.Z$=!1;o.Qr=!1;o.yz=null;o.cP=o.nM=o.pP=!1};
iJ.prototype.Mf=function(g){var o=g.target.tagName.toLowerCase(),k=g.target.getAttribute("type"),y=dj,d=y.M0(g.code,y.zu);
if(!((o=="input"||o=="select"||o=="button")&&y.M0(g.code,y.EP))){if(y.to(g)){g.preventDefault()}this.Eq.wy(y.PE(g));
this.Zl("down")}};iJ.prototype.z8=function(g){if(g.key==" ")this.Eq.MT();if(dj.M0(g.code,dj.V9))this.Eq.reset();
this.Eq.Oh(dj.PE(g));var o=g.target.tagName.toLowerCase();if(dj.to(g)){g.preventDefault()}this.Zl("up")};
iJ.prototype.Zl=function(g){var o=this.Eq,k=this.qq(),y=k!=null&&k.g.length!=0;if(this.Pa.Cw()!=null){if(o.z(dj.bC)){this.Pa.aaA()}return}this.FT();
var d=this.Nk(dj.IQ),b=o.z(dj.M4),T=o.z(dj.d_);if(d&&o.z(dj.YT)&&g=="down"){var a=new jB(N.E.L),t=new jB(N.E.s);
a.G=D.C1;if(T){a.data={P:"h_stepfwd"}}else{a.data={P:"h_stepbck"}}if(this.qJ.Cw()!=null&&this.qJ.Cw().tt()){}else this.S(a)}if(d){var a=new jB(N.E.L),j=new jB(N.E.gp),t=new jB(N.E.s);
if(o.z(dj.QV)&&o.z(dj.Df)){t.data={P:N.b.xp,Pv:"storwindow"};this.S(t)}if(!b&&g=="down")for(var e in aj.keys){var v=aj.keys[e],L=!0;
for(var m=0;m<v.length;m++)if(!o.z(v[m]))L=!1;if(L){a.G=D.p4;if(e=="hue2"&&T&&k.d[k.g[0]].add.SoLd==null)a.data={P:"auto",FN:3};
else a.data={P:"start",JX:e}}}if(o.z(dj.b)){j.data=D.qT.ti(!0)}if(o.z(dj.qb)){if(b)t.data={P:N.b.xp,Pv:"csize"};
else if(k)t.data={P:N.b.cb,BU:T}}if(o.z(dj.g8)){j.data=D.qT.ti()}if(o.z(dj.E)&&g=="down"){if(T)j.data={J5:"mergeVisible"};
else j.data={J5:"mergeLayersNew",fV:{__name:"Merge Layers",classID:"Mrg2"}}}if(o.z(dj.NN)){if(T&&this.Oj.nE!=D.nK)t.data={P:N.b.xp,Pv:"afw_fade"};
else if(b){a.G=D.Gc;a.data={P:"applylast"}}else t.data={P:N.b.cu}}if(o.z(dj.X6)){if(b&&k&&k.WN(k.g[0])){a.G=D.Jn;
a.data={P:p.Uq}}else{a.G=D.Jn;a.data={P:p.Pw,CI:T}}}if(o.z(dj.c2)){t.data={P:N.b.pB,Q6:er.fg}}if(o.z(dj.QV)){if(T){a.data=null;
if(b)t.data={P:N.b.xp,Pv:"finfo"};else j.data={J5:"inverse"}}else if(b)t.data={P:N.b.xp,Pv:"isize"}}if(o.z(dj.h0)){j.data={J5:(T?"cut":"copy")+"ToLayer"}}if(o.z(dj.Oz)){t.data={P:N.b.xp,Pv:"preferences"}}if(o.z(dj.LY)){if(T){a.G=D.Jn;
a.data={P:p.IX}}else if(g=="down")t.data={P:N.b.xp,Pv:"newproject"}}if(o.z(dj.PS)){if(b)t.data={P:N.b.xp,Pv:"storwindow",fE:0};
else{t.data={P:N.b.RL};o.reset()}}if(o.z(dj.Sr)){t.data={P:N.b.aji};o.reset()}if(o.z(dj.PD)){t.data={P:N.b.pB,Q6:er.$j}}if(o.z(dj.B6)&&g=="down"){if(T){if(b)t.data={P:N.b.xp,Pv:"saveforweb"};
else t.data={P:N.b.UY}}else t.data={P:N.b.kG}}if(o.z(dj.Of)){if(T){a.G=D.nK;a.data={P:"again"}}else t.data={P:N.b.v1,G:D.nK}}if(o.z(dj.dA)){t.data={P:N.b.qP}}if(o.z(dj.Z_)){this.VQ.au()}if(o.z(dj.yW)&&k&&k.qo()){t.data={P:N.b.Eg}}if(o.z(dj.Ai)||o.z(dj.nL)){a.G=D.Jn;
a.data={P:p.m7,cL:0};if(o.z(dj.Ai))a.data.cL=T?3:2;else a.data.cL=T?0:1}if(o.z(dj.Og)&&k){a.G=D.Jn;a.data={P:p.HF}}if(o.z(dj.zu)&&k){var H=0;
if(T)H++;if(b)H+=2;a.G=D.ng;a.data={P:"frompath",Q9:[null,0,H]}}if(o.z(dj.mG)){j.data=D.Wz.Zi(0)}if(o.z(dj.EP)){var w=this._f.length,P=o.z(dj.d_)?-1:1;
if(w>1)this.VQ.aL((this.VQ.cR()+w+P)%w)}if(o.z(dj.Rc)){t.data={P:N.b.pB,Q6:er.jE}}if(o.z(dj.ej)){t.data={P:N.b.pB,Q6:er.q1}}D.LT.a8h(o,a);
if(this.qJ.Cw()!=null&&this.qJ.Cw().tt()){}else{if(a.data)this.S(a);if(j.data)this.S(j);if(t.data)this.S(t)}}if(!d&&b){var Q;
if(o.z(dj.Ai))Q="Bckw";if(o.z(dj.nL))Q="Frwr";if(o.z(dj.Og))Q="Back";if(o.z(dj.mG))Q="Frnt";if(Q){var j=new jB(N.E.gp);
j.data={J5:"select",fV:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:Q}}]},MkVs:{t:"bool",v:!1}}};
this.S(j)}}if(k&&k.g.length!=0){var x=k.d[k.g[0]],F=x.W1;if(F==1||F==3||d){var a=new jB(N.E.L),E=F==3?x.lQ(k).v:x.Qp();
if(E){var f=E.ao?k.u.sv.join("")=="111"?1:2:0;a.G=D.aC;if(E&&o.z(dj.bC)&&f!=0){a.data={P:"mskView",Z:0}}if(E&&o.z(dj.acO)){a.data={P:"mskView",Z:f==1?0:1}}if(E&&o.z(dj.a9o)){a.data={P:"mskView",Z:f==2?0:2}}if(a.data)this.S(a)}}}var c=o.Xo();
if(k&&d&&2<=c&&c<=5){var M=[1,1,1];if(c>2){M=[0,0,0];M[c-3]=1}var n=new jB(N.E.L,!0);n.G=D.vA;n.data={P:"setcls",sv:M};
this.S(n)}if(!o.z(dj.IQ)&&!b&&g=="down"){var a=new jB(N.E.L),t=new jB(N.E.s),X=this._.map[this.Oj.nE],u=-1;
for(var m=0;m<this._.keys.length;m++)if(this._.keys[m]&&this.Nk(this._.keys[m]))u=m;if(u!=-1){var I=null;
if(X.wY!=u)I=this._.Ob[u];if(X.wY==u&&T)I=(X.acA+1)%this._.FU[u].length;if(I!=null){var r=this._.FU[u][I].G.id,J=this.Oj.XM;
if((J==null||J.indexOf(parseInt(r))!=-1)&&!this.Vk._J)t.data={P:N.b.v1,G:r}}}if(o.z(dj.c2))t.data={P:N.b.v1,G:D.vA};
if(o.z(dj.PD))t.data={P:N.b.v1,G:D.rp};if(o.z(dj.yW))t.data={P:N.b.pB,Q6:er.wp,cL:2};if(o.z(dj.g8))t.data={P:N.b.pB,Q6:er.wp,cL:3};
if(t.data)this.S(t);if(o.z(dj.axx)&&k&&k.g.length==1){var x=k.d[k.g[0]];a.G=D.Jn;var U=x.RA(0)||x.RA(1)||x.RA(2)||x.RA(31);
a.data={P:p.hw,M$:U?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.S(a)}var c=o.Xo();if(y&&c!=-1&&this.Nk(dj.lm[c])){var K=k.g[0],x=k.d[K],i=dj.t1(Math.round(100*x.opacity/255),c);
a.G=D.Jn;a.data={P:p._z,M$:Math.round(255*i/100)};this.S(a)}var z=this.Oj.mU;if(o.z(dj.EP)){t.data={P:N.b.xE,Z:z==0?1:0};
this.S(t)}if(o.z(dj.NN)||o.z(dj.bC)&&z==2){var h=document.fullscreenElement!=null==(z==2);t.data={P:N.b.xE,Z:z==0?2:0,TR:h};
this.S(t)}if(o.z(dj.hL)&&!this.Vk._J){a.G=D.ng;a.data={P:"qmask"};this.S(a)}}if(!o.z(dj.IQ)&&!b&&T){var a=new jB(N.E.L),t=new jB(N.E.s);
if(o.z(dj.Og))t.data={P:N.b.xp,Pv:"shortcuts"};if(o.z(dj.WQ))t.data={P:N.b.xp,Pv:"fill"};if(o.z(dj.amB))t.data={P:N.b.xp,Pv:"sel_feather"};
if(y&&(o.z(dj.dk)||o.z(dj.Mt))){var K=k.g[0],x=k.d[K],R=h8.re,C=R.length,G=R.indexOf(x.HW);a.G=D.Jn;
a.data={P:p.FV,M$:(G+C+(o.z(dj.dk)?1:-1))%C};this.S(a)}if(t.data)this.S(t)}var a=new jB(N.E.L),W=g=="down"&&(this.Nk(dj.aS)||this.Nk(dj.uo));
if((d||b)&&W){a=new jB(N.E.gp);a.data=D.Ak.t3(d?"BckC":"FrgC");this.S(a)}else if(k&&W&&!this.Vk._J){if(k.J!=null){a=new jB(N.E.gp);
a.data={J5:"delete"}}else if(k.g.length!=0){var x=k.d[k.g[0]];if(x.W1==1)a.data={P:p.K7};else if(x.W1==3)a.data={P:p.eI};
else a.data={P:p.kP};a.G=D.Jn}this.S(a)}if(this.qJ.Cw()!=null){if(o.z(dj.bC)){this.qJ.Cw().anh()}else{this.qJ.Cw().Zl(k,this,this.Oj,o)}}if(this.Oj.nE==null)return;
var X=this.Yr();if(this.qJ.Cw()==null||this._.aa)X.Zl(k,this,this.Oj,o)};iJ.prototype.Nk=function(g){var o=this.Eq,k=this._.map[this.Oj.nE].G,top=this.qJ.Cw(),y=this.qq();
return o.z(g)&&!k.xg(g,y)&&(top==null||!top.xg(g,y))};iJ.prototype.M8=function(g){var o=this.a3k,k=this.Nf;
this.Oj.mU=g;var y=Z.Hd,d=this.jH.e;if(y(d))this.Ci.removeChild(d);var b=this._0.e;if(y(b))this.Ci.removeChild(b);
var T=this.QQ.e;if(y(T))o.removeChild(T);var a=this.VQ.e;if(y(a))o.removeChild(a);var t=this.pt.e;if(y(t))o.removeChild(t);
if(g==0){this.Ci.appendChild(d);this.Ci.appendChild(b);k.appendChild(o);o.appendChild(T);o.appendChild(a);
o.appendChild(t)}if(g==1){this.Ci.appendChild(d);o.appendChild(a)}if(g==2){o.appendChild(a)}this.VQ.M8(g==2?1:0);
this.j4()};iJ.prototype.apP=function(g){if(this.Gq())return 1;if(Z.a1t()==0){this.Oj={};this.UC=function(o,k){return Math.sqrt(o*k)}}return-1};
function it(g){fR.call(this);if(g==null)return;this.bW=null;this.GP=null;this.e=Z.t("div","sbar"+" "+g);
this.ku=new Z.t("div","top");this.ku.innerHTML="> <";this.e.appendChild(this.ku);this.Yq=1;this.ku.addEventListener("click",this.a2g.bind(this),!1)}it.prototype=new fR;
it.prototype.a2g=function(g){if(this.bW!=null&&this.bW<500&&this.Yq==0)return;if(this.Yq==0)this.E$(!0);
else this.collapse(!0)};it.prototype.awj=function(g){this.Yq=g;this.ku.innerHTML=this.Yq==0?"< >":"> <"};
it.prototype.aob=function(){var g=new jB(N.E.s,!0);g.data={P:N.b.z7};this.S(g)};it.prototype.E$=function(g){this.awj(1);
if(g)this.aob()};it.prototype.collapse=function(g){this.awj(0);if(g)this.aob()};it.prototype.nv=function(){return this.Yq==1};
function cV(g,o){it.call(this,"vcolumn");this.Yl=g;this.alS=o;this.HX();this.$L=Z.t("div");this.$L.setAttribute("style","cursor:default;");
this.akv=this.ap7.bind(this);this.apA=this.aoO.bind(this);this.af2=this.ai7.bind(this);Z.Fn(this.e,this.akv);
this.e.appendChild(this.$L);this.B0=Z.t("div");this.$L.appendChild(this.B0);this.fs=-1;this.anx=Z.t("div","float");
var k=this.Ar=Z.t("canvas","gsicon"),y=Math.round(12*Z.V());k.width=k.height=y;var d=k.getContext("2d");
d.moveTo(2,2);d.lineTo(y-2,y-2);d.moveTo(2,7);d.lineTo(y-7,y-2);d.stroke();this.Ar.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
Z.yP(this.Ar);Z.Fn(this.Ar,this.akv);Z.DB(k);this.KQ=[];this.Mn=[];this.a7y=null;this.Jy=null;this.ay4=0}cV.prototype=new it;
cV.prototype.ap7=function(g){var o=g.target==this.Ar;if(!o){if(g.target!=this.e)return;if(!this.nv())return}else{var k=this.KQ[this.fs].FW;
k.style.pointerEvents="none";var y=k.getBoundingClientRect();this.a7y=[y.width,y.height];this.Mn[this.fs]=[y.width,y.height]}g.stopPropagation();
this.Jy=Z.YD(g,document.body);this.ay4=this.Yl;Z.a$(document,this.apA);Z.hO(document,this.af2)};cV.prototype.aoO=function(g){var o=Z.YD(g,document.body);
if(this.nv()){this.Yl=this.ay4+this.Jy.x-o.x;this.HX()}else{var k=this.Mn[this.fs],y=this.a7y;k[0]=y[0]+this.Jy.x-o.x;
k[1]=y[1]+o.y-this.Jy.y}var d=new jB(N.E.s,!0);d.data={P:N.b.z7};this.S(d)};cV.prototype.ai7=function(g){if(!this.nv()){var o=this.KQ[this.fs].FW;
o.style.pointerEvents="auto"}Z.DO(document,this.apA);Z.ZV(document,this.af2)};cV.prototype.aiV=function(g){g.h("showFloat",this.a7Y,this);
g.h("hideFloat",this.mu,this);this.KQ.push(g);g.parent=this;this.$L.appendChild(g.e)};cV.prototype.a0L=function(m){var g=this.KQ[m];
g.removeEventListener("showFloat",this.a7Y,this);g.removeEventListener("hideFloat",this.mu,this);this.KQ.splice(m,1);
g.parent=null;this.$L.removeChild(g.e)};cV.prototype.a50=function(){return this.KQ.length};cV.prototype.sE=function(){for(var m=0;
m<this.KQ.length;m++)this.KQ[m].sE()};cV.prototype.a7Y=function(g){this.sE();var o=this.anx;this.B0.appendChild(o);
this.fs=this.KQ.indexOf(g.currentTarget);var k=this.KQ[this.fs].FW;Z.ew(o);o.appendChild(k);o.appendChild(this.Ar);
this.UC(this.bW,this.GP)};cV.prototype.mu=function(g){this.sE();if(this.fs!=-1){this.B0.removeChild(this.anx);
this.fs=-1}};cV.prototype.HX=function(){function g(o){return Math.round(o*Z.V())/Z.V()}this.e.setAttribute("style","width: "+this.Yl+"px; border-left-width:"+g(4)+"px; cursor:ew-resize;")};
cV.prototype.E$=function(g){this.HX();this.mu();for(var m=0;m<this.KQ.length;m++)this.KQ[m].E$();it.prototype.E$.call(this,g)};
cV.prototype.collapse=function(g){this.e.removeAttribute("style");for(var m=0;m<this.KQ.length;m++)this.KQ[m].collapse();
it.prototype.collapse.call(this,g)};cV.aey=11;cV.prototype.UC=function(g,o){this.bW=g;this.GP=o;o-=cV.aey;
var k=this.KQ.length;if(k==0)return;if(!this.nv()){var y=o<400?o:400+(o-400)*.5;for(var m=0;m<k;m++){var d=this.KQ[m],b=this.Mn[m];
d.UC(b?b[0]:this.Yl,b?b[1]:y)}}else{var T=o;for(var m=0;m<k;m++){var d=this.KQ[m],a=d.aam();if(m==k-1){a=T;
d.e.style.borderBottom="none"}d.UC(this.Yl,a);T-=a+4}}};function ip(g){fR.call(this);this.e=Z.t("div");
this.$L=null;this.Xk=0;this.lZ=0;this.a29=g;this.ayY=this.wt.bind(this);this.af$=this.XQ.bind(this);
this.a1q=this.zf.bind(this);this.Ej=null;this.R8=null;this.nR=null;Z.Fn(this.e,this.ayY);var o=this.e,y="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
o.addEventListener("touchmove",Z.mm,!1);this.abS=!0;this.dW=[];var k=this.am6=Z.t("div");k.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(k);var d=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",y+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",y+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",y+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var m=0;m<d.length;m++){var b=new da(d[m]);this.dW.push(b);b.e.setAttribute("style","margin-left:"+(m<7?4:0)+"px;cursor:pointer;");
b.h("click",this.D9,this)}}ip.prototype=new fR;ip.prototype.f=function(){var g=this.am6;Z.ew(g);for(var m=0;
m<this.dW.length;m++){var o=this.dW[m];if(m<5)o.f();g.appendChild(o.e)}};ip.prototype.D9=function(g){var m=this.dW.indexOf(g.currentTarget);
if(m==0){if(window.showCap)window.showCap();return}var o=" issues learn blog api twitter facebook".split(" "),k=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),y=window.ga;
if(y)y("send","event","Links",o[m]);var d=new jB(N.E.s,!0);d.data={P:N.b.af,link:k[m]};this.S(d)};ip.prototype.wt=function(g){if(g.a5v){g.preventDefault();
g.stopPropagation()}var o=window;Z.a$(o,this.af$);Z.hO(o,this.a1q);o=this.$L;this.Ej=new bJ(parseInt(o.style.left),parseInt(o.style.top));
this.R8=Z.YD(g,this.e);this.nR=o.getBoundingClientRect()};ip.prototype.XQ=function(g){var o=Z.YD(g,this.e),k=this.Ej.x+o.x-this.R8.x,y=this.Ej.y+o.y-this.R8.y,d=this.Xk-this.nR.width,b=this.lZ-this.nR.height;
if(this.a29)this.$L.style.left=Math.min(0,Math.max(d,k))+"px";else this.$L.style.top=Math.min(0,Math.max(b,y))+"px";
if(k-10>0){this.R8.x=o.x-10;this.Ej.x=0}if(k+10<d){this.R8.x=o.x+10;this.Ej.x=d}};ip.prototype.zf=function(g){var o=window;
Z.DO(o,this.af$);Z.ZV(o,this.a1q)};ip.prototype.apa=function(g){if(this.$L){this.e.removeChild(this.$L)}this.$L=g;
this.e.appendChild(g);g.style.position="absolute";if(this.a29)g.style.left=0;else g.style.top=0};ip.prototype.UC=function(g,o){this.Xk=g;
this.lZ=o;this.e.setAttribute("style","position:relative; width: "+g+"px; height: "+o+"px; overflow:hidden; white-space: nowrap; ");
var k=this.$L.firstChild,y=this.am6,d=k?k.firstChild.getBoundingClientRect().width+80:1e9,b=170,T=this.abS&&g>d+b;
y[hf.Kt][hf.a2H]=T?"":hf.ip;var a=this.dW;for(var m=0;m<a.length;m++){var t=m>4||g-d>500?"":hf.ip,j=a[m];
j.e.style.display=t}};ip.prototype.axg=function(){this.$L.style.left="0";this.$L.style.top="0"};function bz(){fR.call(this);
this.eM=null;this.C6=bz.Sr;this.ahB="";this.e=Z.t("div","rightbar");this.zR=[new cV(300),new cV(268,!0)];
this.KQ=[new bq,new bq,new bq,new bq,new bq,new bq,new bq];this.aiP=[]}bz.prototype=new fR;bz.prototype.f=function(){var g=this.C6;
for(var m=0;m<g.length;m++)g[m].w9.f()};bz.Sr=[{w9:new iF,Lr:3},{w9:new a3,Lr:1},{w9:new jh,Lr:4},{w9:new fZ,Lr:2},{w9:new i5(!0),Lr:5},{w9:new fu,Lr:0},{w9:new h9,Lr:5},{w9:new cn,Lr:3},{w9:new iB,Lr:0},{w9:new eA,Lr:3},{w9:new dT,Lr:2},{w9:new ct,Lr:4},{w9:new fI,Lr:3},{w9:new fr,Lr:5},{w9:new i5(!1),Lr:5},{w9:new gU,Lr:2},{w9:new aG,Lr:3},{w9:new f7,Lr:1},{w9:new h_,Lr:0},{w9:new aS,Lr:5},{w9:new e0,Lr:6,Xl:!0},{w9:new hM,Lr:6,Xl:!0},{w9:new eN,Lr:6,Xl:!0}];
(function(){var g=[{id:dv.PD.aq7,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var m=0;m<g.length;m++)bz.Sr.push({w9:new iW(g[m],100+m),Lr:6,Xl:!0})}());bz.prototype.al0=function(g){for(var m=0;
m<g.length;m++){var o=g[m],k=new iW(o,"plg_"+o.name);this.C6.push({w9:k,Lr:6});this.aiP.push(k.s1)}this.Y3()};
bz.prototype.mt=function(g,o){this.eM=g;var k=this.C6;for(var m=0;m<k.length;m++)k[m].w9.mt(g,o);if(o==er.Jt||o==er.a_)this.Y3()};
bz.prototype.iz=function(g){var o=this.C6;for(var m=0;m<o.length;m++)o[m].w9.iz(g)};bz.prototype.UC=function(g,o){this.bW=g;
this.GP=o;this.Y3();this.zR[0].UC(g,o);this.zR[1].UC(g,o)};bz.prototype.Y3=function(){var g=this.eM,o=this.bW,k=this.GP;
if(g==null||o==0)return;var y=g.C3.concat(this.aiP),d=o<500||o<700&&o<k,b=JSON.stringify(y)+","+d;if(b!=this.ahB){this.ahB=b;
Z.ew(this.e);var T=[];for(var m=0;m<this.zR.length;m++){var a=this.zR[m];T[m]=a.nv();while(a.a50()!=0)a.a0L(0);
a.E$()}var t=[];for(var m=0;m<this.KQ.length;m++){var j=this.KQ[m];j.E$();while(j.al3()!=0)j.AS(0);t.push(0)}for(var m=0;
m<y.length;m++){var e=this.a89(y[m].toString());if(e==null)continue;this.KQ[e.Lr].Lm(e.w9);this.KQ[e.Lr].aL(0);
t[e.Lr]++}var v=[];for(var m=0;m<t.length;m++){if(t[m]==0)continue;var L=m<3||d?1:0,a=this.zR[L];a.parent=this;
a.aiV(this.KQ[m]);v[L]=!0}for(var m=0;m<this.zR.length;m++)if(v[m])this.e.appendChild(this.zR[m].e);
this.zR[0].collapse();if(o<700||this.eM.compact||!T[1]){this.zR[1].collapse()}var H=new jB(N.E.s,!0);
H.data={P:N.b.z7};this.S(H)}};bz.prototype.a89=function(g){for(var m=0;m<this.C6.length;m++)if(this.C6[m].w9.s1==g)return this.C6[m]};
bz.prototype.aj4=function(g){var o=this.a89(g);this.KQ[o.Lr].Lm(o.w9)};bz.prototype.I_=function(g,o,k){var y=this.C6;
for(var m=0;m<y.length;m++)y[m].w9.I_(g,o,k)};bz.prototype.Hu=function(g,o,k,y,d){var b=this.C6;for(var m=0;
m<b.length;m++)b[m].w9.Hu(g,o,k,y,d)};bz.prototype.Sa=function(g,o,k,y,d){var b=this.C6;for(var m=0;
m<b.length;m++)b[m].w9.Sa(g,o,k,y,d)};bz.prototype.b9=function(g,o,k,y,d){var b=this.C6;for(var m=0;
m<b.length;m++)b[m].w9.b9(g,o,k,y,d)};function hq(g,o){it.call(this,"toolbar");this.e.removeChild(this.ku);
this.kL=Z.t("div","tools");this.e.appendChild(this.kL);this.XM=null;this.nE=null;this.al1=o;this.fO=null;
this.a65=-1;this.af0={};this.afA=g;this._=null;this.fK=null;this.rb=null;this.Ah=null;this.zt=new h3;
this.zt.e.style.marginTop="5px";this.zt.e.style.marginBottom="3px";this.zt.parent=this;this.xA=new da(Z.$l("lrs/mask"),!1,[6,6,1]);
this.xA.h("click",function(b){var T=new jB(N.E.L,!0);T.G=D.ng;T.data={P:"qmask"};this.S(T)},this);var k=new jZ(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
k.h(N.E.A,this.a72,this);var y=Z.t("span","rangecontFloat form padded");y.appendChild(k.e);y.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var d=document.body;this.a2C=[!1,!1,!1,!1];this.M2=new da(Z.$l("kb"),!1,"Virtual Keys");this.M2.h("click",function(b){var T=this.M2.e.getBoundingClientRect();
y.style.top=T.top-40+"px";y.style.left=T.left+T.width+8+"px";if(Z.Hd(y)){Z.eu({e:y},d)}else{d.appendChild(y);
Z.iH({e:y})}},this)}hq.prototype=new it;hq.prototype.a72=function(g){var o=g.target.c();this.M2.$(o[0]||o[1]||o[2]||o[3]);
var k=new jB(N.E.s,!0);for(var m=0;m<4;m++){if(o[m]!=this.a2C[m]){k.data={P:N.b.axR,_J:o[m],auc:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][m]};
this.S(k)}}this.a2C=o.slice(0)};hq.prototype.a4G=function(g,o){this.fO=o;if(g==null||g.g.length==0||g.d[g.g[0]]==null)return;
var k=g.xA()!=null,y=g.u.sv,d=g.d[g.g[0]].W1,b=d==1||d==3||k||y[0]+y[1]+y[2]==1;this.zt.az7(b);this.xA.$(k)};
hq.prototype.a42=function(g,o){var k=g.length,y=[];for(var m=0;m<k;m++)y[m]=g[m].slice(0);g=y;var d=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],b=Math.min(d.length/2,k-o);
for(var m=0;m<b;m++){var T=d[2*m],a=d[2*m+1];g[T]=g[T].concat(g[a]);g[a]=null}for(var m=0;m<g.length;
m++)if(g[m]==null){g.splice(m,1);m--}return g};hq.prototype.agU=function(g,o){for(var m=0;m<o.length;
m++)for(var k=0;k<o[m].length;k++)if(o[m][k].G.id==g)return m};hq.prototype.awA=function(g){var o=this.afA;
this.fK=[];this.rb=[];this.Ah=[];this._=[];var k=o.FU;if(g!=null&&this.al1)k=this.a42(k,g);var y=this.XM;
if(y){var d=[];for(var m=0;m<k.length;m++){var b=[];for(var T=0;T<k[m].length;T++){var a=k[m][T];if(y==null||y.indexOf(parseInt(a.G.id))!=-1)b.push(a)}if(b.length>0)d.push(b)}k=d}for(var m=0;
m<k.length;m++){var t=[],j=this.fK.length,e=null,v=-1;for(var T=0;T<k[m].length;T++){var a=k[m][T].G,L=this.agU(a.id,o.FU),H=o.keys[L];
if(H==dj.c2&&T==1)H=dj.PD;this._.push(a);var w=new af(a.name,H,a.eh,this.fK.length,m,k[m].length>1);
this.fK.push(w);var P=this.af0[a.id];if(P==null)P=0;if(P>v){v=P;e=w}w.h(N.E.A,this.pa,this);w.h("mover",this.BO,this);
t.push({name:a.name,vl:a.eh,SW:H?H.Zq:""})}this.rb.push(e);this.Ah.push(t.length==1?null:[t,j])}};hq.prototype.UC=function(g,o){var k=this.GP=o,y=32;
if(1<Z.V()&&Z.V()<1.5)y=18+14*(1/Z.V());var d=39+23,b=Math.floor((k-d)/y);if(b!=this.a65){this.a65=b;
this.awA(b);this.c9()}var T=this.rb.length*y+d,a=Math.min(1,k/T);if(.75<=a){this.kL.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+a+","+a+");");
this.e.setAttribute("style","height:"+(o-2)+"px; overflow:hidden;")}else{k-=4;this.kL.setAttribute("style","height: "+k+"px;  width:"+Math.ceil(T/k)*34+"px");
this.e.setAttribute("style","")}};hq.prototype.f=function(){if(this._==null)return;for(var m=0;m<this.fK.length;
m++)this.fK[m].f()};hq.prototype.pa=function(g){var o=new jB(N.E.s,!0);o.data={P:N.b.v1,G:this._[g.id].id};
this.S(o)};hq.prototype.aoS=function(g){var o=g.target.a2q+g.target.Ny()[0];this.fK[o].zf(null,!0)};
hq.prototype.BO=function(g){var o=this.fO,k=new jB(N.E.s,!0);k.data={P:N.b.sU};this.S(k);var y=g.target,d=this.Ah[y.wY];
if(d==null)return;var b=new iU(d[0],null,!0);b.a2q=d[1];b.wY=y.wY;b.h("select",this.aoS,this);b.parent=this;
b.f();var T=y.e.getBoundingClientRect(),k=new jB(N.E.s,!0);k.data={P:N.b.q$,w9:b,x:T.left+T.width+8,y:T.top};
if(o==null||!(o.z(dj.zY)||o.z(dj.IQ)))this.S(k)};hq.prototype.c9=function(g){if(g==null)g=this.nE;this.nE=g;
if(this._==null)return;this.af0[g]=Date.now();var o=-1;for(var m=0;m<this._.length;m++)if(this._[m].id==g)o=m;
for(var m=0;m<this.fK.length;m++){var k=this.fK[m];k.abF(o==m)}if(o==-1)return;this.rb[this.fK[o].wY]=this.fK[o];
Z.ew(this.kL);var y=this.rb;for(var m=0;m<y.length;m++){this.kL.appendChild(y[m].e)}if(!this.al1)return;
this.kL.appendChild(this.zt.e);if(this.GP>640)this.kL.appendChild(this.xA.e);this.kL.appendChild(this.M2.e)};
hq.prototype.mt=function(g,o){if(o==er.a_&&g.XM){this.XM=g.XM;this.awA();this.c9()}this.zt.aoU(g.p2,g.Pp)};
function af(g,o,k,y,d,b){fR.call(this);this.Fl=0;this.jG=this.akD.bind(this);this.wY=d;this.HV=y;this.AZ=g;
this.kb=o;this.anr=b;this.eh=k;this.e=Z.t("button","");this.e.innerHTML=Z.$l(this.eh);if(this.anr){var T=Z.t("img","gsicon");
T.setAttribute("src",PIMG["tools/corner"]);T.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.e.appendChild(T)}this.e.addEventListener("touchstart",Z.mm,!1);this.f();Z.Fn(this.e,this.wt.bind(this));
Z.hO(this.e,this.zf.bind(this));this.e.addEventListener("contextmenu",this.jG,!1);this.e.addEventListener("contextmenu",af.GK,!1)}af.prototype=new fR;
af.GK=function(g){g.stopPropagation();g.preventDefault();return!1};af.prototype.f=function(){var g=this.kb?" ("+this.kb.Zq+")":"";
this.e.setAttribute("title",d9.get(this.AZ)+g)};af.prototype.wt=function(g){af.Pt=this.HV;this.Fl=setTimeout(this.jG,160)};
af.prototype.zf=function(g,o){if(o==null&&af.Pt!=this.HV)return;clearTimeout(this.Fl);var k=new jB(N.E.A,!1);
k.target=this;k.id=this.HV;this.S(k)};af.prototype.akD=function(g){var o=new jB("mover",!1);o.target=this;
o.id=this.HV;this.S(o)};af.prototype.abF=function(g){this.e.className=g?"toolbtn active":"toolbtn"};
function hn(){fR.call(this);this.e=Z.t("div","topbar");this.nU=Z.t("span","");this.abb=0;this.e.appendChild(this.nU);
this.xR=null;this.dR=null;this.t6=[];this.C3=[];var g=this.wt.bind(this);for(var m=0;m<hn.data.length;
m++){var o=Z.t("button");this.t6.push(o);this.nU.appendChild(o);o.addEventListener("mouseover",g,!1);
Z.Fn(o,g)}this.eZ=new da([0,13,0],!1,null,!0);this.eZ.h("click",this.oe,this);this.e.appendChild(this.eZ.e);
this.OT=new da(Z.$l("tools/zoom",null,"autoscale"),!1,[12,86]);this.OT.h("click",this.oe,this);this.e.appendChild(this.OT.e);
this.Ky=new da("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Ky.h("click",this.oe,this);this.e.appendChild(this.Ky.e)}hn.prototype=new fR;hn.prototype.awL=function(){if(this.C3.length!=0)return;
for(var m=0;m<hn.data.length;m++){var g=hn.data[m],o=new iU(g.items,g.MP);o.parent=this;this.C3.push(o)}this.f()};
hn.prototype.f=function(){this.eZ.f();this.OT.f();this.Ky.f();for(var m=0;m<this.t6.length;m++)this.t6[m].textContent=d9.get(hn.data[m].name);
this.asK();for(var m=0;m<this.C3.length;m++)this.C3[m].f()};hn.prototype.oe=function(g){var o=new jB(N.E.s,!0);
if(g.target==this.eZ)o.data={P:N.b.xp,Pv:"account"};else if(g.target==this.OT)o.data={P:N.b.cu};else o.data={P:N.b.xE,TR:!0};
this.S(o)};hn.prototype.acN=function(g,o){this.xR=g;this.dR=o};hn.prototype.mt=function(g,o){this.dR=g;
if(o==er.a_){var k=g.a0j;Z.ew(this.nU);for(var m=0;m<this.t6.length;m++){if(k==null||k[m]==1||k[m]instanceof Array)this.nU.appendChild(this.t6[m]);
if(k!=null&&k[m]instanceof Array){this.awL();this.C3[m].avv(k[m])}}this.e.removeChild(this.eZ.e);this.e.removeChild(this.OT.e);
this.e.removeChild(this.Ky.e);if(g.wH)this.e.appendChild(this.eZ.e);this.e.appendChild(this.OT.e);this.e.appendChild(this.Ky.e)}this.asK()};
hn.prototype.asK=function(g,o){var k=this.eZ,y=12255232;if(fV.hA())y=fV.Ld()?43520:16755200;k.e.setAttribute("style","color:#ffffff; background-color:#"+_.Mb(y))};
hn.prototype.wt=function(g){this.awL();var m=this.t6.indexOf(g.currentTarget),o=this.C3[m];if(g.type=="mouseover"&&!Z.Hd(this.C3[this.abb].e))return;
if(Z.Hd(o.e))return;g.a5v=!0;this.abb=m;for(var m=0;m<hn.data.length;m++)this.C3[m].update(this.xR,this.dR);
var k=g.target.getBoundingClientRect(),y=new jB(N.E.s,!0);y.data={P:N.b.q$,w9:o,x:k.left,y:k.top+k.height+2,a0f:!0};
this.S(y)};hn.akl=function(g){var o=dj,k=o.IQ,y=o.d_,d=o.M4,b=function(j){return{r:j!=null}},T=function(j){return{r:j!=null&&j.J!=null}},a={name:[0,5],items:[{name:[7,0],r:b,SW:[k,o.b]},{name:[7,1],SW:[k,o.g8],r:T},{name:[7,2],SW:[y,k,o.QV],r:T,_r:!0},{name:[7,8],r:b,Hk:!0},{name:[7,13],Hk:!0,r:function(j){return{r:j!=null&&j.g.length!=0&&!j.d[j.g[0]].rect.on()}},_r:!0},{name:[7,11],Hk:!0,r:function(j){return{r:j!=null&&j.g.length!=0&&!j.d[j.g[0]].rect.on()}}},{name:[7,3],r:b,_r:!0,sub:[{name:[7,9],Hk:!0,r:T},{name:[19,3,0],Hk:!0,r:T},{name:[7,4],Hk:!0,r:T},{name:[7,5],Hk:!0,r:T},{name:[7,6],Hk:!0,r:T,SW:"Shift+F6"}]},{name:"Grow",r:T},{name:"Similar",r:T,_r:!0},{name:[7,10],r:T,_r:!0},{name:[6,6,1],r:function(j){return{r:j!=null,BF:j!=null&&j.xA()!=null}},SW:[o.hL],_r:!0},{name:["VAR0 VAR1",[1,2],[17,2]],r:T}],MP:[{W:N.E.gp,R:D.qT.ti(!0)},{W:N.E.gp,R:D.qT.ti()},{W:N.E.gp,R:{J5:"inverse"}},{W:N.E.s,R:{P:N.b.xp,Pv:"crange"}},{W:N.E.s,R:{P:N.b.xp,Pv:"magiccut"}},{W:N.E.s,R:{P:N.b.xp,Pv:"redge"}},{sub:[{W:N.E.s,R:{P:N.b.xp,Pv:"sel_border"}},{W:N.E.s,R:{P:N.b.xp,Pv:"sel_smoothness"}},{W:N.E.s,R:{P:N.b.xp,Pv:"sel_expand"}},{W:N.E.s,R:{P:N.b.xp,Pv:"sel_contract"}},{W:N.E.s,R:{P:N.b.xp,Pv:"sel_feather"}}]},{W:N.E.gp,R:{J5:"grow",fV:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{W:N.E.gp,R:{J5:"similar",fV:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{W:N.E.s,R:{P:N.b.v1,G:D.pi}},{W:N.E.L,G:D.ng,R:{P:"qmask"}},{W:N.E.gp,R:{J5:"duplicate",fV:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(g){var t=a.items.length-1;a.items.splice(t-2,0,{name:[6,49],SW:[k,o.h0],_r:!0});a.MP.splice(t-2,0,{W:N.E.gp,R:{J5:"copyToLayer"}});
a.items.splice(t-1,0,{name:[10,16],SW:[d,k,o.Of]});a.MP.splice(t-1,0,{W:N.E.s,R:{P:N.b.v1,G:D.nK}})}return a};
hn.data=function(){var g=dj,o=g.IQ,k=g.d_,y=g.M4,d=function(L){return{r:L!=null&&L.g.length!=0}},b=function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].add.SoLd!=null}},T=function(L){return{r:L!=null}},a=function(L){return{r:L!=null&&L.q0(!1)}},t=[],j=[],e="none maxx avrg medn minn rang stdv summ vari".split(" "),v=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var m=0;m<e.length;m++){t.push({name:v[m],r:function(L,H){if(L==null||L.g.length!=1)return{r:!1};
var w=L.d[L.g[0]].add.SoLd;if(w==null)return{r:!1};return{r:!0,BF:w.Impr.v.classID==this.a1n}}.bind({a1n:e[m]})});
j.push({W:N.E.L,G:D.Jn,R:{P:p.Wd,M$:e[m]}})}return[{name:[0,0],items:[{name:[5,3],SW:[y,o,g.LY],title:[11,7],Hk:!0},{name:[1,0],SW:[o,g.PS],Hk:!0},{name:[1,11],Hk:!0,r:T},{name:["VAR0 VAR1",[1,0],[0,14]],_r:!0,sub:[{name:"Storage",Hk:!0,SW:[y,o,g.PS]},{name:[1,5],Hk:!0},{name:[11,0],Hk:!0},{name:["PSD VAR0",[25,0]],Hk:!0}]},{name:[1,1],_r:!0,r:T,sub:[{name:"PNG",SW:"Imgur.com",r:function(L,H){return{r:L!=null&&H.kN}}},{name:"JPG",SW:"Imgur.com",r:function(L,H){return{r:L!=null&&H.kN}}},{name:"PSD",SW:"Photopea.com",r:function(L,H){return{r:L!=null&&H.kN&&!L.ge}}}]},{name:"Save ...",SW:[o,g.B6],r:function(L,H){var w=d9.get([1,2]),P=!0;
if(L){if(L.xj)w+=" ("+d9.get([6,7,1])+")";if(L.mF)w+=" (Google Drive)";if(L.JL)w+=" ("+Storage.list[L.JL[0]][0]+")";
P="psd jpg png gif webp svg bmp".split(" ").indexOf(L.i7)!=-1}return{r:L!=null&&(L.JL!=null||L.UR!=null&&P||L.xj!=null||L.Fd!=null&&L.Fd.Du!=null||L.mF!=null||H.zJ.save!=null),cn:w}}},{name:[1,3],r:function(L,H){return{r:L!=null&&H.kN}}},{name:["VAR0 VAR1",[1,2],[0,14]],r:T,sub:[{name:"PSD to Storage",r:function(L,H){return{r:L!=null&&H.kN}}},{name:["VAR0 PSD/PSB",[1,2]],Hk:!0,r:function(L,H){return{r:L!=null&&H.kN}}}]},{name:[1,8],r:T,sub:function(){var L=cp.R1(0),H=[];
for(var m=0;m<L.length;m++)H.push({name:L[m],SW:"."+L[m].toLowerCase()});H.push({name:[0,14],sub:function(){var L=cp.R1(1),H=[];
for(var m=0;m<L.length;m++)H.push({name:L[m],SW:"."+L[m].toLowerCase()});return H}()});return H}()},{name:[1,4],Hk:!0,r:T,_r:!0},{name:[1,9],Hk:!0,r:T},{name:"Export Color Lookup",Hk:!0,r:T,_r:!0},{name:[1,14],Hk:!0,r:T,_r:!0},{name:"Automate",sub:[{name:"PDF Presentation",Hk:!0},{name:"Convert Formats",Hk:!0}]},{name:[1,10]}],MP:[{W:N.E.s,R:{P:N.b.xp,Pv:"newproject"}},{W:N.E.s,R:{P:N.b.RL}},{W:N.E.s,R:{P:N.b.RL,afR:!0}},{sub:[{W:N.E.s,R:{P:N.b.xp,Pv:"storwindow",fE:0}},{W:N.E.s,R:{P:N.b.xp,Pv:"open_from_url"}},{W:N.E.s,R:{P:N.b.xp,Pv:"camera"}},{W:N.E.s,R:{P:N.b.xp,Pv:"res0"}}]},{sub:[{W:N.E.s,R:{P:N.b.Ay,dv:"png"}},{W:N.E.s,R:{P:N.b.Ay,dv:"jpg"}},{W:N.E.s,R:{P:N.b.Ay,dv:"psd"}}]},{W:N.E.s,R:{P:N.b.kG}},{W:N.E.s,R:{P:N.b.UY}},{sub:[{W:N.E.s,R:{P:N.b.xp,Pv:"storwindow",fE:1}},{W:N.E.s,R:{P:N.b.xp,Pv:"savepsb"}}]},{sub:function(){var L=cp.R1(0),H=[];
for(var m=0;m<L.length;m++)H.push({W:N.E.s,R:{P:N.b.xp,Pv:"saveforweb",dv:m}});H.push({sub:function(){var w=cp.R1(0).length,L=cp.R1(1),H=[];
for(var m=0;m<L.length;m++)H.push({W:N.E.s,R:{P:N.b.xp,Pv:"saveforweb",dv:w+m}});return H}()});return H}()},{W:N.E.s,R:{P:N.b.xp,Pv:"saveforweb",dv:4,avY:!0}},{W:N.E.s,R:{P:N.b.xp,Pv:"eassets"}},{W:N.E.s,R:{P:N.b.xp,Pv:"exlut"}},{W:N.E.s,R:{P:N.b.xp,Pv:"finfo"}},{sub:[{W:N.E.s,R:{P:N.b.xp,Pv:"pdfpres"}},{W:N.E.s,R:{P:N.b.xp,Pv:"cformat"}}]},{W:N.E.s,R:{P:N.b.xp,Pv:"script"}}]},{name:[0,1],items:[{name:[2,8],r:T},{name:[2,0],r:T,SW:[k,o,g.YT]},{name:[2,1],r:T,SW:[o,g.YT],_r:!0},{name:[2,11],SW:[k,o,g.NN],_r:!0,Hk:!0,r:function(L,H){return{r:iI.avW(L)&&H.nE!=D.nK}}},{name:[5,0],SW:[o,g.yW],r:function(L){return{r:L!=null&&L.qo()}}},{name:[5,1],SW:[o,g.qb],r:T},{name:[5,7],SW:[k,o,g.qb],r:function(L){return{r:L!=null&&L.qo()}}},{name:[5,2],SW:[o,g.dA],r:function(L,H){return{r:Z.$T()||H.gj!=null||H.bT!=null||H.ajV!=null}}},{name:[2,2],r:function(L){return{r:L!=null&&L.J!=null}},SW:"Delete",_r:!0},{name:[2,3],r:T,Hk:!0,SW:[k,g.WQ]},{name:[14,9],r:T,Hk:!0,_r:!0},{name:[10,48],r:a},{name:[10,46],r:function(L){return{r:D.k0.ajL(L)}}},{name:[10,16],r:T,SW:[y,o,g.Of]},{name:[2,4],r:T,sub:b8.a51()},{name:[2,10,1],r:T},{name:[2,10,0],r:T,_r:!0},{name:[12,87],r:T,sub:[{name:[12,62],r:T},{name:[9,3],r:T},{name:[10,31],r:function(L){return{r:L!=null&&L.uM()[1].length!=0}}}]},{name:[1,15],Hk:!0},{name:[12,79],Hk:!0,SW:[o,g.Oz]},{name:[1,13],Hk:!0}],MP:[{W:N.E.L,G:D.C1,R:{P:"h_undoredo"}},{W:N.E.L,G:D.C1,R:{P:"h_stepfwd"}},{W:N.E.L,G:D.C1,R:{P:"h_stepbck"}},{W:N.E.s,R:{P:N.b.xp,Pv:"afw_fade"}},{W:N.E.s,R:{P:N.b.Eg}},{W:N.E.s,R:{P:N.b.cb}},{W:N.E.s,R:{P:N.b.cb,BU:!0}},{W:N.E.s,R:{P:N.b.qP}},{W:N.E.gp,R:{J5:"delete"}},{W:N.E.s,R:{P:N.b.xp,Pv:"fill"}},{W:N.E.s,R:{P:N.b.xp,Pv:"stroke"}},{W:N.E.s,R:{P:N.b.v1,G:D.Lv}},{W:N.E.L,G:D.Gc,R:{P:"start",oj:"rigidTransform"}},{W:N.E.s,R:{P:N.b.v1,G:D.nK}},{sub:b8.a19()},{W:N.E.gp,R:{J5:"align",fV:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{W:N.E.L,G:D.Jn,R:{P:p.vd}},{sub:[{W:N.E.s,R:{P:N.b.mV,Q6:0}},{W:N.E.s,R:{P:N.b.mV,Q6:1}},{W:N.E.s,R:{P:N.b.mV,Q6:2}}]},{W:N.E.s,R:{P:N.b.xp,Pv:"pmanager"}},{W:N.E.s,R:{P:N.b.xp,Pv:"preferences"}},{W:N.E.s,R:{P:N.b.xp,Pv:"locstor"}}]},{name:[0,2],items:[{name:[12,36],r:T,_r:!0,sub:[{name:"RGB",r:function(L){if(L==null)return{r:!1};
return{BF:L.add.fcmy==null,r:!0}}},{name:"CMYK",r:function(L){if(L==null)return{r:!1};return{BF:L.add.fcmy!=null,r:!0}},_r:!0},{name:"Raster",r:function(L){if(L==null)return{r:!1};
return{BF:L.add.fvec==null,r:!0}}},{name:"Vector (Beta)",r:function(L){if(L==null)return{r:!1};return{BF:L.add.fvec!=null,r:!0}}}]},{name:[3],r:T,_r:!0,sub:function(){var L=[];
for(var H in aj.names){L.push({name:aj.names[H],Hk:eJ[H]!=null,SW:aj.keys[H],_r:aj.amj.indexOf(H)!=-1});
if(H=="selc"){L.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Hk:!0,_r:!0});L.push({name:[19,7,0],SW:[o,k,g.Df],r:a});
L.push({name:[4,18],Hk:!0,r:a})}}return L}()},{name:[4,16,0],r:a},{name:[4,16,1],r:a},{name:[4,16,2],r:a,_r:!0},{name:[11,11,1],r:a},{name:[11,11,0],r:a,_r:!0},{name:[11,3],r:T,Hk:!0,SW:[y,o,g.qb]},{name:[11,10],r:T,Hk:!0,SW:[y,o,g.QV]},{name:[2,4],r:T,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],r:function(L){return{r:L!=null&&L.J!=null}}},{name:[11,12,0],r:T,SW:[o,g.mG],Hk:!0},{name:[11,12,2],r:T,_r:!0},{name:[2,12],r:a,Hk:!0,_r:!0},{name:"Variables",r:T,Hk:!0}],MP:[{sub:[{W:N.E.L,G:D.fL,R:{P:"fcmy",Z:0}},{W:N.E.L,G:D.fL,R:{P:"fcmy",Z:1}},{W:N.E.L,G:D.fL,R:{P:"fvec",Z:0}},{W:N.E.L,G:D.fL,R:{P:"fvec",Z:1}}]},{sub:function(){var L=[];
for(var H in aj.names){L.push({W:N.E.L,G:D.p4,R:{P:"start",JX:H}});if(H=="selc"){L.push({W:N.E.L,G:D.Gc,R:{P:"start",oj:"adaptCorrect"}});
L.push({W:N.E.gp,R:{J5:"desaturate"}});L.push({W:N.E.L,G:D.p4,R:{P:"start",JX:"matc"}})}}return L}()},{W:N.E.gp,R:{J5:"levels",fV:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{W:N.E.gp,R:{J5:"levels",fV:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{W:N.E.gp,R:{J5:"levels",fV:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{W:N.E.s,R:{P:N.b.xp,Pv:"rcolors"}},{W:N.E.s,R:{P:N.b.xp,Pv:"vbitmap"}},{W:N.E.s,R:{P:N.b.xp,Pv:"csize"}},{W:N.E.s,R:{P:N.b.xp,Pv:"isize"}},{sub:[{W:N.E.gp,R:D.C8.ql(!0,90)},{W:N.E.gp,R:D.C8.ql(!0,-90)},{W:N.E.gp,R:D.C8.ql(!0,-180)},{W:N.E.gp,R:D.C8.ql(!1,"Hrzn")},{W:N.E.gp,R:D.C8.ql(!1,"Vrtc")}]},{W:N.E.gp,R:{J5:"crop",fV:{__name:"Crop",classID:"Crop"}}},{W:N.E.s,R:{P:N.b.xp,Pv:"trim"}},{W:N.E.gp,R:{J5:"revealAll",fV:{classID:"RvlA"}}},{W:N.E.L,G:D.p4,R:{P:"start",JX:"aply"}},{W:N.E.s,R:{P:N.b.xp,Pv:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],r:T,sub:[{name:[0,3],SW:[k,o,g.LY]},{name:[0,4]},{name:[1,16,0],Hk:!0},{name:[1,16,3],Hk:!0,_r:!0},{name:[6,49,0],SW:[o,g.h0]},{name:[6,49,1],SW:[k,o,g.h0],r:function(L){return{r:L!=null&&L.J!=null&&L.q0(!1)}}}]},{name:[6,0],r:d,SW:[o,g.h0]},{name:[11,4],r:d},{name:[5,4],r:d,_r:!0},{name:[11,6],r:d,_r:!0,sub:jD.tQ(!0)},{name:[6,48,1],r:T,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],r:T,_r:!0,sub:jD.amF()},{name:[6,2],r:T,sub:[{name:[6,4],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()==null}}},{name:[6,5,0],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()==null}}},{name:[6,5,1],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()==null&&L.J!=null}}},{name:[6,5,2],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()==null&&L.J!=null}}},{name:[6,5,3],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()==null}},_r:!0},{name:[5,4],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()!=null}}},{name:[5,8],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()!=null&&L.q0(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].Qp()!=null}}}]},{name:[6,3],r:T,sub:[{name:[6,4],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].add.vmsk==null}}},{name:[6,5,0],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].add.vmsk==null}}},{name:"Current Path",r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].add.vmsk==null}},_r:!0},{name:[5,4],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],r:function(L){return{r:L!=null&&L.g.length!=0&&L.d[L.g[0]].add.vmsk!=null}}}]},dT.aqL(!0),{name:[6,7,1],r:T,_r:!0,sub:[{name:[6,7,0],_r:!0},{name:"Open (Edit Contents)",r:b,Hk:!0},{name:"Replace Contents",r:b,Hk:!0},{name:"Export Contents",r:b,Hk:!0,_r:!0},{name:[6,36,4],r:b,sub:t},{name:"Turn into JPG",r:b}]},{name:[6,8],r:dT.a02},{name:[6,34],_r:!0,r:function(L){if(L==null||L.g.length==0)return{r:!1};
var H=L.d[L.g[0]];return{r:H.add.lmfx!=null&&!H.gT()}}},{name:[6,9],r:T,_r:!0,SW:[o,g.X6]},{name:[6,55],r:T,_r:!0,sub:[{name:[6,56,0],SW:[k,o,g.nL]},{name:[6,56,1],SW:[o,g.nL]},{name:[6,56,2],SW:[o,g.Ai]},{name:[6,56,3],SW:[k,o,g.Ai]}]},{name:[6,58],r:T,_r:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],SW:[o,g.E],r:function(L){var H=L==null?0:L.g.length;
return{r:H!=0&&(H!=1||L.g[0]!=0),cn:d9.get(H>1||H==1&&L.d[L.g[0]].gT()?[6,12,0]:[6,10])}}},{name:[6,12,1],r:T},{name:"Defringe",r:T}],MP:[{sub:[{W:N.E.L,G:D.Jn,R:{P:p.IX}},{W:N.E.L,G:D.Jn,R:{P:p.hX}},{W:N.E.s,R:{P:N.b.xp,Pv:"newartb",fE:0}},{W:N.E.s,R:{P:N.b.xp,Pv:"newartb",fE:1}},{W:N.E.gp,R:{J5:"copyToLayer"}},{W:N.E.gp,R:{J5:"cutToLayer"}}]},{W:N.E.L,G:D.Jn,R:{P:p.jL}},{W:N.E.s,R:{P:N.b.xp,Pv:"duplinto"}},{W:N.E.L,G:D.Jn,R:{P:p.kP}},{sub:jD.uj(!0)},{sub:[{W:N.E.L,G:D.XV,R:{P:"newfill",Wj:0}},{W:N.E.gp,R:D.Y7.t3(1)},{W:N.E.gp,R:D.Y7.t3(2)}]},{sub:jD.Gm()},{sub:[{W:N.E.L,G:D.Jn,R:{P:p.vL,fE:"RvlA"}},{W:N.E.L,G:D.Jn,R:{P:p.vL,fE:"HdAl"}},{W:N.E.L,G:D.Jn,R:{P:p.vL,fE:"RvlS"}},{W:N.E.L,G:D.Jn,R:{P:p.vL,fE:"HdSl"}},{W:N.E.L,G:D.Jn,R:{P:p.vL,fE:"Trns"}},{W:N.E.L,G:D.Jn,R:{P:p.K7}},{W:N.E.L,G:D.Jn,R:{P:p.le}},{W:N.E.L,G:D.Jn,R:{P:p.Dy}}]},{sub:[{W:N.E.L,G:D.Jn,R:{P:p.sk,aie:!1}},{W:N.E.L,G:D.Jn,R:{P:p.sk,aie:!0}},{W:N.E.L,G:D.Jn,R:{P:p.sk,agb:!0}},{W:N.E.L,G:D.Jn,R:{P:p.vc}},{W:N.E.L,G:D.Jn,R:{P:p.AW}}]},{W:N.E.L,G:D.Jn,R:{P:p.Uq}},{sub:[{W:N.E.gp,R:{J5:"newPlacedLayer"}},{W:N.E.gp,R:{J5:"placedLayerEditContents",fV:{classID:"placedLayerEditContents"}}},{W:N.E.gp,R:{J5:"placedLayerReplaceContents",fV:{classID:"placedLayerReplaceContents"}}},{W:N.E.gp,R:{J5:"placedLayerExportContents",fV:{classID:"placedLayerExportContents"}}},{sub:j},{W:N.E.L,G:D.Jn,R:{P:p.a8J}}]},{W:N.E.gp,R:{J5:"rasterizeLayer",fV:{classID:"rasterizeLayer",null:c_.lF("Lyr",!0)}}},{W:N.E.L,G:D.Jn,R:{P:p.zh}},{W:N.E.L,G:D.Jn,R:{P:p.Pw}},{sub:[{W:N.E.L,G:D.Jn,R:{P:p.m7,cL:0}},{W:N.E.L,G:D.Jn,R:{P:p.m7,cL:1}},{W:N.E.L,G:D.Jn,R:{P:p.m7,cL:2}},{W:N.E.L,G:D.Jn,R:{P:p.m7,cL:3}}]},{sub:[{W:N.E.L,G:D.Jn,R:{P:p.Ne,cL:"makeframes"}},{W:N.E.L,G:D.Jn,R:{P:p.Ne,cL:"unmakeframes"}},{W:N.E.L,G:D.Jn,R:{P:p.Ne,cL:"merge"}}]},{W:N.E.gp,R:{J5:"mergeLayersNew",fV:{__name:"Merge Layers",classID:"Mrg2"}}},{W:N.E.gp,R:{J5:"flattenImage"}},{W:N.E.L,G:D.Gc,R:{P:"start",oj:"defr"}}]},hn.akl(!1),function(){var L={name:[0,6],items:[{name:[24,18,4],SW:[y,o,g.NN],r:T,_r:!0}],MP:[{W:N.E.L,G:D.Gc,R:{P:"applylast"}}]};
for(var m=0;m<jf.kF.length;m++){var H=jf.kF[m];if(H.si!=null){L.items.push({name:jf.names[H.si],Hk:!0,_r:H._r,r:T});
L.MP.push({W:N.E.L,G:D.Gc,R:{P:"start",oj:H.si}});continue}var w={name:H.IE,sub:[],r:T};L.items.push(w);
var P={sub:[]};L.MP.push(P);for(var Q=0;Q<H.Ki.length;Q++){var x={name:jf.names[H.Ki[Q]],Hk:jf.J0(H.Ki[Q])!=null};
w.sub.push(x);var F={W:N.E.L,G:D.Gc,R:{P:"start",oj:H.Ki[Q]}};P.sub.push(F)}}return L}(),{name:[0,7],items:[{name:[8,0],r:T,SW:[o,g.dk]},{name:[8,1],r:T,SW:[o,g.Mt]},{name:[20,3],r:T,SW:[o,g.EJ]},{name:[20,2],r:T,SW:[o,g.Xs]},{name:"Pattern Preview",r:function(L,H){return{r:L!=null,BF:L!=null&&L.CG}},_r:!0},{name:"Screen Mode",_r:!0,sub:[{name:"Fullscreen",r:function(L,H){return{BF:document.fullscreenElement!=null}},_r:!0},{name:"Standard",r:function(L,H){return{BF:H.mU==0}}},{name:"Menu Bar and Canvas",r:function(L,H){return{BF:H.mU==1}}}]},{name:[8,13],SW:[o,g.c2],r:function(L,H){return{BF:H.a5}}},{name:[8,12],_r:!0,sub:[{name:[17,2],r:function(L,H){return{r:H.a5,BF:H.Nn.VS}}},{name:[8,9],r:function(L,H){return{r:H.a5,BF:H.Nn.p8}}},{name:[8,2],r:function(L,H){return{r:H.a5,BF:H.Nn.HR}},SW:[o,g.Rc]},{name:[8,4],r:function(L,H){return{r:H.a5,BF:H.Nn.l5}},SW:[o,g.ej]},{name:[8,8],r:function(L,H){return{r:H.a5,BF:H.Nn.fe}}},{name:[8,11,0],r:function(L,H){return{r:H.a5,BF:H.Nn.mZ}}}]},{name:[8,3],r:function(L,H){return{BF:H.NV}},SW:[o,g.PD],_r:!0},{name:[8,5],r:function(L,H){return{BF:H.$Y}}},{name:[8,6],_r:!0,sub:[{name:[8,2],r:function(L,H){return{BF:H.N$[0]}}},{name:[8,4],r:function(L,H){return{BF:H.N$[1]}}},{name:[9,1],r:function(L,H){return{BF:H.N$[2]}}},{name:[8,11,0],r:function(L,H){return{BF:H.N$[3]}}},{name:[8,7],r:function(L,H){return{BF:H.N$[4]}}}]},{name:[11,15,2],r:function(L,H){return{r:L!=null,BF:L!=null&&L.hr}}},{name:[11,15,0],r:T},{name:[11,14],r:T,Hk:!0},{name:[11,15,1],r:function(L,H){return{r:L!=null&&L.g.length!=0}},_r:!0},{name:[8,11,2],r:function(L,H){return{r:L!=null&&L.mZ.length!=0}}}],MP:[{W:N.E.L,G:D.aC,R:{P:"zoom",ZS:!0}},{W:N.E.L,G:D.aC,R:{P:"zoom",ZS:!1}},{W:N.E.L,G:D.aC,R:{P:"adapt",Z:"fitscr"}},{W:N.E.L,G:D.aC,R:{P:"adapt",Z:"pixel"}},{W:N.E.L,G:D.fL,R:{P:"pview"}},{sub:[{W:N.E.s,R:{P:N.b.xE,TR:!0}},{W:N.E.s,R:{P:N.b.xE,Z:0}},{W:N.E.s,R:{P:N.b.xE,Z:1}},{W:N.E.s,R:{P:N.b.xE,Z:2}}]},{W:N.E.s,R:{P:N.b.pB,Q6:er.fg}},{sub:[{W:N.E.s,R:{P:N.b.pB,Q6:er.zO}},{W:N.E.s,R:{P:N.b.pB,Q6:er.VA}},{W:N.E.s,R:{P:N.b.pB,Q6:er.jE}},{W:N.E.s,R:{P:N.b.pB,Q6:er.q1}},{W:N.E.s,R:{P:N.b.pB,Q6:er.tS}},{W:N.E.s,R:{P:N.b.pB,Q6:er.FS}}]},{W:N.E.s,R:{P:N.b.pB,Q6:er.$j}},{W:N.E.s,R:{P:N.b.pB,Q6:er.arp}},{sub:[{W:N.E.s,R:{P:N.b.pB,Q6:er.WT,dQ:0}},{W:N.E.s,R:{P:N.b.pB,Q6:er.WT,dQ:1}},{W:N.E.s,R:{P:N.b.pB,Q6:er.WT,dQ:2}},{W:N.E.s,R:{P:N.b.pB,Q6:er.WT,dQ:3}},{W:N.E.s,R:{P:N.b.pB,Q6:er.WT,dQ:4}}]},{W:N.E.L,G:D.fL,R:{P:"lockguides"}},{W:N.E.L,G:D.fL,R:{P:"gids",hB:[[],[]]}},{W:N.E.s,R:{P:N.b.xp,Pv:"addguides"}},{W:N.E.L,G:D.fL,R:{P:"gidsFromLayer"}},{W:N.E.L,G:D.UO,R:{P:"deleteAll"}}]},function(){var L={name:[0,8],items:[{name:[0,14],_r:!0,sub:[]},{name:"Plugins",_r:!0}],MP:[{sub:[]},{W:N.E.s,R:{P:N.b.xp,Pv:"res1"}}]};
for(var m=0;m<bz.Sr.length;m++){var H=bz.Sr[m],w=function(){var P=H.w9.s1;return function(Q,x){return{BF:x.C3.indexOf(parseInt(P))!=-1}}}();
(H.Xl?L.items[0].sub:L.items).push({name:H.w9.name,r:w});(H.Xl?L.MP[0].sub:L.MP).push({W:N.E.s,R:{P:N.b.jz,Pv:H.w9.s1}})}return L}(),function(){var L={name:[0,14],items:[],MP:[]},H={name:[0,9],sub:[]};
L.items.push(H);var w={sub:[]};L.MP.push(w);var P=d9.a8x();for(var m=0;m<P.length;m++){var Q=P[m],x=Q.code,F=d9.axj(x);
H.sub.push({name:Q.name,SW:x,r:function(E,f){return{BF:this.SW==d9.fX()}}});w.sub.push({W:N.E.s,R:{P:N.b.pB,Q6:er.Xg,lang:F}})}H.sub.push({name:[0,12]});
w.sub.push({W:N.E.s,R:{P:N.b.af,link:"https://www.photopea.com/translate/"}});var H={name:[0,15],sub:[]};
L.items.push(H);var w={sub:[]};L.MP.push(w);for(var m=0;m<cN.OE.length;m++){H.sub.push({name:cN.OE[m].name,r:function(E,f){return{BF:this.name==cN.OE[f.bj].name}}});
w.sub.push({W:N.E.s,R:{P:N.b.pB,Q6:er.EV,bj:m}})}L.items.push({name:[0,17,6],r:function(E,f){return{r:f.Bh!=null}}});
L.MP.push({W:N.E.s,R:{P:N.b.aaJ}});L.items.push({name:[11,13]});L.MP.push({W:N.E.s,R:{P:N.b.xp,Pv:"shortcuts"}});
L.items.push({name:[0,16],r:function(E){return{BF:gl.yu,r:gl.lb}},_r:!0});L.MP.push({W:N.E.s,R:{P:N.b.an1}});
L.items.push({name:"",r:function(E,f){return f.wH?{cn:"About Photopea",r:!0}:{cn:"",r:!1}}});L.MP.push({W:N.E.s,R:{P:N.b.xp,Pv:"aboutpp"}});
return L}()]}();function dB(){fR.call(this);this.e=Z.t("div","");this.Xk=0;this.lZ=0;this.eM=null;this.Lr=Z.t("div","");
this.Lr.setAttribute("style","width:200em; height:100em; position:absolute;");this.L2=[];this.mq=[];
this.sx={}}dB.prototype=new fR;dB.prototype.ag=function(g){var o=Date.now(),k=[];if(g=="-")k=[new e1,new br,new gW("pdfpres"),new gW("cformat"),new fM,new dL,new jg,new fz,new ja,new i3,new gN,new du,new eC,new ev,new bm,new cE,new bF,new jD,new jj,new am,new cb,new ht,new bp,new bM,new aA,new bC,new gP,new aU,new i7(!1),new i7(!0),new a2(0),new a2(1),new ah,new kn,new km,new eD,new h5,new jv,new cu(0),new cu(1),new cu(2),new cu(3),new cu(4),new cu(5),new cu(6),new cu(7),new cu(8),new dp,new c6,new ij,new gS,new jA,new gd,new ku,new fU("border",[7,9],"px"),new fU("smoothness",[19,3,0],"px"),new fU("expand",[7,4],"px"),new fU("contract",[7,5],"px"),new fU("feather",[7,6],"px"),new fq(0,"namewindow",[12,48]),new fq(2,"billto","Bill To"),new fq(1,"cornerradius",[12,94,0],"px",!0,!0),new fq(1,"scaleeffects","Scale Effects","%",!0),new fq(1,"doczoom","Zoom","%",!0),new fq(1,"setFPS","Set FPS","fps",!1)];
else k=[new iI(g.slice(4))];this.a2$(k);this.sx[g]=!0};dB.prototype.a2$=function(g){var o=this.eM;for(var m=0;
m<g.length;m++){var k=g[m];k.parent=this;this.mq.push(k);this.SF(k);k.f();if(o)k.mt(o,er.a_);k.h(N.E.Hn,this.CJ,this);
Z.eu(k)}};dB.prototype.UC=function(g,o){this.Xk=g;this.lZ=o;for(var m=0;m<this.mq.length;m++)this.SF(this.mq[m])};
dB.prototype.f=function(){for(var m=0;m<this.mq.length;m++)this.mq[m].f()};dB.prototype.Cw=function(){return this.L2.length==0?null:this.L2[this.L2.length-1]};
dB.prototype.tt=function(){for(var m=0;m<this.L2.length;m++)if(this.L2[m].tt())return!0;return!1};dB.prototype.amQ=function(g,o,k,y,d){var b=g.startsWith("afw_"),T=null;
if(!b&&!this.sx["-"])this.ag("-");if(b&&!this.sx[g])this.ag(g);if(typeof g=="object"){T=g;if(!T.aip(N.E.Hn,this.CJ))T.h(N.E.Hn,this.CJ,this);
T.parent=this}else for(var m=0;m<this.mq.length;m++)if(this.mq[m].id==g)T=this.mq[m];if(this.tt()&&T.tt()){alert("Finish the current action first");
return}if(!T.FD(o))return;if(this.L2.indexOf(T)!=-1){if(g=="colorpicker")T.I_(o,k,y,d);return}var a=this.L2.length-1;
if(a>=0)Z.O9(this.L2[a].e,"wdisabled");this.e.appendChild(T.e);this.L2.push(T);this.SF(T);Z.iH(T);T.I_(o,k,y,d)};
dB.prototype.SF=function(g){var o=this.Xk,k=this.lZ,y=g.fM(o,k),d;if(y!=null){d=y}else{y=new bJ(0,0);
d=g.aya();if(d==null){var b=this.L2.indexOf(g)+1;if(o<450||k<450)d=new bJ(0,0);else d=new bJ(b*150,b*150)}}g.e.style.left=d.x+"px";
g.e.style.top=this.e.offsetTop+d.y+"px";g.UC(this.Xk-y.x*2,this.lZ-y.y*2-34)};dB.prototype.mt=function(g,o){this.eM=g;
for(var m=0;m<this.mq.length;m++)this.mq[m].mt(g,o)};dB.prototype.CJ=function(g){var o=this.L2.pop();
Z.eu(o,this.e);var k=this.L2.length-1;if(k>=0)Z.Iu(this.L2[k].e,"wdisabled");if(this.Lr.parentNode==this.e)this.e.removeChild(this.Lr)};
window.onload=function(){document.body.appendChild(new iJ().e)}}())